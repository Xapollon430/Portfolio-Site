(window.webpackJsonp=window.webpackJsonp||[]).push([[192,5,6,10,16,20,165,166,180,186,230,234,235,236],{5352:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=D(n(12)),l=D(n(22)),u=D(n(5983)),s=D(n(5981)),d=D(n(6103)),f=D(n(6011)),c=D(n(6243)),p=D(n(6244)),h=D(n(6245)),y=D(n(6251)),m=D(n(6252)),v=D(n(6155)),_=D(n(6253)),E=D(n(6254)),g=D(n(6255)),S=D(n(6256)),T=D(n(6258)),I=D(n(6259)),C=D(n(6297)),N=D(n(6298)),A=D(n(6299)),O=D(n(6300)),b=D(n(6301)),M=D(n(6302)),R=D(n(6303)),P=D(n(6306)),L=D(n(6307)),w=n(0);function D(e){return e&&e.__esModule?e:{default:e}}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderAdminGroup=function(){var e=this.props,t=e.user,n=e.guildId,r=e.channelId;return null!=n&&null!=r?o(h.default,{user:t,guildId:n,channelId:r}):null},t.prototype.renderRolesGroup=function(){var e=this.props,t=e.user,n=e.guildId,r=e.invertChildY;return null!=n?o(O.default,{userId:t.id,guildId:n,invertChildY:r}):null},t.prototype.renderCloseChatItem=function(){var e=this.props,t=e.channelId,n=e.selected;return null!=t?o(_.default,{selected:n,channelId:t}):null},t.prototype.renderChangeNicknameItem=function(){var e=this.props,t=e.user,n=e.guildId;return null!=n?o(v.default,{userId:t.id,guildId:n}):null},t.prototype.renderMoveToItem=function(){var e=this.props,t=e.user,n=e.guildId,r=e.invertChildY;return null!=n?o(c.default,{user:t,guildId:n,invertChildY:r}):null},t.prototype.renderMenu=function(){if(this.props.user.isNonUserBot())return null;var e=this.props,t=e.user,n=e.type,r=e.guildId,i=e.channelId,u=e.target,c=e.mediaEngineContext;switch(n){case w.ContextMenuTypes.USER_CHANNEL_MEMBERS:case w.ContextMenuTypes.USER_CHANNEL_VOICE:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(S.default,{user:t,guildId:r}),o(T.default,{userId:t.id}),o(m.default,{userId:t.id}),o(I.default,{user:t,guildId:r,channelId:i,target:u,position:n===w.ContextMenuTypes.USER_CHANNEL_MEMBERS?I.default.LEFT:I.default.RIGHT}),o(b.default,{userId:t.id})),o(L.default,{userId:t.id}),o(s.default,{},void 0,o(g.default,{userId:t.id,mediaEngineContext:c}),null!=r?o(v.default,{userId:t.id,guildId:r}):null,o(E.default,{user:t,guildId:r}),o(M.default,{user:t}),o(p.default,{user:t}),o(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_CHANNEL_MESSAGE:case w.ContextMenuTypes.USER_CHANNEL_MENTION:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(S.default,{user:t,guildId:r}),o(T.default,{userId:t.id}),o(m.default,{userId:t.id}),o(I.default,{user:t,guildId:r,channelId:i,target:u})),o(s.default,{},void 0,this.renderChangeNicknameItem(),o(E.default,{user:t,guildId:r}),o(M.default,{user:t}),o(p.default,{user:t}),o(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_PRIVATE_CHANNELS:var h=l.default.getChannel(i);return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(m.default,{userId:t.id}),o(I.default,{user:t,guildId:r,channelId:i,target:u}),this.renderCloseChatItem(),o(b.default,{userId:t.id})),o(s.default,{},void 0,o(E.default,{user:t,guildId:r}),o(M.default,{user:t}),o(p.default,{user:t}),o(y.default,{user:t}),null!=h?o(d.default,{channel:h}):null),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_GROUP_DM:case w.ContextMenuTypes.USER_CALL_AVATAR:var _=void 0,O=void 0;null!=i&&(_=o(A.default,{userId:t.id,channelId:i}),O=o(s.default,{},void 0,o(N.default,{userId:t.id,channelId:i})));var D=l.default.getChannel(i);return D&&D.isManaged()&&(_=null,O=null),o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(S.default,{user:t}),o(T.default,{userId:t.id}),_,o(I.default,{user:t,channelId:i,target:u}),o(b.default,{userId:t.id})),o(L.default,{userId:t.id}),O,o(s.default,{},void 0,o(g.default,{userId:t.id,mediaEngineContext:c}),null!=i?o(P.default,{userId:t.id,channelId:i,guildId:r}):null,o(E.default,{user:t,guildId:r}),o(M.default,{user:t}),o(p.default,{user:t}),o(y.default,{user:t})),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_FRIEND_LIST:case w.ContextMenuTypes.USER_PROFILE_MUTUAL:case w.ContextMenuTypes.USER_GENERIC_LIST:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(T.default,{userId:t.id}),o(m.default,{userId:t.id}),o(I.default,{user:t,guildId:r,channelId:i,target:u}),o(b.default,{userId:t.id})),o(s.default,{},void 0,o(E.default,{user:t,guildId:r}),o(M.default,{user:t}),o(p.default,{user:t}),o(y.default,{user:t})),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_CHANNEL_TITLE:case w.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(m.default,{userId:t.id}),o(I.default,{user:t,guildId:r,channelId:i,target:u}),o(b.default,{userId:t.id}),this.renderCloseChatItem()),o(s.default,{},void 0,o(E.default,{user:t,guildId:r}),o(M.default,{user:t}),o(p.default,{user:t}),o(y.default,{user:t})),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_GUILD_MEMBERS:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(g.default,{userId:t.id,mediaEngineContext:c}),this.renderChangeNicknameItem()),this.renderAdminGroup(),this.renderRolesGroup(),null!=r?o(s.default,{},void 0,o(R.default,{user:t,guildId:r})):null,o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_AUDIT_LOG:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(T.default,{userId:t.id})),this.renderRolesGroup(),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_BANS:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(C.default,{userId:t.id,guildId:r}),o(T.default,{userId:t.id})),o(f.default,{id:t.id}));case w.ContextMenuTypes.USER_ACTIVITY_FEED:return o(a.Fragment,{},void 0,o(s.default,{},void 0,o(M.default,{user:t})));default:console.warn("Error - no such ctx menu type")}return null},t.prototype.render=function(){var e=this.props,t=e.analyticsContext,n=e.className,r=e.style;if(i.default.isGuest())return null;var a=this.renderMenu();return null!=a?o(u.default,{context:t,object:w.AnalyticsObjects.CONTEXT_MENU},void 0,o("div",{className:n,style:r},void 0,a)):null},t}(a.PureComponent);U.defaultProps={selected:!1},U.displayName="UserContextMenu",t.default=U,e.exports=t.default},5353:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=W(n(2)),l=Y(n(17)),u=Y(n(4)),s=Y(n(182)),d=Y(n(861)),f=Y(n(6031)),c=Y(n(5354)),p=Y(n(12)),h=Y(n(43)),y=Y(n(232)),m=Y(n(72)),v=Y(n(28)),_=Y(n(132)),E=Y(n(91)),g=Y(n(35)),S=Y(n(15)),T=Y(n(5979)),I=Y(n(221)),C=Y(n(152)),N=Y(n(6055)),A=Y(n(6082)),O=n(224),b=Y(n(18)),M=W(n(82)),R=Y(n(458)),P=n(331),L=n(325),w=n(180),D=Y(n(6156)),U=Y(n(5983)),k=Y(n(6026)),G=Y(n(6157)),x=Y(n(6261)),F=Y(n(6136)),j=n(0),B=Y(n(13)),H=Y(n(5351)),V=Y(n(5412));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q=[n(6290),n(6291),n(6292),n(6293),n(6294),n(6295),n(6296)],X=function(e){function t(){var n,r;K(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=z(this,e.call.apply(e,[this].concat(a))),r.state={show:!1},z(r,n)}return $(t,e),t.prototype.componentDidMount=function(){this.setState({show:!0})},t.prototype.getWumpusImage=function(){var e=this.props.userId;if("string"!=typeof e)return q[0];var t=parseInt(e.slice(-6),10);return q[t%q.length]},t.prototype.render=function(){var e;return a("div",{className:V.default.wumpusWrapper},void 0,a("div",{className:(0,l.default)(V.default.wumpus,(e={},e[V.default.wumpusShown]=this.state.show,e))},void 0,a("img",{alt:B.default.Messages.IMG_ALT_ICON.format({name:B.default.Messages.WUMPUS}),src:this.getWumpusImage()}),a("span",{className:V.default.wumpusTooltip},void 0,B.default.Messages.USER_POPOUT_WUMPUS_TOOLTIP)))},t}(i.PureComponent);X.displayName="BouncyWumpus";var Q=function(e){function t(){var n,r;K(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=z(this,e.call.apply(e,[this].concat(a))),r.close=function(){var e=r.props.onClose;e&&e()},r.handleOpenProfile=function(){d.default.open(r.props.user.id,r.props.guildId),r.close()},z(r,n)}return $(t,e),t.prototype.componentDidMount=function(){var e=this;this.fetchApplication().then(function(){return e.trackOpenPopout()})},t.prototype.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},t.prototype.fetchApplication=function(){var e=this.props.activity;return null!=e&&null!=e.application_id&&null==h.default.getGame(e.application_id)?s.default.fetchApplication(e.application_id):Promise.resolve()},t.prototype.trackOpenPopout=function(){var e=void 0,t=void 0,n=void 0,r=this.props,a=r.activity,i=r.user,l=r.status,u=r.showMobileIndicator,s=r.analyticsParams;null!=a&&(e=a.party,t=a.assets,n=null!=a.application_id?h.default.getGame(a.application_id):null);var d=l;l===j.StatusTypes.ONLINE&&(d=u?j.AnalyticsUserStatusTypes.ONLINE_MOBILE:j.AnalyticsUserStatusTypes.ONLINE_DESKTOP),b.default.track(j.AnalyticEvents.OPEN_POPOUT,o({type:"Profile Popout",other_user_id:i.id,application_id:null!=a?a.application_id:void 0,sku_id:null!=n?n.primarySkuId:null,is_friend:E.default.isFriend(i.id),has_images:!(null==t||!t.large_image&&!t.small_image),party_max:null!=e&&null!=e.size?e.size[1]:void 0,party_id:null!=e?e.id:void 0,party_platform:null!=e&&(0,P.isSpotifyParty)(e.id)?j.PlatformTypes.SPOTIFY:null,game_platform:(0,O.getGamePlatform)(a),game_name:null!=a?a.name:null,profile_user_status:d},s))},t.prototype.getMode=function(){var e=this.props.activity;return null==e?"Normal":(0,O.isStreaming)(e)?"Streaming":(0,O.isOnXbox)(e)?"Xbox":(0,O.isListeningOnSpotify)(e)?"Spotify":"Playing"},t.prototype.getStatusMode=function(){var e=this.props,t=e.activity,n=e.status;return(0,O.isStreaming)(t)?"Streaming":(0,L.upperCaseFirstChar)(n)},t.prototype.getNonUserBotMode=function(){var e=this.props.disableUserProfileLink;return this.props.user.isNonUserBot()||e?"NonUserBot":"Normal"},t.prototype.renderHeaderName=function(e){var t,n,r,o=this.props,i=o.nickname,u=o.showMobileIndicator;return null==i?null:a("div",{className:(0,l.default)(V.default.headerNameWrapper,(t={},t[V.default.nameWithMobileIndicator]=u,t))},void 0,a("span",{className:(0,l.default)(V.default.headerName,(n={},n[V.default.headerNameWithMobileIndicator]=u,n))},void 0,i),u?a(N.default,{className:(0,l.default)(V.default.mobileIndicator,(r={},r[V.default.mobileIndicatorPrimary]="Normal"===e,r[V.default.mobileIndicatorWhite]="Normal"!==e,r))}):null)},t.prototype.renderHeader=function(){var e,t,n=this.props,r=n.user,o=n.nickname,i=n.status,u=n.theme,s=n.disableUserProfileLink,d=n.isGuest,f=n.showMobileIndicator,c=M.hasAnimatedAvatar(r)?r.getAvatarURL("gif"):r.getAvatarURL(),p=r.isNonUserBot(),h=this.getMode(),y=this.getNonUserBotMode(),m=a(T.default,{src:c,size:T.default.Sizes.POPOUT,status:i,statusClassName:V.default.avatarStatus});return a("div",{className:(0,w.getClass)(V.default,"header",h)},void 0,a(C.default,{align:C.default.Align.CENTER,justify:C.default.Justify.CENTER,direction:C.default.Direction.VERTICAL,className:V.default.headerTop},void 0,d?m:a(I.default,{className:(0,w.getClass)(V.default,"avatarWrapper",y),onClick:p||s?null:this.handleOpenProfile},void 0,m,a(C.default,{align:C.default.Align.CENTER,justify:C.default.Justify.CENTER,className:V.default.avatarHint},void 0,a("div",{className:V.default.avatarHintInner},void 0,B.default.Messages.VIEW_PROFILE))),a("div",{className:V.default.headerText},void 0,this.renderHeaderName(h),a(k.default,{user:r,invertBotTagColor:u!==j.ThemeTypes.LIGHT||"Normal"!==h,hideDiscriminator:p,className:(0,l.default)((e={},e[V.default.headerTagNoNickname]=null==o,e[V.default.headerTagWithNickname]=null!=o,e[V.default.nameWithMobileIndicator]=null==o&&f,e)),usernameClass:null==o?V.default.headerTagUsernameNoNickname:null,botClass:null==o?V.default.headerBotTag:V.default.headerBotTagWithNickname,showMobileIndicator:f&&null==o,mobileIndicatorClassName:(0,l.default)(V.default.mobileIndicator,(t={},t[V.default.mobileIndicatorPrimary]="Normal"===h,t[V.default.mobileIndicatorWhite]="Normal"!==h,t))}))),this.renderActivity())},t.prototype.renderActivity=function(){var e=this.props,t=e.activity,n=e.user,r=e.guildId,o=e.channelId;return null==t?null:a(F.default,{type:F.default.Types.USER_POPOUT,activity:t,className:V.default.activity,user:n,guildId:r,channelId:o,source:j.AnalyticsLocations.PROFILE_POPOUT,onOpenGameProfile:this.close,onOpenConnections:this.close},"activity")},t.prototype.renderRoles=function(){var e=this.props,t=e.guild,n=e.user,r=e.guildMember,o=e.popoutKey;return null==t||null==r?null:[a("div",{className:V.default.bodyTitle},"title",B.default.Messages.ROLES_LIST.format({numRoles:r.roles.length})),a(D.default,{className:(0,l.default)(V.default.rolesList,V.default.endBodySection),guild:t,user:n,userRoles:r.roles,popoutKey:o},"roles")]},t.prototype.renderNote=function(){var e=this.props,t=e.user,n=e.setNote;return[a("div",{className:V.default.bodyTitle},"title",B.default.Messages.NOTE),a(G.default,{className:V.default.note,userId:t.id,autoFocus:n},"note")]},t.prototype.renderBody=function(){return this.props.user.isNonUserBot()?null:a("div",{className:V.default.body},void 0,this.renderRoles(),this.renderNote())},t.prototype.renderProtip=function(e){var t;return a(A.default,{type:A.default.Types.INLINE,className:(0,l.default)(V.default.protip,(t={},t[H.default.marginTop8]=e,t))},void 0,B.default.Messages.CONTEXT_MENU_HINT)},t.prototype.renderFooter=function(){var e=this.props,t=e.user,n=e.setNote,r=e.isMe,o=e.isLurking;if(t.isNonUserBot())return null;var i=!r&&!o&&(E.default.isFriend(t.id)||null!=m.default.memberOf(t.id).find(function(e){return!g.default.isGuildRestricted(e)})),l=i&&Date.now()-t.createdAt<6048e5;return __OVERLAY__&&!i?null:a("div",{className:V.default.footer},void 0,l?a(X,{userId:t.id}):null,i?a(x.default,{className:V.default.quickMessage,user:t,autoFocus:!n,onClose:this.close}):null,l||__OVERLAY__?null:this.renderProtip(i))},t.prototype.render=function(){return a(U.default,{section:j.AnalyticsSections.PROFILE_POPOUT},void 0,a("div",{className:V.default.userPopout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(i.PureComponent);Q.defaultProps={disableUserProfileLink:__OVERLAY__,analyticsParams:{}},Q.displayName="UserPopout",t.default=u.default.connectStores([v.default,m.default,_.default,g.default,S.default,y.default,p.default,c.default],function(e){var t=e.user,n=e.guildId,r=e.channelId;return{user:t=S.default.getUser(t.id)||t,guild:null!=n?v.default.getGuild(n):null,nickname:R.default.getNickname(n,r,t),guildMember:null!=n?m.default.getMember(n,t.id):null,activity:_.default.getPrimaryActivity(t.id),status:t.isNonUserBot()?null:_.default.getStatus(t.id),isMe:S.default.getCurrentUser()===t,theme:g.default.theme,showMobileIndicator:_.default.isMobileOnline(t.id),isLurking:null!=n&&y.default.isLurking(n),isGuest:p.default.isGuest(),isApplicationStreaming:null!=c.default.getStreamForUser(t.id)}})((0,f.default)(function(e){var t,n=e.guildId,r=e.user;return(t={})[n]=[r.id],t})(Q)),e.exports=t.default},5354:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6052)),i=u(n(841)),l=u(n(134));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=null,d=!1,f={},c={};function p(e){f[e.ownerId]=e}function h(e){var t=e.streamKey,n=e.region,r=e.viewerIds,o=a.decodeStreamKey(t);d=!1,s=o,c[t]={streamKey:t,region:n,viewerIds:r}}function y(e){var t=e.streamKey,n=e.unavailable;d=n,delete c[t],d||(s=null)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([i.default],function(){return!0})},t.prototype.getActiveStream=function(){return s},t.prototype.getIsReconnecting=function(){return d},t.prototype.getStreamForUser=function(e){return f[e]},t.prototype.getStreamsForChannel=function(e){return l.default.getVoiceStatesForChannel(e.guild_id,e.id).map(function(e){return f[e.userId]}).filter(function(e){return null!=e})},t.prototype.getRTCStream=function(e){return c[e]},t.prototype.getAllApplicationStreams=function(){return Object.keys(f).map(function(e){return f[e]})},t.prototype.getViewerIds=function(e){var t=c[e];return null!=t?t.viewerIds:[]},t.prototype.getState=function(){return{streamsByUser:f,rtcStreams:c}},t}(r.default.Store);t.default=new m(o.default,{OVERLAY_INITIALIZE:function(e){e.streams.forEach(p)},VOICE_STATE_UPDATE:function(e){var t=e.userId,n=e.guildId,r=e.channelId;e.selfStream&&null!=r?p({ownerId:t,guildId:n,channelId:r}):function(e){delete f[e]}(t)},STREAM_CREATE:h,STREAM_UPDATE:h,STREAM_DELETE:y,STREAM_STOP:y}),e.exports=t.default},5356:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i={};function l(e){i=e.notes||{}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getNotes=function(){return i},t.prototype.getNote=function(e){return i[e]||""},t}(r.default.Store);t.default=new u(o.default,{CONNECTION_OPEN:l,OVERLAY_INITIALIZE:l,USER_NOTE_UPDATE:function(e){i[e.id]=e.note}}),e.exports=t.default},5357:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(4)),a=n(81),i=u(n(1)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={},d={},f=12e4;function c(e,t,n){var r=n.applicationId,o=s[r]||{};if(o[t]=e,s[r]=o,!__OVERLAY__&&e===l.ActivityActionStates.FAILED){null!=d[r]&&d[r].stop();var u=new a.Timeout;u.start(f,function(){return i.default.dispatch({type:l.ActionTypes.ACTIVITY_LAUNCH_FAIL,applicationId:r,activityType:t})}),d[r]=u}}var p=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(e,t){var n=s[e];return n&&n[t]},t.prototype.getStates=function(){return s},t}(o.default.Store))(i.default,{OVERLAY_INITIALIZE:function(e){var t=e.activityLauncherStates;s=r({},t)},ACTIVITY_JOIN_LOADING:function(e){return c(l.ActivityActionStates.LOADING,l.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN_FAILED:function(e){return c(l.ActivityActionStates.FAILED,l.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN:function(e){return c(l.ActivityActionStates.COMPLETE,l.ActivityActionTypes.JOIN,e)},ACTIVITY_SPECTATE_LOADING:function(e){return c(l.ActivityActionStates.LOADING,l.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE_FAILED:function(e){return c(l.ActivityActionStates.FAILED,l.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE:function(e){return c(l.ActivityActionStates.COMPLETE,l.ActivityActionTypes.SPECTATE,e)},ACTIVITY_LAUNCH_FAIL:function(e){var t=e.applicationId,n=e.activityType,r=s[t];if(null==r||r[n]!==l.ActivityActionStates.FAILED)return!1;delete r[n]}});t.default=p,e.exports=t.default},5358:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(6)),a=f(n(4)),i=f(n(1)),l=f(n(12)),u=f(n(91)),s=f(n(323)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c={},p={};function h(e,t){return(c[e]||{})[t]||null}function y(e,t){var n=h(e,t);if(null!=n){var r=c[e];delete r[t],0===Object.keys(r)&&delete c[e];var o=p[n];null!=o&&(o.delete(e),0===o.size&&delete p[n])}}function m(e,t,n,r){var o=n.find(function(e){return null!=e.party&&e.party.id}),a=null!=o&&null!=o.party?o.party.id:null,i=h(t,e);if(null==a||r===d.StatusTypes.OFFLINE)return null!=i&&void y(t,e);if(null!=i){if(i===a)return!1;y(t,e)}!function(e,t,n){var r=c[e];if(null==r&&(r=c[e]={}),r[t]=n,!u.default.isBlocked(e)){var o=p[n]||new Set;p[n]=o,o.add(e)}}(t,e,a)}function v(e){var t=e.guild,n=!1,r=t.presences,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i,u=l.user,s=l.status,d=l.activities;!1!==m(t.id,u.id,d,s)&&(n=!0)}return n}function _(){var e=l.default.getId(),t=s.default.getActivities();return m(d.ME,e,t)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([s.default],_),this.waitFor(s.default,u.default)},t.prototype.getParty=function(e){return null!=e&&null!=p[e]?p[e]:null},t.prototype.getUserParties=function(){return c},t.prototype.getParties=function(){return p},t}(a.default.Store);t.default=new E(i.default,{CONNECTION_OPEN:function(e){var t=e.presences,n=e.guilds,r=!1,o=t,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var u=l,s=u.user,f=u.status,c=u.activities;null!=s&&!1!==m(d.ME,s.id,c,f)&&(r=!0)}var p=n,h=Array.isArray(p),y=0;for(p=h?p:p[Symbol.iterator]();;){var _;if(h){if(y>=p.length)break;_=p[y++]}else{if((y=p.next()).done)break;_=y.value}!1!==v({guild:_})&&(r=!0)}return r},OVERLAY_INITIALIZE:function(e){var t=e.parties,n=e.userParties;p={},c=r({},n),Object.keys(t).forEach(function(e){return p[e]=new Set(t[e])})},GUILD_CREATE:v,PRESENCES_REPLACE:function(e){var t=!1,n=e.presences,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a,l=i.user,u=i.activities;null!=l&&!1!==m(d.ME,l.id,u)&&(t=!0)}return t},PRESENCE_UPDATE:function(e){var t=e.guildId,n=e.user,r=e.status,o=e.activities;return m(t||d.ME,n.id,o,r)},RELATIONSHIP_ADD:function(e){var t=e.relationship;if(!u.default.isBlocked(t.id))return!1;var n=c[t.id];if(null==n)return!1;var r=o.default.values(n),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(i>=r.length)break;l=r[i++]}else{if((i=r.next()).done)break;l=i.value}var s=p[l];null!=s&&s.delete(t.id)}},RELATIONSHIP_REMOVE:function(e){var t=e.relationship,n=c[t.id];if(null==n)return!1;var r=o.default.values(n),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(i>=r.length)break;l=r[i++]}else{if((i=r.next()).done)break;l=i.value}var u=p[l];null!=u&&u.add(t.id)}}}),e.exports=t.default},5374:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getSelectionText=d,t.contextMenuCallbackNative=function(e){e.preventDefault();var t=void 0,n=void 0,o=void 0,l=d();if("TEXTAREA"===e.target.tagName||"INPUT"===e.target.tagName)"checkbox"!==e.target.type&&(t=s.ContextMenuTypes.NATIVE_INPUT);else{if("none"===window.getComputedStyle(e.target).getPropertyValue("-webkit-user-select"))return;var f=e.target;do{null!=f.src&&(o=f.src),null!=f.href&&(n=f.href),f=f.parentNode}while(null!=f);null!=o?t=s.ContextMenuTypes.NATIVE_IMAGE:null!=n?t=s.ContextMenuTypes.NATIVE_LINK:l&&(t=s.ContextMenuTypes.NATIVE_TEXT)}t&&(0,i.openContextMenu)(e,function(e){return a.createElement(u.default,r({},e,{type:s.ContextMenuTypes[t],href:n,src:o,value:l}))})},t.contextMenuCallbackWeb=function(e){var t=!1,n=void 0,r=void 0;if("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)t=!0;else if(d())t=!0;else{var o=e.target;do{null!=o.src&&(n=o.src),null!=o.href&&(r=o.href),o=o.parentNode}while(null!=o);null==r&&null==n||(t=!0)}t||e.preventDefault()};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=n(6374),u=(o=l)&&o.__esModule?o:{default:o},s=n(0);function d(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}},5498:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getPageSize=R;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(453),l=n(223),u=n(508),s=O(n(4)),d=n(6349),f=n(234),c=O(n(6129)),p=O(n(5990)),h=n(6953),y=n(6168),m=O(n(6014)),v=O(n(35)),_=O(n(45)),E=O(n(908)),g=O(n(5983)),S=O(n(6954)),T=O(n(6971)),I=n(0),C=O(n(13)),N=n(6051),A=O(n(5423));function O(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=(0,u.makeLazy)(function(){return Promise.all([n.e(0),n.e(226),n.e(181)]).then(n.t.bind(null,7326,7))});function R(e){return e<N.PAGE_WIDTH_THRESHOLD?N.PageSizes.SMALL:N.PageSizes.LARGE}s.default.initialize();var P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=b(this,e.call.apply(e,[this].concat(u))),r.renderStoreListing=function(e){var t=e.match.params,n=t.skuId,a=t.applicationId,l=t.slug,u=e.location,s=r.props.width,d=(0,i.parse)(u.search);return o(g.default,{page:I.AnalyticsPages.STORE_LISTING,root:!0},void 0,o(T.default,{skuId:n,applicationId:a,slug:l,location:u,storeListingId:d.store_listing_id,pageSize:R(s)}))},r.renderContent=function(e,t){return o(l.Switch,{},void 0,o(l.Route,{path:I.Routes.APPLICATION_STORE,exact:!0,render:function(n){var r=n.location;return o(g.default,{page:I.AnalyticsPages.STORE_DIRECTORY_HOME,root:!0},void 0,o(S.default,{location:r,scrollTo:e,getScrollTop:t}))}}),o(l.Route,{path:I.Routes.APPLICATION_STORE_BROWSE,render:function(n){var r=n.location;return o(g.default,{page:I.AnalyticsPages.STORE_DIRECTORY_BROWSE,root:!0},void 0,o(S.default,{location:r,scrollTo:e,getScrollTop:t}))}}),o(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:r.renderStoreListing}),o(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:r.renderStoreListing}),o(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:r.renderStoreListing}),o(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_SKU(":skuId"),render:r.renderStoreListing}),o(l.Redirect,{to:I.Routes.APPLICATION_STORE}))},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){(0,d.updateLocation)(this.props.location),this.stopListeningToHistory=_.default.getHistory().listen(function(e){e.pathname.startsWith(I.Routes.APPLICATION_STORE)&&(0,d.updateLocation)(e)}),this.props.isAuthenticated&&(0,f.fetchPaymentSources)(),m.default.disable(),m.default.setLayout(h.APPLICATION_STORE_LAYOUT),m.default.enable()},t.prototype.componentWillUnmount=function(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),m.default.disable(),m.default.setLayout(y.DEFAULT_LAYOUT),m.default.enable()},t.prototype.renderCustomErrorMessage=function(){return o("div",{},void 0,o("p",{},void 0,C.default.Messages.ERRORS_STORE_CRASH),o("p",{},void 0,C.default.Messages.ERRORS_ACTION_TO_TAKE))},t.prototype.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=e.theme,a=t?o("div",{className:A.default.applicationStore},void 0,this.renderContent()):o(M,{className:A.default.applicationStore,location:n,render:this.renderContent});return o(E.default,{theme:r,renderCustomMessage:this.renderCustomErrorMessage},void 0,a)},t}(a.Component);P.displayName="ApplicationStore",t.default=(0,l.withRouter)((0,c.default)((0,p.default)(s.default.connectStores([v.default],function(){return{theme:v.default.theme}})(P))))},5745:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=V(n(2)),l=n(137),u=n(223),s=H(n(4)),d=H(n(849)),f=n(475),c=H(n(6072)),p=V(n(329)),h=H(n(832)),y=H(n(157)),m=H(n(972)),v=H(n(160)),_=V(n(919)),E=H(n(861)),g=H(n(831)),S=H(n(869)),T=H(n(12)),I=H(n(463)),C=H(n(864)),N=H(n(156)),A=H(n(90)),O=H(n(228)),b=H(n(852)),M=H(n(51)),R=H(n(155)),P=H(n(230)),L=H(n(187)),w=n(6809),D=V(n(5986)),U=V(n(113)),k=H(n(9)),G=H(n(45)),x=H(n(7423)),F=H(n(8141)),j=H(n(8142)),B=n(0);function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function z(e){var t=e.match.params.id;return m.default.call(function(){return E.default.open(t)}),a(u.Redirect,{to:C.default.defaultRoute})}function $(e){var t=e.match,n=/-/g,r=t.params.section&&t.params.section.toUpperCase().replace(n,"_"),o=t.params.subsection&&t.params.subsection.toUpperCase().replace(n,"_");return!B.UserSettingsSections.hasOwnProperty(r)||o&&!B.UserSettingsSections.hasOwnProperty(o)||m.default.call(function(){return g.default.open(B.UserSettingsSections[r],o)}),a(u.Redirect,{to:C.default.defaultRoute})}function q(){return m.default.call(function(){return c.default.open(B.CreateGuildModalScreens.CreateGuild,"External link")}),a(u.Redirect,{to:C.default.defaultRoute})}function X(e){var t=e.match.params,n=t.guildId,r=t.channelId,o=t.type;m.default.call(function(){return(0,f.open)()});var i=parseInt(o,10)===B.ChannelTypes.GUILD_VOICE?B.Routes.CHANNEL(n):B.Routes.CHANNEL(n,r);return a(u.Redirect,{to:i})}n(921),n(352),n(6038),n(8222),n(981),n(970),n(8223),n(7155),n(7307),n(184),n(8224),n(891),n(8225),n(8226),n(8228),n(8231),n(459),n(838),n(179),n(485),n(6409),n(8232),n(7239),s.default.initialize(),k.default.embedded&&(k.default.on("USER_SETTINGS_OPEN",function(){return g.default.open(B.UserSettingsSections.ACCOUNT)}),k.default.on("LAUNCH_APPLICATION",function(e,t){var n=U.getLibraryApplicationForApplicationId(t,A.default,P.default);D.playApplication(t,n,{analyticsParams:{location:{page:B.AnalyticsPages.DIRECT,object:B.AnalyticsObjects.WEB_URL}}})})),z.displayName="renderUserProfileRedirector",$.displayName="renderUserSettingsRedirector",q.displayName="createGuildModalRedirector",X.displayName="renderWelcomeRedirector",b.default.registerModals(j.default);var Q=s.default.connectStores([I.default,C.default,T.default],function(){return{isConnected:I.default.isConnected(),defaultRoute:C.default.defaultRoute,token:T.default.getToken()}})(function(e){function t(){return Y(this,t),W(this,e.apply(this,arguments))}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute;return null==e.token?a(u.Redirect,{to:B.Routes.LOGIN}):t?a(u.Redirect,{to:n}):null},t}(i.Component));function J(e){var t=e.match.params,n=t.gameId,r=t.action;return N.default.whenInitialized(function(){A.default.whenInitialized(function(){switch(r){case"launch":var e=A.default.getActiveLibraryApplication(n);if(null==e)return;D.playApplication(e.id,e,{analyticsParams:{location:{page:B.AnalyticsPages.DIRECT,object:B.AnalyticsObjects.WEB_URL}}});break;case"test-mode":L.default.whenInitialized(function(){return _.authorizeAndSetTestModeApplication(n)});break;case"uninstall":var t=A.default.getActiveLibraryApplication(n);if(null==t)return;p.uninstallBranchPrompt(t.id,t.branchId,B.AnalyticsLocations.URI_SCHEME)}})}),a(u.Redirect,{to:B.Routes.APPLICATION_LIBRARY})}J.displayName="gameLibraryActionRedirector";var Z=(0,w.makeAuthenticated)(x.default);var ee=a(Q,{}),te=a(Q,{}),ne=[{path:B.Routes.APP,render:function(){return ee},isSessionRequired:!0},{path:B.Routes.CHANNEL("@me",":channelId?"),render:function(){return te},isSessionRequired:!0},{path:B.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),render:Z,isSessionRequired:!0,isChatRoute:!0},{path:B.Routes.GUILD_DISCOVERY,render:Z,isSessionRequired:!0,isChatRoute:!0}],re=a(Q,{}),oe=[{path:B.Routes.APP,render:function(){return re},isSessionRequired:!0},{path:B.Routes.USERS(":id"),render:z},{path:B.Routes.SETTINGS(":section",":subsection?"),render:$,isSessionRequired:!0},{path:B.Routes.WELCOME(":guildId",":channelId",":type"),render:X,isSessionRequired:!0},{path:B.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),render:Z,isSessionRequired:!0,isChatRoute:!0},{path:B.Routes.ACTIVITY,render:Z,isSessionRequired:!0,isChatRoute:!0},{path:B.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action"),render:J},{path:B.Routes.APPLICATION_LIBRARY,render:Z,isSessionRequired:!0,isChatRoute:!0},{path:B.Routes.GUILD_CREATE,render:q},{path:B.Routes.APPLICATION_STORE,render:Z,isSessionRequired:!0,isChatRoute:!0},{path:B.Routes.GUILD_DISCOVERY,render:Z,isSessionRequired:!0,isChatRoute:!0}];function ae(e){if(!I.default.isConnected()&&!I.default.isTryingToConnect()){var t=T.default.getToken();if(null!=t)null!=function(e){for(var t=le(),n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o,i=a.path,u=a.isSessionRequired;if(u){var s=(0,l.matchPath)(e,i);if(null!=s)return s}}return null}(e)&&d.default.startSession(t)}}function ie(e){if(null!=e){var t=function(e){var t=e.params,n=t.guildId,r=t.channelId,o=void 0===r?null:r,a=t.messageId,i=void 0===a?null:a;return{guildId:n||B.ME,channelId:o,messageId:i}}(e),n=t.guildId,r=t.channelId,o=t.messageId;if(function(e){return null!=e&&(e===B.ME||/^\d+$/.test(e))}(n)&&function(e){return null==e||/^\d+$/.test(e)}(r)){var a=R.default.getGuildId(),i=M.default.getChannelId(a),l=O.default.jumpedMessageId(i),u=a!==n,s=i!==r,d=l!==o;if(null!=o){var f=I.default.isConnected()?void 0:"Page Load";m.default.call(function(){return y.default.jumpToMessage(r,o,!0,f)})}u&&h.default.selectGuild(n),(u||s||d)&&v.default.selectChannel(n,r,o)}else G.default.replaceWith(C.default.defaultRoute)}}function le(){return T.default.isGuest()?ne:oe}var ue=a(u.Redirect,{exact:!0,from:"/channels",to:"/"}),se=a(u.Redirect,{to:"/"}),de=a(F.default,{}),fe=function(e){function t(){var n,r;Y(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=W(this,e.call.apply(e,[this].concat(a))),r.historyUnlisten=null,W(r,n)}return K(t,e),t.prototype.componentDidMount=function(){k.default.setZoomFactor(S.default.zoom),this.handleHistoryChange(r.location),this.historyUnlisten=this.props.history.listen(this.handleHistoryChange)},t.prototype.componentWillUnmount=function(){this.historyUnlisten()},t.prototype.handleHistoryChange=function(e){var t=e.pathname;ae(t),ie(function(e){var t=le(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o,i=a.path;if(a.isChatRoute){var u=(0,l.matchPath)(e,i);if(null!=u)return u}}return null}(t))},t.prototype.render=function(){return a(i.Fragment,{},void 0,T.default.isGuest()?a(u.Switch,{},void 0,ne.map(function(e){var t=e.path,n=e.render;return a(u.Route,{path:t,render:n},t)})):a(u.Switch,{},void 0,ue,oe.map(function(e){var t=e.path,n=e.render;return a(u.Route,{path:t,render:n},t)}),se),de)},t}(i.PureComponent);fe.displayName="ViewsWithMainInterface",t.default=fe,e.exports=t.default}).call(this,n(7))},5977:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(221)),l=u(n(843));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n=e.styles,r=e.label,u=e.hint,s=e.action,d=e.danger,f=void 0!==d&&d,c=e.disabled,p=void 0!==c&&c,h=e.brand,y=void 0!==h&&h,m=e.children,v=void 0===m?null:m;return o(i.default,{className:(0,a.default)(l.default.item,(t={},t[l.default.danger]=f,t[l.default.disabled]=p,t[l.default.brand]=y,t)),style:n,onClick:p?null:s},void 0,o("span",{},void 0,r),o("div",{className:l.default.hint},void 0,u),v)};s.displayName="MenuItem",t.default=s,e.exports=t.default},5980:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=function(e){function t(t,n){return a(l.AnalyticsContext.Consumer,{},void 0,function(r){return i.createElement(e,o({},t,{ref:n,analyticsContext:r}))})}var n=e.displayName||e.name||"";return t.displayName="withAnalyticsContext("+n+")",i.forwardRef(t)};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(18);e.exports=t.default},5981:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(843),u=(o=l)&&o.__esModule?o:{default:o};var s=function(e){var t=e.children;return i.Children.toArray(t).length?a("div",{className:u.default.itemGroup},void 0,t):null};s.displayName="MenuGroup",t.default=s,e.exports=t.default},5982:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),d(n(17))),i=d(n(221)),l=d(n(444)),u=d(n(902)),s=d(n(843));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n=e.styles,r=e.label,d=e.action,f=e.active,c=void 0!==f&&f,p=e.disabled,h=void 0!==p&&p,y=e.danger,m=void 0!==y&&y,v=e.loading,_=void 0!==v&&v,E=e.className,g=void 0;return h||(g=function(e){return d(e,r,c)}),o(i.default,{className:(0,a.default)(s.default.item,s.default.itemToggle,E,(t={},t[s.default.danger]=m,t)),style:n,onClick:g},void 0,o("div",{className:s.default.label},void 0,_?o(l.default,{type:l.default.Type.PULSING_ELLIPSIS}):r),o(u.default,{checked:c,disabled:h,containerClassName:s.default.checkbox,onChange:function(){}}))};f.displayName="ToggleMenuItem",t.default=f,e.exports=t.default},5983:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=n(161),s=(o=u)&&o.__esModule?o:{default:o},d=n(18),f=n(863),c=n(0);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=p(this,e.call.apply(e,[this].concat(a))),r._loadId=r.props.root?s.default.v4():null,r._loadDate=r.props.root?Date.now():null,r.getLocation=(0,f.cachedFunction)(function(e,t,n,r){var o={};return null!=e&&(o.page=e),null!=t&&(o.section=t),null!=n&&(o.object=n),null!=r&&(o.objectType=r),o}),r.mergeLocation=(0,f.cachedFunction)(function(e,t){return i({},e,t)}),r.getContext=(0,f.cachedFunction)(function(e,t,n){return{location:e,loadDate:t,loadId:n}}),p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderProvider=function(e){var t=this.props,n=t.section,r=t.page,o=t.object,i=t.objectType,l=t.children,u=this.mergeLocation(e.location,this.getLocation(r,n,o,i)),s=this.getContext(u,this._loadDate||e.loadDate,this._loadId||e.loadId);return a(d.AnalyticsContext.Provider,{value:s},void 0,l)},t.prototype.render=function(){var e=this,t=this.props.context;return null!=t?this.renderProvider(t):a(d.AnalyticsContext.Consumer,{},void 0,function(t){return e.renderProvider(t)})},t}(l.Component);h.Pages=c.AnalyticsPages,h.Sections=c.AnalyticsSections,h.Objects=c.AnalyticsObjects,h.ObjectTypes=c.AnalyticsObjectTypes,h.defaultProps={root:!1},h.displayName="AnalyticsContext",t.default=h,e.exports=t.default},5985:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=d(n(8)),a=d(n(1)),i=d(n(484)),l=n(834),u=n(0),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var f={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_INIT,guildId:e,section:t})},open:function(e,t){(0,l.pushLayer)(u.Layers.GUILD_SETTINGS),f.init(e,t)},close:function(){a.default.wait(function(){return a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_CLOSE})})},setSection:function(e){a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SET_SECTION,section:e})},setSearchQuery:function(e){a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SET_SEARCH_QUERY,searchQuery:e})},selectRole:function(e){a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_ROLE_SELECT,roleId:e})},updateEmbed:function(e,t,n){o.default.patch({url:u.Endpoints.GUILD_EMBED(e),body:{enabled:t,channel_id:n}}).then(function(t){a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SET_EMBED,guildId:e,enabled:t.body.enabled,channelId:t.body.channel_id})})},updateMFALevel:function(e){var t=e.guildId,n=e.level,l=e.isEnabled;(0,i.default)({title:s.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL,actionText:l?s.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_OFF:s.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_ON},function(e){return o.default.post({url:u.Endpoints.GUILD_MFA(t),body:r({level:n},e)})}).then(function(e){return a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SET_MFA_SUCCESS,level:e.body.level})})},updateIcon:function(e,t){o.default.patch({url:u.Endpoints.GUILD(e),body:{icon:t}}).then(function(){a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_UPDATE,icon:t})},function(e){return a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},cancelChanges:function(e){a.default.dirtyDispatch({type:u.ActionTypes.GUILD_SETTINGS_CANCEL_CHANGES,guildId:e})},updateGuild:function(e){a.default.dispatch(r({type:u.ActionTypes.GUILD_SETTINGS_UPDATE},e))},saveGuild:function(e,t){var n=t.name,r=t.description,i=t.icon,l=t.splash,s=t.banner,d=t.region,f=t.afkChannelId,c=t.afkTimeout,p=t.systemChannelId,h=t.verificationLevel,y=t.defaultMessageNotifications,m=t.explicitContentFilter;return a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SUBMIT}),o.default.patch({url:u.Endpoints.GUILD(e),body:{name:n,description:r,icon:i,splash:l,banner:s,region:d,afk_channel_id:f,afk_timeout:c,system_channel_id:p,verification_level:h,default_message_notifications:y,explicit_content_filter:m}}).then(function(){return a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS})},function(e){return a.default.dispatch({type:u.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},updateGuildModeration:function(e,t){return o.default.patch({url:u.Endpoints.GUILD(e),body:{verification_level:t.verificationLevel,explicit_content_filter:t.explicitContentFilter}})},transferOwnership:function(e,t){return(0,i.default)({title:s.default.Messages.TRANSFER_OWNERSHIP,actionText:s.default.Messages.TRANSFER_OWNERSHIP},function(n){return o.default.patch({url:u.Endpoints.GUILD(e),body:r({owner_id:t},n)})})},deleteGuild:function(e,t){(0,i.default)({title:s.default.Messages.DELETE_SERVER_TITLE.format({name:t}),actionText:s.default.Messages.DELETE_SERVER},function(t){return o.default.post({url:u.Endpoints.GUILD(e)+"/delete",body:t})}).then(function(){return f.close()})},leaveGuild:function(e){o.default.delete(""+u.Endpoints.GUILD_LEAVE(e)).then(function(){return f.close()})},updateMemberRoles:function(e,t,n){o.default.patch({url:u.Endpoints.GUILD_MEMBERS(e)+"/"+t,body:{roles:n}})},enableIntegration:function(e,t,n){o.default.post({url:u.Endpoints.GUILD_INTEGRATIONS(e),body:{type:t,id:n}})},disableIntegration:function(e,t){o.default.delete(u.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t)},updateIntegration:function(e,t,n,r,a){var i={expire_behavior:n,expire_grace_period:r,enable_emoticons:a};o.default.patch({url:u.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t,body:i})},enableCustomEmoji:function(e,t,n){o.default.patch({url:u.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t+"/custom_emoji",body:{enable:n}})},syncIntegration:function(e,t){o.default.post(u.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t+"/sync")}};t.default=f,e.exports=t.default},5986:function(e,t,n){"use strict";t.__esModule=!0,t.playApplication=void 0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t.playApplication=(r=regeneratorRuntime.mark(function e(t,n,r){var o,i,s,h,y,v,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(o=m.default.getGame(t))){e.next=3;break}return e.abrupt("return");case 3:if(i=r.cloudSync,s=void 0===i||i,h=r.cloudSyncForceHash,y=void 0===h?null:h,v=r.analyticsParams,!(s&&null!=n&&n instanceof p.LibraryApplicationRecord)){e.next=15;break}return E=n.branchId,e.prev=6,e.next=9,u.sync(n.id,E,y);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),f.default.push(function(e){return l.createElement(c.default,e)},{libraryApplication:n,analyticsParams:v,branchId:E}),e.abrupt("return");case 15:return _.default.track(S.AnalyticEvents.APPLICATION_OPENED,a({application_id:o.id,application_name:o.name,type:S.AnalyticsGameOpenTypes.LAUNCH,distributor:null!=n?n.getDistributor():null},v)),e.abrupt("return",d.default.launch(o.id,n instanceof p.LibraryApplicationRecord?n.branchId:null));case 17:case"end":return e.stop()}},e,this,[[6,11]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e,t,n){return o.apply(this,arguments)});t.installApplication=C,t.updateApplication=N,t.repairApplication=function(e,t,n){var r=m.default.getGame(e);if(null==r)return;return s.repairApplication(r,t,n)},t.getDefaultLibraryApplicationAction=A,t.performDefaultLibraryApplicationAction=function(e,t){var n=A(e,h.default,y.default),r=t.analyticsParams;switch(n){case S.LibraryApplicationActions.PLAY:return i(e.id,e,{analyticsParams:r});case S.LibraryApplicationActions.INSTALL:return C(e.id,e.branchId,r.source);case S.LibraryApplicationActions.UPDATE:return N(e.id,e.branchId)}};var l=I(n(2)),u=I(n(6108)),s=I(n(329)),d=T(n(182)),f=T(n(80)),c=T(n(6267)),p=n(130),h=T(n(156)),y=T(n(855)),m=T(n(43)),v=T(n(459)),_=T(n(18)),E=n(322),g=n(6268),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t,n){var r=m.default.getGame(e);if(null!=r){var o=v.default.getTargetBuildId(r.id,t),a=v.default.getTargetManifests(r.id,t);null!=o&&null!=a&&null!=g.installApplication&&(0,g.installApplication)(r,t,o,a,n)}}function N(e,t){var n=m.default.getGame(e);if(null!=n)return s.updateApplication(n,t,v.default.getTargetBuildId(n.id,t),v.default.getTargetManifests(n.id,t))}function A(e,t,n){if(e instanceof p.LocalApplicationRecord)return S.LibraryApplicationActions.PLAY;var r=t.getState(e.id,e.branchId),o=n.getQueuePosition(e.id,e.branchId),a=n.paused;if(null!=r){if(null==o||-1===o)switch(r.type){case S.LocalDispatchApplicationStates.INSTALLING:return S.LibraryApplicationActions.INSTALL;case S.LocalDispatchApplicationStates.UPDATING:case S.LocalDispatchApplicationStates.UPDATE_REQUIRED:return S.LibraryApplicationActions.UPDATE}switch(r.type){case S.LocalDispatchApplicationStates.INSTALLING:case S.LocalDispatchApplicationStates.UPDATING:case S.LocalDispatchApplicationStates.UPDATE_REQUIRED:case S.LocalDispatchApplicationStates.REPAIRING:return o>0?S.LibraryApplicationActions.MOVE_UP:a?S.LibraryApplicationActions.RESUME:S.LibraryApplicationActions.PAUSE;case S.LocalDispatchApplicationStates.UP_TO_DATE:return S.LibraryApplicationActions.PLAY;case S.LocalDispatchApplicationStates.UNINSTALLING:return null}}return null!=o&&o>0?S.LibraryApplicationActions.MOVE_UP:(0,E.isSupportedPlatform)()?S.LibraryApplicationActions.INSTALL:null}},5987:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=n(873),u=h(n(152)),s=h(n(6057)),d=h(n(836)),f=n(445),c=h(f),p=h(n(5414));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.value,r=t.onChange,a=t.disabled,h=t.fill,y=t.hideBorder,m=t.children,v=t.className,_=t.note,E=t.style,g=t.theme,S=t.size,T=void 0,I=void 0;return S===s.default.Sizes.MINI?(T=p.default.titleMini,I=p.default.dividerMini):(T=p.default.titleDefault,I=p.default.dividerDefault),o(u.default,{style:E,className:(0,i.default)(v,(e={},e[p.default.disabled]=a,e)),direction:u.default.Direction.VERTICAL},void 0,o(l.SmartUID,{},void 0,function(e){return o(u.default,{align:u.default.Align.START},void 0,o(u.default.Child,{wrap:!0},void 0,o("label",{htmlFor:e,className:T},void 0,m)),o(u.default.Child,{grow:0,shrink:0},void 0,o(s.default,{id:e,value:n,fill:h,onChange:r,disabled:a,theme:g,size:S})))}),_&&o(u.default.Child,{className:p.default.note},void 0,o(c.default,{disabled:a,type:f.Types.DESCRIPTION},void 0,_)),!y&&o(d.default,{className:I}))},t}(a.PureComponent);y.Sizes=s.default.Sizes,y.Themes=s.default.Themes,y.defaultProps={disabled:!1,size:s.default.Sizes.DEFAULT,theme:s.default.Themes.DEFAULT,hideBorder:!1,className:p.default.switchItem},y.displayName="SwitchItem",t.default=y,e.exports=t.default},5990:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){function n(){var o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return i=u(this,t.call.apply(t,[this].concat(s))),o=i,i.setRef=function(e){i._ref=e},i.triggerResize=function(){null!=i._ref&&i._ref.onResize()},i.renderComponent=function(t){var n=t.width,o=t.height,l=i.props,u=l.setRef,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(l,["setRef"]);return a.createElement(e,r({},s,{ref:u,width:n,height:o,triggerResize:i.triggerResize}))},u(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.render=function(){return a.createElement(l.default,{ref:this.setRef},this.renderComponent)},n}(a.Component)};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(6597),l=(o=i)&&o.__esModule?o:{default:o};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},5991:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=m(n(5)),a=m(n(4)),i=m(n(8)),l=m(n(1)),u=m(n(832)),s=m(n(131)),d=m(n(324)),f=m(n(6140)),c=m(n(135)),p=m(n(28)),h=m(n(15)),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var v=["name","description","icon","splash","banner","region","afkChannelId","afkTimeout","systemChannelId","verificationLevel","defaultMessageNotifications","explicitContentFilter"],_=!1,E=y.FormStates.CLOSED,g=void 0,S=void 0,T={},I=void 0,C=void 0,N=void 0,A=!1,O=null,b=null,M=y.MFALevels.NONE,R=null,P=null,L=null;function w(e){if(null==C||null==I||I.id!==e)return!1;var t=p.default.getGuild(e);return null!=t&&(I===C?C=I=t:(I=t,C=C.set("roles",I.roles)),!0)}function D(e){var t=e.guildId,n=e.section,r=void 0===n?null:n,o=p.default.getGuild(t);if(null==o)return U();I=C=o,E=y.FormStates.OPEN,T={},N=t,M=C.mfaLevel,k({section:r||g||y.GuildSettingsSections.OVERVIEW})}function U(){_=!1,E=y.FormStates.CLOSED,I=C=null,A=!1,O=null,b=null,R=null,P=null,L=null,g=null,S=null,M=y.MFALevels.NONE}function k(e){if(null==C)return!1;if((g=e.section)===y.GuildSettingsSections.BANS)i.default.get(y.Endpoints.GUILD_BANS(C.id)).then(function(e){l.default.dispatch({type:y.ActionTypes.GUILD_SETTINGS_LOADED_BANS,bans:e.body})});else if(g===y.GuildSettingsSections.INSTANT_INVITES)i.default.get(y.Endpoints.GUILD_INSTANT_INVITES(C.id)).then(function(e){l.default.dispatch({type:y.ActionTypes.GUILD_SETTINGS_LOADED_INVITES,invites:e.body})});else if(g===y.GuildSettingsSections.EMBED)i.default.get(y.Endpoints.GUILD_EMBED(C.id)).then(function(e){l.default.dispatch({type:y.ActionTypes.GUILD_SETTINGS_SET_EMBED,enabled:e.body.enabled,channelId:e.body.channel_id})});else{if(g===y.GuildSettingsSections.INTEGRATIONS)return x(e);g===y.GuildSettingsSections.MEMBERS?(N=C.id,u.default.requestMembers(C.id,"",0)):g===y.GuildSettingsSections.VANITY_URL?i.default.get(y.Endpoints.GUILD_VANITY_URL(C.id)).then(function(e){l.default.dispatch({type:y.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:e.body.code})}):g===y.GuildSettingsSections.AUDIT_LOG&&u.default.requestMembers(C.id,"",0)}}function G(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new d.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,o.default)(e.created_at)})}function x(e){return null!=C&&E===y.FormStates.OPEN&&((e.type!==y.ActionTypes.GUILD_INTEGRATIONS_UPDATE||e.guildId===C.id)&&void i.default.get(y.Endpoints.GUILD_INTEGRATIONS(C.id)).then(function(e){null!=C&&l.default.dispatch({type:y.ActionTypes.GUILD_SETTINGS_LOADED_INTEGATIONS,guildId:C.id,integrations:e.body})}))}var F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,h.default)},t.prototype.hasChanges=function(){return C!==I},t.prototype.isOpen=function(){return _},t.prototype.getSection=function(){return g},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getGuildId=function(){return C?C.id:null},t.prototype.getProps=function(){return{submitting:E===y.FormStates.SUBMITTING,integrations:L,section:g,errors:T,guild:C,bans:R,invites:P,selectedRoleId:N,embedEnabled:A,embedChannelId:O,mfaLevel:M,searchQuery:S,vanityURLCode:b,hasChanges:this.hasChanges()}},t}(a.default.Store);t.default=new F(l.default,__OVERLAY__?{}:{GUILD_SETTINGS_INIT:D,GUILD_SETTINGS_OPEN:function(e){_=!0,D(e)},GUILD_SETTINGS_CLOSE:function(e){return U()},GUILD_SETTINGS_UPDATE:function(e){if(null==C)return!1;v.forEach(function(t){null!=C&&e.hasOwnProperty(t)&&(C=C.set(t,e[t]))}),function(){if(null==C)return!1;var e=C.toJS(),t=I.toJS();v.some(function(n){return e[n]!==t[n]})||(C=I)}()},GUILD_SETTINGS_CANCEL_CHANGES:function(e){var t=e.guildId;T={};var n=p.default.getGuild(t);null!=n&&(I=C=n)},GUILD_SETTINGS_SUBMIT:function(e){E=y.FormStates.SUBMITTING},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){E=y.FormStates.OPEN},GUILD_SETTINGS_SUBMIT_FAILURE:function(e){E=y.FormStates.OPEN,g=y.GuildSettingsSections.OVERVIEW,T=e.errors||{}},GUILD_SETTINGS_SET_SECTION:k,GUILD_SETTINGS_SET_SEARCH_QUERY:function(e){S=e.searchQuery},GUILD_SETTINGS_LOADED_BANS:function(e){R=e.bans.reduce(function(e,t){return null!=t.user&&null!=t.user.id&&(e[t.user.id]=t),e},{})},GUILD_SETTINGS_LOADED_INVITES:function(e){P=e.invites.reduce(function(e,t){return e[t.code]=G(t),e},{})},GUILD_SETTINGS_SET_EMBED:function(e){A=e.enabled,O=e.channelId},GUILD_SETTINGS_SET_VANITY_URL:function(e){b=e.code},GUILD_SETTINGS_SET_MFA_SUCCESS:function(e){var t=e.level;M=t},GUILD_SETTINGS_ROLE_SELECT:function(e){var t=e.roleId;N=t},GUILD_SETTINGS_LOADED_INTEGATIONS:function(e){L=e.integrations.map(function(e){return e.user=new c.default(e.user),e})},GUILD_BAN_ADD:function(e){var t,n=e.user,o=e.guildId;return null!=R&&null!=C&&C.id===o&&void(R=r({},R,(t={},t[n.id]={user:n,reason:null},t)))},GUILD_BAN_REMOVE:function(e){var t=e.user,n=e.guildId;return null!=R&&null!=C&&C.id===n&&void delete(R=r({},R))[t.id]},GUILD_ROLE_CREATE:function(e){var t=e.guildId,n=e.role;if(!w(t))return!1;N=n.id},GUILD_ROLE_UPDATE:function(e){if(!w(e.guildId))return!1},GUILD_ROLE_DELETE:function(e){var t=e.guildId,n=e.roleId;if(!w(t))return!1;N===n&&(N=t)},GUILD_UPDATE:function(e){if(null==C||C.id!==e.guild.id)return!1;var t=p.default.getGuild(C.id);if(null==t)return!1;var n=I=t,r=C.toJS();v.forEach(function(e){"icon"!==e&&"splash"!==e&&"banner"!==e&&(n=n.set(e,r[e]))}),C=n},GUILD_DELETE:function(e){if(null==C||C.id!==e.guild.id)return!1;U()},USER_CONNECTIONS_UPDATE:x,GUILD_INTEGRATIONS_UPDATE:x,INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(P=r({},P))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;P=r({},P,((t={})[e.invite.code]=G(e.invite),t))}}),e.exports=t.default},5994:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=m(n(17)),s=n(223),d=m(n(4)),f=n(6305),c=m(n(154)),p=n(5979),h=n(82),y=(n(0),m(n(5415)));function m(e){return e&&e.__esModule?e:{default:e}}var v=Object.freeze(((o={})[p.AvatarSizes.XSMALL]=y.default.avatarXSmall,o[p.AvatarSizes.SMALL]=y.default.avatarSmall,o[p.AvatarSizes.LARGE]=y.default.avatarLarge,o[p.AvatarSizes.XLARGE]=y.default.avatarXLarge,o[p.AvatarSizes.XXLARGE]=y.default.avatarXXLarge,o[p.AvatarSizes.POPOUT]=y.default.avatarPopout,o[p.AvatarSizes.PROFILE]=y.default.avatarProfile,o[p.AvatarSizes.ACTIVITY_FEED_24]=y.default.avatarXSmall,o)),_=Object.freeze({xsmall:20,small:30,large:40,xlarge:60,xxlarge:100,popout:90,profile:128,activityFeed24:24}),E=(0,f.backgroundImagePreloader)(function(e){return l.createElement("div",e)}),g=(0,f.backgroundImagePreloader)(function(e){return l.createElement(s.Link,e)}),S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),o=n.user,a=!!o&&(0,h.hasAnimatedAvatar)(o);return r.state={animatedAvatar:a,animatedAvatarLoaded:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStyle=function(){var e=this.props,t=e.user,n=e.channel,r=e.size,o=e.animate,a=e.game,i=this.state.animatedAvatar,l=void 0;return null!=t?l=i&&o?t.getAvatarURL("gif"):t.avatarURL||t.getAvatarURL("jpg"):null!=a?l=a.getIconURL(_[r]):null!=n&&(l=n.getIconURL()),{backgroundImage:l?'url("'+l+'")':null}},t.prototype.renderStatus=function(){var e=this.props,t=e.status,n=e.size,r=e.streaming,o=e.typing,a=e.isFocused,l=e.statusClassName,s=e.hideTooltip;return null!=t||r?i(p.AvatarStatusIcon,{status:r?p.AvatarStatusIcon.Statuses.STREAMING:t,size:n,isTyping:o,className:(0,u.default)(y.default.status,l),hideTooltip:s,shouldAnimateTypingIndicator:a}):null},t.prototype.render=function(){var e,t=this.props,n=t.size,r=t.to,o=t.className,s=t.isFocused,d=(t.streaming,t.typing,t.animate,t.theme),f=(t.statusClassName,t.hideTooltip,t.outerClassName),c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["size","to","className","isFocused","streaming","typing","animate","theme","statusClassName","hideTooltip","outerClassName"]),h=(0,u.default)(o,y.default.inner,((e={})[y.default.animate]=s,e["stop-animation"]=!s,e));return i(p.AvatarWrapper,{size:n,theme:d,className:(0,u.default)(f,v[n])},void 0,null!=r?l.createElement(g,a({},c,{to:r,className:h,style:this.getStyle()})):l.createElement(E,a({},c,{className:h,style:this.getStyle()})),this.renderStatus())},t}(l.PureComponent);S.defaultProps={size:p.AvatarSizes.SMALL,typing:!1,streaming:!1,animate:!1},S.displayName="Avatar",t.default=d.default.connectStores([c.default],function(){return{isFocused:c.default.isFocused()}})(S),e.exports=t.default},5996:function(e,t,n){"use strict";t.__esModule=!0,t.EmptyStateText=t.EmptyStateImage=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(152)),s=n(0),d=c(n(5351)),f=c(n(5430));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=i.createContext(s.ThemeTypes.DARK),v=m.Provider,_=m.Consumer,E=t.EmptyStateImage=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,i=e.height,c=e.offsetX,p=e.offsetY,h=e.style;return a(_,{},void 0,function(e){return a(u.default.Child,{grow:0,className:(0,l.default)(f.default.image,d.default.marginBottom40),style:o({},h,{width:r,height:i,marginLeft:c,marginTop:p,backgroundImage:"url("+(e===s.ThemeTypes.DARK?n:t)+")"})})})},t}(i.PureComponent);E.displayName="EmptyStateImage";var g=t.EmptyStateText=function(e){var t=e.children,n=e.className,r=e.noteClassName,o=e.note,i=e.style;return a(u.default.Child,{grow:0,direction:u.default.Direction.VERTICAL,style:i},void 0,a("h4",{className:(0,l.default)(n,f.default.title)},void 0,t),o&&a("div",{className:(0,l.default)(r,f.default.text,d.default.marginTop8)},void 0,o))};g.displayName="EmptyStateText";var S=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,o=e.style;return a(v,{value:n},void 0,a(u.default,{direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,className:(0,l.default)(f.default.wrapper,r),style:o},void 0,t))},t}(i.PureComponent);S.Text=g,S.Image=E,S.displayName="EmptyState",t.default=S},5998:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(17)),l=v(n(308)),u=v(n(309)),s=v(n(99)),d=n(916),f=v(n(4)),c=v(n(35)),p=v(n(221)),h=v(n(313)),y=n(0),m=v(n(843));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,l.default)({displayName:"SubMenuItem",propTypes:{label:u.default.oneOfType([u.default.string,u.default.array]).isRequired,render:u.default.oneOfType([u.default.array,u.default.func]).isRequired,invertChildY:u.default.bool,disabled:u.default.bool,action:u.default.func,theme:u.default.oneOf([y.ThemeTypes.DARK,y.ThemeTypes.LIGHT]).isRequired},getInitialState:function(){return{open:!1,position:{top:0,left:0}}},uiMenuNode:null,_timer:void 0,componentDidMount:function(){this.uiMenuNode=s.default.findDOMNode(this)},componentWillUnmount:function(){clearTimeout(this._timer)},render:function(){var e,t=this.props,n=t.label,r=t.render,l=t.disabled,u=t.action,s=t.invertChildY,f=this.props.theme,c="function"==typeof r?r():r.filter(function(e){return e}),v=(0,d.isFragment)(c)?c.props.children.length:c.length;if(0===v)return null;var _=v<=9,E=s?30*(Math.min(v,9)-1):0,g=void 0,S={className:(0,i.default)(m.default.contextMenu,"theme-"+f),style:{top:this.state.position.top-E,left:this.state.position.left},onClick:function(e){e.stopPropagation()}};if(this.state.open)if(_)g=a.createElement("div",S,c);else{var T=f===y.ThemeTypes.LIGHT?"#ffffff":"#282b30";g=a.createElement("div",S,o(h.default,{theme:h.default.Themes.GHOST_HAIRLINE,backgroundColor:T,className:m.default.scroller},void 0,c))}return o(p.default,{className:(0,i.default)(m.default.item,m.default.itemSubMenu,(e={},e[m.default.itemSubMenuHasScroller]=_,e)),onClick:l?function(){}:u,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n,g)},handleMouseEnter:function(){if(clearTimeout(this._timer),this.uiMenuNode&&!this.props.disabled){var e=this.uiMenuNode.getBoundingClientRect(),t=e.top,n=e.left;this.setState({open:!0,position:{top:t-2,left:n}})}},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.setState({open:!1})},100)}});t.default=f.default.connectStores([c.default],function(){return{theme:c.default.theme}})(_),e.exports=t.default},6000:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={selectGuild:function(e,t){a.default.dispatch({type:i.ActionTypes.DELAYED_GUILD_SELECT,guildId:e,analyticsSource:t})},selectChannel:function(e,t,n){a.default.dispatch({type:i.ActionTypes.DELAYED_CHANNEL_SELECT,guildId:e,channelId:t,analyticsSource:n})},flushSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.default.dispatch({type:i.ActionTypes.DELAYED_SELECT_FLUSH,immediate:e})}},e.exports=t.default},6001:function(e,t,n){"use strict";t.__esModule=!0,t.IMAGE_GIF_RE=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(6095),u=h(n(6473)),s=n(6223),d=h(s),f=n(233),c=n(6037),p=n(835);function h(e){return e&&e.__esModule?e:{default:e}}var y=t.IMAGE_GIF_RE=/\.gif($|\?|#)/i,m=a(u.default,{}),v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={readyState:s.ImageReadyStates.LOADING,hasMouseOver:!1},r._cancellers=new Set,r.observeVisibility=function(){t.visibilityObserver.observe(r)},r.unobserveVisibility=function(){t.visibilityObserver.unobserve(r)},r.handleImageLoad=function(e){return r.setState({readyState:e?s.ImageReadyStates.ERROR:s.ImageReadyStates.READY})},r.preloadImage=function(e,t){var n=e.width,o=e.height,a=r.props,i=a.width,l=a.height;1===i&&1===l||r.loadImage(r.getSrc((0,c.getRatio)(i,l,n,o)),t)},r.onMouseEnter=function(e){t.isAnimated(r.props)&&r.setState({hasMouseOver:!0});var n=r.props.onMouseEnter;null!=n&&n(e,{preloadImage:r.preloadImage})},r.onMouseLeave=function(){return r.setState({hasMouseOver:!1})},r.onClick=function(e){var t=r.props,n=t.onZoom,o=t.onClick;null!=o?o(e):null!=n&&(e.preventDefault(),n(e,{placeholder:r.getSrc(r.getRatio())}))},r.renderAccessory=function(){var e=r.state.hasMouseOver,t=null!=r.props.renderAccessory?r.props.renderAccessory():null;return e?t:m},(0,f.isImageLoaded)(r.getSrc(r.getRatio(),t.isAnimated(r.props)))&&(r.state.readyState=s.ImageReadyStates.READY),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.isAnimated=function(e){var t=e.src,n=e.original;return e.animated||y.test(n||t)},t.prototype.componentDidMount=function(){this.state.readyState===s.ImageReadyStates.LOADING&&this.loadImage(this.getSrc(this.getRatio(),t.isAnimated(this.props)),this.handleImageLoad),t.isAnimated(this.props)&&this.observeVisibility()},t.prototype.componentDidUpdate=function(e){var n=t.isAnimated(this.props);t.isAnimated(e)!==n&&(n?this.observeVisibility():this.unobserveVisibility())},t.prototype.componentWillUnmount=function(){t.isAnimated(this.props)&&this.unobserveVisibility(),this._cancellers.forEach(function(e){return e()}),this._cancellers.clear()},t.prototype.getSrc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.src,o=n.width,a=n.height;return(0,f.getImageSrc)(r,o,a,e,t?"png":null)},t.prototype.getWidth=function(){var e=this.props,t=e.width,n=e.minWidth;return Math.max(Math.round(t*this.getRatio()),n)},t.prototype.getHeight=function(){var e=this.props,t=e.height,n=e.minHeight;return Math.max(Math.round(t*this.getRatio()),n)},t.prototype.getRatio=function(){var e=this.props,t=e.width,n=e.height,r=e.maxWidth,o=void 0===r?400:r,a=e.maxHeight,i=void 0===a?300:a;return(0,c.getRatio)(t,n,o,i)},t.prototype.loadImage=function(e,t){var n=this,r=this.props,o=r.width,a=r.height;if(1!==o||1!==a){var i=(0,f.loadImage)(e,function(e,r){null!=i&&n._cancellers.delete(i),t&&t(e,r)});null!=i&&this._cancellers.add(i)}},t.prototype.render=function(){var e=this.props,n=e.alt,r=e.placeholder,l=e.onZoom,u=e.shouldLink,f=e.onContextMenu,c=e.autoPlay,h=e.original,y=e.className,m=e.imageClassName,v=e.children,_=e.animated,E=e.shouldAnimate,g=e.minWidth,S=e.minHeight,T=e.renderItem,I=e.onClick,C=e.renderAccessory,N=e.tabIndex,A=this.state,O=A.readyState,b=A.hasMouseOver,M=!!l,R={alt:null!=n?n:"",readyState:O,onContextMenu:f,zoomable:M,className:y,imageClassName:m,minWidth:g,minHeight:S,tabIndex:N,width:this.getWidth(),height:this.getHeight(),renderItem:T,src:"",children:null!=v?function(e){var t=e.src,n=e.size,r=e.alt;return v({src:t,size:n,alt:r})}:void 0,onMouseEnter:this.onMouseEnter};if(1===R.width&&1===R.height)return null;switch((M||null!=I)&&(R.onClick=this.onClick),u&&(R.original=h||R.src),O){case s.ImageReadyStates.LOADING:null!=r&&(R.src=r);break;case s.ImageReadyStates.READY:if(t.isAnimated(this.props)){R.onMouseLeave=this.onMouseLeave;var P=(c||b)&&(null==E||E)&&t.visibilityObserver.isVisible(this);P?(R.src=this.getSrc(this.getRatio()),R.renderAccessory=C):(R.src=this.getSrc(this.getRatio(),!_),R.renderAccessory=this.renderAccessory),null!=v&&(R.children=function(e){var t=e.src,n=e.size,r=e.alt;return v({src:t,size:n,animating:P,alt:r})})}else R.src=this.getSrc(this.getRatio())}return a(p.BackgroundOpacityContext.Consumer,{},void 0,function(e){return i.createElement(d.default,o({},R,{backgroundOpacity:e.backgroundOpacity}))})},t}(i.Component);v.visibilityObserver=new l.VisibilityObserver({threshold:0}),v.defaultProps={alt:"",shouldLink:!1,autoPlay:!1,animated:!1,minWidth:0,minHeight:0},v.displayName="LazyImage",t.default=v},6003:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(5400)),l=u(n(5364));function u(e){return e&&e.__esModule?e:{default:e}}var s=Object.freeze({STANDARD:i.default.colorStandard,MUTED:i.default.colorMuted,NONE:null}),d=Object.freeze({SIZE_10:l.default.size10,SIZE_12:l.default.size12,SIZE_14:l.default.size14,SIZE_16:l.default.size16,SIZE_24:l.default.size24}),f=function(e){var t,n=e.className,r=e.color,l=void 0===r?s.STANDARD:r,u=e.size,f=void 0===u?d.SIZE_14:u,c=e.tag,p=void 0===c?"div":c,h=e.selectable,y=void 0!==h&&h,m=e.children,v=e.style;return o(p,{className:(0,a.default)(l,f,n,(t={},t[i.default.selectable]=y,t)),style:v},void 0,m)};f.displayName="Text",f.Colors=s,f.Sizes=d,t.default=f,e.exports=t.default},6004:function(e,t,n){"use strict";t.__esModule=!0,t.getSKUIdFromURL=function(e){var t=(0,o.matchPath)(e,{path:l.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug")});return null!=t?t.params.skuId:null},t.getGenreURLSlugFromId=function(e){return f[e]},t.getGenreIdFromURLSlug=function(e){return d[e]},t.getGenreText=function(e){switch(e){case l.SKUGenres.ACTION:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION;case l.SKUGenres.ACTION_RPG:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;case l.SKUGenres.BRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_BRAWLER;case l.SKUGenres.HACK_AND_SLASH:return u.default.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;case l.SKUGenres.PLATFORMER:return u.default.Messages.APPLICATION_STORE_GENRE_PLATFORMER;case l.SKUGenres.STEALTH:return u.default.Messages.APPLICATION_STORE_GENRE_STEALTH;case l.SKUGenres.SURVIVAL:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL;case l.SKUGenres.ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ADVENTURE;case l.SKUGenres.ACTION_ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;case l.SKUGenres.METROIDVANIA:return u.default.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;case l.SKUGenres.OPEN_WORLD:return u.default.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;case l.SKUGenres.PSYCHOLOGICAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;case l.SKUGenres.SANDBOX:return u.default.Messages.APPLICATION_STORE_GENRE_SANDBOX;case l.SKUGenres.SURVIVAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;case l.SKUGenres.VISUAL_NOVEL:return u.default.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;case l.SKUGenres.DRIVING_RACING:return u.default.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;case l.SKUGenres.VEHICULAR_COMBAT:return u.default.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;case l.SKUGenres.MASSIVELY_MULTIPLAYER:return u.default.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;case l.SKUGenres.MMORPG:return u.default.Messages.APPLICATION_STORE_GENRE_MMORPG;case l.SKUGenres.ROLE_PLAYING:return u.default.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;case l.SKUGenres.DUNGEON_CRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;case l.SKUGenres.ROGUELIKE:return u.default.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;case l.SKUGenres.SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOTER;case l.SKUGenres.LIGHT_GUN:return u.default.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;case l.SKUGenres.SHOOT_EM_UP:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;case l.SKUGenres.FPS:return u.default.Messages.APPLICATION_STORE_GENRE_FPS;case l.SKUGenres.DUAL_JOYSTICK_SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;case l.SKUGenres.SIMULATION:return u.default.Messages.APPLICATION_STORE_GENRE_SIMULATION;case l.SKUGenres.FLIGHT_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;case l.SKUGenres.TRAIN_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;case l.SKUGenres.LIFE_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;case l.SKUGenres.FISHING:return u.default.Messages.APPLICATION_STORE_GENRE_FISHING;case l.SKUGenres.SPORTS:return u.default.Messages.APPLICATION_STORE_GENRE_SPORTS;case l.SKUGenres.BASEBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASEBALL;case l.SKUGenres.BASKETBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASKETBALL;case l.SKUGenres.BILLIARDS:return u.default.Messages.APPLICATION_STORE_GENRE_BILLIARDS;case l.SKUGenres.BOWLING:return u.default.Messages.APPLICATION_STORE_GENRE_BOWLING;case l.SKUGenres.BOXING:return u.default.Messages.APPLICATION_STORE_GENRE_BOXING;case l.SKUGenres.FOOTBALL:return u.default.Messages.APPLICATION_STORE_GENRE_FOOTBALL;case l.SKUGenres.GOLF:return u.default.Messages.APPLICATION_STORE_GENRE_GOLF;case l.SKUGenres.HOCKEY:return u.default.Messages.APPLICATION_STORE_GENRE_HOCKEY;case l.SKUGenres.SKATEBOARDING_SKATING:return u.default.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;case l.SKUGenres.SNOWBOARDING_SKIING:return u.default.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;case l.SKUGenres.SOCCER:return u.default.Messages.APPLICATION_STORE_GENRE_SOCCER;case l.SKUGenres.TRACK_FIELD:return u.default.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;case l.SKUGenres.SURFING_WAKEBOARDING:return u.default.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;case l.SKUGenres.WRESTLING:return u.default.Messages.APPLICATION_STORE_GENRE_WRESTLING;case l.SKUGenres.STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_STRATEGY;case l.SKUGenres.FOUR_X:return u.default.Messages.APPLICATION_STORE_GENRE_FOUR_X;case l.SKUGenres.ARTILLERY:return u.default.Messages.APPLICATION_STORE_GENRE_ARTILLERY;case l.SKUGenres.RTS:return u.default.Messages.APPLICATION_STORE_GENRE_RTS;case l.SKUGenres.TOWER_DEFENSE:return u.default.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;case l.SKUGenres.TURN_BASED_STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;case l.SKUGenres.WARGAME:return u.default.Messages.APPLICATION_STORE_GENRE_WARGAME;case l.SKUGenres.MOBA:return u.default.Messages.APPLICATION_STORE_GENRE_MOBA;case l.SKUGenres.FIGHTING:return u.default.Messages.APPLICATION_STORE_GENRE_FIGHTING;case l.SKUGenres.PUZZLE:return u.default.Messages.APPLICATION_STORE_GENRE_PUZZLE;case l.SKUGenres.CARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_CARD_GAME;case l.SKUGenres.EDUCATION:return u.default.Messages.APPLICATION_STORE_GENRE_EDUCATION;case l.SKUGenres.FITNESS:return u.default.Messages.APPLICATION_STORE_GENRE_FITNESS;case l.SKUGenres.GAMBLING:return u.default.Messages.APPLICATION_STORE_GENRE_GAMBLING;case l.SKUGenres.MUSIC_RHYTHM:return u.default.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;case l.SKUGenres.PARTY_MINI_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;case l.SKUGenres.PINBALL:return u.default.Messages.APPLICATION_STORE_GENRE_PINBALL;case l.SKUGenres.TRIVIA_BOARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;default:return u.default.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS}},t.canUserInstall=function(e){var t=(0,i.nativePlatformTypeToSKUOperatingSystem)(a.default.getPlatform());return e.type===l.SKUTypes.GAME&&null!=t&&e.supportedOperatingSystems.includes(t)},t.getReadablePreorderReleaseDate=function(e){var t=e.preorderReleaseAt,n=e.preorderApproximateReleaseDate;if(null!=t)return t.format("MMMM DD");if(null==n)return null;for(var o=0;o<c.length;o++){var a=c[o],i=a[0],l=a[1],u=(0,r.default)(n,i,!0);if(u.isValid())return u.format(l)}return n};var r=s(n(5)),o=n(137),a=s(n(9)),i=n(133),l=n(0),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var d={},f={};Object.keys(l.StoreApplicationGenresFilter).forEach(function(e){var t=e.toLowerCase().replace(/_/g,"-"),n=l.StoreApplicationGenresFilter[e];d[t]=n,f[n]=t});var c=[["YYYY-MM-DD","MMMM DD, Y"],["YYYY-MM","MMMM Y"],["MM-DD","MMMM DD"],["MM","MMMM"],["YYYY","Y"]]},6005:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={updateChannelDimensions:function(e,t,n,r){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_DIMENSIONS,channelId:e,scrollTop:t,scrollHeight:n,offsetHeight:r})},updateChannelListScroll:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTop:t})},channelListScrollTo:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:t})},clearChannelListScrollTo:function(e){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:null})},clearChannelDimensions:function(e){this.updateChannelDimensions(e,null,null,null)},updateGuildListScrollTo:function(e){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_GUILD_LIST_DIMENSIONS,scrollTop:e})}},e.exports=t.default},6006:function(e,t,n){"use strict";t.__esModule=!0,t.makeFile=function(e,t,n){if(null==t&&(t="unknown",e instanceof Blob))switch(e.type){case"image/png":t+=".png"}null==n&&(e instanceof Blob&&(n=e.type),n=n||a.default.lookup(t));if("function"!=typeof File||"Microsoft Edge"===i.default.name){var r=new Date,o=0;return null!=e.size&&"number"==typeof e.size?o=e.size:null!=e.byteLength&&"number"==typeof e.byteLength&&(o=e.byteLength),{lastModified:r.getTime(),lastModifiedDate:r,name:t,size:o,type:n}}return new File([e],t,{type:n})},t.classifyFile=function(e){return c(e.name,e.type)},t.classifyFileName=c,t.sizeString=function(e){return r.default.filesize(e)},t.maxFileSize=p,t.fileTooLarge=h,t.anyFileTooLarge=function(e){var t=p();return o.default.some(e,function(e){return h(e,t)})};var r=d(n(6329)),o=d(n(6)),a=d(n(6822)),i=d(n(32)),l=d(n(15)),u=d(n(225)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=[{reType:/^image\/vnd.adobe.photoshop/,klass:"photoshop"},{reType:/^image\/svg\+xml/,klass:"webcode"},{reType:/^image\//,klass:"image"},{reType:/^video\//,klass:"video"},{reName:/\.pdf$/,klass:"acrobat"},{reName:/\.ae/,klass:"ae"},{reName:/\.sketch$/,klass:"sketch"},{reName:/\.ai$/,klass:"ai"},{reName:/\.(?:rar|zip|7z|tar|tar\.gz)$/,klass:"archive"},{reName:/\.(?:c\+\+|cpp|cc|c|h|hpp|mm|m|json|js|rb|rake|py|asm|fs|pyc|dtd|cgi|bat|rss|java|graphml|idb|lua|o|gml|prl|sls|conf|cmake|make|sln|vbe|cxx|wbf|vbs|r|wml|php|bash|applescript|fcgi|yaml|ex|exs|sh|ml|actionscript)$/,klass:"code"},{reName:/\.(?:txt|rtf|doc|docx|md|pages|ppt|pptx|pptm|key|log)$/,klass:"document"},{reName:/\.(?:xls|xlsx|numbers|csv)$/,klass:"spreadsheet"},{reName:/\.(?:html|xhtml|htm|js|xml|xls|xsd|css|styl)$/,klass:"webcode"},{reName:/\.(?:mp3|ogg|wav|flac)$/,klass:"audio"}];function c(e,t){e=e?e.toLowerCase():"";var n=o.default.find(f,function(n){return n.reType&&t?n.reType.test(t):!(!n.reName||!e)&&n.reName.test(e)});return n?n.klass:"unknown"}function p(){var e=l.default.getCurrentUser();return e&&u.default.canUploadLargeFiles(e)?s.MAX_PREMIUM_ATTACHMENT_SIZE:s.MAX_ATTACHMENT_SIZE}function h(e,t){return null==t&&(t=p()),e.size>t}},6007:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=n(180),u=c(n(450)),s=c(n(5999)),d=n(0),f=c(n(5437));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={SMALL:"7px 10px",MEDIUM:"10px"},v=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props,t=e.onClick,n=e.option;return t&&t(n)},h(r,n)}return y(t,e),t.prototype.render=function(){var e,t=this.props,n=t.checked,r=t.disabled,a=t.option,c=t.size,p=t.infoClassName,h=n?"checked":null,y=a.desc?o("div",{className:(0,l.getClass)(f.default,"desc",h)},void 0,a.desc):null,m=n?a.color||d.Colors.BRAND:"",v=n?d.Colors.WHITE:a.color,_=r||a.disabled;return o(u.default,{className:(0,i.default)(f.default.item,(e={},e[f.default.disabled]=_,e)),style:{borderColor:m,backgroundColor:m,padding:c},editable:!0,onClick:!_&&this.handleClick},void 0,o(s.default,{value:n,disabled:_,onChange:this.handleClick,color:m}),o("div",{className:(0,i.default)(f.default.info,p)},void 0,o("div",{className:(0,l.getClass)(f.default,"title",h),style:{color:v}},void 0,a.name),y))},t}(a.PureComponent);v.displayName="RadioItem";var _=function(e){function t(){var n,r;p(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.renderRadio=function(e){var t=r.props,n=t.value,a=t.disabled,i=t.size,l=t.itemInfoClassName,u=n===e.value;return o(v,{disabled:a,checked:u,option:e,onClick:r.props.onChange,size:i,infoClassName:l},e.value)},h(r,n)}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.className;return o("div",{className:(0,i.default)(f.default.radioGroup,n)},void 0,t.map(this.renderRadio))},t}(a.PureComponent);_.Sizes=m,_.defaultProps={options:[],onChange:d.NOOP,value:null,disabled:!1,size:m.MEDIUM},_.displayName="RadioGroup",t.default=_,e.exports=t.default},6008:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(17)),l=u(n(5487));function u(e){return e&&e.__esModule?e:{default:e}}var s=Object.freeze({UNKNOWN:"unknown",VISA:"visa",DISCOVER:"discover",MASTERCARD:"mastercard",AMEX:"amex",PAYPAL:"paypal",PAYMENT_REQUEST:"paymentRequest",G_PAY:"gPay"}),d={SMALL:l.default.cardIconSmall,MEDIUM:l.default.cardIconMedium,LARGE:l.default.cardIconLarge,XLARGE:l.default.cardIconXLarge},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getType=function(e){if(null==e)return s.UNKNOWN;var t=e.replace(/[^a-z]/gi,"").toUpperCase();return s[t]||s.UNKNOWN},t.prototype.render=function(){var e,t=this.props,n=t.flipped,r=t.type,a=t.className,u=t.size;return o("div",{className:(0,i.default)(u,l.default[r],a,(e={},e[l.default.flipped]=n,e))},void 0,r)},t}(a.PureComponent);f.Types=s,f.Sizes=d,f.defaultProps={size:d.SMALL,flipped:!1},f.displayName="PaymentSourceIcon",t.default=f,e.exports=t.default},6009:function(e,t,n){"use strict";t.__esModule=!0,t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.VerifiedIcon=t.Subtitle=t.Title=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=T(n(17)),u=T(n(6240)),s=T(n(6241)),d=n(5979),f=T(n(128)),c=T(n(152)),p=T(n(6015)),h=T(n(306)),y=T(n(129)),m=T(n(828)),v=T(n(442)),_=T(n(448)),E=n(0),g=T(n(13)),S=T(n(5427));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var C=function(e){var t=e.className,n=e.children,r=I(e,["className","children"]);return i.createElement(y.default,a({},r,{color:y.default.Colors.WHITE,weight:y.default.Weights.LIGHT,className:(0,l.default)(S.default.title,t)}),n)};C.displayName="Title",t.Title=C;var N=function(e){var t=e.className,n=e.children,r=I(e,["className","children"]);return i.createElement(y.default,a({},r,{weight:y.default.Weights.NORMAL,className:(0,l.default)(S.default.subTitle,t)}),n)};N.displayName="Subtitle",t.Subtitle=N,(t.VerifiedIcon=function(e){var t=e.theme,n=void 0===t?E.ThemeTypes.DARK:t;return o(v.default,{text:g.default.Messages.GUILD_VERIFIED,position:v.default.Positions.LEFT,color:v.default.Colors.BRAND},void 0,o(h.default,{className:S.default.verified,name:h.default.Names.VERIFIED,inner:n===E.ThemeTypes.DARK?E.Colors.PRIMARY_DARK:E.Colors.PRIMARY_DARK_300,checkmark:E.Colors.WHITE,width:25,height:25}))}).displayName="VerifiedIcon";var A=function(e){var t=e.className,n=I(e,["className"]);return i.createElement("img",a({alt:""},n,{className:(0,l.default)(S.default.image,t)}))};A.displayName="Image",t.Image=A;var O=function(e){var t,n=e.className,r=I(e,["className"]),o=r.look===f.default.Looks.LINK;return i.createElement(f.default,a({size:o?f.default.Sizes.MIN:f.default.Sizes.LARGE,fullWidth:!o,className:(0,l.default)(n,(t={},t[S.default.button]=!o,t[S.default.linkButton]=o,t))},r))};O.displayName="Button",t.Button=O,O.Looks=f.default.Looks,O.Colors=f.default.Colors,O.Sizes=f.default.Sizes;var b=function(e){var t=e.className,n=e.src,r=I(e,["className","src"]);return i.createElement(d.AvatarImage,a({src:n,className:(0,l.default)(S.default.inviteLargeIcon,t)},r))};b.displayName="Avatar",t.Avatar=b,b.Sizes=d.AvatarSizes;var M=function e(t){var n=t.className,r=t.guild,o=t.size,u=I(t,["className","guild","size"]);return i.createElement(p.default,a({guild:r,size:o,className:(0,l.default)(o===e.Sizes.XLARGE?S.default.inviteLargeIcon:S.default.inviteSmallIcon,n)},u))};M.displayName="GuildIcon",t.GuildIcon=M,M.Sizes=p.default.Sizes;var R=function e(t){var n=t.className,r=t.channel,o=t.size,u=I(t,["className","channel","size"]);return i.createElement(d.AvatarImage,a({src:r.getIconURL(),size:o,className:(0,l.default)(o===e.Sizes.XLARGE?S.default.inviteLargeIcon:S.default.inviteSmallIcon,n)},u))};R.displayName="ChannelIcon",t.ChannelIcon=R,R.Sizes=d.AvatarSizes;var P=function(e){var t,n=e.label,r=e.error,u=e.placeholder,s=e.value,d=e.className,f=e.inputClassName,c=e.setRef,p=I(e,["label","error","placeholder","value","className","inputClassName","setRef"]);return o(_.default,{title:n,error:r,className:d},void 0,i.createElement(m.default,a({},p,{value:s,inputRef:c,placeholder:u,className:S.default.input,inputClassName:(0,l.default)(f,(t={},t[S.default.inputError]=null!=r,t))})))};P.displayName="Input",t.Input=P,(t.Block=function(e){var t=e.className,n=e.children;return o("div",{className:(0,l.default)(S.default.block,t)},void 0,n)}).displayName="Block",(t.SubText=function(e){var t=e.className,n=e.children;return o(y.default,{size:y.default.Sizes.SMALL,className:(0,l.default)(S.default.subText,t)},void 0,n)}).displayName="SubText",(t.AuthSpinner=function(e){var t=e.className,n=e.hideQuote,r=void 0!==n&&n;return o(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.CENTER,className:t},void 0,o(s.default,{className:S.default.spinnerVideo}),r?null:o(N,{className:S.default.spinnerText},void 0,u.default[Math.floor(Math.random()*u.default.length)][0]))}).displayName="AuthSpinner",(t.ActivityCount=function(e){var t=e.online,n=e.total,r=e.className;if(null==n)return null;var a=void 0;return null!=t&&t>0&&(a=o("div",{className:(0,l.default)(S.default.pill,S.default.pillOnline)},void 0,o("i",{className:S.default.pillIconOnline}),o(y.default,{tag:"span",size:y.default.Sizes.MEDIUM,className:S.default.pillMessage},void 0,g.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})))),o(c.default,{justify:c.default.Justify.CENTER,className:r},void 0,a,o("div",{className:S.default.pill},void 0,o("i",{className:S.default.pillIconTotal}),o(y.default,{tag:"span",size:y.default.Sizes.MEDIUM,className:S.default.pillMessage},void 0,g.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:n}))))}).displayName="ActivityCount";var L=function(e){var t=e.className,n=e.tag,r=void 0===n?"section":n,a=e.onSubmit,i=e.children;return o(r,{onSubmit:a,className:(0,l.default)(S.default.authBox,"theme-dark",t)},void 0,o("div",{className:S.default.centeringWrapper},void 0,i))};L.displayName="AuthBox",t.default=L},6010:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),d(n(17))),i=n(5992),l=d(n(311)),u=n(835),s=d(n(5483));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.icon,n=e.timestamp,r=e.className,l=e.children;return o(u.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o("div",{className:(0,a.default)(s.default.container,r)},void 0,o("div",{className:s.default.icon,style:{backgroundImage:"url('"+t+"')"}}),o("div",{className:(0,a.default)(s.default.content,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,l,o("time",{dateTime:n.toISOString(),className:(0,a.default)(s.default.timestamp,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,(0,i.calendarFormat)(n))))})}f.displayName="SystemMessage";var c=function(e){var t=e.onClick,n=e.children;return o("span",{className:s.default.action},void 0,"—",o(l.default,{onClick:t,className:s.default.actionAnchor},void 0,n))};c.displayName="SystemMessageAction",f.Action=c,t.default=f,e.exports=t.default},6011:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(308))),i=h(n(443)),l=h(n(4)),u=n(307),s=h(n(35)),d=n(5989),f=h(n(5981)),c=h(n(5977)),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"DeveloperModeGroup",mixins:[l.default.StoreListenerMixin(s.default),i.default],getStateFromStores:function(){return{developerMode:s.default.developerMode}},render:function(){return!__OVERLAY__&&this.state.developerMode&&d.SUPPORTS_COPY?o(f.default,{},void 0,o(c.default,{label:p.default.Messages.COPY_ID,action:this.handleCopyID})):null},handleCopyID:function(e){(0,u.closeContextMenu)();var t=this.props,n=t.shiftId,r=t.id,o=n&&e.shiftKey?n:r;(0,d.copy)(o)}});t.default=y,e.exports=t.default},6012:function(e,t,n){"use strict";t.__esModule=!0,t.getTimeUnit=t.TimeUnitMax=t.TimeUnitConversion=t.TimeUnits=void 0;var r,o,a,i,l,u,s,d,f,c,p,h,y,m,v,_=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getTimeAndUnit=function(e,t){var n=null!=e?w(e,function(e){return t.includes(e)}):O.NONE,r=null!=n?M[n]:null;return{unit:n,time:null!=e&&null!=r?Math.floor(r(e)):null}};var g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),S=C(n(6)),T=n(81),I=C(n(13));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=Object.freeze({ACTIVITY_FEED:"ACTIVITY_FEED",ACTIVITY_FEED_NEW:"ACTIVITY_FEED_NEW",USER_ACTIVITY:"USER_ACTIVITY",GAME_LIBRARY_TIME_PLAYED:"GAME_LIBRARY_TIME_PLAYED",GAME_LIBRARY_LAST_PLAYED:"GAME_LIBRARY_LAST_PLAYED"}),O=t.TimeUnits=Object.freeze({NONE:"NONE",SECONDS:"SECONDS",MINUTES:"MINUTES",HOURS:"HOURS",DAYS:"DAYS",WEEKS:"WEEKS",MONTHS:"MONTHS",YEARS:"YEARS"}),b=Object.freeze({START:"START",END:"END",TIME:"TIME"}),M=t.TimeUnitConversion=((o={})[O.NONE]=function(e){return 0},o[O.SECONDS]=function(e){return 60*e},o[O.MINUTES]=function(e){return e},o[O.HOURS]=function(e){return e/60},o[O.DAYS]=function(e){return e/60/24},o[O.WEEKS]=function(e){return e/60/24/7},o[O.MONTHS]=function(e){return e/60/24/31},o[O.YEARS]=function(e){return e/60/24/365},o),R=t.TimeUnitMax=[{unit:O.NONE,max:0},{unit:O.SECONDS,max:1},{unit:O.MINUTES,max:60},{unit:O.HOURS,max:1440},{unit:O.DAYS,max:44640},{unit:O.WEEKS,max:40320},{unit:O.MONTHS,max:525600},{unit:O.YEARS,max:1/0}],P=function(e){return function(t,n){return null==n?"":e.format(E({time:t},n))}},L=((v={})[A.ACTIVITY_FEED]=((l={})[b.START]=((a={})[O.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},a[O.MINUTES]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e})},a[O.HOURS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e})},a[O.DAYS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e})},a),l[b.END]=((i={})[O.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_ENDED},i[O.MINUTES]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},i[O.HOURS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},i[O.DAYS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},i[O.WEEKS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_WEEKS_AGO.format({time:e})},i[O.MONTHS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_MONTHS_AGO.format({time:e})},i[O.YEARS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_YEARS_AGO.format({time:e})},i),l),v[A.ACTIVITY_FEED_NEW]=((d={})[b.START]=((u={})[O.SECONDS]=P(I.default.Messages.ACTIVITY_FEED_USER_PLAYING_JUST_STARTED),u[O.MINUTES]=P(I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_MINUTES),u[O.HOURS]=P(I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_HOURS),u[O.DAYS]=P(I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_DAYS),u),d[b.END]=((s={})[O.SECONDS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_SECONDS_AGO.format({time:e})},s[O.MINUTES]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},s[O.HOURS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},s[O.DAYS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},s),d),v[A.USER_ACTIVITY]=((c={})[b.START]=((f={})[O.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},f[O.MINUTES]=function(e){return I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_MINUTES.format({time:e})},f[O.HOURS]=function(e){return I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_HOURS.format({time:e})},f[O.DAYS]=function(e){return I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_DAYS.format({time:e})},f),c),v[A.GAME_LIBRARY_TIME_PLAYED]=((h={})[b.TIME]=((p={})[O.NONE]=function(){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_NONE},p[O.SECONDS]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_SECONDS.format({time:e})},p[O.MINUTES]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_MINUTES.format({time:e})},p[O.HOURS]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_HOURS.format({time:e})},p),h),v[A.GAME_LIBRARY_LAST_PLAYED]=((m={})[b.END]=((y={})[O.NONE]=function(){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE},y[O.SECONDS]=function(){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_JUST_NOW},y[O.MINUTES]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_MINUTES.format({time:e})},y[O.HOURS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_HOURS.format({time:e})},y[O.DAYS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_DAYS.format({time:e})},y[O.WEEKS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_WEEKS.format({time:e})},y[O.MONTHS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_MONTHS.format({time:e})},y[O.YEARS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_YEARS.format({time:e})},y),m),v);function w(e,t){var n=R.findIndex(function(t){var n=t.max;return t.unit===O.NONE&&e===n||e<n}),r=S.default.findLast(R,function(e){var n=e.unit;return t(n)},n);if(null!=r)return r.unit;var o=R.find(function(e){var n=e.unit;return t(n)});return o?o.unit:null}t.getTimeUnit=w;var D=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=N(this,e.call.apply(e,[this].concat(a))),r.timer=new T.Interval,r.state={time:r.getDiff()},r.update=function(){r.setState({time:r.getDiff()})},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.timer.start(1e4,this.update)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.start,r=t.end,o=t.time;e.start===n&&e.end===r&&e.time===o||this.update()},t.prototype.componentWillUnmount=function(){this.timer.stop()},t.prototype.getDiff=function(){var e=this.props,t=e.start,n=e.end,r=e.time;if(null!=r)return r/1e3/60;var o=Date.now(),a=0;return null!=t?a=o-t:null!=n&&(a=o-n),Math.abs(a)/1e3/60},t.prototype.getTimeUnit=function(e,t,n){var r=w(e,function(e){return function(e,t,n){var r=L[n];if(null!=r){var o=r[t];if(null!=o)return null!=o[e]}return!1}(e,n,t)});if(null==r)throw new Error("Could not get the time unit in PlayTime with time: "+e+" in location: "+t);return r},t.prototype.getType=function(){var e=this.props,t=e.start,n=e.end,r=e.time;return null!=t?b.START:null!=n?b.END:null!=r?b.TIME:null},t.prototype.transformTime=function(e,t){return M[e](t)},t.prototype.render=function(){var e=this.props,t=e.location,n=e.className,r=e.messageProps,o=this.state.time,a=this.getType();if(null==a)return null;var i=this.getTimeUnit(o,t,a),l=L[t][a];if(null==l)return null;var u=l[i],s=Math.floor(this.transformTime(i,o));return _("span",{className:n},void 0,u(s,r))},t}(g.PureComponent);D.Locations=A,D.Types=b,D.displayName="PlayTime",t.default=D},6014:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(6205)),o=s(n(6384)),a=s(n(32)),i=n(6141),l=s(n(6116)),u=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var d=void 0,f=!1,c=(0,o.default)(new r.default(window)),p=/Darwin|OS X/.test(a.default.os.family||""),h=p?"cmd":"ctrl",y=p?"opt":"alt",m=p?"return":"enter",v=[].concat(i.JUMP_TO_GUILD.binds,["mod+shift+[","mod+shift+]","ctrl+shift+tab","ctrl+tab","mod+n","mod+t","mod+shift+t","mod+plus","mod+minus","mod+0"]).map(function(e){return e.replace("mod",h)}),_=[];u.default.isDesktop()&&new r.default(document).bind("backspace",function(e){return e.preventDefault()});function E(e){var t=[];for(var n in e)t=t.concat(e[n].binds);return t.map(function(e){return e.replace("mod",h)})}function g(e){var t=function(t){var n=e[t],r=l.default.getKeybindList();u.default.embedded||(r=r.concat(v));var o=n.binds.filter(function(e){return e=e.replace("mod",h),r.indexOf(e)<0});if(0===o.length)return"continue";var a,i,s,d=n.global?c.bindGlobal:c.bind;if(n.action&&d.call(c,o,n.action),n.keyup&&d.call(c,o,n.keyup,"keyup"),n.keydown){var f=o.indexOf("any-character");-1!==f&&(a="keydown",i=n.keydown,s=function(e){return i(e,e.key)},document.addEventListener(a,s),_.push(function(){return document.removeEventListener(a,s)}),o.splice(f,1)),o.length>0&&d.call(c,o,n.keydown,"keydown")}n.keypress&&d.call(c,o,n.keypress,"keypress")};for(var n in e)t(n)}t.default={combokeys:c,modKey:h,altKey:y,returnKey:m,checkDupes:function(e){for(var t={},n=[],r=E(e),o=0,a=r.length;o<a;o++)void 0===t[r[o]]?t[r[o]]=0:t[r[o]]+=1;for(var i in t)t[i]&&n.push(i);n.length&&console.warn("Duplicate keyboard shortcuts defined:",n)},setLayout:function(e){d=e},enable:function(){f||(f=!0,this.checkDupes(d),g(d))},enableTemp:function(e){g(e),f=!0},disableTemp:function(){this.disable(),this.enable()},disable:function(){f&&(f=!1,_.forEach(function(e){return e()}),_=[],c.reset())},validateKeybind:function(e){f&&this.hasBind(e)&&c.unbind(e)},hasBind:function(e){var t=E(d);return e=(e=e.replace("meta","cmd")).replace(/right|left/i,"").trim(),!(t.indexOf(e)<0)}},e.exports=t.default},6015:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=v(n(17)),s=n(223),d=n(180),f=v(n(221)),c=v(n(306)),p=v(n(442)),h=n(0),y=v(n(13)),m=v(n(5371));function v(e){return e&&e.__esModule?e:{default:e}}var _={MINI:"Mini",SMALL:"Small",MEDIUM:"Medium",LARGE:"Large",XLARGE:"XLarge"},E=((o={})[_.MINI]=[12,12,10,10,8,6,4],o[_.SMALL]=[14,14,12,12,10,8,6],o[_.MEDIUM]=[16,16,14,14,12,10,8],o[_.LARGE]=[18,18,16,16,14,12,10],o[_.XLARGE]=[20,20,18,18,16,14,12],o),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderAcronym=function(){var e=this.props.guild;return null!=e.icon?null:e.acronym},t.prototype.renderVerifiedIcon=function(){var e=this.props,t=e.showVerified,n=e.guild,r=e.verifiedIconOuterColor;return!t||!n.hasFeature||n.hasFeature&&!n.hasFeature(h.GuildFeatures.VERIFIED)?null:i(p.default,{color:p.default.Colors.BRAND,text:y.default.Messages.GUILD_VERIFIED},void 0,i(c.default,{className:m.default.verifiedIcon,name:c.default.Names.VERIFIED,outer:r,inner:h.Colors.BRAND,checkmark:h.Colors.WHITE}))},t.prototype.renderIcon=function(){var e,t=this.props,n=t.guild,r=t.iconSrc,o=t.className,i=(t.showVerified,t.active),s=t.size,c=t.style,p=t.textScale,h=(t.showTooltip,t.tooltipPosition,t.onClick),y=t.to,v=(t.verifiedIconOuterColor,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["guild","iconSrc","className","showVerified","active","size","style","textScale","showTooltip","tooltipPosition","onClick","to","verifiedIconOuterColor"])),_=E[s],g=null==n.icon?{fontSize:(_[n.acronym.length]||_[_.length-1])*p}:{backgroundImage:"url('"+(r||n.getIconURL&&n.getIconURL()||"")+"')"};return l.createElement(f.default,a({className:(0,u.default)(m.default.icon,o,(0,d.getClass)(m.default,"iconSize",s),(e={},e[(0,d.getClass)(m.default,"iconActive",s)]=i,e[m.default.iconInactive]=!i,e[m.default.noIcon]=null==n.icon,e)),style:a({},g,c),onClick:null!=y||null==h?null:h},v),this.renderAcronym(),this.renderVerifiedIcon())},t.prototype.renderTooltip=function(){var e=this.props,t=e.guild,n=e.showTooltip,r=e.tooltipPosition;return n?i(p.default,{text:t.name,position:r},void 0,this.renderIcon()):this.renderIcon()},t.prototype.render=function(){var e=this.props,t=e.to,n=e.guild,r=e.source;return null!=t?i(s.Link,{to:{pathname:t,state:null!=r?{analyticsSource:r}:null},"aria-label":n.toString()},void 0,this.renderTooltip()):this.renderTooltip()},t}(l.PureComponent);g.Sizes=_,g.defaultProps={size:_.LARGE,textScale:1,showVerified:!1,showTooltip:!1,active:!1,tooltipPosition:p.default.Positions.TOP,verifiedIconOuterColor:h.Colors.WHITE},g.displayName="GuildIcon",t.default=g,e.exports=t.default},6016:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(17)),l=s(n(306)),u=s(n(5490));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className;return o("div",{className:(0,i.default)(u.default.error,n)},void 0,o(l.default,{name:l.default.Names.WARNING_BOX,className:u.default.icon}),o("div",{className:u.default.text},void 0,t))},t}(a.PureComponent);d.displayName="FormErrorBlock",t.default=d,e.exports=t.default},6017:function(e,t,n){"use strict";t.__esModule=!0,t.mount=function(){o.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_MOUNT})},t.unmount=function(){o.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_UNMOUNT})},t.handleRedirect=function(){a.default.transitionTo(i.Routes.APP),o.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_HANDLE_REDIRECT})},t.addMembersToFeed=function(e){u({subscribeUsers:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD,userIds:e})})},t.removeMembersFromFeed=function(e){u({unsubscribeUsers:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_REMOVE,userIds:e})})},t.addGamesToFeed=function(e){u({subscribeGames:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_ADD,gameIds:e})})},t.removeGamesFromFeed=function(e){u({unsubscribeGames:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_REMOVE,gameIds:e})})};var r=l(n(8)),o=l(n(1)),a=l(n(45)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.default.patch({url:i.Endpoints.USER_FEED_SETTINGS,body:{subscribe_users:e.subscribeUsers,unsubscribe_users:e.unsubscribeUsers,subscribe_games:e.subscribeGames,unsubscribe_games:e.unsubscribeGames}})}},6019:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=ee(n(17)),s=ee(n(4)),d=ee(n(318)),f=ee(n(80)),c=ee(n(6421)),p=ee(n(6105)),h=ee(n(22)),y=ee(n(6167)),m=ee(n(153)),v=ee(n(315)),_=ee(n(91)),E=ee(n(51)),g=ee(n(155)),S=ee(n(312)),T=ee(n(35)),I=ee(n(15)),C=ee(n(134)),N=ee(n(457)),A=ee(n(311)),O=ee(n(128)),b=ee(n(221)),M=n(5996),R=ee(n(152)),P=ee(n(306)),L=ee(n(222)),w=(ee(n(313)),ee(n(5995))),D=ee(n(5987)),U=ee(n(129)),k=ee(n(828)),G=ee(n(442)),x=n(829),F=ee(n(18)),j=ee(n(6034)),B=n(5989),H=n(229),V=ee(H),Y=ee(n(5994)),W=ee(n(902)),K=ee(n(6040)),z=n(0),$=ee(n(13)),q=ee(n(317)),X=ee(n(5351)),Q=ee(n(5368)),J=ee(n(880)),Z=ee(n(5432));function ee(e){return e&&e.__esModule?e:{default:e}}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var oe=V.default.getMaxAgeOptions,ae=V.default.getMaxUsesOptions,ie=V.default.INVITE_OPTIONS_FOREVER,le=V.default.INVITE_OPTIONS_1_DAY,ue=V.default.INVITE_OPTIONS_12_HOURS,se=V.default.INVITE_OPTIONS_6_HOURS,de=V.default.INVITE_OPTIONS_1_HOUR,fe=V.default.INVITE_OPTIONS_30_MINUTES,ce=V.default.INVITE_OPTIONS_UNLIMITED,pe=25,he="minutes",ye="hours",me="days",ve="never",_e=((o={})[fe.value]={value:30,type:he},o[de.value]={value:1,type:ye},o[se.value]={value:6,type:ye},o[ue.value]={value:12,type:ye},o[le.value]={value:1,type:me},o[ie.value]={value:0,type:ve},o),Ee=function(e){function t(n){te(this,t);var r=ne(this,e.call(this,n));return r.state={sending:!1,invited:!1,hovered:!1},r}return re(t,e),t.prototype.handleInvite=function(){var e=this,t=this.props,n=t.user,r=t.channel,o=t.code;this.setState({sending:!0}),c.default.enqueue({code:o,user:n,channel:r},function(t){t?e.setState({sending:!1,invited:!0}):e.setState({sending:!1,invited:!1})})},t.prototype.render=function(){var e=this,t=this.props,n=t.user,r=t.channel,o=void 0;return o=this.state.invited?i(O.default,{look:O.default.Looks.LINK,size:O.default.Sizes.SMALL,disabled:!0,color:O.default.Colors.GREY},void 0,$.default.Messages.INVITE_FRIEND_MODAL_SENT):i(O.default,{color:O.default.Colors.GREEN,look:this.state.hovered?O.default.Looks.FILLED:O.default.Looks.OUTLINED,className:Z.default.inviteRowButton,size:O.default.Sizes.SMALL,submitting:this.state.sending,onClick:function(){return e.handleInvite()}},void 0,$.default.Messages.INVITE_FRIEND_MODAL_INVITE),i("div",{className:Z.default.inviteRow,onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}},void 0,i("div",{className:Z.default.inviteRowInfo},void 0,i(Y.default,{channel:r,user:n,size:"small",className:Z.default.inviteRowAvatar}),i("div",{className:Z.default.inviteRowName},void 0,null!=n?n.toString():null,null!=r?r.toString():null)),o)},t}(l.Component);Ee.displayName="InviteRow";var ge=function(e){function t(n){te(this,t);var r=ne(this,e.call(this,n));Se.call(r);var o=n.maxAge,a=n.maxUses,i=n.temporary,l=n.totalSuggestions,u=n.omitUserIds;return r.state={query:"",friends:_.default.getFriendIDs().reduce(function(e,t){var n=I.default.getUser(t);return null==n||u.has(n.id)||e.push(n),e},[]),dms:[],groupDms:[],copied:!1,focused:!1,settingsOpen:!1,maxAge:null!=o?o:le.value,savedMaxAge:o===ie.value?le.value:ie.value,maxUses:a||ce.value,temporary:i||!1,showFriends:l>=pe,generateNewLink:!1},r}return re(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.channel,n=e.code,r=e.source,o=e.totalSuggestions,a=e.canCreateInvites,i=e.streamUserId,l=this.state,u=l.maxAge,s=l.maxUses,f=l.temporary,c=l.showFriends;if(a){var p=null!=t?t.id:E.default.getChannelId();if(null==p)return;d.default.createInvite(p,{validate:n||null,max_age:u,max_uses:s,target_user_id:i,target_user_type:null!=i?z.InviteTargetUserTypes.STREAM:null,temporary:f},r)}var y=this.props.guild;if(c){var m=this.state.friends.length,v=this.props.privateChannelIds,_=h.default.getChannels(),g=v.reduce(function(e,t){return _[t].type===z.ChannelTypes.DM?e.numDms+=1:e.numGroupDms+=1,e},{numDms:0,numGroupDms:0}),S=g.numDms,T=g.numGroupDms;F.default.track(z.AnalyticEvents.INVITE_SUGGESTION_OPENED,{location:r,num_suggestions:o,num_friends:m,num_dms:S,num_group_dms:T,guild_id:y.id})}F.default.track(z.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite Modal",Source:r})},t.prototype.componentDidUpdate=function(){this.state.generateNewLink&&(this.handleGenerateNewLink(),this.setState({generateNewLink:!1}))},t.prototype.renderCopyInput=function(){var e,t=this,n=this.props,r=n.code,o=n.hide,a=n.vanityURLCode,s=n.canCreateInvites,d=this.state,f=d.copied,c=d.focused,p=d.showFriends,h=(0,H.getInviteURL)(r||a||"");return i(l.Fragment,{},void 0,i("div",{className:(0,u.default)(J.default.input,q.default.flexJustifyBetween,q.default.flexCenter,(e={},e[J.default.success]=f,e[J.default.focused]=c,e))},void 0,i(k.default,{className:Z.default.copyInput,name:"invite",value:o?$.default.Messages.INSTANT_INVITE_HIDDEN:h,editable:!1,inputClassName:Z.default.noBorder,autoFocus:!p,onFocus:function(){return p?null:t.setState({focused:!0})},onBlur:function(){return p?null:t.setState({focused:!1})},spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),B.SUPPORTS_COPY?i(O.default,{size:O.default.Sizes.SMALL,color:f?O.default.Colors.GREEN:O.default.Colors.BRAND,className:Z.default.copyButton,onClick:function(){return t.handleCopy(h)}},void 0,f?$.default.Messages.INVITE_COPIED:$.default.Messages.COPY):null),s?i(U.default,{className:(0,u.default)(X.default.marginTop8,Z.default.footerText)},void 0,this.maxAgeString()," ",p?i(A.default,{onClick:this.openSettings},void 0,$.default.Messages.INVITE_EDIT_LINK):null):null)},t.prototype.renderHeader=function(){var e=this,t=this.props,n=t.guild,r=t.streamUserId,o=this.state,a=o.showFriends,l=o.settingsOpen,u=o.query,s=T.default.theme,d=null,f=null!=r?$.default.Messages.INVITE_STREAM_HEADER:$.default.Messages.GROUP_DM_INVITE_WITH_NAME.format({groupname:n.toString()});return d=l?i(x.FormTitle,{tag:x.FormTitle.Tags.H2,className:X.default.marginReset},void 0,$.default.Messages.INVITE_SETTINGS_TITLE):a?i("div",{className:Z.default.header},void 0,i(x.FormTitle,{tag:x.FormTitle.Tags.H2,className:X.default.marginBottom8},void 0,f),i(K.default,{query:u,className:X.default.marginTop4,onQueryChange:this.handleQueryChange,light:s===z.ThemeTypes.LIGHT,placeholder:$.default.Messages.INVITE_SEARCH_FOR_FRIENDS,autoFocus:!0,onClear:function(){e.setState({query:""})}})):i(x.FormTitle,{tag:x.FormTitle.Tags.H2,className:X.default.marginReset},void 0,f),i(L.default.Header,{separator:a&&!l},void 0,i(L.default.CloseButton,{className:Z.default.closeButton,onClick:this.handleDone}),d)},t.prototype.renderSettingsBody=function(){var e=this.state,t=e.maxAge,n=e.maxUses,r=e.temporary,o=oe.find(function(e){return e.value===t}),a=ae.find(function(e){return e.value===n});return i(L.default.Content,{outerClassName:Z.default.settingsContent,className:Z.default.noScroll},void 0,i("form",{onSubmit:this.handleGenerateNewLink},void 0,i(x.FormItem,{title:$.default.Messages.EXPIRE_AFTER,className:X.default.marginTop20},void 0,i(w.default,{value:o,clearable:!1,searchable:!1,options:oe,onChange:this.handleSelectMaxAge,className:Z.default.select})),i(x.FormItem,{title:$.default.Messages.MAX_NUMBER_OF_USES,className:(0,u.default)(X.default.marginTop20,X.default.marginBottom4)},void 0,i(w.default,{value:a,clearable:!1,searchable:!1,options:ae,onChange:this.handleSelectMaxUses,className:Z.default.select})),i(x.FormItem,{className:X.default.marginTop20},void 0,i(D.default,{value:r,clearable:!1,searchable:!1,options:ae,onChange:this.handleToggleTemporary,note:$.default.Messages.TEMPORARY_MEMBERSHIP_EXPLANATION,hideBorder:!0},void 0,i(U.default,{},void 0,$.default.Messages.GRANT_TEMPORARY_MEMBERSHIP)))))},t.prototype.renderFriendsBody=function(){var e=this,t=this.props,n=t.code,r=t.vanityURLCode,o=t.privateChannelIds,a=this.state,l=a.query,s=a.dms,d=a.groupDms,f=a.friends,c=n||r,p=void 0;if(0===f.length&&0===o.length&&0===s.length&&0===d.length?p=$.default.Messages.INVITE_FRIEND_MODAL_NO_RESULTS:null==c&&(p=$.default.Messages.INVITE_FRIEND_MODAL_LOADING),null!=p)return i(L.default.Content,{className:X.default.marginBottom20},void 0,i(M.EmptyStateText,{},void 0,p));var y=h.default.getChannels(),m=new Set,_=null,E=null;return""===l?(_=o.map(function(e){var t=y[e];if(null==t)return null;if(t.type===z.ChannelTypes.DM){var n=t.getRecipientId();if(null!=n){var r=I.default.getUser(n);return null==r?null:(m.add(n),i(Ee,{user:r,code:c},"dm-"+n))}return null}return i(Ee,{channel:t,code:c},"group-dm-"+t.id)}),E=f.map(function(e){return m.has(e.id)?null:i(Ee,{user:e,code:c},"user-"+e.id)})):_=[].concat(s.map(function(e){var t=h.default.getDMFromUserId(e.id);return null==t?null:null==v.default.lastMessageId(t)?null:(m.add(e.id),i(Ee,{user:e,code:c},"dm-"+e.id))}),d.map(function(e){return i(Ee,{channel:e,code:c},"group-dm-"+e.id)}),f.map(function(e){return m.has(e.id)?null:i(Ee,{user:e,code:c},"user-"+e.id)})),i(L.default.Content,{className:(0,u.default)(Z.default.scroller),scrollerRef:function(t){e._scroller=t}},void 0,_,E)},t.prototype.renderBody=function(){var e=this.props.guild,t=this.state,n=t.settingsOpen,r=t.showFriends;if(n)return this.renderSettingsBody();if(r)return this.renderFriendsBody();var o=I.default.getCurrentUser(),a=e.isOwner(o);return i(L.default.Content,{className:Z.default.noScroll},void 0,i(R.default,{direction:R.default.Direction.VERTICAL,className:X.default.marginBottom20},void 0,i(U.default,{className:Z.default.subText},void 0,a?$.default.Messages.INVITE_SHARE_LINK_OWN_SERVER:$.default.Messages.SHARE_INVITE_LINK_FOR_ACCESS),this.renderCopyInput()))},t.prototype.renderFooter=function(){var e,t=this.props,n=t.canCreateInvites,r=t.streamUserId,o=this.state,a=o.showFriends,s=o.settingsOpen,d=o.maxAge,f=T.default.theme,c=null;if(s)c=i(l.Fragment,{},void 0,i(O.default,{onClick:this.handleGenerateNewLink},void 0,$.default.Messages.GENERATE_A_NEW_LINK),i(O.default,{look:O.default.Looks.LINK,color:f===z.ThemeTypes.LIGHT?O.default.Colors.PRIMARY:O.default.Colors.WHITE,onClick:this.handleDone},void 0,$.default.Messages.CANCEL));else if(a){var p=null!=r?$.default.Messages.INVITE_STREAM_FOOTER_LINK_HEADER:$.default.Messages.INVITE_FOOTER_LINK_HEADER;c=i(R.default,{direction:R.default.Direction.VERTICAL,className:Z.default.content},void 0,i(x.FormTitle,{tag:x.FormTitle.Tags.H5,className:X.default.marginBottom8},void 0,p),this.renderCopyInput())}else n&&(c=i(R.default,{justify:R.default.Justify.BETWEEN,className:X.default.marginTop20},void 0,i(W.default,{checked:d===ie.value,onChange:this.handleToggleMaxAge},void 0,i(U.default,{className:Z.default.checkBoxLabel},void 0,$.default.Messages.SET_INVITE_LINK_NEVER_EXPIRE)),i(G.default,{text:$.default.Messages.LINK_SETTINGS},void 0,i(b.default,{onClick:this.openSettings,className:Q.default.cursorPointer},void 0,i(P.default,{name:P.default.Names.GEAR,width:18,height:18,color:z.Colors.PRIMARY_DARK_400})))));return null!=c?i(L.default.Footer,{className:s?Z.default.settingsFooter:(0,u.default)((e={},e[Z.default.noPadding]=!a,e[Z.default.footer]=a,e))},void 0,c):null},t.prototype.render=function(){return i("div",{className:this.state.showFriends?Z.default.wrapper:void 0},void 0,i(L.default,{className:Z.default.modal},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(l.PureComponent),Se=function(){var e=this;this.handleGenerateNewLink=function(){var t=e.props,n=t.channel,r=t.source,o=null!=n?n.id:E.default.getChannelId();null!=o&&d.default.createInvite(o,{max_age:e.state.maxAge,max_uses:e.state.maxUses,temporary:e.state.temporary},r),e.state.maxAge===ie.value||e.state.savedMaxAge===ie.value?e.setState({settingsOpen:!1}):e.setState({settingsOpen:!1,savedMaxAge:ie.value})},this.handleCopy=function(t){var n=e.props,r=n.channel,o=n.source,a=n.code;(0,B.copy)(t),e.setState({copied:!0}),setTimeout(function(){e.setState({copied:!1})},1e3);var i=null!=r?r.id:E.default.getChannelId(),l=void 0;if(null!=r)l=r.type;else{var u=h.default.getChannel(i);null!=u&&(l=u.type)}F.default.track(z.AnalyticEvents.COPY_INSTANT_INVITE,{server:g.default.getGuildId(),channel:i,channel_type:l,location:o,code:a})},this.openSettings=function(){e.setState({settingsOpen:!0})},this.maxAgeString=function(){var t=e.state,n=t.maxAge,r=t.maxUses,o=parseInt(r,10),a=0===o,i=_e[n].value;switch(_e[n].type){case he:return a?$.default.Messages.INVITE_EXPIRES_MINUTES:$.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:o});case ye:return a?$.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:i}):$.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:i,numUses:o});case me:return a?$.default.Messages.INVITE_EXPIRES_DAYS:$.default.Messages.INVITE_EXPIRES_DAYS_OR_USES.format({numUses:o});case ve:return a?$.default.Messages.INVITE_EXPIRES_NEVER:$.default.Messages.INVITE_EXPIRES_USES.format({numUses:o});default:return""}},this.handleSelectMaxAge=function(t){e.setState({maxAge:parseInt(t.value,10),savedMaxAge:e.state.maxAge})},this.handleSelectMaxUses=function(t){e.setState({maxUses:parseInt(t.value,10)})},this.handleToggleTemporary=function(t){e.setState({temporary:t.currentTarget.checked})},this.handleQueryChange=function(t){null!=e._scroller&&e._scroller.scrollTo(0);var n=function(t){return!e.props.omitUserIds.has(t.id)};e.setState({query:t,friends:j.default.queryFriends(t,500,!1,n).map(function(e){return e.user}),dms:j.default.queryDMUsers(t,50,!1,n).map(function(e){return e.user}),groupDms:j.default.queryGroupDMs(t,50,!1).map(function(e){return e.channel})})},this.handleToggleMaxAge=function(){e.setState({maxAge:e.state.savedMaxAge,savedMaxAge:e.state.maxAge,generateNewLink:!0})},this.handleDone=function(){e.state.settingsOpen?e.setState({settingsOpen:!1}):f.default.pop()}};ge.displayName="InstantInviteModal",t.default=s.default.connectStores([y.default,S.default,_.default,N.default,h.default,m.default],function(e){var t=e.channel,n=e.guild,r=e.streamUserId,o=null!=t?t.id:E.default.getChannelId(),i=null!=o?y.default.getInvite(o):null,l=_.default.getFriendIDs().length,u=h.default.getChannels(),s=null!=t?t.guild_id:null,d=new Set;null!=r?d=new Set(C.default.getVoiceStatesForChannel(o).map(function(e){return e.userId})):null!=s&&(d=new Set(p.default.getProps(s,o).rows.map(function(e){return e.userId})));var f=N.default.getPrivateChannelIds().filter(function(e){var t=u[e];if(null==t)return!1;if(t.type===z.ChannelTypes.GROUP_DM)return!0;var n=v.default.lastMessageId(t.id),r=t.getRecipientId();return null!=r&&null!=n&&!d.has(r)}),c=f.length,g=S.default.hideInstantInvites,T=l+c,I=null!=t?t:h.default.getChannel(o),A=null!=I&&m.default.can(z.Permissions.CREATE_INSTANT_INVITE,I),O={hide:g,totalSuggestions:T,privateChannelIds:f,vanityURLCode:A?null:n.vanityURLCode,canCreateInvites:A,omitUserIds:d};if(null==i)return O;var b=i.code,M=i.maxAge,R=i.maxUses,P=i.temporary;return a({},O,{code:b,maxAge:M,maxUses:R,temporary:P})})(ge),e.exports=t.default},6020:function(e,t,n){"use strict";t.__esModule=!0,t.transitionToChannel=function(e,t){if(i.default.hasModalOpen())return;a.default.closeAll(),o.default.channelListScrollTo(e,t),r.default.selectChannel(e,t)},t.transitionToPage=function(e){if(i.default.hasModalOpen())return;a.default.closeAll(),l.default.replaceWith(e)};var r=u(n(6e3)),o=u(n(6005)),a=u(n(830)),i=u(n(852)),l=u(n(45));function u(e){return e&&e.__esModule?e:{default:e}}},6021:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.trackGameNewsChanged=function(e,t,n,r){return l.default.track(u.AnalyticEvents.GAME_NEWS_CHANGED,{location:e,load_id:null!=r?r.loadId:void 0,game_id:null!=t?t.id:null,game_name:null!=t?t.name:null,af_news:!0,change_count:n})},t.trackGameNewsOpened=function(e,t,n,o,a){var i={location:e,news_url:t.url,news_index:n,news_id:t.id},s=null!=a?{load_id:a.loadId,card_index:a.index,card_type:a.type}:{},d=null!=o?{game_id:o.id,game_name:o.name,af_news:!0}:{af_news:!0};return l.default.track(u.AnalyticEvents.GAME_NEWS_OPENED,r({},i,s,d))},t.trackUserMessaged=function(e,t,n,o,i){var s={game_name:null!=n?n.name:null,game_id:null!=n?n.id:null},d=null!=o?{af_voice_chat:o.voiceChannels.length>0,af_people_count:o.partiedMembers.length,af_recently_played:!1,af_rich_presence:o.currentActivities.some(function(e){var t=e.activity;return(0,a.hasRichActivity)(t)}),game_platform:o.currentActivities.length>0?(0,a.getGamePlatform)(o.currentActivities[0].activity):null}:{af_recently_played:!0},f={load_id:i.loadId,card_index:i.index,card_type:i.type},c={channel_id:t,recipient_id:e.id};return l.default.track(u.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,r({},s,d,f,c))},t.trackGamePopoutOpened=function(e,t,n){return l.default.track(u.AnalyticEvents.OPEN_POPOUT,{type:u.AnalyticsLocations.GAME_POPOUT,source:t,location:n,game_id:e.id,game_name:e.name,sku_id:e.primarySkuId,application_id:e.id})},t.trackGameModalOpened=function(e,t,n){return l.default.track(u.AnalyticEvents.OPEN_MODAL,{type:u.AnalyticsLocations.GAME_MODAL,source:t,location:n,game_id:e.id,game_name:e.name,sku_id:e.primarySkuId})};var o,a=n(224),i=n(18),l=(o=i)&&o.__esModule?o:{default:o},u=n(0)},6023:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(5399)),l=u(n(5364));function u(e){return e&&e.__esModule?e:{default:e}}var s=Object.freeze({SIZE_10:l.default.size10,SIZE_12:l.default.size12,SIZE_14:l.default.size14,SIZE_16:l.default.size16,SIZE_20:l.default.size20,SIZE_24:l.default.size24}),d=Object.freeze({H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6"}),f=function(e){var t,n=e.tag,r=void 0===n?d.H3:n,l=e.className,u=void 0===l?i.default.wrapper:l,f=e.size,c=void 0===f?s.SIZE_14:f,p=e.selectable,h=void 0!==p&&p,y=e.children,m=e.color;return o(r,{className:(0,a.default)(u,i.default.base,c,(t={},t[i.default.selectable]=h,t)),style:null!=m?{color:m}:null},void 0,y)};f.displayName="Header",f.Sizes=s,f.Tags=d,t.default=f,e.exports=t.default},6024:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=F(n(2)),u=x(n(17)),s=n(453),d=x(n(4)),f=x(n(183)),c=n(904),p=F(n(321)),h=F(n(896)),y=n(839),m=x(n(831)),v=x(n(5980)),_=x(n(43)),E=x(n(35)),g=x(n(15)),S=x(n(154)),T=x(n(862)),I=x(n(6069)),C=x(n(179)),N=x(n(187)),A=x(n(128)),O=x(n(306)),b=x(n(6018)),M=x(n(442)),R=x(n(18)),P=n(162),L=x(n(225)),w=x(n(45)),D=n(6004),U=n(0),k=x(n(13)),G=x(n(5401));function x(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var H=function(e){function t(){var n,r,o,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=B(this,e.call.apply(e,[this].concat(l))),r.handleViewInStore=function(e){var t=r.props,n=t.sku,o=t.skuId,a=t.application,i=t.onClick;if(null==n)throw new Error("Unexpected missing sku");null!=i&&i(e),null!=o?(0,y.goToSKUStoreListing)(n.id,{analyticsSource:r.analyticsLocation,slug:n.slug}):null!=a&&(0,y.goToApplicationStoreListing)(a.id,{analyticsSource:r.analyticsLocation,slug:a.slug})},r.handleClick=(o=j(regeneratorRuntime.mark(function e(t){var n,o,i,l,u,d,p,y,v,_,E,g,S,T,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props,o=n.isAuthenticated,i=n.applicationId,l=n.sku,u=n.targetSkuId,d=n.entitlementBranchId,p=n.isUserPremium,y=n.onClick,v=n.isInTestMode,_=n.storeListingAnalyticsProperties,E=n.asGift,g=n.forceDistribution,null!=l){e.next=3;break}throw new Error("should not be able to buy without sku");case 3:if(null!=y&&null!=t&&y(t),null==l.externalPurchaseUrl){e.next=7;break}return window.open(l.externalPurchaseUrl),e.abrupt("return");case 7:if(o){e.next=11;break}return S={redirect_to:U.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug)},w.default.transitionTo(U.Routes.LOGIN,{search:(0,s.stringify)(S)}),e.abrupt("return");case 11:if(T=null!=d,!l.premium||g||p||v||T){e.next=17;break}a=r.analyticsLocation,R.default.track(U.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:a}),m.default.open(U.UserSettingsSections.PREMIUM),e.next=37;break;case 17:if((l.requiresPayment||g)&&!T){e.next=29;break}return e.prev=18,e.next=21,r.purchaseOrGrantSKU(l);case 21:I=e.sent,(0,c.openPurchaseConfirmationModal)(l.applicationId,l.id,I,{analyticsSource:r.analyticsLocation}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(18);case 27:e.next=37;break;case 29:return e.prev=29,e.next=32,h.openSKUPaymentModal(i,u,r.analyticsLocation,{promotionId:null!=_?_.promotionId:null,isGift:E});case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(29),e.t1===U.PaymentModalPriceChangedError&&f.default.show({title:k.default.Messages.PAYMENT_PRICE_CHANGE_TITLE,body:k.default.Messages.PAYMENT_PRICE_CHANGE_BODY,confirmText:k.default.Messages.OKAY});case 37:case"end":return e.stop()}var a},e,a,[[18,25],[29,34]])})),function(e){return o.apply(this,arguments)}),B(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.applicationId,r=e.targetSkuId;null==t&&p.fetchSKU(n,r).catch(function(){})},t.prototype.componentDidUpdate=function(e){this.props.locale!==e.locale&&p.fetchSKU(this.props.applicationId,this.props.targetSkuId).catch(function(){})},t.prototype.purchaseOrGrantSKU=function(){var e=j(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.channelId,o=n.entitlementBranchId,a=n.analyticsContext,null==r||null==o){e.next=6;break}return e.next=4,p.grantChannelBranchEntitlement(t.applicationId,r,t.id);case 4:return i=e.sent,e.abrupt("return",i);case 6:return e.next=8,p.purchaseSKU(t.applicationId,t.id,{analyticsLoadId:a.loadId});case 8:return l=e.sent,e.abrupt("return",l.entitlements);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.prototype.wrapWithDisabledTooltip=function(e,t){var n=this.props,r=n.className,o=n.tooltipPosition;return a("div",{className:(0,u.default)(G.default.disabledButtonWrapper,r)},void 0,e,a(M.default,{text:t,position:o},void 0,a("div",{className:G.default.disabledButtonOverlay})))},t.prototype.renderButton=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.freeze({}),n=this.props,r=n.isPurchasing,a=n.wrapperClassName,i=n.className,s=n.fullWidth,d=n.size,f=n.isWindowFocused,c=n.color,p=n.customDisabledColor,h=n.pauseAnimation,y=n.isEntitled,m=n.asGift,v=n.sku,_=n.entitlementBranchId,E=n.isInTestMode,g=n.innerClassName,S=!0===y&&(null==v||v.type!==U.SKUTypes.CONSUMABLE),T=null!=_,I=!0===t.disabled||null!=v&&!v.available&&!T&&!E||S&&!m,C=t.disabledTooltipText,N={wrapperClassName:a,className:i,fullWidth:s,size:d,color:I&&null!=p?p:null!=c?c:A.default.Colors.GREEN,hover:this.hover,innerClassName:(0,u.default)(null!=g?g:null,G.default.applicationBuyButton),disabled:I,submitting:r||!0===t.submitting,onClick:null!=t.onClick?t.onClick:this.handleClick},O=void 0;return O=!0===t.useShinyButton?l.createElement(b.default,o({},N,{pauseAnimation:!f||h}),t.buttonIcon,e):l.createElement(A.default,N,t.buttonIcon,e),null!=C?this.wrapWithDisabledTooltip(O,C):O},t.prototype.renderFreeButton=function(e,t){var n=this.props,r=n.isEntitled,o=n.isUserPremium,a=n.isInTestMode,i=n.forceDistribution;if(null!=n.entitlementBranchId)return(0,D.canUserInstall)(e)&&!r?this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY);var l=e.getPrice();return e.premium&&!i&&(o||a)?(0,D.canUserInstall)(e)&&!r?this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_INSTALL,t):this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY,t):null==l||0!==l.amount||e.premium&&!(0,P.hasFlag)(e.flags,U.SKUFlags.PREMIUM_AND_DISTRIBUTION)?void 0:(0,D.canUserInstall)(e)&&!r?this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY)},t.prototype.render=function(){var e=this.props,t=e.isAuthenticated,n=e.sku,r=e.onStoreListing,o=e.shouldRenderPrice,i=e.forceDistribution,l=e.asGift,u=e.isInTestMode,s={useShinyButton:!0,buttonIcon:a(O.default,{name:O.default.Names.NITRO_WHEEL,className:G.default.premiumIcon})};if(null==n)return this.renderButton(null,{submitting:!0});if(l)return n.isPreorder()?this.renderButton(k.default.Messages.APPLICATION_STORE_PREORDER_AS_GIFT):this.renderButton(k.default.Messages.APPLICATION_STORE_BUY_AS_GIFT);var d=this.renderFreeButton(n,s);if(null!=d)return d;if(!r)return this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE,{onClick:this.handleViewInStore});var f=n.getPrice();return!n.available&&!u||!n.premium&&null==f?this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE,{disabled:!0}):n.restricted?this.renderButton(k.default.Messages.APPLICATION_STORE_BUY,{disabledTooltipText:k.default.Messages.GAME_ACTION_BUTTON_RESTRICTED_IN_REGION}):n.premium&&!i?this.renderButton(k.default.Messages.APPLICATION_STORE_GET_PREMIUM,s):t||null!=n.externalPurchaseUrl?n.isPreorder()?this.renderButton(o?k.default.Messages.APPLICATION_STORE_PREORDER_FOR_PRICE.format({price:n.getDisplayPrice(!0,!0)}):k.default.Messages.APPLICATION_STORE_PREORDER):this.renderButton(o?k.default.Messages.APPLICATION_STORE_BUY_FOR_PRICE.format({price:n.getDisplayPrice(!0,!0)}):k.default.Messages.APPLICATION_STORE_BUY):this.renderButton(k.default.Messages.GAME_ACTION_BUTTON_LOGIN_TO_BUY)},i(t,[{key:"analyticsLocation",get:function(){var e=this.props,t=e.storeListingAnalyticsProperties,n=e.asGift,r=null!=t?t.promotionId:null;return o({},this.props.analyticsContext.location,{object:U.AnalyticsObjects.BUTTON_CTA,objectType:n?U.AnalyticsObjectTypes.GIFT:U.AnalyticsObjectTypes.BUY,promotionId:r})}},{key:"hover",get:function(){var e=this.props,t=e.hover,n=e.color;return null!=t?t:null!=n?A.default.Hovers.GREEN:A.default.Hovers.DEFAULT}}]),t}(l.Component);H.defaultProps={tooltipPosition:M.default.Positions.TOP,onStoreListing:!1,shouldRenderPrice:!1,pauseAnimation:!1,asGift:!1,forceDistribution:!1},H.displayName="ApplicationBuyButton",t.default=d.default.connectStores([T.default,C.default,I.default,g.default,E.default,S.default,N.default],function(e){var t=e.skuId,n=e.applicationId,r=e.entitlementBranchId,o=e.channelId,a=g.default.getNullableCurrentUser(),i=_.default.getGame(n),l=null!=r?r:n,u=t;if(null==u&&null!=i&&(u=i.destinationSkuId),null!=r&&null==o)throw new Error("Unexpected entitlementBranchId without a channelId");return{targetSkuId:u,sku:null!=u?C.default.get(u):null,application:i,isInTestMode:N.default.inTestModeForApplication(n),isEntitled:null!=u?T.default.isEntitledToSku(a,u,n,l):null,isUserPremium:L.default.canInstallPremiumApplications(a),isWindowFocused:S.default.isFocused(),isAuthenticated:null!=a,isPurchasing:I.default.isPurchasingSKU,locale:E.default.locale}})((0,v.default)(H)),e.exports=t.default},6025:function(e,t,n){"use strict";t.__esModule=!0,t.Steps=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getCrumbLabels=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r((t={},t[i.PAYMENT_TYPE]=function(){return o.default.Messages.BILLING_STEP_PAYMENT_TYPE},t[i.PAYMENT_REQUEST_INFO]=function(){return o.default.Messages.BILLING_STEP_PAYMENT_INFO},t[i.PAYPAL]=function(){return o.default.Messages.BILLING_STEP_PAYPAL},t[i.PAYPAL_ADDRESS]=function(){return o.default.Messages.BILLING_STEP_ADDRESS},t[i.CREDIT_CARD_INFORMATION]=function(){return o.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION},t[i.ADDRESS]=function(){return o.default.Messages.BILLING_STEP_ADDRESS},t[i.REVIEW]=function(){return o.default.Messages.BILLING_STEP_REVIEW},t[i.SELECT_PLAN]=function(){return o.default.Messages.BILLING_STEP_SELECT_PLAN},t[i.CONFIRM]=function(){return""},t),n)[e]()},t.errorToStep=function(e){if(null!=e){if(e.hasCardError())return i.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return i.ADDRESS}return null},t.getStepIndex=function(e,t){return t.findIndex(function(t){return t===e})},t.canGoBack=function(e,t){return e>0||Object.keys(t).length>0};n(449),a(n(842));var o=a(n(13));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.Steps=Object.freeze({SELECT_PLAN:"select_plan",PAYMENT_TYPE:"payment_type",PAYPAL:"paypal",PAYPAL_ADDRESS:"paypal_address",PAYMENT_REQUEST_INFO:"payment_request_info",CREDIT_CARD_INFORMATION:"credit_card_information",ADDRESS:"address",REVIEW:"review",CONFIRM:"confirm"})},6026:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=s(n(17)),i=s(n(4)),l=s(n(312)),u=s(n(6104));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.usernameClass,n=e.discriminatorClass,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["usernameClass","discriminatorClass"]);return o.createElement(u.default,r({},i,{usernameClass:(0,a.default)("username",t),discriminatorClass:(0,a.default)("discriminator",n)}))},t}(o.Component);d.defaultProps={className:"discord-tag",invertBotTagColor:!1,hideDiscriminator:!1},d.displayName="DiscordTag",t.default=i.default.connectStores([l.default],function(e){return{hideDiscriminator:e.hideDiscriminator||l.default.hidePersonalInformation}})(d),e.exports=t.default},6027:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.applyChatRestrictions=function(e,t,n){var v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],S=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return new Promise(function(T){return function(e,t,n,v,S,T){if(0===t.length&&e.props.type!==y.TextareaTypes.FORM)return void T({valid:!1,failureReason:y.MessageRestrictionTypes.EMPTY_MESSAGE});if(t.length>y.MAX_MESSAGE_LENGTH)return a.default.push(function(e){return o.createElement(i.default,r({title:m.default.Messages.MESSAGE_TOO_LONG_HEADER,body:m.default.Messages.MESSAGE_TOO_LONG_BODY.format({maxLength:y.MAX_MESSAGE_LENGTH}),confirmText:m.default.Messages.OKAY},e))}),void T({valid:!1,failureReason:y.MessageRestrictionTypes.MESSAGE_TOO_LONG});var I=null!=n&&null!=n.getGuildId();if(S&&I){var C=d.default.getSlowmodeCooldownGuess(n.id)>0;if(C)return void T({valid:!1,failureReason:y.MessageRestrictionTypes.SLOWMODE_COOLDOWN})}if(I&&v&&t.match(E)){var N=0,A=t.match(E)[0],O=s.default.getProps(n.getGuildId(),n.id);if(O.groups.forEach(function(e){"@everyone"!==A&&e.id===y.StatusTypes.OFFLINE||(N+=e.count)}),N>g&&h.default.can(y.Permissions.MENTION_EVERYONE,f.default.getCurrentUser(),n))return e?void(0,c.openPopout)(e,{onClose:function(){return T({valid:!1,failureReason:y.MessageRestrictionTypes.SHOUTING_CANCELLED})},closeOnScroll:!1,backdrop:!0,shadow:!1,position:p.default.Positions.TOP_LEFT,animationType:p.default.Animations.NONE,zIndexBoost:e.props.type===y.TextareaTypes.FORM?1e3:0,render:function(e){return o.createElement(l.default,r({},e,{channel:n,onConfirm:function(){return T({valid:!0})},onCancel:function(){return T({valid:!1,failureReason:y.MessageRestrictionTypes.SHOUTING_CANCELLED})},numPeople:N,role:A}))}},_):void T({valid:!0})}if(u.default.isFull())return a.default.push(function(e){return o.createElement(i.default,r({title:m.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:m.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:m.default.Messages.MESSAGE_RATE_LIMITED_BUTTON},e))}),void T({valid:!1,failureReason:y.MessageRestrictionTypes.RATE_LIMITED});T({valid:!0})}(e,t,n,v,S,T)})};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=v(n(80)),i=v(n(460)),l=v(n(6262)),u=v(n(915)),s=v(n(6105)),d=v(n(6047)),f=v(n(15)),c=n(827),p=v(c),h=v(n(100)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var _="popout-channel-text-area-shouting",E=new RegExp(/@(:?everyone|here)/,"i"),g=30},6028:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(4)),i=n(81),l=c(n(1)),u=c(n(43)),s=c(n(132)),d=c(n(451)),f=c(n(15));n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=72e5,h=1728e5,y={},m={},v={},_=!1,E=new i.Interval;function g(){var e=Date.now(),t=!1,n=function(t){return null!=t&&e-t.date>h};for(var r in y){var o=y[r];if(null!=o)for(var a in o){n(o[a])&&(delete y[r][a],null!=m[a]&&delete m[a][r],t=!0)}}return t}function S(e){var t=e.user,n=e.activities;if(null==t||!d.default.isOnFeed(t.id))return!1;var r=!1,a=v[t.id]||new Set,i=new Set;return n.forEach(function(e){var n=u.default.getGameByName(e.name),a=null!=n?n.id:null;null!=a&&(i.add(a),null!=y[t.id]&&null!=y[t.id][a]&&y[t.id][a].gameId===a&&(delete(y=o({},y))[t.id][a],null!=m[a]&&delete(m=o({},m))[a][t.id],r=!0))}),a.forEach(function(e){if(!i.has(e)){var n,a,l,u,s=Date.now();y=o({},y,((a={})[t.id]=o({},y[t.id],((n={})[e]={gameId:e,date:s},n)),a)),m=o({},m,((u={})[e]=o({},m[e],((l={})[t.id]={userId:t.id,date:s},l)),u)),r=!0}}),v[t.id]=i,r}function T(){s.default.getUserIds().forEach(function(e){var t=f.default.getUser(e);null!=t&&S({user:t,activities:s.default.getActivities(t.id)})})}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,d.default),this.syncWith([u.default],T),g()},t.prototype.getUserGames=function(e){return y[e]||[]},t.prototype.getRecentlyPlayedForApplication=function(e){return m[e]},r(t,[{key:"gamesByUser",get:function(){return y}},{key:"usersByGame",get:function(){return m}},{key:"hasFetchedActivities",get:function(){return _}}]),t}(a.default.Store);t.default=new I(l.default,{ACTIVITY_FEED_MOUNT:function(e){return E.start(p,g),g()},ACTIVITY_FEED_UNMOUNT:function(e){E.stop()},ACTIVITIES_UPDATE:function(e){var t=e.activities;y={};var n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a,l=i.user_id,u=i.application_id,s=i.updated_at,d=Date.parse(s);null!=v[l]&&v[l].has(u)||(null==y[l]||null==y[l][u]||y[l][u].date<d)&&(null==y[l]&&(y[l]={}),null==m[u]&&(m[u]={}),y[l][u]={gameId:u,date:d},m[u][l]={userId:l,date:d})}_=!0},PRESENCE_UPDATE:S,CONNECTION_OPEN:function(e){var t=e.presences;v={};var n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}S(a)}},LOGOUT:function(e){return y={},m={},void(v={})}}),e.exports=t.default},6029:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getIconNameForChannel=v;var u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=n(180),d=y(n(221)),f=y(n(152)),c=y(n(306)),p=n(0),h=y(n(5465));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){e.stopPropagation()}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==e)return null;return e.type===p.ChannelTypes.GUILD_TEXT&&null!=e.isNSFW&&e.isNSFW()?c.default.Names.CHANNEL_TEXT_NSFW:e.type===p.ChannelTypes.GUILD_NEWS?c.default.Names.NEWSPAPER:t?c.default.Names.LOCK_CLOSED:r?c.default.Names.LIVE_STREAM:e.isRoleRequired()?n?c.default.Names.VIDEO_CAMERA_LIMITED:_[e.type]:n?c.default.Names.VIDEO_CAMERA:E[e.type]}var _=((o={})[p.ChannelTypes.GUILD_TEXT]=c.default.Names.CHANNEL_TEXT_LIMITED,o[p.ChannelTypes.GUILD_VOICE]=c.default.Names.SPEAKER_LIMITED,o[p.ChannelTypes.GUILD_STORE]=c.default.Names.CHANNEL_TEXT_LIMITED,o),E=((a={})[p.ChannelTypes.GUILD_TEXT]=c.default.Names.CHANNEL_TEXT,a[p.ChannelTypes.GUILD_VOICE]=c.default.Names.SPEAKER,a[p.ChannelTypes.GUILD_STORE]=c.default.Names.STORE_TAG,a),g=((i={})[p.ChannelTypes.GUILD_NEWS]="Text",i[p.ChannelTypes.GUILD_TEXT]="Text",i[p.ChannelTypes.GUILD_VOICE]="Voice",i[p.ChannelTypes.GUILD_STORE]="Text",i),S="Selected",T="Connected",I="Hovered",C="Unread",N="Muted",A="Locked",O="Default",b=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.channel;n&&n(e,o)},r.handleMouseEnter=function(e){var t=r.props,n=t.onMouseEnter,o=t.channel;r.setState({hovered:!0}),n&&n(e,o)},r.handleMouseLeave=function(e){var t=r.props,n=t.onMouseLeave,o=t.channel;r.setState({hovered:!1}),n&&n(e,o)},r.handleMouseDown=function(e){var t=r.props,n=t.onMouseDown,o=t.channel;n&&n(e,o)},r.handleMouseUp=function(e){var t=r.props,n=t.onMouseUp,o=t.channel;n&&n(e,o)},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.channel;n&&n(e,o)},r.state={hovered:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMode=function(){var e=this.props,t=e.muted,n=e.selected,r=e.connected,o=e.unread,a=e.locked,i=this.state.hovered;return n?S:r?T:a?A:i?I:t?N:o?C:O},t.prototype.renderUnread=function(){var e=this.props,t=e.unread,n=e.muted,r=e.selected;return n||!t||r?null:l("div",{className:h.default.unread})},t.prototype.renderTypeIcon=function(){var e=this.props,t=e.channel,n=v(t,e.locked,e.video,e.stream),r=this.getMode();return l(f.default.Child,{wrap:!0,grow:0,shrink:0,className:h.default.marginReset},void 0,null!=n?l(c.default,{name:n,className:(0,s.getClass)(h.default,"color",r,g[t.type]),foreground:h.default.foreground,background:h.default.background,width:16,height:16}):null)},t.prototype.renderName=function(){var e=this.props,t=e.channel,n=t.name,r=t.type,o=e.unread,a=this.getMode();return a===I&&o&&(a=C),l(f.default.Child,{className:(0,s.getClass)(h.default,"name",a,g[r])},void 0,n)},t.prototype.renderIcons=function(){var e=this.props.children;return 0===u.Children.count(e)?null:l(f.default,{grow:0,onClick:m,align:f.default.Align.CENTER,className:h.default.marginReset},void 0,e)},t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.onMouseDown,r=e.onMouseUp,o=e.onContextMenu,a=e.connectDragPreview,i=e.channel.type,u=this.getMode(),f=l("div",{className:(0,s.getClass)(h.default,"content",u,g[i])},void 0,this.renderTypeIcon(),this.renderName(),this.renderIcons());return l(d.default,{className:(0,s.getClass)(h.default,"wrapper",u,g[i]),onClick:t&&this.handleClick,onMouseUp:r&&this.handleMouseUp,onMouseDown:n&&this.handleMouseDown,onContextMenu:o&&this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnread(),a?a(f):f)},t}(u.PureComponent);b.displayName="ChannelItem",t.default=b},6030:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t&&i.default.register(e,t);var p=e.getExperimentId();return(0,r.default)({displayName:"ExperimentContainer",mixins:[o.default.LazyStoreListenerMixin(e,s.default,d.default,l.default,u.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,a.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!f.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||d.default.getGuildId(),n=this.props.channelId||s.default.getChannelId(t),r=null,o=u.default.getOverrideExperimentDescriptor(p);return r=o||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:r}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[c.ExperimentTypes.NONE]||h;var n=e.type,r=e.bucket,o=t[n];return null==o?t[c.ExperimentTypes.NONE]||h:null!=o[r]?o[r]:t[c.ExperimentTypes.NONE]||h},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;i.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;f.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props,r=(n.renderFunctions,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["renderFunctions"]));return e(r,t)}})};var r=p(n(308)),o=p(n(4)),a=p(n(328)),i=p(n(136)),l=p(n(12)),u=p(n(58)),s=p(n(51)),d=p(n(155)),f=p(n(6100)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return null};e.exports=t.default},6031:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){var n=function(n){function u(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,t)),o=e(t);return a.default.forEach(o,function(e,t){return(0,l.subscribeMembers)(t,e)}),r._subscriptions=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,n),u.prototype.componentDidUpdate=function(t){if(!(0,i.default)(this.props,t)){var n=e(this.props);null!=this._subscriptions&&a.default.isEqual(this._subscriptions,n)||(null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,l.unsubscribeMembers)(t,e)}),a.default.forEach(n,function(e,t){return(0,l.subscribeMembers)(t,e)}),this._subscriptions=n)}},u.prototype.componentWillUnmount=function(){null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,l.unsubscribeMembers)(t,e)})},u.prototype.render=function(){var e=this.props,n=e.forwardedRef,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["forwardedRef"]);return o.createElement(t,r({ref:n},a))},u}(o.Component);return n.displayName="SubscribeGuildMembersContainer("+function(e){return e.displayName||e.name||"Component"}(t)+")",n.displayName="WrappedComponent",o.forwardRef(function(e,t){return o.createElement(n,r({},e,{forwardedRef:t}))})}};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=u(n(6)),i=u(n(328)),l=n(6189);function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},6032:function(e,t,n){"use strict";t.__esModule=!0,t.acceptPurchaseTerms=function(){a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_ACCEPT_STORE_TERMS})},t.acceptEULA=function(e){a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_ACCEPT_EULA,eulaId:e})},t.muteStoreDirectory=function(){a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_DIRECTORY_MUTE})},t.unmuteStoreDirectory=function(){a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMUTE})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6033:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),d(n(17))),i=d(n(221)),l=d(n(306)),u=n(875),s=d(n(5393));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.onPlay,n=e.externalURL,r=e.className,d=e.linkComponent,f=e.inactive,c=e.playText,p=d||"a",h=null!=c;return o(u.MessagesInteractionContext.Consumer,{},void 0,function(e){var u,d;return o("div",{className:(0,a.default)(r,s.default.wrapper,(u={},u[s.default.disableInteractions]=e.disableInteractions,u[s.default.wrapperHasPlayText]=h,u))},void 0,f&&null==t?o("div",{className:s.default.iconWrapper},void 0,o(l.default,{name:l.default.Names.PLAY,className:s.default.iconPlay})):null,null!=t?o(i.default,{onClick:t,className:(0,a.default)(s.default.iconWrapperActive,(d={},d[s.default.iconWrapperHasPlayText]=h,d))},void 0,o(l.default,{name:l.default.Names.PLAY,className:s.default.iconPlay}),h?o("span",{className:s.default.text},void 0,c):null):null,h||null==n||null==p?null:o(p,{href:n,target:"_blank",rel:"noreferrer noopener",className:s.default.iconWrapperActive},void 0,o(l.default,{name:l.default.Names.OPEN_EXTERNAL,className:null!=t?s.default.iconExternalMargins:s.default.iconExternal})))})};f.displayName="VideoPlayPill",t.default=f,e.exports=t.default},6034:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=A(n(6022)),a=A(n(6)),i=n(6200),l=n(131),u=A(n(22)),s=A(n(235)),d=n(111),f=A(d),c=A(n(72)),p=A(n(28)),h=A(n(228)),y=A(n(132)),m=A(n(91)),v=A(n(51)),_=A(n(155)),E=A(n(15)),g=A(n(179)),S=A(n(457)),T=A(n(6114)),I=A(n(100)),C=A(n(186)),N=n(0);function A(e){return e&&e.__esModule?e:{default:e}}var O=10,b=5,M=1,R=50,P=function(){return!0},L=/(\t|\s)/,w=void 0,D=(w=n(6422)).MENTION_EVERYONE,U=w.MENTION_HERE,k=w.LAUNCHABLE_APPLICATIONS;function G(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return t.test(e)?O:n.test(e)?b:a&&(0,o.default)(r,e)?M:0}function x(e,t,n,r){for(var a=E.default.getUsers(),l=_.default.getGuildId(),u=(e=e.toLocaleLowerCase()).length,s=[],d=[],f=t.length,p=0,h=0;p<f;){var y=t[p],m=void 0,v=void 0;if(y.userId?(m=y.nick,v=a[y.userId]):(v=y,m=c.default.getNick(l,v.id)),!r||r(v)){var g=v.usernameLowerCase,S=null!=m?m.toLocaleLowerCase():null;g.substr(0,u)===e||m&&S.substr(0,u)===e?s.push({comparator:S||g,score:O,nick:m,user:v}):h<R&&((0,o.default)(e,g)||m&&(0,o.default)(e,S))&&(d.push({comparator:S||g,score:M,nick:m,user:v}),h+=1)}p+=1}return s.sort(i.sortByMatchScore),s.length<n&&(d.sort(i.sortByMatchScore),s=s.concat(d.slice(0,Math.max(0,n-s.length)))),s.length>n&&(s.length=n),s}function F(e,t){var n=u.default.getChannel(e);return(0,a.default)(h.default.getMessages(e).toArray()).reverse().map(function(e){return e.author}).reject(function(e){return e.isNonUserBot()}).uniqBy(function(e){return e.id}).map(function(e){var t=c.default.getMember(n.getGuildId(),e.id)||{};return{nick:t.nick||null,score:0,comparator:t.nick||e.username,user:e}}).take(t).value()}t.default={queryFriends:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments[3]);return x(e,m.default.getFriendIDs().map(function(e){return E.default.getUser(e)}),t,n)},queryDMUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments[3]);return x(e,u.default.getDMUserIds().map(function(e){return E.default.getUser(e)}),t,n)},queryChannelUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=u.default.getChannel(e);if(null==o)return[];var a=void 0;if(o.isPrivate()){a=o.recipients.map(function(e){return{userId:e,nick:o.nicks[e]}});var i=E.default.getCurrentUser();a.push({userId:i.id,nick:o.nicks[i.id]})}else if(0===t.length){var l=F(o.id,n);if(null!=l&&l.length>0)return l;a=c.default.getMembers(o.guild_id)}else a=c.default.getMembers(o.guild_id),r&&T.default.requestMembers(o.guild_id,t,n);return x(t,a,n,function(e){return o.isPrivate()||I.default.can(N.Permissions.VIEW_CHANNEL,e,o)})},queryGuildUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments[4];if(null==p.default.getGuild(e))return[];if(0===t.length)return F(v.default.getChannelId(e),n);var a=c.default.getMembers(e);return r&&t.length>0&&T.default.requestMembers(e,t,n),x(t,a,n,o)},queryUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),r=arguments[4];return n&&e.length>0&&T.default.requestMembers(null,e,t),x(e,(0,a.default)(E.default.getUsers()).values().value(),t,r)},queryChannels:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:P,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.GUILD_SELECTABLE_CHANNELS_KEY;e=e.toLocaleLowerCase();var c=new RegExp("^"+C.default.escape(e),"i"),h=new RegExp(C.default.escape(e),"i"),y=E.default.getCurrentUser();return(t?(0,a.default)(f.default.getChannels(t)[s]).map(function(e){return e.channel}):(0,a.default)(u.default.getChannels()).values()).map(function(n){if(s!==n.type&&(s!==d.GUILD_SELECTABLE_CHANNELS_KEY||!(0,l.isGuildSelectableChannelType)(n.type))||(0,l.isGuildSelectableChannelType)(n.type)&&!I.default.can(N.Permissions.VIEW_CHANNEL,y,n)||s===N.ChannelTypes.GUILD_VOICE&&!I.default.can(N.Permissions.VIEW_CHANNEL|N.Permissions.CONNECT,y,n)||!o(n))return null;var a=p.default.getGuild(n.guild_id),i=u.default.getChannel(n.parent_id),f=G((t?n.toString()+" "+(null!=i?i.toString():""):n.toString()+" "+(null!=i?i.toString():"")+" "+a.toString()).toLocaleLowerCase(),c,h,e,r);return f>0?{channel:n,score:f,comparator:n.toString()}:null}).filter(Boolean).sortBy(function(e){return e.channel.name}).sort(i.sortByMatchScore).take(n).value()},queryGuilds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;e=e.toLocaleLowerCase();var o=new RegExp("^"+C.default.escape(e),"i"),l=new RegExp(C.default.escape(e),"i");return(0,a.default)(p.default.getGuilds()).values().map(function(t){if(r(t)){var a=G(t.name.toLocaleLowerCase(),o,l,e,n);if(a>0)return{guild:t,score:a,comparator:t.toString()}}return null}).filter(Boolean).sortBy(function(e){return e.guild.name}).sort(i.sortByMatchScore).take(t).value()},queryGroupDMs:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;e=e.toLocaleLowerCase();var r=new RegExp("^"+C.default.escape(e),"i"),o=new RegExp(C.default.escape(e),"i"),l=S.default.getPrivateChannelIds(),s=u.default.getChannels();return(0,a.default)(l).map(function(e){return s[e]}).map(function(a){if(a.type!==N.ChannelTypes.GROUP_DM||!n(a))return null;var i=G(a.toString().toLocaleLowerCase(),r,o,e,t);return i>0?{channel:a,score:i,comparator:a.toString()}:null}).filter(Boolean).sort(i.sortByMatchScore).value()},queryApplications:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;e=e.toLocaleLowerCase();var o=new RegExp("^"+C.default.escape(e),"i"),l=new RegExp(C.default.escape(e),"i"),u=k();return(0,a.default)(u).map(function(t){var a=t.application;if(r(a)){var i=a.name.toLocaleLowerCase(),u=G(i,o,l,e,n);if(u>0)return{application:a,score:u,comparator:i}}return null}).filter(Boolean).sort(i.sortByMatchScore).take(t).value()},querySKUs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;e=e.toLocaleLowerCase();var o=new RegExp("^"+C.default.escape(e),"i"),l=new RegExp(C.default.escape(e),"i"),u=g.default.getSKUs();return(0,a.default)(u).values().map(function(t){if(t.type===N.SKUTypes.GAME&&r(t)){var a=t.name.toLocaleLowerCase(),i=G(a,o,l,e,n);if(i>0)return{sku:t,score:i,comparator:a}}return null}).filter(Boolean).sort(i.sortByMatchScore).take(t).value()},getRecentlyTalked:F,queryMentionResults:function(e,t,n){var i=this.queryChannelUsers(t.id,e).map(function(e){return r({},e,{status:y.default.getStatus(e.user.id)})}),l=i.length,u=[];if(l<N.MAX_AUTOCOMPLETE_RESULTS){var s=p.default.getGuild(t.getGuildId());null!=s&&((0,a.default)(s.roles).filter(function(t){var n=t.mentionable,r=t.name;return n&&(0,o.default)(e,r.toLowerCase())}).take(N.MAX_AUTOCOMPLETE_RESULTS-l).forEach(function(e){return u.push(e)}),l+=u.length)}var d=[];return t.isDM()||t.isGroupDM()||!n||(l<N.MAX_AUTOCOMPLETE_RESULTS&&(0,o.default)(e,D().test)&&(d.push(D()),l+=1),l<N.MAX_AUTOCOMPLETE_RESULTS&&(0,o.default)(e,U().test)&&d.push(U())),{users:i,globals:d,roles:u}},queryChannelResults:function(e,t){return{channels:this.queryChannels(e,t.getGuildId()).map(function(e){return e.channel})}},queryEmojiResults:function(e,t){return{emojis:s.default.search(t,e,N.MAX_AUTOCOMPLETE_RESULTS)}},matchSentinel:function(e,t,n){return!L.test(t)&&e===n}},e.exports=t.default},6035:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=n(834),u=p(n(831)),s=p(n(221)),d=n(0),f=p(n(13)),c=p(n(5516));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){r.props.disableButton||((0,l.pushLayer)(d.Layers.USER_SETTINGS),u.default.setSection(d.UserSettingsSections.STREAMER_MODE))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e;return o("div",{className:c.default.streamerModeEnabled},void 0,o("div",{className:c.default.streamerModeEnabledImage}),o(s.default,{className:(0,i.default)(c.default.streamerModeEnabledBtn,(e={},e[c.default.disabled]=this.props.disableButton,e)),onClick:this.handleClick},void 0,f.default.Messages.STREAMER_MODE_ENABLED))},t}(a.Component);y.defaultProps={disableButton:!1},y.displayName="StreamerModeEnabled",t.default=y,e.exports=t.default},6036:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(6)),a=l(n(4)),i=l(n(1));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={},s={favorites:[],timesFavorited:0};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){null!=e&&(s=e).favorites.forEach(function(e){u[e.url]=e})},t.prototype.getState=function(){return s},t.prototype.getFavorites=function(){return s.favorites},t.prototype.shouldShowTooltipOnFavorite=function(){return s.timesFavorited<=2},t.prototype.getIsFavorite=function(e){return null!=u[e]},t.prototype.getRandomFavorite=function(){return o.default.sample(s.favorites)},t}(a.default.PersistedStore);d.persistKey="GIFFavoritesStore",d.migrations=[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}],t.default=new d(i.default,{GIF_FAVORITE_ADD:function(e){var t=e.gif;if(null!=u[t.url])return!1;s=r({},s,{favorites:[t].concat(s.favorites)}),u[t.url]=t,s.timesFavorited+=1},GIF_FAVORITE_REMOVE:function(e){var t=e.url;if(!delete u[t])return!1;var n=s.favorites,r=n.findIndex(function(e){var n=e.url;return t===n});if(null==r)return!1;s.favorites=n.slice(0,r).concat(n.slice(r+1,n.length))}}),e.exports=t.default},6037:function(e,t,n){"use strict";function r(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(e!==n||t!==r){var i=e>n?n/e:1;e=Math.max(Math.round(e*i),o);var l=(t=Math.max(Math.round(t*i),a))>r?r/t:1;e=Math.max(Math.round(e*l),o),t=Math.max(Math.round(t*l),a)}return{width:e,height:t}}t.__esModule=!0,t.fit=r,t.zoomFit=function(e,t){var n=Math.min(Math.round(.65*window.innerHeight),o),a=Math.min(Math.round(.75*window.innerWidth),o);return r(e,t,a,n)},t.getRatio=function(e,t,n,r){var o=1;e>n&&(o=n/e);e=Math.round(e*o);var a=1;(t=Math.round(t*o))>r&&(a=r/t);return Math.min(o*a,1)};var o=t.IMAGE_MAX_ZOOM=2e3},6038:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isRealGameId=function(e){return"string"==typeof e&&e!==h.SPOTIFY_APPLICATION_ID&&!e.startsWith(v.XBOX_APPLICATION_ID_PREFIX)&&!e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)};var a=Y(n(6)),i=Y(n(161)),l=Y(n(4)),u=Y(n(1)),s=Y(n(878)),d=Y(n(182)),f=n(900),c=Y(n(6264)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6107)),h=(Y(n(112)),n(859)),y=n(6085),m=Y(y),v=n(6086),_=Y(v),E=n(224),g=Y(n(22)),S=Y(n(463)),T=Y(n(474)),I=Y(n(851)),C=Y(n(5358)),N=Y(n(43)),A=Y(n(28)),O=Y(n(6048)),b=Y(n(132)),M=Y(n(6028)),R=Y(n(91)),P=Y(n(64)),L=Y(n(6265)),w=Y(n(451)),D=Y(n(15)),U=Y(n(6266)),k=Y(n(134)),G=Y(n(881)),x=Y(n(906)),F=Y(n(6193)),j=Y(n(6049)),B=Y(n(332)),H=Y(n(6162)),V=n(0);function Y(e){return e&&e.__esModule?e:{default:e}}var W="party-",K="channel-",z="user-",$=6e5,q=216e5,X=7,Q=3,J=4,Z=30,ee=!1,te=!1,ne=[],re=[],oe=[],ae=[],ie=[],le={},ue={},se=new Set,de=new Set,fe=null,ce=!1,pe=!1,he=void 0,ye=null,me=new Set,ve=[],_e=[],Ee=[],ge=[];function Se(e){var t;null==le[e]&&(le=o({},le,((t={})[e]=new _.default({name:e}),t)));return le[e]}function Te(e){var t;null==ue[e]&&(ue=o({},ue,((t={})[e]=new m.default({url:e}),t)));return ue[e]}function Ie(e){de.has(e)||se.add(e)}function Ce(e){if((0,E.isListeningOnSpotify)(e))return h.SpotifyApplication;var t=null!=e.application_id?N.default.getGame(e.application_id):null;return null!=t?t:(0,E.isOnXbox)(e)?Se(e.name):(0,E.isStreaming)(e)&&null!=e.url?Te(e.url):(null!=e.application_id&&Ie(e.application_id),t)}function Ne(e){return R.default.isFriend(e.id)}function Ae(){var e=Date.now();null!=ye&&e-ye<q||(s.default.getActivities(),ye=e)}function Oe(){te&&w.default.isAutosubscribedGamesFetched&&(re=Ue(),oe=re.map(function(e){var t=e.news,n=e.applicationId;return{news:t,application:N.default.getGame(n)}}),$e())}function be(){$e()}function Me(e,t){var n=e.map(function(e){return e.id}),r=e.filter(function(e){return w.default.isOnFeed(e.id)}),o=!1,i=[],l=new Set,u=!1,s=function(t){var n=O.default.getUserGame(t.id),r=null!=n?n.gameId:null;if(null==r)return"continue";u=r===h.SPOTIFY_APPLICATION_ID;var s=function(e){var t=N.default.getGame(e);return null!=t?t:e===h.SPOTIFY_APPLICATION_ID?h.SpotifyApplication:e.startsWith(v.XBOX_APPLICATION_ID_PREFIX)?Se(e.slice(v.XBOX_APPLICATION_ID_PREFIX.length)):e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)?Te(e.slice(y.TWITCH_APPLICATION_ID_PREFIX.length)):(Ie(e),null)}(r);if(null==n||null==s||l.has(s.id))return"continue";var d=b.default.getPrimaryActivity(t.id),f=null!=d?Ce(d):null;null!=f&&f.id===s.id||(d=null);var c=[];if(null!=d&&null!=d.party&&null!=d.party.id){var p=C.default.getParty(d.party.id)||[];c=Array.from(p).reduce(function(e,t){var n=D.default.getUser(t);return null!=n&&e.push(n),e},[])}else c=e.filter(function(e){var t=b.default.getPrimaryActivity(e.id),n=null!=t?Ce(t):null;return null!=n&&n.id===s.id});if(u&&c.length<2)return"continue";(c=a.default.orderBy(c,[Ne],["desc"])).length!==e.length&&(o=!0),l.add(s.id),i.push({game:s,activity:d,activityUser:t,startedPlayingTime:n.startedPlaying,playingMembers:c})},d=e,f=Array.isArray(d),c=0;for(d=f?d:d[Symbol.iterator]();;){var p;if(f){if(c>=d.length)break;p=d[c++]}else{if((c=d.next()).done)break;p=c.value}s(p)}var m,_,E=void 0,S=1===r.length,T=[],I=new Set,M=new Set,R=e,P=Array.isArray(R),L=0;for(R=P?R:R[Symbol.iterator]();;){var G;if(P){if(L>=R.length)break;G=R[L++]}else{if((L=R.next()).done)break;G=L.value}var x=G,F=U.default.getChannel(x.id).channelId,j=g.default.getChannel(F),B=null!=j?j.getGuildId():null,H=A.default.getGuild(B);if(M.has(B)&&I.has(F)||null==j||null==H)null==j&&(E=null,S=!0);else{var V=(0,a.default)(k.default.getVoiceStatesForChannel(B,F)).map(function(e){var t=e.userId;return D.default.getUser(t)}).filter(function(e){return null!=e}).orderBy([Ne],["desc"]).value();V.filter(function(e){return!n.includes(e.id)}).forEach(function(t){return e.push(t)}),S?M.has(B)||(E=null):(E=H,S=!0),M.add(B),I.add(F),T.push({channel:j,guild:H,members:V})}}return{id:t,voiceChannels:T,isSpotifyActivity:u,priorityMembers:r.map(function(e){return{user:e,status:b.default.getStatus(e.id)}}),partiedMembers:e,showPlayingMembers:o,guildContext:E,currentActivities:(m=i,_=function(e){return e.startedPlayingTime},(0,a.default)(m).orderBy([_,function(e){return e.game.name}],["desc","asc"])).value()}}function Re(){var e=new Set,t=F.default.getExperimentDescriptor(),n=w.default.gameIDsToShow,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a;e.add(i)}return 0!==e.size||null!=t&&t.bucket!==V.ExperimentBuckets.CONTROL||L.default.trendingApplications.map(function(t){var n=t.game_id;return e.add(n)}),e}function Pe(){var e=Re();u.default.wait(function(){return d.default.getGameNews(Array.from(e))}),ce=!0}function Le(){w.default.isAutosubscribedGamesFetched||p.fetchSettings({includeAutosubscribedGames:!0})}function we(){var e=G.default.getGuilds();if(null==e)return!1;(e=e.filter(function(e){return!me.has(e)})).length>0&&(me.clear(),(0,f.fetchGuildDiscoveryMetadata)(e),e.forEach(function(e){return me.add(e)}))}var De=function(e){return null!=e&&null!=e.title&&null!=e.url&&(null==e.type||e.type===V.EmbedTypes.VIDEO||e.type===V.EmbedTypes.ARTICLE||e.type===V.EmbedTypes.RICH||e.type===V.EmbedTypes.APPLICATION_NEWS||e.type===V.EmbedTypes.LINK)};function Ue(){var e=new Set,t=[],n=function(n,r){e.add(n.url),t.push({news:n,applicationId:r})},r=function(e){var t=I.default.getRecentByGameId(e).filter(De);x.default.inExperiment?t.forEach(function(t){return n(t,e)}):t.length>0&&n(t[0],e)},o=Re(),i=Array.isArray(o),l=0;for(o=i?o:o[Symbol.iterator]();;){var u;if(i){if(l>=o.length)break;u=o[l++]}else{if((l=o.next()).done)break;u=l.value}r(u)}return(0,a.default)(t).orderBy(function(e){var t=e.news;return new Date(t.timestamp||new Date).getTime()},["desc"]).value().slice(0,Z)}function ke(){return ee&&S.default.isConnected()}function Ge(){if(!ke())return!1;se.clear();var e,t,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,a.default)(e).groupBy(function(e){if(t)return z+"-"+e.id;var n=U.default.getChannel(e.id).channelId,r=b.default.getPrimaryActivity(e.id);return null!=n?K+"-"+n:null!=r&&null!=r.party&&null!=r.party.id?W+"-"+r.party.id:z+"-"+e.id})}(Array.from(w.default.feedUserIDs).reduce(function(e,t){var n=D.default.getUser(t);return null==n||n.bot||e.push(n),e},[])),r=(e=n,(0,a.default)(e).mapValues(Me)),o=r.values().orderBy([function(e){return e.currentActivities.length>0},function(e){return e.partiedMembers.length>1},function(e){return e.priorityMembers.map(function(e){return e.user.username.toLowerCase()}).join(" ")}],["desc","desc","asc"]).value();ne=function(e){return e.filter(function(e){return e.isSpotifyActivity?e.partiedMembers.length>1:e.priorityMembers.length>1||e.currentActivities.length>0})}(o),ae=function(e){var t=a.default.groupBy(e,function(e){var t=e.id,n=e.priorityMembers,r=e.voiceChannels,o=e.currentActivities;if(n.length>1||r.length>0)return"party-"+t;var a=o[0],i=a.game,l=a.activity;return null!=l&&(0,E.hasRichActivity)(l)?"party-"+t:"game-"+i.id});return Object.keys(t).map(function(e){var n=t[e];return 1===n.length?{type:V.ActivityCardTypes.USER,party:n[0]}:{type:V.ActivityCardTypes.GAME,game:n[0].currentActivities[0].game,parties:n}})}(ne),t=[],ae.forEach(function(e){e.type===V.ActivityCardTypes.GAME?e.parties.forEach(function(e){t.push({type:V.ActivityCardTypes.USER,party:e})}):t.push(e)}),ie=t,te&&w.default.isAutosubscribedGamesFetched&&(re=Ue(),oe=re.map(function(e){var t=e.news,n=e.applicationId;return{news:t,application:N.default.getGame(n)}})),!L.default.loaded&&L.default.shouldFetch()&&u.default.wait(function(){return c.default.fetchTrendingApplications()}),Pe(),function(){if(!pe&&te&&ce&&!(se.size>0)){var e=Re(),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r;if(!I.default.isFetched(o))return}pe=!0}}(),$e(),function(){if(se.size>0){var e=Array.from(se);d.default.fetchApplications(e),e.forEach(function(e){return de.add(e)}),se.clear()}}()}var xe=a.default.throttle(function(){Ge(),qe.emitChange()},500,{leading:!1}),Fe=a.default.throttle(function(){Ge(),qe.emitChange()},500,{leading:!1});var je=a.default.throttle(function(){Ge(),qe.emitChange()},500,{leading:!1});function Be(e){return{type:V.FeedCardTypes.NEWS,key:e.news.game_id+"-"+(e.news.url||"no-url"),data:e}}function He(){return{type:V.FeedCardTypes.SIDE_BAR,key:"side-bar"}}function Ve(e){for(var t,n=[],r=0;r<e;r++)n.push((t=r.toString(),{type:V.FeedCardTypes.PLACEHOLDER,key:t}));return n}function Ye(){return{type:V.FeedCardTypes.NO_NEWS,key:"no-news"}}function We(){return{type:V.FeedCardTypes.GDPR,key:"opt-in"}}function Ke(){return{type:V.FeedCardTypes.GDPR_SIDE_BAR,key:"gdpr-side-bar"}}function ze(){return{type:V.FeedCardTypes.NO_GAMES,key:"no-games"}}function $e(){var e,t=H.default.promotions,n=w.default.gameIDsToShow.size,r=t.length>0?(e=t[0],{type:V.FeedCardTypes.PROMOTION,key:e.id,data:e}):null,o=T.default.hasConsented(V.Consents.PERSONALIZATION),a=w.default.hasDismissedPersonalizationNotice,i=w.default.hasDismissedNoGamesNotice,l=re.map(Be);o?0!==n&&0!==re.length||i?0===re.length&&null==r?(ve=[Ye()],_e=[Ye()]):(ve=l.slice(),_e=l.slice(),r&&(ve.splice(1,0,r),_e.splice(0,0,r))):(_e=[ze()],ve=[ze()],r&&(ve.push(r),_e.push(r)),_e=_e.concat(l),ve=ve.concat(l)):(ve=a?[]:[We()],_e=a?[]:[We()],r&&(ve.push(r),_e.push(r)),_e=_e.concat(l),ve=ve.concat(l)),Ee=[o?He():Ke()],_e.splice(1,0,o?He():Ke());var u=X-ve.length,s=X-_e.length;ve.length<Q&&u>0&&(ve=ve.concat(Ve(u))),_e.length<J&&s>0&&(_e=_e.concat(Ve(s)))}var qe=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([O.default,D.default,N.default,b.default,C.default,k.default,R.default,U.default,M.default,x.default,T.default],function(){return!!ke()&&(pe?(xe(),!1):void Ge())}),this.syncWith([w.default,F.default],Ge),this.syncWith([P.default,j.default,B.default,L.default],function(){return je(),!1}),this.syncWith([G.default],we),this.waitFor(S.default,A.default,N.default,w.default,B.default)},t.prototype.getFeed=function(e){switch(e){case V.FeedLayouts.TWO_COL:return _e;case V.FeedLayouts.THREE_COL:default:return ve}},t.prototype.getSidebar=function(e){switch(e){case V.FeedLayouts.TWO_COL:return ge;case V.FeedLayouts.THREE_COL:default:return Ee}},r(t,[{key:"currentActivityParties",get:function(){return ne}},{key:"nowPlayingCards",get:function(){return ae}},{key:"nowPlayingCardsAF2",get:function(){return ie}},{key:"news",get:function(){return re}},{key:"newsAF1",get:function(){return oe}},{key:"loaded",get:function(){return pe&&H.default.loaded}},{key:"loadId",get:function(){return fe}},{key:"isMounted",get:function(){return ee}}]),t}(l.default.Store))(u.default,{ACTIVITY_FEED_MOUNT:function(e){return ee=!0,pe=null!=he&&Date.now()-he<$,fe=i.default.v4(),ce=!1,Ge(),S.default.isConnected()&&(Le(),Ae()),void(pe||Pe())},ACTIVITY_FEED_UNMOUNT:function(e){return ee=!1,void(pe&&(he=Date.now()))},ACTIVITIES_UPDATE:function(e){return te=!0,Fe(),!1},CONNECTION_OPEN:function(e){ke()&&(u.default.wait(function(){return c.default.fetchTrendingApplications()}),Le(),Ae(),Pe())},PROMOTIONS_FETCH_START:function(e){return be()},PROMOTIONS_FETCH_SUCCESS:function(e){return be()},PROMOTIONS_FETCH_FAIL:function(e){return be()},GAME_NEWS_FETCH:function(e){return Oe()},GAME_NEWS_UPDATE:function(e){return Oe()},GAME_NEWS_READ:function(e){return Oe()},GAME_NEWS_HIDE:function(e){return Oe()},LOGOUT:function(e){return ee=!1,te=!1,ne=[],re=[],fe=null,ce=!1,pe=!1,ve=[],_e=[],Ee=[],void se.clear()}});t.default=qe},6039:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=h(n(4));n(316);n(130);var i=h(n(90)),l=h(n(230)),u=h(n(179)),s=h(n(128)),d=n(113),f=h(n(6024)),c=h(n(6111)),p=h(n(6165));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.application,n=e.isDiscordStoreApplication,a=e.libraryApplication,i=e.localApplication,l=e.fullWidth,u=e.size,s=e.color,h=e.customDisabledColor,y=e.hideNotLaunchable,m=e.tooltipPosition,v=e.onClick,_=e.className,E=e.source,g=e.storeListingAnalyticsProperties,S=e.pauseAnimation,T={fullWidth:l,size:u,color:s,customDisabledColor:h,tooltipPosition:m,onClick:v,className:_,hover:e.hover,innerClassName:e.innerClassName};return null!=a&&(0,d.isUserEntitledToLibraryApplication)(a)?o.createElement(p.default,r({},T,{libraryApplication:a,source:E})):null==i&&n?o.createElement(f.default,r({},T,{skuId:null!=a?a.skuId:null,applicationId:t.id,pauseAnimation:S,storeListingAnalyticsProperties:g})):o.createElement(c.default,r({},T,{hideNotLaunchable:y,applicationId:t.id}))},t}(o.PureComponent);y.defaultProps={fullWidth:!1,size:s.default.Sizes.LARGE},y.displayName="ApplicationActionButton",t.default=a.default.connectStores([i.default,l.default,u.default],function(e){var t=e.application,n=i.default.getActiveLibraryApplication(t.id),r=null!=n?n.sku.id:null,o=null!=r?r:t.primarySkuId;return{isDiscordStoreApplication:null!=o&&!u.default.didFetchingSkuFail(o),libraryApplication:n,localApplication:l.default.getLocalApplication(t.id)}})(y),e.exports=t.default},6040:function(e,t,n){"use strict";t.__esModule=!0,t.SearchBarIcon=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=p(n(311)),u=p(n(221)),s=n(109),d=n(0),f=p(n(13)),c=p(n(5431));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=t.SearchBarIcon=function(e){var t,n,r=e.hasContent,a=e.handleClear,l=e.className;return o(u.default,{className:(0,i.default)(c.default.searchBarIcon,l),onClick:a},void 0,o("i",{className:(0,i.default)(c.default.icon,c.default.iconSearchBarEyeGlass,(t={},t[c.default.visible]=!r,t))}),o("i",{className:(0,i.default)(c.default.icon,c.default.iconSearchBarClear,(n={},n[c.default.visible]=r,n))}))};y.displayName="SearchBarIcon";var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.ref=a.createRef(),r.handleKeyDown=function(e){var t=r.props,n=t.onActivate,o=t.onQueryChange,a=r.ref.current;if(null!=a&&null==n)return e.keyCode===d.KeyboardKeys.ESCAPE&&a.value&&a.value.length>0?(a.value="",void(null!=o&&o(""))):void(r.props.gridResults?r.handleKeyDownGrid(e):r.handleKeyDownList(e));e.keyCode!==d.KeyboardKeys.TAB&&null!=n&&n(e)},r.handleChange=function(e){var t=r.props.onQueryChange;null!=t&&t(e.currentTarget.value)},r.handleFocus=function(e){var t=r.props.onFocus;null!=t&&t(e)},r.handleClear=function(){var e=r.props.onClear,t=r.ref.current;null!=e&&e(),null!=t&&t.focus()},r.handleRemoveTag=function(e){var t=r.props.onRemoveTag;t&&t(e)},r.focus=function(){var e=r.ref.current;null!=e&&e.focus()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.subscribeToFocusEvent;e&&s.ComponentDispatch.subscribe(e,this.focus)},t.prototype.componentWillUnmount=function(){var e=this.props.subscribeToFocusEvent;e&&s.ComponentDispatch.unsubscribe(e,this.focus)},t.prototype.handleKeyDownGrid=function(e){var t=this.props,n=t.selectedRow,r=t.selectedColumn,o=t.sections,a=t.query,i=t.tags,l=t.onSelectionChange,u=t.onSelect,s=t.onRemoveTag;if(0!==o.length){switch(e.keyCode){case d.KeyboardKeys.BACKSPACE:(null==a||0===a.length)&&null!=i&&i.length>0&&(e.preventDefault(),e.stopPropagation(),s&&s(i.length-1));break;case d.KeyboardKeys.TAB:if(d.EnableAccessibility)break;case d.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),-1===n?(n=0,r=0):((n+=1)>=o.length&&(n=o.length-1),r>=o[n]&&(r=o[n]-1));break;case d.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),(n-=1)<0?(n=0,r=0):r>=o[n]&&(r=o[n]-1);break;case d.KeyboardKeys.ARROW_LEFT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r-=1)<0&&((n-=1)>=0?r=o[n]-1:n<0&&(n=0,r=0));break;case d.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r+=1)>=o[n]&&(r=0,(n+=1)>=o.length&&(r=o[n=o.length-1]-1));break;case d.KeyboardKeys.ENTER:if(e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),-1===r&&(r=0),n>=o.length||r>=o[n])return;return void(null!=u&&u(n,r,e));case d.KeyboardKeys.ESCAPE:return e.preventDefault(),e.stopPropagation(),void(null!=u&&u(null,null,e));default:return}null!=l&&l(n,r)}},t.prototype.handleKeyDownList=function(e){var t=this.props,n=t.sections,r=t.selectedSection,o=t.selectedRow,a=t.onSelect,i=t.onSelectionChange,l=t.query,u=t.tags,s=t.onKeyDown,f=this.ref.current;if(null!=s&&s(e),null!=f)switch(e.keyCode){case d.KeyboardKeys.BACKSPACE:(null==l||0===l.length)&&null!=u&&u.length>0&&(e.preventDefault(),e.stopPropagation(),this.props.onRemoveTag&&this.props.onRemoveTag(u.length-1));break;case d.KeyboardKeys.TAB:if(d.EnableAccessibility)break;case d.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),n.length>r&&++o>=n[r]&&(++r>=n.length&&(r=0),o=0),i&&i(r,o);break;case d.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),--o<0&&(--r<0&&(r=n.length-1),o=n[r]-1),i&&i(r,o);break;case d.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation(),n.length>r&&n[r]>o&&a&&a(r,o,e);break;case d.KeyboardKeys.ESCAPE:e.preventDefault(),e.stopPropagation(),a&&a(null,null,e),f.blur()}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.autoFocus,u=n.query,s=n.placeholder,d=n.light,f=n.disabled,p=n.onClear,h=n.tags,m=n.onActivate,v=n.className,_=null!=u&&u.length>0,E=[];return null!=h&&h.forEach(function(e,n){return E.push(o(l.default,{className:c.default.searchBarTag,onClick:t.handleRemoveTag.bind(t,n)},n,e,o("div",{className:c.default.close})))}),o("div",{className:(0,i.default)(c.default.searchBar,(e={},e[c.default.searchBarLight]=d,e[c.default.disabled]=f,e),v)},void 0,o("div",{className:c.default.searchBarInner},void 0,E,a.createElement("input",{type:"text",ref:this.ref,spellCheck:"false",placeholder:s,value:u,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,disabled:f,autoFocus:r,onMouseDown:m}),p?o(y,{hasContent:_,handleClear:this.handleClear}):null))},t}(a.Component);m.defaultProps={query:"",sections:[],selectedSection:0,selectedRow:-1,selectedColumn:-1,gridResults:!1,placeholder:f.default.Messages.DM_SEARCH_PLACEHOLDER,light:!1,disabled:!1,autoFocus:!1},m.displayName="SearchBar",t.default=m},6041:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=h(n(6)),a=h(n(4)),i=h(n(1)),l=h(n(12)),u=h(n(22)),s=h(n(153)),d=h(n(315)),f=h(n(51)),c=h(n(226)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y={},m={},v={},_={};function E(e){switch(e){case"null":case null:case void 0:return null;default:return e}}function g(e){var t,n,o,a=E(e),i=!1,l=!1,u=0,s=0,f=_[a];(null==f&&(S(),f=_[a]||new Set),f.forEach(function(e){null!==a&&(l=l||!c.default.isGuildOrCategoryOrChannelMuted(a,e)&&d.default.hasUnread(e),s+=d.default.getUnreadCount(e)),u+=d.default.getMentionCount(e)}),l)?null==a||y[a]||(y=r({},y,((t={})[a]=!0,t)),i=!0):null!=a&&y[a]&&(delete(y=r({},y))[a],i=!0);null!=a&&v[a]!==s&&(v=r({},v,((n={})[a]=s,n)),i=!0);m[a]!==u&&(m=r({},m,((o={})[a]=u,o)),i=!0);return i}function S(){_={},o.default.forEach(u.default.getChannels(),function(e){if(e.type!==p.ChannelTypes.GUILD_VOICE&&(e.isPrivate()||s.default.can(p.Permissions.VIEW_CHANNEL,{channelId:e.id}))){var t=e.getGuildId(),n=_[t];null==n&&(n=new Set,_[t]=n),n.add(e.id)}})}function T(e){return S(),g(e)}function I(e,t){var n=u.default.getChannel(e);if(null!=n)return t(E(n.getGuildId()));var r=Object.keys(_),o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i;if(_[l].has(e))return t(E(l))}return!1}function C(e){var t=e.guilds;y={},m={},v={},S(),g(null),t.forEach(function(e){return g(e.id)})}function N(e){return I(e.channelId,g)}function A(e){return I(e.channel.id,T)}function O(e){return T(e.guildId)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,f.default,d.default,s.default,l.default,c.default)},t.prototype.hasAnyUnread=function(){return Object.keys(y).length>0},t.prototype.getUnreadGuilds=function(){return y},t.prototype.getGuildUnreadCount=function(e){return void 0===e?0:v[e]||0},t.prototype.hasUnread=function(e){return y[e]||!1},t.prototype.getMentionCounts=function(){return m},t.prototype.getUnreadGuildsIgnoreMuted=function(e){var t=_[e];return null!=t&&Array.from(t).some(function(e){return d.default.hasUnread(e)})},t.prototype.getTotalMentionCount=function(){return(0,o.default)(m).values().sum()},t}(a.default.Store);t.default=new b(i.default,{CONNECTION_OPEN:C,OVERLAY_INITIALIZE:C,GUILD_CREATE:function(e){return T(e.guild.id)},GUILD_DELETE:function(e){var t=e.guild;null!=y[t.id]&&delete(y=r({},y))[t.id],null!=v[t.id]&&delete(v=r({},v))[t.id],null!=m[t.id]&&delete(m=r({},m))[t.id],delete _[t.id]},MESSAGE_CREATE:N,MESSAGE_ACK:N,CHANNEL_SELECT:N,UPDATE_CHANNEL_DIMENSIONS:N,CHANNEL_DELETE:function(e){var t=e.channel;return I(t.id,function(e){return _[e].delete(t.id),g(e)})},WINDOW_FOCUS:function(e){return null!=(t=f.default.getChannelId())&&I(t,g);var t},GUILD_ACK:function(e){return g(e.guildId)},GUILD_ROLE_CREATE:O,GUILD_ROLE_DELETE:O,GUILD_ROLE_UPDATE:O,CHANNEL_CREATE:A,CHANNEL_UPDATE:A,GUILD_MEMBER_UPDATE:function(e){var t=e.user,n=e.guildId;return t.id===l.default.getId()&&T(n)},USER_GUILD_SETTINGS_UPDATE:function(e){Object.keys(y).forEach(g)}}),e.exports=t.default},6042:function(e,t,n){"use strict";t.__esModule=!0,t.TutorialIndicatorPositions=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=n(99),a=s(n(4)),i=s(n(6600)),l=s(n(6385)),u=s(n(154));function s(e){return e&&e.__esModule?e:{default:e}}var d=t.TutorialIndicatorPositions={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.show(this.props.visible)},t.prototype.componentWillUnmount=function(){this.show(!1)},t.prototype.componentDidUpdate=function(e){var t=e.position,n=e.offsetX,r=e.offsetY,o=e.offsetXPercent,a=e.offsetYPercent,l=e.tutorialId,u=e.autoOpen,s=e.visible,d=e.windowSize;l!==this.props.tutorialId?i.default.hide(l):s===this.props.visible&&t===this.props.position&&n===this.props.offsetX&&r===this.props.offsetY&&o===this.props.offsetXPercent&&a===this.props.offsetYPercent&&u===this.props.autoOpen&&d===this.props.windowSize||this.show(this.props.visible)},t.prototype.show=function(e){var t=this.props,n=t.tutorialId,r=t.position,a=t.offsetX,l=t.offsetY,u=t.offsetXPercent,s=t.offsetYPercent,d=t.autoOpen,f=t.visible;if(e){var c=(0,o.findDOMNode)(this);if(!(c&&c instanceof Element))return;var p=c.getBoundingClientRect(),h=p.top,y=p.left,m=p.right,v=p.bottom;i.default.show(n,{position:r,targetWidth:m-y,targetHeight:v-h,x:y,y:h,offset:{x:a,y:l},offsetPercent:{x:u,y:s},autoOpen:d})}else f&&i.default.hide(n)},t.prototype.render=function(){return r.Children.only(this.props.children)},t}(r.Component);f.defaultProps={position:d.TOP,offsetX:0,offsetY:0,offsetXPercent:0,offsetYPercent:0,autoOpen:!1},f.displayName="TutorialIndicator",t.default=a.default.connectStores([l.default,u.default],function(e){var t=e.tutorialId;return{visible:l.default.shouldShow(t),windowSize:u.default.windowSize()}})(f)},6043:function(e,t,n){"use strict";t.__esModule=!0,t.Item=t.Separator=t.Header=t.Types=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=n(231),u=n(180),s=c(n(221)),d=n(0),f=c(n(5434));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=t.Types={SIDE:f.default.side,TOP:f.default.top,TOP_PILL:f.default.topPill,UNIQUE:f.default.unique},v=t.Header=function(e){var t=e.className,n=e.onClick,r=e.children;return o(s.default,{className:(0,i.default)(f.default.header,t),onClick:n},void 0,r)};v.displayName="Header";var _=t.Separator=function(e){var t=e.style;return o("div",{className:f.default.separator,style:t})};_.displayName="Separator";var E={DEFAULT:"Default",HOVER:"Hover",SELECTED:"Selected"};function g(e,t){if(null==e)return null;var n={};return t===E.SELECTED?(n.backgroundColor=e,n.color=d.Colors.WHITE,n):(t===E.HOVER&&(n.backgroundColor=(0,l.hex2rgb)(e,.1)),n.color=e,n)}var S=t.Item=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.state={hover:!1,active:!1},r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.id,a=t.onItemSelect;null!=n?n(e):null!=a&&a(o)},r.handleMouseDown=function(e){r.handleClick(e),r.setState({active:!0})},r.handleMouseUp=function(){r.setState({active:!1})},r.handleMouseOver=function(){r.setState({hover:!0})},r.handleMouseOut=function(){r.setState({hover:!1,active:!1})},h(r,n)}return y(t,e),t.prototype.getMouseEvents=function(){return null!=this.props.id?{}:{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleClick}},t.prototype.getStyle=function(){var e=this.props,t=e.color,n=e.id,r=e.selectedItem,o=e.itemType,a=this.state,i=a.hover,u=a.active;return null==t?null:o===m.SIDE?null!=n&&r===n||u?g(t,E.SELECTED):i?g(t,E.HOVER):g(t):o===m.TOP?r===n?{borderColor:t,color:t}:i?{borderColor:(0,l.hex2rgb)(t,.1),color:(0,l.hex2rgb)(t,.6)}:{borderColor:"transparent",color:(0,l.hex2rgb)(t,.4)}:null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.id,a=e.selectedItem,l=void 0;return l=null!=r&&a===r?E.SELECTED:E.DEFAULT,o("div",{className:(0,i.default)((0,u.getClass)(f.default,"item",l),n),style:this.getStyle(),onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},void 0,t)},t}(a.Component);S.displayName="Item";var T=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.renderChildren=function(e){var t=this.props,n=t.selectedItem,r=t.onItemSelect,o=t.type,i=void 0===o?m.SIDE:o;return null==e?null:a.cloneElement(e,{selectedItem:n,onItemSelect:r,itemType:i})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=e.type,l=void 0===r?m.SIDE:r,u=e.style;return o("div",{className:(0,i.default)(t,l),style:u},void 0,a.Children.map(n,this.renderChildren,this))},t}(a.Component);T.Types=m,T.Header=v,T.Item=S,T.Separator=_,T.displayName="TabBar",t.default=T},6044:function(e,t,n){"use strict";t.__esModule=!0,t.InLibraryPrice=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(306)),u=d(n(13)),s=d(n(5375));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({DIRECTORY_HERO:1,DIRECTORY_TILE:2,DIRECTORY_SEARCH:3,LISTING:4,EMBED:5}),c=Object.freeze({IN_LIBRARY:1,ON_SALE:2,PREMIUM:3,DEFAULT:4,ENTITLEMENT_BRANCH:5}),p=t.InLibraryPrice=function(e){var t=e.className;return o("div",{className:(0,i.default)(s.default.row,t)},void 0,o(l.default,{className:s.default.icon,name:l.default.Names.LIBRARY}),u.default.Messages.APPLICATION_STORE_IN_LIBRARY)};p.displayName="InLibraryPrice";var h=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(s.default.row,n)},void 0,o(l.default,{className:s.default.icon,name:l.default.Names.NITRO_WHEEL}),t.getDisplayPrice())};h.displayName="PremiumPrice";var y=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(s.default.salePercentage,n)},void 0,t.getDisplaySalePercentage())};y.displayName="SalePercent";var m=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(s.default.originalAmount,n)},void 0,t.getDisplayPrice(!1))};m.displayName="OriginalAmount";var v=function(e){var t=e.sku,n=e.className;return o("div",{className:n},void 0,t.getDisplayPrice())};v.displayName="Price";var _=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(s.default.row,n)},void 0,o(y,{sku:t}),o(m,{sku:t}),o(v,{sku:t}))};_.displayName="InlineSale";var E=function(e){var t=e.className;return o("div",{className:t},void 0,u.default.Messages.APPLICATION_STORE_FREE)};E.displayName="EntitlementBranchPrice";var g=o(E,{}),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){var e=this.props,t=e.inLibrary,n=e.sku;return e.hasEntitlementBranch?c.ENTITLEMENT_BRANCH:t?c.IN_LIBRARY:n.available?n.premium?c.PREMIUM:n.isOnSale?c.ON_SALE:null!=n.getPrice()?c.DEFAULT:null:c.DEFAULT},t.prototype.renderGeneric=function(e,t){var n=this.props,r=n.className,a=n.sku;switch(e){case c.ENTITLEMENT_BRANCH:return o(E,{className:(0,i.default)(t,r)});case c.IN_LIBRARY:return o(p,{className:(0,i.default)(t,r)});case c.PREMIUM:return o(h,{sku:a,className:(0,i.default)(t,r)});case c.ON_SALE:return o(_,{sku:a,className:(0,i.default)(t,r)});default:return o(v,{className:(0,i.default)(t,r),sku:a})}},t.prototype.renderDirectoryHero=function(e){var t=this.props,n=t.className,r=t.sku;switch(e){case c.ENTITLEMENT_BRANCH:return o(E,{className:(0,i.default)(n)});case c.PREMIUM:return o(h,{sku:r,className:(0,i.default)(s.default.directoryHeroPricePremium,n)});case c.ON_SALE:return o(_,{sku:r,className:(0,i.default)(s.default.directoryHeroPrice,n)});default:return o(v,{className:(0,i.default)(s.default.directoryHeroPrice,n),sku:r})}},t.prototype.renderListing=function(e){var t=this.props,n=t.className,r=t.sku,l=void 0;switch(e){case c.ENTITLEMENT_BRANCH:l=g;break;case c.ON_SALE:l=o(a.Fragment,{},void 0,o("div",{className:s.default.row},void 0,o(v,{sku:r}),o(y,{sku:r})),o(m,{sku:r}));break;default:l=o(v,{sku:r})}return o("div",{className:(0,i.default)(s.default.listingPrice,n)},void 0,l)},t.prototype.render=function(){var e=this.getState();if(null==e)return null;switch(this.props.type){case f.DIRECTORY_HERO:return this.renderDirectoryHero(e);case f.DIRECTORY_TILE:return this.renderGeneric(e,s.default.directoryTilePrice);case f.DIRECTORY_SEARCH:return this.renderGeneric(e,s.default.directorySearchPrice);case f.LISTING:return this.renderListing(e);case f.EMBED:return this.renderGeneric(e,s.default.embedPrice);default:throw new Error("Invalid Price Unit Type")}},t}(a.PureComponent);S.Types=f,S.displayName="PriceUnit",t.default=S},6045:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(877)),u=d(n(5377)),s=d(n(880));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.onChange=function(e){var t=r.props,n=t.onChange,o=t.name;n&&n(e.currentTarget.value,o)},r.onFocus=function(e){var t=r.props,n=t.onFocus,o=t.name;n&&n(e,o)},r.onBlur=function(e){var t=r.props,n=t.onBlur,o=t.name;n&&n(e,o)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPaddingRight=function(){var e=this.props.maxLength;return null==e?10:7.23*(""+e).length+10},t.prototype.renderMaxLength=function(){var e=this.props,t=e.maxLength,n=e.value;if(null==t)return null;var r=t-(null!=n?n.length:0);return o("div",{className:u.default.maxLength},void 0,r)},t.prototype.renderErrorMessage=function(){var e=this.props.error;return null==e?null:o("div",{className:s.default.errorMessage},void 0,e)},t.prototype.render=function(){var e,t,n,r=this.props,a=r.disabled,d=r.value,f=r.placeholder,c=r.error,p=r.autoFocus,h=r.maxLength,y=r.resizeable,m=r.className,v=r.id,_=r.rows,E=r.flex;return o("div",{className:(0,i.default)(s.default.inputWrapper,(e={},e[u.default.flex]=E,e))},void 0,o("div",{className:(0,i.default)(u.default.inputMaxLength,(t={},t[u.default.flex]=E,t))},void 0,o("textarea",{type:"text",className:(0,i.default)(s.default.inputDefault,u.default.textArea,l.default.scrollbarDefault,m,(n={},n[s.default.error]=c,n[s.default.disabled]=a,n[u.default.resizeable]=y,n)),style:{paddingRight:this.getPaddingRight()},id:v,disabled:a,placeholder:f,value:d,autoFocus:p,maxLength:h,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,rows:_}),this.renderMaxLength()),this.renderErrorMessage())},t}(a.PureComponent);c.defaultProps={name:"",disabled:!1,placeholder:"",autoFocus:!1,resizeable:!1,flex:!1,rows:3},c.displayName="TextArea",t.default=c,e.exports=t.default},6046:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(6257)),o=i(n(6067)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=null;t.default={typing:function(e){l===e&&null!=u&&u>Date.now()||(l=e,o.default.getCount(e)>a.MAX_TYPING_USERS?u=Date.now()+a.TYPING_TIMEOUT:(r.default.sendTyping(e),u=Date.now()+.8*a.TYPING_TIMEOUT))},clear:function(e){l===e&&(u=null)}},e.exports=t.default},6047:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(4)),o=n(81),a=s(n(1)),i=s(n(22)),l=s(n(153)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={};function f(e){var t=e.channelId,n=e.cooldownMs,r=i.default.getChannel(t);if(null!=r){var s=d[t];if(l.default.can(u.Permissions.MANAGE_CHANNELS,r)||l.default.can(u.Permissions.MANAGE_MESSAGES,r))null!=s&&(d[t].timer.stop(),delete d[t]);else if(null==s&&(s={cooldownMs:0,timer:new o.Timeout},d[t]=s),s.timer.stop(),null!=n&&n>0){var f=Math.max(n-1e3,0);s.cooldownMs=n,s.timer.start(1e3,function(){a.default.dispatch({type:u.ActionTypes.SLOWMODE_COOLDOWN_CHANGE,channelId:t,cooldownMs:f})},!0)}else delete d[t]}}function c(e){var t=e.channelId,n=e.cooldownMs,r=i.default.getChannel(t);if(null!=r){var o=n||1e3*r.rateLimitPerUser;return o>0?f({channelId:r.id,cooldownMs:o+u.SLOWMODE_COOLDOWN_BUFFER_MS}):void 0}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSlowmodeCooldownGuess=function(e){var t=d[e];return null!=t?t.cooldownMs:0},t}(r.default.Store);t.default=new p(a.default,{SLOWMODE_COOLDOWN_CHANGE:f,UPLOAD_START:c,SLOWMODE_START_COOLDOWN:c,LOGOUT:function(e){return Object.keys(d).forEach(function(e){return d[e].timer.stop()}),void(d={})}}),e.exports=t.default},6048:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=h(n(4)),i=h(n(1)),l=n(859),u=n(6085),s=n(6086),d=n(224),f=h(n(132)),c=h(n(451)),p=h(n(15));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=!1,m={},v={};function _(e){var t=!1;return e.forEach(function(e){t=!1!==g(e)||t}),t}function E(e){var t=v[e];if(null==t)return!1;var n=t.gameId;return m[n]&&(delete(m=o({},m))[n][e],0===Object.values(m[n]).length&&delete m[n]),delete(v=o({},v))[e],!0}function g(e){var t=e.user,n=e.activities;if(null==t||!c.default.isOnFeed(t.id))return!1;var r=n[0];if(null==r)return E(t.id);var a=void 0;if((0,d.isOnXbox)(r))a=s.XBOX_APPLICATION_ID_PREFIX+r.name;else if((0,d.isListeningOnSpotify)(r)&&null!=r.party&&null!=r.party.id)a=l.SpotifyApplication.id;else if((0,d.isStreaming)(r)&&null!=r.url)a=u.TWITCH_APPLICATION_ID_PREFIX+r.url;else{if(null==r.application_id)return E(t.id);a=r.application_id}var i=v[t.id];i&&i.gameId!==a&&E(t.id);var f=null!=r.timestamps&&r.timestamps.start||Date.now();return function(e,t){var n,r,a;m=o({},m,((r={})[e]=o({},m[e],((n={})[t.userId]=t,n)),r)),v=o({},v,((a={})[t.userId]={gameId:e,startedPlaying:t.startedPlaying},a))}(a,{userId:t.id,activity:r,startedPlaying:f}),!0}function S(){var e=!1;return c.default.hasLoadedSettings&&!y&&(e=function(){m={},v={};var e=!1;return f.default.getUserIds().forEach(function(t){var n=p.default.getUser(t);null!=n&&(e=g({user:n,activities:f.default.getActivities(t)})||e)}),e}()),y=c.default.hasLoadedSettings,e}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default),this.syncWith([c.default],S)},t.prototype.getNowPlaying=function(e){return m[e]},t.prototype.getUserGame=function(e){return v[e]},r(t,[{key:"games",get:function(){return m}},{key:"usersPlaying",get:function(){return v}},{key:"gameIds",get:function(){return Object.keys(m)}}]),t}(a.default.Store);t.default=new T(i.default,{CONNECTION_OPEN:function(e){var t=e.presences;return m={},v={},_(t)},LOGOUT:function(e){return m={},void(v={})},PRESENCE_UPDATE:function(e){return g(e)},PRESENCES_REPLACE:function(e){return _(e.presences)},ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD:function(e){var t=!1;return e.userIds.forEach(function(e){var n=f.default.getActivities(e);if(0!==n.length){var r=p.default.getUser(e);null!=r&&(t=g({user:r,activities:n})||t)}}),t}}),e.exports=t.default},6049:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n(6022)),i=b(n(6)),l=b(n(5)),u=b(n(4)),s=b(n(1)),d=n(130),f=n(322),c=n(863),p=n(5986),h=n(113),y=b(n(9)),m=b(n(320)),v=b(n(156)),_=b(n(855)),E=b(n(43)),g=b(n(90)),S=b(n(64)),T=b(n(312)),I=b(n(35)),C=b(n(332)),N=b(n(230)),A=b(n(6161)),O=n(0);function b(e){return e&&e.__esModule?e:{default:e}}var M=5,R=(0,l.default)().subtract(1,"week"),P=[],L="",w=!1;function D(e,t){return e.application.name.localeCompare(t.application.name,I.default.locale,{sensitivity:"base"})}var U=((r={})[O.GameTableListKeys.NAME]=D,r[O.GameTableListKeys.PLATFORM]=function(e,t,n){var r=e.libraryApplication.getDistributor(),o=t.libraryApplication.getDistributor();return r===o?(n===O.TableSortDirections.DESCENDING?-1:1)*D(e,t):null==r?1:null==o?-1:r.localeCompare(o)},r[O.GameTableListKeys.LAST_PLAYED]=function(e,t){return e.isNew&&!t.isNew?-1:!e.isNew&&t.isNew?1:e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1},r[O.GameTableListKeys.ACTIONS]=null,r),k=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.shouldShowInLibrary})}),G=(0,c.cachedFunction)(function(e){return e.filter(function(e){return e.isLaunchable&&(null==e.libraryApplication||e.shouldShowInLibrary)})}),x=(0,c.cachedFunction)(function(e,t){return e.filter(function(e){return(0,a.default)(t.toLowerCase(),e.application.name.toLowerCase())})}),F=(0,c.cachedFunction)(function(e,t,n,r){var o=U[t];if(null==o)return e;var a=[].concat(e).sort(o);return n===O.TableSortDirections.DESCENDING?a.reverse():a}),j=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.libraryApplication.isHidden()})});function B(e,t){var n=C.default.getCurrentUserStatisticsForApplication(e.id);if(null!=n)return new Date(n.last_played_at).getTime();var r=t[e.id];return null!=r?r:0}function H(e,t,n,r,o){if(!o&&t.has(e.id))return null;var a=E.default.getGame(e.id);if(null==a)return null;var i=B(a,n);return t.add(e.id),e instanceof d.LocalApplicationRecord||(0,h.isUserEntitledToLibraryApplication)(e)||v.default.isInstalled(e.id,e.branchId)?{key:e.id+"-"+e.branchId,application:a,libraryApplication:e,lastPlayed:i,supportsCloudSync:null!=e&&!(e instanceof d.LocalApplicationRecord)&&v.default.supportsCloudSync(e.id,e.branchId),isNew:function(e,t){return null!=e&&(0,l.default)(e.createdAt).isAfter(R)&&0===t&&!(e instanceof d.LocalApplicationRecord)}(e,i),isLaunching:E.default.launchingGames.has(e.id),isRunning:r.has(e.id),isLaunchable:(0,f.isLaunchable)(g.default,E.default,v.default,m.default,e.id,e.branchId),isUpdatingFlags:g.default.isUpdatingFlags(e.id,e.branchId),shouldShowInLibrary:(0,h.shouldShowGameInLibrary)(a,e,N.default,T.default),defaultAction:(0,p.getDefaultLibraryApplicationAction)(e,v.default,_.default)}:null}function V(){var e=new Set(S.default.getRunningVerifiedApplicationIds()),t={},n=new Set,r=S.default.getGamesSeen(!1,!1).map(function(e){var n=E.default.getGameBySettingGame(e);return null!=n?(t[n.id]=1e3*e.lastFocused,n.id):null}),o=Object.values(g.default.getAllLibraryApplications()).map(function(r){return H(r,n,t,e,!0)}).filter(Boolean),a=Object.values(N.default.localApplications).map(function(r){return H(r,n,t,e,!1)}).filter(Boolean),l=r.map(function(r){return function(e,t,n,r){var o=null!=e?E.default.getGame(e):null;if(null==o||null==e||t.has(e))return null;var a=B(o,n);return t.add(e),{key:e,application:o,lastPlayed:a,supportsCloudSync:!1,isNew:!1,isLaunching:E.default.launchingGames.has(e),isRunning:r.has(e),isLaunchable:(0,f.isLaunchable)(g.default,E.default,v.default,m.default,e,null),isUpdatingFlags:!1,shouldShowInLibrary:!1,libraryApplication:null,defaultAction:null}}(r,n,t,e)}).filter(Boolean),u=[].concat(l,a,o).sort(function(e,t){return e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1});return w=null!=E.default.lastFetched&&g.default.fetched,!i.default.isEqual(u,P)&&(P=u,y.default.embedded&&y.default.setSystemTrayApplications(G(P).map(function(e){return e.application}).slice(0,M)),!0)}var Y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([E.default,S.default,v.default,_.default,g.default,C.default,T.default,m.default],V,200),this.syncWith([A.default,I.default],function(){return!0})},o(t,[{key:"applicationFilterQuery",get:function(){return L}},{key:"applicationViewItems",get:function(){return P}},{key:"launchableApplicationViewItems",get:function(){return G(P)}},{key:"libraryApplicationViewItems",get:function(){return k(P)}},{key:"filteredLibraryApplicationViewItems",get:function(){return x(this.libraryApplicationViewItems,L)}},{key:"sortedFilteredLibraryApplicationViewItems",get:function(){return F(this.filteredLibraryApplicationViewItems,A.default.sortKey,A.default.sortDirection,I.default.locale)}},{key:"hiddenLibraryApplicationViewItems",get:function(){return j(P)}},{key:"hasFetchedApplications",get:function(){return w}}]),t}(u.default.Store);t.default=new Y(s.default,{LIBRARY_APPLICATION_FILTER_UPDATE:function(e){var t=e.query;L=t}}),e.exports=t.default},6050:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(4));n(130);var u=A(n(43)),s=A(n(90)),d=A(n(230)),f=A(n(6271)),c=A(n(6272)),p=A(n(6273)),h=A(n(6274)),y=A(n(6275)),m=A(n(6276)),v=A(n(6277)),_=A(n(6278)),E=A(n(6279)),g=A(n(6280)),S=A(n(6281)),T=A(n(6282)),I=A(n(6283)),C=A(n(6011)),N=n(0);function A(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderFallback=function(){return a(C.default,{id:this.props.applicationId})},t.prototype.renderLibraryApplicationItems=function(e){var t=this.props,n=t.libraryApplication,r=t.application;return null==n||null==r?null:a(i.Fragment,{},void 0,a(p.default,{libraryApplication:n,analyticsLocation:e}),a(y.default,{libraryApplication:n}),a(g.default,{libraryApplication:n}),a(T.default,{libraryApplication:n}),a(S.default,{libraryApplication:n}),a(v.default,{application:r,analyticsLocation:e}),a(_.default,{application:r}),a(f.default,{application:r,libraryApplication:n}),a(E.default,{application:r,libraryApplication:n}),a(c.default,{application:r,libraryApplication:n}))},t.prototype.renderMenuItems=function(){var e=this.props,t=e.type,n=e.libraryApplication,r=e.application,l=e.onPlay,u=e.analyticsContext;if(null==r)return this.renderFallback();if(t===N.ContextMenuTypes.APPLICATION_STORE_DIRECTORY)return a(i.Fragment,{},void 0,a(m.default,{application:r}),a(c.default,{application:r,libraryApplication:n}));var s=null!=u?u.location:null,d=o({},s,{object:N.AnalyticsObjects.CONTEXT_MENU});switch(t){case N.ContextMenuTypes.APPLICATION_ACTIVITY_FEED:case N.ContextMenuTypes.APPLICATION_GAME_LIBRARY:case N.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES:return a(i.Fragment,{},void 0,this.renderLibraryApplicationItems(d),a(_.default,{application:r}),a(I.default,{application:r}));case N.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER:return null==n?this.renderFallback():a(i.Fragment,{},void 0,a(p.default,{libraryApplication:n,analyticsLocation:d}),a(c.default,{application:r,libraryApplication:n}));case N.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS:return null==n?this.renderFallback():a(h.default,{libraryApplication:n,onPlay:l})}},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=this.renderMenuItems();return null==r?null:a("div",{className:t,style:n},void 0,r)},t}(i.PureComponent);O.displayName="ApplicationContextMenu",t.default=l.default.connectStores([s.default,u.default],function(e){var t=e.applicationId,n=e.branchId,r=null!=n?s.default.getLibraryApplication(t,n):s.default.getActiveLibraryApplication(t),o=null==r?d.default.getLocalApplication(t):null,a=u.default.getGame(t);return{libraryApplication:r||o,application:a}})(O),e.exports=t.default},6051:function(e,t,n){"use strict";t.__esModule=!0;t.PAGE_WIDTH_THRESHOLD=1e3,t.PageSizes=Object.freeze({SMALL:"small",LARGE:"large"})},6052:function(e,t,n){"use strict";t.__esModule=!0,t.decodeStreamKey=function(e){var t=e.split(":"),n=t[0],r=t[1],o=t[2],a=t[3];return{streamType:n,guildId:r,channelId:o,ownerId:a}},t.encodeStreamKey=c,t.canStreamInChannel=p,t.getStreamEligibleChannels=function(e,t){for(var n=[],r=t[s.ChannelTypes.GUILD_VOICE],o=Array.isArray(r),a=0,r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i,u=l.channel;p(e,u)&&n.push(u)}return n},t.stopStreaming=function(e){if(null==e)return;var t=e.streamType,n=e.guildId,i=e.channelId,u=e.ownerId,d=c({streamType:t,guildId:n,channelId:i,ownerId:u});r.close(s.PopoutWindowKeys.STREAM_POPOUT),a.stopStream(d),null!=n&&l.default.getVoiceChannelId()===l.default.getChannelId()&&o.default.selectChannel(n)};var r=f(n(6132)),o=d(n(160)),a=f(n(867)),i=d(n(28)),l=d(n(51)),u=d(n(100)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return[e.streamType,e.guildId,e.channelId,e.ownerId].join(":")}function p(e,t){if((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&!u.default.can(s.Permissions.CONNECT,e,t))return!1;if(!u.default.can(s.Permissions.STREAM,e,t))return!1;var n=i.default.getGuild(t.getGuildId());return null==n||n.afkChannelId!==t.id}},6053:function(e,t,n){"use strict";t.__esModule=!0,t.categoryCollapse=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_COLLAPSE,id:e})},t.categoryExpand=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_EXPAND,id:e})},t.categoryCollapseAll=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_COLLAPSE_ALL,guildId:e})},t.categoryExpandAll=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_EXPAND_ALL,guildId:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6054:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(8)),a=l(n(1)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e){a.default.dispatch({type:i.ActionTypes.NOTIFICATION_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:i.ActionTypes.NOTIFICATION_SETTINGS_MODAL_CLOSE})},updateNotificationSettings:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.default.patch({url:i.Endpoints.USER_GUILD_SETTINGS(e||i.ME),body:t}),a.default.dispatch({type:i.ActionTypes.USER_GUILD_SETTINGS_UPDATE,userGuildSettings:[r({guild_id:e||i.ME},t)],partial:n})},updateChannelOverrideSettings:function(e,t,n){var r;this.updateNotificationSettings(e,{channel_overrides:(r={},r[t]=n,r)},!0)}},e.exports=t.default},6055:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(306)),l=s(n(442)),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.invertTooltip,r=o(i.default,{name:i.default.Names.MOBILE_DEVICE,className:t});return o(l.default,{text:u.default.Messages.ACTIVE_ON_MOBILE,position:n?l.default.Positions.BOTTOM:l.default.Positions.TOP},void 0,r)},t}(a.PureComponent);d.defaultProps={invertTooltip:!1},d.displayName="MobileIndicator",t.default=d,e.exports=t.default},6056:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=d(n(17)),u=n(0),s=d(n(5403));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),c=function(e){var t,n,r,d=e.className,c=e.percent,p=e.size,h=void 0===p?f.SMALL:p,y=e.foregroundColor,m=void 0===y?u.Colors.BRAND:y,v=e.backgroundColor,_=void 0===v?"#e9e7e7":v,E=e.foregroundGradientColor,g=e.animate,S=void 0===g||g,T=null!=c?c:0,I=void 0;return I=null!=E?{background:"linear-gradient(to right, "+E[0]+", "+E[1]+")"}:{backgroundColor:m},a("div",{className:(0,l.default)(d,s.default.progress,s.default[h]),style:{backgroundColor:_}},void 0,"indeterminate"!==T&&"number"==typeof T?a("div",{className:(0,l.default)(s.default.progressBar,s.default[h],(t={},t[s.default.animating]=S,t)),style:o({transform:"translate3d("+(Math.min(Math.max(0,T),100)-100)+"%, 0, 0)"},I)}):a(i.Fragment,{},void 0,a("div",{className:(0,l.default)(s.default.indeterminateBar1,s.default[h],(n={},n[s.default.animating]=S,n)),style:I}),a("div",{className:(0,l.default)(s.default.indeterminateBar2,s.default[h],(r={},r[s.default.animating]=S,r)),style:I})))};c.displayName="Progress",c.Sizes=f,c.INDETERMINATE="indeterminate",t.default=c,e.exports=t.default},6057:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=n(180),s=n(0),d=f(n(5413));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=Object.freeze({DEFAULT:d.default.themeDefault,CLEAR:d.default.themeClear}),h=Object.freeze({DEFAULT:d.default.sizeDefault,MINI:d.default.sizeMini}),y=Object.freeze({CHECKED:d.default.valueChecked,UNCHECKED:d.default.valueUnchecked}),m=Object.freeze({ENABLED:"enabled",DISABLED:"disabled"}),v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.handleKeyPress=function(e){e.charCode!==s.KeyboardKeys.SPACE&&e.charCode!==s.KeyboardKeys.ENTER||(e.preventDefault(),null!=r.ref&&r.ref.click())},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.id,r=t.onChange,s=t.value,f=t.fill,c=t.theme,p=t.disabled,h=t.className,v=t.size,_=p?m.DISABLED:m.ENABLED,E=s?y.CHECKED:y.UNCHECKED,g=this.props.style;return null!=f&&s&&(g=a({},g,{backgroundColor:f})),o("div",{className:(0,l.default)(h,(0,u.getClass)(d.default,"switch",_),E,v,c),style:g,onKeyPress:this.handleKeyPress,tabIndex:p?-1:0},void 0,i.createElement("input",{id:n,ref:function(t){return e.ref=t},className:(0,u.getClass)(d.default,"checkbox",_),type:"checkbox",disabled:p,onChange:r,checked:s,tabIndex:-1}))},t}(i.Component);v.Themes=p,v.Sizes=h,v.defaultProps={theme:p.DEFAULT,size:h.DEFAULT},v.displayName="Switch",t.default=v,e.exports=t.default},6058:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(4)),a=d(n(1)),i=d(n(864)),l=d(n(51)),u=d(n(457)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=null,c=!1;function p(e){var t=e.link;f=t}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,u.default,l.default)},t.prototype.getHomeLink=function(){return f||i.default.defaultRoute},r(t,[{key:"hasHandledRedirect",get:function(){return c}}]),t}(o.default.Store);t.default=new h(a.default,{OVERLAY_INITIALIZE:function(e){return t=u.default.getPrivateChannelIds(),void(((n=l.default.getChannelId(s.ME))||t[0])&&(f=s.Routes.CHANNEL(s.ME,n||t[0])));var t,n},APP_VIEW_SET_HOME_LINK:p,ACTIVITY_FEED_HANDLE_REDIRECT:function(e){c=!0},APPLICATION_STORE_LOCATION_CHANGE:function(e){p({link:e.location.pathname})},APPLICATION_STORE_RESET_NAVIGATION:function(e){return function(){if(null==f||!f.startsWith(s.Routes.APPLICATION_STORE))return!1;f=s.Routes.APPLICATION_STORE}()},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;null==t&&null!=n&&(f=s.Routes.CHANNEL(s.ME,n))}}),e.exports=t.default},6059:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=d(n(6813)),a=d(n(4)),i=d(n(1)),l=n(229),u=d(n(491)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f={},c=new Set;function p(e,t){var n=r({code:e,state:s.InviteStates.RESOLVING},f[e]);t(n),f[e]=r({},n)}function h(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!c.has(e.channel_id))return!1;var t=(0,l.findInvites)(e.content);if(null==t||0===t.length)return!1;t.forEach(function(e){null==f[e]&&(y({code:e}),(0,l.resolveInvite)(e).then(function(e){var t=e.invite,n=e.code;null!=t?i.default.dispatch({type:s.ActionTypes.INVITE_RESOLVE_SUCCESS,invite:t,code:n}):i.default.dispatch({type:s.ActionTypes.INVITE_RESOLVE_FAILURE,code:n})}))})}function y(e){f[e.code]={code:e.code,state:s.InviteStates.RESOLVING}}function m(e){return p(e.code,function(e){e.state=s.InviteStates.EXPIRED})}function v(e){return h(e.message,!0)}function _(e){var t=e.channelId,n=e.messages;c.add(t),n.forEach(function(e){return h(e,!0)})}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInvite=function(e){return f[e]},t.prototype.getInvites=function(e){return null!=e?(0,o.default)(f).filter(function(t){return null!=t.guild&&t.guild.id===e}):(0,o.default)(f)},t}(a.default.Store);t.default=new E(i.default,{CONNECTION_OPEN:function(e){return c.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&c.add(t),!1},INVITE_RESOLVE:y,INVITE_RESOLVE_SUCCESS:function(e){return p(e.code,function(t){t.state=s.InviteStates.RESOLVED,t.guild=e.invite.guild,t.channel=e.invite.channel,t.inviter=e.invite.inviter,t.approximate_member_count=null!=e.invite.approximate_member_count?e.invite.approximate_member_count:null,t.approximate_presence_count=null!=e.invite.approximate_presence_count?e.invite.approximate_presence_count:null,null!=e.invite.guest_token&&(t.guest_token=u.default.isEnabled()?e.invite.guest_token:null),null!=e.invite.target_user_type&&null!=e.invite.target_user&&(t.target_user_type=e.invite.target_user_type,t.target_user=e.invite.target_user)})},INVITE_RESOLVE_FAILURE:m,INSTANT_INVITE_REVOKE_SUCCESS:m,INVITE_ACCEPT:function(e){return p(e.code,function(e){e.state=s.InviteStates.ACCEPTED})},INVITE_ACCEPT_SUCCESS:function(e){return p(e.code,function(t){t.state=s.InviteStates.ACCEPTED,t.guild=e.invite.guild,t.channel=r({},t.channel,e.invite.channel)})},INVITE_ACCEPT_FAILURE:function(e){return p(e.code,function(e){e.state=s.InviteStates.EXPIRED})},INVITE_APP_OPENING:function(e){return p(e.code,function(e){e.state=s.InviteStates.APP_OPENING})},INVITE_APP_OPENED:function(e){return p(e.code,function(e){e.state=s.InviteStates.APP_OPENED})},INVITE_NATIVE_APP_MODAL_OPENING:function(e){return p(e.code,function(e){e.nativeAppState=s.NativeAppStates.OPENING})},INVITE_NATIVE_APP_MODAL_OPENED:function(e){return p(e.code,function(e){e.nativeAppState=s.NativeAppStates.OPEN})},INVITE_NATIVE_APP_MODAL_OPEN_FAILED:function(e){return p(e.code,function(e){e.nativeAppState=s.NativeAppStates.OPEN_FAIL})},INVITE_APP_NOT_OPENED:function(e){return p(e.code,function(e){e.state=s.InviteStates.APP_NOT_OPENED})},MESSAGE_CREATE:v,MESSAGE_UPDATE:v,LOAD_MESSAGES_SUCCESS:_,LOAD_MESSAGES_AROUND_SUCCESS:_,LOAD_RECENT_MENTIONS_SUCCESS:function(e){e.messages.forEach(function(e){return h(e)})},LOAD_PINNED_MESSAGES_SUCCESS:function(e){e.messages.forEach(function(e){return h(e)})},SEARCH_FINISH:function(e){e.messages.forEach(function(e){e.forEach(function(e){return h(e)})})}}),e.exports=t.default},6060:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(6)),o=l(n(4)),a=l(n(1));n(239);var i=l(n(28));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=null,s={};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t.prototype.getOptimalRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?t.find(function(e){return e.optimal})||r.default.sample(t):null},t.prototype.getOptimalRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null},t.prototype.getRandomRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?r.default.sample(t):null},t.prototype.getRandomRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e);return null!=t?t.id:null},t.prototype.getRegions=function(e){return null!=e?s[e]:u},t}(o.default.Store);t.default=new d(a.default,{LOAD_REGIONS:function(e){var t=r.default.sortBy(e.regions,function(e){return e.name});e.guildId?s[e.guildId]=t:u=t},GUILD_DELETE:function(e){delete s[e.guild.id]}}),e.exports=t.default},6061:function(e,t,n){"use strict";var r;t.__esModule=!0,t.ContentTypes=t.LazyContentScroller=t.SectionTypes=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=v(n(17)),s=v(n(310)),d=v(n(933)),f=v(n(833)),c=v(n(313)),p=v(n(6601)),h=v(n(850)),y=n(0),m=v(n(5418));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.SectionTypes={HEADER:"HEADER",DIVIDER:"DIVIDER",CUSTOM:"CUSTOM"};var S=t.LazyContentScroller=function(e){function t(n){_(this,t);var r=E(this,e.call(this,n));return r.renderHeader=r.renderHeader.bind(r),r}return g(t,e),t.prototype.renderHeader=function(){return i("div",{className:m.default.customHeader},void 0,this.props.header)},t.prototype.renderContent=function(){var e=this.props,t=e.children,n=(e.header,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","header"]));return i("div",{className:m.default.customContainer},void 0,l.createElement(h.default,a({},n,{theme:h.default.Themes.GHOST,renderStickyHeader:this.renderHeader,className:(0,u.default)(m.default.customScroller,m.default.contentRegionScroller)}),t))},t.prototype.render=function(){return i("div",{className:m.default.customColumn},void 0,this.renderContent())},t}(l.PureComponent);S.defaultProps={paddingTop:0,paddingBottom:60,batchEndMultiplier:1},S.displayName="LazyContentScroller";var T={friction:7,tension:60},I=function(e){function t(n){_(this,t);var r=E(this,e.call(this,n));return r.state={translateY:new s.default.Value(0)},r}return g(t,e),t.prototype.componentDidMount=function(){this.slideIn()},t.prototype.componentWillEnter=function(e){this.slideIn(e)},t.prototype.componentWillLeave=function(e){this.slideOut(e)},t.prototype.slideIn=function(e){var t=this.state.translateY;s.default.spring(t,a({toValue:1},T)).start(e)},t.prototype.slideOut=function(e){var t=this.state.translateY;s.default.stagger(250,[s.default.spring(t,a({toValue:1.3},T)),s.default.spring(t,a({toValue:0},T))]).start(e)},t.prototype.render=function(){return i(s.default.div,{className:m.default.noticeRegion,style:this.getNoticeStyle()},void 0,this.props.children)},t.prototype.getNoticeStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["150%","0%"]})},{translateZ:0}]}},t}(l.PureComponent);I.displayName="NoticeContainer";var C=t.ContentTypes=Object.freeze({MINIMAL:"minimal",CUSTOM:"custom",DEFAULT:"default"}),N=Object.freeze(((r={})[C.MINIMAL]="contentColumnMinimal",r[C.CUSTOM]="contentColumnCustom",r[C.DEFAULT]="contentColumnDefault",r)),A=function(e){function t(n){_(this,t);var r=E(this,e.call(this,n));return r.setScrollerRef=r.setScrollerRef.bind(r),r}return g(t,e),t.prototype.componentDidUpdate=function(e){e.section!==this.props.section&&this.resetScroll()},t.prototype.resetScroll=function(){null!=this._scroller&&this._scroller.scrollTo(0)},t.prototype.setScrollerRef=function(e){this._scroller=e},t.prototype.renderTools=function(){var e=this.props,t=e.closeAction,n=e.theme;return null==t?null:i("div",{className:m.default.toolsContainer},void 0,i("div",{className:m.default.tools},void 0,i(p.default,{closeAction:t,theme:n,keybind:"ESC"})))},t.prototype.renderNotice=function(){var e=this.props,t=e.notice,n=e.section;return null==t?null:i(I,{},n,t)},t.prototype.renderContent=function(){var e=this.props,t=e.content,n=e.theme,r=e.contentType;if(r===C.CUSTOM)return i(f.default,{component:"div",className:m.default.contentRegion},void 0,t,this.renderTools(),this.renderNotice());var o=n===y.ThemeTypes.LIGHT?y.Colors.WHITE:y.Colors.PRIMARY_DARK_600,a=N[r||C.DEFAULT];return i(f.default,{component:"div",className:m.default.contentRegion},void 0,i("div",{className:m.default.contentTransitionWrap},void 0,l.createElement(c.default,{outerClassName:m.default.contentRegionScrollerWrap,className:m.default.contentRegionScroller,track:!0,theme:c.default.Themes.GHOST,ref:this.setScrollerRef,backgroundColor:o},i("div",{className:(0,u.default)(m.default.contentColumn,m.default[a])},void 0,t),this.renderTools())),this.renderNotice())},t.prototype.renderSidebar=function(){var e=this.props,t=e.sidebar,n=e.theme===y.ThemeTypes.LIGHT?d.default.darken(y.Colors.PRIMARY_DARK_100,.015):y.Colors.PRIMARY_DARK_630;return i("div",{className:m.default.sidebarRegion},void 0,i(c.default,{className:m.default.sidebarRegionScroller,fade:!0,theme:c.default.Themes.GHOST_HAIRLINE,backgroundColor:n},void 0,i("div",{className:m.default.sidebar},void 0,t)))},t.prototype.render=function(){return i("div",{className:m.default.standardSidebarView},void 0,this.renderSidebar(),this.renderContent())},t}(l.PureComponent);A.displayName="StandardSidebarView",t.default=A},6062:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.trackSearchStart=m,t.trackSearchResultViewed=v,t.search=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];""===e?g():(l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY,query:e}),n?_(e,t):E(e,t))},t.fetchSuggestions=function(e){if(""===e||null==e)return;i.default.get({url:p.Endpoints.GIFS_SUGGEST,query:{q:e,provider:p.GIFProviders.TENOR,limit:5,locale:u.default.locale}}).then(function(t){var n=t.body;l.default.dispatch({type:p.ActionTypes.GIF_PICKER_SUGGESTIONS_SUCCESS,query:e,items:n})})},t.resetSearch=g,t.trackSelectGIF=function(e){var t=e.type,n=e.index,o=e.offset,a=e.limit,l=e.results,u=e.totalResults,d=e.query,h=e.gifId,y=(0,c.calculateAnalyticsMetadata)(s.default.getAnalyticsID(),t,{offset:o,limit:a,results:l,totalResults:u});f.default.trackWithMetadata(p.AnalyticEvents.SEARCH_RESULT_SELECTED,r({},y,{index_num:n,source_object:"GIF Picker"})),null!=h&&i.default.post({url:p.Endpoints.GIFS_SELECT,body:{id:h,q:d}})},t.initializeSearch=function(){var e=a.default.v4().replace(y,"");f.default.trackWithMetadata(p.AnalyticEvents.SEARCH_OPENED,{search_type:p.SearchTypes.GIF,load_id:e}),l.default.dispatch({type:p.ActionTypes.GIF_PICKER_INITIALIZE,analyticsID:e})},t.fetchTrending=function(){i.default.get({url:p.Endpoints.GIFS_TRENDING,query:{provider:p.GIFProviders.TENOR,locale:u.default.locale}}).then(function(e){var t=e.body,n=t.categories,r=t.gifs;l.default.dispatch({type:p.ActionTypes.GIF_PICKER_TRENDING_FETCH_SUCCESS,trendingCategories:n,trendingGIFPreview:r[0]})})},t.fetchTrendingGIFs=function(){var e=Date.now();m(p.GIFPickerResultTypes.TRENDING_GIFS),i.default.get({url:p.Endpoints.GIFS_TRENDING_GIFS,query:{media_format:s.default.getSelectedFormat(),provider:p.GIFProviders.TENOR,locale:u.default.locale}}).then(function(t){var n=t.body;v(n,p.GIFPickerResultTypes.TRENDING_GIFS,{startTime:e}),l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_SUCCESS,items:n})},function(){l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_FAILURE})})},t.addFavoriteGIF=function(e){l.default.dispatch({type:p.ActionTypes.GIF_FAVORITE_ADD,gif:e}),d.default.track(p.AnalyticEvents.GIF_FAVORITED)},t.removeFavoriteGIF=function(e){l.default.dispatch({type:p.ActionTypes.GIF_FAVORITE_REMOVE,url:e}),d.default.track(p.AnalyticEvents.GIF_UNFAVORITED)};var o=h(n(6)),a=h(n(161)),i=h(n(8)),l=h(n(1)),u=h(n(35)),s=h(n(6120)),d=h(n(18)),f=h(n(181)),c=n(6467),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=/-/g;function m(e){var t,n=null!=e?((t={})[e]=1,t):{};f.default.trackWithMetadata(p.AnalyticEvents.SEARCH_STARTED,{search_type:p.SearchTypes.GIF,load_id:s.default.getAnalyticsID(),num_modifiers:Object.keys(n).length,modifiers:n})}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.startTime,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["startTime"]),i={offset:0,limit:null,totalResults:e.length},l=(0,c.calculateAnalyticsMetadata)(s.default.getAnalyticsID(),t,r({},i,a,{results:e})),u=null==o?{}:{load_duration_ms:Date.now()-o};f.default.trackWithMetadata(p.AnalyticEvents.SEARCH_RESULT_VIEWED,r({},l,u))}function _(e,t){var n=Date.now();m(t),i.default.get({url:p.Endpoints.GIFS_SEARCH,query:{q:e,media_format:s.default.getSelectedFormat(),provider:p.GIFProviders.TENOR,locale:u.default.locale}}).then(function(r){var o=r.body;v(o,t,{startTime:n}),l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_SUCCESS,query:e,items:o})},function(){return l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_FAILURE,query:e})})}var E=o.default.debounce(_,250);function g(){l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY,query:""})}},6063:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(135)),u=c(n(5979)),s=c(n(306)),d=c(n(5368)),f=c(n(5454));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t,n){return o("div",{className:t},n,e)}h.displayName="defaultRenderMoreUsers";var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=p(this,e.call.apply(e,[this].concat(s))),r.defaultRenderUser=function(e,t,n,a){var s=r.props,c=s.onClick,p=s.size,h=e instanceof l.default?e:null!=e?e.user:null;return null==h?o("div",{className:(0,i.default)(f.default.emptyUser,t)},n):o(u.default,{src:h.getAvatarURL("png"),size:p,className:(0,i.default)(t,d.default.cursorPointer),onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return null!=c?c(e,h,r._ref):null})},h.id)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,r=e.renderUser,o=void 0===r?this.defaultRenderUser:r,a=e.renderMoreUsers,i=[],l=t.length===n?t.length:n-1,u=0;u<l&&u<t.length;){var s=u===t.length-1;i.push(o(t[u]||null,s?null:f.default.avatarMasked,"user-"+u,s)),u++}if(u<t.length){var d=Math.min(t.length-u,99);i.push(a("+"+d,f.default.moreUsers,"more-users",d))}return i},t.prototype.renderIcon=function(){return this.props.icon?o("div",{className:f.default.iconContainer},void 0,o(s.default,{name:s.default.Names.SPEAKER,width:16,height:16,foreground:f.default.foreground,className:f.default.icon})):null},t.prototype.render=function(){var e=this,t=this.props.className;return a.createElement("div",{className:(0,i.default)(t,f.default.container),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e._ref=t})},this.renderIcon(),this.renderUsers())},t}(a.PureComponent);y.defaultProps={max:10,renderMoreUsers:h,size:u.default.Sizes.XSMALL},y.displayName="VoiceUserSummaryItem",t.default=y,e.exports=t.default},6064:function(e,t,n){"use strict";t.__esModule=!0,t.GIFAccessoryContext=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.GIFAccessoryContext=r.createContext(function(){return null})},6065:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=l(n(17)),i=l(n(5535));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.value,n=void 0===t?0:t,l=e.text,u=e.className,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["value","text","className"]);return null!=l?o.createElement("div",r({className:(0,a.default)(i.default.wrapper,u)},s),l):n>0?o.createElement("div",r({className:(0,a.default)(i.default.wrapper,u)},s),n):null},e.exports=t.default},6067:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(4)),a=l(n(1)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={},s=Object.freeze({});function d(e){return u[e]||s}function f(e){var t=e.channelId,n=e.userId,o=u[t];if(null==o||null==o[n])return!1;var a=r({},o);clearTimeout(a[n]),delete a[n],u[t]=a}function c(){u={}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getTypingUsers=function(e){return d(e)},t.prototype.isTyping=function(e,t){return null!=d(e)[t]},t.prototype.getCount=function(e){var t=d(e);return t===s?0:Object.keys(t).length},t}(o.default.Store);t.default=new p(a.default,{TYPING_START:function(e){var t=e.channelId,n=e.userId,o=r({},d(t));clearTimeout(o[n]),o[n]=function(e,t){return setTimeout(function(){a.default.dispatch({type:i.ActionTypes.TYPING_STOP,channelId:e,userId:t})},i.TYPING_TIMEOUT)}(t,n),u[t]=o},TYPING_STOP:f,CONNECTION_OPEN:function(e){return c()},OVERLAY_INITIALIZE:function(e){return c()},MESSAGE_CREATE:function(e){return f({channelId:e.channelId,userId:e.message.author.id})}}),e.exports=t.default},6069:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(4)),i=u(n(1)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=null,d=null,f=null,c=null,p=null,h={},y=null,m=!1,v=null,_=!1,E=!1,g=!1,S=!1,T=null,I=void 0,C=void 0;function N(e){null!=I&&null!=y?I(y):null!=C&&C(e),I=null,C=null}function A(e,t){return e+"-"+(null!=t?t:"")}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPrice=function(e,t){return h[A(e,t)]},t.prototype.isOpen=function(){var e=__OVERLAY__?l.AppContext.OVERLAY:l.AppContext.APP;return T===e&&g},t.prototype.getProps=function(){return{appContext:T,skuId:s,applicationId:f}},r(t,[{key:"isPurchasingSKU",get:function(){return m}},{key:"forceConfirmationStepOnMount",get:function(){return _}},{key:"error",get:function(){return v}},{key:"skuId",get:function(){return s}},{key:"applicationId",get:function(){return f}},{key:"analyticsLocation",get:function(){return c}},{key:"promotionId",get:function(){return p}},{key:"isIAP",get:function(){return E}},{key:"giftCode",get:function(){return d}},{key:"isGift",get:function(){return S}}]),t}(a.default.Store);t.default=new O(i.default,{SKU_PURCHASE_MODAL_OPEN:function(e){N(),s=e.skuId,f=e.applicationId,E=e.isIAP,c=e.analyticsLocation,T=e.context,S=e.isGift,g=!0,_=!1,I=e.resolve,C=e.reject,v=null,y=null,p=e.promotionId},SKU_PURCHASE_MODAL_CLOSE:function(e){var t=e.error;g=!1,T=null,N(t)},SKU_PURCHASE_PREVIEW_FETCH_SUCCESS:function(e){var t,n=e.skuId,r=e.paymentSourceId,a=e.price;h=o({},h,((t={})[A(n,r)]=a,t))},SKU_PURCHASE_START:function(e){m=!0},SKU_PURCHASE_SUCCESS:function(e){var t=e.entitlements,n=e.giftCode;m=!1,y=t,d=n},SKU_PURCHASE_FAIL:function(e){var t=e.error;m=!1,v=t},SKU_PURCHASE_SHOW_CONFIRMATION_STEP:function(e){_=!0},SKU_PURCHASE_CLEAR_ERROR:function(e){v=null},SKU_PURCHASE_UPDATE_IS_GIFT:function(e){S=e.isGift},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==T)return!1;g=!1,T=null,N()}}),e.exports=t.default},6070:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(6198),l=n(0);t.default={detectAccounts:function(e,t){return a.default.dispatch({type:l.ActionTypes.PLATFORM_ACCOUNTS_DETECTING,platformTypes:e,location:t}),(0,i.fetchAccounts)(e).then(function(n){return a.default.dispatch({type:l.ActionTypes.PLATFORM_ACCOUNTS_DETECTED,platformTypes:e,accounts:n,location:t}),n})},ignore:function(e){a.default.dispatch({type:l.ActionTypes.PLATFORM_ACCOUNTS_IGNORE,platformTypes:e})},changeDisplayType:function(e){a.default.dispatch({type:l.ActionTypes.DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE,displayType:e})}},e.exports=t.default},6071:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=d(n(17)),u=d(n(99)),s=d(n(5373));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.getMarkerState=function(e){var t=e.markers,n=e.defaultValue,o=e.minValue,a=e.maxValue,i=[],l=[];if(null==t)return{min:o,max:a,range:a-o,sortedMarkers:i,markerPositions:l};i=t.sort(function(e,t){return e-t});var u=r.findClosestMarkerByIndex(n,i),s=i[0],d=i[i.length-1],f=d-s;if(r.props.equidistant){var c=100/(i.length-1);l=i.map(function(e,t){return t*c})}else{l=i.map(function(e){return 100*(e-s)/f})}return{min:s,max:d,range:f,sortedMarkers:i,markerPositions:l,closestMarkerIndex:u}},r.handleMouseDown=function(e){if(!r.props.disabled){document.addEventListener("mousemove",r.handleMouseMove,!0),document.addEventListener("mouseup",r.handleMouseUp,!0);var t=u.default.findDOMNode(r);if(null==t||t instanceof Text)throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");r.setState({x:e.clientX,boundingRect:t.getBoundingClientRect(),newClosestIndex:r.state.closestMarkerIndex})}},r.handleMouseUp=function(){r.reset();var e=r.props,t=e.onValueChange,n=e.stickToMarkers,o=r.state.newClosestIndex;n&&null!=o?(t&&t(r.state.sortedMarkers[o]),r.setState({newClosestIndex:null,closestMarkerIndex:o})):t&&t(r.state.value)},r.handleMouseMove=function(e){e.preventDefault(),r.props.stickToMarkers?r.moveStaggered(e):r.moveSmoothly(e)},r.state=a({value:n.defaultValue},r.getMarkerState(n),{newClosestIndex:null}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){null==this.state.newClosestIndex&&this.props.defaultValue!==e.defaultValue&&this.setState(a({value:e.defaultValue},this.getMarkerState(e)))},t.prototype.componentWillUnmount=function(){this.reset()},t.prototype.renderBubble=function(e){var t=this.state.value,n=this.props,r=n.stickToMarkers,a=n.onValueRender;if(!r)return o("span",{className:s.default.bubble},void 0,a?a(t):e.toFixed(0)+"%")},t.prototype.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e},t.prototype.render=function(){var e,t=this,n=this.state,r=n.value,i=n.sortedMarkers,u=n.markerPositions,d=n.closestMarkerIndex,f=n.newClosestIndex,c=this.props,p=c.disabled,h=c.stickToMarkers,y=c.className,m=c.children,v=c.barStyles,_=c.fillStyles,E=c.mini,g=c.hideBubble,S=0;h?null!=u&&(null!=f?S=u[f]:null!=d&&(S=u[d])):S=this.scaleValue(r);var T=S+"%",I=u&&i?u.map(function(e,n){var r=t.renderMark(i[n]);return o("div",{className:s.default.mark,style:{left:e+"%"}},n,o("div",{className:s.default.markValue},void 0,r),o("div",{className:s.default["markDash"+(null==r?"simple":"")]}))}):null;return o("div",{className:(0,l.default)(s.default.slider,y,(e={},e[s.default.disabled]=p,e[s.default.mini]=E,e))},void 0,o("input",{type:"number",className:s.default.input,value:S.toFixed(0),readOnly:!0}),o("div",{className:s.default.track},void 0,I),o("div",{className:s.default.bar,style:v},void 0,o("div",{className:s.default.barFill,style:a({},_,{width:T})})),m,o("div",{className:s.default.track},void 0,o("div",{className:s.default.grabber,style:{left:T},onMouseDown:this.handleMouseDown},void 0,g?null:this.renderBubble(S))))},t.prototype.reset=function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0)},t.prototype.findClosestMarkerByIndex=function(e,t){for(var n=null!=t?t:this.state.sortedMarkers,r=0,o=0;o<n.length;o++){var a=n[o];if(e===a)return o;if(e<a)return 0===r?o:a-e<r?o:o-1;r=e-a}return null},t.prototype.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range},t.prototype.unscaleValue=function(e){return e*this.state.range/100+this.state.min},t.prototype.moveStaggered=function(e){var t=this.state,n=t.boundingRect,r=t.x,o=void 0===r?0:r,a=t.closestMarkerIndex,i=t.markerPositions,l=t.sortedMarkers,u=this.props.asValueChanges,s=n||{},d=s.left,f=s.right;if(!(e.clientX<=d||e.clientX>=f)){var c=f-d,p=(e.clientX-o)/c,h=i[a]+100*p,y=void 0;if(this.props.equidistant)y=this.findClosestMarkerByIndex(h,i);else{var m=this.unscaleValue(h);y=this.findClosestMarkerByIndex(m)}null!=y&&u&&u(l[y]),this.setState({newClosestIndex:y})}},t.prototype.moveSmoothly=function(e){var t=this.props,n=t.minValue,r=t.maxValue,o=t.handleSize,a=t.asValueChanges,i=this.state.boundingRect,l=i.left,u=i.right,s=this.state.x-e.clientX,d=(this.state.value-n)/(r-n);if(!(e.clientX<=l&&s<0||e.clientX>=u&&s>0)){var f=u-l-o,c=f*d;d=Math.min(Math.max(c-s,0),f)/f}var p=n+d*(r-n);a&&a(p),this.setState({value:p,x:e.clientX})},t}(i.PureComponent);f.defaultProps={defaultValue:10,minValue:0,maxValue:100,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}},f.displayName="Slider",t.default=f,e.exports=t.default},6072:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(8)),i=c(n(1)),l=c(n(324)),u=c(n(111)),s=c(n(18)),d=(c(n(6419)),c(n(80))),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=void 0;function h(e){u.default.addConditionalChangeListener(function(){var t=u.default.getDefaultChannel(e.id);if(null!=t)return r(function(){null!=p?(y(),setTimeout(function(){d.default.push(p,{guild:new l.default(o({},e)),channel:t,source:f.InstantInviteSources.GUILD_CREATE})},1e3)):y()}),!1})}function y(){i.default.dispatch({type:f.ActionTypes.CREATE_GUILD_MODAL_CLOSE})}p=p=n(6019),t.default={open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(i.default.dispatch({type:f.ActionTypes.CREATE_GUILD_MODAL_OPEN,screen:e}),e){case f.CreateGuildModalScreens.CreateGuild:s.default.track(f.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",Source:t,location_section:n});break;case f.CreateGuildModalScreens.JoinGuild:s.default.track(f.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",Source:t,location_section:n});break;default:s.default.track(f.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild",Source:t,location_section:n})}},setScreen:function(e){i.default.dispatch({type:f.ActionTypes.CREATE_GUILD_MODAL_SET_SCREEN,screen:e})},close:y,updateTemporaryGuild:function(e){i.default.dispatch({type:f.ActionTypes.CREATE_GUILD_MODAL_UPDATE,guild:e})},createGuild:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i.default.dispatch({type:f.ActionTypes.CREATE_GUILD_MODAL_SUBMIT}),a.default.post({url:f.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){return h(e.body)},function(e){return i.default.dispatch({type:f.ActionTypes.CREATE_GUILD_MODAL_SUBMIT_FAILURE,errors:e.body})})},createGuildPromise:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a.default.post({url:f.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){return h(e.body)},function(e){throw e.body})},createGuildPromiseSimple:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a.default.post({url:f.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return i.default.dispatch({type:f.ActionTypes.MOBILE_NUF_GUILD_CREATED})})}},e.exports=t.default}).call(this,n(29).setImmediate)},6073:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(1)),a=n(834),i=u(n(854)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=null,d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasAction=function(){return null!=s},t.prototype.getAction=function(){return s},t}(r.default.Store);function f(e){(s=e.requiredAction)===l.UserRequiredActions.REQUIRE_CAPTCHA||s===l.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||s===l.UserRequiredActions.REQUIRE_VERIFIED_PHONE?(0,a.pushLayer)(l.Layers.VERIFICATION):i.default.hasLayers()&&null==s&&(0,a.popLayer)()}t.default=new d(o.default,{CONNECTION_OPEN:f,USER_REQUIRED_ACTION_UPDATE:f}),e.exports=t.default},6074:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=Y(n(2)),l=V(n(17)),u=V(n(6022)),s=V(n(6)),d=V(n(32)),f=V(n(4)),c=V(n(6113)),p=V(n(6447)),h=V(n(80)),y=Y(n(865)),m=V(n(6171)),v=V(n(869)),_=V(n(22)),E=V(n(6036)),g=V(n(111)),S=V(n(6212)),T=V(n(153)),I=V(n(323)),C=V(n(312)),N=V(n(35)),A=V(n(6213)),O=V(n(6448)),b=V(n(152)),M=V(n(444)),R=n(835),P=V(n(18)),L=V(n(181)),w=V(n(6034)),D=n(109),U=V(n(186)),k=n(6452),G=V(n(6214)),x=V(n(6466)),F=V(n(6470)),j=n(0),B=V(n(13)),H=V(n(5457));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var W="@",K="#",z=":",$="+",q="/",X="COMMAND";var Q=[].concat((0,s.default)(j.ChannelTextAreaIntegrations).values().map(function(e){return a({},e,{isIntegration:!0,horizontal:e.type===j.ChannelTextAreaIntegrationTypes.GIF,description:function(e){switch(e.title){case j.ChannelTextAreaIntegrations.GIPHY.title:case j.ChannelTextAreaIntegrations.TENOR.title:return B.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}(e)})}).value(),[{command:"tts",description:B.default.Messages.COMMAND_TTS_DESCRIPTION,predicate:function(e){return N.default.enableTTSCommand&&(e.isPrivate()||T.default.can(j.Permissions.SEND_TSS_MESSAGES,e))}},{command:"me",description:B.default.Messages.COMMAND_ME_DESCRIPTION},{command:"tableflip",description:B.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},{command:"unflip",description:B.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},{command:"shrug",description:B.default.Messages.COMMAND_SHRUG_DESCRIPTION},{command:"spoiler",description:B.default.Messages.COMMAND_SPOILER_DESCRIPTION},{command:"nick",description:B.default.Messages.COMMAND_NICK_DESCRIPTION,predicate:function(e){return!e.isPrivate()&&(T.default.can(j.Permissions.CHANGE_NICKNAME,e)||T.default.can(j.Permissions.MANAGE_NICKNAMES,e))}}]),J=new RegExp("^("+Q.filter(function(e){return e.isIntegration}).map(function(e){return e.command}).join("|")+")\\s(.+)","i");function Z(e,t,n,r){var a=n.length>0?e.format({prefix:r(n)}):t;return o(A.default.Title,{title:a},"autocomplete-title-"+a)}function ee(e,t,n,r,o,l,u,s,d,f){if(null==n||0===n.length)return null;var c=n.map(function(e,n){return i.createElement(s,a({onClick:o,onHover:r,selected:t===n,index:n},d(e,n)))});return[Z(l,u,e,f),c]}function te(e,t,n,r,a,i){var f;return(f={MENTIONS:{matches:function(e,t){return w.default.matchSentinel(e,t,W)},queryResults:function(t){return w.default.queryMentionResults(t,e,a)},renderResults:function(e,n,r,a,l){var u=l.users,s=l.globals,d=l.roles;if(null==u||null==s||null==d||0===u.length&&0===s.length&&0===d.length)return null;var f=u.map(function(e,l){return o(A.default.User,{onClick:a,onHover:r,selected:n===l,index:l,user:e.user,nick:e.nick,status:e.status,hidePersonalInformation:t,colorblindMode:i},e.user.id)}),c=s.map(function(e,t){return o(A.default.Generic,{onClick:a,onHover:r,selected:n===t+u.length,index:u.length+t,text:e.text,description:e.description},e.text)}),p=d.map(function(e,t){return o(A.default.Role,{onClick:a,onHover:r,selected:n===t+u.length+s.length,index:u.length+s.length+t,role:e},e.id)});return[Z(B.default.Messages.MEMBERS_MATCHING,B.default.Messages.MEMBERS,e,function(e){return""+W+e}),f,u.length>0&&s.length>0?o(A.default.Divider,{},"autocomplete-divider-1"):null,c,u.length>0&&d.length>0||s.length>0&&d.length>0?o(A.default.Divider,{},"autocomplete-divider-2"):null,p]},getText:function(e,n){var r=n.users,o=n.globals,a=n.roles;if(null==r||null==o||null==a)return"";var i=r[e],l=o[e-r.length],u=a[e-r.length-o.length];return null!=i?t?""+W+i.user.username:""+W+i.user.tag:null!=l?l.text:null!=u?""+W+u.name:""}},CHANNELS:{matches:function(t,n){return!e.isDM()&&!e.isGroupDM()&&w.default.matchSentinel(t,n,K)},queryResults:function(t){return w.default.queryChannelResults(t,e)},renderResults:function(e,t,n,r,o){return ee(e,t,o.channels,n,r,B.default.Messages.TEXT_CHANNELS_MATCHING,B.default.Messages.TEXT_CHANNELS,A.default.Channel,function(e){return{channel:e,key:e.id,category:_.default.getChannel(e.parent_id)}},function(e){return""+K+e})},getText:function(e,t){var n=t.channels;if(null==n)return"";var r=n[e];if(null==r)return"";var o=g.default.getTextChannelNameDisambiguations(r.guild_id)[r.id];return"#"+(null!=o?o.name:r.name)}},EMOJIS:{matches:function(e,t){return t.length>1&&e===z},queryResults:function(t){return w.default.queryEmojiResults(t,e)},renderResults:function(e,t,n,r,o){return ee(e,t,o.emojis,n,r,B.default.Messages.EMOJI_MATCHING,B.default.Messages.EMOJI,A.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:z}},function(e){return""+z+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+z+n[e].name+z}},REACTIONS:{matches:function(e,t,n){return 0===n&&e===$&&t.startsWith(z)},queryResults:function(t){return w.default.queryEmojiResults(t.substring(1),e)},renderResults:function(e,t,n,r,o){return ee(e,t,o.emojis,n,r,B.default.Messages.REACTIONS_MATCHING,B.default.Messages.EMOJI,A.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:z}},function(e){return""+$+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+$+z+n[e].name+z}}})[X]={matches:function(e,t,n){return 0===n&&(e===q||null!=t.match(J))},queryResults:function(t){var n=t.match(J);if(n){var r=n[1],o=s.default.findKey(j.ChannelTextAreaIntegrations,function(e){return e.command===r});return p.default.search(o,n[2]),{integrationQuery:n[2],integration:o}}var a=new RegExp("^"+U.default.escape(t),"i"),i=[],l=[];(0,s.default)(Q).forEach(function(n){(null==n.predicate||n.predicate(e))&&(a.test(n.command)?i.push(n):(0,u.default)(t,n.command.toLowerCase())&&l.push(n))});var d=[],f=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;if(!(d.length<j.MAX_AUTOCOMPLETE_RESULTS))break;d.push(a)}};return f(i),f(l),{commands:d}},renderResults:function(e,t,a,i,u){if(null!=u&&null!=u.commands)return ee(e,t,u.commands,a,i,B.default.Messages.COMMANDS_MATCHING,B.default.Messages.COMMANDS,A.default.Command,function(e){return{command:e.command,description:e.description,key:e.command}},function(e){return""+q+e});if(r)return o(M.default,{className:H.default.spinner,type:M.default.Type.SPINNING_CIRCLE});if(null!=n&&null!=n.integrations){var s,f=e.match(J);if(null==f||null==n.integrations)return null;var c=!1,p=n.integrations.map(function(e,n){switch(e.type){case j.ChannelTextAreaIntegrationTypes.GIF:return c=!0,o(A.default.GIFIntegration,{className:H.default.horizontalAutocomplete,onClick:i,onHover:a,selected:t===n,index:n,width:e.meta.width,height:e.meta.height,src:e.meta.src,url:e.meta.url},""+e.meta.url+e.meta.src)}}),h=Q.find(function(e){return e.command===f[1]}),y=e.length>0&&null!=h&&null!=h.title?B.default.Messages.CONTENT_MATCHING.format({query:f[2],command:h.title}):null!=h&&null!=h.title?h.title:f[1];return[o(A.default.Title,{title:y},"autocomplete-title-"+y),c?o(b.default,{className:(0,l.default)((s={},s[H.default.horizontalAutocompletes]="Firefox"!==d.default.name,s))},"autocomplete-horizontal-completes",p):p]}},getText:function(e,t){var n=t.commands,r=t.integrations;return null!=n&&null!=n[e]?""+q+n[e].command:null!=r&&null!=r[e]?r[e].meta.url:""},onSelect:function(e,t,n){var r=n.commands,o=n.integrations;if(null==r&&null!=o){var a=e.match(J);if(null==a)return;var i=a[1];L.default.trackWithMetadata(j.AnalyticEvents.SLASH_COMMAND_USED,{command:i}),"giphy"!==i&&"tenor"!==i||L.default.trackWithMetadata(j.AnalyticEvents.SEARCH_RESULT_SELECTED,{search_type:j.SearchTypes.GIF,index_num:t,source_object:"/"+i})}}},f}Z.displayName="renderHeader";var ne=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r._gifPickerRef=i.createRef(),r.handleFavorite=function(){r.setState({justFavorited:!0}),clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.setState({justFavorited:!1})},1500)},r.toggleGIFPicker=function(){r.setState(function(e){return{isGIFPickerActive:!e.isGIFPickerActive}})},r.handleCloseGIFPicker=function(){return r.setState({isGIFPickerActive:!1})},r.closeGIFPicker=function(e){if(r.state.isGIFPickerActive){for(var t=e.target;t instanceof Element;){if(t===r._gifPickerRef.current)return;if(t===r.getGIFPickerButton())return;t=t.parentNode}r.setState({isGIFPickerActive:!1}),null!=document.activeElement&&"BODY"!==document.activeElement.tagName||r.focus()}},r.handlePremiumGiftClick=function(e){var t=r.props.channel;y.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:j.PremiumSubscriptionSKUs.TIER_2,isGift:!0,isGiftingFromChat:!0,analyticsLocation:{page:t.isPrivate()?j.AnalyticsPages.DM_CHANNEL:j.AnalyticsPages.GUILD_CHANNEL,section:j.AnalyticsSections.CHANNEL_TEXT_AREA,object:j.AnalyticsObjects.BUTTON_ICON,objectType:j.AnalyticsObjectTypes.GIFT}}).catch(j.NOOP_NULL)},r.renderGIFPreview=function(){return i.createElement(x.default,{onSelectGIF:r.handleSelectGIF,ref:r._gifPickerRef})},r.handleSelectGIF=function(e){r.setState({isGIFPickerActive:!1});var t=r._ref;null!=t&&t.handleSelectGIF(e)},r.handleGIFPickerToggle=function(e){e.stopPropagation(),e.preventDefault(),r.toggleGIFPicker()},s.default.bindAll(r,["renderEmojiPickerPopout","handleSetRef","handleSaveCurrentText","handleFileUpload","handleInviteToPlay","handleInviteToSpectate","handleInviteToListen","handleInviteToWatch","handleAutocompleteQuery"]);var o={};return r.state={integration:null,integrationQuery:null,autocompleteOptions:te(n.channel,n.hidePersonalInformation,o,!1,n.canMentionEveryone,n.colorblindMode),autocompletes:o,isAutocompletesLoading:!1,isGIFPickerActive:!1,justFavorited:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.focus(),D.ComponentDispatch.subscribe(j.ComponentActions.FAVORITE_GIF,this.handleFavorite)},t.prototype.componentDidUpdate=function(e,t){var n=this;this.grabIntegrationResults(e,t,function(){return n.grabAutocompleteOptions(e,t)}),this.fixFocus(e),!t.isGIFPickerActive&&this.state.isGIFPickerActive?this.setupGIFPickerHandlers():t.isGIFPickerActive&&!this.state.isGIFPickerActive&&this.cleanupGIFPickerHandlers()},t.prototype.componentWillUnmount=function(){this.cleanupGIFPickerHandlers(),D.ComponentDispatch.unsubscribe(j.ComponentActions.FAVORITE_GIF,this.handleFavorite),clearTimeout(this._timeout)},t.prototype.fixFocus=function(e){e.focused&&!this.props.focused?this.blur():!e.focused&&this.props.focused&&this.focus()},t.prototype.focus=function(){this._ref&&this._ref.focus()},t.prototype.blur=function(){this._ref&&this._ref.blur()},t.prototype.setupGIFPickerHandlers=function(){document.addEventListener("click",this.closeGIFPicker,!0),document.addEventListener("contextmenu",this.closeGIFPicker,!0),D.ComponentDispatch.subscribe(j.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},t.prototype.cleanupGIFPickerHandlers=function(){document.removeEventListener("click",this.closeGIFPicker,!0),document.removeEventListener("contextmenu",this.closeGIFPicker,!0),D.ComponentDispatch.unsubscribe(j.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},t.prototype.getGIFPickerButton=function(){var e=this._ref;return null!=e?e.getGIFPickerButton():null},t.prototype.grabIntegrationResults=function(e,t,n){var r=this.state,o=r.integration,a=r.integrationQuery,i=r.autocompletes,l=S.default.getResults(o,a);null==l||null!=i&&i.integrations===l.results?n():this.setState({autocompletes:{integrations:l.results},isAutocompletesLoading:l.loading},n)},t.prototype.grabAutocompleteOptions=function(e,t){var n=this.props,r=n.channel,o=n.hidePersonalInformation,a=n.canMentionEveryone,i=n.colorblindMode,l=this.state,u=l.autocompletes,s=l.isAutocompletesLoading;if(r!==e.channel||o!==e.hidePersonalInformation||!(null!=u&&null!=t.autocompletes||null==u&&null!=t.autocompletes||null!=u&&null!=t.autocompletes&&u.integrations!==t.autocompletes.integrations)||s!==t.isAutocompletesLoading||a!==e.canMentionEveryone||i!==e.colorblindMode){var d=te(r,o,u,s,a,i);this.setState({autocompleteOptions:d})}},t.prototype.getPlaceholder=function(){var e=this.props,t=e.disabled,n=e.placeholder;return t?B.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:n},t.prototype.renderEmojiPickerPopout=function(e,t){return i.createElement(G.default,a({},e,t))},t.prototype.render=function(){var e=this,t=this.props,n=t.value,r=t.className,a=t.disabled,l=t.channel,u=t.type,s=t.canAttachFiles,d=t.canSendInvites,f=t.canPasteFiles,c=t.disableGIFPicker,p=t.shouldRenderPremiumGiftButton,h=t.activities,y=t.onChange,m=t.onResize,v=t.onKeyDown,_=t.onKeyUp,E=t.onBlur,g=t.onFocus,S=t.onSubmit,T=t.shouldShowTooltipOnFavorite,I=this.state,C=I.autocompletes,N=I.autocompleteOptions,A=I.isGIFPickerActive,M=I.justFavorited;return o(R.BackgroundOpacityContext.Consumer,{},void 0,function(t){return o(b.default,{direction:b.default.Direction.VERTICAL},void 0,i.createElement(O.default,{ref:e.handleSetRef,value:n,className:r,backgroundOpacity:t.backgroundOpacity,disabled:a,placeholder:e.getPlaceholder(),channel:l,type:u,canAttachFiles:s,canSendInvites:d,canPasteFiles:f,activities:h,autocompleteOptions:N,autocompletes:C,renderCustomAutocomplete:A?e.renderGIFPreview:null,renderEmojiPickerPopout:e.renderEmojiPickerPopout,shouldRenderPremiumGiftButton:p,onChange:y,onResize:m,onKeyDown:v,onKeyUp:_,onSaveCurrentText:e.handleSaveCurrentText,onFileUpload:e.handleFileUpload,onInviteToPlay:e.handleInviteToPlay,onInviteToSpectate:e.handleInviteToSpectate,onInviteToListen:e.handleInviteToListen,onInviteToWatch:e.handleInviteToWatch,onOpenAttachPopout:e.handleOpenAttachPopout,onGIFPickerToggle:c?null:e.handleGIFPickerToggle,isGIFPickerActive:A,justFavorited:M,shouldShowTooltipOnFavorite:T,onPremiumGiftClick:e.handlePremiumGiftClick,onBlur:E,onFocus:g,onAutocompleteQuery:e.handleAutocompleteQuery,onSubmit:S}))})},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleSaveCurrentText=function(e){c.default.saveDraft(e,this.props.value)},t.prototype.handleFileUpload=function(e){(0,k.promptToUpload)(e,this.props.channel.id)},t.prototype.handleStartFileUpload=function(){this._ref&&this._ref.handleStartFileUpload()},t.prototype.handleInviteToPlay=function(e){var t=this.props.channel;P.default.track(j.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:j.AnalyticsSections.CHANNEL_TEXT_AREA}),h.default.push(function(){return o(F.default,{activity:e,channel:t,activityActionType:j.ActivityActionTypes.JOIN})})},t.prototype.handleInviteToSpectate=function(e){var t=this.props.channel;P.default.track(j.AnalyticEvents.OPEN_MODAL,{type:"Send Spectate Invite",application_id:e.application_id,location:j.AnalyticsSections.CHANNEL_TEXT_AREA}),h.default.push(function(){return o(F.default,{activity:e,channel:t,activityActionType:j.ActivityActionTypes.SPECTATE})})},t.prototype.handleInviteToListen=function(e){var t=this.props.channel;P.default.track(j.AnalyticEvents.OPEN_MODAL,{type:"Send Listen Invite",location:j.AnalyticsSections.CHANNEL_TEXT_AREA}),h.default.push(function(){return o(F.default,{activity:e,channel:t,activityActionType:j.ActivityActionTypes.LISTEN})})},t.prototype.handleInviteToWatch=function(e){var t=this.props.channel;P.default.track(j.AnalyticEvents.OPEN_MODAL,{type:"Send Watch Invite",location:j.AnalyticsSections.CHANNEL_TEXT_AREA}),h.default.push(function(){return o(F.default,{activity:e,channel:t,activityActionType:j.ActivityActionTypes.WATCH})})},t.prototype.handleInsertText=function(e){var t=e.content;this._ref&&this._ref.insertText(t),this.focus()},t.prototype.handleOpenAttachPopout=function(){P.default.track(j.AnalyticEvents.OPEN_POPOUT,{type:"Send Attachment"})},t.prototype.handleAutocompleteQuery=function(e,t,n){var r=e.queryResults(t);n===X&&null==r.commands?this.setState({autocompletes:null,integrationQuery:r.integrationQuery,integration:r.integration}):this.setState({autocompletes:r,integrationQuery:null})},t}(i.PureComponent);ne.defaultProps={type:j.TextareaTypes.NORMAL,disableGIFPicker:!0,disableActivity:!1,disableAttachments:!1,disableImagePaste:!1,disableInvites:!1,focused:!1,shouldRenderPremiumGiftButton:!1},ne.displayName="ChannelTextAreaContainer";var re=(0,m.default)(function(e,t){var n;return(n={})[j.ComponentActions.UPLOAD_FILE]=t.handleStartFileUpload.bind(t),n[j.ComponentActions.INSERT_TEXT]=t.handleInsertText.bind(t),n[j.ComponentActions.TOGGLE_GIF_PICKER]=t.toggleGIFPicker,n})(ne);t.default=f.default.connectStores([S.default,T.default,I.default,C.default,v.default,E.default],function(e){var t=e.channel,n=e.disableAttachments,r=e.disableImagePaste,o=e.disableActivity,a=e.disableInvites,i=e.type,l=t.isPrivate(),u=l||T.default.can(j.Permissions.ATTACH_FILES,t),s=l||T.default.can(j.Permissions.EMBED_LINKS,t);return{query:S.default.getQuery(),canAttachFiles:!n&&u,canPasteFiles:!r&&u,canSendInvites:!a&&s,disabled:!l&&!T.default.can(j.Permissions.SEND_MESSAGES,t),canMentionEveryone:l||T.default.can(j.Permissions.MENTION_EVERYONE,t),activities:o?null:I.default.getActivities(),hidePersonalInformation:C.default.hidePersonalInformation,colorblindMode:v.default.colorblindMode,disableGIFPicker:null!=i&&i!==j.TextareaTypes.NORMAL,shouldShowTooltipOnFavorite:E.default.shouldShowTooltipOnFavorite()}})(re),e.exports=t.default},6075:function(e,t,n){"use strict";t.__esModule=!0,t.EmbedGIFV=t.EmbedVideo=t.EmbedLink=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=T(n(17)),u=T(n(114)),s=n(5992),d=n(6037),f=T(n(311)),c=T(n(6223)),p=T(n(6001)),h=T(n(870)),y=T(n(6474)),m=T(n(6033)),v=n(6064),_=n(875),E=n(0),g=T(n(5460)),S=T(n(5370));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=t.EmbedLink=function(e){return i.createElement(f.default,e)};A.displayName="EmbedLink";var O=function(e){var t=e.href,n=e.image,r=e.ImageComponent,o=e.zoomable,l=void 0===o||o,u=e.backgroundOpacity;return i.createElement(r,a({src:n.proxyURL||n.url,original:l?n.url:t,width:n.width,height:n.height,zoomable:l,backgroundOpacity:u},e))};O.displayName="EmbedImage";var b=t.EmbedVideo=function(e){function t(){var n,r;I(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={playing:r.props.autoPlay},r.handlePlay=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.onPlay;t&&t(!1),r.setState({playing:!0})},C(r,n)}return N(t,e),t.prototype.componentDidUpdate=function(){!this.props.playable&&this.state.playing&&this.setState({playing:!1})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.maxWidth,r=e.maxHeight,s=e.thumbnail,f=e.video,c=e.allowFullScreen,p=e.ImageComponent,h=e.VideoComponent,y=e.LinkComponent,v=e.playable,_=e.backgroundOpacity,E=e.mediaPlayerRef,S=e.autoPlay,T=e.autoMute,I=e.volume,C=e.onPlay,N=e.onEnded,A=e.onVolumeChange,O=e.onMute,b=this.state.playing,M=s.width,R=s.height;b&&null!=f&&(M=f.width,R=f.height);var P=(0,d.fit)(M,R,n,r);M=P.width,R=P.height;var L=s.proxyURL||s.url;if(null!=f&&null!=f.proxyURL){var w={poster:L,src:f.proxyURL,width:M,height:R,naturalWidth:f.width,naturalHeight:f.height,maxWidth:n,maxHeight:r,playable:v,mediaPlayerRef:E,autoPlay:S,autoMute:T,volume:I,onPlay:C,onEnded:N,onMute:O};return o("div",{className:(0,l.default)(g.default.embedVideo,t),style:{width:M,height:R}},void 0,null!=h?i.createElement(h,a({},w,{onVolumeChange:A,onMute:O})):i.createElement("video",a({},w,{controls:!0})))}if(b&&null!=f){var D=u.default.parse(f.url,!0);D.query=a({},D.query,{autoplay:1,auto_play:1}),delete D.search;var U=u.default.format(D);return o("div",{className:(0,l.default)(g.default.embedVideo,t),style:{width:M,height:R}},void 0,o("iframe",{className:g.default.embedIframe,src:U,width:M,height:R,frameBorder:0,allowFullScreen:c}))}return o("div",{className:(0,l.default)(g.default.embedVideo,t),style:{width:M,height:R}},void 0,o(p,{src:L,width:M,height:R,className:g.default.embedVideoImageComponent,imageClassName:g.default.embedVideoImageComponentInner,onClick:v&&null!=f?this.handlePlay:null}),o("div",{className:g.default.embedVideoActions},void 0,o("div",{className:g.default.centerContent},void 0,v?o(m.default,{onPlay:null!=f?this.handlePlay:null,externalURL:this.props.href,LinkComponent:y,backgroundOpacity:_}):null)))},t}(i.PureComponent);b.defaultProps={allowFullScreen:!0,playable:!0,LinkComponent:A,ImageComponent:p.default,autoPlay:!1,autoMute:!1},b.displayName="EmbedVideo";var M=t.EmbedGIFV=function(e){function t(){return I(this,t),C(this,e.apply(this,arguments))}return N(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.href,r=e.autoPlay,a=e.maxWidth,i=e.maxHeight,u=e.thumbnail,s=e.video,f=e.LinkComponent,c=e.GIFVComponent,p=e.ImageComponent,h=e.playable;if(null!=c)return o(c,{className:(0,l.default)(g.default.embedGIFV,t),original:n,poster:u.proxyURL||u.url,src:s.proxyURL||s.url,width:u.width,height:u.height,naturalHeight:s.height,naturalWidth:s.width,maxWidth:a,maxHeight:i,autoPlay:r,ImageComponent:p,playable:h});var y=(0,d.fit)(u.width,u.height,a,i),m=y.width,v=y.height;return o(f,{className:(0,l.default)(g.default.embedGIFV,t),href:n,tabIndex:h?0:-1},void 0,o("video",{width:m,height:v,poster:u.proxyURL||u.url,src:s.proxyURL||s.url,muted:!0,loop:!0,autoPlay:h&&r,preload:"none"}))},t}(i.PureComponent);function R(e){var t=e.className,n=e.embed.url,r=e.backgroundOpacity;if(null==n)return null;var a=null,i=null;try{var s=u.default.parse(n,!0);a=s.host,i=s.pathname}catch(e){return null}if("open.spotify.com"!==a||null==i)return null;var d=i.split("/"),f=null!=d[1]?d[1].toLowerCase():null,c=null!=d[3]?d[3].toLowerCase():null;return!["track","playlist","album","artist","user"].includes(f)||"user"===f&&"playlist"!==c?null:o(y.default,{className:(0,l.default)(g.default.embedSpotify,t,g.default[r+"BackgroundOpacity"]),src:E.SpotifyEndpoints.EMBED(i),style:{width:400,height:"track"===f?80:300}})}M.defaultProps={LinkComponent:A,playable:!0},M.displayName="EmbedGIFV",R.displayName="SpotifyEmbed";var P=function(e){function t(){var n,r;I(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={isVisible:!r.props.embed.spoiler},r.onReveal=function(){r.setState({isVisible:!0})},C(r,n)}return N(t,e),t.prototype.renderProvider=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hasMargin,r=void 0!==n&&n,a=t.focusable,i=void 0===a||a,u=this.props,s=u.embed.provider,d=u.LinkComponent;return null==s?null:o("div",{className:(0,l.default)((e={},e[g.default.embedMargin]=r,e))},void 0,null!=s.url?o(d,{className:g.default.embedProviderLink,href:s.url,tabIndex:i?0:-1},void 0,s.name):o("span",{className:g.default.embedProvider},void 0,s.name))},t.prototype.renderAuthor=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hasMargin,r=void 0!==n&&n,a=t.focusable,i=void 0===a||a,u=this.props,s=u.embed.author,d=u.LinkComponent;return null==s?null:o("div",{className:(0,l.default)(g.default.embedAuthor,(e={},e[g.default.embedMargin]=r,e))},void 0,null!=s.iconProxyURL?o("img",{alt:"",className:g.default.embedAuthorIcon,src:s.iconProxyURL}):null,null!=s.url?o(d,{className:g.default.embedAuthorNameLink,href:s.url,tabIndex:i?0:-1},void 0,s.name):o("span",{className:g.default.embedAuthorName},void 0,s.name))},t.prototype.renderTitle=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hasMargin,r=void 0!==n&&n,a=t.focusable,i=void 0===a||a,u=this.props,s=u.embed,d=s.title,f=s.url,c=u.LinkComponent;return null==d?null:o("div",{className:(0,l.default)((e={},e[g.default.embedMargin]=r,e))},void 0,null!=f?o(c,{className:g.default.embedTitleLink,href:f,tabIndex:i?0:-1},void 0,d):o("span",{className:g.default.embedTitle},void 0,d))},t.prototype.renderDescription=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.embed.description;return null==n?null:o("div",{className:(0,l.default)(g.default.embedDescription,(e={},e[g.default.embedMargin]=t,e))},void 0,n)},t.prototype.renderThumbnail=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.embed,r=n.url,a=n.thumbnail,i=t.maxThumbnailWidth,l=t.maxThumbnailHeight,u=t.ImageComponent,s=t.autoPlayGif,d=t.backgroundOpacity;return null==a?null:o(_.MessagesInteractionContext.Consumer,{},void 0,function(t){return o(O,{className:g.default.embedThumbnail,image:a,href:r,maxWidth:i,maxHeight:l,zoomable:!1,ImageComponent:u,autoPlay:s&&!t.disableAnimations,backgroundOpacity:d,shouldLink:e})})},t.prototype.renderFields=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.embed.fields;return null==n?null:o("div",{className:(0,l.default)(g.default.embedFields,(e={},e[g.default.embedMargin]=t,e))},void 0,n.map(function(e,t){var n,r=e.name,a=e.value,i=e.inline;return o("div",{className:(0,l.default)(g.default.embedField,(n={},n[g.default.embedFieldInline]=i,n))},t,o("div",{className:g.default.embedFieldName},void 0,r),o("div",{className:g.default.embedFieldValue},void 0,a))}))},t.prototype.renderImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hasMargin,n=void 0!==t&&t,r=e.hiddenSpoiler,a=void 0!==r&&r,i=e.isVisible,u=void 0===i||i,s=this.props,d=s.embed,f=d.url,c=d.image,h=s.maxMediaWidth,y=s.maxMediaHeight,m=s.ImageComponent,E=s.className,S=s.autoPlayGif,T=s.backgroundOpacity;if(null==c)return null;var I=p.default.isAnimated({src:c.proxyURL||c.url,original:c.url,animated:!1});return o(v.GIFAccessoryContext.Consumer,{},void 0,function(e){return o(_.MessagesInteractionContext.Consumer,{},void 0,function(t){var r;return o(O,{className:(0,l.default)(g.default.embedImage,(r={},r[g.default.embedMarginLarge]=n,r),E),image:c,href:f,maxWidth:h,maxHeight:y,ImageComponent:m,autoPlay:S&&!t.disableAnimations&&!a,backgroundOpacity:T,renderAccessory:I?e:null,shouldLink:u})})})},t.prototype.renderVideo=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hasMargin,r=t.gifv,a=void 0!==r&&r,i=t.isVisible,u=void 0===i||i,s=this.props,d=s.embed,f=d.url,c=d.thumbnail,p=d.video,h=s.maxMediaWidth,y=s.maxMediaHeight,m=s.ImageComponent,v=s.VideoComponent,E=s.GIFVComponent,S=s.LinkComponent,T=s.allowFullScreen,I=s.autoPlayGif,C=s.backgroundOpacity;return null==f?null:null==c?null:a?null==p?null:o(_.MessagesInteractionContext.Consumer,{},void 0,function(e){var t;return o(M,{className:(0,l.default)((t={},t[g.default.embedMarginLarge]=n,t)),href:f,thumbnail:c,video:p,maxWidth:h,maxHeight:y,autoPlay:I&&!e.disableAnimations&&u,LinkComponent:S,GIFVComponent:E,ImageComponent:m,playable:u})}):o(b,{className:(0,l.default)((e={},e[g.default.embedMarginLarge]=n,e)),href:f,allowFullScreen:T,thumbnail:c,video:p,maxWidth:h,maxHeight:y,VideoComponent:v,LinkComponent:S,backgroundOpacity:C,playable:u})},t.prototype.renderFooter=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.embed,r=n.footer,a=n.timestamp;if(null!=r){var i,u=r.iconProxyURL||r.iconURL;return o("div",{className:(0,l.default)(g.default.embedFooter,(i={},i[g.default.embedMarginLarge]=t,i))},void 0,null!=u?o("img",{alt:"",className:g.default.embedFooterIcon,src:u}):null,o("span",{className:g.default.embedFooterText},void 0,r.text,null!=r.text&&null!=a?o("span",{className:g.default.embedFooterSeparator},void 0,"•"):null,null!=a?(0,s.calendarFormat)(a):null))}if(null!=a)return o("div",{className:(0,l.default)(g.default.embedFooter,g.default.embedFooterText,(e={},e[g.default.embedMargin]=t,e))},void 0,(0,s.calendarFormat)(a))},t.prototype.renderMedia=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.embed,r=this.state.isVisible;switch(n.type){case E.EmbedTypes.GIFV:return this.renderVideo({hasMargin:e,gifv:!0,hiddenSpoiler:t,isVisible:r});case E.EmbedTypes.VIDEO:default:return null!=n.video?this.renderVideo({hasMargin:e,gifv:!1,hiddenSpoiler:t,isVisible:r}):this.renderImage({hasMargin:e,hiddenSpoiler:t,isVisible:r})}},t.prototype.renderAll=function(){var e=this.props,t=e.embed,n=e.hideMedia,r=this.state.isVisible,o=!1,a=this.renderProvider({focusable:r});o=null!=a;var i=this.renderAuthor({hasMargin:o,focusable:r});o=o||null!=i;var l=this.renderTitle({hasMargin:o,focusable:r}),u=void 0;switch(t.type){case E.EmbedTypes.IMAGE:case E.EmbedTypes.VIDEO:case E.EmbedTypes.GIFV:break;default:o=o||null!=l,u=this.renderDescription(o)}o=o||null!=u;var s=this.renderFields(o),d=void 0;n||(o=o||null!=s,d=this.renderMedia(o,!r)),o=o||null!=d;var f=this.renderFooter(o),c=null==d;return t.type===E.EmbedTypes.RICH&&(c=null==t.video),{provider:a,author:i,title:l,description:u,thumbnail:!n&&c?this.renderThumbnail(r):null,fields:s,media:d,footer:f}},t.prototype.getMaxWidth=function(){var e=this.props,t=e.maxMediaWidth,n=e.embed,r=n.image,o=n.thumbnail,a=n.video;if(null!=r||null!=a){var i=r||o||a;return null!=i&&i.width>=t?t+26:void 0}},t.prototype.isInline=function(){var e=this.props,t=e.hideMedia,n=e.inlineGIFV,r=e.embed,o=r.type,a=r.author,i=r.title,l=r.image,u=r.video;return!t&&((null!=l||null!=u)&&(o===E.EmbedTypes.GIFV&&n||o!==E.EmbedTypes.RICH&&null==a&&null==i))},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.embed,a=t.backgroundOpacity;if(null!=r.provider&&"Spotify"===r.provider.name)return i.createElement(R,this.props);if(this.isInline()){var u=function(){var t,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o("div",{"aria-hidden":a,className:(0,l.default)(g.default.embed,n,(t={},t[g.default.spoilerAttachment]=r.spoiler,t[g.default.hiddenSpoiler]=a,t))},void 0,e.renderMedia(!1,a))};return r.spoiler?o(h.default,{type:h.default.Types.ATTACHMENT,onReveal:this.onReveal},void 0,function(e){return u(e)}):u()}var s=this.renderAll(),d=s.provider,f=s.author,c=s.title,p=s.description,y=s.fields,m=s.thumbnail,v=s.media,_=s.footer,E=function(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o("div",{className:(0,l.default)(g.default.embed,n,a&&g.default[a+"BackgroundOpacity"],(t={},t[g.default.hiddenSpoiler]=i,t[g.default.spoilerEmbed]=r.spoiler,t)),"aria-hidden":i,style:{maxWidth:e.getMaxWidth()}},void 0,o("div",{className:g.default.embedPill,style:{backgroundColor:i?null:r.color}}),o("div",{className:g.default.embedInner},void 0,o("div",{className:g.default.embedContent},void 0,o("div",{className:(0,l.default)(g.default.embedContentInner,S.default.markup)},void 0,d,f,c,p,y),m),v,_))};return r.spoiler?o(h.default,{type:h.default.Types.EMBED,onReveal:this.onReveal},void 0,function(e){return E(e)}):E()},t}(i.PureComponent);P.defaultProps={hideMedia:!1,allowFullScreen:!0,inlineGIFV:!0,maxThumbnailWidth:80,maxThumbnailHeight:80,maxMediaWidth:400,maxMediaHeight:300,LinkComponent:A,ImageComponent:c.default},P.displayName="Embed",t.default=P},6076:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(4)),a=l(n(1)),i=(n(449),n(882));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="",s=null,d=null,f="",c="",p="",h=!1,y="US",m="",v="",_="",E="",g="",S="",T=!1,I=null;function C(){d=null,u="",s=null,f="",c="",p="",h=!1,y="US",m="",v="",_="",E="",g="",S="",T=!1,I=null}function N(e){m=e.name,y=e.country,v=e.line1,_=e.line2,E=e.city,g=e.postalCode,S=e.state}function A(){I=null}function O(e){var t=e.error;I=t}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCreditCardInfo=function(){return{name:m,cardNumber:f,expirationDate:c,cvc:p}},t.prototype.getBillingAddressInfo=function(){return{name:m,country:y,line1:v,line2:_,city:E,postalCode:g,state:S}},r(t,[{key:"stripePaymentSource",get:function(){return d}},{key:"braintreeEmail",get:function(){return u}},{key:"braintreeNonce",get:function(){return s}},{key:"isCardInfoValid",get:function(){return h}},{key:"isBillingAddressInfoValid",get:function(){return T}},{key:"error",get:function(){return I}}]),t}(o.default.Store);t.default=new b(a.default,{NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE:function(e){var t=e.stripePaymentSource;null!=t?(d=t,N((0,i.parseStripeSource)(d).billingAddressInfo)):C()},NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;f=t.cardNumber,c=t.expirationDate,p=t.cvc,m=t.name,h=n},NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;y=t.country,v=t.line1,_=t.line2,E=t.city,g=t.postalCode,S=t.state,T=n},BRAINTREE_TOKENIZE_PAYPAL_START:function(e){return u="",void(s=null)},BRAINTREE_TOKENIZE_PAYPAL_SUCCESS:function(e){var t=e.email,n=e.nonce,r=e.billingAddress;u=t,s=n,N(r),T=y.length>0},BILLING_PAYMENT_SOURCE_CREATE_START:function(e){return A()},MODAL_POP:function(e){return A()},NEW_PAYMENT_SOURCE_CLEAR_ERROR:function(e){return A()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:O,STRIPE_TOKEN_FAILURE:O,BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return C()},LOGOUT:function(e){return C()}}),e.exports=t.default},6077:function(e,t,n){"use strict";t.__esModule=!0,n(316),n(239);var r,o=n(47),a=(r=o)&&r.__esModule?r:{default:r},i=n(133);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return new t({id:e.id,heroItems:e.hero_items.map(function(e){return{skuId:e.sku_id,url:e.url,title:e.title,header:e.header,description:e.description,buttonLabel:e.button_label,thumbnail:null!=e.thumbnail?(0,i.transformStoreAssetFromServer)(e.thumbnail):null,previewVideo:null!=e.preview_video?(0,i.transformStoreAssetFromServer)(e.preview_video):null,fullVideo:null!=e.full_video?(0,i.transformStoreAssetFromServer)(e.full_video):null,paginationImage:null!=e.pagination_image?(0,i.transformStoreAssetFromServer)(e.pagination_image):null,background:null!=e.background?(0,i.transformStoreAssetFromServer)(e.background):null}}).filter(Boolean),premiumSkuIds:e.featured_premium_skus,recommendedSkuIds:null!=e.recommended_skus&&e.recommended_skus.length>0?e.recommended_skus:null,categories:null!=e.categories&&e.categories.length>0?e.categories.map(function(e){return{name:e.name,skuIds:e.skus}}):null,allSkuIds:e.all_skus})},t.prototype.initialize=function(e){this.id=e.id,this.heroItems=e.heroItems,this.premiumSkuIds=e.premiumSkuIds,this.recommendedSkuIds=e.recommendedSkuIds,this.categories=e.categories,this.allSkuIds=e.allSkuIds},t}(a.default);t.default=l,e.exports=t.default},6078:function(e,t,n){"use strict";t.__esModule=!0;var r=v(n(6)),o=v(n(4)),a=v(n(23)),i=v(n(1)),l=v(n(6871)),u=n(6872),s=v(n(6873)),d=n(6125),f=v(n(22)),c=v(n(28)),p=v(n(91)),h=v(n(51)),y=v(n(155)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var _=.05,E={},g=!1;function S(e){return null==E[e]&&(E[e]={searchId:e,searchType:T(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:null,query:null,hasError:!1,searchFetcher:null,searchResults:null,totalResults:null,documentsIndexed:null,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),E[e]}function T(e){return c.default.getGuild(e)?m.SearchTypes.GUILD:f.default.getChannel(e)?m.SearchTypes.CHANNEL:null}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e)return n;var r=E[e];return null==r?n:t(r)}var C="SearchStore",N=!1,A={},O=null;function b(e){var t=e.searchId,n=E[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete E[t]}function M(){var e=y.default.getGuildId(),t=h.default.getChannelId(e),n=e||t;if(n===O)return!1;n&&!E[n]&&S(n),O=n}function R(){(0,d.refreshSearchTokens)()}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(h.default,y.default,c.default,f.default);var e,t=a.default.get(C);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),A=e),N=!!a.default.get("tokenized")||!1},t.prototype.isOpen=function(){return g},t.prototype.getCurrentSearchId=function(){return O},t.prototype.isActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},t.prototype.isTokenized=function(){return N},t.prototype.getSearchType=function(e){return I(e||O,function(e){return e.searchType})},t.prototype.getResults=function(e){return I(e,function(e){return e.searchResults})},t.prototype.hasResults=function(e){return null!=I(e,function(e){return e.searchResults})},t.prototype.isIndexing=function(e){return I(e,function(e){return e.isIndexing})||!1},t.prototype.isHistoricalIndexing=function(e){return I(e,function(e){return e.isHistoricalIndexing})||!1},t.prototype.isSearching=function(e){return I(e,function(e){return e.isSearching})||!1},t.prototype.getAnalyticsId=function(e){return I(e,function(e){return e.analyticsId})},t.prototype.getResultsBlocked=function(e){return I(e,function(e){return e.resultsBlocked})},t.prototype.getDocumentsIndexedCount=function(e){return I(e,function(e){return e.documentsIndexed})},t.prototype.getSearchFetcher=function(e){return I(e,function(e){return e.searchFetcher})},t.prototype.getTotalResults=function(e){return I(e,function(e){return e.totalResults})||0},t.prototype.getEditorState=function(e){return I(e,function(e){return e.editorState})},t.prototype.getHistory=function(e){return A[e]},t.prototype.getOffset=function(e){return I(e,function(e){return e.offset})||0},t.prototype.getQuery=function(e){return I(e,function(e){return e.query})},t.prototype.hasError=function(e){return I(e,function(e){return e.hasError})||!1},t.prototype.shouldShowBlockedResults=function(e){return I(e,function(e){return e.showBlockedResults},!1)||!1},t.prototype.shouldShowNoResultsAlt=function(e){return I(e,function(e){return e.showNoResultsAlt},!1)||!1},t.prototype.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},t}(o.default.Store);t.default=new P(i.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,o=e.query,u=S(n);u.searchFetcher&&(u.searchFetcher.cancel(),u.searchFetcher=null);var s=new l.default(n,u.searchType,o);u.searchFetcher=s,u.isSearching=!0,u.searchResults=null,u.analyticsId=null,u.query=r.default.omit(o,"type"),u.offset=o.offset?o.offset:0,u.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=A[e]=A[e]||[];t=t.trim();var r=n.indexOf(t);-1!==r?(n.splice(r,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:r<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),a.default.set(C,{history:A})}}(n,t),s.fetch(function(e){i.default.dispatch({type:m.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){i.default.dispatch({type:m.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){i.default.dispatch({type:m.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=S(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=S(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=e.documentsIndexed,t.showNoResultsAlt=Math.random()<_;var n=t.query;if(n){var o=(0,u.createASTHighlighter)(n.content||""),a=0;t.searchResults=(0,r.default)(e.messages).map(function(e){return e.map(function(e){return s.default.create(e,o)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&a++,!t||e.hit})}).value(),t.resultsBlocked=a}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:b,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&S(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;S(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;S(t).showBlockedResults=n},CHANNEL_SELECT:function(e){return M()},GUILD_SELECT:function(e){return M()},CHANNEL_TOGGLE_SECTION:function(e){return null!=O&&b({searchId:O})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(a.default.remove(C),A={}):(delete A[t],a.default.set(C,{history:A}))},LOGOUT:function(e){return a.default.remove(C),void(A={})},CONNECTION_OPEN:function(e){Object.keys(E).forEach(function(e){null!=E[e]&&(E[e].searchType=T(e))})},SEARCH_MODAL_OPEN:function(e){g=!0},SEARCH_MODAL_CLOSE:function(e){g=!1},USER_SETTINGS_UPDATE:function(e){return R()},I18N_LOAD_SUCCESS:function(e){return R()}}),e.exports=t.default},6080:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(12)),l=g(n(5981)),u=g(n(6943)),s=g(n(6944)),d=g(n(6549)),f=g(n(6945)),c=g(n(6946)),p=g(n(6947)),h=g(n(6948)),y=g(n(6949)),m=g(n(6103)),v=g(n(6950)),_=g(n(6011)),E=n(0);function g(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderInviteCreateGroup=function(){var e=this.props,t=e.guild,n=e.channel,r=e.type;if(null!=t)return o(p.default,{channel:n,guild:t,type:r})},t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.guild,a=e.channel,p=e.hasUnread,g=e.className;if(i.default.isGuest())return null;switch(n){case E.ContextMenuTypes.CHANNEL_LIST_TEXT:return o("div",{className:g,style:t},void 0,o(l.default,{},void 0,o(y.default,{channelId:a.id,hasUnread:p,type:a.type}),o(m.default,{channel:a}),o(c.default,{channel:a})),this.renderInviteCreateGroup(),o(f.default,{channel:a}),o(_.default,{id:a.id}));case E.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE:return o("div",{className:g,style:t},void 0,o(l.default,{},void 0,o(c.default,{channel:a})),this.renderInviteCreateGroup(),o(f.default,{channel:a}),o(_.default,{id:a.id}));case E.ContextMenuTypes.CHANNEL_LIST_VOICE:return o("div",{className:g,style:t},void 0,o(l.default,{},void 0,o(v.default,{channelId:a.id}),o(c.default,{channel:a})),this.renderInviteCreateGroup(),o(f.default,{channel:a}),o(_.default,{id:a.id}));case E.ContextMenuTypes.CHANNEL_LIST_STORE:return o("div",{className:g,style:t},void 0,o(l.default,{},void 0,o(c.default,{channel:a})),this.renderInviteCreateGroup(),o(f.default,{channel:a}),o(_.default,{id:a.id}));case E.ContextMenuTypes.CHANNEL_TITLE:return o("div",{className:g,style:t},void 0,o(l.default,{},void 0,o(m.default,{channel:a}),o(c.default,{channel:a})),this.renderInviteCreateGroup(),o(f.default,{channel:a}),o(_.default,{id:a.id}));case E.ContextMenuTypes.CHANNEL_TOPIC:return o("div",{className:g,style:t},void 0,o(l.default,{},void 0,o(m.default,{channel:a}),o(s.default,{channel:a}),o(c.default,{channel:a})),this.renderInviteCreateGroup(),o(f.default,{channel:a}),o(_.default,{id:a.id}));case E.ContextMenuTypes.CHANNEL_AUDIT_LOG:return o("div",{className:g,style:t},void 0,o(l.default,{},void 0,o(c.default,{channel:a}),null!=r?o(h.default,{channel:a,guild:r}):null,o(_.default,{id:a.id})));case E.ContextMenuTypes.CHANNEL_CATEGORY:return o("div",{className:g,style:t},void 0,o(y.default,{channelId:a.id,hasUnread:p,type:a.type}),o(m.default,{channel:a}),o(u.default,{channel:a}),o(c.default,{channel:a}),null!=r?o(d.default,{type:E.ChannelTypes.GUILD_CATEGORY,guild:r}):null,o(f.default,{channel:a}),o(_.default,{id:a.id}));default:console.warn("Error - no such ctx menu type:",n)}return null},t}(a.PureComponent);S.defaultProps={hasUnread:!1,selected:!1},S.displayName="ChannelContextMenu",t.default=S,e.exports=t.default},6081:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(6)),a=p(n(4)),i=p(n(1)),l=p(n(135)),u=p(n(12)),s=p(n(72)),d=p(n(15)),f=p(n(134)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=Object.freeze([]),m={},v=[];function _(e){var t=m[e];return null==t&&(t=new T(e),m[e]=t),t}function E(e,t){return s.default.getNick(e,t.id)||t.toString()}function g(e){return{nick:e,comparator:e.toLowerCase()}}function S(e,t,n){var o=d.default.getUser(n),a=null==o;null==o&&(o=new l.default({id:n,username:"...",discriminator:n.slice(-5,-1)}));var i=r({voiceState:e,user:o},function(e,t){return g(E(e,t))}(t,o));return a&&(i._isPlaceholder=!0),i}var T=function(){function e(t){h(this,e),this.guildId=t,this._voiceStates={},this._sortedVoiceStates=null}return e.prototype.isInvalid=function(){return null==this._sortedVoiceStates},e.prototype.invalidate=function(){this._sortedVoiceStates=null},e.prototype.updateVoiceState=function(e){var t=f.default.getVoiceState(this.guildId,e),n=this._voiceStates[e];null!=t?null==n?(this._voiceStates[e]=S(t,this.guildId,e),this.invalidate()):n.voiceState!==t&&(this._voiceStates[e]=r({},n,{voiceState:t}),this.invalidate()):null!=n&&(delete this._voiceStates[e],this.invalidate())},e.prototype.updateNick=function(e){var t=this._voiceStates[e];if(null!=t){var n=E(this.guildId,t.user);if(n!==t.nick)return this._voiceStates[e]=r({},t,g(n)),this.invalidate(),!0}return!1},e.prototype.forEach=function(e){var t=this.isInvalid();o.default.forEach(this._voiceStates,e);var n=this.isInvalid();return n&&n!==t},e.prototype.updateUsers=function(){var e=this;return this.forEach(function(t,n){var r=d.default.getUser(n);null!=r&&t.user!==r&&(e._voiceStates[n]=S(t.voiceState,e.guildId,n),e.invalidate())})},e.prototype.updateNicks=function(){var e=this;return this.forEach(function(t,n){if(!t._isPlaceholder){var o=E(e.guildId,t.user);t.nick!==o&&(e._voiceStates[n]=r({},t,g(o)),e.invalidate())}})},e.prototype.getVoiceStates=function(){return null==this._sortedVoiceStates&&(this._sortedVoiceStates=(0,o.default)(this._voiceStates).sortBy(function(e){return e.comparator}).sortBy(function(e){return!e.voiceState.selfStream}).groupBy(function(e){return e.voiceState.channelId}).value()),this._sortedVoiceStates},e}();function I(){return o.default.reduce(m,function(e,t){return t.updateUsers()||e},!1)}function C(){v.forEach(function(e){var t=e.guildId,n=e.userId;_(t||c.ME).updateVoiceState(n)}),v=[]}var N=function(e){function t(){return h(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,d.default,s.default,f.default),this.syncWith([d.default],I),this.syncWith([f.default],C)},t.prototype.getVoiceStates=function(e){return _(e||c.ME).getVoiceStates()},t.prototype.getVoiceStatesForChannel=function(e,t){return this.getVoiceStates(e||c.ME)[t]||y},t}(a.default.Store);t.default=new N(i.default,{CONNECTION_OPEN:function(e){return m={},void(v=[])},OVERLAY_INITIALIZE:function(e){return function(){m={},v=[];var e=f.default.getAllVoiceStates();Object.keys(e).forEach(function(t){Object.keys(e[t]).forEach(function(e){_(t||c.ME).updateVoiceState(e)})})}()},VOICE_CHANNEL_SELECT:function(e){var t=e.guildId,n=u.default.getId();return null!=n&&v.push({guildId:t||c.ME,userId:n}),!1},VOICE_STATE_UPDATE:function(e){var t=e.guildId,n=e.userId;return v.push({guildId:t||c.ME,userId:n}),!1},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId,n=e.user;return _(t).updateNick(n.id)},GUILD_DELETE:function(e){var t=e.guild;delete m[t.id]}}),e.exports=t.default},6082:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(129)),u=d(n(13)),s=d(n(5380));function d(e){return e&&e.__esModule?e:{default:e}}var f={BLOCK:s.default.block,INLINE:s.default.inline},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.type,a=void 0===r?f.BLOCK:r,d=e.style;return o("div",{className:(0,i.default)(n,a),style:d},void 0,o(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,weight:l.default.Weights.BOLD,className:s.default.pro},void 0,u.default.Messages.FORM_LABEL_ROLES_PRO_TIP,":"),o(l.default,{color:l.default.Colors.PRIMARY,className:s.default.tip},void 0,t))},t}(a.PureComponent);c.Types=f,c.displayName="Protip",t.default=c,e.exports=t.default},6083:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5383));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.invertColor,n=void 0!==t&&t,r=e.className;return o("span",{className:(0,a.default)(n?i.default.botTagInvert:i.default.botTagRegular,r)},void 0,"BOT")};u.displayName="BotTag",t.default=u,e.exports=t.default},6084:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=X(n(2)),u=q(n(17)),s=q(n(6)),d=q(n(4)),f=n(6017),c=n(307),p=q(n(182)),h=q(n(832)),y=q(n(80)),m=q(n(830)),v=(q(n(135)),q(n(851))),_=q(n(43)),E=q(n(28)),g=q(n(6048)),S=q(n(6028)),T=q(n(451)),I=q(n(15)),C=q(n(6038)),N=q(n(6195)),A=q(n(5979)),O=q(n(128)),b=q(n(6163)),M=q(n(221)),R=q(n(152)),P=q(n(5988)),L=q(n(306)),w=q(n(6012)),D=q(n(827)),U=q(n(442)),k=q(n(836)),G=q(n(110)),x=q(n(6023)),F=q(n(6003)),j=X(n(6021)),B=q(n(888)),H=q(n(5983)),V=q(n(5352)),Y=q(n(6039)),W=q(n(5353)),K=n(0),z=q(n(13)),$=q(n(5405));function q(e){return e&&e.__esModule?e:{default:e}}function X(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=600,te=function(e){function t(){var r,o;Q(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=o=J(this,e.call.apply(e,[this].concat(l))),o.state={playingNewsVideo:!1},o.numIntentionalNewsChange=0,o.handleNewsClick=function(e,t){var n=o.props,r=n.game,a=n.location;j.trackGameNewsOpened(a,e,t,r)},o.handleVideoPlay=function(){o.setState({playingNewsVideo:!0})},o.handleIntentionalCarouselChange=function(){o.numIntentionalNewsChange++,o.setState({playingNewsVideo:!1})},o.renderNewsItem=function(e,t){return i(N.default,{game:o.props.game,news:e,className:$.default.news,backgroundClassname:$.default.background,onClick:function(){return o.handleNewsClick(e,t)},onVideoPlay:o.handleVideoPlay})},o.renderEmptyBody=function(){var e=o.props.game.getSplashURL(ee)||n(6284);return i("div",{className:$.default.newsEmpty,style:null!=e?{backgroundImage:"url("+e+")"}:null})},J(o,r)}return Z(t,e),t.prototype.componentWillUnmount=function(){if(this.numIntentionalNewsChange>0){var e=this.props,t=e.game,n=e.location;j.trackGameNewsChanged(n,t,this.numIntentionalNewsChange)}},t.prototype.render=function(){var e=this.props.gameNews;return 0===e.length?this.renderEmptyBody():1===e.length?i("div",{className:$.default.news},void 0,this.renderNewsItem(e[0])):i(b.default,{className:$.default.carousel,paginationClassName:$.default.carouselPagination,includeHitboxPadding:!1,items:e,renderItem:this.renderNewsItem,delay:1e4,onIntentionalChange:this.handleIntentionalCarouselChange})},t}(l.PureComponent);te.displayName="GamePreviewNews";var ne=d.default.connectStores([v.default],function(e){var t=e.game;return{gameNews:v.default.getByGameId(t.id)}})(te),re=function(e){function t(){var n,r;Q(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=J(this,e.call.apply(e,[this].concat(u))),r.renderUserPopout=function(e,t){return l.createElement(W.default,a({},t,{analyticsParams:{location:r.props.location},user:e}))},r.handleContextMenu=function(e,t){(0,c.openContextMenu)(e,function(e){return l.createElement(V.default,a({},e,{type:K.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},r.renderPlayer=function(e){var t=e.user,n=e.lastPlayedDate,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?i(U.default,{text:t.username},void 0,i(A.default,{className:$.default.overflowAvatar,size:A.default.Sizes.ACTIVITY_FEED_24,src:t.getAvatarURL()})):i("div",{className:$.default.player},void 0,i(U.default,{text:t.username},void 0,i(A.default,{src:t.getAvatarURL(),size:A.default.Sizes.ACTIVITY_FEED_24})),i(F.default,{className:$.default.username},void 0,t.username),null!=n?i(w.default,{className:$.default.playtime,end:n,location:w.default.Locations.ACTIVITY_FEED_NEW}):i(F.default,{className:$.default.nowPlaying,size:F.default.Sizes.SIZE_12},void 0,z.default.Messages.ACTIVITY_FEED_USER_PLAYING));return i(D.default,{render:function(e){return r.renderUserPopout(t,e)},position:D.default.Positions.LEFT,closeOnScroll:!1,dependsOn:r.props.popoutKey},t.id,i("div",{onContextMenu:function(e){return r.handleContextMenu(e,t)}},void 0,o))},J(r,n)}return Z(t,e),t.prototype.renderOverflowPlayers=function(){var e=this,t=this.props,n=t.nowPlayingUsers,r=t.recentlyPlayedUsers,o=n.concat(r);if(o.length<=3)return null;var a=o.slice(3),u=(0,s.default)(a).take(4).map(function(t){return e.renderPlayer(t,!0)}).value();return 5===a.length?u.push(this.renderPlayer(a[4],!0)):a.length>5&&u.push(i("div",{className:$.default.overflowPlayerCount},void 0,"+",a.length-5+1)),i(l.Fragment,{},void 0,i(k.default,{className:$.default.divider}),i("div",{className:$.default.overflowPlayers},void 0,u))},t.prototype.render=function(){var e=this,t=this.props,r=t.nowPlayingUsers,o=t.recentlyPlayedUsers,a=r.concat(o);if(0===a.length)return i("div",{className:$.default.emptyPlayers},void 0,i("img",{src:n(6285),alt:""}),i(F.default,{color:F.default.Colors.MUTED},void 0,z.default.Messages.GAME_POPOUT_NO_RECENT_PLAYERS));var l=(0,s.default)(a).take(3).value();return i("div",{className:$.default.players},void 0,i(G.default,{tag:G.default.Tags.H5,className:$.default.title},void 0,z.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),l.map(function(t){return e.renderPlayer(t)}),this.renderOverflowPlayers())},t}(l.PureComponent);re.displayName="GamePreviewUsers";var oe=d.default.connectStores([S.default,g.default],function(e){var t,n=e.game;return{nowPlayingUsers:(t=g.default.getNowPlaying(n.id),null==t?[]:s.default.values(t).sort(function(e,t){return t.startedPlaying-e.startedPlaying}).map(function(e){var t=e.userId;return{lastPlayedDate:null,user:I.default.getUser(t)}}).filter(function(e){var t=e.user;return null!=t&&T.default.isOnFeed(t.id)})),recentlyPlayedUsers:function(e){return null==e?[]:s.default.values(e).sort(function(e,t){return t.date-e.date}).map(function(e){var t=e.date,n=e.userId;return{lastPlayedDate:t,user:I.default.getUser(n)}}).filter(function(e){var t=e.user;return null!=t&&T.default.isOnFeed(t.id)})}(S.default.usersByGame[n.id])}})(re),ae=function(e){function t(){var n,r;Q(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,e.call.apply(e,[this].concat(a))),r.close=function(){var e=r.props,t=e.popoutKey,n=e.onClose;t&&m.default.close(t),n&&n()},r.handleViewGuild=function(){var e=r.props.game.guildId;e&&(r.close(),B.default.transitionTo(K.Routes.GUILD(e)))},r.handleJoinGuild=function(){var e=r.props.game.guildId;e&&h.default.joinGuild(e,!0).then(function(){r.close(),h.default.transitionToGuildSync(e)})},r.handleActionButtonClick=function(){var e=r.props,t=e.isModal,n=e.popoutKey;t?y.default.popAll():m.default.close(n)},J(r,n)}return Z(t,e),t.prototype.getLocation=function(){return this.props.isModal?K.AnalyticsLocations.GAME_MODAL:K.AnalyticsLocations.GAME_POPOUT},t.prototype.componentDidMount=function(){var e=this.props,t=e.isNewsFetched,n=e.game;t||p.default.getGameNews([this.props.game.id]),null!=n.guildId&&null==n.guild&&p.default.fetchApplication(n.id,!0)},t.prototype.renderGameInfoVerified=function(){var e=this.props.game;if(null==e.guildId)return null;var t=E.default.getGuild(e.guildId),n=null;if(null!=e.guild){var r=e.guild;n=i(R.default,{align:R.default.Align.CENTER},void 0,i("div",{className:$.default.dotOnline}),i(F.default,{size:F.default.Sizes.SIZE_12},void 0,z.default.Messages.GAME_POPOUT_ONLINE_IN_SERVER.format({membersOnline:r.approximate_presence_count})))}return i(l.Fragment,{},void 0,i(M.default,{className:(0,u.default)($.default.gameIcon,$.default.verified),onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,i(P.default,{game:e}),i(L.default,{name:L.default.Names.VERIFIED,className:$.default.verifiedIcon,width:16,height:16,color:K.Colors.BRAND_500})),i("div",{className:$.default.gameInfo},void 0,i(M.default,{onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,i(x.default,{className:(0,u.default)($.default.gameTitle,$.default.verified),size:x.default.Sizes.SIZE_16},void 0,e.name)),n))},t.prototype.renderGameInfo=function(){var e=this.props.game,t=e.publishers;return i(l.Fragment,{},void 0,i("div",{className:$.default.gameIcon},void 0,i(P.default,{game:e})),i("div",{className:$.default.gameInfo},void 0,i(x.default,{className:$.default.gameTitle,size:x.default.Sizes.SIZE_16},void 0,e.name),t.length>0?i(F.default,{size:F.default.Sizes.SIZE_12},void 0,t[0].name):null))},t.prototype.renderFooter=function(){var e=this.props,t=e.game,n=e.isSubscribedOnFeed,r=e.analyticsContext,o=[];if(o.push(i(Y.default,{application:t,source:this.getLocation(),size:O.default.Sizes.SMALL,color:O.default.Colors.GREY,customDisabledColor:$.default.disabledButton,onClick:this.handleActionButtonClick,location:a({},r.location,{section:K.AnalyticsSections.ACTIVITY_FEED_GAME_POPOUT}),hideNotLaunchable:!0},"action-button")),t.guildId){var l=E.default.getGuild(t.guildId);o.push(i(O.default,{className:$.default.button,size:O.default.Sizes.SMALL,color:O.default.Colors.GREY,onClick:l?this.handleViewGuild:this.handleJoinGuild},"guild-button",l?z.default.Messages.GAME_POPOUT_GO_TO_SERVER:z.default.Messages.GAME_POPOUT_VIEW_SERVER))}return o.push(i(O.default,{className:$.default.button,look:n?O.default.Looks.OUTLINED:O.default.Looks.FILLED,size:O.default.Sizes.SMALL,color:O.default.Colors.GREY,onClick:function(){return n?(0,f.removeGamesFromFeed)([t.id]):(0,f.addGamesToFeed)([t.id])}},"follow-button",n?z.default.Messages.GAME_POPOUT_UNFOLLOW:z.default.Messages.GAME_POPOUT_FOLLOW)),i("div",{className:$.default.footer},void 0,null!=t.guildId?this.renderGameInfoVerified():this.renderGameInfo(),o)},t.prototype.render=function(){var e=this.props,t=e.game,n=e.isNewsFetched,r=e.popoutKey;return i(H.default,{context:this.props.analyticsContext,section:this.contextSection},void 0,i(R.default,{className:$.default.container},void 0,i("div",{className:$.default.header},void 0,i(ne,{game:t,isFetched:n,location:this.getLocation()}),i(oe,{game:t,popoutKey:r,location:this.getLocation()})),this.renderFooter()))},o(t,[{key:"contextSection",get:function(){return this.props.isModal?K.AnalyticsSections.GAME_MODAL:K.AnalyticsSections.GAME_POPOUT}}]),t}(l.PureComponent);ae.defaultProps={isModal:!1},ae.displayName="GamePreview",t.default=d.default.connectStores([_.default,I.default,C.default,T.default],function(e){var t=e.game;return{game:_.default.getGame(t.id),isSubscribedOnFeed:T.default.gameIDsToShow.has(t.id),isNewsFetched:v.default.isFetched(t.id)}})(ae),e.exports=t.default},6085:function(e,t,n){"use strict";t.__esModule=!0,t.TWITCH_APPLICATION_ID_PREFIX=void 0;var r=i(n(158)),o=i(n(112)),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.TWITCH_APPLICATION_ID_PREFIX="twitch:",u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.id=""+l+t.url,this.name=a.default.Messages.GAME_FEED_ACTIVITY_STREAMING_TWITCH},t.prototype.getIconURL=function(){return r.default.get("twitch").icon.svg},t}(o.default);t.default=u},6086:function(e,t,n){"use strict";t.__esModule=!0,t.XBOX_APPLICATION_ID_PREFIX=void 0;var r=a(n(158)),o=a(n(112));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.XBOX_APPLICATION_ID_PREFIX="xbox:",l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.id=""+i+t.name,this.name=t.name},t.prototype.getIconURL=function(){return r.default.get("xbox").icon.svg},t}(o.default);t.default=l},6087:function(e,t,n){"use strict";t.__esModule=!0;var r=p(n(4)),o=p(n(1)),a=c(n(6108)),i=p(n(90)),l=p(n(64)),u=c(n(889)),s=n(113),d=p(n(9)),f=n(0);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h=void 0,y=void 0,m=void 0;var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){d.default.embedded&&u.init(),h={},y=new Set,m=[]},t.prototype.getState=function(e,t){var n=(0,s.getComboId)(e,t);return h[n]},t.prototype.isSyncing=function(e,t){var n=(0,s.getComboId)(e,t);return y.has(n)},t}(r.default.Store);t.default=new v(o.default,{GAME_CLOUD_SYNC_START:function(e){var t=e.applicationId,n=e.branchId,r=(0,s.getComboId)(t,n);y.add(r)},GAME_CLOUD_SYNC_UPDATE:function(e){var t=e.state,n=Object.keys(t),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a;h[i]=t[i]}},GAME_CLOUD_SYNC_COMPLETE:function(e){var t=e.applicationId,n=e.branchId,r=(0,s.getComboId)(t,n);return y.delete(r),h[r]={type:f.CloudSyncStateTypes.DONE,timestamp:Date.now()},!0},GAME_CLOUD_SYNC_CONFLICT:function(e){var t=e.applicationId,n=e.branchId,r=e.next,o=e.remote,a=(0,s.getComboId)(t,n);h[a]={type:f.CloudSyncStateTypes.CONFLICT,next:r,remote:o},y.delete(a)},GAME_CLOUD_SYNC_ERROR:function(e){var t=e.applicationId,n=e.branchId,r=(0,s.getComboId)(t,n);h[r]={type:f.CloudSyncStateTypes.ERROR},y.delete(r)},RUNNING_GAMES_CHANGE:function(e){return function(){var e=l.default.getRunningDiscordApplicationIds(),t=function(e){var t=i.default.getActiveLibraryApplication(e);if(null==t)return"continue";o.default.wait(function(){try{a.sync(t.id,t.branchId)}catch(e){}})},n=m.filter(function(t){return!e.includes(t)}),r=Array.isArray(n),u=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(u>=n.length)break;s=n[u++]}else{if((u=n.next()).done)break;s=u.value}t(s)}return m=e,!1}()}}),e.exports=t.default},6088:function(e,t,n){"use strict";t.__esModule=!0,t.SpotifyButtonTypes=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=R(n(2)),l=M(n(17)),u=M(n(4)),s=n(81),d=M(n(80)),f=M(n(830)),c=R(n(471)),p=M(n(6287)),h=M(n(158)),y=M(n(12)),m=M(n(72)),v=M(n(237)),_=M(n(128)),E=M(n(152)),g=M(n(306)),S=M(n(442)),T=M(n(18)),I=M(n(458)),C=n(331),N=n(6138),A=n(0),O=M(n(13)),b=M(n(5409));function M(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=3e4,D=h.default.get(A.PlatformTypes.SPOTIFY).name,U=t.SpotifyButtonTypes={USER_ACTIVITY_PLAY:"user_activity_play",USER_ACTIVITY_SYNC:"user_activity_sync",EMBED_SYNC:"embed_sync"},k=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.state={loading:!1},r.loadingTimeout=new s.Timeout,r._mounted=!1,r.handleClick=function(){var e=r.props,t=e.activity,n=e.hasSpotifyAccount,o=e.type,a=e.user,i=e.source;n?null!=t.sync_id&&(r.setState({loading:!0}),r.loadingTimeout.start(w,r.clearLoading),(0,C.ensureSpotifyPlayable)().then(function(){switch(o){case U.USER_ACTIVITY_PLAY:c.play(t,a.id),T.default.track(A.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:o,source:i,is_premium:(0,C.isSpotifyPremium)(),other_user_id:a.id});break;case U.USER_ACTIVITY_SYNC:case U.EMBED_SYNC:(0,C.ensureSpotifyPremium)().then(function(){return c.sync(r.props.activity,a.id)},function(e){return d.default.push(p.default),Promise.reject(e)}).catch(function(){r.clearLoading(),f.default.close()}),T.default.track(A.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:o,source:i,is_premium:(0,C.isSpotifyPremium)(),party_id:null!=t.party?t.party.id:null,other_user_id:a.id})}}).catch(function(){return r.clearLoading()})):(0,N.authorize)(A.PlatformTypes.SPOTIFY,"Spotify Button")},r.clearLoading=function(){r._mounted&&(r.loadingTimeout.stop(),r.setState({loading:!1}))},L(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._mounted=!0},t.prototype.UNSAFE_componentWillReceiveProps=function(e){(null!=e.currentUserTrackId&&e.currentUserTrackId!==this.props.currentUserTrackId||e.isSyncingWithUser)&&this.state.loading&&this.clearLoading()},t.prototype.componentWillUnmount=function(){this.loadingTimeout.stop(),this._mounted=!1},t.prototype.renderPlayButton=function(){var e=this.props,t=e.activity,n=e.hasSpotifyAccount,r=e.isSpotifyPlayable,l=e.isCurrentUser,u=e.currentUserTrackId,s=P(e,["activity","hasSpotifyAccount","isSpotifyPlayable","isCurrentUser","currentUserTrackId"]),d=this.state.loading,f=void 0;f=n?O.default.Messages.USER_ACTIVITY_PLAY_ON_PLATFORM.format({platform:D}):O.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:D});var c=n&&!r,p=u===t.sync_id,h=void 0;return l?h=O.default.Messages.USER_ACTIVITY_CANNOT_PLAY_SELF:p?h=O.default.Messages.USER_ACTIVITY_ALREADY_PLAYING:c&&(h=O.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:D})),a(S.default,{text:h},void 0,i.createElement(_.default,o({},s,{onClick:this.handleClick,disabled:!d&&(l||c||p),submitting:d}),a(E.default,{align:E.default.Align.CENTER},void 0,a(g.default,{name:g.default.Names.PLATFORM_SPOTIFY,className:b.default.spotifyButtonLogo}),f)))},t.prototype.renderSyncButton=function(){var e=this.props,t=e.className,n=e.hasSpotifyAccount,r=e.isSpotifyPlayable,u=e.isCurrentUser,s=e.isSyncingWithUser,d=e.isSyncingWithParty,f=e.user,c=e.nickname,p=(e.currentUserTrackId,e.size),h=P(e,["className","hasSpotifyAccount","isSpotifyPlayable","isCurrentUser","isSyncingWithUser","isSyncingWithParty","user","nickname","currentUserTrackId","size"]),y=this.state.loading;if(!n||!r)return null;var m=void 0;return m=u?O.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:s||d?O.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:O.default.Messages.USER_ACTIVITY_LISTEN_ALONG_DESCRIPTION.format({name:c||f}),a(S.default,{text:m},void 0,i.createElement(_.default,o({},h,{size:(0,l.default)(p,b.default.iconButtonSize),className:(0,l.default)(t,b.default.iconButton),onClick:this.handleClick,disabled:!y&&(u||s||d),submitting:y}),a(g.default,{name:g.default.Names.PERSON_PLAY,className:b.default.listenAlongIcon})))},t.prototype.renderJoinButton=function(){var e=this.props,t=e.hasSpotifyAccount,n=e.isSpotifyPlayable,r=e.isCurrentUser,l=e.isSyncingWithUser,u=e.isSyncingWithParty,s=P(e,["hasSpotifyAccount","isSpotifyPlayable","isCurrentUser","isSyncingWithUser","isSyncingWithParty"]),d=this.state.loading,f=void 0;f=t?l||u?O.default.Messages.INVITE_EMBED_JOINED:O.default.Messages.JOIN:O.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:D});var c=t&&!n,p=r||l||u||c,h=void 0;return r?h=O.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:l||u?h=O.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:c&&(h=O.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:D})),a(S.default,{text:h},void 0,i.createElement(_.default,o({},s,{color:p?_.default.Colors.GREY:_.default.Colors.GREEN,onClick:this.handleClick,disabled:!d&&p,submitting:d}),f))},t.prototype.render=function(){switch(this.props.type){case U.USER_ACTIVITY_PLAY:return this.renderPlayButton();case U.USER_ACTIVITY_SYNC:return this.renderSyncButton();case U.EMBED_SYNC:return this.renderJoinButton();default:return null}},t}(i.Component);k.displayName="SpotifyButton",t.default=u.default.connectStores([v.default,y.default,m.default],function(e){var t=v.default.getTrack(),n=v.default.getSyncingWith(),r=e.activity.party,o=v.default.getActivity(),a=void 0;return a=null!=t?t.id:null!=o?o.sync_id:v.default.getLastPlayedTrackId(),{isCurrentUser:e.user.id===y.default.getId(),hasSpotifyAccount:v.default.hasConnectedAccount(),isSpotifyPlayable:(0,C.isSpotifyPlayable)(v.default),isSyncingWithParty:null!=o&&null!=o.party&&null!=r&&r.id===o.party.id,isSyncingWithUser:null!=n&&n.userId===e.user.id,currentUserTrackId:a,nickname:I.default.getNickname(e.guildId,e.channelId,e.user)}})(k)},6089:function(e,t,n){"use strict";t.__esModule=!0;var r=v(n(6)),o=v(n(4)),a=v(n(23)),i=v(n(1)),l=v(n(6070)),u=v(n(6199)),s=v(n(158)),d=v(n(18)),f=v(n(9)),c=v(n(464)),p=v(n(312)),h=v(n(35)),y=v(n(154)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var _="DetectedPlatformAccountsStore",E=[],g=[],S=[],T=m.DetectedPlatformAccountsDisplayTypes.NONE,I={},C=[],N=void 0,A=new u.default(function(e,t){var n=c.default.getAccounts(),r=s.default.filter(function(e){return!e.serverSync&&e.enabled}).map(function(e){return e.type}).filter(function(e){return-1===g.indexOf(e)}).filter(function(e){return!n.some(function(t){return t.type===e})}).filter(function(e){return!E.some(function(t){return t.type===e})});r.length>0&&(t||h.default.detectPlatformAccounts)&&l.default.detectAccounts(r),e()});function O(){if(S=[],!p.default.enabled){var e=c.default.getAccounts().filter(function(e){return m.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type});S=r.default.without.apply(r.default,[[m.PlatformTypes.FACEBOOK].concat(g)].concat(e))}}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default,y.default,p.default,h.default),g=a.default.get(_)||g},t.prototype.getDetectedAccounts=function(){return E},t.prototype.getDisplayType=function(){return p.default.enabled?m.DetectedPlatformAccountsDisplayTypes.NONE:T},t.prototype.getAvailablePlatformTypes=function(){return S},t.prototype.hasAvailablePlatformType=function(e){return S.includes(e)},t.prototype.getNotDetectedPlatformTypes=function(){return C},t.prototype.isDetecting=function(e){return I[e]||!1},t.prototype.isOpen=function(){return this.getDisplayType()===m.DetectedPlatformAccountsDisplayTypes.MODAL},t.prototype.getProps=function(){return{detectedAccounts:E,displayType:T,analyticsLocation:N}},t}(o.default.Store);t.default=new b(i.default,{CONNECTION_OPEN:function(e){return f.default.embedded&&(A.start(6e4),A.run()),void O()},CONNECTION_CLOSED:function(e){return A.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return f.default.embedded&&A.run(),void O()},PLATFORM_ACCOUNTS_DETECTING:function(e){var t=e.platformTypes,n=e.location;t.forEach(function(e){return I[e]=!0}),null!=n&&(C=[])},PLATFORM_ACCOUNTS_DETECTED:function(e){var t=e.platformTypes,n=e.accounts,r=e.location;t.forEach(function(e){return I[e]=!1});var o=c.default.getAccounts();E=[].concat(E.filter(function(e){return-1===t.indexOf(e.type)}),n.filter(function(e){return!o.some(function(t){return e.type===t.type&&e.id===t.id})}));var a=null!=r;E.length>0?(a?T=m.DetectedPlatformAccountsDisplayTypes.MODAL:T===m.DetectedPlatformAccountsDisplayTypes.NONE&&(T=y.default.isFocused()?m.DetectedPlatformAccountsDisplayTypes.NOTICE:m.DetectedPlatformAccountsDisplayTypes.MODAL),n.forEach(function(e){d.default.track("detect_platform_account",{platform_type:e.type,display_type:T,location:r})})):T=m.DetectedPlatformAccountsDisplayTypes.NONE,a&&(C=t.filter(function(e){return!E.some(function(t){return t.type===e})})),N=r},PLATFORM_ACCOUNTS_IGNORE:function(e){var t=e.platformTypes;null==t&&(t=(0,r.default)(E).map(function(e){return e.type}).uniq().value()),t.forEach(function(e){d.default.track("ignore_platform_account",{platform_type:e,display_type:T})}),g=r.default.uniq([].concat(g,E.map(function(e){return e.type}))),a.default.set(_,g),O(),E=[],T=m.DetectedPlatformAccountsDisplayTypes.NONE},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){T=e.displayType},WINDOW_FOCUS:function(e){var t=e.focused;T!==m.DetectedPlatformAccountsDisplayTypes.NOTICE||t||(T=m.DetectedPlatformAccountsDisplayTypes.MODAL)},STREAMER_MODE_UPDATE:function(e){return O()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return O()},EXPERIMENT_OVERRIDE_BUCKET:function(e){return O()},EXPERIMENT_OVERRIDE_TYPE:function(e){return O()}}),e.exports=t.default},6090:function(e,t,n){"use strict";t.__esModule=!0,t.ack=f,t.ackCategory=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i.default.getChannel(e);if(null==r||null==r.guild_id)return;var o=l.default.getCategories(r.guild_id);if(null==o[e])return;o[e].filter(function(e){var t=e.channel;return(0,a.isGuildTextChannelType)(t.type)}).forEach(function(e){var r=e.channel;u.default.hasUnread(r.id)&&f(r.id,t,n)})},t.localAck=function(e){o.default.dispatch({type:s.ActionTypes.CHANNEL_LOCAL_ACK,channelId:e})},t.manualAck=function(e,t){r.default.post({url:s.Endpoints.MESSAGES(e)+"/"+t+"/ack",body:{manual:!0}})};var r=d(n(8)),o=d(n(1)),a=n(131),i=d(n(22)),l=d(n(853)),u=d(n(315)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.default.dispatch({type:s.ActionTypes.CHANNEL_ACK,channelId:e,immediate:t,force:n,context:s.CURRENT_APP_CONTEXT})}},6091:function(e,t,n){"use strict";t.__esModule=!0,t.show=A,t.hide=O,t.toggle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND";c.default.isOpen()?O():A(e)},t.search=function(e){r.default.dispatch({type:E.ActionTypes.QUICKSWITCHER_SEARCH,query:e,options:I()})},t.selectResult=function(e){r.default.dispatch({type:E.ActionTypes.QUICKSWITCHER_SELECT,selectedIndex:e})},t.switchToResult=function(e){C(E.AnalyticEvents.QUICKSWITCHER_RESULT_SELECTED,e);var t=e.type,n=e.record,u={page:E.AnalyticsPages.QUICK_SWITCHER},c=void 0;switch(t){case E.AutocompleterResultTypes.GUILD:(c=p.default.getChannelId(n.id))?a.default.selectChannel(n.id,c,u):a.default.selectGuild(n.id,u),a.default.flushSelection(!0);break;case E.AutocompleterResultTypes.TEXT_CHANNEL:null!=(c=d.default.getChannel(n.id))&&(a.default.selectChannel(c.guild_id,n.id,u),a.default.flushSelection(!0));break;case E.AutocompleterResultTypes.VOICE_CHANNEL:null!=(c=d.default.getChannel(n.id))&&l.default.selectVoiceChannel(c.guild_id,n.id);break;case E.AutocompleterResultTypes.USER:o.default.openPrivateChannel(s.default.getId(),[n.id]),i.default.channelListScrollTo(E.ME,n.id);break;case E.AutocompleterResultTypes.GROUP_DM:a.default.selectChannel(E.ME,n.id),a.default.flushSelection(!0),i.default.channelListScrollTo(E.ME,n.id);break;case E.AutocompleterResultTypes.APPLICATION:var h=(0,v.getLibraryApplicationForApplicationId)(n.id,f.default,y.default);S(n.id,h,{analyticsParams:{source:E.AnalyticsLocations.QUICK_SWITCHER,location:E.AnalyticsLocations.QUICK_SWITCHER}})}r.default.dispatch({type:E.ActionTypes.QUICKSWITCHER_SWITCH_TO,result:e}),N()};var r=g(n(1)),o=g(n(446)),a=g(n(6e3)),i=g(n(6005)),l=g(n(160)),u=g(n(131)),s=g(n(12)),d=g(n(22)),f=g(n(90)),c=g(n(6201)),p=g(n(51)),h=g(n(155)),y=g(n(230)),m=g(n(18)),v=n(113),_=n(6313),E=n(0);function g(e){return e&&e.__esModule?e:{default:e}}var S=function(){return Promise.resolve()},T=n(5986);function I(){return{selectedGuildId:h.default.getGuildId(),selectedChannelId:p.default.getChannelId(),lastSelectedChannelId:p.default.getLastSelectedChannelId()}}function C(e,t){var n=c.default.getProps(),r=n.results,o=n.queryMode,a=n.query,i=h.default.getGuildId(),l=p.default.getChannelId(i),s=r[(0,_.findNextSelected)("down",-1,r)],f={current_channel_id:l,current_guild_id:i,query_mode:o||"GENERAL",query_length:a.length,top_result_type:s?s.type:null,top_result_score:s?s.score:null,num_results_total:c.default.getResultTotals(),num_results_users:c.default.getResultTotals(E.AutocompleterResultTypes.USER),num_results_text_channels:c.default.getResultTotals(E.AutocompleterResultTypes.TEXT_CHANNEL),num_results_voice_channels:c.default.getResultTotals(E.AutocompleterResultTypes.VOICE_CHANNEL),num_results_guilds:c.default.getResultTotals(E.AutocompleterResultTypes.GUILD),num_results_group_dms:c.default.getResultTotals(E.AutocompleterResultTypes.GROUP_DM)};if(null!=l){var y=d.default.getChannel(l);f.current_channel_type=null!=y?y.type:null}if(null!=t){var v=t.type,g=t.score,S=t.record;switch(f.selected_type=v,f.selected_score=g,f.selected_index=r.indexOf(t),v){case E.AutocompleterResultTypes.GUILD:f.selected_guild_id=S.id;break;case E.AutocompleterResultTypes.TEXT_CHANNEL:case E.AutocompleterResultTypes.VOICE_CHANNEL:S instanceof u.default&&(f.selected_guild_id=null!=S.guild_id?S.guild_id:null),f.selected_channel_id=S.id;break;case E.AutocompleterResultTypes.GROUP_DM:f.selected_channel_id=S.id;break;case E.AutocompleterResultTypes.USER:f.selected_user_id=S.id}}m.default.track(e,f)}function N(){r.default.dispatch({type:E.ActionTypes.QUICKSWITCHER_HIDE})}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e){if(!c.default.isOpen()){var t=h.default.getGuildId(),n=p.default.getChannelId(t),r=void 0;if(null!=n){var o=d.default.getChannel(n);r=null!=o?o.type:null}m.default.track(E.AnalyticEvents.QUICKSWITCHER_OPENED,{source:e,current_guild_id:t,current_channel_id:n,current_channel_type:r})}}(e),r.default.dispatch({type:E.ActionTypes.QUICKSWITCHER_SHOW,query:t,options:I()})}function O(){C(E.AnalyticEvents.QUICKSWITCHER_CLOSED),N()}S=T.playApplication},6092:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.processImage=c;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(7186)),l=u(n(6328));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=[{name:u(n(13)).default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}];function f(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){return t(n.target.result,e.name)},n.readAsDataURL(e)}}function c(e,t,n){"image/gif"!==e.type?f(e,function(e,r){var o=new Image;o.src=e,o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height;var a=e.getContext("2d");a&&a.drawImage(o,0,0,e.width,e.height);var l=Math.min(Math.min(o.width,o.height),t),u=o.width<o.height?o.width/l:o.height/l,s=document.createElement("canvas");s.width=o.width/u,s.height=o.height/u,i.default.resizeCanvas(e,s,{alpha:!0},function(){var e=document.createElement("canvas");e.width=l,e.height=l;var t=(s.width-e.width)/-2,o=(s.height-e.height)/-2,a=e.getContext("2d");a&&a.drawImage(s,t,o,s.width,s.height),n(e.toDataURL("image/png"),r)})}}):f(e,function(e,t){return n(e,t)})}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),r._isMounted=!1,r.handleFileChange=function(e){var t=r.props.size;e.stopPropagation(),e.preventDefault();for(var n=0;n<e.currentTarget.files.length;n++){var o=e.currentTarget.files[n];null!=t?c(o,t,r.handleFileRead):f(o,r.handleFileRead)}},r.handleFileRead=function(e,t){var n=r.props.onChange;r._isMounted&&n(e,t)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.render=function(){var e=this.props,t=e.multiple,n=e.disabled,r=e.className;return o(l.default,{onChange:this.handleFileChange,filters:d,multiple:t,disabled:n,className:r})},t}(a.PureComponent);p.defaultProps={multiple:!0},p.displayName="ImageInput",t.default=p},6093:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(80)),u=m(n(831)),s=m(n(481)),d=m(n(221)),f=m(n(18)),c=n(0),p=m(n(13)),h=m(n(5369)),y=m(n(5435));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(){return o("div",{className:y.default.premiumPromo},void 0,o(d.default,{onClick:function(){f.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:c.AnalyticsSections.FILE_UPLOAD_POPOUT}),l.default.pop(),u.default.open(c.UserSettingsSections.PREMIUM)},className:y.default.content},void 0,p.default.Messages.PREMIUM_UPLOAD_PROMO.format({maxUploadPremium:p.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM}),o("img",{alt:"",className:y.default.navArrow,src:n(6437)})))};v.displayName="PremiumPromo";var _=o(v,{}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.promo;return o("div",{className:h.default.uploadModalIn},void 0,o("div",{className:(0,i.default)(h.default.uploadDropModal,h.default.error)},void 0,o("div",{className:h.default.inner},void 0,o("div",{className:h.default.icons},void 0,o("div",{className:h.default.wrapOne},void 0,o("div",{className:(0,i.default)(h.default.icon,h.default.one)})),o("div",{className:h.default.wrapThree},void 0,o("div",{className:(0,i.default)(h.default.icon,h.default.three)})),o("div",{className:h.default.wrapTwo},void 0,o("div",{className:(0,i.default)(h.default.icon,h.default.two)}))),o("div",{className:h.default.title},void 0,this.props.title),o("div",{className:h.default.instructions},void 0,this.props.help),e?_:null)))},t}(a.Component);E.modalConfig={backdropStyle:s.default.Styles.DARK,backdropInstant:!0},E.displayName="UploadError",t.default=E,e.exports=t.default},6094:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(8)),o=s(n(1)),a=s(n(183)),i=s(n(6388)),l=n(0),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var d={pinMessage:function(e,t){var n=e.id,o=e.name;r.default.put({url:l.Endpoints.PIN(n,t)}).catch(function(){var t=void 0;t=e.isPrivate()?u.default.Messages.PIN_MESSAGE_TOO_MANY_BODY_PRIVATE_CHANNEL.format({maxPins:l.MAX_PINS_PER_CHANNEL}):u.default.Messages.PIN_MESSAGE_TOO_MANY_BODY.format({maxPins:l.MAX_PINS_PER_CHANNEL,channelName:o}),a.default.show({title:u.default.Messages.PIN_MESSAGE_TOO_MANY_TITLE,body:t,confirmText:u.default.Messages.OKAY})})},unpinMessage:function(e,t){r.default.delete({url:l.Endpoints.PIN(e.id,t)}).catch(function(){return a.default.show({title:u.default.Messages.UNPIN_MESSAGE_FAILED_TITLE,body:u.default.Messages.UNPIN_MESSAGE_FAILED_BODY,confirmText:u.default.Messages.TRY_AGAIN,cancelText:u.default.Messages.CANCEL,onConfirm:d.unpinMessage.bind(d,e,t)})})},ackPins:function(e){o.default.dirtyDispatch({type:l.ActionTypes.CHANNEL_PINS_ACK,channelId:e})},fetchPins:function(e){var t=i.default.getPinnedMessages(e);t&&(t.loaded||t.loading)||(o.default.dirtyDispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES,channelId:e}),r.default.get({url:l.Endpoints.PINS(e),retries:2}).then(function(t){o.default.dispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES_SUCCESS,messages:t.body,channelId:e})},function(){o.default.dispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES_FAILURE,channelId:e})}))}};t.default=d,e.exports=t.default},6096:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=d(n(6001)),i=d(n(6145)),l=n(6006),u=n(0),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,d=e.className,f=e.mediaPlayerClassName,c=e.poster,p=e.fileName,h=e.naturalWidth,y=e.naturalHeight,m=e.playable,v=e.volume,_=e.autoPlay,E=e.autoMute,g=e.mediaPlayerRef,S=e.onPlay,T=e.onEnded,I=e.onVolumeChange,C=e.onMute,N=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["src","fileSize","className","mediaPlayerClassName","poster","fileName","naturalWidth","naturalHeight","playable","volume","autoPlay","autoMute","mediaPlayerRef","onPlay","onEnded","onVolumeChange","onMute"]);return o.createElement(a.default,r({alt:s.default.Messages.VIDEO,className:d,src:c},N,{minWidth:i.default.minWidth,shouldLink:!1,shouldAnimate:!1}),function(e){var r=e.src,a=e.size,s=a.width,d=a.height,c=!(h<=u.MAX_VIDEO_WIDTH&&y<=u.MAX_VIDEO_HEIGHT||h<=u.MAX_VIDEO_HEIGHT&&y<=u.MAX_VIDEO_WIDTH);return o.createElement(i.default,{className:f,forceExternal:c,src:t,poster:r,width:s,height:d,volume:v,autoPlay:_||!1,autoMute:E||!1,type:i.default.Types.VIDEO,fileName:p,fileSize:(0,l.sizeString)(n),playable:m,ref:g,onPlay:S,onEnd:T,onVolumeChange:I,onMute:C})})},t}(o.Component);f.displayName="LazyVideo",t.default=f,e.exports=t.default},6097:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=i(n(6832));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={},u={},s=new Set;function d(e){var t=a.default.createFromServer(e),n=t.skuId;l[t.id]=t;var r=u[n];null!=r?r.add(t.id):u[n]=new Set([t.id])}[{currency:"usd",id:"511651880837840896",interval:1,interval_count:1,name:"Nitro Monthly",price:999,sku_id:"521847234246082599",tax_inclusive:!0},{sku_id:"521847234246082599",name:"Nitro Annually",currency:"usd",price:9999,interval:2,interval_count:1,tax_inclusive:!0,id:"511651885459963904"},{sku_id:"521846918637420545",name:"Nitro Classic Monthly",currency:"usd",price:499,interval:1,interval_count:1,tax_inclusive:!0,id:"511651871736201216"},{sku_id:"521846918637420545",name:"Nitro Classic Annually",currency:"usd",price:4999,interval:2,interval_count:1,tax_inclusive:!0,id:"511651876987469824"}].forEach(d);var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getForSKU=function(e){return Array.from(u[e]||[]).map(function(e){return l[e]})},t.prototype.get=function(e){return l[e]},t.prototype.isFetchingForSKU=function(e){return s.has(e)},t}(r.default.Store);t.default=new f(o.default,{SUBSCRIPTION_PLANS_FETCH:function(e){var t=e.skuId;s.add(t)},SUBSCRIPTION_PLANS_FETCH_SUCCESS:function(e){var t=e.skuId,n=e.subscriptionPlans;u[t]=new Set,n.forEach(d),s.delete(t)},SUBSCRIPTION_PLANS_FETCH_FAILURE:function(e){var t=e.skuId;s.delete(t)},GIFT_CODE_RESOLVE_SUCCESS:function(e){var t=e.giftCode;null!=t.subscription_plan&&d(t.subscription_plan)},ENTITLEMENTS_GIFTABLE_FETCH_SUCCESS:function(e){var t=e.entitlements,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;null!=a.subscription_plan&&d(a.subscription_plan)}}}),e.exports=t.default},6098:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=T(n(17)),u=T(n(6094)),s=T(n(157)),d=T(n(80)),f=n(6170),c=T(n(6082)),p=T(n(5987)),h=T(n(129)),y=n(6521),m=T(n(6118)),v=T(n(6522)),_=T(n(447)),E=n(0),g=T(n(13)),S=T(n(5486));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.state={report:!1},r.handleDelete=function(){var e=r.state.report,t=r.props,n=t.channel,o=t.message;if(e)d.default.push(v.default,{channel:n,message:o,onReport:function(){s.default.deleteMessage(n.id,o.id)}});else{var a=o.firstNewsEmbed();n.type===E.ChannelTypes.GUILD_NEWS&&null!=a&&null!=a.referenceId&&(0,f.deleteNews)(a.referenceId,o.channel_id),s.default.deleteMessage(n.id,o.id)}},r.handleToggleReport=function(e){r.setState({report:e.currentTarget.checked})},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.report,t=this.props,n=t.channel,r=t.message,l=t.showContextMenuHint,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["channel","message","showContextMenuHint"]),s=void 0;l&&(s=a(c.default,{className:S.default.spacingTop},void 0,g.default.Messages.DELETE_MESSAGE_CONTEXT_MENU_HINT.format()));var d=void 0;return(0,y.canReportMessage)(r)&&(d=a(p.default,{value:e,onChange:this.handleToggleReport,hideBorder:!0,className:S.default.spacingTop},void 0,g.default.Messages.DELETE_MESSAGE_REPORT)),i.createElement(_.default,o({header:g.default.Messages.DELETE_MESSAGE_TITLE,confirmText:g.default.Messages.DELETE,cancelText:g.default.Messages.CANCEL,onConfirm:this.handleDelete},u),a(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,g.default.Messages.DELETE_MESSAGE_BODY),a("div",{className:S.default.message},void 0,a(m.default,{channel:n,messages:[r],enableInteraction:!1})),d,s)},t}(i.PureComponent);C.displayName="DeleteModal",t.default={confirmPin:function(e,t){d.default.push(function(n){var r=void 0;return r=e.isPrivate()?g.default.Messages.PIN_MESSAGE_BODY_PRIVATE_CHANNEL:g.default.Messages.PIN_MESSAGE_BODY.format({channelName:e.toString()}),i.createElement(_.default,o({red:!1,header:g.default.Messages.PIN_MESSAGE_TITLE,confirmText:g.default.Messages.PIN_CONFIRM,cancelText:g.default.Messages.CANCEL,onConfirm:function(){return u.default.pinMessage(e,t.id)}},n),a(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,r),a("div",{className:S.default.message},void 0,a(m.default,{channel:e,messages:[t],enableInteraction:!1})))})},confirmUnpin:function(e,t){d.default.push(function(n){return i.createElement(_.default,o({header:g.default.Messages.UNPIN_MESSAGE_TITLE,confirmText:g.default.Messages.UNPIN_CONFIRM,cancelText:g.default.Messages.CANCEL,onConfirm:function(){return u.default.unpinMessage(e,t.id)}},n),a(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,g.default.Messages.UNPIN_MESSAGE_BODY),a("div",{className:(0,l.default)(S.default.message,S.default.spacing)},void 0,a(m.default,{channel:e,messages:[t],enableInteraction:!1})),a(c.default,{},void 0,g.default.Messages.UNPIN_MESSAGE_CONTEXT_MENU_HINT.format()))})},confirmDelete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d.default.push(function(r){return i.createElement(C,o({channel:e,message:t,showContextMenuHint:n},r))})}},e.exports=t.default},6099:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(4)),a=i(n(1));n(449),n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=!1,u=!1,s=!1,d=!1,f=!1,c=!1,p=null,h=null;function y(){l=!1}function m(){d=!1}function v(){f=!1}function _(){c=!0}function E(){c=!1}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"isBusy",get:function(){return l||u||c||s}},{key:"isUpdatingPaymentSource",get:function(){return u}},{key:"isRemovingPaymentSource",get:function(){return s}},{key:"isSyncing",get:function(){return d||f}},{key:"editSourceError",get:function(){return p}},{key:"removeSourceError",get:function(){return h}}]),t}(o.default.Store);t.default=new g(a.default,{BILLING_PAYMENT_SOURCE_CREATE_START:function(e){l=!0},BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return y()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:function(e){return y()},STRIPE_TOKEN_FAILURE:function(e){return y()},BILLING_PAYMENT_SOURCE_REMOVE_START:function(e){s=!0},BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS:function(e){s=!1},BILLING_PAYMENT_SOURCE_REMOVE_FAIL:function(e){var t=e.error;s=!1,h=t},BILLING_PAYMENT_SOURCE_REMOVE_CLEAR_ERROR:function(e){h=null},BILLING_PAYMENT_SOURCE_UPDATE_START:function(e){u=!0},BILLING_PAYMENT_SOURCE_UPDATE_SUCCESS:function(e){u=!1},BILLING_PAYMENT_SOURCE_UPDATE_FAIL:function(e){var t=e.error;u=!1,p=t},BILLING_PAYMENT_SOURCE_UPDATE_CLEAR_ERROR:function(e){p=null},BILLING_PAYMENT_SOURCES_FETCH_START:function(e){d=!0},BILLING_PAYMENT_SOURCES_FETCH_SUCCESS:function(e){return m()},BILLING_PAYMENT_SOURCES_FETCH_FAIL:function(e){return m()},BILLING_SUBSCRIPTION_FETCH_START:function(e){f=!0},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return v()},BILLING_SUBSCRIPTION_FETCH_FAIL:function(e){return v()},BILLING_SUBSCRIPTION_UPDATE_START:function(e){return _()},BILLING_SUBSCRIPTION_CANCEL_START:function(e){return _()},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:function(e){return E()},BILLING_SUBSCRIPTION_UPDATE_FAIL:function(e){return E()},BILLING_SUBSCRIPTION_CANCEL_FAIL:function(e){return E()},BILLING_SUBSCRIPTION_CANCEL_SUCCESS:function(e){return E()}}),e.exports=t.default},6100:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(6535)),o=l(n(136)),a=l(n(58)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var i=o,l=a.default.getEligibleExperiment(i);if(null!=l)return l}return null}t.default={getFirstEligibleUserExperiment:u,isInExperimentBucket:function(e,t){return a.default.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.name!==t.name)return!1;if(e.type===i.ExperimentTypes.USER&&t.type===i.ExperimentTypes.USER)return(0,r.default)(e.context,t.context)}return!0},triggerFirstEligibleUserExperiment:function(e){var t=u(e);if(t)return o.default.trigger(t),t},getExperimentBucketName:function(e){return e===i.ExperimentBuckets.CONTROL?"Control":e===i.ExperimentBuckets.NOT_ELIGIBLE?"Not Eligible":"Treatment "+e}},e.exports=t.default},6101:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderBarIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=R(n(17));n(223);var u=R(n(4)),s=R(n(80)),d=R(n(830)),f=R(n(6882)),c=R(n(22)),p=R(n(51)),h=R(n(311)),y=R(n(128)),m=R(n(152)),v=R(n(6236)),_=R(n(306)),E=R(n(827)),g=R(n(442)),S=n(314),T=n(6883),I=n(858),C=R(n(456)),N=R(n(6885)),A=R(n(6890)),O=n(0),b=R(n(13)),M=R(n(5549));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D="RECENT_MENTIONS_POPOUT",U=t.HeaderBarIcon=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.tooltip,r=e.onClick,l=e.foreground,u=e.noMargin,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["name","tooltip","onClick","foreground","noMargin"]),d=a(v.default.Icon,{name:t,onClick:r,foreground:l,noMargin:u});return null!=n?i.createElement(g.default,o({text:n,position:g.default.Positions.BOTTOM},s),d):d},t}(i.PureComponent);U.displayName="HeaderBarIcon";var k=u.default.connectStores([f.default],function(){return{state:f.default.getState()}})(function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.state={clicked:!1},r.handleInstallDownload=function(){r.state.clicked||(r.setState({clicked:!0}),(0,T.quitAndInstall)())},L(r,n)}return w(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.state!==this.props.state&&this.setState({clicked:!1})},t.prototype.render=function(){var e=void 0,t=void 0,n=void 0,r=void 0;switch(this.props.state){case O.ActionTypes.UPDATE_NOT_AVAILABLE:case O.ActionTypes.UPDATE_ERROR:break;case O.ActionTypes.CHECKING_FOR_UPDATES:e=_.default.Names.UPDATE_AVAILABLE,n=b.default.Messages.CHECKING_FOR_UPDATES;break;case O.ActionTypes.UPDATE_AVAILABLE:e=_.default.Names.DOWNLOADING,n=b.default.Messages.UPDATE_AVAILABLE;break;case O.ActionTypes.UPDATE_MANUALLY:e=_.default.Names.DOWNLOADING,n=b.default.Messages.UPDATE_MANUALLY,r=this.handleDownloadApps;break;case O.ActionTypes.UPDATE_DOWNLOADED:e=_.default.Names.UPDATE,t=M.default.updateIconForeground,n=b.default.Messages.UPDATE_DOWNLOADED,r=this.handleInstallDownload}return null==e||null==n?null:a(U,{tooltip:n,onClick:r,name:e,foreground:t})},t.prototype.handleDownloadApps=function(){s.default.push(C.default,{source:"Links"})},t}(i.PureComponent)),G=a(v.default.Divider,{}),x=a(k,{}),F=function(e){function t(){var n,r;P(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=L(this,e.call.apply(e,[this].concat(l))),r.renderRecentMentionsPopout=function(e){return i.createElement(N.default,o({},e,{onJump:r.handleMentionsJump,channel:c.default.getChannel(p.default.getChannelId()),popoutName:D}))},L(r,n)}return w(t,e),t.prototype.renderTitle=function(){var e=this.props.title;return null==e?null:a(v.default.Title,{className:M.default.title},void 0,e)},t.prototype.renderSearch=function(){var e=this.props,t=e.guildId;return null!=e.channelId?a(A.default,{className:M.default.search},t):null},t.prototype.renderBackButton=function(){var e=this.props,t=e.isAuthenticated,n=e.backLocation,r=e.backText;if(null==n)return null;var o=a(y.default.Link,{look:y.default.Looks.BLANK,size:y.default.Sizes.NONE,to:n,className:M.default.back},void 0,a(_.default,{name:_.default.Names.ARROW_LEFT})),i=t?g.default.Positions.BOTTOM:g.default.Positions.RIGHT;return I.isMobile?o:a(g.default,{text:r,position:i},void 0,o)},t.prototype.renderStandardToolbar=function(e){var t=this.props.isGuest;return I.isMobile?null:a(i.Fragment,{},void 0,e?G:null,x,t?null:a(E.default,{animationType:E.default.Animations.NONE,uniqueId:D,position:E.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:O.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,a(U,{name:_.default.Names.MENTION,tooltip:b.default.Messages.MENTIONS})),a(h.default,{href:S.SUPPORT_LOCATION,target:"_blank"},void 0,a(U,{name:_.default.Names.QUESTION_MARK,tooltip:b.default.Messages.HELP})))},t.prototype.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return a(v.default,{className:(0,l.default)(M.default.headerBarLoggedOut,n)},void 0,a("div",{className:M.default.headerBarLoggedOutInner},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(m.default.Child,{},void 0,t):null))},t.prototype.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.renderToolbar,r=e.className,o=null!=n?n():null,l=null!=o&&i.Children.count(o)>0;return a(v.default,{className:r},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(m.default.Child,{},void 0,t):null,a("div",{className:M.default.toolbar},void 0,o,l?this.renderSearch():null,this.renderStandardToolbar(l)))},t.prototype.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},t.prototype.handleMentionsJump=function(e){e.shiftKey||d.default.close(D)},t}(i.PureComponent);F.defaultProps={isAuthenticated:!0,backText:b.default.Messages.BACK},F.displayName="HeaderBarContainer",t.default=F},6103:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),y(n(308))),i=y(n(309)),l=y(n(443)),u=y(n(4)),s=n(6053),d=y(n(6054)),f=y(n(226)),c=y(n(5982)),p=n(0),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"ChannelMuteItem",mixins:[u.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{channel:i.default.object.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isMuted:f.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},render:function(){return o(c.default,{label:h.default.Messages.MUTE_CHANNEL.format({name:this.props.channel.toString(!0)}),action:this.handleChannelMute,active:this.state.isMuted})},handleChannelMute:function(){var e=this.state.isMuted,t=this.props.channel;d.default.updateChannelOverrideSettings(t.getGuildId(),t.id,{muted:!e}),t.type===p.ChannelTypes.GUILD_CATEGORY&&(e?(0,s.categoryExpand)(t.id):(0,s.categoryCollapse)(t.id))}});t.default=m,e.exports=t.default},6104:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(17)),u=y(n(6083)),s=y(n(306)),d=y(n(6055)),f=y(n(442)),c=n(0),p=y(n(13)),h=y(n(5384));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderOwner=function(){var e=this.props,t=e.ownerIconClass,n=e.ownerTooltipText,r=void 0===n?null:n,o=e.ownerIconColor;return a(f.default,{text:r},void 0,a(s.default,{name:s.default.Names.CROWN,className:(0,l.default)(h.default.ownerIcon,t),color:o}))},t.prototype.render=function(){var e,t=this.props,n=t.user,r=t.nick,s=t.hideDiscriminator,f=t.invertBotTagColor,c=t.className,p=t.usernameClass,y=t.discriminatorClass,m=t.botClass,v=t.isOwner,_=(t.ownerIconClass,t.ownerTooltipText,t.ownerIconColor,t.showMobileIndicator),E=t.mobileIndicatorClassName,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["user","nick","hideDiscriminator","invertBotTagColor","className","usernameClass","discriminatorClass","botClass","isOwner","ownerIconClass","ownerTooltipText","ownerIconColor","showMobileIndicator","mobileIndicatorClassName"]),S=null!=r?r:n.toString();return i.createElement("div",o({className:(0,l.default)(c,h.default.nameTag)},g),a("span",{className:p},void 0,S),s?null:a("span",{className:(0,l.default)(y,(e={},e[h.default.discriminatorWithMobileIndicator]=_,e))},void 0,"#",n.discriminator),_?a(d.default,{className:E}):null,v?this.renderOwner():null,n.bot?a(u.default,{invertColor:f,className:(0,l.default)(m,h.default.bot)}):null)},t}(i.PureComponent);m.defaultProps={usernameClass:h.default.username,discriminatorClass:h.default.discriminator,ownerTooltipText:p.default.Messages.GUILD_OWNER,ownerIconColor:c.Colors.STATUS_YELLOW},m.displayName="NameTag",t.default=m,e.exports=t.default},6105:function(e,t,n){"use strict";t.__esModule=!0,t.MemberListRowTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=g(n(159)),a=g(n(6)),i=g(n(483)),l=g(n(4)),u=g(n(1)),s=g(n(100)),d=g(n(12)),f=g(n(22)),c=g(n(469)),p=g(n(72)),h=g(n(28)),y=g(n(132)),m=g(n(323)),v=g(n(15)),_=n(0),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var T="everyone",I=t.MemberListRowTypes=(0,o.default)({GROUP:null,MEMBER:null});function C(e,t,n,r){switch(t){case _.StatusTypes.ONLINE:case _.StatusTypes.OFFLINE:case _.StatusTypes.UNKNOWN:return{type:I.GROUP,key:t,id:t,get title(){switch(t){case _.StatusTypes.ONLINE:return E.default.Messages.STATUS_ONLINE;case _.StatusTypes.OFFLINE:return E.default.Messages.STATUS_OFFLINE;default:return E.default.Messages.STATUS_UNKNOWN}},count:n,index:r};default:var o=h.default.getGuild(e),a=null!=o?o.getRole(t):null;return{type:I.GROUP,key:t,id:t,title:null!=a?a.name:"",count:n,index:r}}}function N(e,t,n){var o=n===d.default.getId(),a=o?m.default.getStatus():y.default.getStatus(n,e),i=o?m.default.getPrimaryActivity():y.default.getPrimaryActivity(n,e),l=v.default.getUser(n);return null==l?null:r({type:I.MEMBER},p.default.getMember(e,n),{user:l,status:a,activity:i,isOwner:t===n})}function A(e){var t=f.default.getChannel(e);return null==t?T:null==t.memberListId?function(e){if(s.default.canEveryone(_.Permissions.VIEW_CHANNEL,e))return T;return i.default.v3((0,a.default)(e.permissionOverwrites).reduce(function(e,t){var n=t.id,r=t.allow,o=t.deny;return(r&_.Permissions.VIEW_CHANNEL)>0?e.push("allow:"+n):(o&_.Permissions.VIEW_CHANNEL)>0&&e.push("deny:"+n),e},[]).sort().join(",")).toString()}(t):t.memberListId}var O=function(){function e(t,n){S(this,e),this.rows=[],this.groups=[],this.members={},this.version=0,this.guildId=t,this.listId=n,this.updateOwnerId()}return e.prototype.updateOwnerId=function(){var e=h.default.getGuild(this.guildId);if(null==e)return!1;var t=a.default.some(e.roles,function(e){return e.hoist&&(e.permissions&_.Permissions.ADMINISTRATOR)===_.Permissions.ADMINISTRATOR})?null:e.ownerId;return this.ownerId!==t&&(this.ownerId=t,!0)},e.prototype.setGroups=function(e){var t=this,n=0;this.groups=e.map(function(e){var r=n;return n+=e.count+1,C(t.guildId,e.id,e.count,r)}),this.rows.length=n},e.prototype.sync=function(e,t){var n=this,r=e[0];t.forEach(function(e,t){return n.update(r+t,e)})},e.prototype.invalidate=function(e){for(var t=e[0],n=e[1],r=t;r<=n;r++){var o=this.rows[r];if(null==o)break;delete this.rows[r],o.type===I.MEMBER&&delete this.members[o.user.id]}this.version++},e.prototype.insert=function(e,t){var n=t.group,r=t.member;if(null!=n)this.rows.splice(e,0,C(this.guildId,n.id,n.count));else if(null!=r){var o=N(this.guildId,this.ownerId,r.user.id);if(null==o)return;this.rows.splice(e,0,o),this.members[r.user.id]=o}this.version++},e.prototype.update=function(e,t){var n=t.group,r=t.member,o=this.rows[e];if(null!=o&&o.type===I.MEMBER&&delete this.members[o.user.id],null!=n)this.rows[e]=C(this.guildId,n.id,n.count);else if(null!=r){var a=N(this.guildId,this.ownerId,r.user.id);if(null==a)return;this.rows[e]=a,this.members[r.user.id]=a}this.version++},e.prototype.delete=function(e){var t=this.rows[e];null!=t&&(t.type===I.MEMBER&&delete this.members[t.user.id],this.rows.splice(e,1),this.version++)},e.prototype.rebuildMember=function(e){var t=this.members[e];null!=t&&(Object.assign(t,N(this.guildId,this.ownerId,e)),this.version++)},e.prototype.rebuildMembers=function(){var e=this;a.default.forEach(this.members,function(t,n){e.rebuildMember(n)})},e}(),b=new(function(){function e(){S(this,e),this._guildLists={}}return e.prototype.get=function(e,t){var n=this._guildLists[e];null==n&&(n=this._guildLists[e]={});var r=n[t];return null==r&&((r=new O(e,t)).setGroups([{id:_.StatusTypes.UNKNOWN,count:c.default.getMemberCount(e)||0}]),n[t]=r),r},e.prototype.forEach=function(e,t){if(null==e)a.default.forEach(this._guildLists,function(e){a.default.forEach(e,t)});else{var n=this._guildLists[e];null!=n&&a.default.forEach(n,t)}},e.prototype.delete=function(e){delete this._guildLists[e]},e.prototype.reset=function(){this._guildLists={}},e}());function M(){b.reset()}function R(e){var t=e.guildId,n=e.user;b.forEach(t,function(e){return e.rebuildMember(n.id)})}function P(){var e=d.default.getId();b.forEach(null,function(t){return t.rebuildMember(e)})}var L=function(e){function t(){return S(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(v.default,h.default,f.default,p.default,y.default,m.default,d.default,c.default),this.syncWith([m.default],P)},t.prototype.getProps=function(e,t){var n=b.get(e,A(t));return{listId:n.guildId+":"+n.listId,groups:n.groups,rows:n.rows,version:n.version}},t}(l.default.Store);t.default=new L(u.default,{CONNECTION_OPEN:function(e){return M()},OVERLAY_INITIALIZE:function(e){return M()},GUILD_MEMBER_LIST_UPDATE:function(e){var t=b.get(e.guildId,e.id);e.ops.forEach(function(e){var n=e.op,r=e.index,o=e.item,a=e.range,i=e.items;switch(n){case"SYNC":t.sync(a,i);break;case"INVALIDATE":t.invalidate(a);break;case"INSERT":t.insert(r,o);break;case"UPDATE":t.update(r,o);break;case"DELETE":t.delete(r)}}),t.setGroups(e.groups)},GUILD_UPDATE:function(e){var t=e.guild;b.forEach(t.id,function(e){e.updateOwnerId()&&e.rebuildMembers()})},GUILD_DELETE:function(e){var t=e.guild;b.delete(t.id)},GUILD_ROLE_UPDATE:function(e){var t=e.guildId;b.forEach(t,function(e){return e.rebuildMembers()})},GUILD_MEMBER_UPDATE:R,PRESENCE_UPDATE:R,CHANNEL_UPDATE:function(e){return!0}})},6106:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=C(n(17)),u=C(n(6192)),s=C(n(158)),d=n(224),f=n(180),c=C(n(6263)),p=C(n(311)),h=C(n(152)),y=C(n(5988)),m=C(n(6012)),v=C(n(6137)),_=C(n(129)),E=C(n(442)),g=n(0),S=C(n(13)),T=C(n(5367)),I=C(n(5389));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={USER_POPOUT:"UserPopout",ACTIVITY_FEED:"ActivityFeed",PROFILE:"Profile"},M=64,R=160,P=((o={})[b.USER_POPOUT]=[108,60],o[b.PROFILE]=[162,90],o[b.ACTIVITY_FEED]=[900,500],o),L=n(243).getAssetImage;var w=(0,u.default)(function(e){function t(){return N(this,t),A(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){return a("div",{className:I.default.timestamp},void 0,this.props.message)},t}(i.PureComponent)),D=function(e){function t(){var n,r;N(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=A(this,e.call.apply(e,[this].concat(a))),r.handleOpenSpotifyTrack=function(){var e=r.props,t=e.activity,n=e.onOpenSpotifyTrack;n&&n(t)},r.handleOpenSpotifyArtist=function(e){var t=r.props,n=t.activity,o=t.onOpenSpotifyArtist,a=t.user;o&&o(n,a.id,e)},r.handleOpenSpotifyAlbum=function(){var e=r.props,t=e.activity,n=e.onOpenSpotifyAlbum,o=e.user;n&&n(t,o.id)},A(r,n)}return O(t,e),t.prototype.getTypeClass=function(e,t){return(0,f.getClass)(I.default,e,this.props.type,t)},t.prototype.isStreamerOnTypeProfile=function(){return(0,d.isStreaming)(this.props.activity)&&this.props.type===b.PROFILE},t.prototype.isStreamerOnTypeActivityFeed=function(){return(0,d.isStreaming)(this.props.activity)&&this.props.type===b.ACTIVITY_FEED},t.prototype.renderHeader=function(e){var t=this.props,n=t.activity.name,r=t.hideHeader,o=t.applicationStreamData;if(r)return null;var i=void 0;switch(this.props.activity.type){case g.ActivityTypes.STREAMING:i=S.default.Messages.USER_ACTIVITY_HEADER_LIVE_ON_PLATFORM.format({platform:s.default.get(g.PlatformTypes.TWITCH).name});break;case g.ActivityTypes.LISTENING:i=S.default.Messages.USER_ACTIVITY_HEADER_LISTENING.format({name:n});break;case g.ActivityTypes.WATCHING:i=S.default.Messages.USER_ACTIVITY_HEADER_WATCHING.format({name:n});break;case g.ActivityTypes.PLAYING:i=(0,d.isOnXbox)(this.props.activity)?S.default.Messages.USER_ACTIVITY_HEADER_PLAYING_ON_PLATFORM.format({platform:s.default.get(g.PlatformTypes.XBOX).name}):S.default.Messages.USER_ACTIVITY_HEADER_PLAYING}return null!=o&&(i=S.default.Messages.USER_ACTIVITY_HEADER_STREAMING_TO_SERVER.format({server:o.guild.name})),a(_.default,{className:(0,f.getClass)(I.default,"headerText",e?"EmptyBody":"Normal"),weight:_.default.Weights.BOLD,size:_.default.Sizes.SMALL},void 0,i)},t.prototype.renderXboxImage=function(){return a("div",{className:I.default.xboxAssets},void 0,a("img",{alt:"",src:s.default.get(g.PlatformTypes.XBOX).icon.color3d,className:(0,l.default)(this.getTypeClass("assetsLargeImage","Xbox"))}))},t.prototype.renderImage=function(){var e,t=this.props,n=t.activity,r=t.type,o=n.assets,i=n.application_id;if(null==o||null==o.large_image)return null;var u=void 0;(0,d.isStreaming)(n)&&(u=P[r]);var s=a("img",{alt:o.large_text||"",src:L(i,o.large_image,u||[R,R]),className:(0,l.default)(this.getTypeClass("assetsLargeImage",this.isStreamerOnTypeProfile()||this.isStreamerOnTypeActivityFeed()?g.PlatformTypes.TWITCH:""),(e={},e[this.getTypeClass("assetsLargeMask")]=null!=o.small_image,e))});(0,d.isListeningOnSpotify)(n)&&(s=a(p.default,{onClick:this.handleOpenSpotifyAlbum},void 0,s)),this.isStreamerOnTypeActivityFeed()&&n.url&&(s=a("div",{className:I.default.twitchImageContainer},void 0,a("div",{className:I.default.twitchImageOverlay},void 0,a("h3",{className:I.default.streamName},void 0,n.name),a("div",{className:I.default.streamGame},void 0,S.default.Messages.STREAMER_PLAYING.format({game:n.details}))),a(p.default,{className:I.default.twitchBackgroundImage,href:n.url},void 0,s))),null!=o.large_text&&(s=a(E.default,{text:o.large_text,position:E.default.Positions.TOP},void 0,s));var f=void 0;return null!=o.small_image&&(f=a("img",{alt:o.small_text||"",src:L(i,o.small_image,[M,M]),className:this.getTypeClass("assetsSmallImage")}),null!=o.small_text&&(f=a(E.default,{text:o.small_text,position:E.default.Positions.TOP},void 0,f))),a("div",{className:I.default.assets},void 0,s,f)},t.prototype.renderGameImage=function(){var e=this.props,t=e.activity,n=e.user,r=e.type,o=e.renderGameOpener,i=e.game;return(0,d.hasRichActivity)(t)||t.type!==g.ActivityTypes.PLAYING||r===b.ACTIVITY_FEED||n.bot?null:o(a(y.default,{className:I.default.gameIcon,game:i}),i,T.default.iconHover)},t.prototype.renderName=function(){var e=this.props,t=e.activity,n=e.user,r=e.game,o=e.renderGameOpener,i=(0,d.isGameActivity)(t),l=t.name,u=t.details,s=l;return i&&null!=r?l=o(a("span",{className:I.default.activityName},void 0,l),r,T.default.textHover):i||(s=u,l=u,(0,d.isListeningOnSpotify)(t)&&null!=t.sync_id&&null!=u&&(l=a(p.default,{className:I.default.bodyLink,onClick:this.handleOpenSpotifyTrack},void 0,u))),null==l?null:a(_.default,{title:s,weight:_.default.Weights.SEMIBOLD,className:(0,f.getClass)(I.default,"name",n.bot||this.isStreamerOnTypeProfile()?"wrap":"normal")},void 0,l)},t.prototype.renderDetails=function(){var e=this,t=this.props.activity,n=t.details,r=t.state,o=n,i=n;if(!(0,d.isGameActivity)(t)&&(i=o=r,(0,d.isListeningOnSpotify)(t)&&null!=r)){o=S.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:i,artistsHook:function(n,o){return a(v.default,{artists:r,linkClassName:I.default.bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},o)}})}return null==o||0===o.length?null:((0,d.isStreaming)(t)&&(o=S.default.Messages.STREAMER_PLAYING.format({game:o})),a("div",{title:i,className:(0,d.isStreaming)(t)||(0,d.isListeningOnSpotify)(t)?I.default.detailsWrap:I.default.details},void 0,o))},t.prototype.renderTimePlayed=function(){var e=this.props.activity;if(!(0,d.isGameActivity)(e)||(0,d.isListeningOnSpotify)(e))return null;var t=e.timestamps;return null==t?null:(0,d.hasRichActivity)(e)?a(w,{timestamps:t}):a(m.default,{start:t.start,end:t.end,location:m.default.Locations.USER_ACTIVITY,className:I.default.playTime})},t.prototype.renderTimeBar=function(){var e=this.props.activity;if(!(0,d.isListeningOnSpotify)(e))return null;var t=e.timestamps;if(null==t)return null;var n=t.start,r=t.end;return null==n||null==r?null:a(c.default,{start:n,end:r,className:this.getTypeClass("timeBar")})},t.prototype.renderState=function(){var e=this,t=this.props.activity,n=t.state,r=t.party,o=t.assets,i=n,l=i;if(!(0,d.isGameActivity)(t)){if(null==o||null==o.large_text)return null;if(i=o.large_text,l=i,(0,d.isListeningOnSpotify)(t)){i=S.default.Messages.USER_ACTIVITY_LISTENING_ALBUM.format({album:l,albumHook:function(n,r){return null!=t.sync_id&&null!=l?a(p.default,{className:I.default.bodyLink,onClick:e.handleOpenSpotifyAlbum},r,l):l}})}}if(null==i||0===i.length)return null;var u=void 0;return null!=r&&null!=r.size&&r.size.length>=2&&(u=S.default.Messages.USER_ACTIVITY_STATE_SIZE.format({count:r.size[0],max:r.size[1]})),a("div",{className:I.default.state},void 0,a("span",{title:l},void 0,i),null!=u?a("span",{},void 0," ",u):null)},t.prototype.render=function(){var e=this.props,t=e.activity,n=e.type,r=e.renderActions,o=e.className,i=e.hideName;if(null==t)return null;var u=n===b.USER_POPOUT,s=n===b.PROFILE,c=n===b.ACTIVITY_FEED,p=!1,y=void 0;(0,d.isOnXbox)(t)?(y=this.renderXboxImage(),p=!0):null==(y=this.renderImage())&&(p=null!=(y=this.renderGameImage()));var m=i?null:this.renderName(),v=this.renderDetails(),_=this.renderState(),E=this.renderTimePlayed(),g=null!=r?r():null,S=this.renderTimeBar(),T=![y,m,v,_,E,S,g].some(function(e){return null!=e});return a("div",{className:(0,l.default)(this.getTypeClass("activity"),o)},void 0,this.renderHeader(T),a("div",{className:p?I.default.bodyAlignCenter:I.default.bodyNormal},void 0,y,this.isStreamerOnTypeActivityFeed()?null:a(h.default.Child,{className:(0,l.default)((0,f.getClass)(I.default,"content",p?"GameImage":null!=y?"Images":"NoImages",n))},void 0,m,v,_,E,u?null:S,c?g:null),s?g:null),u?S:null,u?g:null)},t}(i.PureComponent);D.Types=b,D.displayName="UserActivity",t.default=D,e.exports=t.default},6107:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.fetchSettings=function(){var e={};!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeAutosubscribedGames&&(e.include_autosubscribed_games=!0);o.default.get({url:u.Endpoints.USER_FEED_SETTINGS,query:e}).then(function(e){a.default.dispatch({type:u.ActionTypes.USER_FEED_SETTINGS_FETCH_SUCCESS,settings:r({autosubscribed_games:[]},e.body)})})},t.dismissPersonalizationNotice=function(){a.default.dispatch({type:u.ActionTypes.ACTIVITY_FEED_DISMISS_PERSONALIZATION_NOTICE})},t.dismissNoGamesNotice=function(){a.default.dispatch({type:u.ActionTypes.ACTIVITY_FEED_DISMISS_NO_GAMES_NOTICE})},t.fetchUnknownUnsubscribedUsers=function(){var e=i.default.unsubscribedUserIds,t=Array.from(e).filter(function(e){return null==l.default.getUser(e)});if(0===t.length)return void a.default.dispatch({type:u.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:[]});var n={user_ids:t};o.default.get({url:u.Endpoints.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS,query:n}).then(function(e){a.default.dispatch({type:u.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:e.body.unsubscribed_users})})};var o=s(n(8)),a=s(n(1)),i=s(n(451)),l=s(n(15)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}},6108:function(e,t,n){"use strict";t.__esModule=!0,t.sync=t.ConflictError=void 0;t.sync=(r=regeneratorRuntime.mark(function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:u.ActionTypes.GAME_CLOUD_SYNC_START,applicationId:t,branchId:n}),r=void 0,e.prev=2,e.next=5,l.syncApplication(t,n,o);case 5:if((r=e.sent).type!==u.CloudSyncResultTypes.CONFLICT){e.next=11;break}throw a.default.dispatch({type:u.ActionTypes.GAME_CLOUD_SYNC_CONFLICT,applicationId:t,branchId:n,next:r.next,remote:r.remote}),new f("Conflict in cloud sync.");case 11:r.type!==u.CloudSyncResultTypes.PULL&&r.type!==u.CloudSyncResultTypes.PUSH||d.info("Sync complete",r);case 12:e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(2),!(e.t0 instanceof f)){e.next=18;break}throw e.t0;case 18:throw a.default.dispatch({type:u.ActionTypes.GAME_CLOUD_SYNC_ERROR,applicationId:t,branchId:n}),d.error("Failed to cloud sync:",e.t0),new Error("Failed to cloud sync.");case 21:return a.default.dispatch({type:u.ActionTypes.GAME_CLOUD_SYNC_COMPLETE,applicationId:t,branchId:n}),e.abrupt("return",r);case 23:case"end":return e.stop()}},e,this,[[2,14]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e,t){return o.apply(this,arguments)});var r,o,a=s(n(1)),i=s(n(65)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(889)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=i.default.create("CloudSync"),f=t.ConflictError=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.message=t}},6110:function(e,t,n){"use strict";t.__esModule=!0,t.ArrowDirections=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=d(n(17)),u=d(n(887)),s=d(n(5395));function d(e){return e&&e.__esModule?e:{default:e}}var f=t.ArrowDirections={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"},c=((o={})[f.UP]=s.default.up,o[f.RIGHT]=s.default.right,o[f.DOWN]=s.default.down,o[f.LEFT]=s.default.left,o),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.direction,r=t.onClick,o=t.className;return a(u.default,{className:(0,l.default)(s.default.arrow,o,(e={},e[c[n]]=!0,e)),onClick:r})},t}(i.PureComponent);p.Directions=f,p.displayName="Arrow",t.default=p},6111:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=M(n(2)),u=b(n(17)),s=b(n(4)),d=M(n(307)),f=b(n(5980));n(130);var c=b(n(320)),p=b(n(156)),h=b(n(43)),y=b(n(64)),m=b(n(230)),v=b(n(128)),_=b(n(221)),E=b(n(306)),g=b(n(6018)),S=b(n(442)),T=M(n(5986)),I=b(n(9)),C=b(n(6050)),N=n(0),A=b(n(13)),O=b(n(5402));function b(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=R(this,e.call.apply(e,[this].concat(i))),r.handleDropdownClick=function(e){e.stopPropagation();var t=r.props,n=t.libraryApplication,o=t.onDropdownOpen,i=t.onDropdownClose,u=t.analyticsContext;if(o&&o(e),null==n)throw new Error("Unexpected missing libraryApplication");d.openContextMenu(e,function(e){return l.createElement(C.default,a({},e,{type:N.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS,applicationId:n.id,branchId:n.branchId,onPlay:r.handleClick,analyticsContext:u}))},{onClose:i})},r.handleClick=function(e){var t=r.props,n=t.applicationId,o=t.libraryApplication,a=t.analyticsListSort,i=t.analyticsListIndex,l=t.onClick;T.playApplication(n,o,{analyticsParams:{location:r.analyticsLocation,list_sort:a,list_index:i}}),l&&l(e)},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDropdown=function(){var e=this.props.dispatchState;return null!=e&&null!=e.launchOptions&&Object.keys(e.launchOptions).length>1?o(_.default,{className:O.default.dropdownArrowHitbox,onClick:this.handleDropdownClick},void 0,o("div",{className:O.default.arrowSeparator}),o(E.default,{name:E.default.Names.ARROW_DROP_DOWN,className:O.default.dropdownArrow})):null},t.prototype.renderDisabledButton=function(e,t){var n=this.props,r=n.className,a=n.fullWidth,i=n.size,l=n.customDisabledColor,u=n.tooltipPosition;return o("div",{className:O.default.disabledButtonWrapper},void 0,o(v.default,{className:r,fullWidth:a,size:i,color:null!=l?l:O.default.disabledButtonColor,disabled:!0},void 0,e),o(S.default,{text:t,position:u},void 0,o("div",{className:O.default.disabledButtonOverlay})))},t.prototype.render=function(){var e=this.props,t=e.className,n=e.fullWidth,r=e.size,a=e.color,i=e.isLaunchable,l=e.isLaunching,s=e.isRunning,d=e.isShiny,f=e.hideNotLaunchable;if(!i)return f?null:this.renderDisabledButton(A.default.Messages.GAME_ACTION_BUTTON_PLAY,I.default.embedded?A.default.Messages.GAME_ACTION_BUTTON_GAME_NOT_DETECTED:A.default.Messages.GAME_ACTION_BUTTON_PLAY_DISABLED_DESKTOP_APP);if(s)return this.renderDisabledButton(A.default.Messages.GAME_ACTION_BUTTON_NOW_PLAYING);var c=d?g.default:v.default;return o(c,{className:(0,u.default)(O.default.playButton,t),innerClassName:O.default.playButtonContents,fullWidth:n,size:r,color:null!=a?a:v.default.Colors.GREEN,hover:null!=a?v.default.Hovers.GREEN:v.default.Hovers.DEFAULT,submitting:l,onClick:this.handleClick},void 0,o("div",{className:O.default.buttonText},void 0,A.default.Messages.GAME_ACTION_BUTTON_PLAY),this.renderDropdown())},i(t,[{key:"analyticsLocation",get:function(){return a({},this.props.analyticsContext.location,{object:N.AnalyticsObjects.BUTTON_CTA})}}]),t}(l.PureComponent);P.defaultProps={fullWidth:!1,size:v.default.Sizes.LARGE,tooltipPosition:S.default.Positions.TOP,isShiny:!1,hideNotLaunchable:!1},P.displayName="ApplicationPlayButton",t.default=s.default.connectStores([h.default,y.default,m.default,c.default],function(e){var t=e.applicationId,n=e.libraryApplication,r=new Set(y.default.getRunningVerifiedApplicationIds());return{isLaunchable:c.default.isConnected(t)||h.default.isLaunchable(t)||null!=n&&p.default.isLaunchable(n.id,n.branchId),isLaunching:h.default.launchingGames.has(t),isRunning:r.has(t),dispatchState:null!=n?p.default.getState(n.id,n.branchId):null}})((0,f.default)(P)),e.exports=t.default},6112:function(e,t,n){"use strict";t.__esModule=!0,t.getApplicationTrailer=function(e){return o+"/"+e+"/trailer.mp4"},t.getApplicationBackground=function(e){return o+"/"+e+"/hero-background.jpg"},t.getStoreListingLink=function(e){var t=void 0;t=location.protocol+"//"+location.host;return""+t+r.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug)};var r=n(0),o="https://cdn.discordapp.com/store-directory-assets/applications"},6113:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={saveDraft:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_SAVE,channelId:e,draft:t})},changeDraft:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_CHANGE,channelId:e,draft:t})}},e.exports=t.default},6114:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(6)),o=l(n(879)),a=l(n(832)),i=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}var u=new o.default({maxAge:6e4}),s=void 0;t.default={requestMembers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=(e||"")+":"+t;null==u.get(o)&&(u.set(o,!0),function(e,t,n){null!=s&&clearTimeout(s),s=setTimeout(function(){var o=[],l=function(e){o.push(e.id)};if(null==e)r.default.forEach(i.default.getGuilds(),l);else{var u=i.default.getGuild(e);null!=u&&l(u)}o.length>0&&a.default.requestMembers(o,t.toLocaleLowerCase(),n)},200)}(e,t,n))},getAcronym:function(e){return null!=e?e.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,""):""}},e.exports=t.default},6115:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={show:function(){this.deactivateRagingDemon(),a.default.dispatch({type:i.ActionTypes.SHOW_KEYBOARD_SHORTCUTS})},hide:function(){a.default.dispatch({type:i.ActionTypes.HIDE_KEYBOARD_SHORTCUTS})},activateRagingDemon:function(){a.default.dispatch({type:i.ActionTypes.ACTIVATE_RAGING_DEMON})},deactivateRagingDemon:function(){a.default.dispatch({type:i.ActionTypes.DEACTIVATE_RAGING_DEMON})}},e.exports=t.default},6116:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=I(n(6205)),i=I(n(6384)),l=I(n(6)),u=I(n(4)),s=n(57),d=I(n(1)),f=I(n(452)),c=I(n(327)),p=I(n(6206)),h=I(n(6014)),y=I(n(18)),m=I(n(9)),v=n(240),_=I(n(46)),E=I(n(473)),g=I(n(185)),S=I(n(312)),T=n(0);function I(e){return e&&e.__esModule?e:{default:e}}var C={},N={},A=0,O=!0,b={},M=[T.KeybindCustomActions.PUSH_TO_TALK,T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,T.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET];function R(e){if(m.default.embedded)m.default.inputEventUnregister(parseInt(e,10));else if(C[e]){var t=N[e],n=b[t.action];n&&!0===n.isPressed&&r.nextTick(function(){return n.onTrigger(!1)}),C[e].reset(),C[e]=null}}function P(e){if(O&&!__OVERLAY__){var t=e.shortcut,n=e.action,r=e.context;if(""!==t&&null!=t&&n!==T.KeybindCustomActions.UNASSIGNED)if(null!=b[n]){var l=e.id,u=b[n].keyEvents;!function(e,t,n,r){if(m.default.embedded)m.default.inputEventRegister(parseInt(e),t,n,r);else{R(e);var o=(0,i.default)(new a.default(document));r.keyup&&o.bindGlobal((0,v.toString)(t),function(){return n(!1)},"keyup"),r.keydown&&o.bindGlobal((0,v.toString)(t),function(){return n(!0)},"keydown"),C[e]=o}}(l,t,function(e){return function(e,t,n){var r=N[e];null!=r&&b[r.action].onTrigger(t,n)}(l,e,r)},o({focused:!0,blurred:!0,keydown:!1,keyup:!1},u)),h.default.validateKeybind((0,v.toString)(e.shortcut))}else console.error("KeybindStore: Looking for callback action "+n+" but it doesn't exist in this version. Skipping")}}function L(e){var t,n=o({id:A.toString(),action:T.KeybindCustomActions.UNASSIGNED,shortcut:[],managed:!1},e);return N=o({},N,((t={})[n.id]=n,t)),A+=1,n}function w(e){R(e.id),delete(N=o({},N))[e.id]}function D(e){var t,n=e.keybind;N=o({},N,((t={})[n.id]=n,t)),__OVERLAY__||(y.default.track(T.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!0,keybind_has_shortcut:!!n.shortcut.length}),n.action===T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?y.default.track(T.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{hotkey:n.action===T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?(0,v.toString)(n.shortcut):null}):n.action===T.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&y.default.track(T.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_activation_hotkey:n.action===T.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET?(0,v.toString)(n.shortcut):null})),P(n)}function U(){return!1!==(e=_.default.getShortcuts(),l.default.each(N,function(t){t.action!==T.KeybindCustomActions.PUSH_TO_TALK||!0!==t.managed||null!=t.context&&null!=e[t.context]||w(t)}),l.default.reduce(_.default.getShortcuts(),function(e,t,n){var r=l.default.find(N,function(e){return e.action===T.KeybindCustomActions.PUSH_TO_TALK&&!0===e.managed&&e.context===n});if(null==r)P(L({action:T.KeybindCustomActions.PUSH_TO_TALK,shortcut:t,managed:!0,context:n}));else{if(null==t)return e||!1;D({keybind:o({},r,{shortcut:"string"==typeof t?(0,v.toCombo)(t):t,context:n})})}return!0},!1)||function(){if(E.default.enabled){if(null!=l.default.find(N,function(e){return e.action===T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed}))return!1;var e=(0,v.toCombo)("shift+`");P(L({action:T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,shortcut:e,managed:!0}))}}()||function(){if(!E.default.enabled)return!1;if(null!=l.default.find(N,function(e){return e.action===T.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed}))return!1;var e=(0,v.toCombo)("]");P(L({action:T.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,shortcut:e,managed:!0}))}());var e}b[T.KeybindCustomActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},b[T.KeybindCustomActions.PUSH_TO_TALK]={onTrigger:function(e,t){_.default.getMode(t)===T.InputModes.PUSH_TO_TALK&&(b[T.KeybindCustomActions.PUSH_TO_TALK].isPressed=e,_.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!1)},t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},b[T.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){_.default.getMode()===T.InputModes.PUSH_TO_TALK&&(b[T.KeybindCustomActions.PUSH_TO_TALK_PRIORITY].isPressed=e,_.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!0)},s.MediaEngineContextTypes.DEFAULT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},b[T.KeybindCustomActions.PUSH_TO_MUTE]={onTrigger:function(e){_.default.getMode()===T.InputModes.VOICE_ACTIVITY&&(_.default.isSelfDeaf()||(b[T.KeybindCustomActions.PUSH_TO_MUTE].isPressed=e,f.default.setTemporarySelfMute(e)))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},b[T.KeybindCustomActions.TOGGLE_MUTE]={onTrigger:function(){f.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},b[T.KeybindCustomActions.TOGGLE_DEAFEN]={onTrigger:function(){f.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},b[T.KeybindCustomActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=_.default.getMode()===T.InputModes.PUSH_TO_TALK?T.InputModes.VOICE_ACTIVITY:T.InputModes.PUSH_TO_TALK;f.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},b[T.KeybindCustomActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=E.default.enabled;c.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},b[T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=E.default.getFocusedPID();null!=t&&(E.default.isReady(t)||E.default.isCrashed(t))&&(e?c.default.setUILocked(!g.default.isUILocked(t),t):c.default.setInputLocked(!E.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},b[T.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=E.default.getFocusedPID();null!=e&&(null!=e||!1)&&g.default.isPinned(T.OverlayWidgets.TEXT)&&E.default.isReady(e)&&E.default.isInputLocked(e)&&c.default.activateRegion(T.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},b[T.KeybindCustomActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){p.default.setEnabled(!S.default.enabled)},keyEvents:{keyup:!0,keydown:!1}};var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){__OVERLAY__||this.waitFor(_.default,E.default),N=e||{},l.default.forEach(N,function(e){A=Math.max(parseInt(e.id,10),A)+1;try{P(e)}catch(t){console.error("Failed to register keybind",e,t)}})},t.prototype.getState=function(){return N},t.prototype.getKeybindList=function(){var e=[];for(var t in N)N.hasOwnProperty(t)&&e.push((0,v.toString)(N[t].shortcut));return e},t.prototype.getOverlayKeybind=function(){return l.default.find(N,function(e){return e.action===T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed})},t.prototype.getOverlayChatKeybind=function(){return l.default.find(N,function(e){return e.action===T.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed})},t}(u.default.PersistedStore);k.persistKey="keybinds",k.migrations=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.v,n=e.keybinds,r=void 0===n?e:n;return l.default.reduce(r,function(e,n,r){var o=parseInt(n.id,10);return isNaN(o)||n.id!==r?e:((null==t||t<2)&&("string"==typeof n.shortcut?(n.shortcut=n.shortcut.replace("escape","esc").replace("capslock","caps lock").replace("numlock","num lock").replace("pageup","page up").replace("pagedown","page down"),n.shortcut=(0,v.toCombo)(n.shortcut)):n.shortcut=n.shortcut.map(function(e){return e.length<3?[].concat(e,[(0,v.getEnv)()]):e})),e[r]=n,e)},{})},function(e){return Object.keys(e).filter(function(t){var n=e[t];return M.includes(n.action)&&!0===n.managed}).length!==M.length?(U(),N):e}],t.default=new k(d.default,{CONNECTION_OPEN:function(e){return U()},AUDIO_SET_MODE:function(e){return U()},OVERLAY_SET_ENABLED:function(e){return U()},RPC_APP_CONNECTED:function(e){return U()},RPC_APP_DISCONNECTED:function(e){return U()},KEYBINDS_ADD_KEYBIND:function(e){L()},KEYBINDS_DELETE_KEYBIND:function(e){var t=e.id,n=N[t];__OVERLAY__||y.default.track(T.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!1,keybind_has_shortcut:!1}),null!=n&&w(n)},KEYBINDS_SET_KEYBIND:D,KEYBINDS_ENABLE_ALL_KEYBINDS:function(e){var t=e.enable;O=t,t?(h.default.enable(),l.default.forEach(N,P)):(h.default.disable(),l.default.forEach(N,function(e){return R(e.id)}))}}),e.exports=t.default}).call(this,n(52))},6117:function(e,t,n){"use strict";t.__esModule=!0,t.SearchIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=p(n(17)),u=p(n(221)),s=p(n(152)),d=p(n(444)),f=p(n(13)),c=p(n(5436));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=t.SearchIcon=function(e){var t,n,r,o=e.onClear,i=e.className,s=e.hasContent,f=e.isLoading;return a(u.default,{className:(0,l.default)(c.default.searchBarIcon,(t={},t[c.default.loading]=f,t),i),onClick:o},void 0,f&&a(d.default,{type:d.default.Type.SPINNING_CIRCLE,className:(0,l.default)(c.default.icon,c.default.spinner)}),a("div",{className:c.default.controls},void 0,a("i",{className:(0,l.default)(c.default.icon,c.default.eyeGlass,(n={},n[c.default.visible]=!s,n))}),a("i",{className:(0,l.default)(c.default.icon,c.default.clear,(r={},r[c.default.visible]=s,r))})))};y.displayName="SearchIcon";var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.inputRef=i.createRef(),r.handleOnChange=function(e){var t=r.props.onChange;t&&t(e.currentTarget.value)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.focus=function(){var e=this.inputRef.current;null!=e&&e.focus()},t.prototype.render=function(){var e=this.props,t=e.query,n=e.autoFocus,r=e.onClear,u=e.className,d=e.placeholder,f=e.iconClassName,p=e.onKeyDown,h=e.onKeyUp,m=e.onKeyPress,v=e.isLoading,_=(e.onChange,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["query","autoFocus","onClear","className","placeholder","iconClassName","onKeyDown","onKeyUp","onKeyPress","isLoading","onChange"]));return i.createElement(s.default,o({className:(0,l.default)(c.default.searchBar,u)},_),i.createElement("input",{className:c.default.input,value:t,onChange:this.handleOnChange,onKeyDown:p,onKeyUp:h,onKeyPress:m,placeholder:d,autoFocus:n,ref:this.inputRef}),a(y,{hasContent:t.length>0,onClear:r,className:f,isLoading:v}))},t}(i.PureComponent);m.defaultProps={placeholder:f.default.Messages.SEARCH,isLoading:!1},m.displayName="SearchBar",t.default=m},6118:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=W(n(4)),u=W(n(6094)),s=n(307),d=W(n(5985)),f=W(n(157)),c=W(n(80)),p=n(6170),h=n(6090),y=W(n(12)),m=W(n(6389)),v=W(n(43)),_=W(n(232)),E=W(n(28)),g=W(n(153)),S=W(n(312)),T=W(n(154)),I=n(5979),C=W(n(827)),N=n(835),A=W(n(6442)),O=W(n(6445)),b=W(n(6446)),M=n(6027),R=n(109),P=n(6211),L=W(n(319)),w=W(n(9)),D=W(n(6046)),U=W(n(6074)),k=W(n(6472)),G=n(6224),x=W(n(6504)),F=W(n(6516)),j=W(n(6098)),B=W(n(6123)),H=W(n(5353)),V=n(0),Y=W(n(5351));function W(e){return e&&e.__esModule?e:{default:e}}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var z=function(e){var t=e.guildId;return g.default.can(V.Permissions.MANAGE_GUILD,{guildId:t})},$=function(e){var t=e.message,n=e.channel,r=e.canChat,o=e.renderReactions,a=e.canAddNewReactions,i=e.isLurking,l=n.isPrivate(),u=t.type!==V.MessageTypes.DEFAULT,s=!u&&(r||l);return{disableReactionReads:!o,disableReactionCreates:i||!s||!(!u&&(!0===a||l)),disableReactionUpdates:i||!s}},q=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=Array(l),h=0;h<l;h++)c[h]=arguments[h];return n=r=K(this,e.call.apply(e,[this].concat(c))),r.onResize=function(e){var t=e.target,n=e.isEditing,o=r.props,a=o.onEdit,i=o.onUpdate;n?a&&t&&a(t):i&&t&&i(t)},r.onClickUsername=function(e,t){var n=t.user;if(e.shiftKey&&!n.isNonUserBot()){var o=r.props.disablePersonalInformation,a=n.username,i=n.tag,l="@"+(o?a:i);R.ComponentDispatch.dispatchToLastSubscribed(V.ComponentActions.INSERT_TEXT,{content:l}),e.preventDefault(),e.stopPropagation();var u=r.props.channel;null!=u&&D.default.typing(u.id)}},r.onContextMenuMessage=function(e,t){if(w.default.embedded){var n=t.message.type!==V.MessageTypes.DEFAULT?V.ContextMenuTypes.MESSAGE_SYSTEM:V.ContextMenuTypes.MESSAGE_MAIN;(0,s.openContextMenu)(e,function(e){return i.createElement(F.default,a({},e,t,{type:n}))})}},r.onContextMenuUser=function(e,t){var n=t.user,r=t.channel;(0,P.openUserContextMenu)(e,n,r)},r.renderAccessories=function(e){var t=e.message,n=r.props,l=n.compact,u=n.channel,s=n.accessoriesClassName,d=n.gifAutoPlay,f=n.renderReactions,c=n.canAddNewReactions,p=n.inlineAttachmentMedia,h=n.inlineEmbedMedia,y=n.renderEmbeds,m=n.canChat,v=n.isLurking,_=$({message:t,channel:u,canChat:m,renderReactions:f,canAddNewReactions:c,isLurking:v});return o(N.BackgroundOpacityContext.Consumer,{},void 0,function(e){return i.createElement(k.default,a({},_,{className:s,message:t,channel:u,isCompact:l,disableAutoPlayGif:!d,disableEmbeds:!y,inlineAttachmentMedia:p,inlineEmbedMedia:h,onContextMenuMessage:r.onContextMenuMessage,backgroundOpacity:e.backgroundOpacity}))})},r.renderButtonsMessage=function(e){var t=e.message,n=e.channel,a=t.state===V.MessageStates.SENDING,l=r.props,s=l.developerMode,c=l.canManageMessages,h=l.messageOption,y=l.currentUserId,m=l.canPromoteNews;if(!1===h||a)return null;var v=t.author,_=c||v.id===y,E=t.type!==V.MessageTypes.DEFAULT,g=!E&&(c||n.isPrivate()),S=!E&&r.props.canEdit,T=r.props,I=T.canChat,C=T.canAddNewReactions,N=T.renderReactions,A=T.isLurking,M=$({message:t,channel:n,canChat:I,renderReactions:N,canAddNewReactions:C,isLurking:A}).disableReactionCreates,R=void 0;if(m){var P=L.default.findNewsLink(t);if(null!=P){var w=null!=P.embed&&P.embed.type===V.EmbedTypes.APPLICATION_NEWS;R=o(b.default,{isEdit:w,onClick:function(){return(0,p.open)(t,n)}})}}return o(i.Fragment,{},void 0,R,!M&&!E&&o(G.ButtonAddReaction,{message:t,channel:n}),o(O.default,{channel:n,message:t,developerMode:s,canEdit:S,canPin:g,canDelete:_,onStartEditMessage:f.default.startEditMessage,onRetrySendMessage:f.default.retrySendMessage,onDeleteMessage:f.default.deleteMessage,onConfirmDelete:j.default.confirmDelete,onConfirmPin:j.default.confirmPin,onOpenGuildSettings:d.default.open,onUnpinMessage:u.default.unpinMessage,onConfirmUnpin:j.default.confirmUnpin,onCanManageGuild:z,onShowReactionsModal:r.renderReactionsModal,currentUserId:y}))},r.renderEditor=function(e){var t=e.value,n=e.message,r=e.channel,a=e.onChange,i=e.onSubmit,l=e.onKeyDown,u=e.onResize;return o(U.default,{className:Y.default.marginTop8,value:t,channel:r,type:V.TextareaTypes.EDIT,onChange:a,onSubmit:i,onKeyDown:l,onResize:u},n.id)},r.renderPopoutUser=function(e){return i.createElement(H.default,e)},r.renderSystemMessage=function(e){return i.createElement(x.default,a({},e,{key:e.message.id,onContextMenu:r.onContextMenuMessage}))},K(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validateEdit=function(e){var t=e.value,n=e.channel;return(0,M.applyChatRestrictions)(null,t,n,!1,!1)},t.prototype.renderReactionsModal=function(e){var t=e.message;c.default.push(B.default,{message:t})},t.prototype.render=function(){var e=this,t=this.props,n=t.onClickAnywhere,r=t.hasDivider,l=t.compact,u=t.canFlash,s=t.enableInteraction,d=t.messages,c=t.channel,p=t.jumpSequenceId,y=t.jumpMessageId,m=t.registerMessageDOMNode,v=t.renderMentioned,_=t.groupOption,E=t.editingMessageId,g=t.disableInteractionLabel,S=t.editingContent,T=t.isFocusedWindow,I=t.className,C=t.cozyClassName,O=t.canChat,b=t.renderReactions,M=t.canAddNewReactions,R=t.gifAutoPlay,P=t.renderEmbeds,L=t.canManageMessages,w=t.developerMode,D=t.isLurking,U=t.canPromoteNews,k={messages:d,channel:c,jumpSequenceId:p,jumpMessageId:y,registerMessageDOMNode:m,editingMessageId:E,disableInteractionLabel:g,editingContent:S,isFocusedWindow:T},G=a({},$({message:d[0],channel:c,canChat:O,renderReactions:b,canAddNewReactions:M,isLurking:D}),{disableAutoPlayGif:!R,disableEmbeds:!P,disableManageMessages:!L,disableDeveloperMode:!w,disablePromoteButton:!U});return o(N.BackgroundOpacityContext.Consumer,{},void 0,function(t){return i.createElement(A.default,a({isCompact:l,onClick:n,disableDivider:r,disableJumpFlash:!u,disableInteraction:!s,disableMentionStyles:!v,onResize:e.onResize,validateEdit:e.validateEdit,onCancelEditing:f.default.endEditMessage,onConfirmDelete:j.default.confirmDelete,onChange:f.default.updateEditMessage,saveMessage:f.default.editMessage,editingMessageId:E,onManualAck:h.manualAck,onClickUsername:e.onClickUsername,onContextMenuMessage:e.onContextMenuMessage,onContextMenuUser:e.onContextMenuUser,onDeleteMessage:f.default.deleteMessage,renderAccessories:e.renderAccessories,renderButtonsMessage:e.renderButtonsMessage,renderEditor:e.renderEditor,renderPopoutUser:e.renderPopoutUser,renderSystemMessage:e.renderSystemMessage,renderButtonsGroup:_,className:I,cozyClassName:C,backgroundOpacity:t.backgroundOpacity},k,G))})},t}(i.Component);q.defaultProps={canManageMessages:!1,hasDivider:!1,popoutPosition:C.default.Positions.RIGHT,avatarSize:I.AvatarSizes.LARGE,compact:!1,messageOption:!0,canEdit:!0,jumpTargetIndex:-1,enableInteraction:!0,developerMode:!1,canFlash:!0,renderMentioned:!0,inlineAttachmentMedia:!1,inlineEmbedMedia:!1,gifAutoPlay:!1,renderEmbeds:!1,renderEmbedsSmall:!1,renderReactions:!0,canChat:!1},q.displayName="ConnectedMessageGroup",t.default=l.default.connectStores([m.default,y.default,T.default,g.default,v.default,E.default],function(e){var t=e.channel,n=e.messages,r=e.canEdit,o=t.id,a=t.getGuildId(),i=!1!==r&&n.some(function(e){return e&&m.default.isEditing(o,e.id)}),l=i?m.default.getEditingMessageId():null,u=i?m.default.getEditingContent():null,s=T.default.isFocused(),d=S.default.hidePersonalInformation,f=_.default.isLurking(a),c=E.default.getGuild(a),p=v.default.getApplicationsForGuild(a),h=t.type===V.ChannelTypes.GUILD_NEWS,I=null!=c&&c.hasFeature(V.GuildFeatures.NEWS),C=g.default.can(V.Permissions.SEND_MESSAGES,t),N=null!=p&&p.length>0;return{currentUserId:y.default.getId(),editingMessageId:l,isFocusedWindow:s,disablePersonalInformation:d,editingContent:u,isLurking:f,canPromoteNews:h&&I&&C&&N}})(q),e.exports=t.default},6119:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),i=(r=a)&&r.__esModule?r:{default:r},l=n(0);var u={};u=n(6453),t.default=o({},u,{cancel:function(e){i.default.dispatch({type:l.ActionTypes.UPLOAD_CANCEL_REQUEST,file:e})}}),e.exports=t.default},6120:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=d(n(4)),a=d(n(1)),i=d(n(494)),l=d(n(9)),u=n(0),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var f=null,c="",p="",h=[],y=[],m=l.default.isOSX()?u.TenorFormats.MEDIUMGIF:u.TenorFormats.MP4,v=[];var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getAnalyticsID=function(){return f},t.prototype.getQuery=function(){return c},t.prototype.getResultQuery=function(){return p},t.prototype.getResultItems=function(){return h},t.prototype.getTrendingCategories=function(){return y},t.prototype.getSelectedFormat=function(){return m},t.prototype.getSuggestions=function(){return v},t}(o.default.Store);t.default=new _(a.default,{GIF_PICKER_INITIALIZE:function(e){f=e.analyticsID},GIF_PICKER_QUERY:function(e){""===(c=e.query)&&(p="",h=[],v=[])},GIF_PICKER_QUERY_SUCCESS:function(e){if(null!=e.query&&c===p)return!1;null!=e.query&&(p=e.query),h=e.items.map(function(e){return{width:e.width,height:e.height,src:e.src,url:e.url,id:e.id,format:function(e){switch(e){case u.GIPHYFormats.FIXED_HEIGHT_MP4:case u.GIPHYFormats.FIXED_HEIGHT_SMALL_MP4:case u.GIPHYFormats.FIXED_WIDTH_MP4:case u.GIPHYFormats.FIXED_WIDTH_SMALL_MP4:case u.GIPHYFormats.DOWNSIZED_SMALL_MP4:case u.GIPHYFormats.ORIGINAL_MP4:case u.TenorFormats.MP4:case u.TenorFormats.TINYMP4:case u.TenorFormats.NANOMP4:case u.TenorFormats.WEBM:case u.TenorFormats.TINYWEBM:case u.TenorFormats.NANOWEBM:return!0;default:return!1}}(m)?u.GIFResultFormat.VIDEO:u.GIFResultFormat.IMAGE}})},GIF_PICKER_QUERY_FAILURE:function(e){var t=e.query;if(null==t)return!1;p=t,h=[]},GIF_PICKER_TRENDING_FETCH_SUCCESS:function(e){var t=e.trendingCategories;y=[{type:u.GIFPickerResultTypes.TRENDING_GIFS,icon:i.default.TRENDING_UP,name:s.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS,src:e.trendingGIFPreview.src,format:u.GIFResultFormat.IMAGE}].concat(t.map(function(e){return r({},e,{type:u.GIFPickerResultTypes.TRENDING_CATEGORY,format:u.GIFResultFormat.IMAGE})}))},GIF_PICKER_SUGGESTIONS_SUCCESS:function(e){var t=e.items;v=t}}),e.exports=t.default},6121:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5469));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n=e.tag,r=void 0===n?"div":n,l=e.padded,u=void 0===l||l,s=e.inset,d=void 0!==s&&s,f=e.className,c=e.children,p=e.onClick,h=e.onMouseEnter,y=e.onMouseLeave;return o(r,{onClick:p,onMouseEnter:h,onMouseLeave:y,className:(0,a.default)(f,(t={},t[i.default.outer]=!d,t[i.default.inset]=d,t[i.default.padded]=u,t[i.default.interactive]=null!=p,t))},void 0,c)},e.exports=t.default},6122:function(e,t,n){"use strict";t.__esModule=!0,t.ResponsiveLoadingEmbedTile=t.ResponsiveEmbedTile=t.HORIZONTAL_EMBED_BREAKPOINT=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=d(n(17)),u=d(n(6226)),s=d(n(5474));function d(e){return e&&e.__esModule?e:{default:e}}t.HORIZONTAL_EMBED_BREAKPOINT=660;var f=t.ResponsiveEmbedTile=function(e){var t;return i.createElement(u.default,a({},e,{className:(0,l.default)(e.className,(t={},t[s.default.embedVertical]=!e.isHorizontal,t[s.default.embedHorizontal]=e.isHorizontal,t))}))};f.displayName="ResponsiveEmbedTile",(t.ResponsiveLoadingEmbedTile=function(e){var t=e.isHorizontal;return i.createElement(f,a({},e,{media:function(){var e;return o("div",{className:(0,l.default)(s.default.loadingDescription)},void 0,o("div",{className:(0,l.default)(s.default.loadingBackgroundWrapper,(e={},e[s.default.loadingBackgroundWrapperHorizontal]=t,e))},void 0,o("div",{className:s.default.loadingBackground})))},title:function(){var e;return o("div",{className:(0,l.default)(s.default.loadingImage,(e={},e[s.default.loadingImageHorizontal]=t,e))})}}))}).displayName="ResponsiveLoadingEmbedTile"},6123:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=F(n(2)),u=x(n(17)),s=x(n(6)),d=x(n(4)),f=n(307),c=F(n(465)),p=x(n(5352)),h=x(n(188)),y=x(n(22)),m=x(n(72)),v=x(n(901)),_=x(n(228)),E=x(n(35)),g=x(n(15)),S=x(n(221)),T=x(n(152)),I=x(n(306)),C=x(n(222)),N=x(n(313)),A=x(n(444)),O=x(n(129)),b=x(n(442)),M=x(n(82)),R=x(n(164)),P=x(n(100)),L=x(n(5994)),w=x(n(6026)),D=x(n(850)),U=n(0),k=x(n(5351)),G=x(n(5485));function x(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=function(e){function t(){return j(this,t),B(this,e.apply(this,arguments))}return H(t,e),t.prototype.render=function(){var e,t=this.props,n=t.emoji,r=t.count,o=t.selected,a=t.setSelected,l=null==n.id?R.default.getURL(n.name):M.default.getEmojiURL({id:n.id,animated:n.animated}),s=void 0;s=null==n.id?h.default.convertSurrogateToName(n.name):":"+n.name+":";var d=l?i("img",{className:G.default.emoji,src:l,alt:n.name}):i("span",{className:(0,u.default)(G.default.emoji,G.default.emojiText)},void 0,n.name);return i(b.default,{position:b.default.Positions.LEFT,text:s},void 0,i(S.default,{className:(0,u.default)((e={},e[G.default.reactionDefault]=!o,e[G.default.reactionSelected]=o,e)),onClick:a},void 0,d,i(O.default,{color:O.default.Colors.PRIMARY,className:G.default.count},void 0,r)))},t}(l.PureComponent);V.displayName="Reaction";var Y=function(e){function t(n){j(this,t);var r=B(this,e.call(this,n));return r.renderUserContextMenu=r.renderUserContextMenu.bind(r),r.removeReaction=r.removeReaction.bind(r),r}return H(t,e),t.prototype.removeReaction=function(){var e=this.props,t=e.emoji,n=e.user,r=e.message,o=e.channel;c.removeReaction(o.id,r.id,t,n.id)},t.prototype.renderUserContextMenu=function(e){var t=this;(0,f.openContextMenu)(e,function(e){return l.createElement(p.default,a({},e,{type:U.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id}))})},t.prototype.render=function(){var e,t=this.props,n=t.user,r=t.guildId,o=t.channel,a=t.final,l=P.default.can(U.Permissions.MANAGE_MESSAGES,g.default.getCurrentUser(),o)?i(S.default,{onClick:this.removeReaction},void 0,i(I.default,{name:I.default.Names.CLOSE,width:16,height:16,className:G.default.remove})):null,s=null!=r&&m.default.getNick(r,n.id);return i(T.default,{className:(0,u.default)((e={},e[G.default.reactorDefault]=!a,e[G.default.reactorFinal]=a,e)),onContextMenu:this.renderUserContextMenu,align:T.default.Align.CENTER},void 0,i(T.default.Child,{wrap:!0,grow:0,shrink:0,className:k.default.marginReset},void 0,i(L.default,{user:n,size:"xsmall"})),i(T.default.Child,{},void 0,i(O.default,{color:O.default.Colors.PRIMARY,className:G.default.name},void 0,s&&i("span",{className:G.default.nickname},void 0,s),i(w.default,{user:n,className:s?G.default.tagFaded:G.default.tag,discriminatorClass:G.default.discriminator}))),l)},t}(l.PureComponent);Y.displayName="Reactor";var W=d.default.connectStores([v.default],function(e){var t=e.message,n=e.reaction,r=v.default.getReactions(t.getChannelId(),t.id,n.emoji);return{hasMore:n.count>Object.keys(r).length,reactors:Object.values(r)}})(function(e){function t(n){j(this,t);var r=B(this,e.call(this,n));return r.handleScroll=r.handleScroll.bind(r),r.state={lastId:null,loadingMore:!1},r}return H(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.loadMore()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;s.default.isEqual(this.props.reaction,e.reaction)||this.setState({lastId:null,loadingMore:!1},function(){return t.loadMore()})},t.prototype.handleScroll=function(){var e=this.refs.SCROLLER_REF.getScrollerNode();e.scrollTop+e.offsetHeight>=e.scrollHeight-44&&this.props.hasMore&&!this.state.loadingMore&&this.loadMore()},t.prototype.loadMore=function(){var e=this,t=this.props,n=t.message,r=t.reaction,o=this.state.lastId;this.setState({loadingMore:!0}),c.getReactions(n.getChannelId(),n.id,r.emoji,o).then(function(t){return e.setState({loadingMore:!1,lastId:t[t.length-1].id})})},t.prototype.render=function(){var e=this.props,t=e.message,n=e.guildId,r=e.channel,o=e.reaction,a=e.hasMore,u=e.reactors,s=u.map(function(e,a){return i(Y,{message:t,emoji:o.emoji,guildId:n,channel:r,user:e,final:a===u.length-1},e.id)});return!s.length&&this.state.loadingMore?s.push(i(A.default,{className:G.default.spinner},"loadingMore")):a&&s.push(i(A.default,{className:G.default.spinnerMore},"hasMore")),l.createElement(D.default,{outerClassName:G.default.reactors,className:"scroller",fade:!0,theme:D.default.Themes.GHOST_HAIRLINE,ref:"SCROLLER_REF",onScroll:a?this.handleScroll:void 0,elementHeight:44,batchEndMultiplier:2},s)},t}(l.PureComponent)),K=i(A.default,{}),z=function(e){function t(n){j(this,t);var r=B(this,e.call(this,n)),o=r.props.reactions;return r.state={selectedReaction:o[0]},r}return H(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e){var t=this.props,n=t.reactions,o=t.onClose;n.length!==e.reactions.length&&0===e.reactions.length&&r(o)},t.prototype.setSelectedReaction=function(e){this.setState({selectedReaction:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.message,r=t.reactions,o=this.state.selectedReaction;if(!o)return K;var u=y.default.getChannel(n.getChannelId());if(null==u)throw new Error("MessageReactions.render: Message does not have a channelId");var d=null==u||u.isPrivate()?null:u.getGuildId(),f=r.map(function(e,t){return a({},e,{pos:t})}).sort(function(e,t){return e.count!==t.count?t.count-e.count:e.pos-t.pos}).map(function(t){return l.createElement(V,a({key:(t.emoji.id||"")+":"+t.emoji.name,selected:s.default.isEqual(o.emoji,t.emoji),setSelected:function(){return e.setSelectedReaction(t)}},t))});return i(C.default,{size:G.default.size,className:G.default.container},void 0,i(N.default,{outerClassName:G.default.sidebar,className:G.default.scroller,theme:N.default.Themes.GHOST_HAIRLINE,fade:!0},void 0,f),i(W,{message:n,reaction:o,guildId:d,channel:u},(o.emoji.id||"")+":"+o.emoji.name))},t}(l.PureComponent);z.displayName="MessageReactions",t.default=d.default.connectStores([_.default,E.default],function(e){var t=e.message,n=_.default.getMessage(t.getChannelId(),t.id),r=null!=n?n.reactions:[];return{theme:E.default.theme,reactions:r}})(z),e.exports=t.default}).call(this,n(29).setImmediate)},6124:function(e,t,n){"use strict";t.__esModule=!0,t.formatExpiration=c;var r,o=n(6609),a=(r=o)&&r.__esModule?r:{default:r};var i={type:"",gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},l=/[^0-9]/g,u=/[^0-9/]/g;function s(e){for(var t=d(e).split(""),n=f(e),r=0;r<n.gaps.length;){var o=n.gaps[r]+r;if(!(o<t.length))break;t.splice(o,0," "),r+=1}return t.join("")}function d(e){return e.replace(l,"")}function f(e){var t=d(e);return t&&(0,a.default)(t)[0]||i}function c(e){var t=e.replace(u,"").split("/"),n=t[0],r=t[1],o=[];return parseInt(n,10)>12&&(n=n.substring(0,1)),o.push(n),(parseInt(n,10)>1||2===n.length||r)&&o.push("/"),r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2)),o.push(r),o.join("")}t.default={DEFAULT_CARD_TYPE:i,prettifyCreditCardNumber:s,formatCreditCardNumber:function(e){var t=d(e);return f(t),s(t)},getCreditCardType:f,cleanCardNumber:d,validateCardNumber:function(e){var t=f(e);if(null==t)throw new Error("Could not recognize card type.");if(!t.lengths.includes(e.length))throw new Error("Card number length is incorrect.")},getTypeInfo:function(e){return a.default.getTypeInfo(e)},formatExpiration:c}},6125:function(e,t,n){"use strict";t.__esModule=!0,t.ShowDatePicker=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getSearchOptionAnswer=function(e){switch(e){case d.SearchTokenTypes.FILTER_FROM:return f.default.Messages.SEARCH_ANSWER_FROM;case d.SearchTokenTypes.FILTER_MENTIONS:return f.default.Messages.SEARCH_ANSWER_MENTIONS;case d.SearchTokenTypes.FILTER_HAS:return f.default.Messages.SEARCH_ANSWER_HAS;case d.SearchTokenTypes.FILTER_BEFORE:case d.SearchTokenTypes.FILTER_ON:case d.SearchTokenTypes.FILTER_AFTER:return f.default.Messages.SEARCH_ANSWER_DATE;case d.SearchTokenTypes.FILTER_IN:return f.default.Messages.SEARCH_ANSWER_IN;case d.SearchTokenTypes.FILTER_FILE_TYPE:return f.default.Messages.SEARCH_ANSWER_FILE_TYPE;case d.SearchTokenTypes.FILTER_FILE_NAME:return f.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!d.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case d.SearchTokenTypes.ANSWER_BEFORE:case d.SearchTokenTypes.ANSWER_ON:case d.SearchTokenTypes.ANSWER_AFTER:var r=e.getData("start"),o=e.getData("end");return r&&(t.min_id=s.default.fromTimestamp(r)),void(o&&(t.max_id=s.default.fromTimestamp(o)))}var a=function(e){var t=u.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[a]&&(t[a]=new Set);var i=t[a];switch(n){case d.SearchTokenTypes.ANSWER_USERNAME_FROM:case d.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:i.add(e.getData("user").id);break;case d.SearchTokenTypes.ANSWER_FILE_TYPE:case d.SearchTokenTypes.ANSWER_FILE_NAME:i.add(e.getMatch(1));break;case d.SearchTokenTypes.ANSWER_IN:i.add(e.getData("channel").id);break;case d.SearchTokenTypes.ANSWER_HAS:i.add(e.getData("has"));break;default:i.add(e.getFullMatch().trim())}}});for(var n=Object.entries(t),r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a,l=i[0],f=i[1];f instanceof Set&&(t[l]=Array.from(f))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===i.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var r=void 0,o=void 0,a=e.find(function(a,i){return t>=a.start&&t<=a.end&&n>=a.start&&n<=a.end?(e[i+1]&&(o=e[i+1]),!0):(r=a,!1)});if(!a)return null;return{previousToken:r,currentToken:a,nextToken:o,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n=e=e||{},r=n.currentToken,o=n.nextToken,a=n.previousToken;if(0===t.length)return{type:d.SearchPopoutModes.EMPTY,filter:null,token:null};if(!r)return{type:d.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(d.IS_SEARCH_FILTER_TOKEN.test(r.type)){if(!o||o.type===i.default.NON_TOKEN_TYPE)return{type:d.SearchPopoutModes.FILTER,filter:r.type,token:o};if(o&&!d.IS_SEARCH_ANSWER_TOKEN.test(o.type))return{type:d.SearchPopoutModes.FILTER,filter:r.type,token:null}}if(r.type===i.default.NON_TOKEN_TYPE&&a&&d.IS_SEARCH_FILTER_TOKEN.test(a.type))return{type:d.SearchPopoutModes.FILTER,filter:a.type,token:r};var l=void 0;r.type===i.default.NON_TOKEN_TYPE&&(l=r);return{type:d.SearchPopoutModes.FILTER_ALL,filter:null,token:l}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,a.default)(e).forEach(function(e){if(e&&e.results.length){var r=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===d.SearchPopoutModes.FILTER_ALL){r=e.group||r;var o=u.default[r];o&&o.key&&(n=o.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return h.tokenize(e)},t.clearTokenCache=function(){return h.clearCache()},t.showDatePicker=function(e){return p[e]},t.filterHasAnswer=function(e,t){var n=d.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!d.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,l.refreshSearchTokens)(),h.reset(),(0,a.default)(u.default).forOwn(function(e,t){return h.addRule(o({type:t},e))})};var a=c(n(6)),i=c(n(6177)),l=n(6126),u=c(l),s=c(n(115)),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.ShowDatePicker=((r={})[d.SearchTokenTypes.FILTER_BEFORE]=!0,r[d.SearchTokenTypes.FILTER_AFTER]=!0,r[d.SearchTokenTypes.FILTER_ON]=!0,r);var h=new i.default},6126:function(e,t,n){"use strict";t.__esModule=!0,t.ComponentTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getRandomDateShortcut=function(){return i.default.sample(U())},t.refreshSearchTokens=function(){Object.assign(V,(t=[E.default.Messages.SEARCH_ANSWER_HAS_LINK,E.default.Messages.SEARCH_ANSWER_HAS_EMBED,E.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,E.default.Messages.SEARCH_ANSWER_HAS_VIDEO,E.default.Messages.SEARCH_ANSWER_HAS_IMAGE,E.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[_.SearchTokenTypes.FILTER_FROM]={regex:R(E.default.Messages.SEARCH_FILTER_FROM),componentType:H.FILTER,key:M(E.default.Messages.SEARCH_FILTER_FROM),validator:j,getAutocompletions:x},e[_.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[_.SearchTokenTypes.FILTER_FROM],regex:B,validator:P,mutable:!0,componentType:H.ANSWER,queryKey:"author_id"},e[_.SearchTokenTypes.FILTER_MENTIONS]={regex:R(E.default.Messages.SEARCH_FILTER_MENTIONS),componentType:H.FILTER,key:M(E.default.Messages.SEARCH_FILTER_MENTIONS),validator:j,getAutocompletions:x},e[_.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[_.SearchTokenTypes.FILTER_MENTIONS],regex:B,validator:P,mutable:!0,componentType:H.ANSWER,queryKey:"mentions"},e[_.SearchTokenTypes.FILTER_HAS]={regex:R(E.default.Messages.SEARCH_FILTER_HAS),componentType:H.FILTER,key:M(E.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,r){return G(e,r,t)}},e[_.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return v.default.escape(e)}).join("|")+"))","i"),follows:[_.SearchTokenTypes.FILTER_HAS],validator:D,componentType:H.ANSWER,queryKey:"has"},e[_.SearchTokenTypes.FILTER_FILE_TYPE]={regex:R(E.default.Messages.SEARCH_FILTER_FILE_TYPE),key:M(E.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:H.FILTER},e[_.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[_.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:H.ANSWER,queryKey:"attachment_extensions"},e[_.SearchTokenTypes.FILTER_FILE_NAME]={regex:R(E.default.Messages.SEARCH_FILTER_FILE_NAME),key:M(E.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:H.FILTER},e[_.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[_.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:H.ANSWER,queryKey:"attachment_filename"},e[_.SearchTokenTypes.FILTER_BEFORE]={regex:R(E.default.Messages.SEARCH_FILTER_BEFORE),componentType:H.FILTER,key:M(E.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return k(e,n,_.SearchTokenTypes.FILTER_BEFORE)}},e[_.SearchTokenTypes.FILTER_ON]={regex:R("("+E.default.Messages.SEARCH_FILTER_ON+"|"+E.default.Messages.SEARCH_FILTER_DURING+")"),componentType:H.FILTER,key:M(E.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return k(e,n,_.SearchTokenTypes.FILTER_ON)}},e[_.SearchTokenTypes.FILTER_AFTER]={regex:R(E.default.Messages.SEARCH_FILTER_AFTER),componentType:H.FILTER,key:M(E.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return k(e,n,_.SearchTokenTypes.FILTER_AFTER)}},e[_.SearchTokenTypes.ANSWER_BEFORE]={regex:b,follows:[_.SearchTokenTypes.FILTER_BEFORE],componentType:H.ANSWER,mutable:!0,validator:function(e){return L(e,"before")}},e[_.SearchTokenTypes.ANSWER_ON]={regex:b,follows:[_.SearchTokenTypes.FILTER_ON],componentType:H.ANSWER,mutable:!0,validator:function(e){return L(e,"on")}},e[_.SearchTokenTypes.ANSWER_AFTER]={regex:b,follows:[_.SearchTokenTypes.FILTER_AFTER],componentType:H.ANSWER,mutable:!0,validator:function(e){return L(e,"after")}},e[_.SearchTokenTypes.FILTER_IN]={regex:R(E.default.Messages.SEARCH_FILTER_IN),componentType:H.FILTER,key:M(E.default.Messages.SEARCH_FILTER_IN),validator:F,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var r=m.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var o=c.default.getChannelId(t),a=r.find(function(e){return e.id===o});a&&(r.splice(r.indexOf(a),1),r.unshift(a))}var l=s.default.getTextChannelNameDisambiguations(t);return(0,i.default)(r).take(n).map(function(e){return{text:""+l[e.id].name,channel:e}}).value()}},e[_.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[_.SearchTokenTypes.FILTER_IN],componentType:H.ANSWER,validator:w,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(V).length;return(0,i.default)(Object.keys(V)).filter(function(e){return _.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return V[e].key}).map(function(e){return{token:e,text:V[e].key}}).filter(function(t){var n=t.text;return(0,o.default)(e.toLowerCase(),n)}).take(t).value()};var o=g(n(6022)),a=g(n(159)),i=g(n(6)),l=g(n(5)),u=n(111),s=g(u),d=g(n(91)),f=g(n(6078)),c=g(n(51)),p=g(n(155)),h=g(n(312)),y=g(n(15)),m=g(n(6034)),v=g(n(186)),_=n(0),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}function S(){return new Set(l.default.months().map(function(e){return e.toLowerCase()}))}function T(){return new Set(l.default.weekdays().map(function(e){return e.toLowerCase()}))}function I(){var e=(new Date).getFullYear();return new Set(i.default.range(2015,e+1).map(function(e){return e.toString()}))}function C(e,t){return[e,e.clone().add(1,t)]}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return C((0,l.default)().startOf(e).add(t,e),e)}function A(e,t,n){return C((0,l.default)(e,t).local(),n)}function O(){var e;return(e={})[E.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return N("day")},e[E.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return N("day",-1)},e[E.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return N("week")},e[E.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return N("month")},e[E.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return N("year")},e}var b=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function M(e){return e+":"}function R(e){return new RegExp(M(e),"i")}function P(e){var t=void 0;return!!(t=e.getMatch(1)===_.ME?y.default.getCurrentUser():y.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function L(e,t){var n=e.getFullMatch().trim().toLowerCase(),r=O()[n],o=void 0,a=void 0;if(null!=r){var i=r();o=i[0],a=i[1]}else if(S().has(n)){var l=A(n,"MMMM","month");o=l[0],a=l[1]}else if(T().has(n)){var u=A(n,"dddd","day");o=u[0],a=u[1]}else if(I().has(n)){var s=A(n,"YYYY","year");o=s[0],a=s[1]}else{var d=A(n,_.SEARCH_DATE_FORMAT,"day");o=d[0],a=d[1]}return!(!o.isValid()||!a.isValid())&&("before"===t?(a=o,o=null):"after"===t&&(o=a,a=null),e.setData("start",o),e.setData("end",a),!0)}function w(e){var t=e.getMatch(1),n=p.default.getGuildId(),r=s.default.getChannels(n)[u.GUILD_SELECTABLE_CHANNELS_KEY],o=s.default.getTextChannelNameDisambiguations(n),a=i.default.chain(r).map(function(e){return e.channel}).find(function(e){return t===o[e.id].name}).value();return!!a&&(e.setData("channel",a),!0)}function D(e){var t,n=(t={},t[E.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[E.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[E.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[E.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[E.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[E.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function U(){return[].concat(Array.from(S()),Array.from(T()),Array.from(I()),Object.keys(O()))}function k(e,t,n){return G(e,t,U()).map(function(e){return r({},e,{group:n,key:n+"-"+e.text})})}function G(e,t,n){return(0,i.default)(n).filter(function(t){return(0,o.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=f.default.getSearchType(t);e=e.split("#")[0];var a=void 0;switch(o){case _.SearchTypes.GUILD:a=m.default.queryGuildUsers;break;case _.SearchTypes.CHANNEL:a=m.default.queryChannelUsers;break;default:return[]}return a(t,e,n,r).filter(function(e){var t=e.user;return!d.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function F(){return f.default.getSearchType()===_.SearchTypes.GUILD}function j(){return!h.default.hidePersonalInformation}var B=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,H=t.ComponentTypes=(0,a.default)({FILTER:null,ANSWER:null});var V={};t.default=V},6128:function(e,t,n){e.exports=n.p+"81b90eae4fc67502d59808a7c219ee65.png"},6129:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=u(this,t.call.apply(t,[this].concat(a))),e=r,r.state={isAuthenticated:l.default.isAuthenticated()},r.onStoreChange=function(){r.setState({isAuthenticated:l.default.isAuthenticated()})},u(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){l.default.addChangeListener(this.onStoreChange)},n.prototype.componentWillUnmount=function(){l.default.removeChangeListener(this.onStoreChange)},n.prototype.render=function(){return a.createElement(e,r({},this.props,{isAuthenticated:this.state.isAuthenticated}))},n}(a.Component)};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(12),l=(o=i)&&o.__esModule?o:{default:o};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6132:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.open=function(e,t,n){i.default.dispatch({type:l.ActionTypes.POPOUT_WINDOW_OPEN,key:e,features:r({},u,n),render:t})},t.close=function(e){i.default.dispatch({type:l.ActionTypes.POPOUT_WINDOW_CLOSE,key:e})};var o,a=n(1),i=(o=a)&&o.__esModule?o:{default:o},l=n(0);var u={menubar:!1,toolbar:!1,location:!1,directories:!1}},6133:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(8)),o=l(n(1)),a=l(n(12)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e,t){o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_OPEN,guildId:e,userId:t})},close:function(){o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_CLOSE})},changeNickname:function(e,t,n){var l=this;o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT});var u=void 0;u=a.default.getId()===t?i.Endpoints.GUILD_MEMBERS(e)+"/"+i.ME+"/nick":i.Endpoints.GUILD_MEMBERS(e)+"/"+t,r.default.patch({url:u,body:{nick:n}}).then(function(){return l.close()},function(e){o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE,errors:e.body||{}})})}},e.exports=t.default},6134:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(17)),l=u(n(877));function u(e){return e&&e.__esModule?e:{default:e}}var s=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],d=void 0,f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleSetRef=function(e){r._textArea=e},r.handleChange=function(e){var t=r.props.onChange;t&&t(e),r.calculateSize()},r.state={height:"auto"},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.calculateSize()},t.prototype.componentDidUpdate=function(e,t){if(this.state.height!==t.height){var n=this.props.onResize;n&&n(this.state.height)}e.value!==this.props.value&&this.calculateSize()},t.prototype.calculateSize=function(){var e=this._textArea;if(null!=e){var t=e.value;if(null!=this.props.fontWidthEstimate&&-1===t.indexOf("\n")&&t.length*this.props.fontWidthEstimate<.8*e.offsetWidth)this.setState({height:"auto"});else{null==d&&null!=document.body&&(d=document.createElement("textarea"),document.body.appendChild(d));var n=this.calculateNodeStyling(e),r=n.paddingSize,o=n.borderSize,a=n.boxSizing,i=n.sizingStyle;d.setAttribute("style",i+";\n  height:0;\n  visibility:hidden;\n  overflow:hidden;\n  position:absolute;\n  z-index:-1000;\n  top:0;\n  right:0;\n"),d.value=t;var l=d.scrollHeight;"border-box"===a?l+=o:"content-box"===a&&(l-=r),this.setState({height:l})}}},t.prototype.calculateNodeStyling=function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:s.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:r,borderSize:o,boxSizing:n}},t.prototype.clear=function(){null!=this._textArea&&(this._textArea.value=""),this.calculateSize()},t.prototype.blur=function(){this._textArea&&this._textArea.blur()},t.prototype.focus=function(){this._textArea&&this._textArea.focus()},t.prototype.setSelection=function(e,t){null!=this._textArea&&(this._textArea.selectionStart=e,this._textArea.selectionEnd=t)},t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["style","className"]);delete o.fontWidthEstimate,delete o.onResize;var u=r({},this.state,t);return a.createElement("textarea",r({},o,{className:(0,i.default)(n,l.default.scrollbarGhostHairline),ref:this.handleSetRef,style:u,onChange:this.handleChange}))},o(t,[{key:"selectionStart",get:function(){return this._textArea&&this._textArea.selectionStart||0}},{key:"selectionEnd",get:function(){return this._textArea&&this._textArea.selectionEnd||0}},{key:"value",get:function(){return this._textArea&&this._textArea.value||""}}]),t}(a.PureComponent);f.displayName="TextAreaAutosize",t.default=f,e.exports=t.default},6136:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(4)),u=n(467),s=S(n(5354)),d=S(n(22)),f=S(n(43)),c=S(n(28)),p=S(n(153)),h=S(n(134)),y=S(n(6106)),m=n(180),v=S(n(6158)),_=S(n(6197)),E=n(0),g=S(n(5365));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=T(this,e.call.apply(e,[this].concat(i))),r.renderGameOpener=function(e,t,n){var o=r.props,i=o.source,l=o.onOpenGameProfile;return a(v.default,{game:t,source:i,interactiveClassName:n,onOpen:l},void 0,e)},r.renderActions=function(){var e=r.props,t=e.type,n=e.source,o=e.activity,i=e.applicationStreamData,l=e.user,u=e.guildId,s=e.channelId,d=e.onOpenConnections;return a(_.default,{className:(0,m.getClass)(g.default,"actions",t),type:t,source:n,activity:o,applicationStreamData:i,user:l,guildId:u,channelId:s,onOpenConnections:d,showBuyDiscordGame:null==i})},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.showActions;return i.createElement(y.default,o({},this.props,{renderActions:e?this.renderActions:null,renderGameOpener:this.renderGameOpener,onOpenSpotifyTrack:this.handleOpenSpotifyTrack,onOpenSpotifyArtist:this.handleOpenSpotifyArtist,onOpenSpotifyAlbum:this.handleOpenSpotifyAlbum}))},t.prototype.handleOpenSpotifyTrack=function(e){(0,u.openTrack)(e)},t.prototype.handleOpenSpotifyArtist=function(e,t,n){(0,u.openArtist)(e,t,n)},t.prototype.handleOpenSpotifyAlbum=function(e,t){(0,u.openAlbum)(e,t)},t}(i.PureComponent);I.defaultProps={showActions:!0},I.displayName="UserActivityContainer";var C=l.default.connectStores([f.default,p.default,h.default,s.default],function(e){var t=e.activity,n=e.user,r=s.default.getStreamForUser(n.id),o=null;if(null!=r){var a=r.channelId,i=r.guildId,l=d.default.getChannel(a);if(null!=l)!p.default.can(E.Permissions.CONNECT,l)||(o={channel:d.default.getChannel(a),guild:c.default.getGuild(i)})}return{game:f.default.getGameByName(t.name),applicationStreamData:o}})(I);C.Types=y.default.Types,t.default=C,e.exports=t.default},6137:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(311),u=(o=l)&&o.__esModule?o:{default:o};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){var n,r;s(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props,t=e.onClick,n=e.index;t&&t(n)},d(r,n)}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.lastItem,r=e.className;return a("span",{},void 0,a(u.default,{className:r,onClick:this.handleClick},void 0,t),n?"":", ")},t}(i.PureComponent);c.displayName="SpotifyArtistLink";var p=function(e){function t(){var n,r;s(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.handleOpenSpotifyArtist=function(e){var t=r.props.onOpenSpotifyArtist;t&&t(e)},d(r,n)}return f(t,e),t.prototype.render=function(){var e=this,t=this.props.artists.split(";");if(!this.props.canOpen)return t.join(", ");var n=t.length-1;return t.map(function(t,r){return a(c,{text:t,index:r,lastItem:r===n,onClick:e.handleOpenSpotifyArtist,className:e.props.linkClassName},"spotify-artist-"+r)})},t}(i.PureComponent);p.displayName="SpotifyArtists",t.default=p,e.exports=t.default},6138:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.authorize=g;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=E(n(17)),i=E(n(308)),l=E(n(309)),u=E(n(443)),s=E(n(4)),d=E(n(336)),f=E(n(6070)),c=E(n(158)),p=E(n(6089)),h=E(n(444)),y=E(n(18)),m=E(n(9)),v=n(0),_=E(n(5408));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=Math.round(screen.width/2-350),r=screen.height>640?Math.round(screen.height/2-320):0,o=void 0;m.default.isDesktop()||(o=window.open(location.protocol+"//"+location.host+v.Routes.CONNECTIONS(e)+"?loading=true","authorize","scrollbars=yes,resizable=yes,toolbar=no,location=yes,top="+r+",left="+n+",width=700,height=640")),d.default.authorize(e,t).then(function(e){var t=e.body.url;null!=t&&(null!=o?o.location.href=t:window.open(t))})}var S=(0,i.default)({displayName:"ConnectAccountButton",mixins:[u.default,s.default.LazyStoreListenerMixin(p.default)],propTypes:{disabled:l.default.bool,type:l.default.string.isRequired,location:l.default.string.isRequired,className:l.default.string,innerClassName:l.default.string},getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isDetecting:p.default.isDetecting(this.props.type)}},handleConnect:function(e){var t=c.default.get(e);t.serverSync?g(t.type,"Friends List"):f.default.detectAccounts([t.type],this.props.location),y.default.track(v.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})},render:function(){var e=this,t=this.state.isDetecting,n=this.props,r=n.className,i=n.innerClassName,l=c.default.get(this.props.type),u=void 0;return t&&(u=o(h.default,{type:h.default.Type.PULSING_ELLIPSIS,className:_.default.ellipsis,itemClassName:_.default.spinnerItem})),o("div",{className:(0,a.default)(_.default.wrapper,r)},void 0,o("button",{className:(0,a.default)(_.default.inner,i),type:"button",disabled:this.props.disabled||t,style:{backgroundImage:"url('"+l.icon.color+"')"},onClick:function(){return e.handleConnect(e.props.type)}}),u)}});t.default=S},6139:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(1)),a=u(n(18)),i=n(181),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}t.default={selectParticipant:function(e,t){o.default.dispatch({type:l.ActionTypes.CHANNEL_RTC_SELECT_PARTICIPANT,channelId:e,userId:t})},updateLayout:function(e,t){a.default.track(l.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,r({video_layout:t},(0,i.collectVoiceAnalyticsMetadata)(e))),o.default.dispatch({type:l.ActionTypes.CHANNEL_RTC_UPDATE_LAYOUT,channelId:e,layout:t})}},e.exports=t.default},6140:function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.code=e.code||"",this.temporary=e.temporary||!1,this.revoked=e.revoked||!1,this.uses=e.uses||0,this.maxUses=e.maxUses||0,this.maxAge=e.maxAge||0,this.createdAt=e.createdAt||new Date,this.channel=e.channel,this.guild=e.guild,this.inviter=e.inviter||null},t.prototype.isExpired=function(){var e=this.maxAge;if(e>0&&(0,r.default)(this.createdAt).add(e,"seconds").isBefore(Date.now()))return!0;return!1},t.prototype.getExpiresAt=function(){return this.maxAge>0?(0,r.default)(this.createdAt).add(this.maxAge,"seconds").toDate():1/0},t.prototype.toString=function(){return this.code},t}(o(n(47)).default);t.default=a,e.exports=t.default},6141:function(e,t,n){"use strict";t.__esModule=!0,t.JUMP_TO_GUILD=void 0;var r=u(n(51)),o=u(n(155)),a=u(n(455)),i=u(n(45)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=t.JUMP_TO_GUILD={binds:function(){for(var e=[],t=1;t<10;t++)e.push("mod+"+t);return e}(),global:!0,action:function(e,t){var n=parseInt(t.split("+")[1],10);if(0===n&&(n=10),n){var u=void 0;if(u=1===n?l.ME:a.default.guildPositions[n-2]){var s=r.default.getChannelId(u);return u===l.ME&&null==o.default.getGuildId()&&(s=null),i.default.transitionTo(s?l.Routes.CHANNEL(u,s):l.Routes.GUILD(u)),!1}}}};t.default={JUMP_TO_GUILD:s}},6142:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(6)),o=u(n(4)),a=u(n(1)),i=u(n(22)),l=u(n(241));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=2500,d={};function f(e){var t=e.channelId,n=e.draft;return n?d[t]={timestamp:Date.now(),draft:function(e){return e.length>s&&(e=e.substr(0,s)),e}(n)}:delete d[t],!1}function c(){if(!(l.default.totalUnavailableGuilds>0))for(var e in d)null==i.default.getChannel(e)&&delete d[e]}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){d=e||{},this.waitFor(i.default,l.default)},t.prototype.getState=function(){return d},t.prototype.getRecentlyEditedDrafts=function(){return(0,r.default)(d).toPairs().map(function(e){var t=e[0],n=e[1];return{channelId:t,timestamp:n.timestamp,draft:n.draft}}).sortBy(function(e){return-e.timestamp}).value()},t.prototype.getDraft=function(e){var t=d[e];return null==t?"":t.draft},t}(o.default.PersistedStore);p.persistKey="DraftStore",t.default=new p(a.default,{CONNECTION_OPEN:function(e){return c(),!1},GUILD_DELETE:function(e){return c(),!1},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=d[t]&&delete d[t],!1},DRAFT_SAVE:function(e){f(e)},DRAFT_CHANGE:f}),e.exports=t.default},6143:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){o.default.track(a.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),r.default.dispatch({type:a.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:a.ActionTypes.REGISTER_MODAL_CLOSE})};var r=i(n(1)),o=i(n(18)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6144:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=u(n(17)),i=n(180),l=u(n(5513));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d={XSMALL:l.default.xsmall,SMALL:l.default.small,MEDIUM:l.default.medium,LARGE:l.default.large},f={DEFAULT:"default",STATIC:"static"},c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),r.state={hovered:!1},r.getMode=function(){return null!=r.props.srcHover?f.STATIC:f.DEFAULT},r.handleHover=function(){r.state.hovered||r.setState({hovered:!0})},r.handleBlur=function(){r.state.hovered&&r.setState({hovered:!1})},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.src,u=e.srcHover,s=e.className,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["size","src","srcHover","className"]),f={backgroundImage:"url('"+(this.state.hovered&&u?u:n)+"')"},c=this.getMode();return o.createElement("button",r({className:(0,a.default)((0,i.getClass)(l.default,"iconButton",c),s,t),style:f,onMouseEnter:this.handleHover,onFocus:this.handleHover,onMouseLeave:this.handleBlur,onBlur:this.handleBlur},d))},t}(o.PureComponent);c.Sizes=d,c.defaultProps={size:d.MEDIUM,disabled:!1},c.displayName="IconButton",t.default=c,e.exports=t.default},6145:function(e,t,n){"use strict";t.__esModule=!0,t.Controls=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=g(n(17)),u=g(n(6)),s=g(n(310)),d=n(468),f=g(n(311)),c=g(n(221)),p=g(n(306)),h=g(n(6476)),y=g(n(6033)),m=n(835),v=n(0),_=g(n(317)),E=g(n(5462));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C={friction:14,tension:200},N={VIDEO:"VIDEO",AUDIO:"AUDIO"},A={width:"100%",height:"100%",backgroundColor:"black"};function O(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var b=function(e){var t=e.current,n=e.duration,r=null!=t?O(t):"-:--",o=null!=n?O(n):"-:--";return r=r.padStart(o.length,"0"),a("div",{className:E.default.durationTimeWrapper},void 0,a("span",{className:E.default.durationTimeDisplay},void 0,r),a("span",{className:E.default.durationTimeSeparator},void 0,"/"),a("span",{className:E.default.durationTimeDisplay},void 0,o))};b.displayName="DurationTime";var M=t.Controls=function(e){function t(){var n,r;S(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={translateY:new s.default.Value(0),iconHover:!1,barHover:!1},r._isUnmounted=!1,r.setDurationRef=function(e){r.durationBar=e},r.setVolumeRef=function(e){r.volumeBar=e},T(r,n)}return I(t,e),t.prototype.componentDidMount=function(){this.state.translateY.setValue(this.props.autoPlay?1:0)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.hide,r=t.playing;n&&!e.hide?this.animateControls(1,r):!n&&e.hide&&this.animateControls(0,r)},t.prototype.componentWillUnmount=function(){this._isUnmounted=!1},t.prototype.setStateIfMounted=function(e){this._isUnmounted||this.setState(e)},t.prototype.updateProgress=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.durationBar;null!=n&&n.setGrabber(e,t)},t.prototype.animateControls=function(e,t){var n=this.state.translateY;t?s.default.spring(n,o({toValue:e},C)).start():n.setValue(e)},t.prototype.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}]}},t.prototype.renderPlayIcon=function(){var e=this.props,t=e.playing,n=e.currentTime,r=e.duration,o=e.onPause,i=e.onPlay,l=e.disabled;return t?a(c.default,{onClick:o,tabIndex:l?-1:0},void 0,a(p.default,{name:p.default.Names.PAUSE,className:E.default.controlIcon},"pause")):a(c.default,{onClick:i,tabIndex:l?-1:0},void 0,null!=n&&n===r?a(p.default,{name:p.default.Names.REPLAY,className:E.default.controlIcon},"replay"):a(p.default,{name:p.default.Names.PLAY,className:E.default.controlIcon},"play"))},t.prototype.render=function(){var e=this,t=this.props,n=t.buffers,r=t.children,o=t.currentTime,u=t.duration,d=t.muted,f=t.onDrag,y=t.onDragEnd,v=t.onDragStart,g=t.onToggleMuted,S=t.width,T=t.volume,I=t.dragging,C=t.hide,A=t.type,O=t.disabled,M=this.state,R=M.barHover,P=M.iconHover,L=C||!R&&!P&&I!==h.default.Types.VOLUME,w="string"==typeof S||S>250,D=a(b,{current:o,duration:u});return a(m.BackgroundOpacityContext.Consumer,{},void 0,function(t){var o;return a(s.default.div,{className:(0,l.default)(A===N.VIDEO?E.default.videoControls:E.default.audioControls,E.default[t.backgroundOpacity+"BackgroundOpacity"]),onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},style:e.getAnimatedStyle()},void 0,e.renderPlayIcon(),w?D:null,i.createElement(h.default,{buffers:n,value:u||0,onDrag:f,onDragEnd:y,onDragStart:v,type:h.default.Types.DURATION,ref:e.setDurationRef}),a("div",{className:_.default.flex,onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!1,iconHover:!0})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({iconHover:!1})},500)}},void 0,a(c.default,{onClick:g,tabIndex:O?-1:0},void 0,a(p.default,{name:d?p.default.Names.SPEAKER_OFF:p.default.Names.SPEAKER,className:(0,l.default)(E.default.controlIcon,L?void 0:E.default.opaque)}))),a("div",{className:(0,l.default)(A===N.VIDEO?E.default.videoVolumeWrapper:E.default.audioVolumeWrapper,(o={},o[E.default.hidden]=L,o)),onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!0,iconHover:!1})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({barHover:!1})},500)}},void 0,i.createElement(h.default,{value:T,onDrag:f,onDragEnd:y,onDragStart:v,type:h.default.Types.VOLUME,ref:e.setVolumeRef})),r)})},t}(i.Component);M.defaultProps={disabled:!1},M.displayName="Controls";var R=function(e){function t(){var n,r;S(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={translateY:new s.default.Value(0)},T(r,n)}return I(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.hide;t&&!e.hide?this.animateControls(1):!t&&e.hide&&this.animateControls(0)},t.prototype.animateControls=function(e){s.default.spring(this.state.translateY,o({toValue:e},C)).start()},t.prototype.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]}},t.prototype.renderVideoMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,o=e.disabled;return a(s.default.div,{className:E.default.metadata,style:this.getAnimatedStyle()},void 0,a("div",{className:E.default.metadataContent},void 0,a("div",{className:E.default.metadataName},void 0,t),a("div",{className:E.default.metadataSize},void 0,n)),!o&&a(f.default,{href:r,target:"_blank",rel:"noreferrer noopener",className:E.default.metadataDownload},void 0,a(p.default,{name:p.default.Names.DOWNLOAD,className:E.default.metadataIcon})))},t.prototype.renderAudioMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,o=e.disabled;return a(m.BackgroundOpacityContext.Consumer,{},void 0,function(e){return a("div",{className:(0,l.default)(E.default.audioMetadata,E.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,a("div",{className:E.default.metadataContent},void 0,o?t:a(f.default,{className:E.default.metadataName,href:r},void 0,t),a("div",{className:E.default.metadataSize},void 0,n)),o?t:a(f.default,{href:r,className:E.default.metadataDownload},void 0,a(p.default,{name:p.default.Names.DOWNLOAD,className:E.default.metadataIcon})))})},t.prototype.render=function(){return this.props.type===N.AUDIO?this.renderAudioMetadata():this.renderVideoMetadata()},t}(i.Component);R.displayName="Metadata";var P=function(e){function t(){var n,r;S(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=T(this,e.call.apply(e,[this].concat(i))),r.state={play:!1,scale:new s.default.Value(0),opacity:new s.default.Value(0)},r.popAnimation=function(){var e=r.state,t=e.opacity,n=e.scale;n.setValue(0),t.setValue(0),s.default.parallel([s.default.sequence([s.default.timing(t,{toValue:1,duration:200}),s.default.timing(t,{toValue:0,duration:200})]),s.default.spring(n,o({toValue:1.5},C,{friction:80}))]).start()},T(r,n)}return I(t,e),t.prototype.pop=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({play:e},this.popAnimation)},t.prototype.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return s.default.accelerate({opacity:t.interpolate({inputRange:[0,1],outputRange:[0,.8]}),transform:[{scale:n.interpolate({inputRange:[0,1],outputRange:[1,2]})}]})},t.prototype.render=function(){var e=this.state.play;return a(s.default.div,{className:E.default.playPausePop,style:this.getAnimatedStyle()},void 0,a(p.default,{name:e?p.default.Names.PLAY:p.default.Names.PAUSE,className:E.default.playPausePopIcon}))},t}(i.Component);P.displayName="PlayPausePop";var L=function(e){function t(n){S(this,t);var r=T(this,e.call(this,n));w.call(r);var o=r.props,a=o.autoPlay,i=o.autoMute,l=o.volume,u=o.playable;return r.state={buffers:[],currentTime:null,dragging:null,duration:null,fullscreen:!1,hasClickedPlay:!1,hasLoadedMetadata:!1,hideControls:!u,muted:i,volume:l,playing:a,preload:"none",width:t.minWidth},r}return I(t,e),t.getDerivedStateFromProps=function(e,t){return!e.playable&&t.playing?{playing:!1,hideControls:!1}:null},t.prototype.componentDidMount=function(){var e=this.elementRef,t=this.controlsRef,n=this.state,r=n.playing,o=n.muted,a=n.volume;null!=e&&(o&&(e.muted=o),r&&(this.play(!0),this.handleUIUpdate()),e.volume=a,o||null==t||null==t.volumeBar||t.volumeBar.setGrabber(a))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.onPause,o=n.onVolumeChange,a=n.onMute,i=this.state,l=i.playing,u=i.fullscreen,s=i.muted,f=i.dragging,c=i.volume,p=this.elementRef,y=this.controlsRef,m=this.playPausePopRef;if(null!=p){l&&!t.playing?(this.play(),this.handleMouseMove(),this.handleUIUpdate(),t.hasClickedPlay&&m&&m.pop(l)):!l&&t.playing&&(p.pause(),m&&m.pop(l),r&&r());var v=(0,d.getFullScreenNode)(p.parentNode,p);u&&!t.fullscreen&&null!=v?((0,d.requestFullScreen)(v),v.addEventListener(d.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit)):!u&&t.fullscreen&&null!=v&&(v.removeEventListener(d.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit),(0,d.exitFullScreen)(v)),f===h.default.Types.DURATION&&t.dragging!==h.default.Types.DURATION&&l?p.pause():f!==h.default.Types.DURATION&&t.dragging===h.default.Types.DURATION&&l&&p.play(),s!==t.muted&&(p.muted=s,null!=y&&null!=y.volumeBar&&(s?y.volumeBar.setGrabber(0):y.volumeBar.setGrabber(c)),a&&a(s)),c!==t.volume&&(null!=y&&null!=y.volumeBar&&(p.volume=c,y.volumeBar.setGrabber(c)),o&&o(c)),null!=y&&null!=y.volumeBar&&!s&&c>0&&y.volumeBar.setGrabber(c)}},t.prototype.componentWillUnmount=function(){this._unmounted=!0},t.prototype.play=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.onPlay;null!=this.elementRef&&(this.elementRef.play(),t&&t(e))},t.prototype.getWidth=function(){var e=this.props.width;return"100%"===e?e:Math.max(e,t.minWidth)},t.prototype.updateValue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.controlsRef;null!=n&&n.updateProgress(e,t)},t.prototype.updateTime=function(e,t){var n=0|e,r=0|t;this.state.currentTime===n&&this.state.duration===r||this.setState({currentTime:n,duration:r})},t.prototype.updateControlsVisibility=function(){var e=this.state,t=e.dragging,n=e.fullscreen?1e3:3e3,r=Math.max(0,Date.now()-this._lastMove)>n;r!==this.state.hideControls&&null==t&&this.setState({hideControls:r})},t.prototype.renderVideo=function(){var e=this,t=this.props,n=t.height,r=t.src,o=t.poster,l=t.forceExternal,u=t.onError,s=this.state.playing,d=this.getWidth();return l?a("video",{className:E.default.video,controls:!1,height:n,poster:o,width:d,playsInline:!0,autoPlay:s}):i.createElement("video",{className:E.default.video,controls:!1,playsInline:!0,autoPlay:s,height:n,onClick:this.handleVideoClick,onEnded:this.handleEnded,onError:u,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,poster:o,preload:this.state.preload,ref:function(t){return e.elementRef=t},width:d},a("source",{src:r}))},t.prototype.renderAudio=function(){var e=this;return i.createElement("audio",{className:E.default.audio,controls:!1,onClick:this.handleVideoClick,onEnded:this.handleEnded,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,preload:this.state.preload,ref:function(t){return e.elementRef=t}},a("source",{src:this.props.src}))},t.prototype.renderControls=function(){var e=this,t=this.props,n=t.type,r=t.autoPlay,o=t.playable,l=void 0===o||o,u=this.state,s=u.buffers,d=u.currentTime,f=u.duration,h=u.hasClickedPlay,v=u.hideControls,_=u.muted,g=u.playing,S=u.fullscreen,T=u.volume,I=u.dragging,C=this.getWidth();return h||r||n===N.AUDIO?i.createElement(M,{buffers:s,currentTime:d,duration:f,volume:T,hide:n===N.VIDEO&&v,muted:_,autoPlay:r,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onDurationChange:this.handleDurationChange,onPause:function(){return e.setPlay(!1)},onPlay:function(){return e.setPlay(!0)},onToggleMuted:this.toggleMuted,playing:g,dragging:I,type:n,ref:this.setControlRef,width:S?window.screen.width:C,disabled:!l},n===N.VIDEO?a(c.default,{onClick:this.toggleFullscreen},void 0,a(p.default,{className:E.default.controlIcon,name:p.default.Names.FULL_SCREEN,style:{marginLeft:0}})):null):a("div",{className:E.default.playCenter},void 0,a(m.BackgroundOpacityContext.Consumer,{},void 0,function(t){return a(y.default,{className:E.default.playButton,onPlay:e.handleVideoClick,backgroundOpacity:t.backgroundOpacity})}))},t.prototype.renderMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,o=e.type,i=e.playable,l=this.state.hideControls;return null==t||null==n?null:a(R,{fileName:t,fileSize:n,src:r,hide:o===N.VIDEO&&l,type:o,disabled:!i})},t.prototype.renderPlayPausePop=function(){return i.createElement(P,{ref:this.setPlayPausePopRef})},t.prototype.render=function(){var e=this,t=this.props,n=t.height,r=t.type,o=t.src,i=t.forceExternal,u=t.className,s=t.playable,d=this.getWidth(),f=this.state,c=f.fullscreen,p=f.hideControls,h=f.playing,v=f.preload,_=E.default.wrapperPaused;return r===N.AUDIO?_=E.default.wrapperAudio:p?_=E.default.wrapperControlsHidden:h&&(_=E.default.wrapperPlaying),i&&r===N.VIDEO?a(m.BackgroundOpacityContext.Consumer,{},void 0,function(t){return a("div",{className:_,style:{width:d,height:n}},void 0,e.renderMetadata(),e.renderVideo(),a("div",{className:E.default.playCenter},void 0,a(y.default,{className:E.default.playButton,externalURL:o,backgroundOpacity:t.backgroundOpacity})))}):a("div",{className:(0,l.default)(_,u),"data-fullscreen":c,onMouseEnter:"none"===v?this.handlePreload:null,onMouseLeave:h?this.handleMouseLeave:null,onMouseMove:h?this.handleMouseMove:null,onKeyDown:this.handleKeyDown,tabIndex:s?0:-1,style:c?A:{width:d,height:r===N.AUDIO?"auto":n}},void 0,this.renderMetadata(),r===N.AUDIO?this.renderAudio():this.renderVideo(),this.renderControls(),r===N.VIDEO?this.renderPlayPausePop():null)},t}(i.PureComponent);L.Types=N,L.defaultProps={width:498,height:80,forceExternal:!1,playable:!0,autoPlay:!1,autoMute:!1,volume:1},L.minWidth=150;var w=function(){var e=this;this._unmounted=!1,this._lastMove=0,this.handleFullScreenExit=function(){var t=(0,d.getFullScreenNode)(e.elementRef&&e.elementRef.parentNode,e.elementRef);null!=t&&(0,d.isFullScreen)(t)||e.setState({fullscreen:!1})},this.toggleFullscreen=function(){var t=!e.state.fullscreen;e.setState({fullscreen:t})},this.setMuted=function(t){e.setState({muted:t})},this.toggleMuted=function(){e.setMuted(!e.state.muted)},this.setTime=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.elementRef;null!=r&&isFinite(r.duration)&&isFinite(r.currentTime)&&(r.currentTime=t,e.updateValue(t/r.duration,n),e.updateTime(t,r.duration))},this.handleUIUpdate=function(){if(e.state.playing&&!e._unmounted){var t=e.elementRef;null!=t&&(t.duration>0&&e.updateValue(t.currentTime/t.duration),e.updateTime(t.currentTime,t.duration),e.updateControlsVisibility(),requestAnimationFrame(e.handleUIUpdate))}},this.handleDrag=function(t,n){var r=e.elementRef;n===h.default.Types.DURATION?null!=r&&isFinite(r.duration)&&e.setTime(r.duration*t,!1):n===h.default.Types.VOLUME&&(0===t?e.setState({muted:!0,volume:t}):e.state.muted&&t>0?e.setState({muted:!1,volume:t}):e.setState({volume:t}))},this.handleLoaded=function(){var t=e.elementRef;null!=t&&(e.updateTime(t.currentTime,t.duration),e.setState({hasLoadedMetadata:!0,currentTime:t.currentTime,duration:t.duration}))},this.handleDurationChange=function(){var t=e.elementRef;null!=t&&(e.updateTime(t.currentTime,t.duration),e.setState({duration:t.duration}))},this.handleBuffer=u.default.debounce(function(){var t=e.elementRef,n=[];if(t)for(var r=t.duration,o=0;o<t.buffered.length;o++){var a=t.buffered.start(o),i=t.buffered.end(o);if(!(i-a<1)){var l=(i-a)/r,u=a/r;n.push([u,l])}}e.setState({buffers:n})},400),this.handleEnded=function(){var t=e.props.onEnd;e.setState({playing:!1,hideControls:!1}),null!=t&&t()},this.handleMouseMove=function(){e._lastMove=Date.now()},this.handleMouseLeave=function(){e._lastMove=0},this.handlePreload=function(){e.setState({preload:"metadata"})},this.setControlRef=function(t){e.controlsRef=t},this.setPlayPausePopRef=function(t){e.playPausePopRef=t},this.handleVideoClick=function(){var t=e.state,n=t.hasClickedPlay,r=t.playing,o=e.props,a=o.autoPlay,i=o.autoMute;a&&!n&&r&&i?e.setState({muted:!1,hasClickedPlay:!0}):e.setPlay(!e.state.playing)},this.setPlay=function(t){var n=e.props.autoMute,r=e.state,o=r.hasClickedPlay,a=r.muted;t!==e.state.playing&&(t?e.setState({playing:t,hasClickedPlay:!0,muted:!(!o&&n)&&a}):e.setState({playing:!1,hideControls:!1}))},this.handleDragStart=function(t){e.setState({dragging:t})},this.handleDragEnd=function(){e.setState({dragging:null}),e._lastMove=Date.now()},this.handleKeyDown=function(t){var n=e.elementRef;if(t.which===v.KeyboardKeys.SPACE)t.preventDefault(),e.setPlay(!e.state.playing);else if(t.which>=v.KeyboardKeys.DIGIT_0&&t.which<=v.KeyboardKeys.DIGIT_9&&null!=n){t.preventDefault();var r=(t.which-v.KeyboardKeys.DIGIT_0)/10;n.currentTime=n.duration*r,e.setPlay(!0)}}};L.displayName="MediaPlayer",t.default=L},6146:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(6)),o=c(n(5)),a=c(n(4)),i=n(81),l=c(n(1)),u=n(872),s=c(n(6392)),d=n(334),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p={},h={},y=new Set,m=new Set,v=new Set,_={},E=new Set,g={},S={},T=null,I=null,C=null,N=new Set;function A(e){var t=s.default.createFromServer(e),n=t.code;if(null!=h[n])h[n]=h[n].merge(t);else if(h[n]=t,null!=t.expiresAt){var r=new i.Timeout;p[n]=r,function e(t){var n=h[t];if(null==n||null==n.expiresAt)return;var r=n.expiresAt.valueOf()-(0,o.default)().valueOf();if(r<=0)delete h[t],delete p[t],P.emitChange();else{var a=p[t];if(null==a)return;a.start(Math.min(f.MAX_TIMEOUT_MS,r),function(){return e(t)})}}(n)}}function O(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!N.has(e.channel_id))return!1;var t=(0,d.findGiftCodes)(e.content);return 0!==t.length&&(t.forEach(function(e){y.has(e)||v.has(e)||(b({code:e}),l.default.wait(function(){return(0,u.resolveGiftCode)(e,!1,!0).catch(f.NOOP_NULL)}))}),!1)}function b(e){var t=e.code;y.add(t)}function M(e){return O(e.message,!0)}function R(e){var t=e.channelId,n=e.messages;N.add(t),n.forEach(function(e){return O(e,!0)})}var P=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return null!=T},t.prototype.getProps=function(){return{giftCode:null!=T?h[T]:null,channelContext:I,analyticsLocation:C}},t.prototype.get=function(e){var t=h[e];return null==t||t.isExpired()?null:t},t.prototype.getError=function(e){return null!=e?S[e]:null},t.prototype.getForGifterSKUAndPlan=function(e,t,n){return r.default.values(h).filter(function(r){return r.userId===e&&r.skuId===t&&(null==n||r.subscriptionPlanId===n)&&!r.isExpired()})},t.prototype.getIsResolved=function(e){return v.has(e)},t.prototype.getIsAccepting=function(e){return m.has(e)},t.prototype.getNativeAppState=function(e){return _[e]},t.prototype.getUserGiftCodesFetchingForSKUAndPlan=function(e,t){return E.has((0,d.makeComboId)(e,t))},t.prototype.getUserGiftCodesLoadedAtForSKUAndPlan=function(e,t){return g[(0,d.makeComboId)(e,t)]},t.prototype.getResolvingCodes=function(){return Array.from(y)},t.prototype.getResolvedCodes=function(){return Array.from(v)},t.prototype.getAcceptingCodes=function(){return Array.from(m)},t.prototype.getChannelContext=function(){return I},t}(a.default.Store))(l.default,{CONNECTION_OPEN:function(e){return N.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&N.add(t),!1},GIFT_CODE_RESOLVE:b,GIFT_CODE_RESOLVE_SUCCESS:function(e){var t=e.giftCode;return y.delete(t.code),v.add(t.code),A(t)},GIFT_CODE_RESOLVE_FAILURE:function(e){var t=e.code;y.delete(t),v.add(t)},GIFT_CODE_REDEEM:function(e){var t=e.code;m.add(t)},GIFT_CODE_REDEEM_SUCCESS:function(e){var t=e.code;m.delete(t);var n=h[t];null!=n&&(h[t]=n.merge({redeemed:!0,uses:n.uses+1}))},GIFT_CODE_REDEEM_FAILURE:function(e){var t=e.code,n=e.error;m.delete(t);var r=h[t];if(S[t]=n,null!=r)switch(n.code){case f.AbortCodes.UNKNOWN_GIFT_CODE:h[t]=r.set("revoked",!0);break;case f.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED:h[t]=r.set("uses",r.maxUses)}},GIFT_CODE_REVOKE_SUCCESS:function(e){var t=e.code;delete h[t];var n=p[t];null!=n&&(n.stop(),delete p[t]),v.add(t)},GIFT_CODE_CREATE_SUCCESS:function(e){A(e.giftCode)},GIFT_CODES_FETCH:function(e){var t=e.skuId,n=e.subscriptionPlanId;E.add((0,d.makeComboId)(t,n))},GIFT_CODES_FETCH_SUCCESS:function(e){var t=e.giftCodes,n=e.skuId,r=e.subscriptionPlanId;t.forEach(A);var o=(0,d.makeComboId)(n,r);g[o]=Date.now(),E.delete(o)},GIFT_CODES_FETCH_FAILURE:function(e){var t=e.skuId,n=e.subscriptionPlanId;E.delete((0,d.makeComboId)(t,n))},GIFT_CODE_NATIVE_APP_MODAL_OPEN:function(e){var t=e.code;_[t]=f.NativeAppStates.OPENING},GIFT_CODE_NATIVE_APP_MODAL_OPEN_SUCCESS:function(e){var t=e.code;_[t]=f.NativeAppStates.OPEN},GIFT_CODE_NATIVE_APP_MODAL_OPEN_FAILURE:function(e){var t=e.code;_[t]=f.NativeAppStates.OPEN_FAIL},MESSAGE_CREATE:M,MESSAGE_UPDATE:M,LOAD_MESSAGES_SUCCESS:R,LOAD_MESSAGES_AROUND_SUCCESS:R,LOAD_RECENT_MENTIONS_SUCCESS:function(e){e.messages.forEach(function(e){return O(e)})},LOAD_PINNED_MESSAGES_SUCCESS:function(e){e.messages.forEach(function(e){return O(e)})},SEARCH_FINISH:function(e){e.messages.forEach(function(e){e.forEach(function(e){return O(e)})})},GIFT_CODE_MODAL_OPEN:function(e){var t=e.code,n=e.channelId,r=e.analyticsLocation;T=t,I=n,C=r},GIFT_CODE_MODAL_CLOSE:function(e){return T=null,I=null,void(C=null)},GIFT_CODE_UPDATE:function(e){var t=e.uses,n=e.code,r=h[n];null!=r&&(h[n]=r.set("uses",Math.max(r.uses,t)))}});t.default=P,e.exports=t.default},6147:function(e,t,n){"use strict";t.__esModule=!0,t.updateStripePaymentRequest=function(e){a.default.dispatch({type:i.ActionTypes.NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE,stripePaymentSource:e})},t.updateCardInfo=function(e,t){a.default.dispatch({type:i.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:e,isValid:t})},t.clearCardInfo=function(){a.default.dispatch({type:i.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:{cardNumber:"",expirationDate:"",cvc:"",name:""},isValid:!1})},t.updateAddressInfo=function(e,t){a.default.dispatch({type:i.ActionTypes.NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE,info:e,isValid:t})},t.clearError=function(){a.default.dispatch({type:i.ActionTypes.NEW_PAYMENT_SOURCE_CLEAR_ERROR})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6148:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=p(n(221)),u=p(n(152)),s=n(306),d=p(s),f=p(n(874)),c=p(n(5528));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),p=0;p<a;p++)u[p]=arguments[p];return n=r=h(this,e.call.apply(e,[this].concat(u))),r.renderBreadcrumb=function(e,t){var n,a,u=r.props,p=u.activeId,h=u.onBreadcrumbClick,y=u.breadcrumbs,m=u.renderCustomBreadcrumb,v=u.separatorClassName,_=e.id===p,E=t===y.length-1,g=m?m(e,_):o("span",{className:(0,i.default)(c.default.breadcrumb,(n={},n[c.default.activeBreadcrumb]=_,n[c.default.interactiveBreadcrumb]=null!=h,n))},void 0,e.label);return o("div",{className:(0,i.default)(c.default.breadcrumbWrapper,(a={},a[c.default.breadcrumbFinalWrapper]=E,a))},e.id,h?o(l.default,{tag:"span",onClick:function(){return r.handleClick(e)},className:c.default.breadcrumbClickWrapper},void 0,g):g,E?null:o(d.default,{className:(0,i.default)(c.default.breadcrumbArrow,v),name:s.IconNames.CARET,direction:f.default.Directions.RIGHT}))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(e){var t=this.props.onBreadcrumbClick;null!=t&&t(e)},t.prototype.render=function(){var e=this.props,t=e.breadcrumbs,n=e.className,r=t.map(this.renderBreadcrumb);return o(u.default,{justify:u.default.Justify.START,className:(0,i.default)(c.default.breadcrumbs,n)},void 0,r)},t}(a.PureComponent);y.displayName="Breadcrumbs",t.default=y,e.exports=t.default},6150:function(e,t,n){"use strict";t.__esModule=!0,t.init=u,t.open=s,t.close=d,t.setSection=f,t.selectPermissionOverwrite=c,t.updateChannel=p,t.saveChannel=h,t.deleteChannel=y;var r=l(n(8)),o=l(n(1)),a=n(834),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_INIT,channelId:e})}function s(e){u(e),(0,a.pushLayer)(i.Layers.CHANNEL_SETTINGS)}function d(){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_CLOSE})}function f(e){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:e})}function c(e){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT,overwriteId:e})}function p(e){var t=e.name,n=e.type,r=e.topic,a=e.bitrate,l=e.userLimit,u=e.nsfw,s=e.rateLimitPerUser;o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_UPDATE,name:t,channelType:n,topic:r,bitrate:a,userLimit:l,nsfw:u,rateLimitPerUser:s})}function h(e,t){var n=t.name,a=t.type,l=t.position,u=t.topic,s=t.bitrate,d=t.userLimit,f=t.nsfw,c=t.permissionOverwrites,p=t.rateLimitPerUser;return o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT}),r.default.patch({url:i.Endpoints.CHANNELS+"/"+e,body:{name:n,type:a,position:l,topic:u,bitrate:s,user_limit:d,nsfw:f,permission_overwrites:c,rate_limit_per_user:p}}).then(function(t){return o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS,channelId:e}),t},function(e){return o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE,errors:e.body}),e})}function y(e){r.default.delete(i.Endpoints.CHANNELS+"/"+e).then(function(){return d()})}t.default={init:u,open:s,close:d,setSection:f,selectPermissionOverwrite:c,updateChannel:p,saveChannel:h,deleteChannel:y}},6151:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=T(n(12)),l=T(n(111)),u=T(n(5981)),s=T(n(6549)),d=T(n(6011)),f=T(n(7014)),c=T(n(7015)),p=T(n(7016)),h=T(n(7017)),y=T(n(7018)),m=T(n(7019)),v=T(n(7020)),_=T(n(7021)),E=T(n(7094)),g=T(n(6155)),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}var I=o(f.default,{}),C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.guild,a=e.className;if(i.default.isGuest())return null;var f=null!=r?l.default.getDefaultChannel(r.id):null;switch(n){case S.ContextMenuTypes.GUILD_ICON_BAR:case S.ContextMenuTypes.GUILD_PROFILE_MUTUAL:case S.ContextMenuTypes.GUILD_HEADER:case S.ContextMenuTypes.GUILD_ACTIVITY_FEED:if(!r)break;return o("div",{className:a,style:t},void 0,o(u.default,{},void 0,o(h.default,{guildId:r.id})),o(u.default,{},void 0,null!=f?o(c.default,{channel:f,guild:r}):null,o(y.default,{guildId:r.id}),o(E.default,{guildId:r.id}),o(_.default,{guild:r}),o(m.default,{guildId:r.id}),o(v.default,{guildId:r.id}),o(g.default,{guildId:r.id,userId:i.default.getId()})),o(u.default,{},void 0,o(s.default,{guild:r}),o(s.default,{type:S.ChannelTypes.GUILD_CATEGORY,guild:r})),o(p.default,{guild:r}),o(d.default,{id:r.id}));case S.ContextMenuTypes.GUILD_CHANNEL_LIST:if(!r)break;return o("div",{className:a,style:t},void 0,o(E.default,{guildId:r.id}),o(s.default,{guild:r}),o(s.default,{type:S.ChannelTypes.GUILD_CATEGORY,guild:r}),null!=f?o(c.default,{channel:f,guild:r}):null);case S.ContextMenuTypes.GUILD_ICON_NEW:return o("div",{className:a,style:t},void 0,I);default:console.warn("Error - no such ctx menu type")}return null},t}(a.PureComponent);C.displayName="GuildContextMenu",t.default=C,e.exports=t.default},6153:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=c(n(17)),s=c(n(152)),d=c(n(306)),f=c(n(5503));function c(e){return e&&e.__esModule?e:{default:e}}var p=Object.freeze({PRIMARY:"primary",WARNING:"warning",ERROR:"error"}),h=Object.freeze({SMALL:"small",LARGE:"large",NONE:"none"}),y=((o={})[p.PRIMARY]=f.default.colorPrimary,o[p.WARNING]=f.default.colorWarning,o[p.ERROR]=f.default.colorError,o),m=((a={})[h.SMALL]=f.default.small,a[h.LARGE]=f.default.large,a[h.NONE]=null,a),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.color,r=e.children,o=e.iconSize,a=e.className,l=e.iconClassName;return i(s.default,{className:(0,u.default)(f.default.note,y[n],a),align:s.default.Align.CENTER},void 0,i(d.default,{name:t,className:(0,u.default)(f.default.icon,m[o],l)}),i("div",{},void 0,r))},t}(l.PureComponent);v.Icons=d.default.Names,v.Colors=p,v.Sizes=h,v.displayName="PaymentNote",t.default=v,e.exports=t.default},6154:function(e,t,n){"use strict";t.__esModule=!0,t.InviteResolvingHeader=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(17)),l=y(n(131)),u=y(n(324)),s=y(n(135)),d=n(6009),f=n(0),c=y(n(13)),p=y(n(317)),h=y(n(5351));function y(e){return e&&e.__esModule?e:{default:e}}(t.InviteResolvingHeader=function(){return o(a.Fragment,{},void 0,o(d.Avatar,{src:null,size:d.Avatar.Sizes.XXLARGE,className:h.default.marginBottom20}),o(d.Subtitle,{},void 0,c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),o(d.Title,{className:(0,i.default)(h.default.marginTop8,p.default.flexCenter)},void 0,c.default.Messages.LOADING))}).displayName="InviteResolvingHeader";var m=function(e){var t=e.guild,n=e.user;return n?o(d.Avatar,{src:null!=n?n.getAvatarURL():null,size:d.Avatar.Sizes.XXLARGE,className:h.default.marginBottom20}):t?o(d.GuildIcon,{guild:t,size:d.GuildIcon.Sizes.XLARGE,className:h.default.marginBottom20}):null},v=function(e){var t=e.invite,n=e.disableUser,r=void 0!==n&&n,y=e.error,v=e.theme;if(null==t)return null;var _=null!=t.guild?new u.default(t.guild):null,E=null!=t.channel?new l.default(t.channel):null,g=r||null==t.inviter?null:new s.default(t.inviter),S=null!=t.approximate_member_count&&t.approximate_member_count>100,T=null!=_&&_.hasFeature(f.GuildFeatures.VERIFIED),I=null,C=void 0,N=void 0;if(null!=_)I=null==g?c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:c.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:g.username}),S||T||(C=o(d.GuildIcon,{guild:_,size:d.GuildIcon.Sizes.SMALL})),N=_.name;else if(null!=E){if(null==g)throw new Error("no inviter in group DM invite");var A=g.username;E.name?(I=c.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:A}),N=E.name,null!=E.icon&&(C=o(d.ChannelIcon,{channel:E,size:d.Avatar.Sizes.SMALL}))):(I=c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,N=A)}return o(a.Fragment,{},void 0,o(m,{guild:_,user:r||S?null:g}),y?o(a.Fragment,{},void 0,o(d.Subtitle,{},void 0,c.default.Messages.INVITE_MODAL_ERROR_TITLE),o(d.Title,{},void 0,y)):o(a.Fragment,{},void 0,o(d.Subtitle,{},void 0,I),o(d.Title,{className:(0,i.default)(h.default.marginTop8,p.default.flexCenter)},void 0,T?o(d.VerifiedIcon,{theme:v}):null,C,N)),o(d.ActivityCount,{className:h.default.marginTop8,online:t.approximate_presence_count,total:t.approximate_member_count}))};v.displayName="InviteHeader",t.default=v},6155:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(4)),l=m(n(6133)),u=n(307),s=m(n(6031)),d=m(n(12)),f=m(n(28)),c=m(n(153)),p=m(n(5977)),h=n(0),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleOpenChangeNickname=function(){(0,u.closeContextMenu)(),l.default.open(r.props.guildId,r.props.userId)},r.state={guild:f.default.getGuild(n.guildId),currentUserId:d.default.getId()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.userId,t=this.state.guild;return this.canChangeNickname()||null!=t&&c.default.canManageUser(h.Permissions.MANAGE_NICKNAMES,e,t)?o(p.default,{label:y.default.Messages.CHANGE_NICKNAME,action:this.handleOpenChangeNickname}):null},t.prototype.canChangeNickname=function(){var e=this.props.userId,t=this.state,n=t.currentUserId,r=t.guild;return n===e&&null!=r&&(c.default.can(h.Permissions.CHANGE_NICKNAME,r)||c.default.can(h.Permissions.MANAGE_NICKNAMES,r))},t}(a.PureComponent);v.displayName="UserChangeNicknameItem";var _=i.default.connectStores([c.default],function(e){var t=e.guildId;return{permissionVersion:c.default.getGuildVersion(t)}})(v);t.default=(0,s.default)(function(e){var t,n=e.guildId,r=e.userId;return(t={})[n]=[r],t})(_),e.exports=t.default},6156:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=O(n(17)),d=O(n(6)),f=O(n(99)),c=n(231),p=O(n(4)),h=O(n(5985)),y=O(n(5990)),m=O(n(72)),v=O(n(153)),_=O(n(15)),E=O(n(152)),g=O(n(306)),S=O(n(827)),T=O(n(100)),I=O(n(6191)),C=n(0),N=O(n(13)),A=O(n(5382));function O(e){return e&&e.__esModule?e:{default:e}}function b(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=30,w=4,D=function(e){function t(){var n,r;M(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.handlerFilterResults=function(e){var t=r.props,n=t.guild,o=t.userId,a=_.default.getCurrentUser(),i=T.default.getHighestRole(n,a.id),l=(0,d.default)(n.roles).filter(function(e){return e.id!==n.id}).filter(function(e){return!e.managed}).filter(function(e){return T.default.isRoleHigher(n,a.id,i,e)}).filter(function(t){return e(t.name.toLowerCase())}),u=m.default.getMember(n.id,o);return u&&(l=l.filter(function(e){return-1===u.roles.indexOf(e.id)})),l.value()},r.renderRole=function(e){var t=void 0;return e.colorString&&(t={color:e.colorString}),l("span",{style:t},void 0,e.name)},R(r,n)}return P(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.onClose,r=e.position;return l(I.default,{label:N.default.Messages.ADD_ROLE_LABEL,placeholder:N.default.Messages.ADD_ROLE_PLACEHOLDER,onRenderResult:this.renderRole,onFilterResults:this.handlerFilterResults,onSelect:t,onClose:n,position:r})},t}(u.Component);D.displayName="AddRolesPopout";var U=function(e){function t(){return M(this,t),R(this,e.apply(this,arguments))}return P(t,e),t.prototype.render=function(){var e=this.props,t=e.userRoles,n=b(e,["userRoles"]);return l("div",{className:A.default.overflowRolesPopout},void 0,l("div",{className:A.default.overflowRolesPopoutArrowWrapper},void 0,l("div",{className:A.default.overflowRolesPopoutArrow})),l(E.default,{className:A.default.overflowRolesPopoutHeader,align:E.default.Align.CENTER},void 0,l(g.default,{name:g.default.Names.FLAG,color:C.Colors.PRIMARY_DARK_400,className:A.default.overflowRolesPopoutHeaderIcon}),l("div",{className:A.default.overflowRolesPopoutHeaderText},void 0,N.default.Messages.ROLES_LIST.format({numRoles:t.length}))),u.createElement(G,i({},n,{userRoles:t})))},t}(u.PureComponent);U.displayName="OverflowRolesPopout";var k=function(e){function t(){return M(this,t),R(this,e.apply(this,arguments))}return P(t,e),t.prototype.render=function(){var e=this.props,t=e.role,n=e.canRemove,r=e.onRemove,o=C.Colors.PRIMARY_DARK_300;null!=t.colorString&&(o=t.colorString);var a=void 0;if(n){var i=C.Colors.WHITE,u=(0,c.hex2int)(o);null!=u&&(0,c.getDarkness)(u)<.3&&(i=C.Colors.PRIMARY_DARK_630),a=l("button",{onClick:r,className:A.default.roleCircleButton,style:{backgroundColor:o}},void 0,l(g.default,{name:g.default.Names.CLOSE,color:i,className:A.default.roleRemoveIcon}))}else a=l("div",{className:A.default.roleCircle,style:{backgroundColor:o}});return l("li",{className:A.default.role,style:{borderColor:(0,c.hex2rgb)(o,.6)}},void 0,a,l("div",{className:A.default.roleName},void 0,t.name))},t}(u.Component);k.displayName="MemberRole";var G=function(e){function t(){var n,r;M(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.state={numPillsToShow:null},r._pillRefs={},r.setPillRef=function(e,t){null!=t?r._pillRefs[e]=t:delete r._pillRefs[e]},r.handleRemoveRole=function(e){var t=r.props.userRoles.filter(function(t){return t!==e.id});h.default.updateMemberRoles(r.props.guild.id,r.props.user.id,t)},r.renderOverflowRolesPopout=function(e){var t=r.props,n=(t.wrap,b(t,["wrap"]));return u.createElement(U,i({},e,n))},r.renderAddRolesPopout=function(e){return u.createElement(D,i({},e,{guild:r.props.guild,userId:r.props.user.id,onSelect:r.handleAddRole}))},r.handleAddRole=function(e){if(null!=e){var t=r.props.userRoles;-1===t.indexOf(e.id)&&(t=t.concat([e.id])),h.default.updateMemberRoles(r.props.guild.id,r.props.user.id,t)}},r.filterPillsToFit=function(){var e=r.props,t=e.wrap,n=e.width;if(!t){var o=r.getRolesToRender(),a=0,i=0;if("number"!=typeof n)throw new Error("Unexpected null width");for(var l=n-L-w,u=0;u<o.length;u++){var s=o[u];if(null!=r._pillRefs[s.id]){var d=f.default.findDOMNode(r._pillRefs[s.id]);if(d instanceof HTMLElement){if((i+=d.offsetWidth+w)>l)break;a++}}}var c=null;a<o.length&&(c=a),r.state.numPillsToShow!==c&&r.setState({numPillsToShow:c})}},R(r,n)}return P(t,e),t.prototype.componentDidMount=function(){this.props.wrap||this.filterPillsToFit()},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props,r=n.wrap,o=n.width,a=n.userRoles;r||o===e.width&&a===e.userRoles||this.setState({numPillsToShow:null},function(){return t.filterPillsToFit()})},t.prototype.getRolesToRender=function(){var e=this.props,t=e.guild,n=e.userRoles;return d.default.values(t.roles).filter(function(e){return n.includes(e.id)})},t.prototype.render=function(){var e=this,t=_.default.getCurrentUser(),n=this.props,r=n.guild,o=n.popoutKey,a=n.className,i=this.state.numPillsToShow,d=v.default.can(C.Permissions.MANAGE_ROLES,r),f=T.default.getHighestRole(r,t.id),c=this.getRolesToRender(),p=0;null!=i&&(p=c.length-i,c=c.slice(0,i));var h=c.map(function(n){return u.createElement(k,{role:n,canRemove:d&&T.default.isRoleHigher(r,t.id,f,n),onRemove:function(){return e.handleRemoveRole(n)},ref:function(t){return e.setPillRef(n.id,t)},key:n.id})}),y=void 0,m=void 0;return 0!==p?y=l(S.default,{render:this.renderOverflowRolesPopout,zIndexBoost:5,position:S.default.Positions.TOP,shadow:!1,dependsOn:o},void 0,l("button",{className:A.default.overflowButton},void 0,"+"+p)):d&&(m=l(S.default,{render:this.renderAddRolesPopout,zIndexBoost:5,position:S.default.Positions.BOTTOM,shadow:!1,dependsOn:o},void 0,l("button",{className:A.default.addButton},void 0,l(g.default,{name:g.default.Names.PLUS,className:A.default.addButtonIcon})))),l("ul",{className:(0,s.default)(A.default.root,a)},void 0,h,y,m)},t}(u.PureComponent);G.defaultProps={wrap:!0},G.displayName="MemberRolesList";var x=(0,y.default)(G);t.default=p.default.connectStores([v.default],function(){var e=v.default.getState();return{permissionGuilds:e.guilds,permisisonChannels:e.channels}})((o=r=function(e){function t(){return M(this,t),R(this,e.apply(this,arguments))}return P(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){0},t.prototype.render=function(){return!1===this.props.wrap?u.createElement(x,this.props):u.createElement(G,this.props)},t}(u.Component),r.defaultProps=G.defaultProps,o)),e.exports=t.default},6157:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=_(n(308)),u=_(n(309)),s=_(n(443)),d=_(n(99)),f=_(n(4)),c=_(n(6260)),p=_(n(5356)),h=_(n(312)),y=_(n(6134)),m=_(n(13)),v=_(n(5385));function _(e){return e&&e.__esModule?e:{default:e}}var E=(0,l.default)({displayName:"Note",mixins:[f.default.StoreListenerMixin(p.default,h.default),s.default],propTypes:{userId:u.default.string.isRequired,autoFocus:u.default.bool},getDefaultProps:function(){return{autoFocus:!1}},getStateFromStores:function(){return{note:p.default.getNote(this.props.userId),hideNote:h.default.hidePersonalInformation}},handleBlur:function(e){var t=e.currentTarget.value;this.state.note!==t&&c.default.updateNote(this.props.userId,t)},handleKeyPress:function(e){13===e.which&&(e.shiftKey?(e.currentTarget.value.match(/\n/g)||[]).length>=5&&e.preventDefault():(e.preventDefault(),e.currentTarget.blur()))},componentDidMount:function(){if(this.props.autoFocus&&!this.state.hideNote){var e=d.default.findDOMNode(this.refs.NOTE_REF);null!=e&&null!=e.selectionStart&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)}},render:function(){var e=this.state,t=e.note;return e.hideNote?null:o("div",{className:(0,i.default)(v.default.note,this.props.className)},void 0,a.createElement(y.default,{ref:"NOTE_REF",placeholder:m.default.Messages.NOTE_PLACEHOLDER,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,defaultValue:t,maxLength:256}))}});t.default=E,e.exports=t.default},6158:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(2)),o=s(n(17)),a=s(n(80)),i=s(n(5980)),l=(s(n(112)),d(n(6021))),u=s(n(6084));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){var t=r.props,n=t.children,o=t.source,i=t.game,s=t.onOpen,d=t.analyticsContext,f=n.props.onClick;null!=i&&(e.preventDefault(),e.stopPropagation(),a.default.push(u.default,{game:i,source:o,analyticsContext:d,isModal:!0}),s&&s(),l.trackGameModalOpened(i,o,d.location)),f&&f(e)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.interactiveClassName;return null==e.game?t:r.cloneElement(t,{onClick:this.handleClick,className:(0,o.default)(t.props.className,n)})},t}(r.PureComponent);c.displayName="GameModalOpener",t.default=(0,i.default)(c),e.exports=t.default},6160:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(4)),l=n(6194),u=y(n(333)),s=y(n(6068)),d=y(n(110)),f=n(866),c=y(n(9)),p=y(n(13)),h=y(n(5391));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v="select",_=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.state={directoryMetadata:{},newInstallationPath:null},r.fetchedMetadataPaths=new Set,r.handleChange=function(e){var t=e.value;t===v?c.default.showOpenDialog(["openDirectory"]).then(function(e){if(null!=e&&e.length>0){var t=e[0];r.setState({newInstallationPath:r.props.installationPaths.find(function(e){return e.path===t})?null:t}),r.sendChange(t)}}):r.sendChange(t)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.fetchAllDirectoryMetadata=function(){var e=this,t=this.props.installationPaths.map(function(e){return e.path}),n=this.state.newInstallationPath;null!=n&&t.push(n),t=t.filter(function(t){return!e.fetchedMetadataPaths.has(t)}),(0,l.fetchMetadata)(t);var r=t,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var u=i;this.fetchedMetadataPaths.add(u)}},t.prototype.componentDidMount=function(){this.fetchAllDirectoryMetadata()},t.prototype.componentDidUpdate=function(e){this.fetchAllDirectoryMetadata(),this.props.requiredDiskKB===e.requiredDiskKB&&this.props.installationPathsMetadata===e.installationPathsMetadata||this.sendChange(this.props.value)},t.prototype.getOptions=function(){var e=this,t=this.props.installationPaths,n=this.state.newInstallationPath,r=t.map(function(t){var n=t.path,r=t.label;return{value:n,label:e.renderLabel(n,r)}});return null!=n&&r.push({value:n,label:this.renderLabel(n)}),r.push({value:v,label:p.default.Messages.APPLICATION_INSTALLATION_MODAL_SELECT_DIRECTORY}),r},t.prototype.hasEnoughDiskSpace=function(e){var t=this.props,n=t.requiredDiskKB,r=t.installationPathsMetadata,o=null!=r[e]?r[e].availableKB:null;return null==n||null==o||n<o},t.prototype.sendChange=function(e){var t=this.props,n=t.installationPathsMetadata;(0,t.onChange)(e,null!=n[e]&&!1===n[e].hasPermission||!this.hasEnoughDiskSpace(e))},t.prototype.renderError=function(){var e=this.props,t=e.value,n=e.installationPathsMetadata;return null!=n[t]&&!1===n[t].hasPermission?o("div",{className:h.default.error},void 0,p.default.Messages.APPLICATION_INSTALLATION_MODAL_NO_PERMISSION):this.hasEnoughDiskSpace(t)?null:o("div",{className:h.default.error},void 0,p.default.Messages.APPLICATION_INSTALLATION_MODAL_NOT_ENOUGH_SPACE)},t.prototype.renderLabel=function(e,t){var n=this.props.installationPathsMetadata,r=null!=t?t:e;return null!=n[e]&&null!=n[e].availableKB?p.default.Messages.APPLICATION_INSTALLATION_MODAL_DIRECTORY_WITH_SPACE.format({path:r,size:(0,f.formatSize)(n[e].availableKB,{useKibibytes:!0})}):r},t.prototype.render=function(){var e=this.props,t=e.value,n=e.className,r=e.autoFocus;return o("div",{className:n},void 0,o(d.default,{tag:d.default.Tags.H5},void 0,p.default.Messages.APPLICATION_INSTALLATION_MODAL_LOCATION),o(s.default,{autoFocus:r,options:this.getOptions(),value:t,onChange:this.handleChange}),this.renderError())},t}(a.PureComponent);_.displayName="InstallationLocationSelector",t.default=i.default.connectStores([u.default],function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata}})(_),e.exports=t.default},6161:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(6)),a=s(n(4)),i=s(n(23)),l=s(n(1)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d="GameLibraryViewStore",f=u.TableSortDirections.ASCENDING,c=u.GameTableListKeys.LAST_PLAYED,p=void 0,h=!1,y=o.default.debounce(function(){h=!1,m.emitChange()},200);var m=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=i.default.get(d)||{};null!=e.sortDirection&&null!=e.sortKey&&(f=e.sortDirection,c=e.sortKey)},r(t,[{key:"sortDirection",get:function(){return f}},{key:"sortKey",get:function(){return c}},{key:"activeRowKey",get:function(){return p}},{key:"isNavigatingByKeyboard",get:function(){return h}}]),t}(a.default.Store))(l.default,{LIBRARY_TABLE_SORT_UPDATE:function(e){var t=e.direction,n=e.key;f=t,c=n,i.default.set(d,{sortDirection:f,sortKey:c})},LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE:function(e){var t=e.key;e.isKeyboardEvent&&(h=!0,y()),p=t}});t.default=m,e.exports=t.default},6162:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(4)),a=u(n(1)),i=u(n(6270)),l=u(n(35));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=[],d=!1,f=null,c=l.default.locale;function p(){s=[],f=null}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default),c=l.default.locale},t.prototype.shouldFetch=function(){return null==f||Date.now()>f+6e5},r(t,[{key:"promotions",get:function(){return s}},{key:"loaded",get:function(){return d}}]),t}(o.default.Store);t.default=new h(a.default,{PROMOTIONS_FETCH_START:function(e){d=!1},PROMOTIONS_FETCH_SUCCESS:function(e){var t=e.promotions;s=t.slice(0,1).map(i.default.createFromServer),f=Date.now(),d=!0},PROMOTIONS_FETCH_FAIL:function(e){d=!0},USER_SETTINGS_UPDATE:function(e){return function(){if(c===l.default.locale)return!1;c=l.default.locale,p()}()},LOGOUT:function(e){return p()}}),e.exports=t.default},6163:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(6)),u=n(81),s=n(109),d=m(n(6110)),f=m(n(6164)),c=m(n(152)),p=m(n(6196)),h=n(0),y=m(n(5398));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={JUMP:"jump",NEXT:"next",PREVIOUS:"previous"},S=function(e){function t(){var n,r;v(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r.handleDotClick=function(e){var t=r.props,n=t.onSetItem,o=t.onIntentionalChange,a=t.current;o&&o(a,e,g.JUMP),n(e)},r.handleNext=function(){var e=r.props,t=e.onIntentionalChange,n=e.current,o=(0,e.onChangePage)(1);t&&t(n,o,g.NEXT)},r.handlePrevious=function(){var e=r.props,t=e.onIntentionalChange,n=e.current,o=(0,e.onChangePage)(-1);t&&t(n,o,g.PREVIOUS)},_(r,n)}return E(t,e),t.prototype.componentDidMount=function(){s.ComponentDispatch.subscribe(h.ComponentActions.CAROUSEL_PREV,this.handlePrevious),s.ComponentDispatch.subscribe(h.ComponentActions.CAROUSEL_NEXT,this.handleNext)},t.prototype.componentWillUnmount=function(){s.ComponentDispatch.unsubscribe(h.ComponentActions.CAROUSEL_PREV,this.handlePrevious),s.ComponentDispatch.unsubscribe(h.ComponentActions.CAROUSEL_NEXT,this.handleNext)},t.prototype.render=function(){var e,t=this,n=this.props,r=n.current,a=n.count,u=n.includeHitboxPadding,s=l.default.times(a,function(e){return o("button",{onClick:function(){return t.handleDotClick(e)},className:e===r?y.default.dotSelected:y.default.dotNormal},"dot-"+e)}),f=(0,i.default)(y.default.arrowHitbox,((e={})[y.default.arrowHitboxPadding]=u,e));return o(c.default,{className:this.props.className,justify:c.default.Justify.BETWEEN,align:c.default.Align.CENTER},void 0,o("button",{className:f,onClick:this.handlePrevious},void 0,o(d.default,{className:y.default.arrow,direction:d.default.Directions.LEFT})),o("div",{className:y.default.dots},void 0,s),o("button",{className:f,onClick:this.handleNext},void 0,o(d.default,{className:y.default.arrow,direction:d.default.Directions.RIGHT})))},t}(a.PureComponent);S.defaultProps={includeHitboxPadding:!0},S.displayName="PaginationController";var T=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.timer=new u.Interval,r.getCurrentDirection=function(){return r.state.direction},r.nextItem=function(){var e=r.props.items;r.changeItem(e,1)},r.previousItem=function(){var e=r.props.items;r.changeItem(e,-1)},r.handleSetItem=function(e){var t=r.state.visibleIndex,n=r.props.items;r.changeItem(n,e-t)},r.handleMouseEnter=function(){r.setState({hovered:!0})},r.handleMouseLeave=function(){r.setState({hovered:!1})},r.handleIntentionalChange=function(e,t,n){var o=r.props,a=o.items,i=o.onIntentionalChange;return i&&i(a[t],e,t,n)},r.state={visibleIndex:!0===n.randomize?l.default.random(0,n.items.length-1):0,direction:1,hovered:!1},r}return E(t,e),t.prototype.componentDidMount=function(){this.props.paused||this.state.hovered||this.startTimer()},t.prototype.componentWillUnmount=function(){this.stopTimer()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.items;null==t[this.state.visibleIndex]&&this.changeItem(t,1)},t.prototype.componentDidUpdate=function(e,t){var n=function(e,t){return!e.paused&&!t.hovered},r=n(this.props,this.state),o=n(e,t);r&&!o?this.startTimer():!r&&o&&this.stopTimer()},t.prototype.startTimer=function(){this.timer.start(this.props.delay,this.nextItem)},t.prototype.stopTimer=function(){this.timer.stop()},t.prototype.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0);var r=this.props.onChangeItem;return r&&r(e[n],this.state.visibleIndex,n),this.setState({visibleIndex:n,direction:t>0?1:-1}),n},t.prototype.render=function(){var e=this,t=this.props,n=t.items,r=t.renderItem,a=t.className,l=t.paginationClassName,u=t.themedPagination,s=t.includeHitboxPadding,d=t.style,c=this.state.visibleIndex;return o("div",{className:(0,i.default)(y.default.root,a),style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,o(f.default,{aspectRatio:16/9},void 0,o(p.default,{step:c,getDirection:this.getCurrentDirection,className:y.default.carousel},void 0,r(n[c],c))),o(S,{className:(0,i.default)(l,u?y.default.themedPagination:y.default.pagination),includeHitboxPadding:s,current:c,count:n.length,onChangePage:function(t){return e.changeItem(n,t)},onSetItem:this.handleSetItem,onIntentionalChange:this.handleIntentionalChange}))},t}(a.PureComponent);T.displayName="CarouselWithSlide",t.default=T,e.exports=t.default},6164:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5396));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.aspectRatio,n=e.className,r=e.children;return o("div",{className:(0,a.default)(i.default.outer,n),style:{paddingTop:1/t*100+"%"}},void 0,o("div",{className:i.default.inner},void 0,r))};u.displayName="AspectRatioSizer",t.default=u,e.exports=t.default},6165:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=R(n(2)),s=M(n(4)),d=R(n(326)),f=M(n(5980)),c=n(130),p=M(n(6087)),h=M(n(156)),y=M(n(855)),m=M(n(459)),v=M(n(128)),_=M(n(6056)),E=M(n(442)),g=R(n(5986)),S=R(n(113)),T=M(n(9)),I=M(n(45)),C=R(n(6004)),N=M(n(6111)),A=n(0),O=M(n(13)),b=M(n(5404));function M(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=Object.freeze({PLAY:"play",NOW_PLAYING:"now_playing",INSTALL:"install",UPDATE:"update",PAUSED:"paused",LOCATE:"locate",UNINSTALLING:"uninstalling",QUEUED:"queued",DOWNLOADING:"downloading",UNSUPPORTED_OS:"unsupported_os",ADD_TO_LIBRARY:"add_to_library",PREORDER_WAIT:"preorder_wait"}),w=Object.freeze(((o={})[A.LibraryApplicationActions.PLAY]=L.PLAY,o[A.LibraryApplicationActions.INSTALL]=L.INSTALL,o[A.LibraryApplicationActions.UPDATE]=L.UPDATE,o[A.LibraryApplicationActions.PAUSE]=L.DOWNLOADING,o[A.LibraryApplicationActions.MOVE_UP]=L.QUEUED,o[A.LibraryApplicationActions.RESUME]=L.PAUSED,o));var D=function(e){function t(){var n,r,o,a,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return r=o=P(this,e.call.apply(e,[this].concat(u))),o._uninstallStringIndex=null,o.handleAddToLibrary=(a=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=o.props.libraryApplication,e.next=4,d.updateFlags(t.id,t.branchId,t.getFlags()&~A.LibraryApplicationFlags.HIDDEN);case 4:I.default.transitionTo(A.Routes.APPLICATION_LIBRARY),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,i,[[0,7]])}),function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})}),o.handleInstall=function(){var e=o.props,t=e.libraryApplication,n=e.source;g.installApplication(t.id,t.branchId,n)},o.handleUpdate=function(){var e=o.props.libraryApplication;g.updateApplication(e.id,e.branchId)},o.onClickHandlers=((n={})[L.ADD_TO_LIBRARY]=o.handleAddToLibrary,n[L.INSTALL]=o.handleInstall,n[L.UPDATE]=o.handleUpdate,n),o.handleClick=function(e,t){var n=o.props.onClick;n&&n(e),t(e)},P(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getText=function(e){switch(e!==L.UNINSTALLING&&(this._uninstallStringIndex=null),e){case L.INSTALL:return O.default.Messages.GAME_ACTION_BUTTON_INSTALL;case L.UPDATE:return O.default.Messages.GAME_ACTION_BUTTON_UPDATE;case L.PAUSED:return O.default.Messages.GAME_ACTION_BUTTON_PAUSED;case L.LOCATE:return O.default.Messages.GAME_ACTION_BUTTON_LOCATE;case L.UNINSTALLING:var t=[O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_1,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_2,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_3,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_4,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_5,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_6,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_7,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_8,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_9,O.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_10];return null==this._uninstallStringIndex&&(this._uninstallStringIndex=Math.floor(Math.random()*t.length)),t[this._uninstallStringIndex];case L.QUEUED:return O.default.Messages.GAME_ACTION_BUTTON_QUEUED;case L.DOWNLOADING:return O.default.Messages.GAME_ACTION_BUTTON_DOWNLOADING;case L.UNSUPPORTED_OS:return O.default.Messages.GAME_ACTION_BUTTON_INSTALL;case L.ADD_TO_LIBRARY:return O.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY;case L.PREORDER_WAIT:return O.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT;default:throw new Error("Unexpected button state")}},t.prototype.getButtonState=function(){var e=this.props,t=e.libraryApplication,n=e.dispatchState,r=e.actionState;if(t.isHidden())return L.ADD_TO_LIBRARY;if(t.isPreorder())return L.PREORDER_WAIT;var o=null!=r?w[r]:null;return null!=o?o:null!=n&&n.type===A.LocalDispatchApplicationStates.UNINSTALLING?L.UNINSTALLING:T.default.isWeb()?L.PLAY:L.UNSUPPORTED_OS},t.prototype.renderPlayButton=function(){var e=this.props,t=e.libraryApplication,n=e.fullWidth,r=e.size,o=e.color,a=e.customDisabledColor,l=e.isPlayShiny,u=e.onDropdownOpen,s=e.onDropdownClose,d=e.analyticsListSort,f=e.analyticsListIndex;return i(N.default,{applicationId:t.id,libraryApplication:t,fullWidth:n,size:r,color:o,customDisabledColor:a,isShiny:l,onDropdownOpen:u,onDropdownClose:s,analyticsListSort:d,analyticsListIndex:f})},t.prototype.renderDisabledButton=function(e,t){var n=this.props,r=n.className,o=n.fullWidth,a=n.size,l=n.customDisabledColor,u=n.tooltipPosition;return i("div",{className:b.default.disabledButtonWrapper},void 0,i(v.default,{className:r,fullWidth:o,size:a,color:null!=l?l:b.default.disabledButtonColor,disabled:!0},void 0,this.getText(e),this.renderProgressBar()),i(E.default,{text:t,position:u},void 0,i("div",{className:b.default.disabledButtonOverlay})))},t.prototype.renderProgressBar=function(){var e=this.props,t=e.hideProgress,n=e.dispatchState;if(t)return null;var r=S.convertToTransitionState(n);if(null==r)return null;var o=r.type===A.LocalDispatchApplicationStates.UNINSTALLING?_.default.INDETERMINATE:S.calculateProgressPercentage(r.progress,r.total);return i(_.default,{percent:o,size:_.default.Sizes.XSMALL,foregroundColor:r.paused?A.Colors.PRIMARY_DARK:A.Colors.STATUS_GREEN,backgroundColor:A.Colors.TRANSPARENT,className:b.default.progress})},t.prototype.renderActionButton=function(e,t){var n=this,r=this.props,o=r.className,a=r.fullWidth,l=r.size,u=r.color,s=r.isCloudSyncing;return i(v.default,{className:o,fullWidth:a,size:l,color:null!=u?u:v.default.Colors.GREEN,hover:null!=u?v.default.Hovers.GREEN:v.default.Hovers.DEFAULT,submitting:e===L.UNINSTALLING||s,onClick:function(e){return n.handleClick(e,t)}},void 0,this.getText(e),this.renderProgressBar())},t.prototype.render=function(){var e=this.props,t=e.hasNoBuild,n=e.libraryApplication,r=this.getButtonState();if(r===L.PLAY)return this.renderPlayButton();if(r===L.PREORDER_WAIT)return this.renderDisabledButton(r,function(e){if(e instanceof c.LibraryApplicationRecord){var t=C.getReadablePreorderReleaseDate(e.sku);return null!=t?O.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT_TOOLTIP.format({date:t}):null}}(n));if(r===L.UNSUPPORTED_OS)return this.renderDisabledButton(r,O.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE_TOOLTIP.format({operatingSystem:O.default.Messages.WINDOWS}));if(r===L.INSTALL&&t)return this.renderDisabledButton(r,O.default.Messages.GAME_ACTION_BUTTON_CANNOT_INSTALL);var o=this.onClickHandlers[r];return null==o?this.renderDisabledButton(r):this.renderActionButton(r,o)},l(t,[{key:"analyticsLocation",get:function(){return a({},this.props.analyticsContext.location,{object:A.AnalyticsObjects.BUTTON_CTA})}}]),t}(u.Component);D.defaultProps={fullWidth:!1,size:v.default.Sizes.LARGE,hideProgress:!1,isPlayShiny:!1,tooltipPosition:E.default.Positions.TOP},D.ButtonStates=L,D.displayName="LibraryApplicationButton",t.default=s.default.connectStores([h.default,y.default,m.default,p.default],function(e){var t=e.libraryApplication;return{actionState:g.getDefaultLibraryApplicationAction(t,h.default,y.default),isCloudSyncing:p.default.isSyncing(t.id,t.branchId),hasNoBuild:m.default.hasNoBuild(t.id,t.branchId),dispatchState:h.default.getState(t.id,t.branchId)}})((0,f.default)(D)),e.exports=t.default},6166:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(6071)),l=u(n(843));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.defaultValue,n=void 0===t?0:t,r=e.minValue,u=void 0===r?0:r,s=e.maxValue,d=void 0===s?100:s,f=e.onValueChange,c=e.onValueRender,p=e.label;return o("div",{className:(0,a.default)(l.default.item,l.default.itemSlider)},void 0,o("div",{className:l.default.label},void 0,p),o(i.default,{mini:!0,handleSize:16,className:l.default.slider,defaultValue:n,minValue:u,maxValue:d,onValueChange:f,onValueRender:c}))};s.displayName="SliderMenuItem",t.default=s,e.exports=t.default},6167:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(5)),o=l(n(4)),a=l(n(1)),i=l(n(6140));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInvite=function(e){return u[e]},t}(o.default.Store);t.default=new s(a.default,{CONNECTION_OPEN:function(e){u={}},CHANNEL_DELETE:function(e){var t=e.channel;delete u[t.id]},INSTANT_INVITE_CREATE:function(e){},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t=e.channelId,n=e.invite;u[t]=new i.default({code:n.code,temporary:n.temporary,revoked:n.revoked,maxUses:n.max_uses,maxAge:n.max_age,createdAt:(0,r.default)(n.created_at),channel:n.channel,guild:n.guild})}}),e.exports=t.default},6168:function(e,t,n){"use strict";var r;t.__esModule=!0,t.DEFAULT_LAYOUT=void 0,t.getDefaultLayoutContent=function(){return[{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:U(L.KeybindActions.SERVER_PREV,L.KeybindActions.SERVER_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:U(L.KeybindActions.CHANNEL_PREV,L.KeybindActions.CHANNEL_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:U(L.KeybindActions.UNREAD_PREV,L.KeybindActions.UNREAD_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:U(L.KeybindActions.MENTION_CHANNEL_PREV,L.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:U(L.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:U(L.KeybindActions.MARK_SERVER_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:U(L.KeybindActions.MARK_CHANNEL_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_GUILD,binds:U(L.KeybindActions.CREATE_GUILD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:U(L.KeybindActions.QUICKSWITCHER_SHOW)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_DM_GROUP,binds:U(L.KeybindActions.CREATE_DM_GROUP),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PINS,binds:U(L.KeybindActions.TOGGLE_CHANNEL_PINS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MENTIONS,binds:U(L.KeybindActions.TOGGLE_MENTIONS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_USERS,binds:U(L.KeybindActions.TOGGLE_USERS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:U(L.KeybindActions.SEARCH_EMOJIS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_GIFS,binds:U(L.KeybindActions.SEARCH_GIFS),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:U(L.KeybindActions.TOGGLE_MUTE)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:U(L.KeybindActions.TOGGLE_DEAFEN)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:U(L.KeybindActions.CALL_ACCEPT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:U(L.KeybindActions.MARK_CHANNEL_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:U(L.KeybindActions.CALL_START),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:U(L.KeybindActions.SCROLL_UP,L.KeybindActions.SCROLL_DOWN)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:U(L.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:U(L.KeybindActions.TEXTAREA_FOCUS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UPLOAD_FILE,binds:U(L.KeybindActions.UPLOAD_FILE)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_HELP,binds:U(L.KeybindActions.TOGGLE_HELP)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH,binds:U(L.KeybindActions.FOCUS_SEARCH)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG,binds:["h+h+right+n+k"]}]};var o,a=n(6308),i=n(6309),l=n(6424),u=n(6425),s=n(6426),d=n(6141),f=n(6310),c=n(6311),p=n(6312),h=n(6380),y=n(6314),m=n(6315),v=n(6316),_=n(6427),E=n(6317),g=n(6318),S=n(6319),T=n(6321),I=n(6322),C=n(6429),N=n(6430),A=n(6323),O=n(6431),b=n(6432),M=n(6325),R=n(6434),P=n(6383),L=n(0),w=n(13),D=(o=w)&&o.__esModule?o:{default:o};function U(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=k[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var k=t.DEFAULT_LAYOUT=((r={})[L.KeybindActions.SERVER_NEXT]=E.SERVER_NEXT,r[L.KeybindActions.SERVER_PREV]=E.SERVER_PREV,r[L.KeybindActions.CHANNEL_NEXT]=i.CHANNEL_NEXT,r[L.KeybindActions.CHANNEL_PREV]=i.CHANNEL_PREV,r[L.KeybindActions.UNREAD_NEXT]=M.UNREAD_NEXT,r[L.KeybindActions.UNREAD_PREV]=M.UNREAD_PREV,r[L.KeybindActions.MENTION_CHANNEL_NEXT]=M.MENTION_NEXT,r[L.KeybindActions.MENTION_CHANNEL_PREV]=M.MENTION_PREV,r[L.KeybindActions.TOGGLE_PREVIOUS_GUILD]=i.TOGGLE_PREVIOUS_GUILD,r[L.KeybindActions.JUMP_TO_GUILD]=d.JUMP_TO_GUILD,r[L.KeybindActions.SUBMIT]=g.SUBMIT,r[L.KeybindActions.TEXTAREA_FOCUS]=S.TEXTAREA_FOCUS,r[L.KeybindActions.MARK_CHANNEL_READ]=f.MARK_CHANNEL_READ,r[L.KeybindActions.MARK_SERVER_READ]=c.MARK_SERVER_READ,r[L.KeybindActions.TOGGLE_CHANNEL_PINS]=C.TOGGLE_CHANNEL_PINS,r[L.KeybindActions.TOGGLE_MENTIONS]=O.TOGGLE_MENTIONS,r[L.KeybindActions.TOGGLE_USERS]=b.TOGGLE_USERS,r[L.KeybindActions.TOGGLE_HELP]=N.TOGGLE_HELP,r[L.KeybindActions.TOGGLE_MUTE]=T.TOGGLE_MUTE,r[L.KeybindActions.TOGGLE_DEAFEN]=T.TOGGLE_DEAFEN,r[L.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=I.TOGGLE_CATEGORY_COLLAPSED,r[L.KeybindActions.SCROLL_UP]=m.SCROLL_UP,r[L.KeybindActions.SCROLL_DOWN]=m.SCROLL_DOWN,r[L.KeybindActions.QUICKSWITCHER_SHOW]=h.QUICKSWITCHER_SHOW,r[L.KeybindActions.CREATE_DM_GROUP]=l.CREATE_DM_GROUP,r[L.KeybindActions.SEARCH_EMOJIS]=v.SEARCH_EMOJIS,r[L.KeybindActions.SEARCH_GIFS]=_.SEARCH_GIFS,r[L.KeybindActions.TOGGLE_HOTKEYS]=A.TOGGLE_HOTKEYS,r[L.KeybindActions.JUMP_TO_FIRST_UNREAD]=p.JUMP_TO_FIRST_UNREAD,r[L.KeybindActions.CREATE_GUILD]=u.CREATE_GUILD,r[L.KeybindActions.UPLOAD_FILE]=R.UPLOAD_FILE,r[L.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=y.RETURN_TO_AUDIO_CHANNEL,r[L.KeybindActions.CALL_ACCEPT]=a.CALL_ACCEPT,r[L.KeybindActions.CALL_START]=a.CALL_START,r[L.KeybindActions.FOCUS_SEARCH]=s.FOCUS_SEARCH,r[L.KeybindActions.ZOOM_IN]=P.ZOOM_IN,r[L.KeybindActions.ZOOM_OUT]=P.ZOOM_OUT,r[L.KeybindActions.ZOOM_RESET]=P.ZOOM_RESET,r);t.default=k},6169:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(311)),u=c(n(6092)),s=n(0),d=c(n(13)),f=c(n(5517));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleRemove=r.handleRemove.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleExternalFileChange=function(e){this.refs.imageInput&&this.refs.imageInput.handleFileChange(e)},t.prototype.handleRemove=function(){this.props.onChange(null)},t.prototype.render=function(){var e=this.props,t=e.avatar,n=e.size,r=e.hint,c=e.name,p=e.makeURL,h=e.disabled,y=e.onChange,m=e.showIcon,v=e.className,_=e.avatarClassName,E=e.hideSize,g=void 0,S=void 0,T=void 0;if((g=null!=t&&/^data:/.test(t)?t:p(t))?S='url("'+g+'")':T=o("div",{className:f.default.avatarUploaderAcronym},void 0,c.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,"")),h)return o("div",{className:(0,i.default)(f.default.avatarUploader,f.default.disabled,v)},void 0,o("div",{className:(0,i.default)(f.default.avatarUploaderInner,_),style:{backgroundImage:S}},void 0,T));var I=void 0;return null!=t?I=o(l.default,{className:f.default.removeButton,onClick:this.handleRemove},void 0,d.default.Messages.REMOVE):E||(I=o("small",{className:f.default.sizeInfo},void 0,d.default.Messages.MINIMUM_SIZE.format({size:s.AVATAR_SIZE}))),o("div",{className:(0,i.default)(f.default.avatarUploader,v)},void 0,m?o("div",{className:(0,i.default)(f.default.avatarUploaderInner,_),style:{backgroundImage:S}},void 0,T,o("div",{className:f.default.avatarUploaderHint},void 0,r),a.createElement(u.default,{ref:"imageInput",onChange:y,size:n,className:f.default.fileInput}),o("div",{className:f.default.avatarUploaderIndicator})):o("div",{className:(0,i.default)(f.default.avatarUploaderInner,_),style:{backgroundImage:S}},void 0,T,o("div",{className:f.default.avatarUploaderHint},void 0,r),a.createElement(u.default,{ref:"imageInput",onChange:y,size:n,className:f.default.fileInput})),I)},t}(a.PureComponent);p.defaultProps={name:"",size:64,makeURL:function(e){return e},hint:d.default.Messages.CHANGE_AVATAR,disabled:!1,showIcon:!1,hideSize:!1},p.displayName="AvatarUploader",t.default=p,e.exports=t.default},6170:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t){var n=t.getGuildId();if(null==n)throw new Error("no guild id for news editor");o.default.dispatch({type:a.ActionTypes.NEWS_EDITOR_MODAL_OPEN,guildId:n,message:e})},t.createNews=function(e){var t=e.applicationId,n=e.channelId,o=e.messageId,i=e.url,l=e.thumbnail,u=e.thumbnailOverride,s=e.title,d=e.description,f={application_id:t,channel_id:n,message_id:o,url:i,title:s,description:d};null!=u?f.thumbnail_override=u:f.thumbnail=l;return r.default.post({url:a.Endpoints.APPLICATION_NEWS,body:f}).then(function(e){return e.body})},t.updateNews=function(e){var t=e.channelId,n=e.messageId,o=e.newsId,i=e.thumbnail,l=e.title,u=e.description,s={channel_id:t,message_id:n,title:l,description:u};null!=i&&(s.thumbnail=i);return r.default.patch({url:a.Endpoints.APPLICATION_NEWS_BY_ID(o),body:s})},t.deleteNews=function(e,t,n){return r.default.delete({url:a.Endpoints.APPLICATION_NEWS_BY_ID(e),body:{channel_id:t,message_id:n}})},t.close=function(){o.default.dispatch({type:a.ActionTypes.NEWS_EDITOR_MODAL_CLOSE})};var r=i(n(8)),o=i(n(1)),a=(i(n(131)),i(n(330)),n(0));function i(e){return e&&e.__esModule?e:{default:e}}},6171:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){return function(n){function l(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=i(this,n.call.apply(n,[this].concat(o))),e=t,t._subscriptions=null,t.handleSetRef=function(e){t._ref=e},i(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,n),l.prototype.componentDidMount=function(){for(var t in this._subscriptions=e(this.props,this._ref),this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(t)&&a.ComponentDispatch.subscribe(t,this._subscriptions[t])},l.prototype.componentWillUnmount=function(){for(var e in this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(e)&&a.ComponentDispatch.unsubscribe(e,this._subscriptions[e])},l.prototype.render=function(){return o.createElement(t,r({ref:this.handleSetRef},this.props))},l}(o.Component)}};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(109);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6172:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={popFirstFile:function(){a.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_POP_FILE})},pushFiles:function(e){var t=e.files,n=e.channelId;a.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_PUSH_FILES,files:t,channelId:n})},clearAll:function(){a.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_CLEAR_ALL_FILES})}},e.exports=t.default},6173:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(4)),a=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={matureAgree:!1,muted:!0};var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"didMatureAgree",get:function(){return l.matureAgree}},{key:"isDirectoryMuted",get:function(){return l.muted}}]),t}(o.default.Store);t.default=new u(a.default,{APPLICATION_STORE_MATURE_AGREE:function(e){l.matureAgree=!0},APPLICATION_STORE_DIRECTORY_MUTE:function(e){l.muted=!0},APPLICATION_STORE_DIRECTORY_UNMUTE:function(e){l.muted=!1}}),e.exports=t.default},6174:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(310)),u=n(81),s=m(n(833)),d=n(858),f=m(n(221)),c=m(n(306)),p=m(n(6175)),h=m(n(444)),y=m(n(5477));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=400,S=function(e){function t(){var n,r;v(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r._animatedValue=new l.default.Value(1),r.state={imageLoadError:!1,imageLoading:!0},r.componentWillEnter=function(e){r._animatedValue.setValue(0),l.default.timing(r._animatedValue,{toValue:1,duration:g}).start(e)},r.componentWillLeave=function(e){l.default.timing(r._animatedValue,{toValue:0,duration:g}).start(e)},r.getImageStyle=function(){return{opacity:r._animatedValue}},r.handleImageError=function(){r.setState({imageLoadError:!0,imageLoading:!1})},r.handleImageLoaded=function(){r.setState({imageLoading:!1})},_(r,n)}return E(t,e),t.prototype.renderMedia=function(){var e,t=this.props,n=t.src,r=t.className,a=t.title,u=this.state.imageLoading;return o(l.default.img,{className:(0,i.default)((e={},e[y.default.imageLoading]=u,e),r),src:n,alt:a,style:this.getImageStyle(),onError:this.handleImageError,onLoad:this.handleImageLoaded})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.title,r=e.src,a=this.state,u=a.imageLoadError,s=a.imageLoading;return null==r||u?o(l.default.div,{className:(0,i.default)(y.default.titleContainer,t),style:this.getImageStyle()},void 0,n):o(l.default.div,{className:(0,i.default)(s?y.default.loadingContainer:null,t),style:this.getImageStyle()},void 0,s?o(h.default,{className:y.default.spinner,itemClassName:y.default.spinnerItem,type:h.default.Type.PULSING_ELLIPSIS,animated:!0}):null,this.renderMedia())},t}(a.Component);S.displayName="TileMediaImage";var T=function(e){function t(){var n,r;v(this,t);for(var l=arguments.length,p=Array(l),h=0;h<l;h++)p[h]=arguments[h];return n=r=_(this,e.call.apply(e,[this].concat(p))),r.state={currentIndex:0,videoLoadError:!1,videoLoaded:!1},r._video=a.createRef(),r.videoTimeout=new u.Timeout,r.videoPlaying=!1,r.handleToggleMute=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onToggleMute;t&&t(e)},r.handleVideoError=function(){r.setState({videoLoadError:!0})},r.handleVideoLoaded=function(){r.setState({videoLoaded:!0})},r.renderTypeVideo=function(){var e,t=r.state.videoLoaded,n=r.props,l=n.video,u=n.image,p=n.title,h=n.playing,m=n.muted,v=n.splashClassName,_=n.splashPlaceholderClassName,E=n.renderMediaOverlay;return o(a.Fragment,{},void 0,d.isMobile?null:a.createElement("video",{className:(0,i.default)(y.default.splash,v),muted:m,loop:!0,preload:"none",ref:r._video,onLoadedMetadata:r.handleVideoLoaded,onError:r.handleVideoError},o("source",{src:l,type:"video/mp4"})),o(s.default,{},void 0,h&&t?null:o(S,{className:(0,i.default)(y.default.splashPlaceholder,_),src:u,title:p},0)),o(f.default,{className:(0,i.default)(y.default.muteContainer,(e={},e[y.default.muteContainerPlaying]=h&&t,e[y.default.muteContainerMediaOverlay]=null!=E,e)),onClick:r.handleToggleMute},void 0,h&&t?o(c.default,{name:m?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:y.default.mute}):null))},r.nextItem=function(){var e=r.props.slideImages;null!=e&&r.setState({currentIndex:(r.state.currentIndex+1)%e.length})},r.renderSlideItem=function(e){var t=r.props,n=t.image,a=t.title,l=t.playing,u=t.splashClassName,s=r.state.currentIndex;return l?o(S,{className:(0,i.default)(y.default.splash,u),src:e[s],title:a},s):o(S,{className:(0,i.default)(y.default.splash,u),src:n,title:a},"image")},_(r,n)}return E(t,e),t.prototype.componentWillUnmount=function(){this.videoTimeout.stop()},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.playing,r=this._video.current;if(null!=r)if(n&&!e.playing){this.videoTimeout.stop(),isFinite(r.duration)&&isFinite(r.currentTime)&&(r.currentTime=0),r.volume=.3;var o=r.play();null!=o&&o.then(function(){t.videoPlaying=!0})}else e.playing&&!n&&this.videoTimeout.start(g,function(){t.videoPlaying&&(r.pause(),t.videoPlaying=!1)})},t.prototype.renderTypeImage=function(){var e=this.props,t=e.playing,n=e.slideImages,r=e.image,a=e.title,l=e.splashClassName;return null==n?o(S,{className:(0,i.default)(y.default.splash,l),src:r,title:a},"image"):o(p.default,{onInterval:this.nextItem,interval:2e3,className:y.default.slideshowWrapper,disable:!t},void 0,o(s.default,{},void 0,this.renderSlideItem(n)))},t.prototype.render=function(){var e=this.props,t=e.video,n=e.className,r=e.placeholder,a=e.renderMediaOverlay,l=e.playing,u=this.state,s=u.videoLoadError,d=u.videoLoaded;return r?o("div",{className:n}):o("figure",{className:(0,i.default)(y.default.tileMedia,n)},void 0,null==t||s?this.renderTypeImage():this.renderTypeVideo(),null!=a&&a(l&&d))},t}(a.Component);T.displayName="TileMedia",t.default=T,e.exports=t.default},6175:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(81);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.timer=new a.Interval,r.state={hovered:!1},r.handlePause=function(){r.state.hovered||r.setState({hovered:!0})},r.handleResume=function(){r.setState({hovered:!1})},i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null},t.prototype.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,n=e.disable,r=this.state.hovered&&t;n||r||this.startTimer()},t.prototype.componentWillUnmount=function(){this.stopTimer()},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},o=r(n,this.state),a=r(e,t);o&&!a||e.interval!==n.interval?this.startTimer():!o&&a&&this.stopTimer()},t.prototype.startTimer=function(){var e=this.props,t=e.interval,n=e.onInterval;e.disable||this.timer.start(t,function(){n()})},t.prototype.stopTimer=function(){this.timer.stop()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return o.createElement("div",r({},a,{className:n}),t)},t}(o.Component);l.defaultProps={disable:!1,pauseOnHover:!1},l.displayName="IntervalWrapper",t.default=l,e.exports=t.default},6176:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(310)),l=s(n(833)),u=s(n(5492));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){var n,r;d(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(l))),r.state={animationProgress:new i.default.Value(0),animating:!1,targetHeight:0,baseHeight:0,leaving:!1},r.direction=r.props.getDirection(),r._measureRef=a.createRef(),f(r,n)}return c(t,e),t.prototype.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}},t.prototype.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)},t.prototype.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2),this.setState({baseHeight:n})},t.prototype.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animating:!0}),this.props.setHeight(this.state.targetHeight),i.default.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)},t.prototype.componentDidEnter=function(){this.setState({animating:!1})},t.prototype.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,o=n.getDirection;this.direction=o(),this.setState({leaving:!0}),i.default.timing(t,{toValue:0,duration:r}).start(e)},t.prototype.getAnimatedStyle=function(){var e=this.state,t=e.animationProgress,n=e.leaving,r=e.baseHeight,o=e.targetHeight,a=e.animating,l=this.props.sideMargin||0,u=(n?-1:1)*this.direction;return{transform:[{translateX:t.interpolate({inputRange:[0,2],outputRange:[150*u+"%","0%"],extrapolate:"clamp",easing:i.default.Easing.inOut(i.default.Easing.ease)})}],height:a?t.interpolate({inputRange:[0,1],outputRange:[r,o],extrapolate:"clamp",easing:i.default.Easing.inOut(i.default.Easing.ease)}):"auto",opacity:t.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:i.default.Easing.inOut(i.default.Easing.ease)}),overflow:a?"hidden":"auto",position:n?"absolute":void 0,top:n?0:void 0,left:n?l:void 0,right:n?l:void 0,bottom:n?0:void 0}},t.prototype.render=function(){return o(i.default.div,{style:this.getAnimatedStyle()},void 0,a.createElement("div",{ref:this._measureRef,className:u.default.measurement},this.props.children))},t}(a.PureComponent);p.defaultProps={duration:300},p.displayName="SequenceAnimation";var h=function(e){function t(){var n,r;d(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.stepHeights={},r.prevStep=null,r.prevSteps=[],r.getBaseHeight=function(){return null!=r.prevStep&&null!=r.stepHeights[r.prevStep]?r.stepHeights[r.prevStep]:0},r.getDirection=function(){var e=r.props,t=e.steps,n=e.step,o=t.indexOf(r.prevStep),a=-1===o?r.prevSteps.indexOf(r.prevStep):-1;return Math.max(o,a)>t.indexOf(n)?-1:1},r.setHeight=function(e){var t=r.props.step;r.stepHeights[t]=e},f(r,n)}return c(t,e),t.prototype.componentDidMount=function(){this.setPrevSteps()},t.prototype.componentDidUpdate=function(){this.setPrevSteps()},t.prototype.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t,this.prevSteps=n},t.prototype.render=function(){var e=this.props,t=e.step,n=e.sideMargin,r=e.children;return o(l.default,{component:"div"},void 0,o(p,{sideMargin:n,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,setHeight:this.setHeight},t,r))},t}(a.Component);h.displayName="Sequencer",t.default=h,e.exports=t.default},6177:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=/.+/g,i=t.NON_TOKEN_TYPE="NON_TOKEN";function l(e,t,n){if(!t)return null;for(var r=0;r<t.length;r++){var o=t[r],a=u(e.match(o.regex),n),i=void 0;if(a){var l=o.cache;if(l&&(i=l.get(a[0]))&&((i=new d(i)).start=a.index),!i){if(i=new d(a,o.type),o.validator&&!o.validator(i))continue;l&&!l.has(a[0])&&l.set(a[0],i)}return i}}return null}function u(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}var s=t.QueryTokenizer=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];o(this,e),this.reset(n,r),n.forEach(function(e){return t.addRule(e)})}return e.prototype.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||i},e.prototype.addRule=function(e){var t=this,n=e.type,r=e.follows,o=e.validator,a=e.regex;"^"!==a.source.charAt(0)&&(a=new RegExp("^"+a.source,a.flags));var i=void 0;o&&(i=new Map),r?r.forEach(function(e){t._followers[e]||(t._followers[e]=[]),t._followers[e].push({regex:a,type:n,validator:o,cache:i})}):this._rules.push({regex:a,type:n,validator:o,cache:i})},e.prototype.tokenize=function(e){for(var t=e,n="",r=0,o=void 0,i=[];t.length;){var l=this._getMatch(t,o,r+n.length);l?(n&&i.push(new d(u(n.match(a),r),this._nonTokenType)),o=l,i.push(l),r+=o.length+n.length,t=t.substring(o.length),n=""):(n+=t[0],t=t.substring(1))}return n&&i.push(new d(u(n.match(a),r),this._nonTokenType)),i},e.prototype.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},e.prototype._getMatch=function(e,t,n){var r=t?t.type:null,o=void 0;return t&&t.end===n&&(o=l(e,this._followers[r],n)),o||(o=l(e,this._rules,n)),o},e}(),d=t.Token=function(){function e(t,n){o(this,e),t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}return e.prototype.valueOf=function(){return this.match[0]},e.prototype.getFullMatch=function(){return this.match[0]},e.prototype.getMatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.match[e]},e.prototype.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},e.prototype.getData=function(e){if(this._data)return this._data.get(e)},r(e,[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}]),e}();s.NON_TOKEN_TYPE=i,s.Token=d,t.default=s},6178:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(23)),a=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l="GuildNSFWAgreeStore",u={};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){u=o.default.get(l)||u},t.prototype.didAgree=function(e){return null!=e&&(u[e]||!1)},t}(r.default.Store);t.default=new s(a.default,{GUILD_NSFW_AGREE:function(e){var t=e.guildId;u[t]=!0,o.default.set(l,u)}}),e.exports=t.default},6180:function(e,t,n){"use strict";t.__esModule=!0,t.PRETTY_KEYS=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(6014)),l=u(n(5363));function u(e){return e&&e.__esModule?e:{default:e}}var s=o("g",{fill:"#4F545C"},void 0,o("polygon",{transform:"translate(5.025000, 5.000000) scale(1, -1) translate(-5.025000, -5.000000) ",points:"4.16666667 10 4.16666672 3.33333333 1.25 6.25 0.05 5 5.00000005 0 9.99999967 5 8.75 6.25 5.83333338 3.33333333 5.83333333 10"})),d=function(e){var t=e.direction,n=void 0===t?"up":t;return o("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg",className:(0,a.default)(l.default.bindArrow,l.default[n])},void 0,s)};d.displayName="ArrowSVG";var f=o(d,{direction:"up"}),c=o(d,{direction:"down"}),p=o(d,{direction:"left"}),h=o(d,{direction:"right"}),y=t.PRETTY_KEYS={mod:function(){return i.default.modKey},alt:function(){return i.default.altKey},up:function(){return f},down:function(){return c},left:function(){return p},right:function(){return h},pageup:function(){return"page up"},pagedown:function(){return"page down"},"any-character":function(){return"any key"},return:function(){return i.default.returnKey}},m=function(e){var t=e.shortcut,n=e.className;return o("div",{className:(0,a.default)(l.default.keybindShortcut,n)},void 0,t.split("+").map(function(e){return y[e]?y[e]():e}).map(function(e,t){return o("span",{},t,e)}))};m.displayName="KeyboardShortcut",t.default=m},6181:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e,t,n,r){o.default.dispatch({type:a.ActionTypes.CREATE_CHANNEL_MODAL_OPEN,channelType:e,guildId:t,categoryId:n,cloneChannelId:r})},close:function(){o.default.dispatch({type:a.ActionTypes.CREATE_CHANNEL_MODAL_CLOSE})},createChannel:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments[4],u=arguments[5],s=arguments[6],d=this,f=arguments[7],c=arguments[8];o.default.dispatch({type:a.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT});var p={type:t,name:n,permission_overwrites:i};if(null!=l&&l!==a.BITRATE_DEFAULT&&(p.bitrate=l),null!=u&&u>0&&(p.user_limit=u),null!=s&&(p.parent_id=s),t===a.ChannelTypes.GUILD_STORE){if(null==f)throw new Error("Unexpected missing SKU");p.sku_id=f,p.branch_id=c}r.default.post({url:a.Endpoints.GUILD_CHANNELS(e),body:p}).then(function(){return d.close()},function(e){return o.default.dispatch({type:a.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT_FAILURE,errors:e.body})})}},e.exports=t.default},6182:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselNext=t.CarouselPrevious=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(6110)),u=c(n(128)),s=n(313),d=c(s),f=c(n(5569));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={CENTER:f.default.alignCenter,LEFT:f.default.alignLeft},v=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r._paginationItemRefs=[],r.handleSetScrollerRef=function(e){r._scrollerRef=e},r.handleSelectedIndexChange=function(e){var t=r._scrollerRef;if(null!=t){var n=r._paginationItemRefs[e];null!=n&&t.scrollIntoView(n,!0,r.props.scrollToPadding)}},r.handlePageClick=function(e){(0,r.props.onSetItem)(e)},h(r,n)}return y(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderItem,r=t.items,o=t.vertical,l=t.paginationContainerClass,u=t.align,c=t.gutterStyle,p=o?d.default:s.HorizontalScroller,h=o?f.default.verticalPaginationItemContainer:f.default.horizontalPaginationItemContainer;return a.createElement(p,{track:!0,gutterStyle:c,className:(0,i.default)(h,l,u),ref:this.handleSetScrollerRef},r.map(function(t,r){return a.cloneElement(n(t,r),{onClick:function(){return e.handlePageClick(r)},key:r,ref:function(t){e._paginationItemRefs[r]=t}})}))},t}(a.PureComponent);v.Align=m,v.Gutter=d.default.GutterStyles,v.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0},align:m.CENTER},v.displayName="CarouselPaginationStrip",(t.CarouselPrevious=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return y(t,e),t.prototype.render=function(){var e=this.props.className;return o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:(0,i.default)(f.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,o(l.default,{className:f.default.arrow,direction:l.default.Directions.LEFT}))},t}(a.PureComponent)).displayName="CarouselPrevious",(t.CarouselNext=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return y(t,e),t.prototype.render=function(){var e=this.props.className;return o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:(0,i.default)(f.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,o(l.default,{className:f.default.arrow,direction:l.default.Directions.RIGHT}))},t}(a.PureComponent)).displayName="CarouselNext",t.default=v},6183:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(310)),l=n(231),u=h(n(128)),s=h(n(152)),d=n(109),f=n(0),c=h(n(13)),p=h(n(5623));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={color:new i.default.Value(0)},r.handleOnSave=r.handleOnSave.bind(r),r.handleOnReset=r.handleOnReset.bind(r),r.emphasize=r.emphasize.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){d.ComponentDispatch.subscribe(f.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},t.prototype.componentWillUnmount=function(){d.ComponentDispatch.unsubscribe(f.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},t.prototype.handleOnSave=function(e){(0,this.props.onSave)(e)},t.prototype.handleOnReset=function(e){(0,this.props.onReset)(e)},t.prototype.emphasize=function(){var e=this.state.color;i.default.sequence([i.default.timing(e,{toValue:1,duration:170,easing:i.default.Easing.quad}),i.default.timing(e,{delay:500,toValue:0,duration:170,easing:i.default.Easing.quad})]).start()},t.prototype.render=function(){var e=this.props.submitting;return o(i.default.div,{className:p.default.container,style:this.getContainerStyle()},void 0,o(s.default,{align:s.default.Align.CENTER},void 0,o(s.default.Child,{},void 0,o(i.default.div,{className:p.default.message,style:this.getTextStyle()},void 0,c.default.Messages.SETTINGS_NOTICE_MESSAGE)),o(s.default,{grow:0,justify:s.default.Justify.END},void 0,o(u.default,{className:p.default.resetButton,size:u.default.Sizes.SMALL,color:u.default.Colors.PRIMARY,look:u.default.Looks.LINK,onClick:this.handleOnReset},void 0,o(i.default.span,{style:this.getTextStyle()},void 0,c.default.Messages.RESET)),o(u.default,{className:p.default.button,size:u.default.Sizes.SMALL,color:u.default.Colors.GREEN,submitting:e,onClick:this.handleOnSave},void 0,c.default.Messages.SAVE_CHANGES))))},t.prototype.getTextStyle=function(){var e=this.state.color,t=f.Colors.WHITE;return this.props.theme===f.ThemeTypes.LIGHT&&(t=f.Colors.PRIMARY_DARK_500),{color:e.interpolate({inputRange:[0,1],outputRange:[t,f.Colors.WHITE]})}},t.prototype.getContainerStyle=function(){var e=this.state.color,t=(0,l.hex2rgb)(f.Colors.PRIMARY_DARK_700,.9);return this.props.theme===f.ThemeTypes.LIGHT&&(t=(0,l.hex2rgb)(f.Colors.STATUS_GREY_100,.9)),{backgroundColor:e.interpolate({inputRange:[0,1],outputRange:[t,(0,l.hex2rgb)(f.Colors.STATUS_RED_500,.9)]})}},t}(a.PureComponent);y.displayName="SettingsNotice",t.default=y,e.exports=t.default},6185:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetchForGuild:function(e){o.default.dirtyDispatch({type:a.ActionTypes.WEBHOOKS_FETCHING,guildId:e}),r.default.get(a.Endpoints.GUILD_WEBHOOKS(e)).then(function(t){var n=t.body;return o.default.dispatch({type:a.ActionTypes.WEBHOOKS_UPDATE,guildId:e,webhooks:n})}).catch(function(t){var n=t.body;o.default.dispatch({type:a.ActionTypes.WEBHOOKS_UPDATE,guildId:e,error:n.message})})},fetchForChannel:function(e,t){o.default.dirtyDispatch({type:a.ActionTypes.WEBHOOKS_FETCHING,guildId:e,channelId:t}),r.default.get(a.Endpoints.CHANNEL_WEBHOOKS(t)).then(function(n){var r=n.body;return o.default.dispatch({type:a.ActionTypes.WEBHOOKS_UPDATE,guildId:e,channelId:t,webhooks:r})})},create:function(e,t,n){return r.default.post({url:a.Endpoints.CHANNEL_WEBHOOKS(t),body:n}).then(function(t){var n=t.body;return o.default.dispatch({type:a.ActionTypes.WEBHOOK_CREATE,guildId:e,webhook:n}),n})},delete:function(e,t){return r.default.delete(a.Endpoints.WEBHOOK(t)).then(function(){o.default.dispatch({type:a.ActionTypes.WEBHOOK_DELETE,guildId:e,webhookId:t})})},update:function(e,t,n){return r.default.patch({url:a.Endpoints.WEBHOOK(t),body:n}).then(function(t){var n=t.body;return o.default.dispatch({type:a.ActionTypes.WEBHOOK_UPDATE,guildId:e,webhook:n}),n})}},e.exports=t.default},6186:function(e,t,n){"use strict";t.__esModule=!0,t.makeChannelSortable=function(e){return(0,r.DropTarget)(v,{drop:function(e,t){var n=t.getItem(),r=(0,c.getDropData)(u.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null!=r){var l=u.default.getChannel(n.id);if(null!=l){var p=e.channel.getGuildId(),m=s.default.getCategories(p),v=d.default.getGuild(p);if(null!=v){var _=(0,c.getDnDUpdates)(l,u.default.getChannel(r.referenceId),r.parentId,m);if(0!==_.length){var E=f.default.getCurrentUser();_=_.filter(function(e){var t=e.id,n=u.default.getChannel(t);if(null==n)return!1;var r=u.default.getChannel(n.parent_id);return n.type===y.ChannelTypes.GUILD_CATEGORY||null==r?h.default.can(y.Permissions.MANAGE_CHANNELS,E,v):h.default.can(y.Permissions.MANAGE_CHANNELS,E,r)});var g=void 0;if(l.parent_id!==r.parentId&&_.find(function(e){if(e.id!==l.id)return!1;var t=u.default.getChannel(e.parent_id),n=null!=t&&h.default.can(y.Permissions.MANAGE_ROLES,E,l)&&h.default.can(y.Permissions.MANAGE_ROLES,E,t);if(!n)return!0;var r=h.default.areChannelsLocked(l,t),o=h.default.areChannelsLocked(l,u.default.getChannel(l.parent_id));return(null==l.parent_id&&!r||o&&!r)&&(g=e),!0}),null!=g){var S=u.default.getChannel(g.parent_id);a.default.push(i.default,{channel:l,category:S,onSync:function(){null!=g&&(g.lock_permissions=!0,o.default.batchChannelUpdate(p,_))},onCancel:function(){null!=g&&o.default.batchChannelUpdate(p,_)}})}else o.default.batchChannelUpdate(p,_)}}}}},canDrop:function(e,t){var n=t.getItem(),r=u.default.getChannel(n.id),o=f.default.getCurrentUser();if(null==r)return!1;var a=(0,c.getDropData)(u.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList),i=d.default.getGuild(n.guildId);if(null==a||null==i)return!1;var l=u.default.getChannel(a.parentId),s=u.default.getChannel(r.parent_id),p=h.default.can(y.Permissions.MANAGE_CHANNELS,o,i),m=null!=s?h.default.can(y.Permissions.MANAGE_CHANNELS,o,s):p,v=null!=l?h.default.can(y.Permissions.MANAGE_CHANNELS,o,l):p;return m&&v}},function(e,t){var n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parent:null}})((0,r.DragSource)(v,{canDrag:function(e){var t=e.channel,n=f.default.getCurrentUser(),r=d.default.getGuild(t.getGuildId());if(null==r)return!1;if(t.type===y.ChannelTypes.GUILD_CATEGORY)return h.default.can(y.Permissions.MANAGE_CHANNELS,n,r);var o=u.default.getChannel(t.parent_id);return null!=o&&h.default.can(y.Permissions.MANAGE_CHANNELS,n,o)||null==o&&h.default.can(y.Permissions.MANAGE_CHANNELS,n,r)},beginDrag:function(e){var t=e.channel,n=t.id,r=t.parent_id,o=t.guild_id,a=t.type,i=e.position,u=f.default.getCurrentUser(),d=s.default.getCategories(o),c=(0,p.getFlattenedChannelList)(d._categories,d,function(e){var t=e.channel;return t.type===y.ChannelTypes.GUILD_CATEGORY&&d[t.id]&&0===d[t.id].length?h.default.can(y.Permissions.MANAGE_CHANNELS,u,t)&&h.default.can(y.Permissions.VIEW_CHANNEL,u,t):!l.default.isCollapsed(t.parent_id)});return{isChannelDrag:!0,id:n,position:i,parentId:r,type:a,channelList:c,guildId:o}}},function(e){return{connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}})(e))};var r=n(897),o=m(n(832)),a=m(n(80)),i=m(n(6787)),l=m(n(860)),u=m(n(22)),s=m(n(853)),d=m(n(28)),f=m(n(15)),c=n(6575),p=n(454),h=m(n(100)),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var v="DRAGGABLE_GUILD_CHANNEL"},6187:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=l(n(17)),i=l(n(5502));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.application,n=e.splashSize,r=e.className,l=e.overrideSplash,u=null!=l?l:t.getSplashURL(n),s=null!=u?"url("+u+")":null;return o("div",{className:(0,a.default)(i.default.splashBackground,r),style:{backgroundImage:s}})}u.displayName="ApplicationSplashBackground",e.exports=t.default},6189:function(e,t,n){"use strict";t.__esModule=!0,t.subscribeMembers=function(e,t){a.default.dirtyDispatch({type:l.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD,guildId:e,userIds:t})},t.unsubscribeMembers=function(e,t){a.default.dirtyDispatch({type:l.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE,guildId:e,userIds:t})},t.subscribeChannel=u,t.subscribeChannelDimensions=function(e,t,n,r,o){function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(0,Math.ceil(Math.ceil(e/o))+t)}var l=[];function s(e){var t=e+(i.MINIMUM_RANGE-1);return l.push([e,t]),t+1}var d=a(.5*r),f=a(n,-d),c=a(n+r,d);f>0&&(f=Math.max(s(0),f));f=Math.floor(f/i.MINIMUM_RANGE)*i.MINIMUM_RANGE;for(;f<=c;)f=s(f);u(e,t,l)};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(6190),l=n(0);function u(e,t,n){a.default.dirtyDispatch({type:l.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL,guildId:e,channelId:t,ranges:n})}},6190:function(e,t,n){"use strict";t.__esModule=!0,t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var r=a(n(6)),o=a(n(879));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.MINIMUM_RANGE=100;t.DEFAULT_RANGES=[[0,i-1]];function l(e){var t={};return e.forEach(function(e,n){t[n]=e}),t}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptions={},this._onChange=t}return e.prototype.reset=function(){this._subscriptions={}},e.prototype.get=function(e){return l(this._get(e))},e.prototype._get=function(e){return this._subscriptions[e]||new o.default({max:5})},e.prototype.clear=function(e){delete this._subscriptions[e]},e.prototype.subscribe=function(e,t,n){var o=this._get(e);r.default.isEqual(o.get(t),n)||(o.set(t,n),this._subscriptions[e]=o,this._onChange(e,l(o)))},e}();t.default=u},6191:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(17)),u=v(n(308)),s=v(n(4)),d=v(n(35)),f=v(n(221)),c=v(n(186)),p=v(n(850)),h=n(0),y=v(n(13)),m=v(n(5381));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,u.default)({displayName:"AutocompletePopout",getDefaultProps:function(){return{sections:[null],position:"top"}},getInitialState:function(){return this.createState()},UNSAFE_componentWillReceiveProps:function(){this.setState(this.createState(this.state.prefix))},createState:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=new RegExp("^"+c.default.escape(t.trim()),"i"),r=function(e){return n.test(e)},o=this.props.sections.map(function(t,n){return e.props.onFilterResults(r,n)}),a=0;a<o.length&&!(o[a].length>0);a++);return{prefix:t,selectedSection:a,selectedRow:0,rows:o}},componentDidMount:function(){r.nextTick(this.focus)},handleChange:function(e){var t=e.target.value;this.props.onQueryChange&&this.props.onQueryChange(t),this.setState(this.createState(t))},handleMouseEnter:function(e,t){this.setState({selectedSection:e,selectedRow:t})},handleClick:function(e,t){this.props.onSelect(this.state.rows[e][t],e),this.props.onClose()},handleKeyDown:function(e){var t=this.state,n=t.selectedSection,r=t.selectedRow;switch(e.keyCode){case h.KeyboardKeys.TAB:if(h.EnableAccessibility)break;case h.KeyboardKeys.ARROW_DOWN:e.preventDefault(),this.props.sections.length>n&&++r>=this.state.rows[n].length&&(++n>=this.props.sections.length&&(n=0),r=0),this.setState({selectedSection:n,selectedRow:r});break;case h.KeyboardKeys.ARROW_UP:e.preventDefault(),--r<0&&(--n<0&&(n=this.props.sections.length-1),r=this.state.rows[n].length-1),this.setState({selectedSection:n,selectedRow:r});break;case h.KeyboardKeys.ENTER:e.preventDefault(),this.props.sections.length>n&&this.state.rows[n].length>r&&(this.props.onSelect(this.state.rows[n][r],n),this.props.onClose());break;case h.KeyboardKeys.ESCAPE:e.preventDefault(),this.props.onSelect(null,null),this.props.onClose()}},render:function(){var e=this,t=this.props,n=t.theme,r=t.position,o=[];if(0===this.state.rows.reduce(function(e,t){return e+t.length},0))o.push(a("div",{className:m.default.empty},"empty",a("h4",{className:m.default.noResultsHeader},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_HEADER),a("p",{},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_BODY)));else{var u=this.state,s=u.selectedSection,d=u.selectedRow;this.props.sections.forEach(function(t,n){var r=e.state.rows[n];0!==r.length&&(o.push(a("div",{className:m.default.section},n,t)),r.forEach(function(t,r){var i;o.push(a(f.default,{onClick:e.handleClick.bind(e,n,r),onMouseEnter:e.handleMouseEnter.bind(e,n,r),className:(0,l.default)(m.default.row,(i={},i[m.default.selected]=s===n&&d===r,i))},n+"-"+r,a("span",{},void 0,e.props.onRenderResult(t,n))))}))})}return a("div",{className:(0,l.default)(m.default.container,function(e){switch(e){case"bottom":return m.default.positionBottom;default:return m.default.positionTop}}(r))},void 0,a("div",{className:m.default.autocompleteShadow}),a("div",{className:m.default.autocompleteArrowWrapper},void 0,a("div",{className:m.default.autocompleteArrow})),a("header",{className:m.default.header},void 0,a("div",{className:m.default.autocompleteHeaderBackground}),a("h3",{className:m.default.headerText},void 0,this.props.label),i.createElement("input",{type:"text",className:m.default.input,placeholder:this.props.placeholder,ref:"input",onChange:this.handleChange,onKeyDown:this.handleKeyDown})),a("section",{className:m.default.sectionTag},void 0,a(p.default,{className:m.default.autocompleteScroller,fade:!0,theme:n===h.ThemeTypes.DARK?p.default.Themes.DARK:p.default.Themes.LIGHT,elementHeight:44},void 0,o)))},focus:function(){null!=this.refs.input&&this.refs.input.focus()}});t.default=s.default.connectStores([d.default],function(){return{theme:d.default.theme}})(_),e.exports=t.default}).call(this,n(52))},6192:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e));return o._interval=new i.Interval,o.state=r({},o.getUpdatedTime()),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){var e=this;this._interval.start(1e3,function(){return e.setState(e.getUpdatedTime())})},n.prototype.componentWillUnmount=function(){this._interval.stop()},n.prototype.componentDidUpdate=function(e){e.timestamps.end===this.props.timestamps.end&&e.timestamps.start===this.props.timestamps.start||this.setState(this.getUpdatedTime())},n.prototype.getUpdatedTime=function(){var e=this.props.timestamps,t=Date.now()/1e3;return null!=e.end?this.getDiff(t,d(e.end)/1e3):null!=e.start?this.getDiff(d(e.start)/1e3,t):{hours:0,minutes:0,seconds:0}},n.prototype.renderTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&e<=0?-1:e<10?"0"+e:e},n.prototype.getDiff=function(e,t){var n=Math.max(t-e,0),r=Math.floor(n)%60,o=Math.floor(n/60)%60,a=Math.floor(n/3600)%24;return{hours:a,minutes:o,seconds:r}},n.prototype.render=function(){var t=this.props,n=t.timestamps,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["timestamps"]),i=this.state,l=i.hours,s=i.minutes,d=i.seconds,f={hours:this.renderTime(l,!0),minutes:this.renderTime(s),seconds:this.renderTime(d)};return null!=n.end?a.createElement(e,r({},o,{message:u.default.Messages.USER_ACTIVITY_TIMESTAMP_END.format(f)})):null!=n.start?a.createElement(e,r({},o,{message:u.default.Messages.USER_ACTIVITY_TIMESTAMP_START.format(f)})):null},n}(a.PureComponent)};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(81),l=n(13),u=(o=l)&&o.__esModule?o:{default:o};var s=13;function d(e){return(""+e).length<s?1e3*e:e}e.exports=t.default},6193:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(846),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);var l=(0,a.default)(i.Experiments.AF2_TRENDING_APPLICATIONS,"AF2 Trending Games","Test the effect of showing news for trending games on new user habits in AF");t.default=l,e.exports=t.default},6194:function(e,t,n){"use strict";t.__esModule=!0,t.addInstallLocation=function(e){o.default.queryDirectory(e,function(t,n){null==t&&null!=n&&r.default.dispatch({type:a.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:n})})},t.removeInstallLocation=function(e){r.default.dispatch({type:a.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})},t.updateInstallLocation=function(e,t){var n=t.label,o=t.isDefault;r.default.dispatch({type:a.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:n,isDefault:o})},t.fetchMetadata=function(e){for(var t={},n=0,i=function(i){if(null==i||"string"!=typeof i)return"continue";o.default.queryDirectory(i,function(o,l){++n,null==o&&null!=l&&(t[i]=l),n===e.length&&r.default.dispatch({type:a.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:t})})},l=e,u=Array.isArray(l),s=0,l=u?l:l[Symbol.iterator]();;){var d;if(u){if(s>=l.length)break;d=l[s++]}else{if((s=l.next()).done)break;d=s.value}var f=d;i(f)}};var r=i(n(1)),o=i(n(341)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6195:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(17)),u=v(n(5)),s=n(114),d=n(5992),f=n(233),c=v(n(311)),p=v(n(221)),h=v(n(6033)),y=n(0),m=v(n(5394));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.state={playingVideo:!1},r.handlePlay=function(){r.setState({playingVideo:!0});var e=r.props.onVideoPlay;e&&e()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBackgroundURL=function(){var e=this.props,t=e.game,n=e.news.thumbnail;return null!=n&&null!=n.proxy_url?(0,f.getSizedImageSrc)(n.proxy_url,600,210,"png"):t.getSplashURL(600)},t.prototype.getSubtitle=function(){var e=this.props.news,t=null!=e.timestamp?(0,d.dateFormat)((0,u.default)(e.timestamp),"LL"):null,n=e.author;return null!=t&&null!=n?t+" · "+n.name:null!=n?n.name:null!=t?t:void 0},t.prototype.renderBase=function(e){var t=this.props,n=t.news,r=n.title,o=n.description,u=t.backgroundClassname,s=this.getBackgroundURL(),d=this.getSubtitle();return a(i.Fragment,{},void 0,a("div",{className:(0,l.default)(u,m.default.background,null!=s?m.default.splash:m.default.splashBackup),style:null!=s?{backgroundImage:"url("+s+")"}:null}),a("div",{className:m.default.body},void 0,a("div",{className:m.default.title},void 0,r),e&&null!=o?a("div",{className:m.default.description},void 0,o):null,null!=d?a("div",{className:m.default.subtitle},void 0,d):null))},t.prototype.renderArticle=function(){var e,t=this.props,n=t.news,r=t.className,a=(t.backgroundClassname,t.game,t.onVideoPlay,_(t,["news","className","backgroundClassname","game","onVideoPlay"]));return i.createElement(c.default,o({},a,{href:n.url,className:(0,l.default)(m.default.newsLink,(e={},e[m.default.fixedHeight]=null!=this.getBackgroundURL(),e),r)}),this.renderBase(!0))},t.prototype.renderVideo=function(){var e=this.props,t=e.news,n=e.className,r=e.onClick;e.game,_(e,["news","className","onClick","game"]);if(this.state.playingVideo&&null!=t.video){var i=(0,s.parse)(t.video.url,!0);return i.query=o({},i.query,{autoplay:1}),a(p.default,{onClick:r,className:(0,l.default)(m.default.newsPlayingVideo,n)},void 0,a("iframe",{src:(0,s.format)(i),frameBorder:0,allowFullScreen:!0,className:m.default.video}))}return a(p.default,{onClick:r,className:(0,l.default)(m.default.news,m.default.fixedHeight,n)},void 0,this.renderBase(!1),a("div",{className:m.default.videoControls},void 0,a(h.default,{externalURL:t.url,onPlay:this.handlePlay})))},t.prototype.render=function(){switch(this.props.news.type){case y.EmbedTypes.VIDEO:return this.renderVideo();default:case y.EmbedTypes.ARTICLE:return this.renderArticle()}},t}(i.Component);g.displayName="ActivityFeedCardNews",t.default=g,e.exports=t.default},6196:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=f(n(310)),s=f(n(833)),d=f(n(5397));function f(e){return e&&e.__esModule?e:{default:e}}var c={friction:7,tension:40,overshootClamping:!0},p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._animated=new u.default.Value(-1*n.getDirection()),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillEnter=function(e){this._animated.setValue(-this.props.getDirection()),u.default.spring(this._animated,a({toValue:0},c)).start(e)},t.prototype.componentDidAppear=function(){this._animated.setValue(0)},t.prototype.componentWillLeave=function(e){u.default.spring(this._animated,a({toValue:this.props.getDirection()},c)).start(e)},t.prototype.getStyle=function(){return u.default.accelerate({transform:[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]})},t.prototype.render=function(){return o(u.default.div,{style:this.getStyle(),className:d.default.item},void 0,this.props.children)},t}(i.PureComponent);p.displayName="Item";var h=function(e){var t=e.children,n=e.step,r=e.getDirection,a=e.className;return o(s.default,{component:"div",className:(0,l.default)(d.default.animator,a)},void 0,o(p,{getDirection:r},n,t))};h.displayName="SlideAnimator",t.default=h,e.exports=t.default},6197:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=H(n(2)),l=B(n(4)),u=H(n(893)),s=B(n(182)),d=B(n(80)),f=B(n(830)),c=B(n(848)),p=B(n(160)),h=n(839),y=n(867),m=B(n(5980)),v=B(n(158)),_=B(n(890)),E=B(n(5354)),g=B(n(464)),S=B(n(320)),T=B(n(156)),I=B(n(43)),C=B(n(90)),N=B(n(91)),A=B(n(15)),O=B(n(5357)),b=B(n(6286)),M=B(n(18)),R=n(322),P=B(n(9)),L=B(n(45)),w=B(n(456)),D=n(6088),U=B(D),k=B(n(6288)),G=B(n(6289)),x=n(0),F=B(n(13)),j=B(n(5365));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),m=0;m<o;m++)l[m]=arguments[m];return n=r=V(this,e.call.apply(e,[this].concat(l))),r.renderSpotifyPlayButton=function(e){var t=r.props,n=t.channelId,o=t.guildId,l=t.source;return i.createElement(U.default,a({type:D.SpotifyButtonTypes.USER_ACTIVITY_PLAY,guildId:o,channelId:n,source:l},e))},r.renderSpotifySyncButton=function(e){var t=r.props,n=t.channelId,o=t.guildId,l=t.source;return i.createElement(U.default,a({type:D.SpotifyButtonTypes.USER_ACTIVITY_SYNC,guildId:o,channelId:n,source:l},e))},r.renderXboxButton=function(e){return i.createElement(k.default,a({onOpenConnections:r.props.onOpenConnections},e))},r.handleWatchStream=function(e){if(null!=e){var t=e.guild,n=e.channel,o=r.props.user;p.default.selectVoiceChannel(t.id,n.id),L.default.transitionTo(x.Routes.CHANNEL(t.id,n.id));var a=E.default.getActiveStream();null!=a&&a.channelId===n.id||(0,y.watchStream)({guildId:t.id,channelId:n.id,ownerId:o.id}),f.default.closeAll()}},r.handleJoinRequest=function(e){r.validateAction()&&null!=e.session_id&&null!=e.application_id&&(u.request(r.props.user,e),r.trackApplicationOpened(e,x.AnalyticsGameOpenTypes.ASK_TO_JOIN))},r.handleSpectate=function(e){r.validateAction()&&null!=e.session_id&&null!=e.application_id&&(s.default.spectate(r.props.user.id,e.session_id,e.application_id),r.trackApplicationOpened(e,x.AnalyticsGameOpenTypes.SPECTATE))},r.handleSendFriendRequest=function(){var e=r.props.user;c.default.addRelationship(e.id,{location:"Spectate Modal"}),d.default.pop()},r.handleCloseModal=function(){null!=r.modalKey?d.default.popWithKey(r.modalKey):d.default.pop()},r.handleOpenDownloads=function(){d.default.push(w.default,{source:"Spectate Modal"})},r.handleViewInStore=function(){var e=r.props,t=e.game,n=e.analyticsContext;if(null==t)throw new Error("Unexpected missing game");(0,h.goToApplicationStoreListing)(t.id,{analyticsSource:a({},n.location,{object:x.AnalyticsObjects.BUTTON_CTA}),slug:t.slug})},V(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.channelId,e.guildId,e.onOpenConnections,e.source,e.isGameLaunchable),n=(e.analyticsContext,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["channelId","guildId","onOpenConnections","source","isGameLaunchable","analyticsContext"]));return i.createElement(b.default,a({},n,{isBrowser:!P.default.embedded,isLaunchable:t,renderXboxButton:this.renderXboxButton,renderSpotifyPlayButton:this.renderSpotifyPlayButton,renderSpotifySyncButton:this.renderSpotifySyncButton,onJoinRequest:this.handleJoinRequest,onSpectate:this.handleSpectate,onNotify:this.handleNotify,onViewInStore:this.handleViewInStore,onWatchStream:this.handleWatchStream}))},t.prototype.validateAction=function(){var e=this,t=this.props.user;return P.default.embedded?!!N.default.isFriend(t.id)||(this.modalKey=d.default.push(function(){return o(G.default,{title:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_TITLE,imageClass:j.default.notFriendsImage,body:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_BODY.format({user:t.username}),confirmText:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_ACTION,cancelText:F.default.Messages.CANCEL,onConfirm:e.handleSendFriendRequest,onClose:e.handleCloseModal})}),!1):(this.modalKey=d.default.push(function(){return o(G.default,{title:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_TITLE,cancelText:F.default.Messages.CANCEL,body:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_BODY,confirmText:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_ACTION,onConfirm:e.handleOpenDownloads,onClose:e.handleCloseModal})}),!1)},t.prototype.trackApplicationOpened=function(e,t){var n=this.props,r=n.source,o=n.user,a=null!=e.application_id?C.default.getActiveLibraryApplication(e.application_id):null,i=null!=e.application_id?I.default.getGame(e.application_id):null;M.default.track(x.AnalyticEvents.APPLICATION_OPENED,{type:t,source:r,application_id:e.application_id,application_name:null!=i?i.name:e.name,other_user_id:o.id,distributor:null!=a?a.getDistributor():null})},t.prototype.handleNotify=function(e,t){console.log("notify",t,e)},t}(i.PureComponent);Y.defaultProps={showBuyDiscordGame:!1},Y.displayName="UserActivityActionsContainer",t.default=l.default.connectStores([O.default,_.default,A.default,I.default,C.default,T.default,S.default],function(e){var t=e.activity,n=e.user,r=null!=t.application_id?I.default.getGame(t.application_id):null;return null==r&&(r=I.default.getGameByName(t.name)),{spectateState:null!=t.application_id?O.default.getState(t.application_id,x.ActivityActionTypes.SPECTATE):null,hasActiveJoinRequest:!!_.default.getRequest(n.id),currentUser:A.default.getCurrentUser(),game:r,hasXboxAccount:g.default.getAccounts().some(function(e){return e.type===v.default.get(x.PlatformTypes.XBOX).type}),isGameLaunchable:null!=t.application_id&&(0,R.isLaunchable)(C.default,I.default,T.default,S.default,t.application_id),canBuyDiscordGame:null!=r&&null!=r.primarySkuId&&null==C.default.getActiveLibraryApplication(r.id)}})((0,m.default)(Y)),e.exports=t.default},6198:function(e,t,n){"use strict";t.__esModule=!0,t.fetchAccounts=function(e){return Promise.all(e.map(m)).then(r.default.flatten)};var r=l(n(6)),o=l(n(23)),a=l(n(9)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="InProgressContactImports",s=1,d={},f=!1;function c(e,t){t?d[e]=!0:delete d[e],0===Object.keys(d).length?o.default.remove(u):o.default.set(u,{version:s,potentiallyFailedFetches:d})}function p(e){var t=e.username,n=e.name,r=e.friend_id_hashes;return n&&t&&r.length>0}function h(e){return function(){if(!f){var e=o.default.get(u);f=!0,e&&e.version===s&&(d=e.potentiallyFailedFetches)}}(),new Promise(function(t){a.default.ensureModule("discord_contact_import").then(function(){return a.default.requireModule("discord_contact_import")}).then(function(n){n.isAvailable(e)&&!function(e){return!0===d[e]}(e)?(c(e,!0),n.fetch(e,{debug:!1},function(n,r){c(e,!1),r||(r=[]),t(r.filter(p).map(function(e){return{id:e.username,idHash:e.id_hash,type:e.platform,name:function(e){var t=e.platform,n=e.username,r=e.name;switch(t){case i.PlatformTypes.BATTLENET:case i.PlatformTypes.SKYPE:return n;default:return r}}(e),friendIdHashes:e.friend_id_hashes,resultHash:e.result_hash}}))})):t([])},function(){return t([])})})}var y={};function m(e){var t=null!=y[e];return null==y[e]&&(y[e]=[]),new Promise(function(n,r){if(y[e].push({resolve:n,reject:r}),!t){var o=function(t,n){var r=y[e];delete y[e],r&&r.forEach(function(e){return e[t](n)})};h(e).then(function(e){return o("resolve",e)},function(e){return o("reject",e)})}})}},6199:function(e,t,n){"use strict";(function(n){t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._running=!1,this._callback=t}return e.prototype.start=function(e){var t=this;this.stop(),this._ref=setInterval(function(){return t._run(!1)},e)},e.prototype.stop=function(){null!=this._ref&&(clearInterval(this._ref),this._ref=null,this._running=!1)},e.prototype.run=function(){var e=this;n(function(){return e._run(!0)})},e.prototype._run=function(e){var t=this;this._running||(this._running=!0,this._callback(function(){t._running=!1},e))},r(e,[{key:"running",get:function(){return this._running}}]),e}();t.default=o,e.exports=t.default}).call(this,n(29).setImmediate)},6200:function(e,t,n){"use strict";t.__esModule=!0,t.sortByMatchScore=function(e,t){if(e.score===t.score){var n=e.comparator.toLocaleLowerCase(),r=t.comparator.toLocaleLowerCase();if(n<r)return-1;if(n>r)return 1}return t.score-e.score}},6201:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(4)),o=d(n(23)),a=d(n(1)),i=d(n(6202)),l=d(n(72)),u=d(n(35)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f="seenQSTutorial",c=void 0,p=0,h=!1,y=!1;function m(){null!=c&&(c.destroy(),c=null)}var v=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default),this.syncWith([u.default],function(){return!0}),h=o.default.get(f)||!1},t.prototype.isOpen=function(){return null!=c},t.prototype.getResultTotals=function(e){return null==c?0:null==e?c.results.reduce(function(e,t){return t.type!==s.AutocompleterResultTypes.HEADER?e+1:e},0):c.results.reduce(function(t,n){return n.type===e?t+1:t},0)},t.prototype.channelNoticePredicate=function(e,t,n){var r=Date.now()-n>=s.CHANNEL_NOTICE_SHOW_DELAY;return y&&e&&r},t.prototype.getFrequentGuilds=function(){return null!=c?c.queryGuilds("",50):null},t.prototype.getProps=function(){return{theme:u.default.theme,query:null!=c?c.query:"",queryMode:null!=c?c.queryMode:null,results:null!=c?c.results:[],selectedIndex:p,seenTutorial:h}},t}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.guilds,n=e.channels;y=t.length>=3||n.filter(function(e){var t=e.type;return t===s.ChannelTypes.DM||t===s.ChannelTypes.GROUP_DM}).length>=20},QUICKSWITCHER_SHOW:function(e){c=c||new i.default(function(){return v.emitChange()}),p=c.search(e.query,e.options)},QUICKSWITCHER_HIDE:function(e){return m()},OVERLAY_SET_INPUT_LOCKED:function(e){return m()},QUICKSWITCHER_SEARCH:function(e){var t=e.query,n=e.options;null!=c&&(p=c.search(t,n))},QUICKSWITCHER_SELECT:function(e){p=e.selectedIndex},QUICKSWITCHER_SWITCH_TO:function(e){return function(){if(h)return!1;h=!0,o.default.set(f,!0)}()}});t.default=v,e.exports=t.default},6202:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderRecord=void 0;var r=T(n(6)),o=n(6200),a=T(n(112)),i=n(131),l=T(i),u=T(n(324)),s=T(n(135)),d=T(n(6142)),f=T(n(6381)),c=T(n(111)),p=T(n(315)),h=T(n(91)),y=T(n(226)),m=T(n(6203)),v=T(n(332)),_=T(n(6034)),E=T(n(6114)),g=n(0),S=T(n(13));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var C=100,N=5,A=1e3,O=function(){function e(t,r,o){var a=this;I(this,e),this.query="",this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[],this.applicationResults=[],this.mapUserResults=function(e){var t=e.user,r=e.id,o=e.score,i=e.comparator;null==t&&(t=n(15).getUser(r));var l=R(g.AutocompleterResultTypes.USER);return a.createResult(g.AutocompleterResultTypes.USER,t,M(o,l[t.id]),i)},this.parseUserResults=function(e){var t=e.query,r=e.results;if(!a.queryMode||a.queryMode===g.AutocompleterResultTypes.USER){if(0===t.trim().length){var o=a.selectedChannelId,i=n(12).getId();a.userResults=_.default.getRecentlyTalked(o,a.queryMode?C:N).filter(function(e){return e.user.id!==i}).map(a.mapUserResults)}else a.userResults=r.map(a.mapUserResults);null==a.queryMode&&a.userResults.length>N&&(a.userResults.length=N),a.updateAllResults(),a.emitChange(a)}},this.emitChange=t,this.userSearchContext=m.default.getSearchContext(this.parseUserResults,C),this.resultTypes=new Set(r),this._generateEmptyResults=o}return e.prototype._include=function(e){return 0===this.resultTypes.size||this.resultTypes.has(e)},e.prototype.search=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.selectedGuildId=t.selectedGuildId,this.selectedChannelId=t.selectedChannelId,this.lastSelectedChannelId=t.lastSelectedChannelId,0===e.trim().length)return this.query=e,this.generateEmptyResults();this.queryMode=function(e){switch(e.charAt(0)){case"@":return g.AutocompleterResultTypes.USER;case"#":return g.AutocompleterResultTypes.TEXT_CHANNEL;case"!":return g.AutocompleterResultTypes.VOICE_CHANNEL;case"*":return g.AutocompleterResultTypes.GUILD;case"$":return g.AutocompleterResultTypes.APPLICATION;default:return null}}(e);var n=this.queryMode?e.substr(1):e,r=this.queryMode?C:N;switch(this.queryMode){case g.AutocompleterResultTypes.USER:this.queryUsers(n,r,!0);break;case g.AutocompleterResultTypes.TEXT_CHANNEL:this.textChannelResults=this.queryTextChannels(n,r);break;case g.AutocompleterResultTypes.VOICE_CHANNEL:this.voiceChannelResults=this.queryVoiceChannels(n,r);break;case g.AutocompleterResultTypes.GUILD:this.guildResults=this.queryGuilds(n,r);break;case g.AutocompleterResultTypes.APPLICATION:this.applicationResults=this.queryApplications(n,r);break;default:this.queryUsers(n,r),this.groupDMResults=this.queryGroupDMs(n,r),this.textChannelResults=this.queryTextChannels(n,r),this.voiceChannelResults=this.queryVoiceChannels(n,r,!0),this.guildResults=this.queryGuilds(n,r)}var o=this.query!==e&&null!=this.queryMode?1:0;return this.query=e,this.queryMode&&this.queryMode!==g.AutocompleterResultTypes.USER&&this.updateAllResults(),o},e.prototype.clear=function(){this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[]},e.prototype.destroy=function(){null!=this.userSearchContext&&(this.userSearchContext.destroy(),this.userSearchContext=null)},e.prototype.createResult=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];switch(e){case g.AutocompleterResultTypes.GUILD:if(!(t instanceof u.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.GUILD,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.USER:if(!(t instanceof s.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.USER,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.HEADER:if(!(t instanceof b))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.HEADER,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.TEXT_CHANNEL:if(!(t instanceof l.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.TEXT_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.VOICE_CHANNEL:if(!(t instanceof l.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.VOICE_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.GROUP_DM:if(!(t instanceof l.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.GROUP_DM,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.APPLICATION:if(!(t instanceof a.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.APPLICATION,record:t,queryMode:this.queryMode,score:n,comparator:r}}throw new Error("Invalid type")},e.prototype.queryTextChannels=function(e,t){var n=this;if(!this._include(g.AutocompleterResultTypes.TEXT_CHANNEL))return[];var a=this.selectedChannelId,i=R(g.AutocompleterResultTypes.TEXT_CHANNEL);return(0,r.default)(_.default.queryChannels(e,null,1/0,!0,function(e){return e.id!==a})).map(function(e){var t=e.channel,r=e.score,o=e.comparator;return n.createResult(g.AutocompleterResultTypes.TEXT_CHANNEL,t,M(r,i[t.id]),o)}).sort(o.sortByMatchScore).take(t).value()},e.prototype.queryVoiceChannels=function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._include(g.AutocompleterResultTypes.VOICE_CHANNEL))return[];var i=null;if(a&&(i=this.selectedGuildId),a&&null==i)return[];var l=R(g.AutocompleterResultTypes.VOICE_CHANNEL);return(0,r.default)(_.default.queryChannels(e,i,1/0,!0,function(){return!0},g.ChannelTypes.GUILD_VOICE)).map(function(e){var t=e.channel,r=e.score,o=e.comparator;return n.createResult(g.AutocompleterResultTypes.VOICE_CHANNEL,t,M(r,l[t.id]),o)}).sort(o.sortByMatchScore).take(t).value()},e.prototype.queryGuilds=function(e,t){var n=this;if(!this._include(g.AutocompleterResultTypes.GUILD))return[];var a=this.selectedGuildId,i=R(g.AutocompleterResultTypes.GUILD);return(0,r.default)(_.default.queryGuilds(e,1/0,!0,function(e){return e.id!==a})).map(function(e){var t=e.guild,r=e.score,o=e.comparator;return n.createResult(g.AutocompleterResultTypes.GUILD,t,M(r,i[t.id]),o)}).sort(o.sortByMatchScore).take(t).value()},e.prototype.queryUsers=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.userSearchContext&&this._include(g.AutocompleterResultTypes.USER)){var o=[n(12).getId()],a=this.selectedGuildId,i={friends:!0};a&&i&&(i.guild=a),r&&(i=null,this.queryMode?E.default.requestMembers(null,e,20):E.default.requestMembers(a,e,20));var l=n(22).getDMUserIds();this.userSearchContext.setQuery(e,i,o,l,R(g.AutocompleterResultTypes.USER))}},e.prototype.queryGroupDMs=function(e,t){var n=this;if(!this._include(g.AutocompleterResultTypes.GROUP_DM))return[];var r=this.selectedChannelId,o=R(g.AutocompleterResultTypes.GROUP_DM);return _.default.queryGroupDMs(e,t,!0,function(e){return e.id!==r}).map(function(e){var t=e.channel,r=e.score,a=e.comparator;return n.createResult(g.AutocompleterResultTypes.GROUP_DM,t,M(r,o[t.id]),a)})},e.prototype.queryApplications=function(e,t){var n=this;return this._include(g.AutocompleterResultTypes.APPLICATION)?_.default.queryApplications(e,t,!0).map(function(e){var t=e.application,r=e.score,o=e.comparator;return n.createResult(g.AutocompleterResultTypes.APPLICATION,t,M(r,v.default.getQuickSwitcherScoreForApplication(t.id)),o)}):[]},e.prototype.generateSectionHeader=function(e){return this.createResult(g.AutocompleterResultTypes.HEADER,new b(e),0)},e.prototype.generateResultFromId=function(e){var t=n(22).getChannel(e);if(null==t)return null;var r=void 0;switch(t.type){case g.ChannelTypes.DM:if(!this._include(g.AutocompleterResultTypes.USER))return null;if(r=g.AutocompleterResultTypes.USER,null==(t=n(15).getUser(t.getRecipientId())))return null;break;case g.ChannelTypes.GROUP_DM:if(!this._include(g.AutocompleterResultTypes.GROUP_DM))return null;r=g.AutocompleterResultTypes.GROUP_DM;break;default:if(!this._include(g.AutocompleterResultTypes.TEXT_CHANNEL))return null;r=g.AutocompleterResultTypes.TEXT_CHANNEL}return this.createResult(r,t,0,t.toString())},e.prototype.getDrafts=function(e){var t=this,n=[];return d.default.getRecentlyEditedDrafts().forEach(function(r){var o=r.channelId;if(!e(o)){var a=t.generateResultFromId(o);null!=a&&n.push(a)}}),n},e.prototype.generateEmptyResults=function(){var e=this;if(null!=this.userSearchContext&&this.userSearchContext.clearQuery(),null!=this._generateEmptyResults)return this.results=this._generateEmptyResults(this),this.results.length>0?1:0;var t=[],o=this.selectedGuildId,a=this.selectedChannelId,i=this.lastSelectedChannelId;if(i){var l=this.generateResultFromId(i);l&&t.push(this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_LAST_CHANNEL),l)}var u,s=this.getDrafts(function(e){return e===a||e===i});s.length>0&&(u=t).push.apply(u,[this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_DRAFTS)].concat(s));var d=n(22),f=(0,r.default)(d.getChannels()).values().filter(function(e){var t=e.id;return t!==a&&t!==i&&p.default.getMentionCount(t)>0}).map(function(t){return e.generateResultFromId(t.id)}).filter(function(e){return!!e}).value();if(f.length&&(t.push(this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_MENTIONS)),t=t.concat(f)),o){var h=c.default.getSelectableChannelIds(o).filter(function(e){var t=d.getChannel(e);return null!=t&&e!==a&&e!==i&&!y.default.isChannelMuted(t.guild_id,e)&&p.default.hasUnread(e)}).map(function(t){return e.generateResultFromId(t)}).filter(function(e){return e});h.length&&(t.push(this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_UNREAD_CHANNELS)),t=t.concat(h))}return this.clear(),this.results=(0,r.default)(t).uniqBy(function(e){return e.record.id}).value(),this.results.length>0?1:0},e.prototype.updateAllResults=function(){var e=void 0;switch(this.queryMode){case g.AutocompleterResultTypes.USER:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_USERS),this.results=[].concat(this.userResults);break;case g.AutocompleterResultTypes.TEXT_CHANNEL:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_TEXT_CHANNELS),this.results=[].concat(this.textChannelResults);break;case g.AutocompleterResultTypes.VOICE_CHANNEL:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_VOICE_CHANNELS),this.results=[].concat(this.voiceChannelResults);break;case g.AutocompleterResultTypes.GUILD:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_GUILDS),this.results=[].concat(this.guildResults);break;case g.AutocompleterResultTypes.APPLICATION:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_APPLICATIONS),this.results=[].concat(this.applicationResults);break;default:this.results=[].concat(this.userResults,this.groupDMResults,this.textChannelResults,this.voiceChannelResults,this.guildResults)}this.results=(0,r.default)(this.results).uniqBy(function(e){return e.type+"-"+e.record.id}).sort(o.sortByMatchScore).value(),this._include(g.AutocompleterResultTypes.HEADER)&&this.results.length>0&&null!=e&&this.results.unshift(e)},e}();t.default=O;var b=t.HeaderRecord=function e(t){I(this,e),this.id=t,this.text=t};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];return A*e*(t||1)}function R(e){var t=f.default.getFrequently(),r=t.reduce(function(e,t){var n=t.id,r=f.default.getScore(n);return r>e?r:e},0),o=[];switch(e){case g.AutocompleterResultTypes.GUILD:o=t.filter(function(e){return e instanceof u.default});break;case g.AutocompleterResultTypes.USER:o=t.filter(function(e){return e instanceof l.default&&e.type===g.ChannelTypes.DM});break;case g.AutocompleterResultTypes.GROUP_DM:o=t.filter(function(e){return e instanceof l.default&&e.type===g.ChannelTypes.GROUP_DM});break;case g.AutocompleterResultTypes.TEXT_CHANNEL:o=t.filter(function(e){return e instanceof l.default&&(0,i.isGuildSelectableChannelType)(e.type)});break;case g.AutocompleterResultTypes.VOICE_CHANNEL:o=t.filter(function(e){return e instanceof l.default&&e.type===g.ChannelTypes.GUILD_VOICE})}var a={};return o.forEach(function(t){var o=t.id,i=f.default.getScore(o);if(e===g.AutocompleterResultTypes.USER){o=t.getRecipientId();var l=h.default.isFriend(o)?.2:0,u=n(22).getDMFromUserId(o)?.1:0;a[o]=1+i/r+l+u}else a[o]=1+i/r}),a}},6203:function(e,t,n){"use strict";t.__esModule=!0,t.SearchContext=void 0;var r=d(n(161)),o=d(n(4)),a=d(n(1)),i=d(n(22)),l=d(n(91)),u=d(n(15)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=null,p=10;function h(e){null!=c&&(e=e.filter(function(e){return null!=e}),c.postMessage({type:s.UserSearchWorkerMessageTypes.UPDATE_USERS,payload:e}))}function y(e){if(null==e||l.default.isBlocked(e.id))return null;var t={id:e.id,username:e.username+"#"+e.discriminator};return e.bot&&(t.isBot=!0),l.default.isFriend(e.id)&&(t.isFriend=!0),t}function m(e,t,n){null!=e&&(e[t]=n||null)}function v(e,t){var n=[];return e.forEach(function(e){var r=y(e.user);m(r,t,e.nick),n.push(r)}),n}function _(e){var t=e.guildId,n=e.user,r=e.nick,o=y(n);return null!=o&&(m(o,t,r),h([o])),!1}function E(e){var t=e.channel.id,n=g(i.default.getChannel(t));if(0===n.length)return!1;var r=y(u.default.getCurrentUser());return m(r,t),n.push(r),h(n),!1}function g(e){var t=[];if(null==e||e.type!==s.ChannelTypes.DM&&e.type!==s.ChannelTypes.GROUP_DM)return t;var n=e.recipients;return(void 0===n?[]:n).forEach(function(n){var r=y(u.default.getUser(n));null!=e&&m(r,e.id),t.push(r)}),t}var S=t.SearchContext=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;f(this,e),this.handleMessages=function(e){var t=e.data;t&&t.type===s.UserSearchWorkerMessageTypes.USER_RESULTS&&t.uuid===n._uuid&&(!1!==n._currentQuery&&n._callback(t.payload),null!=n._currentQuery&&(n._currentQuery=null),n._setNextQuery())},this._uuid=r.default.v4(),this._callback=t,this._limit=o,this._currentQuery=null,this._nextQuery=null,this._subscribed=!1,this._subscribe()}return e.prototype._subscribe=function(){null==c||this._subscribed||(c.addEventListener("message",this.handleMessages,!1),this._subscribed=!0,this._setNextQuery())},e.prototype._unsubscribe=function(){null!=c&&this._subscribed&&(c.removeEventListener("message",this.handleMessages,!1),this._subscribed=!1)},e.prototype.destroy=function(){this._unsubscribe(),this.clearQuery()},e.prototype.clearQuery=function(){this._currentQuery=!1,this._nextQuery=null,null!=c&&this._subscribed&&c.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_CLEAR})},e.prototype.setQuery=function(e,t,n,r,o){null!=e&&(this._nextQuery={query:e,filters:t,blacklist:n,whitelist:r,boosters:o||{},limit:this._limit},this._setNextQuery())},e.prototype._setNextQuery=function(){!this._currentQuery&&this._nextQuery&&(null!=c&&this._subscribed?(this._currentQuery=this._nextQuery,this._nextQuery=null,c.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_SET,payload:this._currentQuery})):this._subscribed||this._subscribe())},e}(),T=function(e){function t(){return f(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,i.default,u.default)},t.prototype.getSearchContext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return new S(e,t)},t}(o.default.Store);t.default=new T(a.default,{LOGOUT:function(e){null!=c&&(c.terminate(),c=null)},CONNECTION_OPEN:function(e){var t=e.user,r=e.guilds,o=e.channels,a=e.relationships;null!=c&&c.terminate(),c=new(n(6204));var l=y(t),u=[l];return r.forEach(function(e){u=u.concat(v(e.members,e.id))}),o.forEach(function(e){var t=e.id,n=i.default.getChannel(t);null==n||n.type!==s.ChannelTypes.DM&&n.type!==s.ChannelTypes.GROUP_DM||(m(l,n.id),u=u.concat(g(n)))}),a.forEach(function(e){var t=e.user;u.push(y(t))}),h(u),!1},OVERLAY_INITIALIZE:function(e){var t=e.users,r=e.guildMembers;null!=c&&c.terminate(),c=new(n(6204));var o=new Map,a=t,i=Array.isArray(a),l=0;for(a=i?a:a[Symbol.iterator]();;){var u;if(i){if(l>=a.length)break;u=a[l++]}else{if((l=a.next()).done)break;u=l.value}var s=u;o.set(s.id,y(s))}var d=Object.keys(r),f=Array.isArray(d),p=0;for(d=f?d:d[Symbol.iterator]();;){var v;if(f){if(p>=d.length)break;v=d[p++]}else{if((p=d.next()).done)break;v=p.value}var _=v,E=r[_];if(null!=E){var g=Object.keys(E),S=Array.isArray(g),T=0;for(g=S?g:g[Symbol.iterator]();;){var I;if(S){if(T>=g.length)break;I=g[T++]}else{if((T=g.next()).done)break;I=T.value}var C=I,N=o.get(C),A=E[C];null!=N&&null!=A&&null!=A.nick&&(m(N,_,A.nick),o.set(C,N))}}}return h(Array.from(o.values())),o.clear(),!1},CURRENT_USER_UPDATE:function(e){var t=y(e.user);return t&&h([t]),!1},GUILD_CREATE:function(e){var t=e.guild;return h(v(t.members,t.id)),!1},GUILD_MEMBERS_CHUNK:function(e){return h(v(e.members,e.guildId)),!1},GUILD_MEMBER_ADD:_,GUILD_MEMBER_UPDATE:_,RELATIONSHIP_ADD:function(e){return h([y(e.relationship.user)]),!1},CHANNEL_CREATE:E,CHANNEL_UPDATE:E,CHANNEL_RECIPIENT_ADD:function(e){var t=e.channelId,n=y(e.user);m(n,t),h([n])}})},6204:function(e,t,n){e.exports=function(){return new Worker(n.p+"3cba27902cb1aaceec22.worker.js")}},6206:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={setEnabled:function(e){this.update({enabled:e})},update:function(e){var t=Object.keys(e),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var l=o;a.default.dispatch({type:i.ActionTypes.STREAMER_MODE_UPDATE,key:l,value:e[l]})}}},e.exports=t.default},6207:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=c(n(4)),i=c(n(1)),l=c(n(136)),u=c(n(58)),s=c(n(28)),d=c(n(6059)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,d.default,s.default)},t.prototype.getExperimentId=function(){return f.Experiments.TUTORIAL_LOGIC},t.prototype.getMetaData=function(){return{title:"Tutorial Logic Experiment",description:["Control: Old Tutorial Tip Logic","Treatment 1: New Tutorial Tip Logic"]}},t.prototype.getExperimentDescriptor=function(){return u.default.getOverrideExperimentDescriptor(this.getExperimentId())||u.default.getEligibleExperiment(this.getExperimentId())},t.prototype.useNewTutorialLogic=function(){var e=this.getExperimentDescriptor();if(null==e)return!1;if(e.override||u.default.hasExperimentTriggered(e.type,e.name))return e.bucket===f.ExperimentBuckets.TREATMENT_1;var t=s.default.getGuilds(),n=Object.keys(t).length;if(n<=1){var r=d.default.getInvites();if(1!==r.length)return!1;if(1===n&&null!=r[0].guild&&!(r[0].guild.id in t))return!1;var o=r[0].approximate_member_count;return!(null==o||o>=100)&&(l.default.trigger(e),e.bucket===f.ExperimentBuckets.TREATMENT_1)}return!1},t}(a.default.Store))(i.default);l.default.register(p,((o={})[f.ExperimentTypes.NONE]=function(){return null},o[f.ExperimentTypes.USER]=((r={})[f.ExperimentBuckets.CONTROL]=function(){return null},r[f.ExperimentBuckets.NOT_ELIGIBLE]=function(){return null},r[f.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o)),t.default=p,e.exports=t.default},6209:function(e,t,n){"use strict";t.__esModule=!0,t.hexWithOpacity=function(e,t){var n=Math.round(255*t).toString(16).toUpperCase();return(""+e+n).padEnd(9,"0")},t.hexToRgb=function(e){"#"===e[0]&&(e=e.slice(1));var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}}},6210:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=n(5992),u=n(835),s=h(n(442)),d=n(0),f=h(n(13)),c=h(n(5370)),p=h(n(5438));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){var t=e.timestamp;return o(s.default,{text:null!=t?(0,l.calendarFormat)(t):null},void 0,o("time",{dateTime:t.toISOString(),className:p.default.edited,role:"note"},void 0,"(",f.default.Messages.MESSAGE_EDITED,")"))};m.displayName="SuffixEdited";var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.onContextMenu=function(e){var t=r.props;(0,t.onContextMenu)(e,{message:t.message,channel:t.channel,target:e.target})},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.className,a=n.message,l=n.channel,s=n.renderButtons,f=n.renderPrefix,h=n.children,y=n.disableButtons,v=n.disableMentionStyles,_=n.isCompact,E=a.isEdited(),g=a.state===d.MessageStates.SEND_FAILED,S=a.state===d.MessageStates.SENDING,T=a.type!==d.MessageTypes.DEFAULT,I=a.mentioned&&!T,C=(0,i.default)(r,((e={})[p.default.isMentionedCompact]=I&&!v&&_,e[p.default.isMentionedCozy]=I&&!v&&!_,e[p.default.isSending]=S,e[p.default.containerCompact]=_,e[p.default.containerCozy]=!_,e));return o(u.BackgroundOpacityContext.Consumer,{},void 0,function(e){var n;return o("div",{className:(0,i.default)(C,p.default[e.backgroundOpacity+"BackgroundOpacity"],c.default[e.backgroundOpacity+"BackgroundOpacity"]),onContextMenu:t.onContextMenu},void 0,!y&&s&&o("div",{className:p.default.buttonContainer},void 0,s({message:a,channel:l})),h||o("div",{className:(0,i.default)(p.default.markup,c.default.markup,(n={},n[p.default.isFailed]=g,n[p.default.isCompact]=_,n))},void 0,null!=f&&f({message:a,channel:l}),a.contentParsed,E&&null!=a.editedTimestamp&&o(m,{timestamp:a.editedTimestamp})))})},t}(a.PureComponent);v.defaultProps={disableButtons:!1,disableMentionStyles:!1,disablePromoteButton:!0},v.displayName="MessageContent",t.default=v,e.exports=t.default},6211:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.openUserContextMenu=function(e,t,n){var o={user:t,channelId:n.id};n.isGroupDM()?o.type=s.ContextMenuTypes.USER_GROUP_DM:n.isDM()?(o.selected=!0,o.type=s.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE):(o.type=s.ContextMenuTypes.USER_CHANNEL_MESSAGE,o.guildId=n.getGuildId());(0,i.openContextMenu)(e,function(e){return a.createElement(u.default,r({},e,o))})};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=n(5352),u=(o=l)&&o.__esModule?o:{default:o},s=n(0)},6212:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={},u="",s="";var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getResults=function(e,t){if(null==e||null==t)return null;var n=l[e];return null!=n&&null!=n[t]?n[t]:null},t.prototype.getQuery=function(){return{integration:u,query:s}},t}(r.default.Store);t.default=new d(o.default,{INTEGRATION_QUERY:function(e){var t=e.integration,n=e.query;l[t]=l[t]||{},l[t][n]={loading:!0,results:[]}},INTEGRATION_QUERY_SUCCESS:function(e){var t=e.integration,n=e.query,r=e.results;l[t][n].loading=!1,l[t][n].results=r.map(function(e){return{type:a.ChannelTextAreaIntegrations[t].type,meta:e}}),s=n,u=t},INTEGRATION_QUERY_FAILURE:function(e){var t=e.integration,n=e.query;delete l[t][n]}}),e.exports=t.default},6213:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=m(n(17)),u=n(180),s=m(n(5979)),d=m(n(221)),f=m(n(152)),c=m(n(306)),p=m(n(129)),h=m(n(13)),y=m(n(5443));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.selectable=!0,r.orientation="Vertical",r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleClick=r.handleClick.bind(r),r}return E(t,e),t.prototype.getSelectedMode=function(){return this.selectable&&this.props.selected?"Selected":""},t.prototype.renderContent=function(){throw new Error("AutocompleteRow: renderContent must be extended")},t.prototype.render=function(){var e;return a(d.default,{className:(0,l.default)(this.props.className,(0,u.getClass)(y.default,"autocompleteRow",this.orientation)),onMouseEnter:this.selectable?this.handleMouseEnter:null,onClick:this.selectable?this.handleClick:null},void 0,a("div",{className:(0,l.default)((0,u.getClass)(y.default,"selector",this.getSelectedMode()),(e={},e[y.default.selectable]=this.selectable,e))},void 0,this.renderContent()))},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},t.prototype.handleClick=function(){var e=this.props,t=e.onClick,n=e.index;t&&t(n)},t}(i.PureComponent);g.displayName="AutocompleteRow";var S=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.text,n=e.description;return a(f.default,{className:y.default.content},void 0,a(f.default.Child,{grow:1},void 0,t),a(f.default.Child,{grow:0},void 0,a(p.default,{className:y.default.description},void 0,n)))},t}(g),T=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.selectable=!1,r}return E(t,e),t.prototype.renderContent=function(){var e=this.props.title;return a(p.default,{className:y.default.contentTitle,weight:p.default.Weights.SEMIBOLD,size:p.default.Sizes.SMALL},void 0,e)},t}(g),I=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.selectable=!1,r}return E(t,e),t.prototype.renderContent=function(){return a("div",{className:y.default.divider})},t}(g),C=function(e){function t(){var n,r;v(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r.statusStyle={width:10,height:10,right:"-4px",bottom:"-4px",borderWidth:2,borderStyle:"solid"},_(r,n)}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.user,n=e.nick,r=e.status,o=e.hidePersonalInformation,i=e.colorblindMode;return a(f.default,{align:f.default.Align.CENTER,className:y.default.content},void 0,a(s.default,{size:s.default.Sizes.XSMALL,src:t.getAvatarURL(),status:r,statusClassName:y.default.avatarStatus,statusStyle:i?this.statusStyle:{}}),a(f.default.Child,{className:y.default.marginLeft8},void 0,n||t.username),a(f.default,{grow:0,align:f.default.Align.BASELINE,className:y.default.description},void 0,a(p.default,{className:y.default.descriptionUsername},void 0,t.username),o?null:a(p.default,{className:y.default.descriptionDiscriminator},void 0,"#",t.discriminator)))},t}(g),N=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props.role;return a(f.default,{align:f.default.Align.CENTER,className:y.default.content},void 0,a(f.default.Child,{grow:1},void 0,a(p.default,{style:{color:e.colorString}},void 0,"@",e.name)),a(p.default,{className:y.default.description},void 0,h.default.Messages.MENTION_USERS_WITH_ROLE))},t}(g),A=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return a(f.default,{align:f.default.Align.CENTER,className:y.default.content},void 0,a(c.default,{name:c.default.Names.CHANNEL_TEXT,className:y.default.icon,foreground:y.default.iconForeground}),a(f.default.Child,{className:y.default.marginLeft4},void 0,t.toString()),null!=n?a(p.default,{className:y.default.description},void 0,n.name):null)},t}(g),O=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.command,n=e.description;return a(f.default,{align:f.default.Align.CENTER,className:y.default.content},void 0,a(c.default,{name:c.default.Names.SLASH,className:y.default.icon,foreground:y.default.iconForeground}),a(f.default.Child,{grow:1,className:y.default.marginLeft4},void 0,t),a(p.default,{className:y.default.description},void 0,n))},t}(g),b=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.emoji,n=e.sentinel,r=t.url?a("img",{alt:"",className:y.default.icon,src:t.url}):a("span",{className:y.default.rawEmoji},void 0,t.surrogates);return a(f.default,{align:f.default.Align.CENTER,className:y.default.content},void 0,r,a("div",{className:y.default.marginLeft8},void 0,n,t.name,n))},t}(g),M=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.orientation="Horizontal",r}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.width,n=e.height,r=e.src;return a("img",{alt:"",src:r,width:t,height:n})},t}(g),R=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.isCustom,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className","isCustom"]);return 0===i.Children.count(t)?null:a("div",{className:(0,l.default)(y.default.autocomplete,n)},void 0,r?t:i.createElement("div",o({className:y.default.autocompleteInner},u),t))},t}(i.PureComponent);R.Generic=S,R.Title=T,R.Divider=I,R.User=C,R.Role=N,R.Channel=A,R.Command=O,R.Emoji=b,R.GIFIntegration=M,R.defaultProps={isCustom:!1},R.displayName="Autocomplete",t.default=R,e.exports=t.default},6214:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=M(n(17)),u=M(n(6)),s=M(n(493)),d=M(n(310)),f=M(n(4)),c=M(n(6330)),p=M(n(830)),h=M(n(831)),y=M(n(188)),m=M(n(235)),v=M(n(28)),_=M(n(455)),E=M(n(128)),g=M(n(221)),S=M(n(18)),T=M(n(164)),I=M(n(850)),C=M(n(6215)),N=M(n(6040)),A=n(0),O=M(n(13)),b=M(n(5448));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=32,D=s.default.convert.fromCodePoint("1f44c"),U=22,k=125,G=28;var x=function(e){var t=e.onLearnMore,r=e.onClose,o=e.isGuildChannel;return a("div",{className:b.default.premiumPromo},void 0,a(g.default,{className:b.default.premiumPromoClose,onClick:r},void 0,O.default.Messages.CLOSE),a("img",{alt:"",className:b.default.premiumPromoImage,src:n(6457),width:124,height:96}),a("div",{className:b.default.premiumPromoTitle},void 0,O.default.Messages.PREMIUM_PROMO_TITLE),a("div",{className:b.default.premiumPromoDescription},void 0,O.default.Messages.PREMIUM_PROMO_DESCRIPTION),a(E.default,{onClick:function(){!function(e){S.default.track(A.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:e?A.AnalyticsPages.GUILD_CHANNEL:A.AnalyticsPages.DM_CHANNEL,location_section:A.AnalyticsSections.EMOJI_PICKER_POPOUT})}(o),h.default.open(A.UserSettingsSections.PREMIUM),t()}},void 0,O.default.Messages.LEARN_MORE))};x.displayName="PremiumPromo";var F=function(e){function t(){var n,r;R(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=P(this,e.call.apply(e,[this].concat(a))),r.state={opacity:new d.default.Value(r.props.fade?0:1)},P(r,n)}return L(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.fade,n=e.delay;t&&d.default.timing(this.state.opacity,{delay:n,toValue:1,duration:150}).start()},t.prototype.render=function(){var e=this.props,t=e.surrogate,n=e.onClick,r=T.default.getURL(D+t),o={opacity:this.state.opacity,backgroundImage:'url("'+r+'")'};return a(d.default.div,{onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return n(t)}),className:b.default.item,style:o})},t}(i.Component);F.defaultProps={delay:0,fade:!1},F.displayName="DiversityIcon";var j=function(e){function t(){var n,r;R(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=P(this,e.call.apply(e,[this].concat(a))),r.state={isOpen:!1,height:new d.default.Value(G)},r.me=i.createRef(),r.handleDiversityColorChange=function(e){c.default.setDiversityColor(e),r.close()},r.handleOpen=function(){var e=r.props.onOpen;d.default.timing(r.state.height,{fromValue:G,toValue:180,duration:k}).start(),r.setState({isOpen:!0}),document.addEventListener("click",r.close,!0),e&&e(!0)},r.close=function(e){var t=r.props.onOpen,n=r.me.current;if(null!=e&&null!=n)for(var o=e.target;null!=o;){if(o===n)return;o=o.parentNode}r.setState({isOpen:!1}),r.state.height.setValue(G),t&&t(!1)},P(r,n)}return L(t,e),t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.close,!0)},t.prototype.render=function(){var e=this,t=this.props.selectedSurrogate,n=this.state,r=n.isOpen,o=n.height;if(r){var l=[""].concat(A.DIVERSITY_SURROGATES);u.default.remove(l,function(e){return e===t}),l.unshift(t);var s=l.map(function(t,n){return a(F,{fade:n>0,delay:20*n,surrogate:t,onClick:e.handleDiversityColorChange},n)});return i.createElement("div",{ref:this.me,className:b.default.diversitySelector},a(d.default.div,{className:b.default.popout,style:{height:o}},void 0,s))}var f=T.default.getURL(D+t);return a(g.default,{className:b.default.diversitySelector,onClick:this.handleOpen},void 0,a("div",{className:b.default.item,style:{backgroundImage:'url("'+f+'")'}}))},t}(i.PureComponent);j.displayName="DiversitySelector";var B=function(e){function t(){var n,r;R(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=r=P(this,e.call.apply(e,[this].concat(l))),r.categories=[],r.categoryOffsets={},r.cachedMetaDataNoSearch=null,r.spriteSheetSize=[U*A.EmojiSprites.NonDiversityPerRow+"px",U*Math.ceil(y.default.numNonDiversitySprites/A.EmojiSprites.NonDiversityPerRow)+"px"].join(" "),r.diversitySpriteSheetSize=[U*A.EmojiSprites.DiversityPerRow+"px",U*Math.ceil(y.default.numDiversitySprites/A.EmojiSprites.DiversityPerRow)+"px"].join(" "),r.searchRef=i.createRef(),r.scrollerRef=i.createRef(),r.state={premiumPromoOpen:!1,diversityPickerOpen:!1,metaData:r.computeMetaData(null),searchResults:null,currentSection:m.default.categories[0],selectedRow:-1,selectedColumn:-1,query:"",placeholder:O.default.Messages.SEARCH_FOR_EMOJI},r.handleClear=function(){r.clearNow()},r.handleSelect=function(e,t,n){null!=e&&null!=t?r.selectEmoji(r.state.metaData[e].items[t].emoji,!n.shiftKey):r.selectEmoji(null)},r.handleSelectionChange=function(e,t){if(!(e<0||t<0)){var n=r.state.metaData[e].items[t],o=n.emoji,a=n.offsetTop,i=r.scrollerRef.current;r.setState({selectedRow:e,selectedColumn:t,placeholder:o.allNamesString}),null!=i&&i.scrollIntoViewRect(a,a+w,!1)}},r.handleQueryChange=function(e){if(""!==e){var t=e;":"===t[0]&&(t=t.slice(1));var n=m.default.search(r.props.channel,t);r.setState({query:e,searchResults:n,metaData:r.computeMetaData(n),selectedRow:-1,selectedColumn:-1,currentSection:null})}else r.clearNow()},r.handleScroll=function(){var e=r.getCurrentSection();e!==r.state.currentSection&&r.setState({currentSection:e})},r.handleDiversityPickerToggled=function(e){r.setState({diversityPickerOpen:e})},r.renderStickyHeader=function(){var e=r.scrollerRef.current;if(""!==r.state.query)return null;if(null==e)return a("div",{className:b.default.stickyHeader},void 0,a("div",{className:b.default.category},void 0,r.categoryOffsets[m.default.categories[0]]));var t=e.getScrollerNode().scrollTop,n=t+w,o=-1,i=-1;u.default.forEach(r.categories,function(e,n){var r=e.offsetTop;r<=t&&o<r&&(o=r,i=n)});var l=i+1;if(l<r.categories.length&&r.categories[l].offsetTop<n){var s={marginTop:r.categories[l].offsetTop-n};return a("div",{className:b.default.stickyHeader,style:s},void 0,a("div",{className:b.default.category},void 0,r.categories[i].title),a("div",{className:b.default.category},void 0,r.categories[l].title))}return a("div",{className:b.default.stickyHeader},void 0,a("div",{className:b.default.category},void 0,r.categories[i].title))},P(r,n)}return L(t,e),t.prototype.selectEmoji=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.channel,o=n.onSelectEmoji,a=n.popoutKey;null!=e&&T.default.isEmojiDisabled(e,r)?this.setState({premiumPromoOpen:!0}):(o&&o(e),t?p.default.close(a):this.focusSearch())},t.prototype.clearNow=function(e){var t={query:"",placeholder:O.default.Messages.SEARCH_FOR_EMOJI,searchResults:null,metaData:this.computeMetaData(null),selectedRow:-1,selectedColumn:-1};""!==this.state.query&&(t.currentSection=m.default.categories[0]),this.focusSearch(),this.setState(t,e)},t.prototype.focusSearch=function(){var e=this.searchRef.current;null!=e&&e.focus()},t.prototype.componentDidMount=function(){S.default.track(A.AnalyticEvents.OPEN_POPOUT,{type:"Emoji Picker"}),this.focusSearch();var e=this.props.onOpen;e&&e()},t.prototype.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},t.prototype.onHoverEmoji=function(e,t,n){this.setState({selectedRow:t,selectedColumn:n,placeholder:e.allNamesString})},t.prototype.scrollNow=function(e){var t=this;this.clearNow(function(){var n=t.scrollerRef.current;null!=n&&n.scrollTo(t.categoryOffsets[e],!0)})},t.prototype.getCurrentSection=function(){var e=this.scrollerRef.current;if(""!==this.state.query||null==e)return null;var t=e.getScrollData(),n=t.scrollTop+.25*t.offsetHeight;if(0===t.scrollTop)return m.default.categories[0];var r=-1,o=null;return u.default.forEach(this.categoryOffsets,function(e,t){e<=n&&e>=r&&(r=e,o=t)}),o},t.prototype.computeMetaData=function(e){var t=this,n=m.default.categories.length,r=this.props.channel,o=r.getGuildId(),a=[],i=0,l=0,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=[],s=u.default.partition(e,function(e){return!T.default.isEmojiDisabled(e,r)}),d=s[0],f=s[1];u.default.forEach([].concat(d,f),function(e){T.default.isEmojiFiltered(e,r)||(o.push({emoji:e,offsetTop:i*w,row:l,column:o.length}),o.length===n&&(a.push({category:t,items:o}),o=[],l+=1,i+=1))}),o.length>0&&(a.push({category:t,items:o}),l+=1,i+=1)};if(e)s(e);else{if(this.cachedMetaDataNoSearch)return this.cachedMetaDataNoSearch;this.categoryOffsets={},this.categories=[];var d=function(e,n,r){t.categoryOffsets[e]=i*w,t.categories.push({category:e,offsetTop:i*w,title:n}),i+=1,s(r,e)},f=m.default.getDisambiguatedEmojiContext(o);u.default.forEach(m.default.categories,function(e){if(e===A.EMOJI_CATEGORY_CUSTOM){var t=0,n=f.getCustomEmoji(),r=u.default.groupBy(n,"guildId"),a=function(n){var o=r[n.id];null!=o&&0!==o.length&&d(0==t++?e:""+e+t,n.toString(),o)},i=v.default.getGuild(o);i&&a(i),u.default.each(_.default.getSortedGuilds(),function(e){var t=e.guild;t.id!==o&&a(t)})}else{var l=(e===A.EMOJI_CATEGORY_RECENT?f.getFrequentlyUsedEmojis():y.default.getByCategory(e))||[];d(e,O.default.Messages["EMOJI_CATEGORY_"+e.toUpperCase()],l)}}),this.cachedMetaDataNoSearch=a}return a},t.prototype.render=function(){var e,t=this,r=this.props,d=r.channel,f=r.diversitySurrogate,c=r.popoutKey,h=this.state,y=h.metaData,v=h.selectedRow,_=h.selectedColumn,E=h.currentSection,S=h.placeholder,M=h.query,R=h.premiumPromoOpen,P=h.diversityPickerOpen,L=[],D=null,k=null;if(0===y.length)k=a(C.default,{message:O.default.Messages.NO_EMOJI_SEARCH_RESULTS,className:b.default.noSearchResultsContainer,forceLightTheme:!0});else{var G=""!==f?s.default.convert.toCodePoint(f):"";u.default.forEach(y,function(e){var r=e.category,s=e.items;if(r&&r!==D){D=r;var f=u.default.find(t.categories,function(e){return e.category===r});null!=f&&L.push(a("div",{name:r,className:b.default.category},r,f.title))}var c=u.default.map(s,function(e){var r,u=e.emoji,s=e.row,f=e.column,c=null,p=s===v&&f===_,h=null!=u.index?u.index:0,y={key:u.name+"-"+s+"-"+f,className:(0,l.default)(b.default.emojiItem,(r={},r[b.default.selected]=p,r[b.default.disabled]=T.default.isEmojiDisabled(u,d),r)),onClick:function(e){return t.selectEmoji(u,!e.shiftKey)},onMouseOver:function(){return t.onHoverEmoji(u,s,f)}};if(!u.useSpriteSheet)return i.createElement("div",o({},y,{style:{backgroundImage:"url('"+u.url+"')"}}));if(u.hasDiversity){var m=-h%A.EmojiSprites.DiversityPerRow*U,E=-Math.floor(h/A.EmojiSprites.DiversityPerRow)*U;c={backgroundImage:"url('"+n(6458)("./spritesheet-"+G+".png")+"')",backgroundPosition:m+"px "+E+"px",backgroundSize:t.diversitySpriteSheetSize}}else{var g=-h%A.EmojiSprites.NonDiversityPerRow*U,S=-Math.floor(h/A.EmojiSprites.NonDiversityPerRow)*U;c={backgroundImage:"url('"+n(6216)+"')",backgroundPosition:g+"px "+S+"px",backgroundSize:t.spriteSheetSize}}return i.createElement("div",y,a("div",{className:b.default.spriteItem,style:c}))});L.push(a("div",{className:b.default.row},L.length,c))}),k=i.createElement(I.default,{ref:this.scrollerRef,outerClassName:b.default.scrollerWrap,className:b.default.scroller,onScroll:this.handleScroll,elementHeight:w,fade:!0,theme:I.default.Themes.LIGHT,renderStickyHeader:function(){return t.renderStickyHeader()}},L)}var F=u.default.map(m.default.categories,function(e){var n;return a(g.default,{"aria-label":e,className:(0,l.default)(b.default.item,b.default[e],(n={},n[b.default.selected]=null!=E&&0===E.indexOf(e),n)),onClick:function(){return t.scrollNow(e)}},e)}),B=void 0;if(R){var H=null!=d.getGuildId();B=a(x,{onLearnMore:function(){return p.default.close(c)},onClose:function(){return t.setState({premiumPromoOpen:!1})},isGuildChannel:H})}return a("div",{className:b.default.emojiPicker},void 0,a("div",{className:(0,l.default)(b.default.dimmer,(e={},e[b.default.visible]=P,e))}),a("div",{className:b.default.header},void 0,i.createElement(N.default,{query:M,ref:this.searchRef,light:!0,placeholder:S,gridResults:!0,selectedRow:v,selectedColumn:_,sections:y.map(function(e){return e.items.length}),onClear:this.handleClear,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,className:b.default.searchBar}),a(j,{onOpen:this.handleDiversityPickerToggled,selectedSurrogate:f})),k,a("div",{className:b.default.categories},void 0,F),B)},t}(i.PureComponent);B.displayName="EmojiPicker",t.default=f.default.connectStores([m.default],function(){return{diversitySurrogate:m.default.diversitySurrogate}})(B),e.exports=t.default},6215:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5447));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n=e.message,r=e.className,l=e.forceLightTheme;return o("div",{className:(0,a.default)((t={},t[i.default.forceLightTheme]=l,t),r)},void 0,o("div",{className:i.default.wrapper},void 0,o("div",{className:i.default.sadImage}),o("div",{},void 0,n)))};u.displayName="NoSearchResults",t.default=u,e.exports=t.default},6216:function(e,t,n){e.exports=n.p+"f24711dae4f6d6b28335e866a93e9d9b.png"},6217:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(159),i=(r=a)&&r.__esModule?r:{default:r},l=n(0);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=(0,i.default)({ARROW_UP:null,ARROW_DOWN:null,ARROW_LEFT:null,ARROW_RIGHT:null});var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,e.call.apply(e,[this].concat(a))),r.state={focusedColumn:null,focusedRow:null},r.handleKeyDown=function(e){var t=r.props.onSelect;switch(e.keyCode){case l.KeyboardKeys.ARROW_DOWN:case l.KeyboardKeys.ARROW_UP:case l.KeyboardKeys.ARROW_LEFT:case l.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),r.focusNext(function(e){switch(e){case l.KeyboardKeys.ARROW_DOWN:return s.ARROW_DOWN;case l.KeyboardKeys.ARROW_UP:return s.ARROW_UP;case l.KeyboardKeys.ARROW_LEFT:return s.ARROW_LEFT;case l.KeyboardKeys.ARROW_RIGHT:return s.ARROW_RIGHT;default:return null}}(e.keyCode));break;case l.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation();var n=r.calculateFocusedItem();null!=n&&null!=t&&t(n)}},r.wrapPosition=function(e,t,n,o){var a=e.length,i=n*a+t,l=Math.max(i+o,0)%a,u=r.calculateClosest(e[t][n],e[l])||n,s=0;return o<0&&l>t&&(s=-1),o>0&&l<t&&(s=1),{column:l,row:u+s}},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown,!0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!0)},t.prototype.focusNext=function(e){var t=this,n=this.props,r=n.getItemGrid,o=n.onFocus,a=this.state,i=a.focusedColumn,l=a.focusedRow;if(null!=e){var u=r();if(null!=u){var s=this.getNext(u,i,l,e);this.setState({focusedColumn:s.column,focusedRow:s.row},function(){var e=t.calculateFocusedItem();null!=e&&null!=o&&o(e)})}}},t.prototype.getNext=function(e,t,n,r){var o=void 0,a=void 0,i=void 0;if(null==t||null==n)a=0,i=0,o={column:0,row:0};else switch(a=t,i=n,r){case s.ARROW_UP:o={column:a,row:Math.max(i-1,0)};break;case s.ARROW_DOWN:o={column:a,row:Math.min(i+1,e[a].length-1)};break;case s.ARROW_LEFT:o=this.wrapPosition(e,a,i,-1);break;case s.ARROW_RIGHT:o=this.wrapPosition(e,a,i,1)}var l=void 0;return null!=o&&(l=e[o.column][o.row]),null!=l&&null!=o||(l=e[(o={column:a,row:i}).column][o.row]),{column:o.column,row:o.row,id:l.id}},t.prototype.calculateClosest=function(e,t){for(var n=Number.MAX_SAFE_INTEGER,r=void 0,o=0;o<t.length;o++){var a=t[o],i=Math.abs(a.coords.top-e.coords.top);if(!(i<n))break;n=i,r=o}return r},t.prototype.calculateFocusedItem=function(){var e=this.props.getItemGrid,t=this.state,n=t.focusedRow,r=t.focusedColumn,o=e();return null==o||null==r||null==n||null==o[r]||null==o[r][n]?null:o[r][n]},t.prototype.render=function(){return this.props.children},t}(o.Component);d.displayName="MasonryKeyboardNavigationWrapper",t.default=d,e.exports=t.default},6218:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(313),u=(o=l)&&o.__esModule?o:{default:o};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(t){var n=t.columns,r=t.gutterSize,o=t.scrollBufferMultiplier,a=t.getItemId,i=t.getItemHeight,l=t.getFooterHeight;s(this,e),f.call(this),this.columns=n,this.gutterSize=r,this.scrollBufferMultiplier=o,this.getItemId=a,this.getItemHeight=i,this.getFooterHeight=l}return e.prototype.computeFullCoords=function(e,t,n,r){var o=this.columns,a=this.getItemId,i=this.getItemHeight,l=this.gutterSize,u=this.scrollBufferMultiplier,s=this.getFooterHeight,d={},f=new Array(o).fill(0),c=(r-l*(o+1))/o,p=[],h=t-u*n,y=t+n+u*n,m=[];e.forEach(function(e){var t=a(e);if(null!=t){var n,r=(n=f).reduce(function(e,t,n){return t<e[0]?[t,n]:e},[n[0],0]),o=r[0],u=r[1],s=i(e,c),v=o+l,_={position:"absolute",left:c*u+l*(u+1),width:c,top:v,height:s};v>h-s&&v<y&&p.push(e),d[t]=_,f[u]=v+s,null==m[u]&&(m[u]=[]),m[u].push({coords:_,id:t})}}),this._columnWidth=c,this._coordsMap=d,this._columnHeights=f.map(function(e){return e+l}),this._itemGrid=m;var v=s(o,c,l),_=this.getTotalColumnHeight();return v>0&&(d.__footer__={position:"absolute",left:l,width:r-2*l,top:_,height:v},_+=v+l),this._totalHeight=_,p},e.prototype.computeVisibleItems=function(e,t,n){var r=this.getItemId,o=this._coordsMap,a=this.scrollBufferMultiplier,i=[],l=t-a*n,u=t+n+a*n;return e.forEach(function(e){var t=r(e);if(null!=t&&null!=o[t]){var n=o[t],a=n.top,s=n.height;a>l-s&&a<u&&i.push(e)}}),i},e.prototype.getCoords=function(e){return this._coordsMap[e]},e.prototype.getItemGrid=function(){return this._itemGrid},e.prototype.getTotalColumnHeight=function(){return this._columnHeights.reduce(function(e,t){return Math.max(e,t)},0)},e}(),f=function(){this._coordsMap={},this._columnHeights=[],this._columnWidth=0,this._totalHeight=0,this._itemGrid=[]},c=function(e){var t=e.style,n=e.children;return a("div",{style:t},void 0,n)};c.displayName="ListItem";var p=function(e){var t=e.height;return a("div",{style:{height:t,visibility:"hidden"}})};p.displayName="ScrollBuffer";var h=function(e){function t(n){s(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));y.call(r);var o=r.props,a=o.width,l=o.height,u=o.columns,f=o.gutterSize,c=o.getItemId,p=o.getItemHeight,h=o.scrollBufferMultiplier,m=o.getFooterHeight;return r.state={width:a,height:l,items:[],_data:[],computer:new d({columns:u,gutterSize:f,scrollBufferMultiplier:h,getItemId:c,getItemHeight:p,getFooterHeight:m}),_columns:u,scrollerRef:i.createRef()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.columns,o=e.width,a=e.height,i=t.computer,l=t.scrollerRef.current;if(null==l)return null;if(n!==t._data||r!==t._columns||o!==t.width){var u=l.getScrollData().scrollTop;return i.columns=r,{scrollTop:u,height:a,width:o,items:i.computeFullCoords(n,u,a,o),_data:n,_columns:r}}return null},t.prototype.getScrollTop=function(){var e=this.state.scrollerRef.current;return null!=e?e.getScrollData().scrollTop:0},t.prototype.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state.scrollerRef.current;null!=n&&n.scrollTo(e,t)},t.prototype.componentDidMount=function(){this.computeFullCoords()},t.prototype.getItemGrid=function(){return this.state.computer.getItemGrid()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.renderItem,r=e.getItemId,o=e.theme,l=e.track,s=e.renderFooter,d=this.state,f=d.items,h=d.computer,y=d.scrollerRef,m=h.getCoords("__footer__");return i.createElement(u.default,{className:t,ref:y,onScroll:this.handleScroll,theme:o,track:l},a(p,{height:h._totalHeight}),f.map(function(e,t){var o=r(e),i=h.getCoords(o);return null!=i?a(c,{style:i},o,n(e,i,t)):null}),null!=m?a(c,{style:m},void 0,s(h.getTotalColumnHeight(),h)):null)},t}(i.Component);h.defaultProps={columns:2,gutterSize:10,scrollBufferMultiplier:0,track:!1,theme:u.default.Themes.GHOST_HAIRLINE,getFooterHeight:function(){return 0},renderFooter:function(){return null}};var y=function(){var e=this;this.scrollIntoView=function(t,n){var r=e.state.scrollerRef.current;null!=r&&r.scrollIntoViewRect(t,n,!0)},this.computeFullCoords=function(){var t=e.props,n=t.data,r=t.width,o=t.height,a=e.getScrollTop(),i=e.state.computer.computeFullCoords(n,a,o,r);e.setState({items:i})},this.handleScroll=function(){var t=e.props,n=t.data,r=t.height,o=t.onScroll,a=e.state.items,i=e.getScrollTop(),l=e.state.computer.computeVisibleItems(n,i,r);l.length===a.length&&null==l.find(function(e,t){return e!==a[t]})||e.setState({items:l});var u=e.state.scrollerRef.current;null!=o&&null!=u&&o(u)}};h.displayName="MasonryList",t.default=h,e.exports=t.default},6219:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(5990),u=(a=l)&&a.__esModule?a:{default:a};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t,n){var r=Math.max(Math.floor(e/t),1);return Math.min(r,n)}t.default=(0,u.default)((o=r=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),r.state={columns:d(r.props.width,r.props.desiredItemWidth,r.props.maxColumns)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=d(e.width,e.desiredItemWidth,e.maxColumns);return n!==t.columns?{columns:n}:null},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height;return(0,e.children)(this.state.columns,t,n)},t}(i.PureComponent),r.defaultProps={desiredItemWidth:200},o)),e.exports=t.default},6220:function(e,t,n){"use strict";t.__esModule=!0,t.GIFPickerSearchItem=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=C(n(17)),l=C(n(6)),u=C(n(6831)),s=C(n(4)),d=n(6062),f=C(n(6036)),c=C(n(128)),p=C(n(221)),h=C(n(306)),y=C(n(313)),m=C(n(6221)),v=C(n(6217)),_=C(n(6218)),E=C(n(6215)),g=C(n(6219)),S=n(0),T=C(n(13)),I=C(n(5451));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=["#B3AEFF","#738EF5","#929AFA"],M=1220;function R(e){return e.id||e.src}function P(e){return e.height}function L(e){return e.id}function w(e){return e===S.GIFResultFormat.VIDEO}var D=s.default.connectStores([f.default],function(e){var t=e.item.url;return{isFavorite:f.default.getIsFavorite(t)}})(function(e){var t=e.className,n=e.isFavorite,r=e.item;return o(m.default,{className:t,isFavorite:n,onClick:function(e){var t=r.width,n=r.height,o=r.src,a=r.url,i=r.format;e?(0,d.removeFavoriteGIF)(a):(0,d.addFavoriteGIF)({width:t,height:n,src:o,url:a,format:i})}})}),U=new u.default(function(){var e=document.createElement("video");return e.className=I.default.gif,e.autoplay=!0,e.loop=!0,e.muted=!0,e.preload="auto",e.controls=!1,e},function(e){e.src="",e.oncanplay=null;var t=e.parentNode;null!=t&&t.removeChild(e)}),k=new u.default(function(){return document.createElement("img")},function(e){e.onload=null,e.src=""}),G=Array.from({length:16}).map(function(e,t){return{id:""+t,height:Math.floor(100*Math.random())+120}}),x=t.GIFPickerSearchItem=function(e){function t(n){N(this,t);var r=A(this,e.call(this,n));r.ref=null,r._video=null,r._image=null,r._mounted=!0,r.handleCanPlay=function(){r._mounted&&r.setState({loaded:!0})},r.handleClick=function(){var e=r.props,t=e.onClick,n=e.item,o=e.index;null!=t&&t(n,o)};var o=r.props,a=o.format,i=o.color;return r.state={color:null==i?l.default.sample(b):i,loaded:!1},w(a)||(r._image=k.getElement(),r._image.onload=function(){return r.setState({loaded:!0})},r._image.src=n.src),r}return O(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.format,n=e.src,r=e.itemWidth,o=e.itemHeight,a=this.ref;if(t===S.GIFResultFormat.VIDEO&&null!=a){var i=U.getElement();i.oncanplay=this.handleCanPlay,i.src=n,i.width=r,i.height=o,a.appendChild(i),this._video=i}},t.prototype.componentWillUnmount=function(){this._mounted=!1;var e=this._image,t=this._video;null!=e&&(this._image=null,k.poolElement(e)),null!=t&&(this._video=null,U.poolElement(t))},t.prototype.renderGIF=function(){var e=this.props,t=e.src,n=e.itemWidth,r=e.itemHeight;return this.state.loaded?o("img",{src:t,width:n,height:r,className:I.default.gif,alt:""}):null},t.prototype.render=function(){var e,t=this,n=this.props,r=n.item,a=n.renderExtras,l=n.format,u=n.itemWidth,s=n.itemHeight,d=n.focused,f=this.state,c=f.color,h=f.loaded;return o(p.default,{innerRef:function(e){t.ref=e},className:(0,i.default)(I.default.result,(e={},e[I.default.focused]=d,e)),onClick:this.handleClick,style:{backgroundColor:h?null:c,width:u,height:s}},void 0,w(l)?null:this.renderGIF(),null!=a?a(r):null)},t}(a.PureComponent);x.displayName="GIFPickerSearchItem";var F=function(e){function t(){var n,r;N(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=A(this,e.call.apply(e,[this].concat(l))),r._masonryRef=a.createRef(),r.prevResultQuery=null,r.state={focusedId:null},r.handleFocus=function(e){var t=r._masonryRef.current;null!=t&&t.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),r.setState({focusedId:e.id})},r.handleSelect=function(e){var t=r.props.data,n=t.findIndex(function(t){return R(t)===e.id}),o=void 0;-1!==n&&(o=t[n]),null!=o&&r.selectItem(o,n)},r.handleClickItem=function(e,t){r.selectItem(e,t)},r.handleScroll=function(e){var t=r.props.resultQuery,n=e.scrollerState,o=n.scrollTop;n.scrollHeight-o<=M&&(t!==r.prevResultQuery&&(0,d.fetchSuggestions)(t),r.prevResultQuery=t)},r.renderItem=function(e,t,n){var a=r.state.focusedId;return o(x,{item:e,index:n,format:e.format,src:e.src,itemWidth:t.width,itemHeight:t.height,onClick:r.handleClickItem,renderExtras:function(){return o(D,{className:I.default.favButton,item:e})},focused:R(e)===a})},r.renderLoadingItem=function(e,t,n){return o("div",{className:I.default.placeholder,style:{animationDelay:75*n+"ms"}})},r.renderFooter=function(){var e=r.props,t=e.onSelectSuggestion,n=e.suggestions;return o("div",{className:I.default.endContainer},void 0,n.length>0?o(a.Fragment,{},void 0,o("div",{className:I.default.endText},void 0,T.default.Messages.GIF_PICKER_RELATED_SEARCH),o("div",{className:I.default.searchSuggestions},void 0,n.map(function(e){return o(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.PRIMARY,size:c.default.Sizes.SMALL,className:I.default.searchSuggestion,onClick:function(){t(e)}},e,e)}))):null)},A(r,n)}return O(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.resultType,n=e.data;t===S.GIFPickerResultTypes.FAVORITES&&((0,d.trackSearchStart)(S.GIFPickerResultTypes.FAVORITES),(0,d.trackSearchResultViewed)(n,S.GIFPickerResultTypes.FAVORITES,{limit:null}))},t.prototype.componentWillUnmount=function(){U.clearPool(),k.clearPool()},t.prototype.selectItem=function(e,t){var n=this.props,r=n.onSelectGIF,o=n.resultType,a=n.data,i=n.resultQuery;null!=r&&r(e),(0,d.trackSelectGIF)({type:o,index:t,offset:this.props.searchOffset,limit:this.props.searchLimit,results:a,totalResults:this.props.searchTotalResults,query:i,gifId:e.id})},t.prototype.getItemHeight=function(e,t){var n=e.width;return t*(e.height/n)},t.prototype.renderEmptyFavorite=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o("div",{className:I.default.emptyHint},void 0,null!=e?o("div",{className:I.default.emptyHintCard},void 0,t?o(h.default,{className:I.default.emptyHintFavorite,name:h.default.Names.FAVORITE_FILLED}):null,o("div",{className:I.default.emptyHintText},void 0,e)):o("div",{className:I.default.emptyHintSpacer}))},t.prototype.renderEmptyFavorites=function(){var e=this;return o(y.default,{theme:y.default.Themes.GHOST_HAIRLINE},void 0,o("div",{className:I.default.emptyHints},void 0,this.renderEmptyFavorite(T.default.Messages.NO_GIF_FAVORITES_HOW_TO_FAVORITE,!0),this.renderEmptyFavorite(T.default.Messages.NO_GIF_FAVORITES_WHERE_TO_FAVORITE),this.renderEmptyFavorite(T.default.Messages.NO_GIF_FAVORITES_GO_FAVORITE),Array.from({length:15}).map(function(t,n){return o(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(T.default.Messages.NO_GIF_FAVORITES_FLAVOR_FAVORITE_PLEASE),Array.from({length:16}).map(function(t,n){return o(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(T.default.Messages.NO_GIF_FAVORITES_FLAVOR_STILL_HERE)))},t.prototype.render=function(){var e=this,t=this.props,n=t.data,r=t.resultQuery,i=t.query,l=t.resultType;return 0===n.length&&r===i&&l!==S.GIFPickerResultTypes.TRENDING_GIFS?l===S.GIFPickerResultTypes.FAVORITES?this.renderEmptyFavorites():o(E.default,{message:T.default.Messages.NO_GIF_SEARCH_RESULTS,className:I.default.noResults}):o(v.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},r,o(g.default,{desiredItemWidth:200,maxColumns:8},void 0,function(t,u,s){return 0!==n.length||r===i&&l!==S.GIFPickerResultTypes.TRENDING_GIFS?a.createElement(_.default,{key:r+"-"+(l||""),ref:e._masonryRef,width:u,height:s,gutterSize:12,className:I.default.results,columns:t,data:n,getItemId:R,getItemHeight:e.getItemHeight,renderItem:e.renderItem,scrollBufferMultiplier:.5,getFooterHeight:function(){return 220},renderFooter:e.renderFooter,onScroll:e.handleScroll}):o(_.default,{width:u,height:s,data:G,columns:t,gutterSize:12,getItemId:L,getItemHeight:P,renderItem:e.renderLoadingItem,scrollBufferMultiplier:.5},r)}))},t}(a.PureComponent);F.displayName="GIFPickerSearchResults",t.default=F},6221:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(221)),u=c(n(306)),s=c(n(442)),d=c(n(13)),f=c(n(5450));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={showPulse:!1},r.showPulse=function(){r.setState({showPulse:!0}),r._timeout=setTimeout(function(){r.setState({showPulse:!1})},500)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this._timeout)},t.prototype.render=function(){var e,t=this,n=this.props,r=n.className,a=n.size,c=n.isFavorite,p=n.onClick,h=this.state.showPulse,y=c?d.default.Messages.GIF_TOOLTIP_REMOVE_FROM_FAVORITES:d.default.Messages.GIF_TOOLTIP_ADD_TO_FAVORITES;return o(s.default,{text:y},void 0,o(l.default,{className:(0,i.default)(r,a,f.default.gifFavoriteButton,(e={},e[f.default.selected]=c,e[f.default.showPulse]=h,e)),onMouseDown:function(e){return e.preventDefault()},onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.preventDefault(),e.stopPropagation(),t.showPulse(),p(c)}),onDoubleClick:function(e){return e.preventDefault()}},void 0,o(u.default,{className:f.default.icon,name:c?u.default.Names.FAVORITE_FILLED:u.default.Names.FAVORITE})))},t}(a.PureComponent);h.defaultProps={size:f.default.size},h.displayName="GIFFavButton",t.default=h,e.exports=t.default},6222:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=x(n(2)),l=G(n(4)),u=G(n(182)),s=G(n(80)),d=n(467),f=x(n(471)),c=G(n(135)),p=G(n(320)),h=G(n(156)),y=G(n(5358)),m=G(n(43)),v=G(n(72)),_=G(n(90)),E=G(n(191)),g=G(n(237)),S=G(n(15)),T=G(n(5357)),I=G(n(6471)),C=n(835),N=n(224),A=G(n(18)),O=G(n(82)),b=n(322),M=G(n(9)),R=G(n(456)),P=n(6088),L=G(P),w=G(n(6039)),D=G(n(5353)),U=G(n(5983)),k=n(0);function G(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var F={spotify:"Spotify"};function j(e,t,n,r){var o=null!=r.application_id?_.default.getActiveLibraryApplication(r.application_id):null;A.default.track(k.AnalyticEvents.APPLICATION_OPENED,{type:e,source:k.AnalyticsLocations.MESSAGE_EMBED,application_id:r.application_id,party_id:null!=r.party?r.party.id:void 0,other_user_id:t,message_id:n,distributor:null!=o?o.getDistributor():null})}var B=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return H.call(r),r.handleJoin=r.handleJoin.bind(r),r.handleSpectate=r.handleSpectate.bind(r),r.handleSync=r.handleSync.bind(r),r.handleDownloadApp=r.handleDownloadApp.bind(r),r.renderUserPopout=r.renderUserPopout.bind(r),r.renderSpotifyJoinButton=r.renderSpotifyJoinButton.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCoverImage=function(){var e=this.props,t=e.activity,n=e.connectedApplication,r=e.application,o=e.isPreview,a=e.message;if(null!=r&&(o||null!=a&&(0,N.isInviteActive)(t,a,r.id))){var i=(0,N.getCoverImageFromActivity)(t,r.id);if(null!=i)return i}return null!=r?O.default.getApplicationIconURL({id:r.id,icon:null!=n?n.coverImage:r.coverImage,size:k.ACTIVITY_INVITE_COVER_IMAGE_SIZE}):null},t.prototype.handleJoin=function(){var e=this.props,t=e.activity,n=e.userId,r=e.message,o=e.channelId;null!=t&&null!=n&&null!=r&&null!=t.session_id&&null!=t.application_id&&(u.default.join(n,t.session_id,t.application_id,o,r.id),j(k.AnalyticsGameOpenTypes.JOIN,n,r.id,t))},t.prototype.handleSpectate=function(){var e=this.props,t=e.activity,n=e.userId,r=e.message,o=e.channelId;null!=t&&null!=n&&null!=r&&null!=t.session_id&&null!=t.application_id&&(u.default.spectate(n,t.session_id,t.application_id,o,r.id),j(k.AnalyticsGameOpenTypes.SPECTATE,n,r.id,t))},t.prototype.handleSync=function(){var e=this.props,t=e.activity,n=e.userId;null!=t&&null!=n&&f.sync(t,n)},t.prototype.handleDownloadApp=function(){s.default.push(R.default,{source:"Game Invite"})},t.prototype.handleOpenSpotifyTrack=function(e){(0,d.openTrack)(e)},t.prototype.handleOpenSpotifyArtist=function(e,t,n){(0,d.openArtist)(e,t,n)},t.prototype.handleOpenSpotifyAlbum=function(e,t){(0,d.openAlbum)(e,t)},t.prototype.renderUserPopout=function(e,t){var n=this.props,r=n.channelId,o=n.guildId;return null==r?null:i.createElement(D.default,a({},t,{user:e,guildId:o,channelId:r}))},t.prototype.renderSpotifyJoinButton=function(e){var t=this.props,n=t.channelId,r=t.guildId;return i.createElement(L.default,a({type:P.SpotifyButtonTypes.EMBED_SYNC,guildId:r,channelId:n,source:"Invite Embed"},e))},t.prototype.shouldRenderCustomButton=function(){var e=this.props,t=e.isLaunchable,n=e.application;return null!=n&&null!=n.primarySkuId&&!t&&M.default.embedded},t.prototype.render=function(){return o(U.default,{section:U.default.Sections.APPLICATION_EMBED},void 0,o(C.BackgroundOpacityContext.Consumer,{},void 0,this.renderEmbed))},t}(i.PureComponent);B.defaultProps={isPreview:!1};var H=function(){var e=this;this.renderCustomButton=function(t){var n=e.props.application;return i.createElement(w.default,a({},t,{source:k.AnalyticsLocations.MESSAGE_EMBED,application:n}))},this.renderEmbed=function(t){var n=e.props,r=n.activity,a=n.partyId,i=n.myPartyId,l=n.application,u=n.partyMembers,s=n.isPreview,d=n.isLaunching,f=n.activityActionType,c=n.className,p=n.channelId,h=n.message,y=n.hideParty,m=n.isSyncable,v=n.isLaunchable,_=void 0;if(null!=l)_=l.name;else if(null!=a){var E=a.split(":")[0];_=F[E]}return o(I.default,{activity:r,partyId:a,myPartyId:i,applicationId:null!=l?l.id:null,name:_,partyMembers:u,className:c,coverImage:e.getCoverImage(),isPreview:s,isGameLaunchable:v,isLaunching:d,activityActionType:f,isInBrowser:!M.default.embedded,isSyncable:m,channelId:p,message:h,hideParty:y,onJoin:e.handleJoin,onSpectate:e.handleSpectate,onSync:e.handleSync,onDownloadApp:e.handleDownloadApp,onOpenSpotifyTrack:e.handleOpenSpotifyTrack,onOpenSpotifyArtist:e.handleOpenSpotifyArtist,onOpenSpotifyAlbum:e.handleOpenSpotifyAlbum,renderUserPopout:e.renderUserPopout,renderSpotifyJoinButton:e.renderSpotifyJoinButton,backgroundOpacity:t.backgroundOpacity,renderCustomButton:e.shouldRenderCustomButton()?e.renderCustomButton:null})}};B.displayName="ActivityInviteEmbedContainer",t.default=l.default.connectStores([T.default,p.default,E.default,y.default,S.default,v.default,g.default,m.default,h.default,_.default],function(e){var t=e.activity,n=e.application,r=e.partyId,o=e.userId,a=e.guildId,i=(n||{}).id,l=null!=t&&null!=t.party&&t.party.id===r?y.default.getParty(t.party.id):null,u=i?E.default.getApplicationActivity(i):E.default.findActivity(function(e){return e.type===k.ActivityTypes.LISTENING}),s=!1,d=!1;null!=i&&(s=T.default.getState(i,k.ActivityActionTypes.JOIN)===k.ActivityActionStates.LOADING,d=T.default.getState(i,k.ActivityActionTypes.SPECTATE)===k.ActivityActionStates.LOADING);var f=Array.from(l||[]).map(function(e){var t=a?v.default.getMember(a,e):null,n=null!=t?t.nick:null,r=S.default.getUser(e),o=null==r;return null==r&&(r=new c.default({discriminator:"0005"})),{user:r,unknownUser:o,nick:n}}),I=null!=t&&g.default.canPlay(t),C=g.default.getSyncingWith(),N=null!=C&&null!=o&&C.userId===o,A=I&&!N;return{partyMembers:f,connectedApplication:null!=i?p.default.getApplication(i):null,myPartyId:null!=u&&null!=u.party?u.party.id:null,isLaunching:s||d,isSyncable:A,isLaunchable:null!=i&&(0,b.isLaunchable)(_.default,m.default,h.default,p.default,i)}})(B),e.exports=t.default},6223:function(e,t,n){"use strict";t.__esModule=!0,t.ImageReadyStates=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(17)),u=h(n(159)),s=n(6037),d=h(n(311)),f=n(444),c=h(f),p=h(n(5458));function h(e){return e&&e.__esModule?e:{default:e}}var y=t.ImageReadyStates=(0,u.default)({LOADING:null,ERROR:null,READY:null}),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.imageClassName,u=t.readyState,h=t.src,m=t.alt,v=t.width,_=t.height,E=t.maxWidth,g=void 0===E?v:E,S=t.maxHeight,T=void 0===S?_:S,I=t.minWidth,C=t.minHeight,N=t.accessory,A=t.zoomable,O=t.original,b=t.children,M=t.renderItem,R=t.renderAccessory,P=t.backgroundOpacity,L=t.tabIndex,w=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["className","imageClassName","readyState","src","alt","width","height","maxWidth","maxHeight","minWidth","minHeight","accessory","zoomable","original","children","renderItem","renderAccessory","backgroundOpacity","tabIndex"]);if(1===v&&1===_)return null;var D=(0,s.fit)(v,_,g,T,I,C),U={},k="div";null!=O&&(k=d.default,U.href=O,U.tabIndex=L);var G=void 0;G=null!=h&&u===y.READY&&"function"==typeof b?null!=M?M():b({src:h,size:D,alt:m,className:r}):u===y.LOADING?a("div",{className:p.default.imageWrapperInner},void 0,h?a("img",{alt:m,className:p.default.imagePlaceholder,src:h,style:D}):null,h?a("div",{className:p.default.imagePlaceholderOverlay}):null,a(c.default,{type:f.SpinnerTypes.WANDERING_CUBES})):a("div",{className:p.default.imageWrapperInner},void 0,a("div",{className:p.default.imageError}));var x=null!=R?R():null;return x=x||N,i.createElement(k,o({className:(0,l.default)(p.default.imageWrapper,(e={},e[p.default.imageZoom]=A,e[p.default.imageWrapperBackground]=u!==y.READY,e[p.default.clickable]=null!=w.onClick,e),p.default[(P||"")+"BackgroundOpacity"],n),style:null!=M?null:D},U,w),x?a("div",{className:p.default.imageAccessory},void 0,x):null,G)},t}(i.PureComponent);m.defaultProps={readyState:y.READY,zoomable:!0,alt:"",children:function(e){var t=e.src,n=e.size,r=e.alt,o=e.className;return a("img",{className:o,alt:r,src:t,style:n})},minWidth:0,minHeight:0},m.displayName="Image",t.default=m},6224:function(e,t,n){"use strict";t.__esModule=!0,t.ButtonAddReaction=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=N(n(17)),u=N(n(38)),s=N(n(310)),d=n(81),f=N(n(833)),c=n(465),p=N(n(901)),h=N(n(154)),y=N(n(6332)),m=N(n(221)),v=N(n(827)),_=n(876),E=n(835),g=n(478),S=N(n(497)),T=N(n(6214)),I=n(0),C=N(n(5467));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=t.ButtonAddReaction=function(e){function t(){var n,r;A(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=O(this,e.call.apply(e,[this].concat(l))),r.onAddReaction=function(e){if(null!=e){var t=r.props,n=t.channel,o=t.message;(0,c.addReaction)(n.id,o.id,(0,g.toReactionEmoji)(e))}},r.renderReactionPopout=function(e){var t=r.props.channel;return i.createElement(T.default,a({},e,{channel:t,onSelectEmoji:r.onAddReaction}))},O(r,n)}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.left,r=e.className;return t.state===I.MessageStates.SENDING||t.author.isLocalBot()?null:o(v.default,{closeOnScroll:!1,render:this.renderReactionPopout,position:n?v.default.Positions.LEFT:v.default.Positions.RIGHT,offsetX:n?-10:0,subscribeTo:n?I.ComponentActions.TOGGLE_REACTION_POPOUT(t.id):null},void 0,o("div",{className:(0,l.default)(C.default.reactionBtn,r)}))},t}(i.Component);M.defaultProps={left:!0},M.displayName="ButtonAddReaction";var R=function(e){function t(){var n,r;A(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=O(this,e.call.apply(e,[this].concat(a))),r.scale=new s.default.Value(1),r.opacity=new s.default.Value(1),r.timeout=new d.Timeout,r.state={tooltipText:null},r.handleClick=function(){var e=r.props,t=e.message,n=e.emoji,o=e.me,a=e.readOnly,i=t.getChannelId();o?(0,c.removeReaction)(i,t.id,n):a||(0,c.addReaction)(i,t.id,n)},r.handleMouseEnter=function(){r.timeout.start(500,r.showTooltip,!1)},r.showTooltip=function(){r.handleStoreChange(),p.default.addChangeListener(r.handleStoreChange)},r.handleMouseLeave=function(){r.hideTooltip(),r.setState({tooltipText:null})},r.hideTooltip=function(){r.timeout.stop(),p.default.removeChangeListener(r.handleStoreChange)},r.handleStoreChange=function(){var e=r.props,t=e.message,n=e.emoji;r.setState({tooltipText:(0,g.getReactionTooltip)(t,n)})},r.setClickableRef=function(e){r.clickableElement=e},O(r,n)}return b(t,e),t.prototype.componentWillAppear=function(e){this.animateIn(e)},t.prototype.componentWillEnter=function(e){this.animateIn(e)},t.prototype.componentWillUnmount=function(){this.hideTooltip()},t.prototype.animateIn=function(e){h.default.isFocused()?(this.scale.setValue(0),this.opacity.setValue(0),s.default.parallel([s.default.timing(this.scale,{toValue:1,duration:300,easing:s.default.Easing.inOut(s.default.Easing.back())}),s.default.timing(this.opacity,{toValue:1,duration:300})]).start(e)):(this.scale.setValue(1),this.opacity.setValue(1),e())},t.prototype.render=function(){var e,t=this.props,n=t.count,r=t.emoji,a=t.me,u=t.readOnly,d=t.backgroundOpacity,f={transform:[{scale:this.scale}],opacity:this.opacity};return o(i.Fragment,{},void 0,o(s.default.div,{className:(0,l.default)(C.default.reaction,C.default[d+"BackgroundOpacity"],(e={},e[C.default.reactionMe]=a,e[C.default.reactionReadOnly]=u,e)),style:f},void 0,o(m.default,{className:C.default.reactionInner,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onFocus:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onBlur:this.handleMouseLeave,innerRef:this.setClickableRef},void 0,o(S.default,{emojiId:r.id,emojiName:r.name,animated:r.animated}),o(y.default,{className:(0,l.default)(C.default.reactionCount,C.default[d+"BackgroundOpacity"]),value:n,digitWidth:9}))),this.renderTooltip())},t.prototype.renderTooltip=function(){var e=this.state.tooltipText;return null==e||""===e?null:((0,u.default)(null!=this.clickableElement,"Unexpected missing element"),o(_.TooltipLayer,{targetElement:this.clickableElement,position:_.TooltipPositions.TOP,color:_.TooltipColors.BLACK},void 0,e))},t}(i.PureComponent);R.displayName="Reaction";var P=function(e){function t(){var n,r;A(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=O(this,e.call.apply(e,[this].concat(a))),r.state={disableTransitionAppear:!0,reactionsCount:r.props.message.reactions.length},O(r,n)}return b(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.message.reactions.length;return 0===t.reactionsCount&&n>0?{disableTransitionAppear:!1,reactionsCount:n}:t.reactionsCount!==n?{reactionsCount:n}:null},t.prototype.render=function(){var e=this.props,t=e.message,n=e.disableReactionCreates,r=e.disableReactionUpdates,l=e.channel,u=this.state.disableTransitionAppear;if(!t.reactions.length)return null;var s=o(M,{message:t,channel:l,left:!1});return o(E.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o(f.default,{className:C.default.reactions,transitionAppear:!u,transitionLeave:!1},void 0,t.reactions.map(function(n){return i.createElement(R,a({key:(n.emoji.id||0)+":"+n.emoji.name,message:t,readOnly:r,backgroundOpacity:e.backgroundOpacity},n))}),!n&&s)})},t}(i.PureComponent);P.displayName="Reactions",t.default=P},6225:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.toggleGamePopout=function(e,t,n){l.default.isOpen(h)?(e.stopPropagation(),a.default.close(h)):y(e,t,n)},t.default=y;c(n(2));var a=f(n(830)),i=f(n(5980)),l=f(n(847)),u=n(827),s=c(n(6021)),d=f(n(6084));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p=(0,i.default)(d.default),h="activity_feed_game_popout";function y(e,t,n){null!=t&&(e.stopPropagation(),s.trackGamePopoutOpened(t,"",n),(0,u.openPopout)(e.currentTarget,{position:u.Positions.TOP_LEFT,preventClickPropagation:!0,closeOnScroll:!1,render:function(e){var n=e.popoutKey;return o(p,{popoutKey:n,game:t})}},h,e))}},6226:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5473));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n,r=e.renderTitle,l=e.renderTagline,u=e.renderActions,s=e.renderMedia,d=e.className,f=e.isHorizontal,c=void 0!==f&&f;return o("div",{className:(0,a.default)(i.default.tile,(t={},t[i.default.tileHorizontal]=c,t),d)},void 0,o("div",{className:(0,a.default)(i.default.media,(n={},n[i.default.mediaHorizontal]=c,n))},void 0,s&&s()),o("div",{className:i.default.description},void 0,o("h2",{className:i.default.title},void 0,r&&r()),o("div",{className:i.default.tagline},void 0,l&&l()),o("div",{className:i.default.actions},void 0,u&&u())))};u.displayName="ResponsiveTile",t.default=u,e.exports=t.default},6227:function(e,t,n){"use strict";t.__esModule=!0,t.StoreEmbedWithoutDimensions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=n(223),s=M(n(4)),d=n(839),f=M(n(5980)),c=M(n(5990));n(316),n(130);M(n(840)),M(n(868));var p=M(n(43)),h=M(n(90)),y=M(n(6173)),m=M(n(179)),v=M(n(838)),_=M(n(128)),E=n(109),g=n(133),S=M(n(5983)),T=M(n(6039)),I=M(n(6044)),C=M(n(6503)),N=n(6122),A=n(0),O=M(n(13)),b=M(n(5480));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=R(this,e.call.apply(e,[this].concat(i))),r.state={playing:!1,muted:!0},r.handleToggleMute=function(){r.setState({muted:!r.state.muted})},r.handleMouseEnter=function(){r.setState({playing:!0})},r.handleMouseLeave=function(){r.setState({playing:!1})},r.getStoreListingLocation=function(){var e=r.props.sku;if(null==e)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,g.getStoreListingLocation)(e.id,{slug:e.slug,analyticsSource:r.analyticsLocation})},r.handleActionButtonClick=function(e){return e.preventDefault()},r.handleBuyButtonClick=function(e){return e.preventDefault()},r.handleLinkClick=function(e){var t=r.props.onEmbedClick;null!=t&&t(e)},r.renderActions=function(e){var t=r.props,n=t.inLibrary,o=t.application,i=t.skuId,l=t.libraryApplication,u=t.renderCustomActions;if(null==o)return null;if(null!=u)return a("div",{className:b.default.tileActions},void 0,u());var s=null!=o&&o.primarySkuId===i,d=null!=l&&l.hasFlag(A.LibraryApplicationFlags.HIDDEN);return a("div",{className:b.default.tileActions},void 0,!s||d?r.renderViewInStoreButton():a(T.default,{application:o,customDisabledColor:_.default.Colors.GREY,size:_.default.Sizes.SMALL,className:b.default.actionButton,onClick:r.handleActionButtonClick}),n&&!d||e.premium?null:a(I.default,{type:I.default.Types.EMBED,sku:e,inLibrary:!1}))},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.skuId,r=e.storeListing;null!=t&&null!=r||(0,d.fetchStoreListingForSku)(n),E.ComponentDispatch.dispatch(A.ComponentActions.CHAT_RESIZE)},t.prototype.renderViewInStoreButton=function(){return a(_.default.Link,{to:this.getStoreListingLocation(),className:b.default.actionButton,color:_.default.Colors.GREEN,size:_.default.Sizes.SMALL},void 0,O.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},t.prototype.render=function(){var e=this,t=this.props,n=t.sku,r=t.storeListing,o=t.inLibrary,i=t.width,l=t.fetchFailed,s=t.renderFallback,d=t.renderCustomTitle,f=t.renderCustomTagline,c=this.state,p=c.playing,h=c.muted,y=i>N.HORIZONTAL_EMBED_BREAKPOINT;return null==n||null==r?l?s():a(N.ResponsiveLoadingEmbedTile,{isHorizontal:y}):a(S.default,{section:A.AnalyticsSections.APPLICATION_EMBED},void 0,a(u.Link,{onClick:this.handleLinkClick,to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,a(C.default,{sku:n,storeListing:r,playing:p,muted:h,inLibrary:o,onToggleMute:this.handleToggleMute,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:d,renderCustomTagline:f,isHorizontal:y,isEmbed:!0})))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props,t=e.analyticsContext.location,n=e.analyticsSection;return o({},t,{section:null!=n?n:A.AnalyticsSections.APPLICATION_EMBED,object:A.AnalyticsObjects.CARD})}}]),t}(l.Component);P.defaultProps={renderFallback:A.NOOP},P.displayName="StoreEmbed";var L=[m.default,y.default,h.default,v.default,p.default],w=function(e){var t=e.skuId,n=m.default.get(t);return{sku:n,application:null!=n?p.default.getGame(n.applicationId):null,fetchFailed:m.default.didFetchingSkuFail(t),inLibrary:null!=n&&h.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?v.default.getForSKU(n.id):null,libraryApplication:null!=n?h.default.getLibraryApplication(n.applicationId,n.applicationId,!0):null}};t.default=s.default.connectStores(L,w)((0,c.default)((0,f.default)(P)));t.StoreEmbedWithoutDimensions=s.default.connectStores(L,w)((0,f.default)(P))},6228:function(e,t,n){e.exports=n.p+"0c9615349350c4185381d58c69b88cbc.svg"},6229:function(e,t,n){e.exports=n.p+"b8029fe196b8f1382e90bbe81dab50dc.svg"},6230:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l,u=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),f=g(n(6606)),c=g(n(6607)),p=g(n(6608)),h=(n(449),g(n(5995))),y=g(n(828)),m=g(n(6231)),v=n(0),_=g(n(13)),E=g(n(5362));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T="US",I="CA",C=c.default.map(function(e){return{value:e.code,label:e.name}}),N=Object.freeze({NAME:"name",COUNTRY:"country",LINE1:"line1",LINE2:"line2",CITY:"city",POSTAL_CODE:"postalCode",STATE:"state"}),A=Object.freeze({MODAL:"modal",SETTINGS:"settings"}),O=Object.freeze({EDIT:"edit",CREATE:"create"}),b=((o={})[T]=p.default,o[I]=f.default,o),M=((a={})[N.NAME]=function(e){return{name:N.NAME,title:function(){return _.default.Messages.BILLING_ADDRESS_NAME},autoComplete:"name",getClassNameForLayout:function(e){return e===A.MODAL?E.default.width100:E.default.width60},renderInput:function(e){return d.createElement(y.default,e)}}},a[N.COUNTRY]=function(e){return{name:N.COUNTRY,title:function(){return _.default.Messages.BILLING_ADDRESS_COUNTRY},autoComplete:"country",getClassNameForLayout:function(e){return e===A.MODAL?E.default.width100:E.default.width75},renderInput:function(e,t){return d.createElement(h.default,s({},e,{autofocus:!0,clearable:!1,disabled:t.mode===O.EDIT,options:C,onChange:function(t){var n=t.value;null!=e.onChange&&e.onChange(n,e.name)}}))}}},a[N.LINE1]=function(e){return{name:N.LINE1,title:function(){return _.default.Messages.BILLING_ADDRESS_ADDRESS},autoComplete:"address-line1",placeholder:function(){return _.default.Messages.BILLING_ADDRESS_ADDRESS_PLACEHOLDER},getClassNameForLayout:function(e){return e===A.MODAL?E.default.width100:E.default.width60},renderInput:function(e){return d.createElement(y.default,e)}}},a[N.LINE2]=function(e){return{name:N.LINE2,title:function(){return _.default.Messages.BILLING_ADDRESS_ADDRESS2},placeholder:function(){return _.default.Messages.BILLING_ADDRESS_ADDRESS2_PLACEHOLDER},autoComplete:"address-line2",getClassNameForLayout:function(e){return e===A.MODAL?E.default.width100:E.default.width40},renderInput:function(e){return d.createElement(y.default,e)}}},a[N.CITY]=function(e){return{name:N.CITY,title:function(){return _.default.Messages.BILLING_ADDRESS_CITY},autoComplete:"address-level2",placeholder:function(){return _.default.Messages.BILLING_ADDRESS_CITY_PLACEHOLDER},getClassNameForLayout:function(e){return e===A.MODAL?E.default.width100:E.default.width50},renderInput:function(e){return d.createElement(y.default,e)}}},a[N.POSTAL_CODE]=function(e){var t=void 0,n=void 0;switch(e){case T:t=_.default.Messages.BILLING_ADDRESS_ZIP_CODE,n=_.default.Messages.BILLING_ADDRESS_ZIP_CODE_PLACEHOLDER;break;case I:t=_.default.Messages.BILLING_ADDRESS_POSTAL_CODE,n=_.default.Messages.BILLING_ADDRESS_POSTAL_CODE_CANADA_PLACEHOLDER;break;default:t=_.default.Messages.BILLING_ADDRESS_POSTAL_CODE}return{name:N.POSTAL_CODE,title:function(){return t},autoComplete:"postal-code",placeholder:function(){return n},getClassNameForLayout:function(e){return e===A.MODAL?E.default.width50:E.default.width25},renderInput:function(e){return d.createElement(y.default,e)}}},a[N.STATE]=function(e){var t=void 0;switch(e){case T:t=_.default.Messages.BILLING_ADDRESS_STATE;break;case I:t=_.default.Messages.BILLING_ADDRESS_PROVINCE;break;default:t=_.default.Messages.BILLING_ADDRESS_REGION}return{name:N.STATE,title:function(){return t},autoComplete:"address-level1",getClassNameForLayout:function(e){return e===A.MODAL?E.default.width50:E.default.width25},renderInput:function(t){var n=b[e],r=!t.value||null!=n&&n.find(function(e){return e.value===t.value});return[T,I].includes(e)&&r?d.createElement(h.default,s({},t,{menuContainerStyle:t.layout===A.MODAL?{zIndex:9,position:"absolute",bottom:"100%",top:"auto"}:null,clearable:!1,options:b[e],onChange:function(e){var n=e.value;null!=t.onChange&&t.onChange(n,t.name)}})):d.createElement(y.default,t)}}},a),R=((i={})[A.MODAL]=[[M[N.COUNTRY]],[M[N.LINE1]],[M[N.LINE2]],[M[N.CITY]],[M[N.STATE],M[N.POSTAL_CODE]]],i[A.SETTINGS]=[[M[N.NAME]],[M[N.LINE1],M[N.LINE2]],[M[N.CITY],M[N.STATE],M[N.POSTAL_CODE]],[M[N.COUNTRY]]],i),P=function(e){function t(){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=o=S(this,e.call.apply(e,[this].concat(i))),o.state={values:(n={},n[N.NAME]=o.props[N.NAME],n[N.COUNTRY]=o.props[N.COUNTRY],n[N.LINE1]=o.props[N.LINE1],n[N.LINE2]=o.props[N.LINE2],n[N.CITY]=o.props[N.CITY],n[N.POSTAL_CODE]=o.props[N.POSTAL_CODE],n[N.STATE]=o.props[N.STATE],n),dirtyFields:{},errors:{}},o.handleFieldBlur=function(){o.setState({errors:o.validateForm(!0)})},o.handleFieldChange=function(e,t){var n,r;if(t){var a=o.state,i=a.values,l=a.errors,u=a.dirtyFields;delete l[t],o.setState({values:s({},i,(n={},n[t]=e,n)),dirtyFields:s({},u,(r={},r[t]=!0,r)),errors:l})}},S(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.handleInfoChange()},t.prototype.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},t.prototype.validateForm=function(e){var t=this.state,n=t.values,r=t.dirtyFields,o={};e&&!r[N.NAME]||n[N.NAME]||this.props.mode!==O.EDIT||(o[N.NAME]=_.default.Messages.BILLING_ADDRESS_NAME_ERROR_REQUIRED),e&&!r[N.COUNTRY]||n[N.COUNTRY]||(o[N.COUNTRY]=_.default.Messages.BILLING_ADDRESS_COUNTRY_ERROR_REQUIRED),e&&!r[N.LINE1]||n[N.LINE1]||(o[N.LINE1]=_.default.Messages.BILLING_ADDRESS_ADDRESS_ERROR_REQUIRED),e&&!r[N.CITY]||n[N.CITY]||(o[N.CITY]=_.default.Messages.BILLING_ADDRESS_CITY_ERROR_REQUIRED);var a=n[N.COUNTRY];switch(a){case T:if(!e||r[N.POSTAL_CODE]){var i=n[N.POSTAL_CODE];i?5!==i.length?o[N.POSTAL_CODE]=_.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_LENGTH:/^\d{5}$/.test(i)||(o[N.POSTAL_CODE]=_.default.Messages.BILLING_ADDRESS_ZIP_CODE_INVALID):o[N.POSTAL_CODE]=_.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_REQUIRED}e&&!r[N.STATE]||n[N.STATE]||(o[N.STATE]=_.default.Messages.BILLING_ADDRESS_STATE_ERROR_REQUIRED);break;case I:e&&!r[N.POSTAL_CODE]||n[N.POSTAL_CODE]||(o[N.POSTAL_CODE]=_.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED),e&&!r[N.STATE]||n[N.STATE]||(o[N.STATE]=_.default.Messages.BILLING_ADDRESS_PROVINCE_ERROR_REQUIRED);break;default:e&&!r[N.POSTAL_CODE]||n[N.POSTAL_CODE]||v.COUNTRIES_WITHOUT_POSTAL_CODES.includes(a)||(o[N.POSTAL_CODE]=_.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED)}return o},t.prototype.handleInfoChange=function(){var e=this.state,t=e.values,n=e.dirtyFields,r=this.validateForm(!1);this.props.onBillingAddressChange(t,0===Object.keys(r).length,Object.keys(n).length>0)},t.prototype.render=function(){var e=this.state,t=e.errors,n=e.values,r=this.props,o=r.layout,a=r.mode,i=r.className,l=r.error,s=R[o];if(null==s)throw new Error("Provide a proper layout property.");var d=n[N.COUNTRY],f=s.map(function(e){var t=e.map(function(e){return e(d)}).filter(Boolean);return t.length>0?{fields:t}:null}).filter(Boolean);return u(m.default,{className:i,form:f,layout:o,values:n,errors:t,formError:l,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,mode:a})},t}(d.PureComponent);P.Layouts=A,P.Modes=O,P.defaultProps=((l={})[N.NAME]="",l[N.COUNTRY]="",l[N.LINE1]="",l[N.LINE2]="",l[N.CITY]="",l[N.POSTAL_CODE]="",l[N.STATE]="",l.layout=A.MODAL,l.mode=O.CREATE,l.error=null,l),P.displayName="AddressForm",t.default=P,e.exports=t.default},6231:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=(n(449),f(n(152))),s=n(829),d=f(n(5362));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={changedSinceError:new Set},r.renderFormSection=r.renderFormSection.bind(r),r.renderFormRow=r.renderFormRow.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.formError!==e.formError)this.setState({changedSinceError:new Set});else if(null!=this.props.formError){var t=this.state.changedSinceError;this.getChangedValues(e).forEach(function(e){return t.add(e)}),this.setState({changedSinceError:t})}},t.prototype.getChangedValues=function(e){var t=this.props.values,n=e.values;return Object.keys(t).filter(function(e){return t[e]!==n[e]})},t.prototype.getError=function(e){var t=this.props,n=t.errors,r=t.formError;return null!=n[e]?n[e]:null==r||this.state.changedSinceError.has(e)?null:r.getFieldMessage(e)},t.prototype.renderFormSection=function(e){var t=this.props,n=t.values,r=t.onFieldChange,i=t.onFieldFocus,u=t.onFieldBlur,d=t.layout,f=c(t,["values","onFieldChange","onFieldFocus","onFieldBlur","layout"]),p=e.getClassNameForLayout,h=e.renderInput,y=e.title,m=e.name,v=e.placeholder,_=c(e,["getClassNameForLayout","renderInput","title","name","placeholder"]),E=a({},_,{placeholder:v&&v(),layout:d,error:this.getError(m),value:n[m],name:m,onChange:r,onFocus:i,onBlur:u});return o(s.FormSection,{className:(0,l.default)(p&&p(d)),title:y()},m,h(E,f))},t.prototype.renderFormRow=function(e){var t=e.fields.map(this.renderFormSection);return o(u.default,{className:(0,l.default)(d.default.row,e.className)},e.fields.map(function(e){return e.name}).join(""),t)},t.prototype.render=function(){var e=this.props,t=e.form,n=e.className,r=t.map(this.renderFormRow);return o("div",{className:n},void 0,r)},t}(i.PureComponent);p.displayName="FormRenderer",t.default=p,e.exports=t.default},6232:function(e,t,n){"use strict"},6233:function(e,t,n){"use strict";t.__esModule=!0,t.CopyInputModes=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=n(180),u=n(128),s=c(u),d=c(n(152)),f=c(n(5494));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.CopyInputModes={DEFAULT:"default",SUCCESS:"success",ERROR:"error"},h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleButtonClick=r.handleButtonClick.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.setRef=r.setRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setRef=function(e){this.input=e},t.prototype.select=function(){var e=this.input;e&&e.select()},t.prototype.renderInput=function(e){var t,n=this.props,r=n.value,o=n.mode;return a.createElement("input",{className:(0,i.default)((0,l.getClass)(f.default,"input",o),(t={},t[f.default.inputHidden]=e,t)),ref:this.setRef,placeholder:"input here",type:"text",value:r,onClick:this.handleInputClick,readOnly:!0})},t.prototype.render=function(){var e=this.props,t=e.text,n=e.mode,r=e.hideMessage,a=e.className,c=e.buttonLook,h=null!=r,y=void 0;switch(n){case p.SUCCESS:y=u.ButtonColors.GREEN;break;case p.ERROR:y=u.ButtonColors.RED;break;default:y=this.props.buttonColor}return o("div",{className:(0,i.default)((0,l.getClass)(f.default,"copyInput",n),a)},void 0,o(d.default,{className:f.default.layout},void 0,o(d.default,{className:f.default.inputWrapper},void 0,this.renderInput(h),h?o("div",{className:f.default.hiddenMessage},void 0,r):null),o(d.default,{shrink:1,grow:0,style:{margin:0}},void 0,o(s.default,{className:f.default.button,onClick:this.handleButtonClick,size:u.ButtonSizes.MIN,color:y,look:c},void 0,t))))},t.prototype.handleButtonClick=function(){this.select();var e=this.props;(0,e.onCopy)(e.value)},t.prototype.handleInputClick=function(){this.select()},t}(a.PureComponent);h.defaultProps={text:"Copy",supportsCopy:!0,buttonColor:u.ButtonColors.GREY,buttonLook:u.ButtonLooks.GHOST,mode:p.DEFAULT},h.Modes=p,h.ButtonColors=u.ButtonColors,h.ButtonLooks=u.ButtonLooks,h.displayName="CopyInput",t.default=h},6234:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(159))),l=c(n(128)),u=c(n(152)),s=c(n(222)),d=n(829),f=c(n(5533));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.default)({UPGRADE:null,CANCEL:null,UNVERIFIED:null,UNCLAIMED:null,GRANDFATHERED:null}),h=((o={})[p.UPGRADE]="imageUpgrade",o[p.CANCEL]="imageCancel",o[p.UNVERIFIED]="imageUnverified",o[p.UNCLAIMED]="imageUnclaimed",o[p.GRANDFATHERED]="imageCancel",o),y=function(e){var t=e.children,n=e.onClose;return a(s.default.Header,{separator:!1},void 0,a(d.FormTitle,{tag:d.FormTitleTags.H4},void 0,t),null!=n?a(s.default.CloseButton,{className:f.default.closeIcon,onClick:n}):null)};y.displayName="Header";var m=function(e){var t=e.children,n=e.type;return a(s.default.Content,{},void 0,a("div",{className:f.default[h[n]]}),a("div",{className:f.default.message},void 0,t))};m.displayName="Content";var v=function(e){var t=e.primary,n=e.primaryRenderer,r=e.secondary;return a(s.default.Footer,{},void 0,a(u.default,{justify:u.default.Justify.END},void 0,null!=r?a(l.default,{onClick:r.onClick,look:l.default.Looks.LINK,innerClassName:f.default.secondaryButton},void 0,r.label):null,null!=t?a(l.default,{onClick:t.onClick,color:l.default.Colors.BRAND},void 0,t.label):n))};v.displayName="Footer";var _=function(e){var t=e.children;return a(s.default,{},void 0,t)};_.displayName="PremiumModal",_.Header=y,_.Content=m,_.Footer=v,_.Types=p,t.default=_,e.exports=t.default},6235:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(4)),a=f(n(1));n(316);f(n(6077));var i=f(n(43)),l=f(n(35)),u=f(n(179)),s=f(n(838)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c={},p={},h={},y=!1,m=void 0,v={},_=void 0,E=void 0,g=void 0;function S(e){var t=e.directoryLayout,n=t.id;c[n]=t,h[n]=!1,p[n]=Date.now()}function T(){c={},p={},h={}}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,s.default,i.default,l.default),g=l.default.locale},t.prototype.getDirectoryLayout=function(e){return c[e]},t.prototype.isFetching=function(e){return h[e]},t.prototype.shouldFetch=function(e){return!h[e]&&(null==p[e]||Date.now()-p[e]>18e5)},r(t,[{key:"lastHomeDirectoryView",get:function(){return _}},{key:"lastBrowseDirectoryView",get:function(){return E}},{key:"isLibraryApplicationsHidden",get:function(){return y}},{key:"searchTerm",get:function(){return m}},{key:"previousFilters",get:function(){return v}}]),t}(o.default.Store);t.default=new I(a.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){var t=e.layoutId;h[t]=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:S,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:S,APPLICATION_STORE_DIRECTORY_FETCH_FAILURE:function(e){var t=e.layoutId;h[t]=!1},APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case d.DirectoryLocations.HOME:_={scrollTop:t};break;case d.DirectoryLocations.BROWSE:E={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;y=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;m=t},APPLICATION_STORE_SAVE_FILTERS:function(e){var t=e.filters;v=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:l.default.locale;if(g===t)return!1;g=t,T()},APPLICATION_STORE_CLEAR_DATA:function(e){return T()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return _=null,void(E=null)}}),e.exports=t.default},6236:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(17)),u=n(180),s=h(n(221)),d=h(n(152)),f=h(n(306)),c=h(n(129)),p=h(n(5538));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=y(e,["className","children"]);return i.createElement(c.default,a({className:(0,l.default)(p.default.title,t),weight:c.default.Weights.SEMIBOLD},r),n)},t}(i.PureComponent);E.displayName="HeaderBarTitle";var g=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.getMode=function(){var e=this.props,t=e.disabled,n=e.active;return t?"Disabled":n?"Active":"Inactive"},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.noMargin,d=t.foreground,c=(t.active,t.disabled),h=t.showBadge,m=t.onClick,v=y(t,["className","noMargin","foreground","active","disabled","showBadge","onClick"]),_=i.createElement(f.default,a({foreground:null!=d?d:p.default.iconForeground},v,{className:(0,l.default)((0,u.getClass)(p.default,"icon",this.getMode()),n)}));return h?o(s.default,{tag:"span",onClick:c?null:m,className:p.default.iconBadgeWrapper},void 0,_,o("span",{className:p.default.iconBadge})):c?_:o(s.default,{tag:"span",onClick:m,className:(0,l.default)((e={},e[p.default.iconMargin]=!r,e))},void 0,_)},t}(i.PureComponent);g.displayName="HeaderBarIcon";var S=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){return o("div",{className:(0,l.default)(p.default.divider,this.props.className)})},t}(i.PureComponent);S.displayName="HeaderBarDivider";var T=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return o(d.default,{align:d.default.Align.CENTER,className:(0,l.default)(p.default.headerBarDrag,p.default.headerBar,t),shrink:0,grow:0},void 0,n)},t}(i.PureComponent);T.Icon=g,T.Title=E,T.Divider=S,T.displayName="HeaderBar",t.default=T,e.exports=t.default},6238:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetchDefaultRegions:function(){return this.fetchRegions(null)},fetchRegions:function(e){r.default.get({url:a.Endpoints.REGIONS(e),retries:1}).then(function(t){return o.default.dispatch({type:a.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})},function(){return o.default.dispatch({type:a.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})})},changeCallRegion:function(e,t){r.default.patch({url:a.Endpoints.CALL(e),body:{region:t}})}},e.exports=t.default},6239:function(e,t,n){"use strict";t.__esModule=!0,t.deepLinkRouteIfLandedAndNotAuthed=t.deepLinkRouteIfLanded=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(338)),a=s(n(12)),i=s(n(9)),l=s(n(888)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=t.deepLinkRouteIfLanded=i.default.embedded?u.NOOP:function(e,t){i.default.isDesktop&&!l.default.hasNavigated&&o.default.requestOnce(u.RPCCommands.DEEP_LINK,{type:e,params:t})};t.deepLinkRouteIfLandedAndNotAuthed=i.default.embedded?u.NOOP:function(e,t){if(!a.default.isAuthenticated()&&!a.default.isGuest())return d(e,r({},t||{},{fingerprint:a.default.getFingerprint()}))}},6240:function(e){e.exports=[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]},6241:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(913);function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=l(this,e.call.apply(e,[this].concat(a))),r.chromeVersion=(0,i.getChromeVersion)(),r.handleReady=function(){var e=r.props.onReady;null!=e&&e()},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSources=function(){var e=[o("source",{src:n(6361),type:"video/mp4"},"mp4"),o("img",{alt:"",src:n(6362)},"png")];return(this.chromeVersion>52||-1===this.chromeVersion)&&e.unshift(o("source",{src:n(6363),type:"video/webm"},"webm")),e},t.prototype.render=function(){var e=this.props,t=e.setRef,n=e.loop,r=e.autoPlay,o=e.className;return a.createElement("video",{ref:t,onLoadedData:this.handleReady,className:o,loop:n,autoPlay:r,playsInline:!0},this.renderSources())},t}(a.PureComponent);u.defaultProps={loop:!0,autoPlay:!0},u.displayName="AppSpinner",t.default=u,e.exports=t.default},6242:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=G(n(2)),s=k(n(17)),d=n(453),f=k(n(4)),c=k(n(849)),p=n(490),h=G(n(6327)),y=k(n(80)),m=G(n(6143)),v=k(n(12)),_=k(n(921)),E=k(n(864)),g=k(n(129)),S=n(6009),T=k(S),I=k(n(18)),C=n(109),N=n(858),A=k(n(447)),O=k(n(6589)),b=k(n(6411)),M=n(6154),R=k(M),P=n(0),L=k(n(13)),w=k(n(5351)),D=k(n(951)),U=k(n(5666));function k(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var x=a(S.AuthSpinner,{hideQuote:!0}),F=a(M.InviteResolvingHeader,{}),j=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));B.call(r);var o=null!=n.location?(0,d.parse)(n.location.search):{};return r.state={redirecting:n.authenticated,checkingHandoff:n.handoffAvailable,email:o.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU,o=e.invite,a=e.location;t&&!n?(0,p.handoffBegin)():n&&this.loginOrSSO(n,a,!0),I.default.track(P.AnalyticEvents.LOGIN_VIEWED,i({location:null!=o?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource},null!=r?r.getAnalyticsData(!1,!1):{}),!0)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.handoffAvailable;e.handoffAvailable||!t||e.authenticated||this.setState({checkingHandoff:!1})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,o=this.state.checkingHandoff;!n||e.authenticated||o||this.loginOrSSO(n,r),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},t.prototype.loginOrSSO=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.props.isGuest;e&&(null!=t||o)&&(r?c.default.verifySSOToken().then(function(){return n.transitionSSO(t)}):this.transitionSSO(t))},t.prototype.transitionSSO=function(e){var t=this.props,n=t.transitionTo,r=t.redirectTo;if(t.isGuest&&null!=r)n(r);else{var o=null!=e?(0,d.parse)(e.search):{},a=(o.redirect_to,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["redirect_to"]));if(null!=r)n(r);else if(null==a.service)n(P.Routes.APP);else{var l=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+P.Endpoints.SSO,u=i({},a,{token:v.default.getToken()});window.location=l+"?"+(0,d.stringify)(u)}}},t.prototype.hasError=function(e){return null!=this.props.errors[e]},t.prototype.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return a(T.default,{className:e},void 0,x,a(S.Title,{className:w.default.marginBottom8},void 0,L.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),a(S.Subtitle,{},void 0,L.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},t.prototype.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,r=e.authBoxClassName;return null==t?null:a(T.default,{className:r},void 0,a(S.Avatar,{src:t.getAvatarURL(),size:S.Avatar.Sizes.XXLARGE,className:w.default.marginBottom20}),a(S.Title,{className:w.default.marginBottom8},void 0,L.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),a(S.Subtitle,{className:w.default.marginBottom40},void 0,L.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),a(S.Block,{},void 0,a(S.Button,{onClick:function(){return n(P.Routes.APP)},className:w.default.marginBottom8},void 0,L.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),a(S.Button,{look:S.Button.Looks.LINK,onClick:this.handleReset},void 0,L.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},t.prototype.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===P.LoginStates.ACCOUNT_DISABLED,n=t?L.default.Messages.ACCOUNT_DISABLED_TITLE:L.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,r=t?L.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:L.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return a(T.default,{tag:"form",onSubmit:this.handleReset,className:e},void 0,a(S.Title,{className:w.default.marginBottom8},void 0,n),a(S.Subtitle,{className:w.default.marginBottom20},void 0,r),a(S.Block,{},void 0,a(S.Button,{color:S.Button.Colors.BRAND,type:"submit"},void 0,L.default.Messages.RETURN_TO_LOGIN),a("div",{className:(0,s.default)(w.default.marginTop8,U.default.needAccount)},void 0,L.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},t.prototype.renderResolving=function(){var e=this,t=this.props.authBoxClassName;return a(T.default,{className:t},void 0,F,a(S.Block,{className:w.default.marginTop20},void 0,a(S.Input,{className:w.default.marginBottom20,label:L.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),a(S.Input,{className:w.default.marginBottom20,label:L.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),a(S.Button,{className:w.default.marginBottom8,type:"submit",disabled:!0},void 0,L.default.Messages.LOGIN),a(S.Button,{disabled:!0,look:S.Button.Looks.LINK},void 0,L.default.Messages.FORGOT_PASSWORD),a(S.Button,{disabled:!0,className:w.default.marginTop4,look:S.Button.Looks.LINK},void 0,L.default.Messages.NEED_ACCOUNT)))},t.prototype.renderDefault=function(){var e=this,t=this.props,n=t.invite,r=t.giftCode,o=t.loginStatus,i=t.authBoxClassName,l=t.isGuest,d=!this.hasError("email")&&this.hasError("password"),f=void 0;return f=null!=n&&null!=n.channel?a(R.default,{invite:n}):null!=r?a(b.default,{giftCode:r}):l?null:a(u.Fragment,{},void 0,a(S.Title,{className:w.default.marginBottom8},"title",L.default.Messages.LOGIN_TITLE),a(S.Subtitle,{},"subtitle",L.default.Messages.AUTH_LOGIN_BODY)),a(T.default,{onSubmit:this.handleLogin,tag:"form",className:i},void 0,f,a(S.Block,{className:w.default.marginTop20},void 0,a(S.Input,{className:w.default.marginBottom20,label:L.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!d}),a(S.Input,{label:L.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:d,value:this.state.password}),a(S.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:S.Button.Looks.LINK,className:(0,s.default)(w.default.marginBottom20,w.default.marginTop4)},void 0,L.default.Messages.FORGOT_PASSWORD),a(S.Button,{type:"submit",submitting:o===P.LoginStates.LOGGING_IN,className:w.default.marginBottom8},void 0,L.default.Messages.LOGIN),a("div",{className:w.default.marginTop4},void 0,a("span",{className:U.default.needAccount},void 0,L.default.Messages.NEED_ACCOUNT),a(S.Button,{onClick:this.handleGotoRegister,look:S.Button.Looks.LINK,className:U.default.smallRegisterLink},void 0,L.default.Messages.REGISTER))))},t.prototype.renderMFA=function(){var e=this,t=this.props,r=t.loginStatus,o=t.mfaSMS,i=t.authBoxClassName;return a(T.default,{onSubmit:this.handleTokenSubmit,tag:"form",className:i},void 0,a("img",{alt:"",src:n(6371),className:w.default.marginBottom20}),a(S.Title,{className:w.default.marginBottom8},void 0,L.default.Messages.TWO_FA),a(S.Subtitle,{},void 0,L.default.Messages.TWO_FA_ENTER_TOKEN_BODY),a(S.Block,{className:w.default.marginTop40},void 0,a(S.Input,{className:w.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:L.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:L.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),a(S.Button,{type:"submit",submitting:r===P.LoginStates.LOGGING_IN_MFA},void 0,L.default.Messages.LOGIN),o?a(S.Button,{onClick:this.handleToggleSMSLogin,submitting:r===P.LoginStates.LOGGING_IN_MFA_SMS,className:w.default.marginTop8,look:S.Button.Looks.LINK},void 0,L.default.Messages.MFA_SMS_RECEIVE_CODE):null,a(S.Button,{look:S.Button.Looks.LINK,className:w.default.marginTop4,onClick:this.handleReset},void 0,L.default.Messages.TWO_FA_LOGIN_FOOTER)))},t.prototype.renderMFASMS=function(){var e=this,t=this.props,r=t.loginStatus,o=t.maskedPhone,i=t.authBoxClassName,l=r===P.LoginStates.LOGGING_IN_MFA_SMS||""===o;return a(T.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:i},void 0,a("img",{alt:"",src:n(6371),className:w.default.marginBottom20}),a(S.Title,{className:w.default.marginBottom8},void 0,L.default.Messages.TWO_FA),a(S.Subtitle,{className:w.default.marginBottom8},void 0,l?L.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:L.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:o})),a(S.Block,{className:w.default.marginTop40},void 0,a(S.Input,{className:w.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:L.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:L.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),a(S.Button,{type:"submit",submitting:l,color:l?S.Button.Colors.TRANSPARENT:S.Button.Colors.BRAND},void 0,L.default.Messages.LOGIN),l?null:a(S.Button,{onClick:this.handleToggleSMSLogin,className:w.default.marginTop8,look:S.Button.Looks.LINK},void 0,L.default.Messages.MFA_SMS_RESEND),a(S.Button,{look:S.Button.Looks.LINK,className:w.default.marginTop4,onClick:this.handleReset},void 0,L.default.Messages.TWO_FA_LOGIN_FOOTER)))},t.prototype.render=function(){var e=this.props,t=e.authenticated,n=e.invite,r=e.loginStatus,o=e.handoffAvailable,i=e.isGuest,l=e.authBoxClassName,u=this.state,s=u.checkingHandoff;if(u.redirecting)return null;if(this.hasError("captcha_key"))return a(O.default,{authBoxClassName:l,onVerify:this.handleCaptchaVerify,title:i?null:L.default.Messages.LOGIN_TITLE});if(o)return this.renderHandOffAvailable();if(t&&s)return this.renderHandOffContinue();switch(r){case P.LoginStates.LOGGING_IN_MFA_SMS:case P.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case P.LoginStates.LOGGING_IN_MFA:case P.LoginStates.MFA_STEP:return this.renderMFA();case P.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case P.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case P.LoginStates.LOGGING_IN:case P.LoginStates.NONE:default:return null!=n&&n.state===P.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},l(t,[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite,r=e.isGuest;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":r?"guest_lurker":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}]),t}(u.PureComponent);j.defaultProps={isGuest:!1,transitionTo:function(e){return r.location.assign(e)}};var B=function(){var e=this;this.setEmailRef=function(t){e.emailRef=t},this.setPasswordRef=function(t){e.passwordRef=t},this.setCodeRef=function(t){e.codeRef=t},this.renderError=function(t){var n=e.props.errors;if(e.hasError(t)){var r=n[t];return Array.isArray(r)?r[0]:r}return null},this.handleLogin=function(t){var n=e.state,r=n.email,o=n.password,a=n.captchaKey,i=n.undelete;null!=t&&t.preventDefault(),c.default.login({email:r,password:o,undelete:i,captchaKey:a,source:e.loginSource,giftCodeSKUId:e.giftCodeSKUId}),C.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},this.handleTokenSubmit=function(t){var n=e.state.code,r=e.props.mfaTicket;null!=t&&t.preventDefault(),c.default.loginMFA({code:n.replace(/ /g,""),ticket:r,source:e.loginSource,giftCodeSKUId:e.giftCodeSKUId}),C.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},this.handleSMSTokenSubmit=function(t){var n=e.state.smsCode,r=e.props.mfaTicket;null!=t&&t.preventDefault(),c.default.loginSMS({code:n.replace(/ /g,""),ticket:r}),C.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},this.handleToggleSMSLogin=function(t){var n=e.props.mfaTicket;null!=t&&t.preventDefault(),c.default.requestSMSToken(n),C.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},this.handleForgotPassword=function(){var t=e.state.email;null!=e.emailRef&&e.emailRef.focus(),c.default.forgotPassword(t,function(){y.default.push(function(e){return u.createElement(A.default,i({header:L.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:L.default.Messages.OKAY,red:!1,className:N.isMobile?D.default.mobile:""},e),a(g.default,{size:g.default.Sizes.MEDIUM,color:g.default.Colors.PRIMARY},void 0,L.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:t})))})}),C.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},this.handleReset=function(t){null!=t&&t.preventDefault(),c.default.loginReset(),e.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},this.handleCancelAccountDeletion=function(){e.setState({undelete:!0},e.handleLogin)},this.handleCaptchaVerify=function(t){e.setState({captchaKey:t},e.handleLogin)},this.handleGotoRegister=function(){var t=e.state.email,n=e.props,r=n.invite,o=n.giftCode,a=n.location,i=n.transitionTo,l=n.redirectTo;if(n.isGuest)return h.close(),void m.open();var u=null!=a?(0,d.parse)(a.search):{};""!==t&&(u.email=t);var s=void 0;null!=r?(u.mode="register",s=P.Routes.INVITE(r.code)):null!=o?(u.mode="register",s=P.Routes.GIFT_CODE(o.code)):null!=l?(s=P.Routes.REGISTER,u.redirect_to=l):s=P.Routes.REGISTER,c.default.loginReset(),i(s,{search:(0,d.stringify)(u)}),C.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)}};j.displayName="Login",t.default=f.default.connectStores([v.default,_.default,E.default],function(){return{authenticated:v.default.isAuthenticated(),handoffAvailable:_.default.isHandoffAvailable(),user:_.default.user,loginStatus:v.default.getLoginStatus(),mfaTicket:v.default.getMFATicket(),mfaSMS:v.default.getMFASMS(),maskedPhone:v.default.getMaskedPhone(),errors:v.default.getErrors(),defaultRoute:E.default.defaultRoute}})(j),e.exports=t.default}).call(this,n(7))},6243:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),C(n(308))),i=C(n(309)),l=C(n(443)),u=C(n(4)),s=n(307),d=C(n(832)),f=C(n(160)),c=C(n(12)),p=C(n(22)),h=C(n(111)),y=C(n(153)),m=C(n(134)),v=C(n(6081)),_=n(454),E=C(n(100)),g=C(n(5977)),S=C(n(5998)),T=n(0),I=C(n(13));function C(e){return e&&e.__esModule?e:{default:e}}var N=(0,a.default)({displayName:"GuildVoiceMoveToItem",mixins:[u.default.LazyStoreListenerMixin(h.default,m.default,p.default),l.default],propTypes:{guildId:i.default.string.isRequired,user:i.default.object.isRequired,invertChildY:i.default.bool},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props,t=e.guildId,n=e.user,r=m.default.getCurrentVoiceChannelId(t,n.id),o=r?p.default.getChannel(r):null;return{voiceChannels:h.default.getChannels(t)[T.ChannelTypes.GUILD_VOICE],currentVoiceChannel:o}},checkPermissionsForCurrentUser:function(e){if(!y.default.can(T.Permissions.CONNECT,e))return!1;if(y.default.can(T.Permissions.MOVE_MEMBERS,e))return!0;var t=e.getGuildId(),n=null!=t?v.default.getVoiceStatesForChannel(t,e.id):[];return!(0,_.isChannelFull)(e,n.length)},checkPermissionsForOtherUser:function(e){return function(t){return y.default.can(T.Permissions.MOVE_MEMBERS,t)&&(y.default.can(T.Permissions.CONNECT,t)||E.default.can(T.Permissions.CONNECT,e,t))}},getTargetChannels:function(){var e=this.props.user,t=this.state,n=t.voiceChannels,r=t.currentVoiceChannel,o=e.id===c.default.getId();if(null==r)throw new Error("[App]GuildVoiceMoveToItem.getTargetChannels(): assert failed: currentVoiceChannel != null");if(!o&&!y.default.can(T.Permissions.MOVE_MEMBERS,r))return[];var a=o?this.checkPermissionsForCurrentUser:this.checkPermissionsForOtherUser(e);return n.filter(function(e){var t=e.channel;return t.id!==r.id&&a(t)})},render:function(){var e=this,t=this.props.invertChildY;if(!this.state.currentVoiceChannel)return null;var n=this.getTargetChannels();if(0===n.length)return null;var r=n.map(function(t){var n=t.channel;return o(g.default,{action:function(){return e.handleChannelMove(n)},label:n.toString()},n.id)});return o(S.default,{label:I.default.Messages.MOVE_TO,invertChildY:t,render:r})},handleChannelMove:function(e){(0,s.closeContextMenu)(),this.props.user.id===c.default.getId()?f.default.selectVoiceChannel(this.props.guildId,e.id):d.default.setChannel(this.props.guildId,this.props.user.id,e.id)}});t.default=u.default.connectStores([y.default],function(e){var t=e.guildId;return{permissionVersion:y.default.getGuildVersion(t)}})(N),e.exports=t.default},6244:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=g(n(308)),u=g(n(309)),s=g(n(443)),d=g(n(4)),f=n(307),c=g(n(80)),p=g(n(848)),h=g(n(91)),y=g(n(15)),m=g(n(129)),v=g(n(5977)),_=g(n(447)),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}var S=(0,l.default)({displayName:"UserAddFriendItem",mixins:[d.default.StoreListenerMixin(h.default),s.default],propTypes:{user:u.default.object.isRequired},getInitialState:function(){return{requestSent:!1}},getStateFromStores:function(){var e=this.props.user.id;return{me:y.default.getCurrentUser().id===e,isFriend:h.default.isFriend(e),isBlocked:h.default.isBlocked(e)}},render:function(){if(this.props.user.bot)return null;var e=null;if(!this.state.me){var t=E.default.Messages.ADD_FRIEND;this.state.isFriend?t=E.default.Messages.REMOVE_FRIEND:this.state.requestSent&&(t=E.default.Messages.ADD_FRIEND_BUTTON_AFTER),e=a(v.default,{label:t,action:this.handleToggleFriend,disabled:this.state.isBlocked||this.state.requestSent&&!this.state.isFriend})}return e},handleToggleFriend:function(){var e=this;this.state.requestSent||(this.state.isFriend?((0,f.closeContextMenu)(),c.default.push(function(t){return i.createElement(_.default,o({header:E.default.Messages.REMOVE_FRIEND_TITLE.format({name:e.props.user.username}),confirmText:E.default.Messages.REMOVE_FRIEND,cancelText:E.default.Messages.CANCEL,onConfirm:e.performRemoval},t),a(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,E.default.Messages.REMOVE_FRIEND_BODY.format({name:e.props.user.username})))})):(p.default.addRelationship(this.props.user.id,{location:"ContextMenu"}),this.setState({requestSent:!0})))},performRemoval:function(){p.default.removeRelationship(this.props.user.id,{location:"ContextMenu"}),this.setState({requestSent:!1})}});t.default=S,e.exports=t.default},6245:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=I(n(4)),u=n(307),s=I(n(832)),d=I(n(80)),f=I(n(6031)),c=I(n(28)),p=I(n(153)),h=I(n(15)),y=I(n(134)),m=I(n(5981)),v=I(n(5977)),_=I(n(5982)),E=I(n(6246)),g=I(n(6250)),S=n(0),T=I(n(13));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),f=0;f<o;f++)l[f]=arguments[f];return n=r=C(this,e.call.apply(e,[this].concat(l))),r.handleToggleServerMute=function(){var e=r.props,t=e.user,n=e.guildId,o=e.mute,a=e.suppress;s.default.setServerMute(n,t.id,!(o||a))},r.handleToggleServerDeaf=function(){var e=r.props,t=e.user,n=e.guildId,o=e.deaf;s.default.setServerDeaf(n,t.id,!o)},r.handleKick=function(){var e=r.props,t=e.user,n=e.guildId;d.default.push(function(e){return i.createElement(g.default,a({},e,{guildId:n,user:t}))}),(0,u.closeContextMenu)()},r.handleBan=function(){var e=r.props,t=e.user,n=e.guildId;d.default.push(function(e){return i.createElement(E.default,a({},e,{guildId:n,user:t}))}),(0,u.closeContextMenu)()},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.channelId,n=e.user,r=e.guild,a=e.me,i=e.mute,l=e.deaf,u=e.suppress,s=null,d=null,f=null,c=null;return e.isVoiceConnected&&(p.default.can(S.Permissions.MUTE_MEMBERS,{channelId:t})&&(s=o(_.default,{danger:!0,label:T.default.Messages.SERVER_VOICE_MUTE,action:this.handleToggleServerMute,active:i||u})),p.default.can(S.Permissions.DEAFEN_MEMBERS,{channelId:t})&&(d=o(_.default,{danger:!0,label:T.default.Messages.SERVER_DEAFEN,action:this.handleToggleServerDeaf,active:l}))),a||null==r||(p.default.canManageUser(S.Permissions.KICK_MEMBERS,n,r)&&(f=o(v.default,{danger:!0,label:T.default.Messages.KICK+" "+n.username,action:this.handleKick})),p.default.canManageUser(S.Permissions.BAN_MEMBERS,n,r)&&(c=o(v.default,{danger:!0,label:T.default.Messages.BAN+" "+n.username,action:this.handleBan}))),o(m.default,{},void 0,s,d,f,c)},t}(i.Component);N.displayName="UserAdminItemGroup";var A=l.default.connectStores([h.default,y.default,c.default,p.default],function(e){var t=e.user,n=e.guildId,r=h.default.getCurrentUser()===t,o=!1,a=!1,i=!1,l=!1,u=y.default.getVoiceState(n,t.id);return null!=u&&(o=u.mute,a=u.deaf,i=u.suppress,l=null!=u.channelId),{guild:c.default.getGuild(n),me:r,mute:o,deaf:a,suppress:i,isVoiceConnected:l}})(N);t.default=(0,f.default)(function(e){var t,n=e.user;return(t={})[e.guildId]=[n.id],t})(A),e.exports=t.default},6246:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(832)),u=y(n(5995)),s=y(n(6045)),d=y(n(448)),f=y(n(447)),c=n(0),p=y(n(13)),h=y(n(5378));function y(e){return e&&e.__esModule?e:{default:e}}var m=[{value:"0",label:p.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE},{value:"1",label:p.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR},{value:"7",label:p.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D}],v=1,_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleSubmit=r.handleSubmit.bind(r),r.handleChangeDeleteDuration=r.handleChangeDeleteDuration.bind(r),r.handleChangeReason=r.handleChangeReason.bind(r),r.state={duration:m[v].value,reason:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleSubmit=function(){var e=this.props,t=e.guildId,n=e.user,r=this.state,o=r.duration,a=r.reason;l.default.banUser(t,n.id,o,a)},t.prototype.handleChangeDeleteDuration=function(e){var t=e.value;this.setState({duration:t})},t.prototype.handleChangeReason=function(e){this.setState({reason:e})},t.prototype.render=function(){var e=this.state,t=e.duration,r=e.reason,l=this.props,y=l.user,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(l,["user"]);return i.createElement(f.default,o({header:p.default.Messages.BAN_CONFIRM_TITLE.format({username:"@"+y.toString()}),confirmText:p.default.Messages.BAN,cancelText:p.default.Messages.CANCEL,onConfirm:this.handleSubmit,red:!0},v),a("video",{autoPlay:!0,loop:!0,className:h.default.spacing,width:400},void 0,a("source",{src:n(6247),type:"video/webm"}),a("source",{src:n(6248),type:"video/mp4"}),a("img",{alt:"",src:n(6249)})),a(d.default,{title:p.default.Messages.FORM_LABEL_DELETE_MESSAGE_HISTORY,className:h.default.spacing},void 0,a(u.default,{clearable:!1,searchable:!1,options:m,value:t,onChange:this.handleChangeDeleteDuration})),a(d.default,{title:p.default.Messages.FORM_LABEL_REASON_BAN,className:h.default.spacing},void 0,a(s.default,{maxLength:c.MAX_REASON_LENGTH,onChange:this.handleChangeReason,value:r,rows:2})))},t}(i.PureComponent);_.displayName="BanConfirm",t.default=_,e.exports=t.default},6247:function(e,t,n){e.exports=n.p+"62ac6016dc438a1fe4926ed43d3fe280.webm"},6248:function(e,t,n){e.exports=n.p+"6b3cc6ff5c09de83cc37561a43304dee.mp4"},6249:function(e,t,n){e.exports=n.p+"1923b5f96b83785235595042bd7f5a0d.png"},6250:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(832)),u=y(n(129)),s=y(n(6045)),d=y(n(448)),f=y(n(447)),c=n(0),p=y(n(13)),h=y(n(5379));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleReasonChange=r.handleReasonChange.bind(r),r.handleKick=r.handleKick.bind(r),r.state={reason:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.user;return i.createElement(f.default,o({header:p.default.Messages.KICK_USER_TITLE.format({user:e.username}),confirmText:p.default.Messages.KICK,cancelText:p.default.Messages.CANCEL,onConfirm:this.handleKick,red:!0},this.props),a(u.default,{size:u.default.Sizes.MEDIUM,color:u.default.Colors.PRIMARY,className:h.default.spacing},void 0,p.default.Messages.KICK_USER_BODY.format({user:"@"+e.toString()})),a(d.default,{title:p.default.Messages.FORM_LABEL_REASON_KICK,className:h.default.spacing},void 0,a(s.default,{maxLength:c.MAX_REASON_LENGTH,onChange:this.handleReasonChange,value:this.state.reason,rows:2})))},t.prototype.handleReasonChange=function(e){this.setState({reason:e})},t.prototype.handleKick=function(){var e=this.props,t=e.guildId,n=e.user;l.default.kickUser(t,n.id,this.state.reason)},t}(i.PureComponent);m.displayName="KickConfirm",t.default=m,e.exports=t.default},6251:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(308)),u=S(n(309)),s=S(n(443)),d=S(n(4)),f=n(307),c=S(n(80)),p=S(n(848)),h=S(n(91)),y=S(n(15)),m=S(n(129)),v=S(n(5977)),_=S(n(447)),E=n(0),g=S(n(13));function S(e){return e&&e.__esModule?e:{default:e}}var T=(0,l.default)({displayName:"UserBlockItem",mixins:[d.default.StoreListenerMixin(h.default,y.default),s.default],propTypes:{user:u.default.object.isRequired},getStateFromStores:function(){var e=this.props.user.id;return{me:y.default.getCurrentUser().id===e,isBlocked:h.default.isBlocked(e),isFriend:h.default.isFriend(e)}},render:function(){return this.state.me?null:a(v.default,{label:this.state.isBlocked?g.default.Messages.UNBLOCK:g.default.Messages.BLOCK,action:this.handleBlock})},handleBlock:function(){var e=this;(0,f.closeContextMenu)(),this.state.isBlocked?p.default.removeRelationship(this.props.user.id,{location:"ContextMenu"}):c.default.push(function(t){return i.createElement(_.default,o({header:g.default.Messages.CONFIRM_USER_BLOCK_TITLE.format({name:e.props.user.username}),confirmText:g.default.Messages.BLOCK,cancelText:g.default.Messages.CANCEL,onConfirm:e.performBlock},t),a(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,g.default.Messages.CONFIRM_USER_BLOCK_BODY.format({name:e.props.user.username})))})},performBlock:function(){p.default.addRelationship(this.props.user.id,{location:"ContextMenu"},E.RelationshipTypes.BLOCKED)}});t.default=T,e.exports=t.default},6252:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(446)),l=n(307),u=f(n(12)),s=f(n(5977)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.handleCall=function(){(0,l.closeContextMenu)(),i.default.openPrivateChannel(u.default.getId(),r.props.userId,!0)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return u.default.getId()===this.props.userId?null:o(s.default,{label:d.default.Messages.CALL,action:this.handleCall})},t}(a.PureComponent);p.displayName="UserCallItem",t.default=p,e.exports=t.default},6253:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(446)),l=n(307),u=c(n(22)),s=c(n(5977)),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleClose=function(){i.default.closePrivateChannel(r.props.channelId,r.props.selected),(0,l.closeContextMenu)()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=u.default.getChannel(this.props.channelId);return null==e||e.type===d.ChannelTypes.GROUP_DM?null:o(s.default,{label:f.default.Messages.CLOSE_DM,action:this.handleClose})},t}(a.PureComponent);h.displayName="UserCloseChatItem",t.default=h,e.exports=t.default},6254:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),N(n(308))),l=N(n(6)),u=N(n(309)),s=N(n(443)),d=N(n(4)),f=N(n(446)),c=N(n(318)),p=N(n(157)),h=N(n(22)),y=N(n(111)),m=N(n(153)),v=N(n(91)),_=N(n(455)),E=N(n(15)),g=n(229),S=N(n(5977)),T=N(n(5998)),I=n(0),C=N(n(13));function N(e){return e&&e.__esModule?e:{default:e}}var A=(0,i.default)({displayName:"UserInviteItem",mixins:[s.default],propTypes:{user:u.default.object.isRequired,guildId:u.default.string},getInitialState:function(){return{guilds:_.default.getSortedGuilds().map(function(e){return e.guild}),currentUser:E.default.getCurrentUser(),invitedGuilds:{}}},render:function(){var e=this.props,t=e.user,n=e.guildId,r=this.state,o=r.currentUser,i=r.guilds,l=1===i.length&&i[0].id===n;return o.id===t.id||t.bot||l||v.default.isBlocked(t.id)?null:a(T.default,{label:C.default.Messages.INVITE_TO_SERVER,render:this.renderSubMenuItems})},renderSubMenuItems:function(){var e=this,t=this.props,n=t.user,r=t.guildId,o=this.state,i=o.guilds,u=o.currentUser,s=o.invitedGuilds;return(0,l.default)(i).filter(function(e){return(0,g.canViewInviteModal)(e,e)&&e.id!==r}).map(function(t){return s[t.id]?a(S.default,{disabled:!0,label:C.default.Messages.INVITE_SENT},t.id):a(S.default,{label:t.name,action:function(){return e.handleInvite(t,u.id,n.id)}},t.id)}).value()},handleInvite:function(e,t,n){var r,a=y.default.getDefaultChannel(e.id);if(null!=a){var i,l=this.state.invitedGuilds;if(this.setState({invitedGuilds:o({},l,(r={},r[e.id]=!0,r))}),m.default.can(I.Permissions.CREATE_INSTANT_INVITE,e))c.default.createInvite(a.id,(i={},i.max_uses=1,i.unique=!0,i),"User Invite Context Menu").then(function(e){var r=e.body;f.default.ensurePrivateChannel(t,n).then(function(e){var t=h.default.getChannel(e);null!=t&&p.default.sendInvite(t.id,r.code,"context_menu")})});else f.default.ensurePrivateChannel(t,n).then(function(t){var n=h.default.getChannel(t);null!=n&&p.default.sendInvite(n.id,e.vanityURLCode,"context_menu")})}}});t.default=d.default.connectStores([m.default],function(){return{guildsPermissionState:m.default.getState().guilds}})(A),e.exports=t.default},6255:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4)),l=n(57),u=p(n(452)),s=p(n(46)),d=p(n(15)),f=p(n(5982)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleToggleMute=function(){var e=r.props,t=e.me,n=e.userId,o=e.mediaEngineContext;t?u.default.toggleSelfMute(o):u.default.toggleLocalMute(n,o)},r.handleToggleDeaf=function(){var e=r.props,t=e.me,n=e.mediaEngineContext;t&&u.default.toggleSelfDeaf(n)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.me,n=e.localMute,r=e.selfDeafen;return o("div",{},void 0,o(f.default,{label:c.default.Messages.SOUND_MUTE,action:this.handleToggleMute,active:n}),t?o(f.default,{label:c.default.Messages.DEAFEN,action:this.handleToggleDeaf,active:r}):null)},t}(a.PureComponent);y.defaultProps={mediaEngineContext:l.MediaEngineContextTypes.DEFAULT},y.displayName="UserLocalMuteDeafenItem",t.default=i.default.connectStores([s.default,d.default],function(e){var t=e.userId,n=e.mediaEngineContext,r=d.default.getCurrentUser().id===t,o=!1,a=!1;return r?(o=!s.default.isEnabled()||s.default.isSelfMute(n),a=s.default.isSelfDeaf(n)):o=s.default.isLocalMute(t,n),{me:r,localMute:o,selfDeafen:a}})(y),e.exports=t.default},6256:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),E(n(308))),i=E(n(309)),l=E(n(443)),u=E(n(4)),s=n(307),d=E(n(22)),f=E(n(153)),c=E(n(51)),p=E(n(312)),h=n(109),y=E(n(6046)),m=E(n(5977)),v=n(0),_=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}var g=(0,a.default)({displayName:"UserMentionItem",mixins:[u.default.LazyStoreListenerMixin(c.default,d.default,f.default),l.default],propTypes:{user:i.default.object.isRequired,guildId:i.default.string},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getChannelId(this.props.guildId),t=d.default.getChannel(e);return{channelId:e,canSendMessages:null!=t&&(t.isGroupDM()||f.default.can(v.Permissions.SEND_MESSAGES,t))}},render:function(){return this.state.canSendMessages?o(m.default,{label:_.default.Messages.MENTION,action:this.handleMention}):null},handleMention:function(){var e=this.props.user,t=e.username,n=e.discriminator;(0,s.closeContextMenu)();var r="@"+t;p.default.hidePersonalInformation||(r+="#"+n),h.ComponentDispatch.dispatchToLastSubscribed(v.ComponentActions.INSERT_TEXT,{content:r}),null!=this.state.channelId&&y.default.typing(this.state.channelId)}});t.default=g,e.exports=t.default},6257:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={sendTyping:function(e){r.default.post(a.Endpoints.TYPING(e)).then(function(t){if(200===t.status){var n=t.body.message_send_cooldown_ms;n>0&&o.default.dispatch({type:a.ActionTypes.SLOWMODE_START_COOLDOWN,channelId:e,cooldownMs:n})}})}},e.exports=t.default},6258:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(446)),l=n(307),u=n(834),s=c(n(12)),d=c(n(5977)),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),d=0;d<o;d++)a[d]=arguments[d];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={currentUserId:s.default.getId()},r.handleMessage=function(){(0,l.closeContextMenu)(),i.default.openPrivateChannel(r.state.currentUserId,r.props.userId),(0,u.popLayer)()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=null;return this.state.currentUserId!==this.props.userId&&(e=o(d.default,{label:f.default.Messages.USER_POPOUT_MESSAGE,action:this.handleMessage})),e},t}(a.PureComponent);h.displayName="UserMessageItem",t.default=h,e.exports=t.default},6259:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=g(n(308)),u=g(n(309)),s=g(n(443)),d=g(n(4)),f=n(307),c=g(n(12)),p=g(n(5356)),h=g(n(312)),y=n(827),m=g(y),v=g(n(5977)),_=g(n(5353)),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}var S=(0,l.default)({displayName:"UserNoteItem",mixins:[d.default.StoreListenerMixin(p.default),s.default],statics:{LEFT:m.default.Positions.LEFT,RIGHT:m.default.Positions.RIGHT},propTypes:{user:u.default.object.isRequired,guildId:u.default.string,channelId:u.default.string,target:u.default.object,position:u.default.oneOf([m.default.Positions.LEFT,m.default.Positions.RIGHT])},getDefaultProps:function(){return{position:m.default.Positions.RIGHT}},getStateFromStores:function(){return{hasNote:p.default.getNote(this.props.user.id).length>0}},render:function(){return this.props.user.id===c.default.getId()||h.default.hidePersonalInformation?null:a(v.default,{label:this.state.hasNote?E.default.Messages.EDIT_NOTE:E.default.Messages.ADD_NOTE,action:this.handleOpenUserPopout})},renderUserPopout:function(e){var t=this.props,n=t.user,r=t.guildId,a=t.channelId;return i.createElement(_.default,o({},e,{user:n,guildId:r,channelId:a,setNote:!0}))},handleOpenUserPopout:function(){var e=this.props,t=e.target,n=e.position;(0,y.openPopout)(t||this,{closeOnScroll:!1,render:this.renderUserPopout,position:n,offsetX:15,shadow:!1}),(0,f.closeContextMenu)()}});t.default=S,e.exports=t.default},6260:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(8),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={updateNote:function(e,t){a.default.put({url:i.Endpoints.NOTES+"/"+e,body:{note:t}})}},e.exports=t.default},6261:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=v(n(17)),a=v(n(308)),i=v(n(309)),l=v(n(443)),u=v(n(446)),s=v(n(157)),d=v(n(22)),f=v(n(91)),c=v(n(15)),p=n(6027),h=v(n(319)),y=v(n(13)),m=v(n(5387));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,a.default)({displayName:"QuickMessage",mixins:[l.default],propTypes:{user:i.default.object.isRequired,autoFocus:i.default.bool.isRequired,onClose:i.default.func,className:i.default.string},handleKeyPress:function(e){var t=this;if(13===e.which){e.preventDefault();var n=this.refs.DM_INPUT_REF.value.trim();return(0,p.applyChatRestrictions)(null,n,null).then(function(e){if(e.valid){u.default.openPrivateChannel(c.default.getCurrentUser().id,t.props.user.id).then(function(e){var t=d.default.getChannel(e);s.default.sendMessage(t.id,h.default.parse(t,n))});var r=t.props.onClose;r&&r()}}),!0}},render:function(){var e=this.props,t=e.user,n=e.autoFocus,a=e.className,i=f.default.isBlocked(t.id);return r.createElement("input",{className:(0,o.default)(m.default.quickMessage,a,{isBlocked:i}),ref:"DM_INPUT_REF",autoFocus:n,placeholder:i?y.default.Messages.QUICK_DM_BLOCKED:y.default.Messages.QUICK_DM_USER.format({name:t.username}),onKeyPress:this.handleKeyPress,disabled:i})}});t.default=_,e.exports=t.default},6262:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=_(n(6135)),u=_(n(830)),s=_(n(35)),d=_(n(128)),f=_(n(306)),c=_(n(129)),p=_(n(18)),h=n(181),y=n(0),m=_(n(13)),v=_(n(5386));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.animItem=null,r.handleConfirm=function(){var e=r.props.onConfirm;null!=e&&e(),r.close()},r.handleCancel=function(){var e=r.props.onCancel;null!=e&&e(),r.close()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=s.default.theme;n.e(231).then(function(r){var o=t===y.ThemeTypes.DARK?n(6794):n(6795);e.animItem=l.default.loadAnimation({container:e.animRef,renderer:"svg",loop:!0,autoplay:!0,animationData:o})}.bind(null,n)).catch(n.oe),p.default.track(y.AnalyticEvents.OPEN_POPOUT,a({type:"@Everyone Warning"},(0,h.collectChannelAnalyticsMetadata)(this.props.channel)))},t.prototype.componentWillUnmount=function(){null!=this.animItem&&(this.animItem.destroy(),this.animItem=void 0)},t.prototype.close=function(){var e=this.props.popoutKey;u.default.close(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.numPeople,r=t.role,a=n>100?100:10;return o("form",{className:v.default.everyonePopout,onSubmit:this.handleConfirm},void 0,o("div",{className:v.default.body},void 0,i.createElement("div",{className:v.default.animation,ref:function(t){e.animRef=t}}),o("div",{className:v.default.content},void 0,o("div",{className:v.default.header},void 0,m.default.Messages.SELF_XSS_HEADER),o(c.default,{},void 0,m.default.Messages.EVERYONE_POPOUT_BODY.format({role:r,count:(parseInt(n/a,10)*a).toLocaleString()})),o("div",{className:v.default.buttonWrapper},void 0,o("div",{className:v.default.buttonContainer},void 0,o(d.default,{className:v.default.button,look:d.default.Looks.OUTLINED,onClick:this.handleCancel},void 0,m.default.Messages.EDIT_MESSAGE),o(c.default,{className:v.default.buttonHint},void 0,m.default.Messages.EVERYONE_POPOUT_ESC.format())),o("div",{className:v.default.buttonContainer},void 0,o(d.default,{className:v.default.button,onClick:this.handleConfirm,type:"submit",autoFocus:!0},void 0,m.default.Messages.EVERYONE_POPOUT_SEND_NOW),o(c.default,{className:v.default.buttonHint},void 0,m.default.Messages.EVERYONE_POPOUT_ENTER.format()))))),o("div",{className:v.default.footer},void 0,o(f.default,{name:f.default.Names.INFO,color:y.Colors.PRIMARY_DARK_400,className:v.default.icon}),o(c.default,{},void 0,m.default.Messages.EVERYONE_POPOUT_FOOTER)))},t}(i.PureComponent);g.displayName="EveryonePopout",t.default=g,e.exports=t.default},6263:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(81),l=s(n(152)),u=s(n(5388));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e){var t=e.percentage;return o("div",{className:u.default.bar},void 0,o("div",{className:u.default.barInner,style:{width:100*Math.max(Math.min(t,1),0)+"%"}}))}function c(e){return String(e).padStart(2,"0")}function p(e){var t=Math.floor(e)%60,n=Math.floor(e/60)%60,r=Math.floor(e/3600);return 0===r?n+":"+c(t):r+":"+c(n)+":"+c(t)}f.displayName="Bar";var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.timer=new i.Interval,r.state={now:Date.now()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.timer.start(500,function(){e.setState({now:Date.now()})})},t.prototype.componentWillUnmount=function(){this.timer.stop()},t.prototype.render=function(){var e=this.props,t=e.start,n=e.end,r=e.className,a=this.state.now,i=(n-t)/1e3,s=Math.max(Math.min((a-t)/1e3,i),0);return o("div",{className:r},void 0,o(f,{percentage:s/i}),o(l.default,{},void 0,o(l.default.Child,{grow:1,className:u.default.textLeft},void 0,p(s)),o(l.default.Child,{grow:0,className:u.default.textRight},void 0,p(i))))},t}(a.PureComponent);h.displayName="ActivityTimeBar",t.default=h,e.exports=t.default},6264:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetchTrendingApplications:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.default.dispatch({type:a.ActionTypes.TRENDING_APPLICATIONS_FETCH}),n=void 0,e.prev=2,e.next=5,r.default.get({url:a.Endpoints.APPLICATIONS_TRENDING});case 5:n=e.sent,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),o.default.dispatch({type:a.ActionTypes.TRENDING_APPLICATIONS_FETCH_FAIL}),e.t0;case 12:i=n.body,o.default.dispatch({type:a.ActionTypes.TRENDING_APPLICATIONS_FETCH_SUCCESS,trendingApplications:i});case 14:case"end":return e.stop()}},e,t,[[2,8]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})})()}},e.exports=t.default},6265:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(4)),a=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=[],u=!1,s=null,d=!1;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldFetch=function(){return!d&&(null==s||Date.now()>s+864e5)},r(t,[{key:"trendingApplications",get:function(){return l}},{key:"loaded",get:function(){return u}}]),t}(o.default.Store);t.default=new f(a.default,{TRENDING_APPLICATIONS_FETCH:function(e){d=!0},TRENDING_APPLICATIONS_FETCH_SUCCESS:function(e){var t=e.trendingApplications;l=t,s=Date.now(),u=!0,d=!1},TRENDING_APPLICATIONS_FETCH_FAIL:function(e){return s=Date.now(),u=!0,void(d=!1)}}),e.exports=t.default},6266:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(1)),a=l(n(153)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChannel=function(e){var t=u[e];return null!=t&&a.default.can(i.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t:{channelId:null,guildId:null}},t}(r.default.Store);t.default=new s(o.default,{CONNECTION_OPEN:function(e){u={}},VOICE_STATE_UPDATE:function(e){var t=e.userId,n=e.guildId,r=e.channelId;if(null!=n&&null!=r){var o=u[t];if(null==o||o.guildId!==n||o.channelId!==r)return u[t]={guildId:n,channelId:r},!0}else if(null!=u[t])return delete u[t],!0;return!1}}),e.exports=t.default},6267:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=S(n(2)),i=g(n(5)),l=g(n(4)),u=g(n(80));n(130);var s=g(n(6087)),d=g(n(43)),f=g(n(128)),c=g(n(152)),p=g(n(222)),h=g(n(110)),y=S(n(5986)),m=n(0),v=g(n(13)),_=g(n(5351)),E=g(n(5390));function g(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.handlePlay=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r.props,o=n.libraryApplication,a=n.analyticsParams;r.onClose(),y.playApplication(o.id,o,{analyticsParams:a,cloudSync:e,cloudSyncForceHash:t})},r.handleChooseDownload=function(){var e=r.props.cloudSyncState;e.type===m.CloudSyncStateTypes.CONFLICT&&r.handlePlay(!0,e.remote.hash)},r.handleChooseUpload=function(){var e=r.props.cloudSyncState;e.type===m.CloudSyncStateTypes.CONFLICT&&r.handlePlay(!0,e.next.hash)},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onClose=function(){u.default.pop()},t.prototype.renderConflictButton=function(e,t,n,r){return o(f.default,{className:E.default.conflictButton,innerClassName:E.default.conflictButtonInner,onClick:r},void 0,o("div",{className:n}),o("div",{className:E.default.buttonBody},void 0,o("div",{className:E.default.conflictTitle},void 0,e),o("div",{},void 0,v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_LAST_MODIFIED),o("div",{className:E.default.timestamp},void 0,(0,i.default)(t).calendar())))},t.prototype.renderError=function(){var e=this,t=this.props.application;return o(a.Fragment,{},void 0,o(p.default.Content,{},void 0,o(c.default,{justify:c.default.Justify.CENTER},void 0,o("div",{className:E.default.errorArt})),o("div",{className:E.default.description},void 0,v.default.Messages.CLOUD_SYNC_MODAL_ERROR_DESCRIPTION.format({applicationName:t.name}))),o(p.default.Footer,{},void 0,o(c.default,{justify:c.default.Justify.BETWEEN},void 0,o(f.default,{className:E.default.linkButton,size:E.default.linkButtonSize,look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY,onClick:this.onClose},void 0,v.default.Messages.CANCEL),o(c.default,{direction:c.default.Direction.HORIZONTAL,justify:c.default.Justify.END},void 0,o(f.default,{look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY,onClick:function(){return e.handlePlay()},className:E.default.retryButton},void 0,v.default.Messages.RETRY),o(f.default,{onClick:function(){return e.handlePlay(!1)}},void 0,v.default.Messages.GAME_ACTION_BUTTON_PLAY)))))},t.prototype.renderConflict=function(){var e=this.props,t=e.application,n=e.cloudSyncState;if(n.type!==m.CloudSyncStateTypes.CONFLICT)throw new Error("Cannot render conflict for non conflict type");return o(p.default.Content,{className:_.default.marginBottom20},void 0,o("div",{className:E.default.description},void 0,v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_DESCRIPTION.format({applicationName:t.name})),this.renderConflictButton(v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_DOWNLOAD,n.remote.timestamp,E.default.conflictDownloadArt,this.handleChooseDownload),o(c.default,{className:E.default.choiceWrapper,align:c.default.Align.CENTER},void 0,o("div",{className:E.default.choiceLine}),o("div",{className:E.default.choiceTitle},void 0,v.default.Messages.CLOUD_SYNC_MODAL_OR),o("div",{className:E.default.choiceLine})),this.renderConflictButton(v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_UPLOAD,n.next.timestamp,E.default.conflictUploadArt,this.handleChooseUpload))},t.prototype.render=function(){var e=this.props.cloudSyncState;return o(p.default,{className:E.default.modal},void 0,o(p.default.Header,{separator:!1},void 0,o(p.default.CloseButton,{className:E.default.closeButton,onClick:this.onClose}),o(h.default,{tag:h.default.Tags.H2,className:_.default.marginReset},void 0,e.type===m.CloudSyncStateTypes.CONFLICT?v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_HEADER:v.default.Messages.CLOUD_SYNC_MODAL_ERROR_HEADER)),e.type===m.CloudSyncStateTypes.CONFLICT?this.renderConflict():this.renderError())},t}(a.PureComponent);I.displayName="CloudSyncResolutionModal",t.default=l.default.connectStores([s.default,d.default],function(e){var t=e.libraryApplication,n=e.branchId;return{cloudSyncState:s.default.getState(t.id,n),application:d.default.getGame(t.id)}})(I),e.exports=t.default},6268:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.installApplication=function(e,t,n,s,f){var c=l.default.getInstallationPath(e.id,t),p=null!=e.eulaId&&!u.default.hasAcceptedEULA(e.eulaId);null==c||p?i.default.push(function(n){return o.createElement(d,r({},n,{applicationId:e.id,branchId:t,analyticsLocation:f}))}):(0,a.installApplication)(e,t,n,s,c,f)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(329),i=s(n(80)),l=(s(n(112)),s(n(333))),u=s(n(6109));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=void 0;d=d=n(6269)},6269:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=b(n(4)),l=b(n(1)),u=n(482),s=n(6032),d=n(329),f=b(n(80)),c=b(n(43)),p=b(n(333)),h=b(n(459)),y=b(n(6109)),m=b(n(128)),v=b(n(152)),_=b(n(5988)),E=b(n(222)),g=b(n(110)),S=n(866),T=b(n(45)),I=b(n(6159)),C=b(n(6160)),N=n(0),A=b(n(13)),O=b(n(5392));function b(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=M(this,e.call.apply(e,[this].concat(a))),r.state={selectedInstallationPath:r.props.defaultInstallationPath,hasError:!1,isInstalling:!1,hasAcceptedNeccessaryTerms:!1},r.isUnmounted=!1,r.handleChangePath=function(e,t){r.setState({selectedInstallationPath:e,hasError:t})},r.install=function(e,t){var n=r.props,o=n.application,a=n.branchId,i=n.analyticsLocation;if(null==o)return null;(0,d.installApplication)(o,a,e,t,r.state.selectedInstallationPath,i),T.default.transitionTo(N.Routes.APPLICATION_LIBRARY),r.close()},r.handleInstall=function(){var e=r.props,t=e.application,n=e.buildId,o=e.manifestIds,a=e.hasPreviouslyAcceptedStoreTerms;if(null==n||null==o)throw new Error("Unexpected missing build info for non-premium product");a||(0,s.acceptPurchaseTerms)(),null!=t.eulaId&&(0,s.acceptEULA)(t.eulaId),r.install(n,o)},r.handlePurchaseTermsChange=function(e){r.setState({hasAcceptedNeccessaryTerms:e})},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.fetchInstallSize=function(){var e=this.props,t=e.applicationId,n=e.branchId,r=e.buildId,o=e.manifestIds,a=e.buildSizeKB;null!=r&&null!=o&&null==a&&l.default.wait(function(){(0,u.fetchBuildSize)(t,n,r,o)})},t.prototype.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.branchId,r=e.buildId,o=e.manifestIds;null==r||null==o?(0,u.fetchLiveBuild)(t,n):this.fetchInstallSize()},t.prototype.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.close=function(){f.default.pop()},t.prototype.renderButton=function(){var e=this.props.buildId,t=this.state,n=t.hasError,r=t.hasAcceptedNeccessaryTerms;return o(m.default,{disabled:n||null==e||!r,color:m.default.Colors.GREEN,onClick:this.handleInstall},void 0,A.default.Messages.GAME_ACTION_BUTTON_INSTALL)},t.prototype.render=function(){var e=this.props,t=e.application,n=e.buildSizeKB,r=this.state,a=r.selectedInstallationPath,i=r.isInstalling,l=t.getSplashURL(440);return o(E.default,{size:E.default.Sizes.SMALL},void 0,null!=l?o("div",{className:O.default.splash,style:{backgroundImage:"url("+l+")"}}):null,o(E.default.Header,{},void 0,o(v.default.Child,{grow:1},void 0,o(g.default,{tag:g.default.Tags.H4},void 0,A.default.Messages.APPLICATION_INSTALLATION_MODAL_TITLE)),o(v.default.Child,{grow:0},void 0,o(E.default.CloseButton,{onClick:this.close}))),o(E.default.Content,{},void 0,o(v.default,{align:v.default.Align.CENTER},void 0,o(_.default,{game:t,size:_.default.Sizes.MEDIUM,className:O.default.gameIcon}),o("div",{className:O.default.gameName},void 0,t.name),null!=n?o("div",{className:O.default.installSize},void 0,(0,S.formatSize)(n,{useKibibytes:!0})):null),o("div",{className:O.default.divider}),o(C.default,{autoFocus:!0,className:O.default.selector,value:a,requiredDiskKB:n,onChange:this.handleChangePath}),o(I.default,{eulaId:t.eulaId,applicationName:t.name,disabled:i,onChange:this.handlePurchaseTermsChange,className:O.default.terms})),o(E.default.Footer,{},void 0,this.renderButton()))},t}(a.Component);R.displayName="ApplicationInstallationModal",t.default=i.default.connectStores([p.default,c.default,h.default,y.default],function(e){var t=e.applicationId,n=e.branchId,r=h.default.getTargetBuildId(t,n);return{application:c.default.getGame(t),defaultInstallationPath:p.default.defaultInstallationPath,buildId:r,manifestIds:h.default.getTargetManifests(t,n),buildSizeKB:null!=r?h.default.getBuildSize(r):null,hasPreviouslyAcceptedStoreTerms:y.default.hasAcceptedStoreTerms}})(R),e.exports=t.default},6270:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(47)),o=i(n(840)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return Object.values(a.PromotionTypes).includes(e.data.type)?new t({id:e.promotion_id,title:e.data.title,description:e.data.description,ctaButtonLabel:e.data.type===a.PromotionTypes.GENERAL?e.data.cta_button_label:null,imageUrl:e.data.image_url,videoUrl:e.data.video_url,ackKey:e.impression_ack_key,destination:e.data.type===a.PromotionTypes.GAME?{type:a.PromotionTypes.GAME,sku:o.default.createFromServer(e.data.sku)}:{type:a.PromotionTypes.GENERAL,linkUrl:e.data.link_url}}):null},t.prototype.initialize=function(e){this.id=e.id,this.title=e.title,this.description=e.description,this.ctaButtonLabel=e.ctaButtonLabel,this.imageUrl=e.imageUrl,this.videoUrl=e.videoUrl,this.ackKey=e.ackKey,this.destination=e.destination},t}(r.default);t.default=l,e.exports=t.default},6271:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(4)),l=n(307);n(130);var u=h(n(156)),s=h(n(90)),d=h(n(194)),f=h(n(9)),c=h(n(5977)),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(){var e=r.props,t=e.libraryApplication,n=e.application,o=e.installPath,a=t.getBranchedName(n);d.default.createShortcuts(!0,!1,a,t.id,o),(0,l.closeContextMenu)()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return null!=this.props.installPath&&f.default.isDesktop()?o(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_CREATE_DESKTOP_SHORTCUT,action:this.handleAction}):null},t}(a.PureComponent);m.displayName="ApplicationCreateDesktopShortcut",t.default=i.default.connectStores([s.default,u.default],function(e){var t=e.libraryApplication,n=u.default.getState(t.id,t.branchId),r=void 0;return null!=n&&(r=n.installPath),{installPath:r}})(m),e.exports=t.default},6272:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(4)),l=n(307),u=n(130),s=y(n(35)),d=n(5989),f=y(n(5981)),c=y(n(5977)),p=y(n(5998)),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=r=m(this,e.call.apply(e,[this].concat(l))),r.renderItems=function(){var e=r.props,t=e.libraryApplication,n=e.application,i=n.primarySkuId;return o(a.Fragment,{},void 0,o(c.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_APPLICATION_ID,action:function(){return r.handleCopy(n.id)}}),null==t||t instanceof u.LocalApplicationRecord?null:o(c.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_BRANCH_ID,action:function(){return r.handleCopy(t.branchId)}}),null!=i?o(c.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_SKU_ID,action:function(){return r.handleCopy(i)}}):null)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleCopy=function(e){(0,d.copy)(e),(0,l.closeContextMenu)()},t.prototype.render=function(){var e=this,t=this.props,n=t.developerMode,r=t.application;return!__OVERLAY__&&n&&d.SUPPORTS_COPY?o(f.default,{},void 0,o(p.default,{label:h.default.Messages.COPY,render:this.renderItems,action:function(){return e.handleCopy(r.id)}})):null},t}(a.PureComponent);v.displayName="ApplicationDeveloperModeGroup",t.default=i.default.connectStores([s.default],function(){return{developerMode:s.default.developerMode}})(v),e.exports=t.default},6273:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(2)),i=v(n(4)),l=n(307);n(130);var u=v(n(320)),s=v(n(156)),d=v(n(43)),f=v(n(90)),c=v(n(64)),p=n(322),h=_(n(5986)),y=v(n(5977)),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(){var e=r.props,t=e.libraryApplication,n=e.isLaunchable,o=e.analyticsLocation;n&&h.playApplication(t.id,t,{analyticsParams:{location:o}}),(0,l.closeContextMenu)()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return!this.props.isLaunchable||this.props.isRunning?null:o(y.default,{label:m.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,action:this.handleAction})},t}(a.PureComponent);g.displayName="ApplicationLaunchItem",t.default=i.default.connectStores([d.default,s.default,f.default,c.default,u.default],function(e){var t=e.libraryApplication;return{isRunning:c.default.getRunningVerifiedApplicationIds().includes(t.id),isLaunchable:(0,p.isLaunchable)(f.default,d.default,s.default,u.default,t.id,t.branchId)}})(g),e.exports=t.default},6274:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=p(n(2)),i=c(n(4)),l=n(307),u=p(n(326));n(130);var s=c(n(156)),d=c(n(90)),f=c(n(5977));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(e,t){var n=r.props,o=n.libraryApplication,a=n.onPlay,i=n.activeLaunchOptionId;t.id!==i&&u.setActiveLaunchOptionId(o.id,o.branchId,t.id),a&&a(e),(0,l.closeContextMenu)()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props.launchOptions;return t.length<2?null:t.map(function(t){var n=t.id,r=t.name;return o(f.default,{label:r,action:function(n){return e.handleAction(n,t)}},n)})},t}(a.PureComponent);y.displayName="ApplicationLaunchOptionSelectorItem",t.default=i.default.connectStores([d.default,s.default],function(e){var t=e.libraryApplication;return{launchOptions:s.default.getLaunchOptions(t.id,t.branchId),activeLaunchOptionId:d.default.getActiveLaunchOptionId(t.id,t.branchId)}})(y),e.exports=t.default},6275:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=m(n(2)),i=y(n(4)),l=n(307);n(130);var u=y(n(156)),s=y(n(90)),d=y(n(64)),f=m(n(5986)),c=y(n(5977)),p=n(0),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(){var e=r.props.libraryApplication;f.repairApplication(e.id,e.branchId,p.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,l.closeContextMenu)()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.isUpToDate,n=e.isRunning,r=e.shouldPatch;return t&&!n&&r?o(c.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_REPAIR,action:this.handleAction}):null},t}(a.PureComponent);_.displayName="ApplicationRepairItem",t.default=i.default.connectStores([u.default,s.default,d.default],function(e){var t=e.libraryApplication;return{isRunning:d.default.getRunningVerifiedApplicationIds().includes(t.id),isUpToDate:u.default.isUpToDate(t.id,t.branchId),shouldPatch:u.default.shouldPatch(t.id,t.branchId)}})(_),e.exports=t.default},6276:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4)),l=n(307),u=p(n(179)),s=n(6112),d=n(5989),f=p(n(5977)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(){var e=r.props.sku;if(null==e)throw new Error("SKU null in ApplicationStoreCopyLinkItem");(0,d.copy)((0,s.getStoreListingLink)(e)),(0,l.closeContextMenu)()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return null==this.props.sku||__OVERLAY__||!d.SUPPORTS_COPY?null:o(f.default,{label:c.default.Messages.APPLICATION_CONTEXT_MENU_COPY_STORE_LINK,action:this.handleAction})},t}(a.PureComponent);y.displayName="ApplicationStoreLinkItem",t.default=i.default.connectStores([u.default],function(e){var t=e.application.primarySkuId;return{sku:null!=t?u.default.get(t):null}})(y),e.exports=t.default},6277:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=n(839),u=d(n(5977)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(){var e=r.props,t=e.application,n=e.analyticsLocation;(0,l.goToApplicationStoreListing)(t.id,{analyticsSource:n,slug:t.slug}),(0,i.closeContextMenu)()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return null==this.props.application.primarySkuId?null:o(u.default,{label:s.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK,action:this.handleAction})},t}(a.PureComponent);c.displayName="ApplicationStoreLinkItem",t.default=c,e.exports=t.default},6278:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=c(n(2)),i=f(n(4)),l=c(n(6017)),u=f(n(451)),s=f(n(5982)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleToggle=function(){var e=r.props,t=e.application;e.isFollowing?l.removeGamesFromFeed([t.id]):l.addGamesToFeed([t.id])},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.isFollowing;return o(s.default,{label:d.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:e})},t}(a.PureComponent);h.displayName="ApplicationShowInActivityFeedItem",t.default=i.default.connectStores([u.default],function(e){var t=e.application;return{isFollowing:u.default.applicationIsOnFeed(t.id)}})(h),e.exports=t.default},6279:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=N(n(2)),l=C(n(4)),u=n(307),s=N(n(326)),d=C(n(80)),f=N(n(857)),c=n(130),p=C(n(156)),h=C(n(43)),y=C(n(90)),m=C(n(230)),v=C(n(129)),_=C(n(18)),E=n(162),g=C(n(5977)),S=C(n(447)),T=n(0),I=C(n(13));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=A(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(){var e=r.props,t=e.libraryApplication,n=e.application,o=e.shouldShowConfirmationModal;null!=t&&null!=n&&(t.isHidden()||!o?r.toggleHidden(t):r.openRemoveConfirmationModal(t,n),(0,u.closeContextMenu)())},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.track=function(e){var t=this.props.libraryApplication;_.default.track(T.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,a({hidden_enabled:e},t.getAnalyticsData()))},t.prototype.openRemoveConfirmationModal=function(e,t){var n=this;d.default.push(function(r){return i.createElement(S.default,a({header:I.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_HEADER,confirmText:I.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_CONFIRM,cancelText:I.default.Messages.CANCEL,onConfirm:function(){return n.removeFromLibrary(e)},red:!1},r),o(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,I.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_BODY.format({name:t.name})))})},t.prototype.removeFromLibrary=function(e){this.props.isInstalled||this.toggleHidden(e)},t.prototype.toggleHidden=function(e){var t=(0,E.toggleFlag)(e.getFlags(),T.LibraryApplicationFlags.HIDDEN);e instanceof c.LocalApplicationRecord?f.updateFlags(e.id,t):e instanceof c.LibraryApplicationRecord&&s.updateFlags(e.id,e.branchId,t),this.track((0,E.hasFlag)(t,T.LibraryApplicationFlags.HIDDEN))},t.prototype.render=function(){var e=this.props,t=e.isInstalled,n=e.libraryApplication;return t&&!n.isHidden()?null:o(g.default,{label:n.isHidden()?I.default.Messages.APPLICATION_CONTEXT_MENU_SHOW:I.default.Messages.APPLICATION_CONTEXT_MENU_HIDE,action:this.handleAction})},t}(i.PureComponent);O.displayName="ApplicationToggleInLibraryItem",t.default=l.default.connectStores([y.default,p.default,m.default,h.default],function(e){var t=e.libraryApplication;return{isInstalled:p.default.isInstalled(t.id,t.branchId),shouldShowConfirmationModal:!y.default.hasRemovedLibraryApplicationThisSession}})(O),e.exports=t.default},6280:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(2)),i=v(n(4)),l=n(307),u=_(n(329));n(130);var s=v(n(156)),d=v(n(90)),f=v(n(64)),c=v(n(459)),p=_(n(5986)),h=v(n(5977)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.handleInstall=function(){var e=r.props.libraryApplication;p.installApplication(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,l.closeContextMenu)()},r.handleUninstall=function(){var e=r.props.libraryApplication;u.uninstallBranchPrompt(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,l.closeContextMenu)()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.isInstalled,n=e.targetManifests,r=e.isRunning;return t?r?null:o(h.default,{label:m.default.Messages.APPLICATION_CONTEXT_MENU_UNINSTALL,action:this.handleUninstall}):null==n?null:o(h.default,{label:m.default.Messages.APPLICATION_CONTEXT_MENU_INSTALL,action:this.handleInstall})},t}(a.PureComponent);g.displayName="ApplicationToggleInstallItem",t.default=i.default.connectStores([s.default,c.default,d.default,f.default],function(e){var t=e.libraryApplication;return{isRunning:f.default.getRunningVerifiedApplicationIds().includes(t.id),isInstalled:s.default.isInstalled(t.id,t.branchId),targetManifests:c.default.getTargetManifests(t.id,t.branchId)}})(g),e.exports=t.default},6281:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=m(n(2)),l=m(n(326)),u=m(n(857)),s=n(130),d=y(n(18)),f=n(162),c=y(n(5982)),p=n(0),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.toggle=function(){var e=r.props.libraryApplication;if(null!=e){var t=(0,f.toggleFlag)(e.getFlags(),p.LibraryApplicationFlags.OVERLAY_DISABLED);e instanceof s.LocalApplicationRecord?u.updateFlags(e.id,t):l.updateFlags(e.id,e.branchId,t),r.track((0,f.hasFlag)(t,p.LibraryApplicationFlags.OVERLAY_DISABLED))}},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.track=function(e){var t=this.props.libraryApplication;d.default.track(p.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,a({overlay_disabled:e},t.getAnalyticsData()))},t.prototype.render=function(){var e=this.props.libraryApplication;return null==e?null:o(c.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_TOGGLE_OVERLAY_DISABLE,action:this.toggle,active:e.hasFlag(p.LibraryApplicationFlags.OVERLAY_DISABLED)})},t}(i.PureComponent);_.displayName="ApplicationToggleOverlayItem",t.default=_,e.exports=t.default},6282:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=m(n(2)),l=m(n(326)),u=m(n(857)),s=n(130),d=y(n(18)),f=n(162),c=y(n(5982)),p=n(0),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.toggle=function(){var e=r.props.libraryApplication;if(null!=e){var t=(0,f.toggleFlag)(e.getFlags(),p.LibraryApplicationFlags.PRIVATE);e instanceof s.LocalApplicationRecord?u.updateFlags(e.id,t):l.updateFlags(e.id,e.branchId,t),r.track((0,f.hasFlag)(t,p.LibraryApplicationFlags.PRIVATE))}},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.track=function(e){var t=this.props.libraryApplication;d.default.track(p.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,a({private_enabled:e},t.getAnalyticsData()))},t.prototype.render=function(){var e=this.props.libraryApplication;return null==e?null:o(c.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_PRIVATE_STATUS,action:this.toggle,active:e.hasFlag(p.LibraryApplicationFlags.PRIVATE)})},t}(i.PureComponent);_.displayName="ApplicationTogglePrivateItem",t.default=_,e.exports=t.default},6283:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4)),l=n(307),u=n(894),s=p(n(46)),d=p(n(5977)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleAction=function(){var e=r.props.application;(0,u.openModal)(e.id,f.CURRENT_APP_CONTEXT,e.name),(0,l.closeContextMenu)()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.hasMediaEngineContext?o(d.default,{label:c.default.Messages.IN_GAME_VOICE_SETTINGS,action:this.handleAction}):null},t}(a.PureComponent);y.displayName="ApplicationVoiceSettingsItem",t.default=i.default.connectStores([s.default],function(e){var t=e.application;return{hasMediaEngineContext:s.default.hasContext(t.id)}})(y),e.exports=t.default},6284:function(e,t,n){e.exports=n.p+"6a0d045ec452de05f71ee63fece2327f.svg"},6285:function(e,t,n){e.exports=n.p+"5917566c2502226aa777df2eadbb19e6.svg"},6286:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=_(n(17)),u=n(224),s=n(180),d=_(n(128)),f=_(n(152)),c=_(n(129)),p=_(n(6106)),h=_(n(442)),y=n(0),m=_(n(13)),v=_(n(5406));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.handleJoinRequest=function(){var e=r.props,t=e.activity,n=e.onJoinRequest,o=e.user;n&&n(t,o.id)},r.handleSpectate=function(){var e=r.props,t=e.activity,n=e.onSpectate,o=e.user;n&&n(t,o.id)},r.handleNotify=function(){var e=r.props,t=e.activity,n=e.onNotify,o=e.user;n&&n(t,o.id)},r.handleWatchStream=function(){var e=r.props,t=e.applicationStreamData,n=e.onWatchStream;n&&n(t)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getTypeClass=function(e){return(0,s.getClass)(v.default,e,this.props.type)},t.prototype.isListeningActivity=function(){return this.props.activity.type===y.ActivityTypes.LISTENING},t.prototype.processActions=function(e){var t=this.props,n=t.showPrimaryActionOnly,r=t.reverse;return n?e.find(function(e){return null!=e})||null:r?[].concat(e).reverse():e},t.prototype.renderBuyButton=function(){var e=this.props,t=e.color,n=e.look,r=e.hover,o=e.onViewInStore;return a(d.default,{className:v.default.button,color:t,look:n,hover:r,size:v.default.buttonSize,onClick:o},"buy",m.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},t.prototype.renderJoinRequest=function(){var e=this.props,t=e.activity,n=e.hasActiveJoinRequest,r=e.user,o=e.currentUser,i=e.isBrowser,l=e.isLaunchable,s=e.color,f=e.look,c=e.hover;if(null==t||!(0,u.hasFlag)(t,y.ActivityFlags.JOIN)||null==t.application_id)return null;var p=o.id===r.id,_=!p&&(i||l)&&!n,E=null;return p?E=m.default.Messages.USER_ACTIVITY_CANNOT_JOIN_SELF:i||l||(E=m.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name})),a(h.default,{text:E},"join-request",a(d.default,{className:v.default.button,onClick:this.handleJoinRequest,color:s,look:f,hover:c,disabled:!_,size:v.default.buttonSize,fullWidth:!0},void 0,m.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN))},t.prototype.renderSpectate=function(){var e=this.props,t=e.activity,n=e.spectateState,r=e.user,o=e.currentUser,i=e.isBrowser,l=e.isLaunchable,s=e.color,p=e.look,_=e.applicationStreamData;if(null==t||!(0,u.hasFlag)(t,y.ActivityFlags.SPECTATE)||null==t.application_id||null!=_)return null;var E=n===y.ActivityActionStates.FAILED,g=n===y.ActivityActionStates.LOADING,S=o.id===r.id,T=!S&&(i||l),I=null;S?I=m.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:i||l||(I=m.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name}));var C=a(h.default,{text:I},"spectate",a(d.default,{className:v.default.button,onClick:this.handleSpectate,submitting:g,disabled:!T,color:s,look:p,size:v.default.buttonSize,fullWidth:!0},void 0,m.default.Messages.USER_ACTIVITY_ACTION_SPECTATE));return E?a(f.default,{direction:f.default.Direction.VERTICAL},void 0,C,a(c.default,{color:c.default.Colors.RED,className:v.default.actionError},void 0,m.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH)):C},t.prototype.renderNotify=function(){return(0,u.hasFlag)(this.props.activity,y.ActivityFlags.INSTANCE)?a(d.default,{className:v.default.button,look:d.default.Looks.OUTLINED,size:v.default.buttonSize,onClick:this.handleNotify,fullWidth:!0},"notify",m.default.Messages.USER_ACTIVITY_ACTION_NOTIFY_ME):null},t.prototype.renderSync=function(){var e=this.props,t=e.activity,n=e.color,r=e.look,a=e.user,i=e.renderSpotifySyncButton;if(!(0,u.hasFlag)(t,y.ActivityFlags.SYNC))return null;var l={key:"sync",className:v.default.button,size:v.default.buttonSize,color:n,look:r};return(0,u.isListeningOnSpotify)(t)?i(o({},l,{activity:t,user:a})):null},t.prototype.renderXboxConnectButton=function(){var e=this.props,t=e.color,n=e.look,r=e.hasXboxAccount,o=e.type,i=e.renderXboxButton;return r||o===p.default.Types.ACTIVITY_FEED?null:a(f.default,{grow:0,className:this.getTypeClass("actions")},void 0,i({className:v.default.button,size:v.default.buttonSize,color:t,look:n,fullWidth:!0}))},t.prototype.renderPlay=function(){var e=this.props,t=e.activity,n=e.user,r=e.color,a=e.look,i=e.renderSpotifyPlayButton;if(!(0,u.hasFlag)(t,y.ActivityFlags.PLAY))return null;var l={key:"play",className:v.default.button,size:v.default.buttonSize,color:r,look:a};return(0,u.isListeningOnSpotify)(t)?i(o({},l,{activity:t,user:n,fullWidth:!0})):null},t.prototype.renderWatch=function(){var e=this.props,t=e.activity,n=e.color,r=e.look,o=null!=e.applicationStreamData;return(0,u.isStreaming)(t)||o?a(d.default,{className:v.default.button,size:v.default.buttonSize,onClick:o?this.handleWatchStream:function(){return window.open((0,u.getStreamURL)(t))},color:n,look:r,fullWidth:!0},"play",o?m.default.Messages.WATCH_STREAM:m.default.Messages.WATCH):null},t.prototype.render=function(){var e=this.props,t=e.activity,n=e.type,r=e.isLaunchable,o=e.showBuyDiscordGame,i=e.canBuyDiscordGame;if((0,u.isOnXbox)(t))return this.renderXboxConnectButton();var s=n===p.default.Types.PROFILE,d=s?f.default.Align.END:f.default.Align.STRETCH,c=s?f.default.Direction.VERTICAL:f.default.Direction.HORIZONTAL;if(this.isListeningActivity()){var h=this.renderSync(),y=this.renderPlay();return a(f.default,{grow:0,align:d,className:this.getTypeClass("listeningActions")},void 0,y,h)}var m=void 0;if(!r&&o&&i)m=[this.renderBuyButton()];else{var v=this.renderJoinRequest(),_=this.renderSpectate(),E=this.renderNotify(),g=this.renderWatch();if(null==v&&null==_&&null==E&&null==g)return null;m=[v,_,E,g]}return a(f.default,{grow:0,align:d,direction:c,className:(0,l.default)(this.props.className,this.getTypeClass("actions"))},void 0,this.processActions(m))},t}(i.PureComponent);g.defaultProps={color:d.default.Colors.WHITE,look:d.default.Looks.OUTLINED,showPrimaryActionOnly:!1,reverse:!1},g.displayName="UserActivityActions",t.default=g,e.exports=t.default},6287:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(80)),l=n(467),u=y(n(128)),s=y(n(152)),d=y(n(222)),f=y(n(129)),c=y(n(110)),p=y(n(13)),h=y(n(5407));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.handleCancel=function(){i.default.pop()},r.handleUpgrade=function(){(0,l.openPremiumSite)(),i.default.pop()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(d.default,{size:d.default.Sizes.SMALL},void 0,o(d.default.Header,{},void 0,o(c.default,{tag:c.default.Tags.H4},void 0,p.default.Messages.SPOTIFY_PREMIUM_UPGRADE_HEADER)),o(d.default.Content,{},void 0,o(s.default,{justify:s.default.Justify.CENTER},void 0,o("div",{className:h.default.image})),o(f.default,{color:f.default.Colors.PRIMARY,className:h.default.text},void 0,p.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BODY)),o(d.default.Footer,{},void 0,o(u.default,{onClick:this.handleUpgrade},void 0,p.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BUTTON),o(u.default,{look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:this.handleCancel},void 0,p.default.Messages.CANCEL)))},t}(a.PureComponent);v.displayName="SpotifyPremiumUpgrade",t.default=v,e.exports=t.default},6288:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(831)),u=y(n(158)),s=y(n(128)),d=y(n(152)),f=y(n(306)),c=n(0),p=y(n(13)),h=y(n(5410));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=u.default.get(c.PlatformTypes.XBOX).name,_=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props.onOpenConnections;e&&e(),l.default.open(c.UserSettingsSections.CONNECTIONS)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i.createElement(s.default,o({},this.props,{onClick:this.handleClick}),a(d.default,{align:d.default.Align.CENTER},void 0,a(f.default,{name:f.default.Names.PLATFORM_XBOX,className:h.default.xboxButtonLogo}),p.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:v})))},t}(i.Component);_.displayName="XboxButton",t.default=_,e.exports=t.default},6289:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(17)),l=f(n(128)),u=f(n(222)),s=f(n(110)),d=f(n(5411));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleCancel=r.handleCancel.bind(r),r.handleConfirm=r.handleConfirm.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCancel=function(){var e=this.props.cancelText;return null==e?null:o(l.default,{look:l.default.Looks.LINK,onClick:this.handleCancel},void 0,e)},t.prototype.renderConfirm=function(){var e=this.props.confirmText;return null==e?null:o(l.default,{onClick:this.handleConfirm},void 0,e)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.imageClass,r=e.body;return o(u.default,{},void 0,o(u.default.Header,{},void 0,o(s.default,{tag:s.default.Tags.H4},void 0,t)),o(u.default.Content,{},void 0,n&&o("div",{className:(0,i.default)(d.default.image,n)}),o("div",{className:d.default.body},void 0,r)),o(u.default.Footer,{},void 0,this.renderConfirm(),this.renderCancel()))},t.prototype.handleCancel=function(){var e=this.props,t=e.onCancel,n=e.onClose;n&&n(),t&&t()},t.prototype.handleConfirm=function(){var e=this.props,t=e.onConfirm,n=e.onClose;n&&n(),t&&t()},t}(a.PureComponent);c.displayName="ActionableError",t.default=c,e.exports=t.default},6290:function(e,t,n){e.exports=n.p+"c613a8513d53c5b2a4d5941419100a11.svg"},6291:function(e,t,n){e.exports=n.p+"14ce1e8528e32f1a13659e476a3c0716.svg"},6292:function(e,t,n){e.exports=n.p+"69599bf4774238ea687b769da6a9595e.svg"},6293:function(e,t,n){e.exports=n.p+"006ca0d19c6267812c15ff9611d4e6d5.svg"},6294:function(e,t,n){e.exports=n.p+"b3bbdcadbdb67b466e9330da22ed0221.svg"},6295:function(e,t,n){e.exports=n.p+"273ec1aee7edca70e8038dfcb26436b1.svg"},6296:function(e,t,n){e.exports=n.p+"5947547ef2316bb7db5650751f2ccb2f.svg"},6297:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=f(n(830)),u=f(n(861)),s=f(n(5977)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.handleViewProfile=function(){u.default.open(r.props.userId,r.props.guildId),l.default.close(),(0,i.closeContextMenu)()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(s.default,{label:d.default.Messages.PROFILE,action:this.handleViewProfile})},t}(a.PureComponent);p.displayName="UserProfileItem",t.default=p,e.exports=t.default},6298:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),y(n(308))),i=y(n(309)),l=y(n(443)),u=y(n(4)),s=y(n(446)),d=n(307),f=y(n(22)),c=y(n(15)),p=y(n(5977)),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"UserRemoveFromGroupItem",mixins:[u.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{userId:i.default.string.isRequired,channelId:i.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{currentUser:c.default.getCurrentUser(),channel:f.default.getChannel(this.props.channelId)}},UNSAFE_componentWillReceiveProps:function(e){this.setState({channel:f.default.getChannel(e.channelId)})},render:function(){var e=this.props.userId,t=this.state,n=t.currentUser,r=t.channel;return null==r||r.isOwner(e)||!r.isOwner(n.id)?null:o(p.default,{label:h.default.Messages.REMOVE_FROM_GROUP,action:this.handleRemoveFromGroup,danger:!0})},handleRemoveFromGroup:function(){var e=this.props,t=e.channelId,n=e.userId;s.default.removeRecipient(t,n),(0,d.closeContextMenu)()}});t.default=m,e.exports=t.default},6299:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),m(n(308))),i=m(n(6)),l=m(n(309)),u=m(n(443)),s=m(n(4)),d=m(n(335)),f=n(307),c=m(n(12)),p=m(n(841)),h=m(n(5977)),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"UserRingHangItem",mixins:[s.default.LazyStoreListenerMixin(p.default),u.default],propTypes:{channelId:l.default.string.isRequired,userId:l.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{me:c.default.getId()===this.props.userId,participants:p.default.getParticipants(this.props.channelId)}},render:function(){var e=this,t=this.state.participants;if(this.state.me||!t||!t.length)return null;var n=i.default.find(t,function(t){return t.user.id===e.props.userId});return null==n?o(h.default,{label:y.default.Messages.RING,action:this.handleRing}):n.ringing?o(h.default,{label:y.default.Messages.STOP_RINGING,action:this.handleStopRinging}):null},handleRing:function(){(0,f.closeContextMenu)(),d.default.ring(this.props.channelId,[this.props.userId])},handleStopRinging:function(){(0,f.closeContextMenu)(),d.default.stopRinging(this.props.channelId,[this.props.userId])}});t.default=v,e.exports=t.default},6300:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),T(n(308))),i=T(n(6)),l=T(n(309)),u=T(n(443)),s=T(n(4)),d=T(n(5985)),f=T(n(72)),c=T(n(28)),p=T(n(153)),h=T(n(15)),y=T(n(100)),m=T(n(5981)),v=T(n(5977)),_=T(n(5998)),E=T(n(5982)),g=n(0),S=T(n(13));function T(e){return e&&e.__esModule?e:{default:e}}var I=(0,a.default)({displayName:"UserRolesGroup",mixins:[s.default.LazyStoreListenerMixin(f.default,p.default),u.default],propTypes:{userId:l.default.string.isRequired,guildId:l.default.string.isRequired,theme:l.default.string,invertChildY:l.default.bool},getInitialState:function(){return this.getStateFromStores()},getDefaultProps:function(){return{invertChildY:!1}},getStateFromStores:function(){var e=c.default.getGuild(this.props.guildId),t=f.default.getMember(this.props.guildId,this.props.userId);return{guild:e,userRoles:t?t.roles:null,isGuildMember:!!t,canManageRoles:null!=e&&p.default.can(g.Permissions.MANAGE_ROLES,e)}},render:function(){var e=this;if(__OVERLAY__)return null;var t=this.state,n=t.guild,r=t.userRoles,a=t.canManageRoles,l=this.props.invertChildY,u=r&&r.length,s=h.default.getCurrentUser(),d=null;if(this.state.isGuildMember&&(u>0||a)){var f=y.default.getHighestRole(n,s.id),c=(0,i.default)(n.roles).filter(function(e){return e.id!==n.id&&(a||-1!==r.indexOf(e.id))}).map(function(t){if(a){var i=t.managed||!y.default.isRoleHigher(n,s.id,f,t),l=-1!==r.indexOf(t.id);return i&&!l?null:o(E.default,{label:t.name,disabled:i,styles:{color:t.colorString},boxStyles:{background:t.colorString},action:function(){return e.handleRoleToggle(t)},active:l},t.id)}return o(v.default,{styles:{color:t.colorString},label:t.name},t.id)}).value();c.length&&(d=o(m.default,{},void 0,o(_.default,{label:S.default.Messages.ROLES_LIST.format({numRoles:3}),render:c,invertChildY:l})))}return d},handleRoleToggle:function(e){var t=this.state.userRoles;t=-1===t.indexOf(e.id)?t.concat([e.id]):t.filter(function(t){return t!==e.id}),d.default.updateMemberRoles(this.props.guildId,this.props.userId,t)}});t.default=I,e.exports=t.default},6301:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(308))),i=p(n(309)),l=p(n(443)),u=p(n(4)),s=p(n(132)),d=n(224),f=p(n(5977)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"UserStreamItem",mixins:[u.default.LazyStoreListenerMixin(s.default),l.default],propTypes:{userId:i.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{streamURL:(0,d.getStreamURL)(s.default.getPrimaryActivity(this.props.userId))}},render:function(){return null==this.state.streamURL?null:o(f.default,{label:c.default.Messages.WATCH_STREAM,action:this.handleWatchStream})},handleWatchStream:function(){window.open(this.state.streamURL,"_blank")}});t.default=h,e.exports=t.default},6302:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=p(n(2)),i=c(n(4)),l=p(n(6017)),u=c(n(451)),s=c(n(15)),d=c(n(5982)),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleToggle=function(){var e=r.props,t=e.user;e.isFollowing?l.removeMembersFromFeed([t.id]):l.addMembersToFeed([t.id])},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.isFollowing,r=e.isCurrentUser;return t.bot||r?null:o(d.default,{label:f.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:n})},t}(a.PureComponent);y.displayName="UserToggleFeedVisibilityItem",t.default=i.default.connectStores([u.default],function(e){var t=e.user;return{isFollowing:u.default.isOnFeed(t.id),isCurrentUser:s.default.getCurrentUser().id===t.id}})(y),e.exports=t.default},6303:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(4)),u=n(307),s=y(n(80)),d=y(n(28)),f=y(n(15)),c=y(n(5977)),p=y(n(6304)),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleTransferOwnership=r.handleTransferOwnership.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.guild,n=e.currentUser,r=e.user;return null==t||null==n||r.id===t.ownerId||r.bot||!t.isOwnerWithRequiredMfaLevel(n)?null:a(c.default,{danger:!0,label:h.default.Messages.TRANSFER_OWNERSHIP,action:this.handleTransferOwnership})},t.prototype.handleTransferOwnership=function(){var e=this.props,t=e.guild,n=e.currentUser,r=e.user;s.default.push(function(e){return i.createElement(p.default,o({},e,{guild:t,fromUser:n,toUser:r}))}),(0,u.closeContextMenu)()},t}(i.PureComponent);m.displayName="UserTransferOwnershipItem";var v=l.default.connectStores([d.default,f.default],function(e){var t=e.guildId;return{currentUser:f.default.getCurrentUser(),guild:d.default.getGuild(t)}})(m);t.default=v,e.exports=t.default},6304:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(5985)),l=n(834),u=_(n(80)),s=_(n(128)),d=_(n(152)),f=_(n(222)),c=_(n(5987)),p=_(n(445)),h=_(n(110)),y=_(n(5994)),m=_(n(13)),v=_(n(5416));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleTransfer=r.handleTransfer.bind(r),r.handleAcknowledged=r.handleAcknowledged.bind(r),r.state={acknowledged:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleTransfer=function(e){e.preventDefault(),u.default.pop(),i.default.transferOwnership(this.props.guild.id,this.props.toUser.id).then(function(){return(0,l.popLayer)()}).catch(function(){})},t.prototype.handleAcknowledged=function(e){e.currentTarget.checked?this.setState({acknowledged:!0}):this.setState({acknowledged:!1})},t.prototype.render=function(){var e=this.props,t=e.fromUser,n=e.toUser,r=e.onClose,a=this.state.acknowledged;return o(f.default,{tag:"form",onSubmit:this.handleTransfer},void 0,o(f.default.Header,{},void 0,o(h.default,{tag:h.default.Tags.H4},void 0,m.default.Messages.TRANSFER_OWNERSHIP,"—",this.props.toUser.toString())),o(f.default.Content,{},void 0,o(d.default,{className:v.default.fromToWrapper,justify:d.default.Justify.CENTER},void 0,o("div",{className:v.default.from},void 0,o(y.default,{user:t,size:"xxlarge"})),o("div",{className:v.default.to},void 0,o(y.default,{user:n,size:"xxlarge"}))),o(c.default,{hideBorder:!0,value:a,onChange:this.handleAcknowledged},void 0,o(p.default,{type:p.default.Types.DESCRIPTION},void 0,m.default.Messages.TRANSFER_OWNERSHIP_ACKNOWLEDGE.format({username:n.toString()})))),o(f.default.Footer,{},void 0,o(s.default,{type:"submit",disabled:!a,color:s.default.Colors.RED},void 0,m.default.Messages.TRANSFER_OWNERSHIP),o(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,onClick:r},void 0,m.default.Messages.CANCEL)))},t}(a.PureComponent);E.key=function(){return"transfer-ownership-modal"},E.displayName="TransferOwnership",t.default=E,e.exports=t.default},6305:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.backgroundImagePreloader=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e));r.cachedURLs=[],r.canceller=null;var o=e.style,a=o?d(o.backgroundImage):null;return r.cachedURLs=[a],r.state={cached:a,url:null,loaded:!0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidUpdate=function(e,t){var n=this;if(t!==this.state){var r=this.state,o=r.cached,a=r.loaded,i=this.props.style,l=i?d(i.backgroundImage):null;null==l&&l!==o?this.setState({loaded:!0,cached:l}):this.cachedURLs.indexOf(l)>=0?this.setState({loaded:!0,cached:l}):null!=l&&l!==o&&!0===a&&this.setState({loaded:!1},function(){return n.preloadURL(l)})}},n.prototype.preloadURL=function(e){var t=this;this.canceller&&this.canceller(),this.canceller=(0,u.loadImage)(e,function(n){t.canceller&&(t.canceller=null),n||(t.cachedURLs.push(e),t.setState({cached:e,loaded:!0}));var r=t.props.onBackgroundImageLoad;r&&r(n,e)})},n.prototype.componentWillUnmount=function(){this.canceller&&this.canceller(),this.cachedURLs.length=0},n.prototype.render=function(){var t=this.props,n=t.style,o=(t.onBackgroundImageLoad,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["style","onBackgroundImageLoad"])),i=this.state,l=i.loaded,u=i.cached;return!l&&n&&(n=r({},n,{backgroundImage:function(e){if(!e||"none"===e)return"none";return"url("+e+")"}(u)})),a.createElement(e,r({style:n},o))},n}(a.Component);return t.displayName="BackgroundImagePreloader",(0,l.default)(t,e),t};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(343),l=(o=i)&&o.__esModule?o:{default:o},u=n(233);var s=/url\(['"](.*)['"]\)/,d=function(e){if(!e||"none"===e)return null;var t=e.match(s);return t?t[1]:e}},6306:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4)),l=p(n(6139)),u=p(n(841)),s=p(n(22)),d=p(n(134)),f=p(n(5977)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.focused;if(t.hidden)return null;var r=n?c.default.Messages.UNFOCUS_PARTICIPANT:c.default.Messages.FOCUS_PARTICIPANT;return o(f.default,{label:r,action:function(){return e.handleFocus()}})},t.prototype.handleFocus=function(){var e=this.props,t=e.focused,n=e.channelId,r=e.userId;l.default.selectParticipant(n,t?null:r)},t}(a.PureComponent);h.displayName="UserVideoFocusItem",t.default=i.default.connectStores([u.default,d.default],function(e){var t=e.channelId,n=e.userId,r=e.guildId,o=u.default.getSelectedParticipantId(t),a=s.default.getChannel(t),i=d.default.isInChannel(r,t,n)&&d.default.hasVideo(r,t);return{hidden:null==a||(a.isDM()||!i),focused:o===n}})(h),e.exports=t.default},6307:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(452)),l=p(n(46)),u=p(n(15)),s=p(n(9)),d=p(n(5981)),f=p(n(6166)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),d=0;d<o;d++)a[d]=arguments[d];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.state={me:null!=r.props.me?r.props.me:u.default.getCurrentUser().id===r.props.userId,volume:null!=r.props.volume?r.props.volume:l.default.getLocalVolume(r.props.userId)},r.handleVolumeChange=function(e){r.state.me||i.default.setLocalVolume(r.props.userId,s.default.embedded?2*e:e)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=null;if(!this.state.me){var t=void 0,n=this.state.volume;s.default.embedded?(t=function(e){return(2*e).toFixed(0)+"%"},n/=2):t=function(e){return e.toFixed(0)+"%"},e=o(f.default,{label:c.default.Messages.USER_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:t,defaultValue:n})}return o(d.default,{},void 0,e)},t}(a.PureComponent);y.displayName="UserVolumeGroup",t.default=y,e.exports=t.default},6308:function(e,t,n){"use strict";t.__esModule=!0,t.CALL_START=t.CALL_ACCEPT=void 0;var r=n(109),o=n(0),a=t.CALL_ACCEPT={binds:["mod+return"],global:!0,action:function(){if(r.ComponentDispatch.hasSubscribers(o.ComponentActions.CALL_ACCEPT))return r.ComponentDispatch.dispatch(o.ComponentActions.CALL_ACCEPT),!1}},i=t.CALL_START={binds:["ctrl+'","ctrl+shift+'"],global:!0,action:function(e){if(r.ComponentDispatch.hasSubscribers(o.ComponentActions.CALL_START))return r.ComponentDispatch.dispatch(o.ComponentActions.CALL_START,e),!1}};t.default={CALL_ACCEPT:a,CALL_START:i}},6309:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_PREVIOUS_GUILD=t.CHANNEL_PREV=t.CHANNEL_NEXT=void 0;var r=d(n(6e3)),o=d(n(51)),a=d(n(155)),i=d(n(45)),l=d(n(6423)),u=n(6020),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=t.CHANNEL_NEXT={binds:["alt+down"],global:!0,action:function(){return(0,l.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}},c=t.CHANNEL_PREV={binds:["alt+up"],global:!0,action:function(){return(0,l.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}},p=t.TOGGLE_PREVIOUS_GUILD={binds:["mod+alt+right"],global:!0,action:function(){var e=void 0;if(a.default.getGuildId())e=s.ME;else{var t=a.default.getLastSelectedGuildId();t&&(e=t,(0,u.transitionToChannel)(t,o.default.getChannelId(t)))}if(null!=e){var n=o.default.getChannelId(e);i.default.transitionTo(n?s.Routes.CHANNEL(e,n):s.Routes.GUILD(e))}return!1}};t.default={CHANNEL_PREV:c,CHANNEL_NEXT:f,TOGGLE_PREVIOUS_GUILD:p}},6310:function(e,t,n){"use strict";t.__esModule=!0,t.MARK_CHANNEL_READ=void 0;var r=c(n(157)),o=n(6090),a=c(n(891)),i=c(n(228)),l=c(n(315)),u=c(n(51)),s=c(n(155)),d=n(109),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=t.MARK_CHANNEL_READ={binds:["esc","shift+pagedown"],global:!0,action:function(){var e=document.activeElement;if(d.ComponentDispatch.hasSubscribers(f.ComponentActions.CALL_DECLINE))return d.ComponentDispatch.dispatch(f.ComponentActions.CALL_DECLINE),!1;if(a.default.isOpen())return d.ComponentDispatch.dispatch(f.ComponentActions.CONTEXT_MENU_CLOSE),!1;if(d.ComponentDispatch.hasSubscribers(f.ComponentActions.POPOUT_CLOSE))return d.ComponentDispatch.dispatch(f.ComponentActions.POPOUT_CLOSE),!1;if(d.ComponentDispatch.hasSubscribers(f.ComponentActions.CLOSE_GIF_PICKER))return d.ComponentDispatch.dispatch(f.ComponentActions.CLOSE_GIF_PICKER),!1;if(d.ComponentDispatch.hasSubscribers(f.ComponentActions.MODAL_CLOSE)&&!function(e){if(null==e)return!1;if(e instanceof HTMLInputElement)switch(e.type){case"text":case"password":case"email":case"number":case"tel":case"url":return!0;default:return!1}return e instanceof HTMLTextAreaElement}(e))return d.ComponentDispatch.dispatch(f.ComponentActions.MODAL_CLOSE),!1;var t=s.default.getGuildId(),n=u.default.getChannelId(t);n&&(i.default.getMessages(n).hasMoreAfter&&r.default.jumpToPresent(n,f.MAX_MESSAGES_PER_CHANNEL),l.default.hasUnread(n)&&(0,o.ack)(n),(0,o.localAck)(n));return d.ComponentDispatch.dispatch(f.ComponentActions.SCROLLTO_PRESENT),!1}};t.default={MARK_CHANNEL_READ:p}},6311:function(e,t,n){"use strict";t.__esModule=!0,t.MARK_SERVER_READ=void 0;var r=f(n(832)),o=f(n(157)),a=f(n(6041)),i=f(n(228)),l=f(n(51)),u=f(n(155)),s=n(109),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c={},p=t.MARK_SERVER_READ={binds:["shift+esc"],global:!0,action:function(){var e=u.default.getGuildId();if(e&&a.default.getUnreadGuildsIgnoreMuted(e)){if(!c[e]){var t=function(){return delete c[e]};r.default.markGuildAsRead(e).then(t,t)}var n=l.default.getChannelId(e);if(n)i.default.getMessages(n).hasMoreAfter?o.default.jumpToPresent(n,d.MAX_MESSAGES_PER_CHANNEL):s.ComponentDispatch.dispatch(d.ComponentActions.SCROLLTO_PRESENT)}}};t.default={MARK_SERVER_READ:p}},6312:function(e,t,n){"use strict";t.__esModule=!0,t.JUMP_TO_FIRST_UNREAD=void 0;var r=i(n(157)),o=i(n(315)),a=i(n(51));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.JUMP_TO_FIRST_UNREAD={binds:["shift+pageup"],global:!0,action:function(){var e=a.default.getChannelId();if(e){var t=o.default.ackMessageId(e);t&&o.default.getOldestUnreadTimestamp(e)>0&&r.default.jumpToMessage(e,t,!1,"Keyboard Shortcut")}return!1}};t.default={JUMP_TO_FIRST_UNREAD:l}},6313:function(e,t,n){"use strict";t.__esModule=!0,t.findNextSelected=function e(t,n,o,a){var i=o.length;if(0===i)return 0;if(null==a)a=n;else if(a===n)return n;n+="up"===t?-1:1;if(n<0||n>=i)return e(t,n<0?i:-1,o,a);var l=o[n];if(l.type===r.AutocompleterResultTypes.HEADER)return e(t,n,o,a);return n};var r=n(0)},6314:function(e,t,n){"use strict";t.__esModule=!0,t.RETURN_TO_AUDIO_CHANNEL=void 0;var r=s(n(6e3)),o=s(n(6005)),a=s(n(184)),i=s(n(51)),l=n(6020),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=t.RETURN_TO_AUDIO_CHANNEL={binds:["mod+alt+left"],global:!0,action:function(){if(!a.default.isConnected())return!1;var e=a.default.getGuildId()||u.ME,t=i.default.getChannelId(e);return(0,l.transitionToChannel)(e,t),r.default.flushSelection(!0),o.default.channelListScrollTo(e,a.default.getChannelId()),!1}};t.default={RETURN_TO_AUDIO_CHANNEL:d}},6315:function(e,t,n){"use strict";t.__esModule=!0,t.SCROLL_DOWN=t.SCROLL_UP=void 0;var r=n(109),o=n(0),a=t.SCROLL_UP={binds:["pageup"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(o.ComponentActions.SCROLL_PAGE_UP),!1}},i=t.SCROLL_DOWN={binds:["pagedown"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(o.ComponentActions.SCROLL_PAGE_DOWN),!1}};t.default={SCROLL_UP:a,SCROLL_DOWN:i}},6316:function(e,t,n){"use strict";t.__esModule=!0,t.SEARCH_EMOJIS=void 0;var r=n(109),o=n(0),a=t.SEARCH_EMOJIS={binds:["mod+e"],global:!0,action:function(){return r.ComponentDispatch.dispatch(o.ComponentActions.TOGGLE_EMOJI_POPOUT),!1}};t.default={SEARCH_EMOJIS:a}},6317:function(e,t,n){"use strict";t.__esModule=!0,t.SERVER_PREV=t.SERVER_NEXT=void 0;var r=a(n(6e3)),o=a(n(6428));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.SERVER_NEXT={binds:["mod+alt+down","mod+shift+]","ctrl+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,o.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}},l=t.SERVER_PREV={binds:["mod+alt+up","mod+shift+[","ctrl+shift+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,o.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}};t.default={SERVER_NEXT:i,SERVER_PREV:l}},6318:function(e,t,n){"use strict";t.__esModule=!0,t.SUBMIT=void 0;var r=n(109),o=n(0),a=t.SUBMIT={binds:["return"],global:!1,action:function(){if(r.ComponentDispatch.hasSubscribers(o.ComponentActions.MODAL_SUBMIT))return r.ComponentDispatch.dispatch(o.ComponentActions.MODAL_SUBMIT),!1}};t.default={SUBMIT:a}},6319:function(e,t,n){"use strict";t.__esModule=!0,t.TEXTAREA_FOCUS=t.FALLTHROUGH_KEYS=void 0;var r=s(n(854)),o=s(n(46)),a=s(n(184)),i=n(109),l=n(6320),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=t.FALLTHROUGH_KEYS=new Set(["PageDown","PageUp","Home","End"]);t.TEXTAREA_FOCUS={binds:["any-character"],global:!1,keydown:function(e,t){if((0,l.isInputLikeElement)(document.activeElement))return!1;var n=null!=document.activeElement&&"BODY"===document.activeElement.tagName;return!(u.EnableAccessibility&&!n&&!/^[a-zA-Z0-9]$/.test(t))&&(!i.ComponentDispatch.hasSubscribers(u.ComponentActions.MODAL_CLOSE)&&(!r.default.hasLayers()&&("Tab"===t?(e.preventDefault(),i.ComponentDispatch.dispatch(u.ComponentActions.TEXTAREA_FOCUS),!1):!(a.default.isConnected()&&o.default.getMode()===u.InputModes.PUSH_TO_TALK&&!o.default.isSelfMute())&&void(e.metaKey||e.ctrlKey||d.has(t)||i.ComponentDispatch.dispatchToLastSubscribed(u.ComponentActions.TEXTAREA_FOCUS)))))}}},6320:function(e,t,n){"use strict";t.__esModule=!0,t.isInputLikeElement=function(e){if(null==e)return!1;if("true"===e.getAttribute("contenteditable"))return!0;if(o.test(e.tagName))return!0;if(r.test(e.tagName)){var t=e.getAttribute("type")||"text";if("text"===t||"password"===t)return!0}return!1},t.removeNode=function(e){null!=e.parentNode&&e.parentNode.removeChild(e)},t.clickedOnVisibleImage=function(e,t,n,r){var o=n.width,a=n.height,i=r.top,l=r.left,u=r.width,s=r.height,d=Math.min(u/o,s/a,1),f=o*d,c=a*d,p=(s-c)/2+l,h=(u-f)/2+i;if(t>=p&&t<=p+c&&e>=h&&e<=h+f)return!0;return!1};var r=/input/i,o=/textarea/i},6321:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_DEAFEN=t.TOGGLE_MUTE=void 0;var r,o=n(452),a=(r=o)&&r.__esModule?r:{default:r};var i=t.TOGGLE_MUTE={binds:["mod+shift+m"],global:!0,action:function(){return a.default.toggleSelfMute(),!1}},l=t.TOGGLE_DEAFEN={binds:["mod+shift+d"],global:!0,action:function(){return a.default.toggleSelfDeaf(),!1}};t.default={TOGGLE_MUTE:i,TOGGLE_DEAFEN:l}},6322:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CATEGORY_COLLAPSED=void 0;var r=n(6053),o=u(n(860)),a=u(n(111)),i=u(n(155)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}t.TOGGLE_CATEGORY_COLLAPSED={binds:["mod+shift+a"],global:!0,action:function(){var e=i.default.getGuildId();return null!=e&&(a.default.getChannels(e)[l.ChannelTypes.GUILD_CATEGORY].some(function(e){var t=e.channel;return"null"!==t.id&&!o.default.isCollapsed(t.id)})?(0,r.categoryCollapseAll)(e):(0,r.categoryExpandAll)(e),!1)}}},6323:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_HOTKEYS=void 0;var r=a(n(6115)),o=a(n(6324));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.TOGGLE_HOTKEYS={binds:["mod+/","mod+shift+/"],global:!0,action:function(){return o.default.isOpen()?r.default.hide():r.default.show(),!1}};t.default={TOGGLE_HOTKEYS:i}},6324:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return i},t.prototype.getState=function(){return{ragingDemon:l}},t}(r.default.Store);t.default=new u(o.default,{SHOW_KEYBOARD_SHORTCUTS:function(e){i=!0},HIDE_KEYBOARD_SHORTCUTS:function(e){i=!1},ACTIVATE_RAGING_DEMON:function(e){l=!0},DEACTIVATE_RAGING_DEMON:function(e){l=!1}}),e.exports=t.default},6325:function(e,t,n){"use strict";t.__esModule=!0,t.MENTION_PREV=t.MENTION_NEXT=t.UNREAD_PREV=t.UNREAD_NEXT=void 0;var r=s(n(6e3)),o=s(n(845)),a=s(n(315)),i=s(n(226)),l=s(n(6433)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){return(!i.default.isChannelMuted(e,t)||a.default.getMentionCount(t)>0)&&a.default.hasUnread(t)},f=t.UNREAD_NEXT={binds:["alt+shift+down"],global:!0,action:function(){var e=o.default.getGuildId()||u.ME;return(0,l.default)(1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}},c=t.UNREAD_PREV={binds:["alt+shift+up"],global:!0,action:function(){var e=o.default.getGuildId()||u.ME;return(0,l.default)(-1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}},p=function(e,t){return a.default.getMentionCount(t)>0},h=t.MENTION_NEXT={binds:["mod+shift+alt+down"],global:!0,action:function(){return(0,l.default)(1,p),!1},keyup:function(){return r.default.flushSelection(),!1}},y=t.MENTION_PREV={binds:["mod+shift+alt+up"],global:!0,action:function(){return(0,l.default)(-1,p),!1},keyup:function(){return r.default.flushSelection(),!1}};t.default={UNREAD_NEXT:f,UNREAD_PREV:c,MENTION_NEXT:h,MENTION_PREV:y}},6326:function(e,t,n){"use strict";t.__esModule=!0;var r=y(n(6)),o=y(n(4)),a=y(n(1)),i=y(n(6598)),l=y(n(917)),u=y(n(480));n(239);var s=y(n(158)),d=y(n(135)),f=y(n(45)),c=y(n(15)),p=n(0),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var m=[],v=0,_=!1,E=!1,g=!0;function S(e){return{key:e.suggested_user.id,reasons:r.default.sortBy(e.reasons,function(e){return e.name.toLowerCase()}),user:new d.default(e.suggested_user)}}function T(e){return e.user.username.toLowerCase()}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default)},t.prototype.getSuggestionCount=function(){return v},t.prototype.getSuggestions=function(){return m},t}(o.default.Store);t.default=new I(a.default,{CONNECTION_OPEN:function(e){m=[],v=e.friendSuggestionCount,E=!0},FRIEND_SUGGESTION_CREATE:function(e){var t=S(e.suggestion);if(m.some(function(e){return e.key===t.key}))return!1;if(v++,m=r.default.sortBy([].concat(m,[t]),T),g){var n=t.reasons[0],o=n.name,a=n.platform_type,i=s.default.get(a);u.default.showNotification(t.user.getAvatarURL(),h.default.Messages.FRIEND_SUGGESTION,h.default.Messages.FRIEND_SUGGESTION_NOTIFICATION.format({name:o,platformName:i.name}),{onClick:function(){f.default.transitionTo(p.Routes.FRIENDS),l.default.setSection(p.FriendsSections.ADD_FRIEND)}})}},FRIEND_SUGGESTION_DELETE:function(e){v=Math.max(0,--v),m=m.filter(function(t){return t.user.id!==e.suggestedUserId})},FRIENDS_SET_SECTION:function(e){g=e.section!==p.FriendsSections.ADD_FRIEND,_||g||!E||(_=!0,E=!1,i.default.fetch())},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){_=!1,v=e.suggestions.length,m=(0,r.default)(e.suggestions).map(S).sortBy(T).value()},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(e){return _=!1,void(m=[])}}),e.exports=t.default},6327:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){o.default.track(a.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Login Modal",location:e}),r.default.dispatch({type:a.ActionTypes.LOGIN_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:a.ActionTypes.LOGIN_MODAL_CLOSE})};var r=i(n(1)),o=i(n(18)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6328:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(2)),a=c(n(6821)),i=c(n(80)),l=c(n(92)),u=p(n(6006)),s=c(n(9)),d=c(n(6093)),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){var t=["openFile"];e.multiple&&t.push("multiSelections");var n=e.filters,r=u.maxFileSize();l.default.fileManager.openFiles({properties:t,filters:n},r,u.makeFile).then(function(t){null!=t&&e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:t}})},function(e){if("ETOOLARGE"!==e.code)throw e;i.default.push(d.default,{title:f.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:f.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:u.sizeString(r)})})})}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRef=r.setRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.activateUploadDialogue=function(){if(this._ref)return this._ref.activateUploadDialogue()},t.prototype.setRef=function(e){this._ref=e},t.prototype.render=function(){return o.createElement(a.default,r({ref:this.setRef,handleNativeClick:h,embedded:s.default.isDesktop()},this.props))},t}(o.Component);y.displayName="FileInput",t.default=y,e.exports=t.default},6330:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={setDiversityColor:function(e){o.default.dispatch({type:a.ActionTypes.EMOJI_DIVERSITY_COLOR_CHANGE,color:e})},fetchEmoji:function(e){o.default.maybeDispatch({type:a.ActionTypes.EMOJI_FETCH,guildId:e}),r.default.get({url:a.Endpoints.GUILD_EMOJIS(e)}).then(function(t){return o.default.dispatch({type:a.ActionTypes.EMOJI_FETCH_SUCCESS,guildId:e,emojis:t.body})},function(){return o.default.dispatch({type:a.ActionTypes.EMOJI_FETCH_FAILURE,guildId:e})})},uploadEmoji:function(e,t,n){return o.default.dispatch({type:a.ActionTypes.EMOJI_UPLOAD_START,guildId:e}),r.default.post({url:a.Endpoints.GUILD_EMOJIS(e),body:{image:t,name:n}}).then(function(){return o.default.dispatch({type:a.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e})},function(t){return o.default.dispatch({type:a.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e}),Promise.reject(t)})},deleteEmoji:function(e,t){o.default.dispatch({type:a.ActionTypes.EMOJI_DELETE,guildId:e,emojiId:t}),r.default.delete({url:a.Endpoints.GUILD_EMOJI(e,t)})},updateEmoji:function(e,t,n){r.default.patch({url:a.Endpoints.GUILD_EMOJI(e,t),body:{name:n}})}},e.exports=t.default},6331:function(e,t,n){"use strict";t.__esModule=!0,t.AttachmentUpload=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(17))),i=h(n(6329)),l=n(6006),u=h(n(311)),s=h(n(221)),d=h(n(306)),f=h(n(6056)),c=h(n(13)),p=h(n(5463));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.filename,r=(0,l.classifyFileName)(t),a=n(6478)("./icon-file-small-"+r+".svg");return o("img",{className:p.default.icon,src:a,alt:c.default.Messages.IMG_ALT_ATTACHMENT_FILE_TYPE.format({fileType:r}),title:r})};y.displayName="AttachmentIcon",(t.AttachmentUpload=function(e){var t=e.className,n=e.filename,r=e.size,l=e.progress,u=e.onCancelUpload,h=e.onClick,m=e.onContextMenu,v=100===l,_=!v&&r>0;return o("div",{className:(0,a.default)(p.default.attachment,t)},void 0,o(y,{filename:n}),o("div",{className:p.default.attachmentInner},void 0,o("div",{className:p.default.filenameWrapper},void 0,o(s.default,{className:p.default.filename,onClick:h,onContextMenu:m},void 0,n),_?o("div",{className:p.default.size},void 0,"— "+i.default.filesize(r)):null),o("div",{className:p.default.progressContainer},void 0,v?c.default.Messages.ATTACHMENT_PROCESSING:o(f.default,{className:p.default.progress,percent:l}))),v?null:o(s.default,{onClick:u},void 0,o(d.default,{name:d.default.Names.CLOSE,className:p.default.cancelButton,width:24,height:24})))}).displayName="AttachmentUpload";var m=function(e){var t=e.className,n=e.url,r=e.filename,l=e.size,s=e.onClick,f=e.onContextMenu;return o("div",{className:(0,a.default)(p.default.attachment,t)},void 0,o(y,{filename:r}),o("div",{className:p.default.attachmentInner},void 0,o("div",{className:p.default.filenameLinkWrapper},void 0,o(u.default,{className:p.default.fileNameLink,href:n,onClick:s,onContextMenu:f},void 0,r)),o("div",{className:p.default.metadata},void 0,i.default.filesize(l))),o(u.default,{href:n,target:"_blank",rel:"noreferrer noopener"},void 0,o(d.default,{name:d.default.Names.DOWNLOAD,className:p.default.downloadButton,width:24,height:24})))};m.displayName="Attachment",t.default=m},6332:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=d(n(6)),u=d(n(310)),s=d(n(154));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({ABOVE:0,VISIBLE:1,BELOW:2});function c(e){return{toValue:e,duration:300,easing:u.default.Easing.inOut(u.default.Easing.back())}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={prevValue:null,currValue:n.value,nextValue:null},r.prevAnimate=new u.default.Value(f.ABOVE),r.currAnimate=new u.default.Value(f.VISIBLE),l.default.bindAll(r,["animateNext"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.state,n=t.prevValue,r=t.currValue,o=t.nextValue;null==n&&r!==e.value?this.setState({prevValue:s.default.isFocused()?r:null,currValue:e.value}):null!=o&&o!==e.value&&this.setState({nextValue:e.value})},t.prototype.componentDidUpdate=function(e,t){var n=this.state,r=n.prevValue,o=n.currValue;r!==t.prevValue&&null!=r&&this.animateBetween(r,o)},t.prototype.animateBetween=function(e,t){var n=this.props.forcePosition,r=void 0;this.prevAnimate.setValue(f.VISIBLE),null!=n?n===f.ABOVE?(this.currAnimate.setValue(f.ABOVE),r=f.BELOW):n===f.BELOW&&(this.currAnimate.setValue(f.BELOW),r=f.ABOVE):e>t?(this.currAnimate.setValue(f.ABOVE),r=f.BELOW):(this.currAnimate.setValue(f.BELOW),r=f.ABOVE),u.default.parallel([u.default.timing(this.prevAnimate,c(r)),u.default.timing(this.currAnimate,c(f.VISIBLE))]).start(this.animateNext)},t.prototype.animateNext=function(){var e=this.state,t=e.currValue,n=e.nextValue;null!=n?this.setState({prevValue:s.default.isFocused()?t:null,currValue:n,nextValue:null}):this.setState({prevValue:null})},t.prototype.getAnimatedStyle=function(e){return{transform:[{translateY:e.interpolate({inputRange:[0,1,2],outputRange:["-100%","0%","100%"]})}],position:"absolute",top:0,left:0,right:0,bottom:0}},t.prototype.getMinWidth=function(e){var t=this.props,n=t.digitWidth,r=t.padStartLength;if(null!=n){var o=Math.ceil(Math.log10(e+1));return r?Math.min(o,r)*n:o*n}},t.prototype.padValue=function(e){var t=this.props.padStartLength;return null!=t?String(e).padStart(t,"0"):e},t.prototype.render=function(){var e=this.state,t=e.prevValue,n=e.currValue,r=l.default.omit(this.props,["value","digitWidth","padStartLength","forcePosition"]);if(null==t)return i.createElement("div",a({},r,{style:{minWidth:this.getMinWidth(n)}}),this.padValue(n));var s=Math.max(t,n);return i.createElement("div",a({},r,{style:{position:"relative",overflow:"hidden"}}),o("div",{style:{visibility:"hidden",minWidth:this.getMinWidth(s)}},void 0,this.padValue(s)),o(u.default.div,{style:this.getAnimatedStyle(this.prevAnimate)},void 0,this.padValue(t)),o(u.default.div,{style:this.getAnimatedStyle(this.currAnimate)},void 0,this.padValue(n)))},t}(i.PureComponent);p.Positions=f,p.displayName="AnimatedCounter",t.default=p,e.exports=t.default},6333:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=_(n(5)),u=n(114),s=_(n(128)),d=n(6075),f=_(n(6023)),c=_(n(6003)),p=_(n(6391)),h=_(n(6498)),y=_(n(6121)),m=_(n(13)),v=_(n(5470));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=/steamstore-/i,S="steamcommunity.com";var T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.state={timestamp:"",formattedTimestamp:""},r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.news,a=t.application;n&&n(e,o,a)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.news.timestamp;return t.timestamp!==n?{timestamp:n,formattedTimestamp:(0,l.default)(n).fromNow()}:null},t.prototype.componentDidMount=function(){var e=this.props.onMount;null!=e&&e()},t.prototype.renderFooter=function(){var e=this.props,t=e.news,n=t.url,r=t.footer,a=e.application,i=e.onApplicationClick,l=e.onApplicationContextMenu,s=this.state.formattedTimestamp,d=null,f=null;return null!=a?(d=a.getIconURL(128),f=a.name):null!=r&&(d=r.proxy_icon_url||r.icon_url,f=r.text),o(h.default,{hostname:null!=n?function(e){var t=(0,u.parse)(e).hostname;return null==t?e:g.test(t)?S:t}(n):n,timestamp:s,icon:d,title:f,onIconClick:null!=i?function(e){return i(e,a)}:null,onIconContextMenu:null!=l?l:null})},t.prototype.renderContent=function(){var e=this.props.titleClassName,t=this.props.news,n=t.title,r=t.description,a=t.url;if(null==n&&null==r&&null==a)return null;var l=null!=r?r.replace(/\n/g," ").trim():r;return o("div",{className:v.default.content},void 0,null!=n?o(f.default,{size:f.default.Sizes.SIZE_16,className:(0,i.default)(v.default.title,e)},void 0,n):null,null!=l&&""!==l?o(c.default,{size:c.default.Sizes.SIZE_14,className:v.default.description},void 0,l):null)},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.hiddenSpoiler,a=t.disableCardInteractive,l=t.onClick,u=t.renderAsset;return o(y.default,{padded:!1,className:(0,i.default)(n,(e={},e[v.default.interactive]=null==a&&null!=l,e[v.default.hiddenSpoiler]=r,e),v.default.card),onClick:null!=l?this.handleClick:null},void 0,u(this.props),this.renderContent(),this.renderFooter())},t}(a.Component);T.defaultProps={renderAsset:function(e){var t=e.news,n=e.application,r=e.onShare,a=e.autoPlay,i=e.shouldAnimate,l=t.thumbnail,u=t.video,f=null!=l?{url:l.url,proxyURL:l.proxy_url,width:l.width,height:l.height}:null,c=null!=u?{url:u.url,width:u.width,height:u.height}:null;return null!=f?o(p.default,{url:f.proxyURL||f.url,width:f.width,height:f.height,hideImage:null!=c,autoPlay:a,shouldAnimate:i},void 0,null!=c?o(d.EmbedVideo,{href:null,className:v.default.video,thumbnail:f,video:c,maxWidth:464,maxHeight:464*c.height/c.width,allowFullScreen:!1,playable:!0}):null,null!=r?o(s.default,{wrapperClassName:v.default.shareButton,size:s.default.Sizes.SMALL,color:v.default.buttonColor,onClick:function(e){r(e,t,n),e.stopPropagation()}},void 0,m.default.Messages.SHARE):null):null}},T.displayName="NewsCard",t.default=T,e.exports=t.default},6334:function(e,t,n){e.exports=n.p+"b09888a1a6c74c8bb9af76ee61eb70e7.svg"},6335:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(13)),l=u(n(5475));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.className;return o("div",{className:(0,a.default)(l.default.tag,t)},void 0,o("span",{className:l.default.text},void 0,i.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD))};s.displayName="FirstOnDiscordTag",t.default=s,e.exports=t.default},6336:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(13)),l=u(n(5476));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.className;return o("div",{className:(0,a.default)(l.default.tag,t)},void 0,o("span",{className:l.default.text},void 0,i.default.Messages.APPLICATION_STORE_THE_GAME_AWARDS_WINNER))};s.displayName="TheGameAwardsTag",t.default=s,e.exports=t.default},6337:function(e,t,n){"use strict";t.__esModule=!0,t.OperatingSystemSection=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=h;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var i=c(n(17)),l=c(n(306)),u=c(n(442)),s=n(0),d=c(n(13)),f=c(n(5478));function c(e){return e&&e.__esModule?e:{default:e}}var p=((o={})[s.OperatingSystems.WINDOWS]={iconName:l.default.Names.OS_WINDOWS,label:d.default.Messages.WINDOWS},o[s.OperatingSystems.MACOS]={iconName:l.default.Names.OS_MAC,label:d.default.Messages.MACOS},o[s.OperatingSystems.LINUX]={iconName:l.default.Names.OS_LINUX,label:d.default.Messages.LINUX},o);function h(e){var t=e.operatingSystem,n=e.className,r=p[t];if(null==r)throw new Error("Unexpected operating system: "+t);return a(u.default,{text:r.label,className:n},void 0,a(l.default,{name:r.iconName}))}h.displayName="OperatingSystemIcon",(t.OperatingSystemSection=function(e){var t=e.systems,n=e.className,r=e.iconClassName;return a("div",{className:(0,i.default)(f.default.OSSection,n)},void 0,t.map(function(e){return a(h,{operatingSystem:e,className:(0,i.default)(f.default.purchaseUnitOperatingSystem,r)},e)}))}).displayName="OperatingSystemSection"},6338:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(12)),o=d(n(15)),a=n(496),i=d(n(458)),l=d(n(115)),u=n(0),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(){}var c=function(){return[s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_01,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_02,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_03,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_04,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_05,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_06,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_07,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_08,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_09,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_10,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_11,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_12,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_13,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_14,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_15,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_16,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_17,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_18,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_19,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_20,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_21,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_22,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_23,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_24,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_25,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_26,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_27,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_28,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_29,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_30,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_31,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_32,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_33,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_34,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_35,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_36,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_37,s.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_38]};function p(e){var t=c();return t[l.default.extractTimestamp(e)%t.length]}t.default={stringify:function(e){var t=e.mentions[0]&&o.default.getUser(e.mentions[0].id),n=e.channel_id,l=i.default.getName(null,n,e.author);switch(e.type){case u.MessageTypes.RECIPIENT_ADD:if(!t)return;return(0,a.astToString)(s.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:l,usernameOnClick:f,otherUsername:i.default.getName(null,n,t),otherUsernameOnClick:f},!1));case u.MessageTypes.RECIPIENT_REMOVE:if(!t)return;return e.author.id===t.id?(0,a.astToString)(s.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:l,usernameOnClick:f},!1)):(0,a.astToString)(s.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:l,usernameOnClick:f,otherUsername:i.default.getName(null,n,t),otherUsernameOnClick:f},!1));case u.MessageTypes.CALL:var d=e.call;return d&&-1===d.participants.indexOf(r.default.getId())?(0,a.astToString)(s.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:l,usernameOnClick:f},!1)):void 0;case u.MessageTypes.CHANNEL_NAME_CHANGE:return(0,a.astToString)(s.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:l,usernameOnClick:f,channelName:e.content},!1));case u.MessageTypes.CHANNEL_ICON_CHANGE:return(0,a.astToString)(s.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:l,usernameOnClick:f},!1));case u.MessageTypes.CHANNEL_PINNED_MESSAGE:return(0,a.astToString)(s.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA.format({username:l,usernameOnClick:f},!1));case u.MessageTypes.USER_JOIN:var c=p(e.id);return(0,a.astToString)(c.format({username:l,usernameOnClick:f},!1));default:return e.content}},getSystemMessageUserJoin:p},e.exports=t.default},6339:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=void 0;t.fetchActivityStatistics=(r=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=l.default.lastFetched)&&Date.now()-t<d)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.default.get({url:u.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,i.default.dispatch({type:u.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this,[[3,10]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(){return o.apply(this,arguments)});var r,o,a=s(n(8)),i=s(n(1)),l=s(n(332)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=216e5},6340:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(47)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(162)),i=d(n(842)),l=d(n(840)),u=d(n(903)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){var n=null!=e.payment_source?i.default.createFromServer(e.payment_source):null,r=null!=e.sku?l.default.createFromServer(e.sku):null,o=null!=e.subscription?u.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:o,skuId:e.sku_id,skuPrice:e.sku_price,sku:r})},t.prototype.initialize=function(e){this.id=e.id,this.amount=e.amount,this.amountRefunded=e.amountRefunded,this.createdAt=e.createdAt,this.currency=e.currency,this.description=e.description,this.paymentSource=e.paymentSource,this.status=e.status,this.tax=e.tax,this.taxInclusive=e.taxInclusive,this.subscription=e.subscription,this.skuId=e.skuId,this.skuPrice=e.skuPrice,this.sku=e.sku,this.flags=e.flags},r(t,[{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&(null==this.subscription.plan||s.PREMIUM_PLANS.has(this.subscription.plan))}},{key:"isGift",get:function(){return a.hasFlag(this.flags,s.PaymentFlags.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(s.PremiumSubscriptionSKUs).includes(this.skuId)}},{key:"isPreorder",get:function(){return a.hasFlag(this.flags,s.PaymentFlags.PREORDER)}}]),t}(o.default);t.default=f,e.exports=t.default},6341:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),d=g(n(6)),f=(n(449),g(n(828))),c=g(n(6124)),p=n(882),h=g(n(6531)),y=g(n(6532)),m=g(n(6533)),v=g(n(6231)),_=g(n(13)),E=g(n(5362));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=void 0,I=Object.freeze({CARD_NUMBER:"cardNumber",EXPIRATION_DATE:"expirationDate",CVC:"cvc",NAME:"name"}),C=Object.freeze({MODAL:"modal"}),N=((o={})[I.CARD_NUMBER]={name:I.CARD_NUMBER,title:function(){return _.default.Messages.CREDIT_CARD_NUMBER},autoComplete:"cc-number",placeholder:function(){return _.default.Messages.PAYMENT_SOURCE_CARD_NUMBER},pattern:"\\d*",getClassNameForLayout:function(){return E.default.width100},renderInput:function(e,t){return s.createElement(y.default,u({},e,{inputRef:function(n){return t.setInputRef(e.name,n)},flipped:t.codeFocused,autoFocus:!0}))}},o[I.EXPIRATION_DATE]={name:I.EXPIRATION_DATE,title:function(){return _.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return _.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return E.default.width50},renderInput:function(e,t){return s.createElement(m.default,u({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},o[I.CVC]={name:I.CVC,title:function(){return _.default.Messages.CREDIT_CARD_CVC},autoComplete:"cc-csc",placeholder:function(){return _.default.Messages.CREDIT_CARD_SECURITY_CODE},pattern:"\\d*",getClassNameForLayout:function(){return E.default.width50},renderInput:function(e,t){return s.createElement(h.default,u({},e,{cardType:t.cardType,inputRef:function(n){return t.setInputRef(e.name,n)}}))}},o[I.NAME]={name:I.NAME,title:function(){return _.default.Messages.CREDIT_CARD_NAME_ON_CARD},autoComplete:"cc-name",placeholder:function(){return _.default.Messages.CREDIT_CARD_NAME},getClassNameForLayout:function(){return E.default.width100},renderInput:function(e,t){return s.createElement(f.default,u({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},o),A=((a={})[C.MODAL]=[{fields:[N[I.CARD_NUMBER]]},{fields:[N[I.EXPIRATION_DATE],N[I.CVC]]},{fields:[N[I.NAME]]}],a),O=function(e){function t(){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=o=S(this,e.call.apply(e,[this].concat(i))),o.state={codeFocused:!1,values:(n={},n[I.CARD_NUMBER]=o.props[I.CARD_NUMBER],n[I.EXPIRATION_DATE]=o.props[I.EXPIRATION_DATE],n[I.CVC]=o.props[I.CVC],n[I.NAME]=o.props[I.NAME],n),dirtyFields:{},errors:{}},o._refs={},o.setRef=function(e,t){o._refs[e]=t},o.handleFieldBlur=function(e,t){var n={errors:o.validateForm(!0)};t===I.CVC&&(n.codeFocused=!1),o.setState(n)},o.handleFieldFocus=function(e,t){t===I.CVC&&o.setState({codeFocused:!0})},o.handleFieldChange=function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t)throw new Error("You must provide a name for the field.");var i=o.state,l=i.values,s=i.dirtyFields,d=i.errors;delete d[t],o.setState({values:u({},l,(n={},n[t]=e,n)),dirtyFields:u({},s,(r={},r[t]=!0,r)),errors:d},function(){if(a){if(null==t)throw new Error("You must provide a name for the field.");var e=o.getNextFieldName(t);null!=e&&null!=o._refs[e]&&o._refs[e].focus()}})},S(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.ensureStripeIsLoaded)();case 2:T=e.sent,this.handleInfoChange();case 4:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})});return function(){return t.apply(this,arguments)}}(),t.prototype.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},t.prototype.getNextFieldName=function(e){var t=this.props.layout,n=A[t],r=(0,d.default)(n).flatMap(function(e){return e.fields}).map(function(e){return e.name}).value(),o=r.indexOf(e);return-1===o||o===r.length-1?null:r[o+1]},t.prototype.validateForm=function(e){if(null==T)return{};var t=this.state,n=t.values,r=t.dirtyFields,o={};return e&&!r[I.CARD_NUMBER]||(n[I.CARD_NUMBER]?T.card.validateCardNumber(n[I.CARD_NUMBER])||(o[I.CARD_NUMBER]=_.default.Messages.CREDIT_CARD_ERROR_NUMBER):o[I.CARD_NUMBER]=_.default.Messages.CREDIT_CARD_ERROR_REQUIRED),e&&!r[I.EXPIRATION_DATE]||T.card.validateExpiry(n[I.EXPIRATION_DATE])||(o[I.EXPIRATION_DATE]=_.default.Messages.CREDIT_CARD_ERROR_EXPIRATION),e&&!r[I.CVC]||T.card.validateCVC(n[I.CVC])||(o[I.CVC]=_.default.Messages.CREDIT_CARD_ERROR_SECURITY_CODE),e&&!r[I.NAME]||n[I.NAME]||(o[I.NAME]=_.default.Messages.PAYMENT_SOURCE_NAME_ERROR_REQUIRED),o},t.prototype.handleInfoChange=function(){var e=this.state.values,t=this.validateForm(!1);this.props.onCardInfoChange(e,0===Object.keys(t).length)},t.prototype.render=function(){var e=this.props,t=e.layout,n=e.error,r=e.className,o=this.state,a=o.errors,i=o.codeFocused,u=o.values,s=A[t];if(null==s)throw new Error("Provide a proper layout property.");var d=c.default.getCreditCardType(u[I.CARD_NUMBER]);return l(v.default,{className:r,form:s,layout:t,values:u,errors:a,formError:n,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,onFieldFocus:this.handleFieldFocus,codeFocused:i,cardType:d,setInputRef:this.setRef})},t}(s.PureComponent);O.Layouts=C,O.defaultProps=((i={})[I.CARD_NUMBER]="",i[I.EXPIRATION_DATE]="",i[I.CVC]="",i[I.NAME]="",i.layout=C.MODAL,i),O.displayName="CardInfoForm",t.default=O,e.exports=t.default},6342:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(128)),l=h(n(152)),u=h(n(6008)),s=n(829),d=h(n(6534)),f=n(0),c=h(n(13)),p=h(n(5489));function h(e){return e&&e.__esModule?e:{default:e}}var y=[{type:f.PaymentSourceTypes.CARD,text:function(){return c.default.Messages.PAYMENT_SOURCE_CREDIT_CARD},iconType:u.default.Types.UNKNOWN},{type:f.PaymentSourceTypes.PAYPAL,text:function(){return c.default.Messages.PAYMENT_SOURCE_PAYPAL},iconType:u.default.Types.PAYPAL}],m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.onChooseType,n=e.className,r=e.onPaymentSourceReceived,a=e.allowStripeRequestPayments,f=a?o(d.default,{className:p.default.button,iconClassName:p.default.buttonIcon,paymentLabel:c.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_LABEL,onSourceReceived:r,onChooseType:t}):null,h=a?p.default.vertical:p.default.horizonal,m=a?l.default.Direction.VERTICAL:l.default.Direction.HORIZONTAL,v=y.map(function(e){return o(i.default,{onClick:function(){return t(e.type)},className:p.default.button},e.type,o(l.default,{align:l.default.Align.CENTER},void 0,o(u.default,{className:p.default.buttonIcon,type:e.iconType}),e.text()))});return o(s.FormSection,{title:c.default.Messages.PAYMENT_SOURCE_TYPE_SELECT,className:n},void 0,o(l.default,{className:h,direction:m},void 0,v,f))},t}(a.PureComponent);m.displayName="ChoosePaymentSourceType",t.default=m,e.exports=t.default},6343:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=m(n(2)),i=y(n(4)),l=m(n(884)),u=y(n(895)),s=y(n(6076)),d=y(n(6008)),f=y(n(828)),c=y(n(837)),p=y(n(13)),h=y(n(5491));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){null!=this.props.paypalClient&&l.tokenizePayPal()},t.prototype.componentWillUnmount=function(){l.teardown().then(function(){return l.createPayPalClient()})},t.prototype.render=function(){var e=this.props,t=e.braintreeEmail,n=e.className,r=e.paypalClient;return o(c.default,{className:n,title:p.default.Messages.PAYMENT_SOURCE_PAYPAL_ACCOUNT},void 0,o("div",{className:h.default.inputWrapper},void 0,o(d.default,{type:d.default.Types.PAYPAL,className:h.default.paypalIcon}),o(f.default,{value:t,editable:!1,readOnly:!0,placeholder:null==r?p.default.Messages.PAYMENT_SOURCE_PAYPAL_LOADING:p.default.Messages.PAYMENT_SOURCE_CONFIRM_PAYPAL_DETAILS,inputClassName:h.default.paypalInput})))},t}(a.PureComponent);v.displayName="PaypalConnector",t.default=i.default.connectStores([u.default,s.default],function(){return{braintreeEmail:s.default.braintreeEmail,paypalClient:u.default.getPayPalClient()}})(v),e.exports=t.default},6344:function(e,t,n){"use strict";t.__esModule=!0,t.PaymentRequestStepBody=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),f(n(17))),i=(n(6232),f(n(6008))),l=f(n(828)),u=f(n(837)),s=f(n(13)),d=f(n(5493));function f(e){return e&&e.__esModule?e:{default:e}}(t.PaymentRequestStepBody=function(e){var t,n=e.className,r=e.submitting,f=(e.stripePaymentSource||{}).card,c=f?i.default.getType(f.brand):i.default.Types.UNKNOWN;return o(u.default,{className:n,title:s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE},void 0,o("div",{className:d.default.cardNumberWrapper},void 0,o(i.default,{className:(0,a.default)(d.default.cardIcon,(t={},t[d.default.submitting]=r,t)),type:c}),o(l.default,{value:r&&f?s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_CREATING.format(f):null,editable:!1,readOnly:!0,placeholder:s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_LOADING,inputClassName:d.default.cardNumberInput})))}).displayName="PaymentRequestStepBody"},6345:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(4)),o=s(n(1)),a=s(n(72)),i=s(n(28)),l=s(n(15)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={notClaimed:!1,notEmailVerified:!1,notPhoneVerified:!1,newAccount:!1,newMember:!1,canChat:!0},f={};function c(e){p(e);var t=i.default.getGuild(e),n=l.default.getCurrentUser();if(null!=t&&t.verificationLevel!==u.VerificationLevels.NONE&&!t.isOwner(n)){var r=a.default.getMember(t.id,n.id);if(!(null!=r&&r.roles.length>0)){var s=+n.createdAt+6e4*u.VerificationCriteria.ACCOUNT_AGE-Date.now(),d=+t.joinedAt+6e4*u.VerificationCriteria.MEMBER_AGE-Date.now(),c=t.verificationLevel>=u.VerificationLevels.LOW&&!n.isClaimed(),h=!1,y=!1,m=!1,v=!1;n.isPhoneVerified()||(h=t.verificationLevel>=u.VerificationLevels.LOW&&!n.verified,y=t.verificationLevel>=u.VerificationLevels.VERY_HIGH,m=t.verificationLevel>=u.VerificationLevels.MEDIUM&&s>0,v=t.verificationLevel>=u.VerificationLevels.HIGH&&d>0);var _=[];v&&_.push(d),m&&_.push(s);var E=void 0;_.length&&(E=setTimeout(function(){return o.default.dispatch({type:u.ActionTypes.GUILD_VERIFICATION_CHECK,guildId:e})},Math.max.apply(Math,_))),f[e]={notClaimed:c,notEmailVerified:h,notPhoneVerified:y,newAccount:m,newMember:v,canChat:!(c||h||y||m||v),accountDeadline:new Date(Date.now()+s),memberDeadline:new Date(Date.now()+d),timeoutRef:E}}}}function p(e){var t=f[e];null!=t&&clearTimeout(t.timeoutRef),delete f[e]}function h(e){c(e.guild.id)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default)},t.prototype.getCheck=function(e){return f[e]||d},t.prototype.canChatInGuild=function(e){return(f[e]||d).canChat},t}(r.default.Store);t.default=new y(o.default,{CONNECTION_OPEN:function(e){Object.keys(f).forEach(p),e.guilds.forEach(function(e){return c(e.id)})},CONNECTION_CLOSED:function(e){Object.keys(f).forEach(p)},CURRENT_USER_UPDATE:function(e){Object.keys(f).forEach(c)},GUILD_CREATE:h,GUILD_UPDATE:h,GUILD_DELETE:function(e){p(e.guild.id)},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId;if(e.user.id!==l.default.getCurrentUser().id)return!1;c(t)},GUILD_VERIFICATION_CHECK:function(e){c(e.guildId)}}),e.exports=t.default},6346:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(17)),l=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._interval=setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)},t.prototype.render=function(){var e=void 0;if(this.props.deadline===1/0)e="∞";else{var t=Math.max(0,this.props.deadline-Date.now())/1e3,n=[Math.floor(t/86400),Math.floor((t%=86400)/3600),Math.floor((t%=3600)/60),Math.floor(t%60)];if(0===n[0])n.shift();else if(!this.props.showDays){var r=n.shift();n[0]+=24*r}e=(0,l.default)(n).map(function(e){return e<10?"0"+e:e}).map(function(e,t){return[t>0?":":null,o("span",{className:"ui-countdown-number"},t,e)]}).flatten().value()}var a=(0,i.default)("ui-countdown",{"ui-countdown-never":this.props.deadline===1/0});return o("span",{className:a},void 0,e)},t}(a.PureComponent);s.defaultProps={showDays:!0},s.displayName="Countdown",t.default=s,e.exports=t.default},6349:function(e,t,n){"use strict";t.__esModule=!0,t.updateLocation=function(e){a.default.wait(function(){return a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_LOCATION_CHANGE,location:e})})},t.handleDirectoryUnmount=function(e,t){a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMOUNT,scrollTop:e,directoryLocation:t})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6350:function(e,t,n){"use strict";t.__esModule=!0,t.loadDirectory=t.loadLayout=void 0;var r,o;t.loadLayout=(r=c(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START,layoutId:t}),e.next=3,a.default.get(d.Endpoints.STORE_DIRECTORY_LAYOUT(t));case 3:return n=e.sent,r=u.default.createFromServer(n.body),i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS,directoryLayout:r}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),t.loadDirectory=(o=c(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.httpGetWithCountryCodeQuery)(d.Endpoints.STORE_DIRECTORY(t));case 3:n=e.sent,r=n.body,o=n.body.store_listings,i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS,directoryLayout:u.default.createFromServer(r),storeListings:o}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_FAILURE,layoutId:t}),new l.default(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return o.apply(this,arguments)});t.setHideLibraryGames=function(e){i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_SET_HIDE_LIBRARY,hidden:e})},t.updateSearchTerm=function(e){i.default.wait(function(){return i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_SET_SEARCH_QUERY,query:e})})},t.saveFilters=function(e){i.default.wait(function(){return i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_SAVE_FILTERS,filters:e})})},t.clearStoreData=function(){i.default.dispatch({type:d.ActionTypes.APPLICATION_STORE_CLEAR_DATA})};var a=f(n(8)),i=f(n(1)),l=f(n(192));n(316);var u=f(n(6077)),s=n(133),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}},6351:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=I(n(2)),l=T(n(17)),u=T(n(4)),s=I(n(307)),d=T(n(90)),f=T(n(154)),c=T(n(179)),p=T(n(152)),h=T(n(45)),y=n(325),m=T(n(6050)),v=T(n(6552)),_=n(0),E=T(n(13)),g=T(n(5562)),S=T(n(5563));function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=(0,y.cssValueToNumber)(g.default.mediaQueryMobileHeader),A=function(e){var t=c.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},O=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.analyticsPropsForTile=function(e){var t=r.props,n=t.analyticsSort,o=t.viewConfig;return{listIndex:e+t.analyticsIndexOffset,listSort:null!=n?n:null,listSearched:null!=o&&Boolean(o.titleQuery)}},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFilteredSkuIds=function(e,t){if(null==e)return t;var n=e.titleQuery,r=e.hideApplicationsInUserLibrary,o=e.genre,a=e.premiumOnly,i=t;return null!=o&&o!==_.StoreApplicationGenresFilter.ALL&&(i=i.filter(function(e){var t=A(e);return null!=t.genres&&t.genres.has(o)})),null!=n&&(i=i.filter(function(e){var t=A(e);return null!=t&&t.name.toLowerCase().includes(n.toLowerCase())})),r&&(i=i.filter(function(e){var t=A(e);return!d.default.hasApplication(t.applicationId,t.applicationId,!0)})),a&&(i=i.filter(function(e){return A(e).premium})),i},t.prototype.handleTileContextMenu=function(e,t){s.openContextMenu(e,function(e){return i.createElement(m.default,a({},e,{type:_.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},t.prototype.renderEmptyState=function(){var e=this.props.className;return o("div",{className:e},void 0,o("div",{className:S.default.emptyWumpus}),o("h1",{className:S.default.noMatches},void 0,E.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),o("div",{className:S.default.noMatchesDescription},void 0,E.default.Messages.APPLICATION_STORE_SEARCH_EMPTY.format({goToGuildDiscovery:function(){return h.default.transitionTo(_.Routes.GUILD_DISCOVERY)}})))},t.prototype.render=function(){var e=this,t=this.props,n=t.skuIds,r=t.className,u=t.viewConfig,s=t.maxTiles,d=t.onSKUViewed,f=t.tileDisplayType,c=t.tileClassName,h=t.wrap,y=this.getFilteredSkuIds(u,n);if(0===y.length||0===s)return this.renderEmptyState();var m=null!=s?y.slice(0,s):y;return o("div",{className:r},void 0,o(p.default,{wrap:h?p.default.Wrap.WRAP:p.default.Wrap.NO_WRAP},void 0,m.map(function(t,n){var r=e.analyticsPropsForTile(n);return i.createElement(v.default,a({key:t,skuId:t},r,{type:f,className:(0,l.default)(S.default.tile,c),onSKUViewed:d,onContextMenu:e.handleTileContextMenu}))})))},t}(i.Component);O.defaultProps={analyticsIndexOffset:0,tileDisplayType:_.StoreDirectoryTileTypes.BOX_ART,wrap:!0},O.displayName="ApplicationDirectoryTileLayout",t.default=u.default.connectStores([f.default],function(){return{isSmallResolution:f.default.windowSize().width<N}})(O),e.exports=t.default},6352:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return(0,l.default)(function(t){function n(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return a=m(this,t.call.apply(t,[this].concat(u))),e=a,a.handleApplicationContextMenu=function(e,t,n){var l=a.props.analyticsContext;(0,i.openContextMenu)(e,function(e){return o.createElement(d.default,r({},e,{type:h.ContextMenuTypes.APPLICATION_ACTIVITY_FEED,applicationId:t.id,analyticsContext:l}))},{onClose:n})},m(a,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.render=function(){return o.createElement(e,r({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onApplicationContextMenu:this.handleApplicationContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))},n.prototype.handleMessageUser=function(e,t){return a.default.openPrivateChannel(u.default.getId(),t.id)},n.prototype.handleUserContextMenu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.ContextMenuTypes.USER_GENERIC_LIST,a=arguments[3];(0,i.openContextMenu)(e,function(e){return o.createElement(p.default,r({},e,{type:n,user:t}))},{onClose:a})},n.prototype.handleGuildContextMenu=function(e,t){(0,i.openContextMenu)(e,function(e){return o.createElement(c.default,r({},e,{type:h.ContextMenuTypes.GUILD_ACTIVITY_FEED,guild:t}))})},n.prototype.handleChannelContextMenu=function(e,t){if(null==t)return null;var n=s.default.getGuild(t.getGuildId());(0,i.openContextMenu)(e,function(e){return o.createElement(f.default,r({},e,{type:h.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE,channel:t,guild:n}))})},n}(o.Component))};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=y(n(446)),i=n(307),l=y(n(5980)),u=y(n(12)),s=y(n(28)),d=y(n(6050)),f=y(n(6080)),c=y(n(6151)),p=y(n(5352)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6353:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(6)),a=p(n(4)),i=p(n(1)),l=n(6354),u=p(l),s=n(131),d=p(n(72)),f=p(n(28)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=[c.Permissions.KICK_MEMBERS,c.Permissions.BAN_MEMBERS,c.Permissions.ADMINISTRATOR,c.Permissions.MANAGE_CHANNELS,c.Permissions.MANAGE_GUILD,c.Permissions.MANAGE_NICKNAMES,c.Permissions.MANAGE_ROLES,c.Permissions.MANAGE_WEBHOOKS,c.Permissions.MANAGE_EMOJIS,c.Permissions.MUTE_MEMBERS,c.Permissions.DEAFEN_MEMBERS],y=null,m=[],v=[],_=[],E=!0,g=!1,S=!1,T=!0,I=!1,C=null,N=c.AuditLogActions.ALL,A={},O=0;function b(e){var t=[],n=0;return e.reverse().forEach(function(e){var r=[],o=null,a=null;if(null!=e.reason&&r.push(new l.AuditLogChange(c.AuditLogChangeKeys.REASON,null,e.reason)),e.changes&&e.changes.forEach(function(e){var t=new l.AuditLogChange(e.key,e.old_value,e.new_value);r.push(t),t.key===c.AuditLogChangeKeys.NAME?o=t:t.key===c.AuditLogChangeKeys.TYPE&&(a=t)}),e.action_type===c.AuditLogActions.MEMBER_PRUNE){var i=null!=e&&null!=e.options&&null!=e.options.delete_member_days?e.options.delete_member_days:1,d=new l.AuditLogChange(c.AuditLogChangeKeys.PRUNE_DELETE_DAYS,null,i);r.push(d)}var f=new u.default({id:e.id,action:e.action_type,targetId:e.target_id,userId:e.user_id,changes:r,options:e.options,guildId:y}),p=t[0];if(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return null!=e&&e.action===t.action&&e.targetId===t.targetId&&e.userId===t.userId&&t.timestampStart.diff(e.timestampStart,"minutes")<r&&n<o&&t.targetType!==c.AuditLogTargetTypes.INVITE&&t.action!==c.AuditLogActions.MESSAGE_DELETE}(p,f,n))return t[0]=p.merge({changes:[].concat(p.changes,f.changes),timestampEnd:f.timestampStart}),void n++;if(f.actionType===c.AuditLogActionTypes.DELETE&&null!=o){var h,m=o.oldValue;if(f.targetType===c.AuditLogTargetTypes.CHANNEL&&null!==a&&(0,s.isGuildSelectableChannelType)(a.oldValue)&&(m="#"+m),null==A[f.targetType])A[f.targetType]=((h={})[f.targetId]=m,h);else A[f.targetType][f.targetId]=m}n=0,t.unshift(f)}),t}function M(e){if(e.section!==c.GuildSettingsSections.AUDIT_LOG)return!1;var t=d.default.getMembers(y),n=f.default.getGuild(y);v=(0,o.default)(t).filter(function(e){return e.roles.some(function(t){if(null!=n){if(e.userId===n.ownerId)return!0;var r=n.roles[t];return null!=r&&h.some(function(e){return e&r.permissions})}})}).map(function(e){return e.userId}).value()}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"logs",get:function(){return m}},{key:"webhooks",get:function(){return _}},{key:"isInitialLoading",get:function(){return E}},{key:"isLoading",get:function(){return g}},{key:"isLoadingNextPage",get:function(){return S}},{key:"hasOlderLogs",get:function(){return T}},{key:"hasError",get:function(){return I}},{key:"userIds",get:function(){return v}},{key:"userIdFilter",get:function(){return C}},{key:"actionFilter",get:function(){return N}},{key:"deletedTargets",get:function(){return A}},{key:"groupedFetchCount",get:function(){return O}}]),t}(a.default.Store);t.default=new R(i.default,{AUDIT_LOG_FETCH_START:function(e){g=!0},AUDIT_LOG_FETCH_SUCCESS:function(e){var t=e.logs,n=e.webhooks;O=0,E=!1,g=!1,T=!0,I=!1,m=b(t),_=n,t.length<c.AUDIT_LOG_PAGE_LIMIT&&(T=!1)},AUDIT_LOG_FETCH_FAIL:function(e){return g=!1,I=!0,void(m=[])},AUDIT_LOG_FETCH_NEXT_PAGE_START:function(e){var t=e.isGroupedFetch;S=!0,t&&O++},AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS:function(e){var t=e.logs,n=e.webhooks;if(S=!1,_=n,(0===t.length||t.length<c.AUDIT_LOG_PAGE_LIMIT)&&(T=!1),t.length>0){var r=b(t);m=[].concat(m,r)}},AUDIT_LOG_FETCH_NEXT_PAGE_FAIL:function(e){S=!1},AUDIT_LOG_FILTER_BY_ACTION:function(e){var t=e.action;N=t},AUDIT_LOG_FILTER_BY_USER:function(e){var t=e.userId;C=t},GUILD_SETTINGS_SET_SECTION:M,GUILD_SETTINGS_INIT:function(e){var t=e.guildId,n=e.section;return y=t,M({section:n})},GUILD_SETTINGS_CLOSE:function(e){return m=[],v=[],N=c.AuditLogActions.ALL,C=null,A={},O=0,E=!0,void(_=[])}}),e.exports=t.default},6354:function(e,t,n){"use strict";t.__esModule=!0,t.AuditLogChange=void 0,t.getTargetType=s,t.getActionType=d;var r=l(n(5)),o=l(n(47)),a=l(n(115)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){if(e===i.AuditLogActions.ALL)return i.AuditLogTargetTypes.ALL;if(e<=i.AuditLogActions.GUILD_UPDATE)return i.AuditLogTargetTypes.GUILD;if(e<=i.AuditLogActions.CHANNEL_OVERWRITE_DELETE)return i.AuditLogTargetTypes.CHANNEL;if(e<=i.AuditLogActions.MEMBER_ROLE_UPDATE||e===i.AuditLogActions.MESSAGE_DELETE)return i.AuditLogTargetTypes.USER;if(e<=i.AuditLogActions.ROLE_DELETE)return i.AuditLogTargetTypes.ROLE;if(e<=i.AuditLogActions.INVITE_DELETE)return i.AuditLogTargetTypes.INVITE;if(e<=i.AuditLogActions.WEBHOOK_DELETE)return i.AuditLogTargetTypes.WEBHOOK;if(e<=i.AuditLogActions.EMOJI_DELETE)return i.AuditLogTargetTypes.EMOJI;throw new Error("[AuditLogRecord] Unknown target type for: "+e)}function d(e){switch(e){case i.AuditLogActions.CHANNEL_CREATE:case i.AuditLogActions.CHANNEL_OVERWRITE_CREATE:case i.AuditLogActions.MEMBER_BAN_REMOVE:case i.AuditLogActions.ROLE_CREATE:case i.AuditLogActions.INVITE_CREATE:case i.AuditLogActions.WEBHOOK_CREATE:case i.AuditLogActions.EMOJI_CREATE:return i.AuditLogActionTypes.CREATE;case i.AuditLogActions.CHANNEL_DELETE:case i.AuditLogActions.CHANNEL_OVERWRITE_DELETE:case i.AuditLogActions.MEMBER_KICK:case i.AuditLogActions.MEMBER_PRUNE:case i.AuditLogActions.MEMBER_BAN_ADD:case i.AuditLogActions.ROLE_DELETE:case i.AuditLogActions.INVITE_DELETE:case i.AuditLogActions.WEBHOOK_DELETE:case i.AuditLogActions.EMOJI_DELETE:case i.AuditLogActions.MESSAGE_DELETE:return i.AuditLogActionTypes.DELETE;case i.AuditLogActions.GUILD_UPDATE:case i.AuditLogActions.CHANNEL_UPDATE:case i.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:case i.AuditLogActions.MEMBER_UPDATE:case i.AuditLogActions.MEMBER_ROLE_UPDATE:case i.AuditLogActions.ROLE_UPDATE:case i.AuditLogActions.INVITE_UPDATE:case i.AuditLogActions.WEBHOOK_UPDATE:case i.AuditLogActions.EMOJI_UPDATE:return i.AuditLogActionTypes.UPDATE}return i.AuditLogActionTypes.ALL}t.AuditLogChange=function e(t,n,r){u(this,e),this.key=t,this.oldValue=n,this.newValue=r};var f=function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.id=e.id,this.action=e.action,this.actionType=d(this.action),this.targetId=e.targetId,this.timestampStart=e.timestampStart||(0,r.default)(a.default.extractTimestamp(this.id)),this.timestampEnd=e.timestampEnd||this.timestampStart,this.userId=e.userId,this.changes=e.changes||[],this.targetType=s(this.action),this.options=e.options||{},this.target=e.target||e.id,this.user=e.user||null},t}(o.default);t.default=f},6357:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(17))),i=s(n(221)),l=s(n(6003)),u=s(n(5500));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.onMouseLeave,n=e.onMouseEnter,r=e.onClick,s=e.children,d=e.disabled,f=void 0!==d&&d;return o(i.default,{onClick:f?null:r,onMouseEnter:n,onMouseLeave:t,className:(0,a.default)(u.default.wrapper,f?u.default.disabled:u.default.enabled)},void 0,o(l.default,{className:u.default.text,color:f?l.default.Colors.MUTED:l.default.Colors.STANDARD},void 0,s))};d.displayName="OverlayButton",t.default=d,e.exports=t.default},6358:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(17))),i=s(n(221)),l=s(n(306)),u=s(n(5858));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.className,n=e.imgSrc,r=e.header,s=e.body,d=e.onClose,f=e.renderButtons;return o("article",{className:(0,a.default)(u.default.wrapper,t)},void 0,null!=n?o("img",{className:u.default.image,alt:"",src:n}):null,null!=r?o("header",{className:u.default.header},void 0,r):null,null!=s?o("p",{className:u.default.body},void 0,s):null,null!=f?o("div",{className:u.default.buttons},void 0,f()):null,null!=d?o(i.default,{className:u.default.close,onClick:d},void 0,o(l.default,{name:l.default.Names.CLOSE,width:18,height:18})):null)};d.displayName="BaseCard",t.default=d,e.exports=t.default},6359:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=I(n(6150)),l=I(n(80)),u=n(131),s=I(n(28)),d=I(n(153)),f=I(n(6385)),c=I(n(221)),p=I(n(306)),h=I(n(442)),y=n(6575),m=n(229),v=n(6042),_=I(v),E=I(n(6019)),g=n(0),S=I(n(13)),T=I(n(5366));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={hovered:!1},r.handleInviteClick=function(){var e=r.props.channel,t=s.default.getGuild(e.getGuildId());l.default.push(E.default,{guild:t,channel:e,source:g.InstantInviteSources.GUILD_CHANNELS})},r.handleEditClick=function(){i.default.open(r.props.channel.id)},r.handleMouseEnter=function(){r.setState({hovered:!0})},r.handleMouseLeave=function(){r.setState({hovered:!1})},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderEditButton=function(){var e=this.props,t=e.channel,n=e.selected,r=e.hideEditButton,a=this.state.hovered;return r?null:(n||a)&&(d.default.can(g.Permissions.MANAGE_CHANNELS,t)||d.default.can(g.Permissions.MANAGE_ROLES,t)||d.default.can(g.Permissions.MANAGE_WEBHOOKS,t))?(0,u.isGuildSelectableChannelType)(t.type)&&!d.default.can(g.Permissions.VIEW_CHANNEL,t)||t.type===g.ChannelTypes.GUILD_VOICE&&!d.default.can(g.Permissions.CONNECT,t)?null:o(h.default,{text:S.default.Messages.EDIT_CHANNEL},void 0,o(c.default,{className:T.default.iconSpacing,onClick:this.handleEditClick},void 0,o(p.default,{name:p.default.Names.GEAR,className:T.default.actionIcon}))):null},t.prototype.renderInviteButton=function(){var e=this.props,t=e.channel,n=e.isDefaultChannel,r=e.selected,a=e.locked,i=this.state.hovered,l=s.default.getGuild(t.getGuildId());if(!a&&(0,m.canViewInviteModal)(l,t)&&(i||r)){var u=o(c.default,{onClick:this.handleInviteClick,className:T.default.actionIcon},void 0,o(p.default,{name:p.default.Names.INVITE}));return n&&f.default.shouldShow("instant-invite")&&(u=o(_.default,{tutorialId:"instant-invite",position:v.TutorialIndicatorPositions.LEFT,offsetX:-40,offsetY:-18},void 0,o("div",{},void 0,u))),o(h.default,{text:d.default.can(g.Permissions.CREATE_INSTANT_INVITE,t)?S.default.Messages.CREATE_INSTANT_INVITE:S.default.Messages.INVITE_TO_SERVER},void 0,o("div",{className:T.default.iconSpacing},void 0,u))}},t.prototype.getClassName=function(){var e=this.props,t=e.position,n=e.sortingPosition;return null!=n?t>n?T.default.containerDragAfter:T.default.containerDragBefore:T.default.containerDefault},t.prototype.isDisabled=function(){var e=this.props,t=e.channel,n=e.sorting,r=e.sortingType;return n&&!(0,y.areTypesInSameSection)(r,t.type)},t}(a.PureComponent);N.defaultProps={isDefaultChannel:!1},t.default=N,e.exports=t.default},6360:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(310)),u=n(0),s=d(n(5650));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r.handleMouseEnter=function(){r.animate(!0)},r.handleMouseLeave=function(){r.animate(r.props.active)},r.animate=function(e){var t=r.state,n=t.borderRadius,o=t.backgroundColor,a=e?0:1;l.default.parallel([l.default.timing(o,{toValue:a,duration:200}),l.default.spring(n,{toValue:a,friction:3})]).start()};var o=n.active?0:1;return r.state={backgroundColor:new l.default.Value(o),borderRadius:new l.default.Value(o)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.animate(t)},t.prototype.getAnimatedStyle=function(){var e=this.state,t=e.borderRadius,n=e.backgroundColor,r={};return r.borderRadius=t.interpolate({inputRange:[0,1],outputRange:[15,25]}),this.props.animateBackgroundColor&&(r.backgroundColor=n.interpolate({inputRange:[0,1],outputRange:[u.Colors.BRAND,u.Colors.PRIMARY_DARK_630]})),r},t.prototype.render=function(){var e=this.props,t=e.onContextMenu,n=e.onMouseDown,r=e.children,a=e.className;return o(l.default.div,{className:(0,i.default)(s.default.wrapper,a),style:this.getAnimatedStyle(),onMouseDown:n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:t},void 0,r)},t}(a.Component);f.defaultProps={animateBackgroundColor:!1},f.displayName="NavigationBlock",t.default=f,e.exports=t.default},6361:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6362:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6363:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6364:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(2)),l=y(n(4)),u=m(n(6147)),s=(n(449),y(n(842)),y(n(6076))),d=y(n(236)),f=n(6025),c=n(6581),p=y(c),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=[f.Steps.REVIEW,f.Steps.CONFIRM],_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));E.call(r);var o=n.defaultPaymentSourceId,a=n.paymentSources,i=n.initialStep,l=Object.values(a).length>0,u=i;return null==u&&(u=l?f.Steps.REVIEW:f.Steps.PAYMENT_TYPE),r.state={paymentSourceId:o,steps:l?c.REVIEW_PAYMENT_STEPS:c.ADD_PAYMENT_STEPS,step:u,errorStep:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props.onStepChange,r=this.state.step;r!==t.step&&(this._hasChangedSteps=!0,null!=n&&n(t.step,r))},t.getDerivedStateFromProps=function(e,t){var n=e.billingError,r=t.errorStep,o={};if(null==n)null!=r&&(o.errorStep=null);else{var a=(0,f.errorToStep)(n);null!=a&&a!==t.errorStep&&(o.step=a,o.errorStep=a)}return null==t.paymentSourceId&&null!=e.defaultPaymentSourceId&&(o.paymentSourceId=e.defaultPaymentSourceId),o},t.prototype.render=function(){var e,t=this,n=this.props,r=n.isPurchasing,a=n.canSubmit,i=n.submitButtonText,l=n.useShinySubmitButton,u=n.legalNotice,s=n.renderHeader,d=n.onPaymentSourceChange,c=n.price,h=n.onClearError,y=n.size,m=n.renderConfirmationBody,v=n.renderConfirmationFooter,_=n.className,E=n.isGift,g=n.isGiftable,S=n.needsToBeGift,T=n.onIsGiftUpdate,I=((e={})[f.Steps.CONFIRM]={renderBody:m,renderFooter:v},e[f.Steps.SELECT_PLAN]={renderBody:function(){return t.props.renderSelectPlanBody(t.handleSelectPlan)},renderFooter:function(){return t.props.renderSelectPlanFooter()}},e),C=this.state,N=C.step,A=C.paymentSourceId,O=this.stepsToRender;return o(p.default,{className:_,isPurchasing:r,canSubmit:a,submitButtonText:i,useShinySubmitButton:l,legalNotice:u,renderHeader:s,onPaymentSourceChange:d,price:c,onClearError:h,size:y,extraRenderers:I,step:N,steps:O,paymentSourceId:A,isGiftable:g,isGift:E,needsToBeGift:S,onIsGiftUpdate:T,onBack:this.handleBack,onChoosePaymentType:this.handleChoosePaymentType,onCreditCardContinue:this.handleCreditCardContinue,onPaymentSourceAdd:this.handlePaymentSourceAdd,onPurchase:this.handlePurchase,onPaypalContinue:this.handlePaypalContinue,onReviewPaymentSourceChange:this.handleReviewPaymentSourceChange})},a(t,[{key:"stepsToRender",get:function(){var e=this.props.prependSteps,t=this.state.steps;return null!=e?[].concat(e,t):t}},{key:"closable",get:function(){var e=this.state.step;return 0===(0,f.getStepIndex)(e,this.stepsToRender)||!this._hasChangedSteps}}]),t}(i.Component);_.defaultProps={useShinySubmitButton:!1,needsToBeGift:!1,isGiftable:!1,isGift:!1,renderConfirmationBody:h.NOOP_NULL,renderConfirmationFooter:h.NOOP_NULL,renderSelectPlanBody:h.NOOP_NULL,renderSelectPlanFooter:h.NOOP_NULL};var E=function(){var e,t=this;this._hasChangedSteps=!1,this.handlePaypalContinue=function(){t.setState({step:f.Steps.PAYPAL_ADDRESS})},this.handleCreditCardContinue=function(){t.setState({step:f.Steps.ADDRESS})},this.handleReviewPaymentSourceChange=function(e,n){if(n){t.setState({step:f.Steps.PAYMENT_TYPE,steps:c.ADD_PAYMENT_STEPS,paymentSourceId:null});var r=t.props.onClearError;r&&r()}else t.setState({paymentSourceId:e.value})},this.handleBack=function(){var e=t.props,n=e.paymentSources,r=e.onClose,o=t.state,a=o.step,i=o.steps,l=t.stepsToRender,s=(0,f.getStepIndex)(a,l);if(s>0){var d=l[s-1],p=d===f.Steps.PAYMENT_TYPE;p&&u.clearError(),t.setState({step:d,steps:p?c.ADD_PAYMENT_STEPS:i})}else if((0,f.canGoBack)(s,n)){var h=t.props.defaultPaymentSourceId;t.setState({step:f.Steps.REVIEW,steps:c.REVIEW_PAYMENT_STEPS,paymentSourceId:h})}else r()},this.handleChoosePaymentType=function(e){switch(e){case h.PaymentSourceTypes.PAYPAL:t.setState({step:f.Steps.PAYPAL,steps:c.ADD_PAYPAL_STEPS});break;case h.PaymentSourceTypes.CARD:t.setState({step:f.Steps.CREDIT_CARD_INFORMATION,steps:c.ADD_CARD_STEPS});break;case h.PaymentSourceTypes.PAYMENT_REQUEST:t.setState({step:f.Steps.PAYMENT_REQUEST_INFO,steps:c.ADD_PAYMENT_REQUEST_STEPS})}},this.handlePaymentSourceAdd=function(e){t.setState({step:f.Steps.REVIEW,paymentSourceId:e})},this.handlePurchase=(e=regeneratorRuntime.mark(function e(){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.paymentSources,o=n.onPurchase,a=n.isGift,null!=(i=t.state.paymentSourceId)&&null!=r[i]){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,o(r[i],a);case 7:t.setState({steps:v,step:f.Steps.CONFIRM}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}},e,t,[[4,10]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}),this.handleSelectPlan=function(){var e=t.props.paymentSources,n=Object.values(e).length>0;t.setState({step:n?f.Steps.REVIEW:f.Steps.PAYMENT_TYPE})}};_.displayName="PaymentModal",t.default=l.default.connectStores([d.default,s.default],function(){return{paymentSources:d.default.paymentSources,defaultPaymentSourceId:d.default.defaultPaymentSourceId,billingError:s.default.error}})(_),e.exports=t.default},6365:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(4)),u=n(81),s=S(n(6392)),d=S(n(312)),f=S(n(6233)),c=S(n(152)),p=S(n(5988)),h=n(829),y=n(5989),m=n(334),v=S(n(45)),_=n(0),E=S(n(13)),g=S(n(5376));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=1500,C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={copyMode:f.default.Modes.DEFAULT},r._copyModeTimeout=new u.Timeout,r.handleGiftCodeCopy=function(e,t){var n=r.props.sku;null!=n&&(0,m.trackGiftCodeCopy)(new s.default({code:t,maxUses:1}),n);try{(0,y.copy)(e),r.setState({copyMode:f.default.Modes.SUCCESS})}catch(e){r.setState({copyMode:f.default.Modes.ERROR})}r._copyModeTimeout.start(I,function(){r.setState({copyMode:f.default.Modes.DEFAULT})})},r.handleInventoryClick=function(){v.default.transitionTo(_.Routes.APPLICATION_LIBRARY_INVENTORY),r.props.onClose()},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this._copyModeTimeout.stop()},t.prototype.render=function(){var e=this,t=this.props,n=t.obscureGiftCode,r=t.giftCode,a=t.application,i=this.state.copyMode,l=void 0;switch(i){case f.default.Modes.SUCCESS:l=E.default.Messages.BILLING_GIFT_COPIED;break;case f.default.Modes.ERROR:l=E.default.Messages.FAILED;break;default:l=E.default.Messages.COPY}return o(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.CENTER},void 0,o(p.default,{game:a,className:g.default.icon,size:p.default.Sizes.LARGE,skuId:this.iconSKUId}),o("div",{className:g.default.header},void 0,E.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_CONFIRMATION_TITLE),o("div",{className:g.default.blurb},void 0,this.headerBlurb),o("div",{className:g.default.divider}),o(c.default,{direction:c.default.Direction.VERTICAL},void 0,o(h.FormTitle,{},void 0,E.default.Messages.BILLING_GIFT_LINK),o(f.default,{hideMessage:n?E.default.Messages.GIFT_INVENTORY_HIDDEN:null,value:(0,m.getGiftCodeURL)(r),mode:i,text:l,onCopy:function(t){return e.handleGiftCodeCopy(t,r)},supportsCopy:y.SUPPORTS_COPY,className:g.default.copyInput,buttonColor:f.default.ButtonColors.BRAND,buttonLook:f.default.ButtonLooks.FILLED}),o("div",{className:g.default.subtext},void 0,E.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_SUBTEXT.format({onInventoryClick:this.handleInventoryClick}))))},a(t,[{key:"iconSKUId",get:function(){var e=this.props,t=e.subscriptionPlan,n=e.sku;return null!=t?t.skuId:null!=n?n.id:null}},{key:"headerBlurb",get:function(){var e=this.props.subscriptionPlan,t=E.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_BLURB;null!=e&&(t=(e.interval===_.SubscriptionIntervalTypes.MONTH?E.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_MONTHLY:E.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_YEARLY).format({skuName:e.skuId===_.PremiumSubscriptionSKUs.TIER_1?E.default.Messages.PREMIUM_TIER_1:E.default.Messages.PREMIUM_TIER_2,intervalCount:e.intervalCount}));return t}}]),t}(i.Component);C.displayName="GiftPurchaseConfirmation",t.default=l.default.connectStores([d.default],function(){return{obscureGiftCode:d.default.enabled}})(C),e.exports=t.default},6366:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(4)),a=u(n(1)),i=n(449),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=l.PremiumPaymentSubscriptionModes.NEW,d=null,f=l.FormStates.CLOSED,c=null,p=null,h=null,y=null,m=!1,v=!1,_=null,E=null,g=null,S=null,T=null,I=void 0,C=void 0;function N(){f=l.FormStates.CLOSED,c=null,d=null,g=null,y=null,_=null,h=null,T=null,S=null}function A(){null==I||null==d&&null==g?null!=C&&C(null!=c?c.message:null):I(),I=null,C=null,N()}function O(e){var t=e.error;c=t,f!==l.FormStates.CLOSED&&(f=l.FormStates.OPEN)}function b(){c=null}var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){var e=__OVERLAY__?l.AppContext.OVERLAY:l.AppContext.APP;return T===e&&f===l.FormStates.OPEN},r(t,[{key:"subscriptionMode",get:function(){return s}},{key:"paymentError",get:function(){return c}},{key:"plan",get:function(){return p}},{key:"planId",get:function(){return h}},{key:"trialId",get:function(){return y}},{key:"formState",get:function(){return f}},{key:"isGift",get:function(){return m}},{key:"isGiftingFromChat",get:function(){return v}},{key:"skuId",get:function(){return E}},{key:"giftCode",get:function(){return g}},{key:"followupSKUInfo",get:function(){return _}},{key:"analyticsLocation",get:function(){return S}}]),t}(o.default.Store);t.default=new M(a.default,{PREMIUM_PAYMENT_MODAL_OPEN:function(e){var t=e.mode,n=e.skuId,r=e.plan,o=e.trialId,a=e.isGift,i=e.isGiftingFromChat,u=e.analyticsLocation,d=e.context,c=e.resolve,g=e.reject,A=e.followupSKUInfo;null!=C&&C(),N(),f=l.FormStates.OPEN,s=t,E=null!=n?n:l.SubscriptionPlanInfo[r].skuId,h=null!=(p=r)?l.SubscriptionPlanInfo[p].id:null,y=o,m=a,v=i,S=u,T=d,_=A,I=c,C=g},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return A()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:O,PREMIUM_PAYMENT_UPDATE_FAIL:O,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){b(),d=e.subscription},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return b()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return b()},PREMIUM_PAYMENT_UPDATE_IS_GIFT:function(e){m=e.isGift},PREMIUM_PAYMENT_SELECT_PLAN:function(e){h=e.subscriptionPlanId,p=Object.keys(l.SubscriptionPlanInfo).find(function(e){return l.SubscriptionPlanInfo[e].id===h})},STRIPE_TOKEN_FAILURE:function(e){return function(){if(f===l.FormStates.CLOSED)return!1;f=l.FormStates.OPEN}()},BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED:function(e){s!==l.PremiumPaymentSubscriptionModes.NEW&&A()},BRAINTREE_TOKENIZE_PAYPAL_FAIL:function(e){var t=e.message,n=e.code;c=new i.BillingError(t,n)},SUBSCRIPTION_PLANS_FETCH_SUCCESS:function(e){e.skuId===E&&null==h&&(h=e.subscriptionPlans[0].id)},SKU_PURCHASE_SUCCESS:function(e){e.skuId===E&&f===l.FormStates.OPEN&&(g=e.giftCode)},SKU_PURCHASE_FAIL:function(e){e.skuId===E&&f===l.FormStates.OPEN&&(c=e.error)}}),e.exports=t.default},6367:function(e,t,n){"use strict";t.__esModule=!0,t.ShakeScenes=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=c(n(17)),s=c(n(310)),d=c(n(6587)),f=c(n(5504));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=Object.freeze({NORMAL:"normal",SPEED_START:"speed_start",SPEED_LOOP:"speed_loop",FINISH:"finish",IDLE:"idle"}),v=Object.freeze(((o={})[m.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},o[m.SPEED_START]={BEG:601,END:636},o[m.SPEED_LOOP]={BEG:637,END:668},o[m.FINISH]={BEG:669,END:870},o[m.IDLE]={BEG:871,END:878},o)),_=t.PremiumPaymentAnimationTier1=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}},t.prototype.importData=function(){return n.e(227).then(n.t.bind(null,7165,7)).then(function(e){return e.default})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onScenePlay,o=e.onSceneComplete;return i(d.default,{className:t,importData:this.importData,scene:n,sceneSegments:v,onScenePlay:r,onSceneComplete:o})},t}(l.PureComponent);_.Scenes=m,_.displayName="PremiumPaymentAnimationTier1";var E=Object.freeze({IDLE_ENTRY:"idle_entry",IDLE_LOOP:"idle_loop",BOOST_START:"boost_start",BOOST_LOOP:"boost_loop",BOOST_END:"boost_end",VICTORY:"victory",ERROR:"error"}),g=Object.freeze(((a={})[E.IDLE_ENTRY]={BEG:0,END:50},a[E.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},a[E.BOOST_START]={BEG:230,END:275},a[E.BOOST_LOOP]={BEG:275,END:290},a[E.BOOST_END]={BEG:386,END:455},a[E.VICTORY]={BEG:470,END:525},a[E.ERROR]={BEG:290,END:375},a)),S=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}},t.prototype.render=function(){var e=this.props.className;return i("div",{className:f.default.panningAnimation},void 0,i(s.default.div,{className:e,style:this.getStyle(!1)}),i(s.default.div,{className:e,style:this.getStyle(!0)}))},t}(l.PureComponent);S.displayName="PanningAnimation";var T=Object.freeze({IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:s.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),I=1.2,C=t.PremiumPaymentAnimationTier2=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.backgroundAnimation=new s.default.ValueXY({x:0,y:0}),r.foregroundAnimation=new s.default.ValueXY({x:0,y:0}),r.didUnmount=!1,r.animateIdleLoopBackground=function(){r.didUnmount||(r.backgroundAnimation.x.setValue(0),s.default.timing(r.backgroundAnimation.x,{toValue:T.IDLE_LOOP.toValue,duration:T.IDLE_LOOP.duration*I,easing:s.default.Easing.linear}).start(r.animateIdleLoopBackground))},r.animateIdleLoopForeground=function(){r.didUnmount||(r.foregroundAnimation.x.setValue(0),s.default.timing(r.foregroundAnimation.x,{toValue:T.IDLE_LOOP.toValue,duration:T.IDLE_LOOP.duration,easing:T.IDLE_LOOP.easing}).start(r.animateIdleLoopForeground))},r.handleScenePlay=function(e){switch(e){case E.IDLE_ENTRY:r.animateIdleEntry(),r.animateIdleLoop();break;case E.ERROR:r.animateError();break;case E.BOOST_START:r.animateBoostStart()}var t=r.props.onScenePlay;null!=t&&t(e)},h(r,n)}return y(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}},t.prototype.componentWillUnmount=function(){this.didUnmount=!0},t.prototype.importData=function(){return n.e(228).then(n.t.bind(null,7166,7)).then(function(e){return e.default})},t.prototype.animateEntry=function(e){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0}),s.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*I,delay:e.delay||0})]).start()},t.prototype.animateIdleEntry=function(){this.animateEntry(T.IDLE_ENTRY)},t.prototype.animateError=function(){this.animateEntry(T.ERROR)},t.prototype.animateIdleLoop=function(){this.animateIdleLoopBackground(),this.animateIdleLoopForeground()},t.prototype.animateBoostStart=function(){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:T.BOOST_START.toValue,duration:T.BOOST_START.duration,delay:T.BOOST_START.delay}),s.default.timing(this.backgroundAnimation.y,{toValue:T.BOOST_START.toValue,duration:T.BOOST_START.duration*I,delay:T.BOOST_START.delay})]).start()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onSceneComplete;return i("div",{className:(0,u.default)(f.default.tier2Animation,t)},void 0,i(S,{className:f.default.tier2Background,animation:this.backgroundAnimation}),i(S,{className:f.default.tier2Foreground,animation:this.foregroundAnimation}),i(d.default,{importData:this.importData,scene:n,sceneSegments:g,onScenePlay:this.handleScenePlay,onSceneComplete:r}))},t}(l.PureComponent);C.Scenes=E,C.displayName="PremiumPaymentAnimationTier2";t.ShakeScenes=new Set([_.Scenes.SPEED_LOOP,_.Scenes.SPEED_START,C.Scenes.BOOST_LOOP,C.Scenes.BOOST_START])},6368:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(6),i=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=l(this,e.call.apply(e,[this].concat(u))),r.ref=o.createRef(),r.shouldRenderFrame=!0,r.animate=function(){var e=r.props,t=e.intensity;if(e.isShaking){var n=r.ref.current;if(r.shouldRenderFrame&&null!=n){var o=i.default.random(-t,t,!0),a=i.default.random(-t,t,!0);n.style.transform="translate3d("+o+"px,"+a+"px,0px)"}r.shouldRenderFrame=!r.shouldRenderFrame,r.animationFrame=requestAnimationFrame(r.animate)}},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.isShaking&&this.startShaking()},t.prototype.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)},t.prototype.setShaking=function(e){e?this.startShaking():this.stopShaking()},t.prototype.startShaking=function(){this.shouldRenderFrame=!0,this.animationFrame=requestAnimationFrame(this.animate)},t.prototype.stopShaking=function(){cancelAnimationFrame(this.animationFrame);var e=this.ref.current;null!=e&&(e.style.transform="")},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return o.createElement("div",{className:t,ref:this.ref},n)},t}(o.Component);u.defaultProps={isShaking:!0,intensity:5},u.displayName="Shaker",t.default=u,e.exports=t.default},6369:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=f;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=d(n(128)),i=d(n(6588)),l=n(0),u=d(n(13)),s=d(n(5506));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.premiumType,n=e.theme,r=e.followupSKU,d=e.onClose,f=e.onViewGames,c=e.isUpgrade,p=void 0!==c&&c,h=null==r&&t===l.PremiumTypes.TIER_2?f:d;return o("div",{className:s.default.container},void 0,o(i.default,{className:s.default.upgradedBanner,theme:n,premiumType:t,type:p?i.default.Types.UPGRADE:i.default.Types.ACTIVATED}),o("div",{className:s.default.message},void 0,function(e,t,n){return null!=n?u.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_IAP.format({skuName:n.name}):t?e===l.PremiumTypes.TIER_1?u.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_1:u.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2:e===l.PremiumTypes.TIER_1?u.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_REGULAR:u.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_WITH_APPLICATIONS}(t,p,r)),o(a.default,{onClick:h},void 0,function(e,t,n){return null!=n?u.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_IAP.format({skuName:n.name}):t?e===l.PremiumTypes.TIER_1?u.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_1:u.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_2:e===l.PremiumTypes.TIER_1?u.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_REGULAR:u.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_WITH_APPLICATIONS}(t,p,r)))}f.displayName="PremiumPaymentConfirmation",e.exports=t.default},6370:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(17))),i=h(n(152)),l=h(n(306)),u=h(n(222)),s=h(n(225)),d=n(844),f=n(0),c=h(n(13)),p=h(n(5507));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){var t,n,r=e.hideCloseOnFullScreen,h=e.shouldShowPrice,y=e.plan,m=e.renderAnimation,v=e.onClose,_=e.isGift,E=e.upgradeToPremiumType,g=E===f.PremiumTypes.TIER_1;return o("div",{className:(0,a.default)((t={},t[p.default.tier1HeaderBackground]=E===f.PremiumTypes.TIER_1,t[p.default.tier2HeaderBackground]=E!==f.PremiumTypes.TIER_1,t))},void 0,m(),o(i.default,{align:i.default.Align.START,justify:i.default.Justify.BETWEEN,className:p.default.headerTop},void 0,o(l.default,{name:g?l.default.Names.NITRO_CLASSIC:l.default.Names.NITRO,className:(0,a.default)(p.default.headerIcon,(n={},n[p.default.tier1]=g,n))}),o(u.default.CloseButton,{hideOnFullscreen:r,onClick:v})),h&&null!=y?o("div",{className:p.default.price},void 0,function(e,t){var n=s.default.getPrice(e),r=s.default.getInterval(e),o=(0,d.formatPrice)(n.amount,n.currency);if(t)return o;switch(r){case f.SubscriptionIntervalTypes.MONTH:return c.default.Messages.BILLING_PRICE_PER_MONTH.format({price:o});case f.SubscriptionIntervalTypes.YEAR:return c.default.Messages.BILLING_PRICE_PER_YEAR.format({price:o})}}(y,_)):null)}y.displayName="PremiumPaymentHeader",t.default=y,e.exports=t.default},6371:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},6374:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(5981)),l=y(n(6375)),u=y(n(6799)),s=y(n(6376)),d=y(n(6800)),f=y(n(6801)),c=y(n(6808)),p=y(n(6377)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.target,a=e.className,y=e.href,m=e.src,v=e.value,_=e.onHeightUpdate;switch(n){case h.ContextMenuTypes.CHANNEL_TEXT_AREA:case h.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT:case h.ContextMenuTypes.NATIVE_INPUT:return o("div",{className:a,style:t},void 0,n===h.ContextMenuTypes.CHANNEL_TEXT_AREA||n===h.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT?o(i.default,{},void 0,o(c.default,{value:v,target:r,isEditing:n===h.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT})):null,r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement?o(f.default,{value:v,target:r,onHeightUpdate:_}):null,o(i.default,{},void 0,o(l.default,{value:v,target:r,useSelection:!0}),o(u.default,{value:v,target:r}),o(d.default,{target:r})));case h.ContextMenuTypes.NATIVE_LINK:return o("div",{className:a,style:t},void 0,o(l.default,{value:v,useSelection:!0}),o(s.default,{href:y,src:m}));case h.ContextMenuTypes.NATIVE_IMAGE:return o("div",{className:a,style:t},void 0,o(s.default,{href:y,src:m}));case h.ContextMenuTypes.NATIVE_TEXT:return o("div",{className:a,style:t},void 0,o(i.default,{},void 0,o(p.default,{value:v})),o(i.default,{},void 0,o(l.default,{value:v})));default:return console.warn("Error - no such ctx menu type"),null}},t}(a.PureComponent);m.displayName="NativeContextMenu",t.default=m,e.exports=t.default},6375:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=d(n(9)),u=d(n(5977)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleCopyItem=function(){(0,i.closeContextMenu)(),l.default.copy(r.props.value),r.props.target&&r.props.target.focus()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.useSelection,n=e.value;return!l.default.embedded||t&&(null==n||0===n.length)?null:o(u.default,{label:s.default.Messages.COPY,hint:l.default.isOSX()?"⌘C":"Ctrl+C",action:this.handleCopyItem})},t}(a.PureComponent);c.defaultProps={value:"",useSelection:!1},c.displayName="NativeCopyItem",t.default=c,e.exports=t.default},6376:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=f(n(9)),u=f(n(5981)),s=f(n(5977)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.handleCopyLink=function(){(0,i.closeContextMenu)(),l.default.copy(r.props.href||r.props.src)},r.handleOpenLink=function(){(0,i.closeContextMenu)(),window.open(r.props.href||r.props.src)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return l.default.embedded&&(this.props.href||this.props.src)?o(u.default,{},void 0,o(s.default,{label:d.default.Messages.COPY_LINK,action:this.handleCopyLink}),o(s.default,{label:d.default.Messages.OPEN_LINK,action:this.handleOpenLink})):null},t}(a.PureComponent);p.displayName="NativeLinkGroup",t.default=p,e.exports=t.default},6377:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=s(n(5977)),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.handleSearchWithGoogle=function(){(0,i.closeContextMenu)(),window.open("https://www.google.com/search?q="+encodeURIComponent(r.props.value||""),"_blank")},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.value;return null==e||0===e.length?null:o(l.default,{label:u.default.Messages.SEARCH_WITH_GOOGLE,action:this.handleSearchWithGoogle})},t}(a.PureComponent);f.defaultProps={value:""},f.displayName="SearchWithGoogle",t.default=f,e.exports=t.default},6378:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(4)),a=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCurrentPath=function(){return null!=l?l.pathname:null},t.prototype.getCurrentRoute=function(){return t=null!=(e=l)&&null!=e.search?e.search:"",null!=e?""+e.pathname+t:null;var e,t},t.prototype.reset=function(){throw new Error("Should not reset the store this way outside of a test environment")},t}(o.default.Store);t.default=new u(a.default,{APPLICATION_STORE_LOCATION_CHANGE:function(e){var t=e.location;l=r({},t)},APPLICATION_STORE_RESET_NAVIGATION:function(e){l=null}}),e.exports=t.default},6379:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(4)),a=p(n(1)),i=p(n(463)),l=p(n(241)),u=p(n(6059)),s=p(n(6060)),d=p(n(6073)),f=p(n(15)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return{name:"",icon:null,region:s.default.getOptimalRegionId()}},y=!1,m=c.FormStates.CLOSED,v={},_=void 0,E=h(),g=c.CreateGuildModalScreens.Choose,S=void 0,T=!1;function I(){E=h(),_=null,m=c.FormStates.CLOSED,g=c.CreateGuildModalScreens.Choose}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,f.default,l.default,i.default,s.default,d.default)},t.prototype.isOpen=function(){return!d.default.hasAction()&&(y&&m!==c.FormStates.CLOSED)},t.prototype.getProps=function(){return{submitting:m===c.FormStates.SUBMITTING,errors:v,code:_,guild:E,screen:g,optimalRegionId:S,nuf:T}},t}(o.default.Store);t.default=new C(a.default,{DISPLAYED_INVITE_SHOW:function(e){I()},CREATE_GUILD_MODAL_OPEN:function(e){m=c.FormStates.OPEN,T=e.nuf||!1,g=e.screen||c.CreateGuildModalScreens.Choose,E=h(),v={}},CREATE_GUILD_MODAL_SET_SCREEN:function(e){g=e.screen},CREATE_GUILD_MODAL_UPDATE:function(e){null!=_&&(_=null),E=r({},E,e.guild)},CREATE_GUILD_MODAL_SUBMIT:function(e){m=c.FormStates.SUBMITTING},CREATE_GUILD_MODAL_SUBMIT_FAILURE:function(e){m=c.FormStates.OPEN,v=e.errors},CREATE_GUILD_MODAL_CLOSE:function(e){return I()},LOAD_REGIONS:function(e){if(null==E||null!=e.guildId)return!1;S=E.region||s.default.getOptimalRegionId(),E=r({},E,{region:S})},CONNECTION_OPEN:function(e){y=!0},LOGOUT:function(e){y=!1},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},6380:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r=n(6091),o=i(n(12)),a=i(n(854));function i(e){return e&&e.__esModule?e:{default:e}}t.QUICKSWITCHER_SHOW={binds:["mod+k","mod+t"],global:!0,action:function(){return!o.default.isGuest()&&(a.default.hasLayers()||(0,r.show)(),!1)}}},6381:function(e,t,n){"use strict";t.__esModule=!0;var r=f(n(4)),o=f(n(23)),a=f(n(1)),i=f(n(923)),l=f(n(22)),u=f(n(28)),s=f(n(51)),d=f(n(155));n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=new i.default(function(){return 100},function(e){var t=0;return 0===e?t=100:e>=1&&e<2?t=70:e>=2&&e<4?t=50:e>=4&&e<7?t=30:e>=7&&(t=10),t},function(e){return u.default.getGuild(e)||l.default.getChannel(e)||l.default.getChannel(l.default.getDMFromUserId(e))},function(e){__OVERLAY__||o.default.set("selectedChannelGuildFrecency",e)},100,10),p=null,h=null;function y(e){var t=e.guildId,n=e.channelId;return n!==p&&(p=n,c.track(n)),null!=t&&t!==h&&(h=t,c.track(t)),!1}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(d.default,s.default);var e=o.default.get("selectedChannelGuildFrecency");e&&c.overwriteHistory(e)},t.prototype.getFrequently=function(){return c.frequently},t.prototype.getScore=function(e){return c.getFrecency(e)||0},t.prototype.getScoreForDM=function(e){return this.getScore(l.default.getDMFromUserId(e))},t.prototype.getMaxScore=function(){return 1e3},t.prototype.getBonusScore=function(){return 100},t}(r.default.Store);t.default=new m(a.default,{CONNECTION_OPEN:function(e){return c.markDirty(),!1},VOICE_CHANNEL_SELECT:y,CHANNEL_SELECT:y}),e.exports=t.default},6382:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={toggleSection:function(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_TOGGLE_SECTION,section:e})}},e.exports=t.default},6383:function(e,t,n){"use strict";t.__esModule=!0,t.ZOOM_RESET=t.ZOOM_OUT=t.ZOOM_IN=void 0;var r,o=n(907),a=n(869),i=(r=a)&&r.__esModule?r:{default:r},l=n(0);function u(e){return l.Accessibility.ZOOM_SCALES[Math.max(0,Math.min(l.Accessibility.ZOOM_SCALES.indexOf(i.default.zoom)+e,l.Accessibility.ZOOM_SCALES.length-1))]}var s=t.ZOOM_IN={binds:["mod+plus"],global:!0,action:function(){return(0,o.zoomTo)(u(1)),!1}},d=t.ZOOM_OUT={binds:["mod+minus"],global:!0,action:function(){return(0,o.zoomTo)(u(-1)),!1}},f=t.ZOOM_RESET={binds:["mod+0"],global:!0,action:function(){return(0,o.zoomTo)(l.Accessibility.ZOOM_DEFAULT),!1}};t.default={ZOOM_IN:s,ZOOM_OUT:d,ZOOM_RESET:f}},6385:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=d(n(4)),a=d(n(1)),i=n(6816),l=d(n(463)),u=d(n(6207)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f={},c={},p=!0,h={},y=!1;function m(){return u.default.useNewTutorialLogic()?i.tutTipsLogicV2:i.tutTipsOriginal}function v(){if(h={},!p){var e=m();Object.keys(e).map(function(t){var n=e[t],r=!1!==f[t];if(r&&null!=n.prerequisites){var o=n.prerequisites,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}if(!(!1===f[l]))return void(h[t]=!1)}}h[t]=r})}}function _(e){delete(c=r({},c))[e.tutorialId]}function E(){v(),Object.keys(c).forEach(function(e){h[e]||delete c[e]})}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){v(),this.mustEmitChanges(function(e){return e.type!==s.ActionTypes.CONNECTION_OPEN}),this.waitFor(l.default,u.default)},t.prototype.shouldShow=function(e){return!(!y||p)&&(h[e]||!1)},t.prototype.shouldShowAnyIndicators=function(){return!p},t.prototype.getIndicators=function(){return c},t.prototype.getData=function(){return m()},t.prototype.getDefinition=function(e){var t=this.getData();return null!=t?t[e]:null},t}(o.default.Store);t.default=new g(a.default,{CONNECTION_OPEN:function(e){var t=e.tutorial;y=!0,p=!0,f={},null!=t&&(p=t.indicators_suppressed,t.indicators_confirmed.forEach(function(e){return f[e]=!1})),v()},CONNECTION_CLOSED:function(e){y=!1},TUTORIAL_INDICATOR_DISMISS:function(e){var t;f=r({},f,((t={})[e.tutorialId]=!1,t)),_(e),v()},TUTORIAL_INDICATOR_SHOW:function(e){var t;c=r({},c,((t={})[e.tutorialId]=e.renderData,t))},TUTORIAL_INDICATOR_HIDE:_,TUTORIAL_INDICATOR_SUPPRESS_ALL:function(e){p=!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){if(e.experimentId!==u.default.getExperimentId())return!1;E()},EXPERIMENT_TRIGGER:function(e){if(e.experimentDescriptor.name!==u.default.getExperimentId())return!1;E()}}),e.exports=t.default},6386:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(6043)),l=n(109),u=c(n(5983)),s=n(6061),d=c(s),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=1.4,h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._unmounted=!1,r._intensity=p,r._subscribedStores=[],r.handleSetSection=r.handleSetSection.bind(r),r.handleNoticeStoreUpdate=r.handleNoticeStoreUpdate.bind(r),r.handleClose=r.handleClose.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.getPredicateSections().forEach(function(t){var n=t.notice;if(null!=n){var r=n.store;r&&(r.addChangeListener(e.handleNoticeStoreUpdate),e._subscribedStores.push(r))}})},t.prototype.componentDidUpdate=function(e){e.section!==this.props.section&&(this._intensity=p)},t.prototype.componentWillUnmount=function(){var e=this;this._unmounted=!0,this._subscribedStores.forEach(function(t){return t.removeChangeListener(e.handleNoticeStoreUpdate)})},t.prototype.handleNoticeStoreUpdate=function(){this._unmounted||(this._intensity=p,this.forceUpdate())},t.prototype.getPredicateSections=function(){return this.props.sections.filter(function(e){return null==e.predicate||e.predicate()})},t.prototype.validNavigation=function(){var e=this.props.section,t=(this.getPredicateSections().find(function(t){return e===t.section})||{}).notice;return t&&t.store.showNotice()?(l.ComponentDispatch.dispatch(f.ComponentActions.SHAKE_APP,{duration:300,intensity:this._intensity}),this._intensity=Math.min(this._intensity+2,15),l.ComponentDispatch.dispatch(f.ComponentActions.EMPHASIZE_NOTICE),!1):(this._intensity=p,!0)},t.prototype.handleSetSection=function(e){var t=this.props.onSetSection;this.validNavigation()&&t(e)},t.prototype.handleClose=function(){if(this.validNavigation()){var e=this.props.onClose;e&&e()}},t.prototype.renderSidebar=function(e){var t=this.props.section||e[0].section;return o(i.default,{selectedItem:t,onItemSelect:this.handleSetSection},void 0,e.map(function(e,t){var n=e.section,r=e.element,a=e.label,l=void 0===a?null:a,u=e.onClick,d=e.color,c=e.className;switch(n){case s.SectionTypes.HEADER:return o(i.default.Header,{},t,l);case s.SectionTypes.DIVIDER:return o(i.default.Separator,{},t);case s.SectionTypes.CUSTOM:var p=r||f.NOOP_NULL;return o(p,{},t);default:return o(i.default.Item,{color:d,id:n,onClick:u,className:c},n,l)}}))},t.prototype.renderContent=function(e){var t=e&&e.element?e.element:f.NOOP_NULL;return o(u.default,{section:e.section},void 0,o(t,{}))},t.prototype.renderNotice=function(e){var t=this.props.theme;if(null==e||null==e.notice)return null;var n=e.notice,r=n.store,a=n.element;return null==r||r.showNotice()?o(a,{theme:t}):null},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,r=this.getPredicateSections(),a=r.find(function(e){return e.section===n});return null==a?null:o(d.default,{theme:t,section:n,sidebar:this.renderSidebar(r),content:this.renderContent(a),contentType:a.type,notice:this.renderNotice(a),closeAction:this.handleClose})},t}(a.PureComponent);h.displayName="SettingsView",t.default=h,e.exports=t.default},6387:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=s(n(4)),i=s(n(6438)),l=s(n(6825)),u=s(n(6826));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleAddPhone=r.handleAddPhone.bind(r),r.handleVerifyPhone=r.handleVerifyPhone.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.error,n=e.working,a=e.valid,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["error","working","valid"]);return o.createElement(u.default,r({},i,{error:t,working:n,validPhone:a,onAddPhone:this.handleAddPhone,onVerifyPhone:this.handleVerifyPhone}))},t.prototype.handleAddPhone=function(e){i.default.addPhone(e)},t.prototype.handleVerifyPhone=function(e){var t=this;i.default.verifyPhone(e).then(function(){var e=t.props.onAddedPhone;null!=e&&e()})},t}(o.PureComponent);d.displayName="PhoneVerificationModal",t.default=a.default.connectStores([l.default],function(){return l.default.getProps()})(d),e.exports=t.default},6388:function(e,t,n){"use strict";t.__esModule=!0;var r=h(n(6)),o=h(n(4)),a=h(n(1)),i=h(n(330)),l=h(n(22)),u=h(n(72)),s=h(n(28)),d=h(n(228)),f=h(n(91)),c=h(n(35)),p=h(n(15));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y={};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=l.default.getChannel(e),a=null!=o?o.getGuildId():null;return{id:e,messages:t.map(function(e){return i.default.create(e)}),guildId:a,loaded:n,loading:r}}function v(){r.default.forEach(y,function(e){r.default.forEach(e.messages,function(e){e.timestamp.locale(c.default.locale)})})}function _(){r.default.forEach(y,function(e){e.messages=e.messages.map(function(e){return e.set("blocked",f.default.isBlocked(e.author.id))})})}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,u.default,d.default,p.default,c.default)},t.prototype.getPinnedMessages=function(e){return y[e]&&y[e]||null},t.prototype.loaded=function(e){return null!=y[e]&&y[e].loaded},t}(o.default.Store);t.default=new E(a.default,{CONNECTION_OPEN:function(e){y={}},GUILD_DELETE:function(e){var t=e.guild;y=(0,r.default)(y).filter(function(e){return e.guildId!==t.id}).keyBy("id").value()},MESSAGE_UPDATE:function(e){var t=e.message.id,n=e.message.channel_id,o=y[n];if(null!=e.message.author)if(e.message.pinned){if(!o)return o=m(n,[e.message],!1),void(y[n]=o);o.messages=o.messages.slice();var a=r.default.findIndex(o.messages,function(e){return e.id===t});-1===a?o.messages.unshift(i.default.create(e.message)):o.messages[a]=o.messages[a].updateMessage(e.message),y[n]=o}else{if(!o)return;var l=r.default.findIndex(o.messages,function(e){return e.id===t});if(-1===l)return;o.messages=o.messages.slice(),o.messages.splice(l,1),y[n]=o}else if(o){var u=r.default.findIndex(o.messages,function(e){return e.id===t});if(u>=0){var s=o.messages[u],d=s.updateMessage(e.message);if(d!==s){var f=o.messages.slice();f[u]=d,y[n].messages=f}}}},MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId,o=y[n];o&&0!==r.default.remove(o.messages,function(e){return e.id===t}).length&&(o.messages=o.messages.slice(),y[n]=o)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId,r=y[n];r&&(r.messages=r.messages.filter(function(e){return-1===t.indexOf(e.id)}))},LOAD_PINNED_MESSAGES:function(e){var t=e.channelId;y[t]=m(t,[],!1,!0)},LOAD_PINNED_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.messages;y[t]=m(t,n,!0)},LOAD_PINNED_MESSAGES_FAILURE:function(e){var t=e.channelId;delete y[t]},USER_SETTINGS_UPDATE:function(e){return v()},I18N_LOAD_SUCCESS:function(e){return v()},CHANNEL_DELETE:function(e){var t=e.channel;delete y[t.id]},RELATIONSHIP_ADD:function(e){return _()},RELATIONSHIP_REMOVE:function(e){return _()}}),e.exports=t.default},6389:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(4)),a=u(n(1)),i=u(n(319)),l=u(n(228));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={editingChannelId:null,editingMessageId:null,editingContent:null};function d(){s={editingChannelId:null,editingMessageId:null,editingContent:null}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isEditing=function(e,t){return e===s.editingChannelId&&t===s.editingMessageId},t.prototype.getEditingContent=function(){return s.editingContent},t.prototype.getEditingMessageId=function(){return s.editingMessageId},t.prototype.getEditingMessage=function(){return null!=s.editingChannelId&&null!=s.editingMessageId?l.default.getMessage(s.editingChannelId,s.editingMessageId):null},t}(o.default.Store);t.default=new f(a.default,{MESSAGE_START_EDIT:function(e){var t=e.channelId,n=e.messageId,r=e.content;s={editingChannelId:t,editingMessageId:n,editingContent:i.default.unparse(r,t)}},MESSAGE_UPDATE_EDIT:function(e){var t=e.content;if(null==s.editingChannelId&&null==s.editingMessageId&&null==s.editingContent)return!1;s=r({},s,{editingContent:t})},MESSAGE_END_EDIT:function(e){return d()},CHANNEL_SELECT:function(e){return d()},GUILD_SELECT:function(e){return d()}}),e.exports=t.default},6390:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=R(n(17)),l=R(n(4)),u=R(n(6113)),s=R(n(80)),d=R(n(830)),f=R(n(6119)),c=R(n(6172)),p=R(n(22)),h=R(n(6142)),y=R(n(847)),m=R(n(6047)),v=R(n(6456)),_=R(n(128)),E=R(n(5999)),g=R(n(129)),S=R(n(442)),T=n(6027),I=n(109),C=R(n(319)),N=R(n(6074)),A=n(0),O=R(n(13)),b=R(n(5351)),M=R(n(5369));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D="popout-channel-text-area-shouting",U=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.state={imageDataURI:null,imageLoaded:!1},r.tryAbort=function(){null!=r.reader&&1===r.reader.readyState&&r.reader.abort()},r.loadImagePreview=function(e){r.tryAbort(),r.reader=new FileReader,r.reader.onload=function(e){return r.setState({imageDataURI:e.target.result,imageLoaded:!0})},r.reader.readAsDataURL(e)},L(r,n)}return w(t,e),t.prototype.componentDidMount=function(){var e=this.props.file;null!=e&&this.loadImagePreview(e)},t.prototype.componentDidUpdate=function(){var e=this.props.file;null!=e&&this.loadImagePreview(e)},t.prototype.componentWillUnmount=function(){this.tryAbort()},t.prototype.render=function(){var e,t=this.state,n=t.imageLoaded,r=t.imageDataURI;if(null!=n&&null!=r){var a={backgroundImage:"url('"+r+"')"};return o("div",{className:(0,i.default)(M.default.icon,M.default.image),style:a})}return o("div",{className:(0,i.default)(M.default.icon,(e={},e[M.default.image]=!0,e))})},t}(a.PureComponent);U.displayName="ImageFilePreview";var k=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){return this.props.upload.isImage?o(U,{file:this.props.upload.file}):o("div",{className:(0,i.default)(M.default.icon,(e={},e[M.default[this.props.upload.classification]]=!0,e))});var e},t}(a.Component);k.displayName="UploadIcon";var G=function(e){function t(n){var r=this;P(this,t);var o,i=L(this,e.call(this,n));i._transitionTimeout=null,i._channelTextAreaRef=a.createRef(),i.cancelAll=function(){c.default.clearAll(),i.props.onClose()},i.cancel=function(){i.showNextFile()},i.confirm=(o=regeneratorRuntime.mark(function e(){var t,n,o,a,l,u,s,f,c,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.props,n=t.cooldown,o=t.upload,a=t.channel,l=i.state,u=l.transitioning,s=l.textValue,f=l.hasSpoiler,!u&&null!=o){e.next=4;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!1});case 4:if(!(n>0)){e.next=6;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 6:if(!y.default.isOpen(D)){e.next=10;break}return d.default.close(D),i.submitUpload(!0,s,o,a,f),e.abrupt("return",{shouldClear:!0,shouldRefocus:!0});case 10:return c=null!=i._channelTextAreaRef.current?i._channelTextAreaRef.current:null,e.next=13,(0,T.applyChatRestrictions)(c,s,a);case 13:return p=e.sent,h=p.valid,i.submitUpload(h,s,o,a,f),e.abrupt("return",{shouldClear:!1,shouldRefocus:!1});case 17:case"end":return e.stop()}},e,r)}),function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})}),i.handleTextChange=function(e,t){i.setState({textValue:t})},i.handleSubmit=function(){return i.confirm()};var l=null!=n.upload?n.upload.channelId:null;return i.state={transitioning:!1,textValue:null!=l?h.default.getDraft(l):"",textFocused:!0,hasSpoiler:!1},i}return w(t,e),t.prototype.componentDidMount=function(){I.ComponentDispatch.subscribe(A.ComponentActions.MODAL_SUBMIT,this.confirm),I.ComponentDispatch.subscribe(A.ComponentActions.MODAL_CLOSE,this.cancel)},t.prototype.componentWillUnmount=function(){I.ComponentDispatch.unsubscribe(A.ComponentActions.MODAL_SUBMIT,this.confirm),I.ComponentDispatch.unsubscribe(A.ComponentActions.MODAL_CLOSE,this.cancel),clearTimeout(this._transitionTimeout)},t.prototype.shouldComponentUpdate=function(e){return null!=e.upload},t.prototype.submitUpload=function(e,t,n,r,o){if(e&&null!=r){var a=C.default.parse(r,t);u.default.saveDraft(r.id,""),this.setState({textFocused:!0,textValue:""}),setTimeout(function(){return f.default.upload(r.id,n.file,a,o)},125),this.showNextFile()}},t.prototype.showNextFile=function(){var e=this;this.state.transitioning||(this.props.hasAdditionalUploads?(this.setState({transitioning:!0}),setTimeout(function(){return c.default.popFirstFile()},100),this._transitionTimeout=setTimeout(function(){return e.setState({transitioning:!1})},200)):(c.default.popFirstFile(),this.props.onClose()))},t.prototype.renderFooter=function(){var e=this,t=this.props,n=t.cooldown,r=t.hasAdditionalUploads,l=this.state.hasSpoiler,u=n>0,s=null,d=u?O.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((n+1e3)/1e3)}):null;r&&(s=o(_.default,{type:"button",look:_.default.Looks.LINK,color:_.default.Colors.WHITE,onClick:this.cancelAll,className:M.default.cancelAllButton},void 0,o("span",{},void 0,O.default.Messages.UPLOAD_AREA_CANCEL_ALL)));var f=o(a.Fragment,{},void 0,o(E.default,{value:l,onChange:function(t,n){return e.setState({hasSpoiler:n})},checkboxColor:A.Colors.WHITE},void 0,o(g.default,{color:g.default.Colors.WHITE},void 0,O.default.Messages.SPOILER_MARK_SELECTED)),o("div",{className:M.default.hasSpoilers},void 0,s,o(_.default,{type:"button",look:_.default.Looks.LINK,color:_.default.Colors.WHITE,onClick:this.cancel},void 0,o("span",{},void 0,O.default.Messages.CANCEL)),o(S.default,{text:d},void 0,o("div",{},void 0,o(_.default,{disabled:u,color:_.default.Colors.BRAND,look:_.default.Looks.INVERTED,type:"submit",onClick:this.confirm},void 0,o("span",{},void 0,O.default.Messages.UPLOAD))))));return o("div",{className:(0,i.default)(M.default.footer,M.default.hasSpoilers)},void 0,f)},t.prototype.render=function(){var e,t=this.props,n=t.upload,r=t.channel,l=this.state,u=l.transitioning,s=l.textValue,d=l.textFocused;return null==n||null==r?null:o("div",{className:(0,i.default)(M.default.uploadModal,"theme-brand",(e={},e[M.default.transitioning]=u,e))},void 0,o("div",{className:M.default.inner},void 0,o("div",{className:M.default.file},void 0,o(k,{upload:n}),o("div",{className:M.default.description},void 0,o("div",{className:M.default.filename},void 0,n.filename))),o("div",{className:M.default.comment},void 0,o("div",{className:M.default.label},void 0,o("span",{},void 0,O.default.Messages.UPLOAD_AREA_LEAVE_A_COMMENT),o("span",{className:M.default.optional},void 0,"(",O.default.Messages.UPLOAD_AREA_OPTIONAL,")")),a.createElement(N.default,{ref:this._channelTextAreaRef,className:(0,i.default)(M.default.channelTextAreaUpload,b.default.marginTop8),value:s,focused:d,channel:r,onChange:this.handleTextChange,onSubmit:this.handleSubmit,type:A.TextareaTypes.FORM}))),this.renderFooter())},t}(a.Component);G.displayName="Upload";var x=l.default.connectStores([v.default,p.default,m.default],function(){var e=v.default.getFirstUpload(),t=null!=e?e.channelId:null,n=null!=t?m.default.getSlowmodeCooldownGuess(t):0;return{upload:e,file:null!=e?e.file:null,hasAdditionalUploads:v.default.hasAdditionalUploads(),channel:null!=t?p.default.getChannel(t):null,cooldown:n}})(G),F=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.close=function(){s.default.pop()},t.prototype.render=function(){return o(x,{onClose:this.close})},t}(a.Component);F.modalConfig={closable:!1},F.displayName="UploadModal",t.default=F,e.exports=t.default},6391:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(17)),l=s(n(6001)),u=s(n(5419));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=d(this,e.call.apply(e,[this].concat(i))),r.videoRef=a.createRef(),r.state={videoLoaded:!1},r.handleVideoLoaded=function(){r.setState({videoLoaded:!0})},r.handleVideoError=function(){r.setState({videoLoaded:!1})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setPlayState(this.props.play)},t.prototype.componentDidUpdate=function(e){var t=this.props.play;t!==e.play&&this.setPlayState(t)},t.prototype.setPlayState=function(e){var t=this.videoRef.current;null!=t&&(e?t.play():t.pause())},t.prototype.render=function(){var e,t=this.props,n=t.url,r=t.width,s=t.height,d=t.children,f=t.className,c=t.videoUrl,p=t.play,h=t.hideImage,y=t.autoPlay,m=t.shouldAnimate,v=this.state.videoLoaded;return o("div",{className:(0,i.default)(u.default.wrapper,f),style:{paddingBottom:s/r*100+"%"}},void 0,o(l.default,{src:n,width:r,height:s,maxWidth:464,maxHeight:464*s/r,className:(0,i.default)(u.default.image,h?u.default.hideImage:""),imageClassName:(0,i.default)(u.default.image,h?u.default.hideImage:""),alt:"",autoPlay:y,shouldAnimate:m}),null!=c?a.createElement("video",{muted:!0,preload:"none",loop:!0,src:c,ref:this.videoRef,className:(0,i.default)((e={},e[u.default.video]=!0,e[u.default.showVideo]=v&&p,e)),onLoadedMetadata:this.handleVideoLoaded,onError:this.handleVideoError}):null,null!=d?o("div",{className:u.default.content},void 0,d):null)},t}(a.Component);f.defaultProps={play:!1,hideImage:!1},f.displayName="CardMedia",t.default=f,e.exports=t.default},6392:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(5));n(239);var a=l(n(47)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return new t({userId:null!=e.user?e.user.id:null,code:e.code,skuId:e.sku_id,uses:e.uses,maxUses:e.max_uses,storeListingId:null!=e.store_listing?e.store_listing.id:null,expiresAt:null!=e.expires_at?(0,o.default)(e.expires_at):null,redeemed:e.redeemed,subscriptionPlanId:null!=e.subscription_plan?e.subscription_plan.id:e.subscription_plan_id,revoked:!1,entitlementBranches:null!=e.entitlement_branches?e.entitlement_branches:null})},t.prototype.initialize=function(e){this.userId=e.userId,this.code=e.code,this.skuId=e.skuId,this.uses=e.uses,this.maxUses=e.maxUses,this.expiresAt=e.expiresAt,this.redeemed=e.redeemed,this.storeListingId=e.storeListingId,this.subscriptionPlanId=e.subscriptionPlanId,this.revoked=e.revoked,this.entitlementBranches=e.entitlementBranches},t.prototype.isExpired=function(){var e=this.expiresAt;return null!=e&&(0,o.default)().isAfter(e)},t.prototype.toString=function(){return this.code},r(t,[{key:"hasMultipleCopies",get:function(){return this.maxUses>1}},{key:"isClaimed",get:function(){return this.uses>=this.maxUses}},{key:"remainingUses",get:function(){return this.maxUses-this.uses}},{key:"isSubscription",get:function(){return null!=this.subscriptionPlanId}},{key:"premiumSubscriptionType",get:function(){return this.isSubscription&&i.PremiumSubscriptionSKUToPremiumType[this.skuId]||null}},{key:"analyticsData",get:function(){return{gift_code:this.code,gift_code_max_uses:this.maxUses}}}]),t}(a.default);t.default=u,e.exports=t.default},6393:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(17)),u=n(81),s=h(n(128)),d=h(n(6233)),f=h(n(828)),c=n(5989),p=h(n(5530));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={mode:d.default.Modes.DEFAULT},r._timeout=new u.Timeout,r.handleCopy=r.handleCopy.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this._timeout.stop()},t.prototype.render=function(){var e=this.props,t=e.isVertical,n=e.value,r=e.text,u=e.className,c=e.inputClassName,h=this.state.mode;return t?a("div",{className:(0,l.default)(u,h)},void 0,a(f.default,{value:n,inputClassName:c}),a(s.default,{className:p.default.button,onClick:this.handleCopy,size:s.default.Sizes.MIN,color:this.getVerticalButtonColor(h),look:s.default.Looks.FILLED},void 0,r)):i.createElement(d.default,o({},this.props,{onCopy:this.handleCopy,mode:h}))},t.prototype.handleCopy=function(){var e=this,t=this.props,n=t.onCopy,r=t.value,o=(0,c.copy)(r);this.setState({mode:o?d.default.Modes.SUCCESS:d.default.Modes.ERROR}),this._timeout.start(300,function(){return e.setState({mode:d.default.Modes.DEFAULT})}),n&&n()},t.prototype.getVerticalButtonColor=function(e){switch(e){case d.default.Modes.SUCCESS:return s.default.Colors.GREEN;case d.default.Modes.ERROR:return s.default.Colors.RED;default:return s.default.Colors.BRAND}},t}(i.PureComponent);y.defaultProps={isVertical:!1},y.displayName="CopyInput",t.default=y,e.exports=t.default},6394:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(918)),l=c(n(952)),u=n(6837),s=c(u),d=c(n(9)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r._mounted=!1,r.recordStart=function(){d.default.embedded&&(r.gs=new l.default,r.gs.on("change",r.handleGSChange)),r.setState({mode:u.RecordModes.RECORDING})},r.recordEnd=function(){r.cleanUp(),r.setState({mode:u.RecordModes.DEFAULT})},r.toggleRecordMode=function(){r.state.mode===u.RecordModes.DEFAULT?r.recordStart():r.recordEnd()},r.handleComboKeys=function(e,t,n){if(n.preventDefault(),"keydown"===n.type){var o=t.map(function(e){return[f.KeyboardDeviceTypes.KEYBOARD_KEY,(0,i.default)(e),f.KeyboardEnvs.BROWSER]}),a=n.keyCode;o.find(function(e){var t=e[1];return a===t})||o.push([f.KeyboardDeviceTypes.KEYBOARD_KEY,a,f.KeyboardEnvs.BROWSER]),r.handleComboChange(o)}},r.handleGSChange=function(e){if(!1!==r._mounted){var t=[].concat(e.combo);r.handleComboChange(t)}};var o=n.defaultValue;return r.state={codes:o,mode:u.RecordModes.DEFAULT},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._mounted=!0},t.prototype.componentWillUnmount=function(){this._mounted=!1,this.cleanUp()},t.prototype.cleanUp=function(){d.default.embedded&&null!=this.gs&&(this.gs.destroy(),this.gs=null)},t.prototype.handleComboChange=function(e){var t=this.props.onChange;null!=t&&t(e),this.setState({codes:e})},t.prototype.render=function(){var e=this.state,t=e.codes,n=e.mode,r=this.props.disabled,a=void 0;return d.default.embedded||(a=this.handleComboKeys),o(s.default,{disabled:r,value:t,mode:n,onClick:this.toggleRecordMode,onChange:a})},t}(a.PureComponent);p.displayName="KeybindRecorder",t.default=p,e.exports=t.default},6395:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(17)),l=n(842),u=y(l),s=y(n(152)),d=y(n(6008)),f=y(n(6068)),c=n(0),p=y(n(13)),h=y(n(5495));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v="***@***.***",_="****",E="new_credit_card_id",g="null_payment_source_id",S=new l.CreditCardSourceRecord({id:E,brand:d.default.Types.UNKNOWN,type:c.PaymentSourceTypes.CARD}),T=new l.CreditCardSourceRecord({id:g,brand:d.default.Types.UNKNOWN,type:c.PaymentSourceTypes.CARD});var I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.onChange=function(e){e.value!==T&&r.props.onChange&&r.props.onChange(e,e.value===E)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedPaymentSourceId,n=e.paymentSources,r=e.showEmptyPromptOption,a=e.hidePersonalInformation,c=e.defaultPaymentSourceId,y=[].concat(r&&null==t?[T]:[],n,[S]).map(function(e){var t;if(!(e instanceof u.default))throw new Error("Invalid payment source");var n=function(e,t){if(e instanceof l.CreditCardSourceRecord)return e.id===E?{brand:null,label:p.default.Messages.PAYMENT_SOURCES_ADD}:e.id===g?{brand:null,label:p.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION}:{brand:t?d.default.Types.UNKNOWN:e.brand,label:p.default.Messages.PAYMENT_SOURCE_CARD_ENDING_IN.format({last4:t?_:e.last4})};if(e instanceof l.PaypalSourceRecord)return{brand:d.default.Types.PAYPAL,label:t?v:e.email};throw new Error("Invalid Payment Source")}(e,a),r=n.brand,f=n.label;return{value:e.id,label:o(s.default,{align:s.default.Align.CENTER},void 0,null!=r?o(d.default,{type:d.default.getType(r)}):null,o("div",{className:(0,i.default)(h.default.paymentSourceLabel,(t={},t[h.default.error]=e.invalid,t))},void 0,f))}}),m=t;return null==m&&(m=r?g:function(e,t){var n=null!=t?e.find(function(e){return e.id===t}):null;return null!=n?n.id:e.length>0?e[0].id:null}(n,c)),o(f.default,{searchable:!1,clearable:!1,options:y,value:m,onChange:this.onChange})},t}(a.Component);I.defaultProps={showEmptyPromptOption:!1},I.displayName="PaymentSourceDropdown",t.default=I,e.exports=t.default},6396:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(23)),a=u(n(1)),i=u(n(6078)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s="ChannelSectionStore",d=null,f=null;function c(){var e=void 0;if(i.default.isActive()&&(e=l.ChannelSections.SEARCH),f===e)return!1;f=e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){d=o.default.get(s)||l.ChannelSections.MEMBERS},t.prototype.getSection=function(){return f||d},t}(r.default.Store);t.default=new p(a.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;d===t?null==f&&(d=l.ChannelSections.NONE):d=t,f=null,o.default.set(s,d)},SEARCH_START:function(e){return c()},SEARCH_INDEXING:function(e){return c()},SEARCH_FINISH:function(e){return c()},SEARCH_EDITOR_STATE_CLEAR:function(e){return c()},SEARCH_EDITOR_STATE_CHANGE:function(e){return c()},CHANNEL_SELECT:function(e){return c()},GUILD_SELECT:function(e){return c()}}),e.exports=t.default},6400:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.search=d,t.searchByMode=function(e,t){var n=i.default.getQuery(e);return d(e,r({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SEARCH_PAGE_SIZE;return f(e,t)},t.searchPreviousPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SEARCH_PAGE_SIZE;return f(e,-t)},t.clearHistory=function(e){o.default.dispatch({type:u.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){o.default.wait(function(){o.default.dispatch({type:u.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})})},t.setSearchState=function(e,t){null!=e&&o.default.dirtyDispatch({type:u.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){l.default.trackWithMetadata(u.AnalyticEvents.SEARCH_CLOSED,{search_id:i.default.getAnalyticsId(e)}),o.default.wait(function(){return o.default.dispatch({type:u.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&o.default.dirtyDispatch({type:u.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){o.default.dispatch({type:u.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var o=s(n(1)),a=s(n(6178)),i=s(n(6078)),l=s(n(181)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){a.default.didAgree(e)&&(t.include_nsfw=!0);var r=Object.keys(t);l.default.trackWithMetadata(u.AnalyticEvents.SEARCH_STARTED,{search_type:i.default.getSearchType(),prev_search_id:i.default.getAnalyticsId(e),num_modifiers:r.length,modifiers:r.reduce(function(e,n){var r=t[n];return e[n]=Array.isArray(r)?r.length:1,e},{})}),o.default.dispatch({type:u.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function f(e,t){var n=i.default.getOffset(e),o=i.default.getQuery(e),a=n+t,l=i.default.getTotalResults(e);if(!(a<0||a>l))return d(e,r({},o,{offset:a}))}},6401:function(e,t,n){"use strict";t.__esModule=!0,t.RegionSelect=t.RegionSelectModal=t.RegionName=t.RegionFlag=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=E(n(17)),u=E(n(308)),s=E(n(309)),d=E(n(443)),f=E(n(4)),c=E(n(80)),p=E(n(6238)),h=E(n(6060)),y=E(n(221)),m=E(n(444)),v=E(n(13)),_=E(n(5555));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=t.RegionFlag=function(e){var t,r=e.region,o=e.className,i=void 0===o?_.default.regionSelectFlag:o,u=void 0;if("unknown"===r.id)u=n(6128);else{var s=r.id.replace(/^vip-/,"");try{u=n(6548)("./"+s+".png")}catch(e){u=n(6128)}}return a("div",{className:(0,l.default)(i,(t={},t[_.default.vip]=r.vip,t)),style:{backgroundImage:'url("'+u+'")'}})};S.displayName="RegionFlag";var T=t.RegionName=function(e){var t=e.region,n=e.className,r=void 0===n?_.default.regionSelectName:n,o=t.name.replace(/ \(VIP\)$/,"");return a("div",{className:r},void 0,o)};T.displayName="RegionName";var I=function(e){var t=e.region,n=e.onClick;return a(y.default,{className:_.default.regionSelectModalOption,onClick:function(){return n(t)}},void 0,a(S,{region:t}),a(T,{region:t}))};I.displayName="RegionOption";var C=t.RegionSelectModal=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.handleSelect=function(e){r.props.onChange&&r.props.onChange(e),r.props.onClose()},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this;return a("div",{className:_.default.regionSelectModal},void 0,a("div",{className:_.default.regionSelectModalHeader},void 0,v.default.Messages.REGION_SELECT_HEADER),a("div",{className:_.default.regionSelectModalOptions},void 0,this.props.regions.map(function(t,n){return a(I,{region:t,onClick:e.handleSelect},n)})),a("div",{className:_.default.regionSelectModalFooter},void 0,v.default.Messages.REGION_SELECT_FOOTER))},t}(i.Component);C.displayName="RegionSelectModal";var N=t.RegionSelect=(0,u.default)({displayName:"RegionSelect",mixins:[f.default.StoreListenerMixin(h.default),d.default],propTypes:{onChange:s.default.func,value:s.default.string,disabled:s.default.bool,changeRegionButtonText:s.default.string},getDefaultProps:function(){return{disabled:!1,changeRegionButtonText:v.default.Messages.CHANGE}},getStateFromStores:function(){return{regions:h.default.getRegions(this.props.guildId)}},componentDidMount:function(){null==this.state.regions&&p.default.fetchRegions(this.props.guildId)},UNSAFE_componentWillReceiveProps:function(e){if(this.props.guildId!==e.guildId){var t=h.default.getRegions(e.guildId);null==t&&p.default.fetchRegions(e.guildId),this.setState({regions:t})}},handleChange:function(e){this.props.onChange&&this.props.onChange(e.id)},openChangeModal:function(){var e=this,t=this.state.regions.filter(function(e){return!e.deprecated});c.default.push(function(n){return i.createElement(C,o({regions:t,onChange:e.handleChange},n))})},render:function(){var e,t=this;if(null==this.state.regions)return a("div",{className:(0,l.default)(_.default.regionSelect,_.default.regionSelectLoading)},void 0,a(m.default,{type:m.default.Type.CHASING_DOTS}));var n=this.state.regions.find(function(e){return e.id===t.props.value})||{id:"unknown",name:v.default.Messages.UNKNOWN_REGION,vip:!1};return a(y.default,{className:(0,l.default)(_.default.regionSelect,(e={},e[_.default.disabled]=this.props.disabled,e)),onClick:this.openChangeModal},void 0,a("div",{className:_.default.regionSelectInner},void 0,a(S,{region:n}),a(T,{region:n})),a("button",{type:"button"},void 0,this.props.changeRegionButtonText))}});t.default=N},6402:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={update:function(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_COLLAPSE,channelId:e})},toggleCollapseGuild:function(e){a.default.dispatch({type:i.ActionTypes.GUILD_TOGGLE_COLLAPSE_MUTED,guildId:e})}},e.exports=t.default},6403:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=n(128),u=h(l),s=h(n(152)),d=n(835),f=n(0),c=h(n(5351)),p=h(n(5497));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.description,r=e.agreement,a=e.disagreement,f=e.onAgree,h=e.onDisagree;return o(d.BackgroundOpacityContext.Consumer,{},void 0,function(e){var d=e.backgroundOpacity;return o(s.default,{className:(0,i.default)(p.default.gatedContent,p.default[d+"BackgroundOpacity"]),justify:s.default.Justify.CENTER,align:s.default.Align.CENTER,direction:s.default.Direction.VERTICAL},void 0,o("div",{className:(0,i.default)(p.default.image,c.default.marginBottom20)}),o("div",{className:(0,i.default)(p.default.title,c.default.marginBottom8)},void 0,t),o("div",{className:(0,i.default)(p.default.description,c.default.marginBottom20)},void 0,n),o("div",{className:(0,i.default)(p.default.separator,c.default.marginBottom40)}),o(s.default,{justify:s.default.Justify.CENTER,align:s.default.Align.CENTER,grow:0},void 0,o(u.default,{className:p.default.action,size:l.ButtonSizes.LARGE,look:l.ButtonLooks.OUTLINED,color:l.ButtonColors.PRIMARY,onClick:h},void 0,a),o(u.default,{className:p.default.action,color:p.default.actionRed,size:l.ButtonSizes.LARGE,onClick:f},void 0,r)))})},t}(a.PureComponent);y.defaultProps={onAgree:f.NOOP,onDisagree:f.NOOP},y.displayName="GatedContent",t.default=y,e.exports=t.default},6409:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i={};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){var t=e;null!=t&&Object.keys(t).forEach(function(e){"number"==typeof t[e]&&(i[e]=t[e])})},t.prototype.getState=function(){return i},t.prototype.hasViewed=function(e){return null!=i[e]},t}(r.default.PersistedStore);l.persistKey="ViewHistoryStore",t.default=new l(o.default,{VIEW_HISTORY_MARK_VIEW:function(e){var t=e.key;i[t]=Date.now()}}),e.exports=t.default},6410:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=y(n(6)),a=y(n(5)),i=y(n(4)),l=y(n(8)),u=y(n(1)),s=y(n(131)),d=y(n(324)),f=y(n(6140)),c=y(n(135)),p=y(n(22)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var m=h.FormStates.CLOSED,v=void 0,_=void 0,E=void 0,g=void 0,S={},T={},I=void 0,C=!1,N=!1,A=["name","type","topic","bitrate","userLimit","nsfw","rateLimitPerUser"];function O(e){var t=p.default.getChannel(e.channelId);if(null==t)return M();m=h.FormStates.OPEN,null!=(E=_=t)&&(E=E.set("nsfw",E.isNSFW())),g=p.default.getChannel(E.parent_id),I=E.getGuildId(),S={},b({section:v||h.ChannelSettingsSections.OVERVIEW})}function b(e){v=e.section,null!=E&&v===h.ChannelSettingsSections.INSTANT_INVITES&&(C=!0,l.default.get(h.Endpoints.INSTANT_INVITES(E.id)).then(function(e){C=!1,u.default.dispatch({type:h.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})},function(){return C=!1}))}function M(){N=!1,m=h.FormStates.CLOSED,v=null,E=_=null,g=null,T={}}var R=o.default.debounce(function(){if(null==E||null==_)return!1;var e=E.toJS(),t=_.toJS();A.every(function(n){return e[n]===t[n]})&&E!==_&&(E=_,L.emitChange())},500);function P(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new d.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,a.default)(e.created_at)})}var L=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default)},t.prototype.hasChanges=function(){return E!==_},t.prototype.isOpen=function(){return N},t.prototype.getSection=function(){return v},t.prototype.getInvites=function(){return{invites:T,loading:C}},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getChannel=function(){return E},t.prototype.getFormState=function(){return m},t.prototype.getCategory=function(){return g},t.prototype.getProps=function(){return{submitting:m===h.FormStates.SUBMITTING,errors:S,channel:E,section:v,invites:T,selectedOverwriteId:I,hasChanges:this.hasChanges()}},t}(i.default.Store))(u.default,{CHANNEL_SETTINGS_INIT:O,CHANNEL_SETTINGS_OPEN:function(e){N=!0,O(e)},CHANNEL_SETTINGS_SUBMIT:function(e){m=h.FormStates.SUBMITTING},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(e){O(e)},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){m=h.FormStates.OPEN,S=e.errors||{}},CHANNEL_SETTINGS_CLOSE:function(e){return M()},CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;I=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.channelType,r=e.topic,o=e.bitrate,a=e.userLimit,i=e.nsfw,l=e.rateLimitPerUser;if(null==E)return!1;null!=t&&(E=E.set("name",t)),null!=r&&(E=E.set("topic",r)),null!=o&&(E=E.set("bitrate",o)),null!=a&&(E=E.set("userLimit",a)),null!=i&&(E=E.set("nsfw",i)),null!=l&&(E=E.set("rateLimitPerUser",l)),null!=n&&(E=E.set("type",n)),R()},CHANNEL_SETTINGS_SET_SECTION:b,CHANNEL_SETTINGS_LOADED_INVITES:function(e){T={},e.invites.forEach(function(e){T[e.code]=P(e)})},CHANNEL_UPDATE:function(e){if(!function(e){if(null==_||_.id!==e)return!1;if(_===E){var t=p.default.getChannel(e);if(null==t)return!1;E=_=t,g=p.default.getChannel(E.parent_id)}else{var n=p.default.getChannel(e);if(null==n)return!1;_=n,null!=E&&(E=E.set("permissionOverwrites",_.permissionOverwrites),g=p.default.getChannel(E.parent_id))}return!0}(e.channel.id)||null==E)return!1;null!=I&&null==E.permissionOverwrites[I]&&(I=E.getGuildId())},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=E&&E.id===t&&void(m=h.FormStates.CLOSED)},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(T=r({},T))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;T=r({},T,((t={})[e.invite.code]=P(e.invite),t))}});t.default=L,e.exports=t.default},6411:function(e,t,n){"use strict";t.__esModule=!0,t.GiftCodeResolvingHeader=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(17)),l=E(n(4)),u=E(n(43)),s=E(n(15)),d=E(n(6097)),f=E(n(179)),c=E(n(5988)),p=n(6009),h=n(0),y=E(n(13)),m=E(n(317)),v=E(n(5351)),_=E(n(5665));function E(e){return e&&e.__esModule?e:{default:e}}(t.GiftCodeResolvingHeader=function(){return o(a.Fragment,{},void 0,o(p.Avatar,{src:null,size:p.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),o(p.Subtitle,{},void 0,y.default.Messages.GIFT_CODE_AUTH_GIFTED),o(p.Title,{className:(0,i.default)(v.default.marginTop8,m.default.flexCenter)},void 0,y.default.Messages.LOADING))}).displayName="GiftCodeResolvingHeader";var g=function(e){var t=e.error,n=e.gifter,r=e.sku,l=e.application,u=e.subscriptionPlan,s=null==n?y.default.Messages.GIFT_CODE_AUTH_GIFTED:y.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),d=r.name;return null!=u&&(d=(u.interval===h.SubscriptionIntervalTypes.MONTH?y.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:y.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:r.name,intervalCount:u.intervalCount})),o(a.Fragment,{},void 0,o(p.Avatar,{src:null!=n?n.getAvatarURL():null,size:p.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),null!=t?o(a.Fragment,{},void 0,o(p.Subtitle,{},void 0,y.default.Messages.INVITE_MODAL_ERROR_TITLE),o(p.Title,{},void 0,t)):o(a.Fragment,{},void 0,o(p.Subtitle,{},void 0,s),o(p.Title,{className:(0,i.default)(v.default.marginTop8,m.default.flexCenter)},void 0,o(c.default,{size:c.default.Sizes.MEDIUM,className:_.default.applicationIcon,game:l,skuId:r.id}),d)))};g.displayName="GiftCodeHeader",t.default=l.default.connectStores([f.default,u.default,d.default,s.default],function(e){var t=e.giftCode,n=f.default.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?d.default.get(r):null,application:null!=n?u.default.getGame(n.applicationId):null,gifter:s.default.getUser(t.userId)}})(g)},6412:function(e,t,n){"use strict";t.__esModule=!0,t.shouldNotify=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r.default.getChannel(t);if(null==a)return!1;if(a.isManaged())return!1;var p=a.getGuildId();if(null!=p&&o.default.isLurking(p))return!1;var h=f.default.getUser(e.author.id),m=f.default.getCurrentUser();if(null==h||null==m)return!1;if(h.id===m.id)return!1;if(i.default.isBlocked(h.id))return!1;if(s.default.getStatus()===y.StatusTypes.DND)return!1;if(d.default.allowNoMessages(a))return!1;if(n){var v=u.default.getGuildId(),_=l.default.getChannelId(v);if(_===a.id)return!1}if(d.default.allowAllMessages(a))return!0;var E=d.default.isSuppressEveryoneEnabled(a.getGuildId());return c.default.isMentioned(e,m.id,E)},t.makeTextChatNotification=function(e,t,n){var o=p.default.getName(e.getGuildId(),e.id,n),i=o;switch(e.type){case y.ChannelTypes.GUILD_NEWS:case y.ChannelTypes.GUILD_TEXT:var l=r.default.getChannel(e.parent_id);if(t.type===y.MessageTypes.DEFAULT)i=_(i,e,l);else{var u=a.default.getGuild(e.getGuildId());null!=u&&(i=_(i,e,l))}break;case y.ChannelTypes.GROUP_DM:var s=e.isManaged()&&n.bot&&i===e.toString();s||(i=i+" ("+e.toString(!0)+")")}var d=t.content;if(t.type!==y.MessageTypes.DEFAULT&&null==(d=h.default.stringify(t)))throw console.warn("SystemMessageUtils.stringify(...) could not convert",t),new Error("failed to stringify system message");var f=void 0;if(null!=t.activity&&null!=t.application){var v=t.activity.type===y.ActivityActionTypes.JOIN,g=void 0;g=v?E(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN):E(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_SPECTATE,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_SPECTATE,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_SPECTATE),f=g.format({user:o,game:t.application.name})}else if(null!=t.activity&&t.activity.type===y.ActivityActionTypes.LISTEN){var S=E(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_LISTEN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_LISTEN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_LISTEN);f=S.format({user:o})}else f=c.default.unparse(d,e.id,!0);if(!f.length&&t.attachments.length){var T=t.attachments[0].filename;f=m.default.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:T})}if(!f.length&&t.embeds.length){var I=t.embeds[0];if(null!=I.description)f=null!=I.title?I.title+": "+I.description:I.description;else if(null!=I.title)f=I.title;else if(null!=I.fields){var C=I.fields[0];f=C.name+": "+C.value}}return{icon:n.getAvatarURL(),title:i,body:f}};var r=v(n(22)),o=v(n(232)),a=v(n(28)),i=v(n(91)),l=v(n(51)),u=v(n(155)),s=v(n(323)),d=v(n(226)),f=v(n(15)),c=v(n(319)),p=v(n(458)),h=v(n(6338)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e,t,n){return e+" ("+t.toString(!0)+(null!=n?", "+n.toString():"")+")"};function E(e,t,n,r){switch(e.type){case y.ChannelTypes.GUILD_NEWS:case y.ChannelTypes.GUILD_TEXT:return t;case y.ChannelTypes.GROUP_DM:return n;case y.ChannelTypes.DM:default:return r}}},6417:function(e,t,n){"use strict";t.__esModule=!0,t.isSupported=l,t.setEnabled=function(e){return null!=u?u.then(function(t){t.enabled=e}):Promise.resolve()},t.setLearnedWords=function(e){return null!=u?u.then(function(t){return t.setLearnedWords(e)}):Promise.resolve()},t.isMisspelled=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null!=u?u.then(function(n){return n.isMisspelled(e,t)}):Promise.resolve(!1)},t.getCorrections=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return null!=u?u.then(function(r){return r.getCorrectionsForMisspelling(e,t).slice(0,n)}):Promise.resolve([])},t.replaceWithCorrection=function(e){r.default.spellCheck.replaceMisspelling(e)};var r=i(n(92)),o=n(6804),a=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return a.default.embedded&&(a.default.isOSX()||a.default.isWindows()&&parseFloat(r.default.os.release)>=6.2)}var u=l()?(0,o.install)():null},6418:function(e,t,n){"use strict";t.__esModule=!0;t.default={aa:"aa-ET",af:"af-ZA",ak:"ak-GH",am:"am-ET",an:"an-ES",ar:"ar-MA",as:"as-IN",ay:"ay-PE",az:"az-AZ",be:"be-BY",bg:"bg-BG",bi:"bi-TV",bn:"bn-BD",bo:"bo-CN",br:"br-FR",bs:"bs-BA",ca:"ca-ES",ce:"ce-RU",cs:"cs-CZ",cv:"cv-RU",cy:"cy-GB",da:"da-DK",de:"de-DE",dv:"dv-MV",dz:"dz-BT",el:"el-GR",en:"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fa:"fa-IR",ff:"ff-SN",fi:"fi-FI",fo:"fo-FO",fr:"fr-FR",fy:"fy-DE",ga:"ga-IE",gd:"gd-GB",gl:"gl-ES",gu:"gu-IN",gv:"gv-GB",ha:"ha-NG",he:"he-IL",hi:"hi-IN",hr:"hr-HR",ht:"ht-HT",hu:"hu-HU",hy:"hy-AM",ia:"ia-FR",id:"id-ID",ig:"ig-NG",ik:"ik-CA",is:"is-IS",it:"it-IT",iu:"iu-CA",ja:"ja-JP",ka:"ka-GE",kk:"kk-KZ",kl:"kl-GL",km:"km-KH",kn:"kn-IN",ko:"ko-KR",ks:"ks-IN",ku:"ku-TR",kw:"kw-GB",ky:"ky-KG",lb:"lb-LU",lg:"lg-UG",li:"li-BE",ln:"ln-CD",lo:"lo-LA",lt:"lt-LT",lv:"lv-LV",mg:"mg-MG",mh:"mh-MH",mi:"mi-NZ",mk:"mk-MK",ml:"ml-IN",mn:"mn-MN",mr:"mr-IN",ms:"ms-MY",mt:"mt-MT",my:"my-MM",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",nn:"nn-NO",nr:"nr-ZA",oc:"oc-FR",om:"om-KE",or:"or-IN",os:"os-RU",pa:"pa-PK",pl:"pl-PL",ps:"ps-AF",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",rw:"rw-RW",sa:"sa-IN",sc:"sc-IT",sd:"sd-IN",se:"se-NO",si:"si-LK",sk:"sk-SK",sl:"sl-SI",so:"so-SO",sq:"sq-AL",sr:"sr-RS",ss:"ss-ZA",st:"st-ZA",sv:"sv-SE",sw:"sw-KE",ta:"ta-IN",te:"te-IN",tg:"tg-TJ",th:"th-TH",ti:"ti-ER",tk:"tk-TM",tl:"tl-PH",tn:"tn-ZA",tr:"tr-TR",ts:"ts-ZA",tt:"tt-RU",ug:"ug-CN",uk:"uk-UA",ur:"ur-PK",uz:"uz-UZ",ve:"ve-ZA",vi:"vi-VN",wa:"wa-BE",wo:"wo-SN",xh:"xh-ZA",yi:"yi-US",yo:"yo-NG",zh:"zh-CN",zu:"zu-ZA"},e.exports=t.default},6419:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(1)),o=s(n(318)),a=s(n(6420)),i=s(n(18)),l=n(0),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_OPEN,guildId:e,channelId:t,forceChannel:o}),this.createInvite("IOS InstantInvite Mount",!0),i.default.track(l.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite",Source:n})},updateSettings:function(e){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_UPDATE_SETTINGS,settings:e})},resetSettings:function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_RESET_SETTINGS})},createInvite:function(e,t){var n=a.default.getPendingSettings();if(null!=n){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE});var i=n.channelId,s=n.maxAge,d=n.maxUses,f=n.temporary,c=a.default.getInvite(),p=t&&null!=c?c.code:null;o.default.createInvite(i,{validate:p,max_age:parseInt(s,10),max_uses:parseInt(d,10),temporary:f},e).then(function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS,channelId:i})},function(e){var t=u.default.Messages.INSTANT_INVITE_FAILED_TO_GENERATE;null!=e.body&&null!=e.body.message&&(t=e.body.message),r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE,message:t})})}},close:function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_CLOSE})}},e.exports=t.default},6420:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(4)),a=s(n(1)),i=s(n(229)),l=s(n(6167)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=i.default.INVITE_OPTIONS_1_DAY.value,f=i.default.INVITE_OPTIONS_UNLIMITED.value,c=u.FormStates.CLOSED,p=!1,h=void 0,y=void 0,m=void 0,v=void 0,_=void 0;function E(e){m=l.default.getInvite(e),v={channelId:e,maxAge:null!=m?m.maxAge:d,maxUses:null!=m?m.maxUses:f,temporary:null!=m&&m.temporary},_=v}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return c!==u.FormStates.CLOSED},t.prototype.isSubmitting=function(){return c===u.FormStates.SUBMITTING},t.prototype.isChannelForced=function(){return p},t.prototype.getGuildId=function(){return h},t.prototype.getError=function(){return y},t.prototype.getInvite=function(){return m},t.prototype.getInviteSettings=function(){return v},t.prototype.getPendingSettings=function(){return _},t}(o.default.Store);t.default=new g(a.default,{CREATE_INVITE_MODAL_OPEN:function(e){c=u.FormStates.OPEN,p=e.forceChannel,h=e.guildId,y=null,E(e.channelId)},CREATE_INVITE_MODAL_UPDATE_SETTINGS:function(e){var t=e.settings;_=r({},_,t)},CREATE_INVITE_MODAL_RESET_SETTINGS:function(e){_=v},CREATE_INVITE_MODAL_GENERATE_INVITE:function(e){return c=u.FormStates.SUBMITTING,void(v=_)},CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS:function(e){var t=e.channelId;c=u.FormStates.OPEN,y=null,E(t)},CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE:function(e){c=u.FormStates.OPEN,m=null,y=e.message},CREATE_INVITE_MODAL_CLOSE:function(e){c=u.FormStates.CLOSED}}),e.exports=t.default},6421:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(446)),o=d(n(157)),a=d(n(12)),i=d(n(22)),l=d(n(922)),u=d(n(65)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=1010,c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{defaultRetryAfter:f,logger:u.default.create("InviteQueue")}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._sendInvite=function(e,t,n){o.default.sendInvite(e.id,t,s.AnalyticsLocations.GUILD_CREATE_INVITE_SUGGESTION).then(function(){return n(null,!0)},function(){return n(null,!1)})},t.prototype.drain=function(e,t){var n=this,o=e.code,l=e.channel,u=e.user;null!=l?this._sendInvite(l,o,t):null!=u?r.default.ensurePrivateChannel(a.default.getId(),u.id).then(function(e){null!=(l=i.default.getChannel(e))&&n._sendInvite(l,o,t)},function(){return t(null,!1)}):t(null,!1)},t}(l.default);t.default=new c,e.exports=t.default},6422:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(6049)),o=a(n(13));function a(e){return e&&e.__esModule?e:{default:e}}t.default={MENTION_EVERYONE:function(){return{test:"everyone",text:"@everyone",description:o.default.Messages.MENTION_EVERYONE_AUTOCOMPLETE_DESCRIPTION}},MENTION_HERE:function(){return{test:"here",text:"@here",description:o.default.Messages.MENTION_HERE_AUTOCOMPLETE_DESCRIPTION}},LAUNCHABLE_APPLICATIONS:function(){return r.default.launchableApplicationViewItems}},e.exports=t.default},6423:function(e,t,n){"use strict";var r;t.__esModule=!0;var o=h(n(6)),a=n(131),i=h(n(845)),l=h(n(853)),u=h(n(6378)),s=h(n(6058)),d=h(n(457)),f=n(454),c=n(6020),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=[p.Routes.ACTIVITY,p.Routes.APPLICATION_LIBRARY,p.Routes.APPLICATION_STORE,p.Routes.FRIENDS],m=((r={})[p.Routes.ACTIVITY]=0,r[p.Routes.APPLICATION_LIBRARY]=1,r[p.Routes.APPLICATION_STORE]=2,r[p.Routes.FRIENDS]=3,r);function v(e,t){(0,c.transitionToChannel)(e,t)}function _(e){var t=i.default.getChannelId(p.ME),n=d.default.getPrivateChannelIds(),r=__OVERLAY__?n:[].concat(y,n),o=(null==t?function(e){for(var t in m)if(e.startsWith(t))return m[t];return-1}(s.default.getHomeLink()):r.indexOf(t))+e;o>=r.length?o=0:o<0&&(o=r.length-1);var a,l,f=r[o];y.includes(f)?(a=f,l=u.default.getCurrentRoute(),a===p.Routes.APPLICATION_STORE&&null!=l?(0,c.transitionToPage)(l):(0,c.transitionToPage)(a)):v(p.ME,f)}t.default=o.default.throttle(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=i.default.getGuildId();null==t?_(e):function(e,t){var n,r,o=l.default.getCategories(t),u=(0,f.getFlattenedChannelList)(o._categories,o,function(e){var t=e.channel;return(0,a.isGuildSelectableChannelType)(t.type)&&!(0,f.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),s=i.default.getChannelId(t);v(t,u[(n=u.indexOf(s)+e,r=u.length,n<0?r-1:n>=r?0:n)])}(e,t)},p.NAVIGATION_THROTTLE),e.exports=t.default},6424:function(e,t,n){"use strict";t.__esModule=!0,t.CREATE_DM_GROUP=void 0;var r=u(n(6e3)),o=u(n(155)),a=n(109),i=n(6020),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=t.CREATE_DM_GROUP={binds:["mod+shift+t"],global:!0,action:function(){return o.default.getGuildId()&&((0,i.transitionToChannel)(l.ME),r.default.flushSelection(!0)),a.ComponentDispatch.safeDispatch(l.ComponentActions.TOGGLE_DM_CREATE),!1}};t.default={CREATE_DM_GROUP:s}},6425:function(e,t,n){"use strict";t.__esModule=!0,t.CREATE_GUILD=void 0;var r=l(n(6072)),o=l(n(6379)),a=n(109),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.CREATE_GUILD={binds:["mod+shift+n"],global:!0,action:function(){o.default.isOpen()?(r.default.setScreen(i.CreateGuildModalScreens.JoinGuild),a.ComponentDispatch.dispatch(i.ComponentActions.TRANSITION_JOIN_GUILD)):r.default.open(null,"Keyboard Shortcut")}};t.default={CREATE_GUILD:u}},6426:function(e,t,n){"use strict";t.__esModule=!0,t.FOCUS_SEARCH=void 0;var r=n(109),o=n(0);t.FOCUS_SEARCH={binds:["mod+f"],global:!0,action:function(e){e.preventDefault(),e.stopPropagation(),r.ComponentDispatch.dispatch(o.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!0})}}},6427:function(e,t,n){"use strict";t.__esModule=!0,t.SEARCH_GIFS=void 0;var r=n(109),o=n(0),a=t.SEARCH_GIFS={binds:["mod+g"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(o.ComponentActions.TOGGLE_GIF_PICKER),!1}};t.default={SEARCH_GIFS:a}},6428:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(6)),o=d(n(845)),a=d(n(51)),i=d(n(455)),l=d(n(6058)),u=n(6020),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.throttle(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=i.default.guildPositions,n=o.default.getGuildId(),r=-1;n&&(r=t.indexOf(n)),-2===(r+=e)&&(r=t.length-1);var s=void 0;if(r>=t.length||r<0)(0,u.transitionToPage)(l.default.getHomeLink());else{s=t[r];var d=a.default.getChannelId(s);(0,u.transitionToChannel)(s,d===s?null:d)}},s.NAVIGATION_THROTTLE),e.exports=t.default},6429:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CHANNEL_PINS=void 0;var r=n(109),o=n(0),a=t.TOGGLE_CHANNEL_PINS={binds:["mod+p"],global:!0,action:function(){return r.ComponentDispatch.dispatch(o.ComponentActions.TOGGLE_CHANNEL_PINS),!1}};t.default={TOGGLE_CHANNEL_PINS:a}},6430:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_HELP=void 0;var r=n(314),o=t.TOGGLE_HELP={binds:["mod+shift+h","f1"],global:!0,action:function(){return window.open(r.SUPPORT_LOCATION),!1}};t.default={TOGGLE_HELP:o}},6431:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_MENTIONS=void 0;var r=n(109),o=n(0),a=t.TOGGLE_MENTIONS={binds:["mod+i"],global:!0,action:function(){return r.ComponentDispatch.dispatch(o.ComponentActions.TOGGLE_MENTIONS),!1}};t.default={TOGGLE_MENTIONS:a}},6432:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_USERS=void 0;var r,o=n(6382),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);var l=t.TOGGLE_USERS={binds:["mod+u"],global:!0,action:function(){return a.default.toggleSection(i.ChannelSections.MEMBERS),!1}};t.default={TOGGLE_USERS:l}},6433:function(e,t,n){"use strict";t.__esModule=!0;var r=p(n(6)),o=n(131),a=p(n(845)),i=p(n(853)),l=p(n(455)),u=p(n(457)),s=n(454),d=n(109),f=n(6020),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e===c.ME)return u.default.getPrivateChannelIds();var t=i.default.getCategories(e);return(0,s.getFlattenedChannelList)(t._categories,t,function(e){var t=e.channel;return(0,o.isGuildSelectableChannelType)(t.type)&&!(0,s.isChannelCollapsed)(t)}).map(function(e){return e.channel.id})}t.default=r.default.throttle(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},r=a.default.getGuildId()||c.ME,o=function(e,t){var n=[c.ME].concat(l.default.guildPositions),r=n.indexOf(e);return t>0?n.slice(r).concat(n.slice(0,r),e):(n.splice(r,0,e),n.slice(r+1).concat(n.slice(0,r+1)))}(r,e),i=e>0?0:o.length-1,u=h(r),s=u.indexOf(a.default.getChannelId(r))+e,p=void 0;r;){if(p=u[s],n(r))for(;p;){if(t(r,p))return(0,f.transitionToChannel)(r,p);p=u[s+=e]}if(!(r=o[i+=e]))break;u=h(r),s=e<0?u.length-1:0}d.ComponentDispatch.dispatch(c.ComponentActions.SHAKE_APP,{duration:200,intensity:2})},c.NAVIGATION_THROTTLE),e.exports=t.default},6434:function(e,t,n){"use strict";t.__esModule=!0,t.UPLOAD_FILE=void 0;var r=l(n(22)),o=l(n(51)),a=n(109),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.UPLOAD_FILE={binds:["mod+shift+u"],global:!0,action:function(){var e=r.default.getChannel(o.default.getChannelId());return null==e||e.isManaged()||a.ComponentDispatch.dispatch(i.ComponentActions.UPLOAD_FILE),!1}};t.default={UPLOAD_FILE:u}},6435:function(e,t,n){e.exports=n.p+"3bd0d83cb24ccf918b757ab5c18dc564.svg"},6436:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),f(n(17))),i=f(n(4)),l=f(n(132)),u=n(5979),s=n(224),d=f(n(5514));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.streaming,n=e.status,r=e.hideTooltip,i=e.className,l=e.style;return o(u.AvatarStatusIcon,{status:t?u.AvatarStatuses.STREAMING:n,hideTooltip:r,className:(0,a.default)(d.default.status,i),style:l})};c.displayName="Status",t.default=i.default.connectStores([l.default],function(e){var t=e.userId,n=e.defaultStatus;return{status:null!=t?l.default.getStatus(t,null,n):n,streaming:null!=t&&(0,s.isStreaming)(l.default.getPrimaryActivity(t))}})(c),e.exports=t.default},6437:function(e,t,n){e.exports=n.p+"c83861b2303b7ee40c419e9590d57f11.svg"},6438:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(8)),a=l(n(1)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.default=r({},{},{addPhone:function(e){a.default.dispatch({type:i.ActionTypes.VERIFICATION_ADDING_PHONE}),o.default.post({url:i.Endpoints.PHONE,body:{phone:e}}).then(function(){return a.default.dispatch({type:i.ActionTypes.VERIFICATION_ADD_PHONE_SUCCESS})},function(e){var t=e.body;return a.default.dispatch({type:i.ActionTypes.VERIFICATION_ADD_PHONE_FAILURE,error:t.message})})},verifyPhone:function(e){return a.default.dispatch({type:i.ActionTypes.VERIFICATION_VERIFYING_PHONE}),o.default.post({url:i.Endpoints.VERIFY_PHONE,body:{code:e}}).then(function(e){return a.default.dispatch({type:i.ActionTypes.VERIFICATION_VERIFY_PHONE_SUCCESS}),a.default.dispatch({type:i.ActionTypes.MODAL_POP}),e},function(e){throw a.default.dispatch({type:i.ActionTypes.VERIFICATION_VERIFY_PHONE_FAILURE,error:e.body.message}),e})},reset:function(){a.default.dirtyDispatch({type:i.ActionTypes.VERIFICATION_ADD_PHONE_RESET})}}),e.exports=t.default},6439:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(6117)),s=c(n(6440)),d=c(n(836)),f=c(n(5520));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(){return a(d.default,{className:f.default.divider})};m.displayName="PopoutListDivider";var v=function(e){var t=e.children;return a("div",{className:f.default.popoutListEmpty},void 0,t)};v.displayName="PopoutListEmpty";var _=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return i.createElement(u.default,o({},n,{className:(0,l.default)(f.default.popoutListInput,t)}))},t}(i.PureComponent);_.defaultProps={autoFocus:!0},_.displayName="PopoutListSearchBar";var E=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return a("div",{className:(0,l.default)(f.default.popoutList,t)},void 0,n)},t}(i.PureComponent);E.SearchBar=_,E.Item=s.default,E.Divider=m,E.Empty=v,E.displayName="PopoutList",t.default=E,e.exports=t.default},6440:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(17)),u=n(231),s=h(n(152)),d=h(n(306)),f=n(0),c=h(n(5351)),p=h(n(5519));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return m.call(r),r.state={color:r._getColor(n.color)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.color!==e.color&&this.setState({color:this._getColor(e.color)})},t.prototype.render=function(){var e,t=this.state.color,n=this.props,r=n.selected,i=n.color,u=n.className,h=n.children,y=void 0;return r?y={color:t,background:i||f.Colors.BRAND}:null!=i&&(y={color:i}),a(s.default,{className:(0,l.default)(p.default.selectableItem,u,(e={},e[p.default.selected]=r,e)),onClick:this.handleClick,align:s.default.Align.CENTER,style:o({},y,this.props.style)},void 0,a(s.default,{align:s.default.Align.CENTER,className:p.default.selectableItemLabel,shrink:1},void 0,h),r&&a(s.default,{wrap:s.default.Wrap.WRAP,className:c.default.marginReset,grow:0,shrink:0},void 0,a(d.default,{name:d.default.Names.CHECKMARK,color:t})))},t}(i.PureComponent),m=function(){var e=this;this._getColor=function(e){var t=!1;if(null!=e&&(0,u.isValidHex)(e)){var n=(0,u.hex2int)(e);null!=n&&(t=(0,u.getDarkness)(n)<.2)}return t?f.Colors.BLACK:f.Colors.WHITE},this.handleClick=function(){var t=e.props;(0,t.onClick)(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["onClick"]))}};y.displayName="SelectableItem",t.default=y,e.exports=t.default},6441:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(221)),s=c(n(306)),d=c(n(828)),f=c(n(5524));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=p(this,e.call.apply(e,[this].concat(a))),r._textInputRef=i.createRef(),r.handleClear=function(){var e=r.props,t=e.onClear,n=e.forwardedRef,o=(null!=n?n:r._textInputRef).current;null!=o&&o.focus(),null!=t&&t()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.label,r=e.placeholder,o=e.searchTerm,i=e.inputClassName,c=e.className,p=e.onChange,h=e.autoComplete,y=e.forwardedRef,m=e.iconClassName,v=null!=o&&o.length>0;return a("div",{className:(0,l.default)(f.default.searchBox,c)},void 0,a(d.default,{inputRef:null!=y?y:this._textInputRef,name:"search",maxLength:100,className:f.default.searchBoxInputWrapper,inputClassName:(0,l.default)(f.default.searchBoxInput,i),onChange:p,value:v?o:"",placeholder:r,autoFocus:t,"aria-label":n,autoComplete:h?"on":"off"}),v?a(u.default,{onClick:this.handleClear,className:f.default.clear},void 0,a(s.default,{name:s.default.Names.CLEAR,className:(0,l.default)(f.default.clearIcon,m)})):a(s.default,{className:(0,l.default)(f.default.searchIcon,m),name:s.default.Names.SEARCH}))},t}(i.Component);h.defaultProps={autoComplete:!1},h.displayName="SearchBox",t.default=i.forwardRef(function(e,t){return i.createElement(h,o({forwardedRef:t},e))}),e.exports=t.default},6442:function(e,t,n){"use strict";t.__esModule=!0,t.Message=t.MessageAvatar=t.ClickOverlay=t.LocalBotMessage=t.MessageUsername=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.MessageTimestamp=b;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(17)),u=S(n(328)),s=n(82),d=n(5992),f=S(n(5979)),c=S(n(6443)),p=S(n(6083)),h=S(n(221)),y=S(n(827)),m=S(n(6210)),v=S(n(6444)),_=n(0),E=S(n(13)),g=S(n(5440));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N={LATIN12:g.default.latin12CompactTimeStamp,LATIN24:g.default.latin24CompactTimeStamp,ASIAN:g.default.asianCompactTimeStamp},A=5,O=/(AM|PM)$/;function b(e){var t,n=e.isCompact,r=void 0!==n&&n,o=e.timestamp,i=e.isVisibleOnlyOnHover,u=void 0!==i&&i,s=e.isMentioned,f=e.backgroundOpacity,c=r?(0,d.dateFormat)(o,"LT"):(0,d.calendarFormat)(o),p=r?function(e){return e.match(O)?N.LATIN24:e.length<=A?N.LATIN12:N.ASIAN}(c):null;return a("time",{className:(0,l.default)(p,g.default[f+"BackgroundOpacity"],(t={},t[g.default.timestampVisibleOnHover]=u,t[g.default.timestampCozy]=!r,t[g.default.timestampCompact]=r&&!s,t[g.default.timestampCompactIsMentioned]=r&&s,t)),dateTime:o},void 0,r&&a("i",{className:g.default.separatorLeft},void 0,"["),c,r&&a("i",{className:g.default.separatorRight},void 0,"] "))}b.displayName="MessageTimestamp";var M=t.MessageUsername=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.onClick=function(e){var t=r.props,n=t.message;(0,t.onClick)(e,n)},I(r,n)}return C(t,e),t.prototype.onMouseDown=function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation())},t.prototype.render=function(){var e=this.props,t=e.message,n=e.isCompact,r=e.renderPopout,o=e.popoutPosition,i=e.onContextMenu,u=e.backgroundOpacity,s=t.colorString?{color:t.colorString}:null,d=t.author.bot?a(p.default,{className:n?g.default.botTagCompact:g.default.botTagCozy}):null;return a(y.default,{closeOnScroll:!1,render:r,position:o,shadow:!n},void 0,a("span",{onContextMenu:i,className:g.default.usernameWrapper},void 0,n?d:null,a(h.default,{tag:"span",className:(0,l.default)(g.default.username,g.default[u+"BackgroundOpacity"]),style:s,onMouseDown:this.onMouseDown,onClick:this.onClick},void 0,t.nick||t.author.toString()),n&&a("i",{className:g.default.separatorRight},void 0,": "),n?null:d))},t}(i.Component);M.defaultProps={isCompact:!1},M.displayName="MessageUsername";var R=t.LocalBotMessage=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.onDeleteMessages=function(){var e=r.props,t=e.messages,n=e.channelId,o=e.onDeleteMessage;t.forEach(function(e){return o(n,e.id,!0)})},I(r,n)}return C(t,e),t.prototype.render=function(){var e=this.props.messages.length;return a("div",{className:g.default.localBotMessage},void 0,E.default.Messages.ONLY_YOU_CAN_SEE_AND_DELETE_THESE.format({count:e,handleDelete:this.onDeleteMessages}))},t}(i.Component);R.displayName="LocalBotMessage";var P=t.ClickOverlay=function(e){var t=e.onClick,n=e.label;return t&&n?a(h.default,{className:g.default.clickOverride,onClick:t,"aria-label":n}):a("div",{className:g.default.disableInteraction})},L=t.MessageAvatar=function(e){var t=e.user,n=e.isAnimated,r=e.onContextMenu,o=e.renderPopout,i=(0,s.hasAnimatedAvatar)(t),l=n&&i?t.getAvatarURL("gif"):t.getAvatarURL("jpg");return a(y.default,{closeOnScroll:!1,render:o,position:y.default.Positions.RIGHT,shadow:!1},void 0,a(f.default,{"aria-hidden":!0,src:l,size:f.default.Sizes.LARGE,className:g.default.avatar,onContextMenu:r,tabIndex:-1}))};L.displayName="MessageAvatar";var w=t.Message=function(e){function t(){var n,r;T(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=I(this,e.call.apply(e,[this].concat(u))),r.setRef=function(e){var t=r.props,n=t.registerMessageDOMNode,o=t.message;e&&(r.ref=e,null!=n&&n(o.id,e))},r.onClick=function(e){var t=r.props,n=t.onManualAck,o=t.channel,a=t.message;e.altKey&&(e.preventDefault(),n(o.id,a.id))},r.onContextMenuMessage=function(e,t){var n=r.props.onContextMenuMessage,a=e.target;n(e,o({target:a},t))},r.onContextMenuUser=function(e){var t=r.props,n=t.channel,o=t.message.author;(0,t.onContextMenuUser)(e,{user:o,channel:n})},r.onClickUsername=function(e,t){var n=r.props,o=n.onClickUsername,a=n.channel;o(e,{user:t.author,channel:a})},r.onResize=function(e){var t=r.props;(0,t.onResize)({target:e,isEditing:t.isEditing})},r.renderPopoutUser=function(e){var t=r.props,n=t.renderPopoutUser,a=t.channel,i=t.message.author,l=a.getGuildId(),u=a.id;return n(o({channelId:u,guildId:l,user:i},e))},r.renderCompactHeader=function(){var e=r.props,t=e.message,n=e.isHeader,o=e.isEditing,l=e.popoutPosition,u=e.backgroundOpacity,s=o||n,d=t.mentioned,f={message:t,isCompact:!0,renderPopout:r.renderPopoutUser,popoutPosition:l,onContextMenu:r.onContextMenuUser,onClick:r.onClickUsername,backgroundOpacity:u};return a("h2",{className:g.default.headerCompact},void 0,a(b,{isVisibleOnlyOnHover:!s,isCompact:!0,timestamp:t.timestamp,isMentioned:d,backgroundOpacity:u}),i.createElement(M,f))},I(r,n)}return C(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.isEditing,r=t.message,o=t.onResize,a=t.registerMessageDOMNode,i=e.message.embeds!==r.embeds||e.message.attachments!==r.attachments||e.message.reactions.length!==r.reactions.length;this.ref&&i&&o({isEditing:n,target:this.ref});var l=e.isEditing!==n;this.ref&&l&&o({isEditing:!0,target:this.ref}),e.registerMessageDOMNode!==a&&a&&this.ref&&a(r.id,this.ref)},t.prototype.renderCompact=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,o=e.renderEditor,l=e.renderButtons,u=e.editingContent,s=e.isEditing,d=e.onCancelEditing,f=e.onChange,c=e.onConfirmDelete,p=e.saveMessage,h=e.validateEdit,y=e.disableButtons,_=e.disableMentionStyles,E=e.disablePromoteButton,S=e.isDisabled;return i.createElement("div",{ref:this.setRef,className:g.default.messageCompact,"aria-disabled":S,onClick:this.onClick},s&&this.renderCompactHeader(),s&&null!=u?a(v.default,{className:g.default.messageEditorCompact,channel:n,message:t,value:u,children:o,onCancel:d,onChange:f,onConfirmDelete:c,onResize:this.onResize,saveMessage:p,validateEdit:h}):a(m.default,{className:g.default.contentCompact,channel:n,message:t,isCompact:!0,onContextMenu:this.onContextMenuMessage,renderButtons:l,renderPrefix:this.renderCompactHeader,disableButtons:y,disableMentionStyles:_,disablePromoteButton:E}),r({message:t}))},t.prototype.renderCozy=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,o=e.renderEditor,u=e.renderButtons,s=e.isFocusedWindow,d=e.disableAvatarAnimation,f=e.editingContent,c=e.isEditing,p=e.isHeader,h=e.onCancelEditing,y=e.onChange,_=e.onConfirmDelete,E=e.saveMessage,S=e.validateEdit,T=e.popoutPosition,I=e.disableButtons,C=e.disableMentionStyles,N=e.disablePromoteButton,A=e.isDisabled,O=e.cozyClassName,R=e.backgroundOpacity,P={message:t,isCompact:!1,renderPopout:this.renderPopoutUser,popoutPosition:T,onContextMenu:this.onContextMenuUser,onClick:this.onClickUsername,backgroundOpacity:R};return i.createElement("div",{ref:this.setRef,className:(0,l.default)(O,g.default.messageCozy),"aria-disabled":A,onClick:this.onClick},p?a("div",{className:g.default.headerCozy},void 0,a(L,{user:t.author,onContextMenu:this.onContextMenuUser,renderPopout:this.renderPopoutUser,isAnimated:!d&&s}),a("h2",{className:g.default.headerCozyMeta},void 0,i.createElement(M,P),a(b,{timestamp:t.timestamp,backgroundOpacity:R}))):null,a("div",{className:g.default.contentCozy},void 0,c&&null!=f?a(v.default,{channel:n,message:t,value:f,children:o,onCancel:h,onChange:y,onConfirmDelete:_,onResize:this.onResize,saveMessage:E,validateEdit:S}):a(m.default,{channel:n,message:t,isCompact:!1,onContextMenu:this.onContextMenuMessage,renderButtons:u,renderPrefix:null,disableButtons:I,disableMentionStyles:C,disablePromoteButton:N}),r({message:t})))},t.prototype.render=function(){var e=this.props,t=e.isCompact,n=e.disableJumpFlash,r=e.jumpSequenceId,o=t?this.renderCompact():this.renderCozy();return r&&!n?a(c.default,{sequenceId:r},void 0,o):o},t}(i.Component);w.defaultProps={disableAvatarAnimation:!0,disablePromoteButton:!0,isFocusedWindow:!0},w.displayName="Message";var D=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=I(this,e.call.apply(e,[this].concat(i))),r.state={disableAvatarAnimation:!0,isAnimatableAvatar:(0,s.hasAnimatedAvatar)(r.props.messages[0]&&r.props.messages[0].author)},r.onMouseEnter=function(){return r.setState({disableAvatarAnimation:!1})},r.onMouseLeave=function(){return r.setState({disableAvatarAnimation:!0})},r.renderButtonsMessage=function(e){var t=e.message,n=e.channel,o=r.props.renderButtonsMessage;return null==o?null:a("div",{className:g.default.buttonContainer},void 0,o({message:t,channel:n}))},I(r,n)}return C(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this.props.messages;if(n.length!==e.messages.length)return!0;if(!(0,u.default)(this.props,e,["messages"])||!(0,u.default)(this.state,t))return!0;for(var r=!1,o=!1,a=!1,i=0,l=n.length;i<l;i++){var s=e.messages[i];if(!r&&s.reactions.length&&(r=!0),!o&&s.embeds.length&&(o=!0),!a&&s.attachments.length&&(a=!0),n[i]!==s)return!0}var d=this.props,f=d.disableReactionReads,c=d.disableReactionCreates,p=d.disableReactionUpdates,h=d.disableAutoPlayGif,y=d.disableEmbeds,m=d.disableManageMessages,v=d.disableDeveloperMode,_=d.disablePromoteButton;return!(!r||p===e.disableReactionUpdates&&f===e.disableReactionReads)||(!(!o||h===e.disableAutoPlayGif&&y===e.disableEmbeds)||(!(!a||h===e.disableAutoPlayGif)||(c!==e.disableReactionCreates||m!==e.disableManageMessages||v!==e.disableDeveloperMode||_!==e.disablePromoteButton)))},t.getDerivedStateFromProps=function(e,t){var n=e.messages[0],r=n&&(0,s.hasAnimatedAvatar)(n.author);return r!==t.isAnimatableAvatar?{isAnimatableAvatar:r}:null},t.prototype.render=function(){var e,t=this,n=this.props,r=n.messages,u=n.channel,s=n.editingMessageId,d=n.renderButtonsGroup,f=n.renderSystemMessage,c=n.onClick,p=n.onDeleteMessage,h=n.disableInteraction,y=n.disableInteractionLabel,m=n.disableDivider,v=n.disablePromoteButton,E=n.editingContent,S=n.isCompact,T=n.jumpMessageId,I=n.jumpSequenceId,C=n.className,N=n.backgroundOpacity,A=(n.renderButtonsMessage,n.disableReactionReads,n.disableReactionCreates,n.disableReactionUpdates,n.disableAutoPlayGif,n.disableEmbeds,n.disableManageMessages,n.disableDeveloperMode,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["messages","channel","editingMessageId","renderButtonsGroup","renderSystemMessage","onClick","onDeleteMessage","disableInteraction","disableInteractionLabel","disableDivider","disablePromoteButton","editingContent","isCompact","jumpMessageId","jumpSequenceId","className","backgroundOpacity","renderButtonsMessage","disableReactionReads","disableReactionCreates","disableReactionUpdates","disableAutoPlayGif","disableEmbeds","disableManageMessages","disableDeveloperMode"])),O=this.state,b=O.isAnimatableAvatar,M=O.disableAvatarAnimation,L=r[0]&&r[0].author,D=L&&L.isLocalBot(),U=null!=c||h;return a("div",{className:(0,l.default)(C,(e={},e[g.default.isLocalBot]=D,e[g.default.containerCompactBounded]=S&&null==s,e[g.default.containerCozyBounded]=!S&&null==s,e[g.default.containerCompact]=S&&null!=s,e[g.default.containerCozy]=!S&&null!=s,e)),onMouseEnter:b?this.onMouseEnter:null,onMouseLeave:b?this.onMouseLeave:null},void 0,r.map(function(e,n){if(!e)return null;if(e.type!==_.MessageTypes.DEFAULT)return a("div",{className:g.default.content},e.id,f({message:e,channel:u,renderButtons:t.renderButtonsMessage}));var r=s===e.id,l=e.id===T,c=o({},A,{isCompact:S,isEditing:r,isDisabled:U,channel:u,message:e,editingContent:E,disableAvatarAnimation:M,disablePromoteButton:v,backgroundOpacity:N,jumpSequenceId:l?I:null,disableButtons:U||null!=d,isHeader:0===n,renderButtons:t.renderButtonsMessage});return i.createElement(w,o({},c,{key:e.id}))}),D&&a(R,{channelId:u.id,messages:r,onDeleteMessage:p}),U&&a(P,{onClick:c,label:y}),d&&d({messages:r,channel:u}),!D&&a("hr",{"aria-hidden":!0,className:(0,l.default)(m?g.default.divider:g.default.dividerEnabled,g.default[N+"BackgroundOpacity"])}))},t}(i.Component);D.defaultProps={popoutPosition:y.default.Positions.RIGHT,disableDivider:!0,disableInteraction:!1,disableReactionReads:!1,disableReactionCreates:!0,disableReactionUpdates:!0,disableAutoPlayGif:!1,disableEmbeds:!1,disableManageMessages:!0,disableDeveloperMode:!0,disablePromoteButton:!0,disableInteractionLabel:void 0},D.displayName="MessageGroup",t.default=D},6443:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(310),u=(o=l)&&o.__esModule?o:{default:o},s=n(238);function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=.2,c={toValue:0,duration:1e3,delay:1e3},p=(0,n(6209).hexWithOpacity)(s.Colors.BRAND,0),h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.state={backgroundColor:new u.default.Value},r.flashNow=function(){var e=r.props.onFlashComplete;r.state.backgroundColor.setValue(f),u.default.timing(r.state.backgroundColor,c).start(e)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.flashNow()},t.prototype.componentDidUpdate=function(e){e.sequenceId!==this.props.sequenceId&&this.flashNow()},t.prototype.render=function(){var e={backgroundColor:this.state.backgroundColor.interpolate({inputRange:[0,1],outputRange:[p,s.Colors.BRAND]}),borderRadius:2};return a(u.default.div,{style:e},void 0,this.props.children)},t}(i.Component);h.displayName="BackgroundFlash",t.default=h,e.exports=t.default},6444:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(319)),l=n(0),u=d(n(13)),s=d(n(5439));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=f(this,e.call.apply(e,[this].concat(u))),r.node=a.createRef(),r.onClickSave=function(){var e=r.props.value;r.onSubmit(e)},r.onSubmit=function(e){var t=r.props,n=t.message,o=t.channel,a=t.onConfirmDelete,l=t.onCancel,u=t.saveMessage,s=t.validateEdit;return 0===e.length?(a(o,n),l(),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):s({value:e,channel:o}).then(function(t){if(!t.valid)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});var n=i.default.parse(r.props.channel,e,!0);return n.content!==r.props.message.content&&u(r.props.channel.id,r.props.message.id,n),l(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})},r.onChange=function(e,t){(0,r.props.onChange)(t)},r.onKeyDown=function(e){if(e.keyCode===l.KeyboardKeys.ESCAPE&&!e.shiftKey){var t=r.props.onCancel;e.preventDefault(),t()}},r.onResize=function(){var e=r.props.onResize,t=r.node.current;e&&t instanceof HTMLElement&&e(t)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.value,r=e.message,i=e.channel,l=e.onCancel,d=e.children;return a.createElement("div",{className:t,ref:this.node},d({value:n,message:r,channel:i,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown,onResize:this.onResize}),o("div",{className:s.default.operations},void 0,u.default.Messages.EDIT_TEXTAREA_HELP.format({onCancel:l,onSave:this.onClickSave})))},t}(a.PureComponent);c.displayName="MessageEditor",t.default=c,e.exports=t.default},6445:function(e,t,n){"use strict";t.__esModule=!0,t.MessageOptionPopout=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=n(5989),u=p(n(128)),s=p(n(827)),d=n(0),f=p(n(13)),c=p(n(5441));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=t.MessageOptionPopout=function(e){function t(){var n,r;h(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=y(this,e.call.apply(e,[this].concat(i))),r.handleCopyID=function(e){var t=r.props,n=t.message,o=t.onClose;(0,l.copy)(e.shiftKey?n.channel_id+"-"+n.id:n.id),o()},r.handleCopyLink=function(){var e=r.props,t=e.channel,n=e.message,o=e.onClose;(0,l.copy)(location.protocol+"//"+location.host+d.Routes.CHANNEL(t.guild_id,t.id,n.id)),o()},r.handleEdit=function(){var e=r.props,t=e.channel,n=e.message,o=e.onClose;(0,e.onStartEditMessage)(t.id,n.id,n.content),o()},r.handleRetry=function(){var e=r.props,t=e.channel,n=e.message,o=e.onClose;(0,e.onRetrySendMessage)(t,n.id,n.content,n.tts),o()},r.handleDelete=function(){var e=r.props,t=e.onDeleteMessage,n=e.onClose,o=e.onConfirmDelete;r.props.message.state===d.MessageStates.SEND_FAILED?t(r.props.channel.id,r.props.message.id,!0):o(r.props.channel,r.props.message),n()},r.handleReactions=function(){var e=r.props,t=e.onClose,n=e.message;(0,e.onShowReactionsModal)({message:n}),t()},r.handlePin=function(){var e=r.props,t=e.onConfirmPin,n=e.channel,o=e.message,a=e.onClose;t(n,o),a()},r.handleJoinNotifConfiguration=function(){var e=r.props,t=e.channel,n=e.onClose,o=e.onOpenGuildSettings,a=t.getGuildId();null!=a&&o(a,d.GuildSettingsSections.OVERVIEW),n()},r.handleUnpin=function(e){var t=r.props,n=t.onUnpinMessage,o=t.onConfirmUnpin,a=t.channel,i=t.onClose,l=t.message;e.shiftKey?n(a,l.id):o(a,l),i()},r.renderJoinNotificationOption=function(){var e=r.props,t=e.message,n=e.channel,a=e.onCanManageGuild,i=n.getGuildId();return null==i?null:t.type===d.MessageTypes.USER_JOIN&&a({guildId:i})?o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:r.handleJoinNotifConfiguration},void 0,f.default.Messages.CONFIGURE):null},y(r,n)}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,r=void 0,i=void 0,s=void 0,p=void 0,h=void 0,y=void 0;return t.state===d.MessageStates.SEND_FAILED?r=o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handleRetry,role:"menuitem"},void 0,f.default.Messages.RETRY):(this.props.canEdit&&t.author.id===n&&(i=o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handleEdit,role:"menuitem"},void 0,f.default.Messages.EDIT)),this.props.canPin&&(s=!1===t.pinned?o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handlePin,role:"menuitem"},void 0,f.default.Messages.PIN):o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handleUnpin,role:"menuitem"},void 0,f.default.Messages.UNPIN))),l.SUPPORTS_COPY&&this.props.developerMode&&(p=o(a.Fragment,{},void 0,o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handleCopyID,role:"menuitem"},void 0,f.default.Messages.COPY_ID),o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handleCopyLink,role:"menuitem"},void 0,f.default.Messages.COPY_LINK))),this.props.canDelete&&(h=o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handleDelete,role:"menuitem"},void 0,f.default.Messages.DELETE)),t.reactions.length&&(y=o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:c.default.item,onClick:this.handleReactions,role:"menuitem"},void 0,f.default.Messages.REACTIONS)),o("div",{className:c.default.container,role:"menu"},void 0,s,i,r,p,h,y,this.renderJoinNotificationOption())},t}(a.PureComponent);v.displayName="MessageOptionPopout";var _=function(e){function t(){var n,r;h(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=y(this,e.call.apply(e,[this].concat(i))),r.renderOptionPopout=function(e){var t=e.onClose,n=r.props,a=n.channel,i=n.message,l=n.canDelete,u=n.canEdit,s=n.canPin,d=n.developerMode,f=n.currentUserId,c=n.onStartEditMessage,p=n.onRetrySendMessage,h=n.onDeleteMessage,y=n.onConfirmPin,m=n.onOpenGuildSettings,_=n.onUnpinMessage,E=n.onConfirmUnpin,g=n.onCanManageGuild,S=n.onConfirmDelete,T=n.onShowReactionsModal;return o(v,{channel:a,message:i,developerMode:d,canEdit:u,canPin:s,canDelete:l,onClose:t,onStartEditMessage:c,onRetrySendMessage:p,onDeleteMessage:h,onConfirmDelete:S,onConfirmPin:y,onOpenGuildSettings:m,onUnpinMessage:_,onConfirmUnpin:E,onCanManageGuild:g,onShowReactionsModal:T,currentUserId:f})},y(r,n)}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,r=e.canDelete,a=e.canPin,u=e.developerMode,d=e.className;return t.author.isLocalBot()?null:t.author.id===n||r||a||l.SUPPORTS_COPY&&u?o(s.default,{closeOnScroll:!1,render:this.renderOptionPopout,position:s.default.Positions.BOTTOM,offsetY:-6},void 0,o("div",{className:(0,i.default)(c.default.button,d)})):null},t}(a.PureComponent);_.displayName="MessageOptionButton",t.default=_},6446:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(128)),l=s(n(13)),u=s(n(5442));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.isEdit,n=e.onClick;return o(i.default,{className:u.default.button,onClick:n},void 0,t?l.default.Messages.NEWS_CHANNEL_PUBLISH_EDIT:l.default.Messages.NEWS_CHANNEL_PUBLISH)},t}(a.PureComponent);d.displayName="MessagePromoteButton",t.default=d,e.exports=t.default},6447:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(8)),o=l(n(1)),a=l(n(6212)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.default={search:function(e,t){null==a.default.getResults(e,t)&&(o.default.dirtyDispatch({type:i.ActionTypes.INTEGRATION_QUERY,integration:e,query:t}),r.default.get({url:i.Endpoints.INTEGRATIONS+"/"+i.ChannelTextAreaIntegrations[e].command+"/search",query:{q:t}}).then(function(n){o.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_SUCCESS,integration:e,query:t,results:n.body})},function(){return o.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_FAILURE,integration:e,query:t})}))}},e.exports=t.default},6448:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=D(n(17)),u=D(n(6)),s=D(n(6830)),d=D(n(114)),f=D(n(310)),c=n(307),p=D(n(830)),h=D(n(6328)),y=D(n(6374)),m=n(224),v=n(5374),_=n(6006),E=D(n(9)),g=n(180),S=n(6449),T=D(n(6213)),I=D(n(128)),C=D(n(6450)),N=D(n(6451)),A=D(n(152)),O=D(n(306)),b=D(n(827)),M=D(n(6134)),R=D(n(442)),P=n(0),L=D(n(13)),w=D(n(5446));function D(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=/(\t|\s)/,F="UPLOAD_A_FILE",j="INVITE_TO_GAME",B="INVITE_TO_SPECTATE_GAME",H="INVITE_TO_LISTEN",V="INVITE_TO_WATCH",Y=function(e,t,n,r){var o=[];return e&&o.push({type:F,icon:O.default.Names.UPLOAD,display:L.default.Messages.CHAT_ATTACH_UPLOAD_A_FILE}),t&&r.forEach(function(e){e.type===P.ActivityTypes.PLAYING&&(0,m.hasFlag)(e,P.ActivityFlags.JOIN)&&o.push({type:j,icon:O.default.Names.GAMEPAD,display:L.default.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.PLAYING&&(0,m.hasFlag)(e,P.ActivityFlags.SPECTATE)&&o.push({type:B,icon:O.default.Names.EYE,display:L.default.Messages.CHAT_ATTACH_INVITE_TO_SPECTATE_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.LISTENING&&(0,m.hasFlag)(e,P.ActivityFlags.SYNC)&&o.push({type:H,icon:O.default.Names.PERSON_PLAY,display:L.default.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.WATCHING&&(0,m.hasFlag)(e,P.ActivityFlags.SYNC)&&o.push({type:V,icon:O.default.Names.EYE,display:L.default.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e})}),o},W=function(e){function t(n){U(this,t);var r=k(this,e.call(this,n));return r.handleFileUpload=function(){var e=r.props.onFileUpload;r.close(),e&&e()},r.handleInviteToPlay=function(e){var t=r.props.onInviteToPlay;r.close(),t&&t(e)},r.handleInviteToSpectate=function(e){var t=r.props.onInviteToSpectate;r.close(),t&&t(e)},r.handleInviteToListen=function(e){var t=r.props.onInviteToListen;r.close(),t&&t(e)},r.handleInviteToWatch=function(e){var t=r.props.onInviteToWatch;r.close(),t&&t(e)},r.state={animations:Y(n.canAttachFiles,n.canSendInvites,n.channel,n.activities).map(function(){return new f.default.Value(0)})},r}return G(t,e),t.prototype.componentDidMount=function(){var e=[].concat(this.state.animations).reverse();f.default.stagger(50,e.map(function(e){return f.default.timing(e,{duration:200,toValue:1})})).start()},t.prototype.getOnClick=function(e){var t=this;switch(e.type){case F:return this.handleFileUpload;case j:var n=e.activity;return function(){return t.handleInviteToPlay(n)};case B:var r=e.activity;return function(){return t.handleInviteToSpectate(r)};case H:var o=e.activity;return function(){return t.handleInviteToListen(o)};case V:var a=e.activity;return function(){return t.handleInviteToListen(a)}}},t.prototype.close=function(){p.default.close("popout-channel-text-area-attachments")},t.prototype.render=function(){var e=this,t=this.props,n=t.canAttachFiles,r=t.canSendInvites,o=t.channel,i=t.activities,l=Y(n,r,o,i).map(function(t,n){var r=e.state.animations[n];return a(f.default.div,{onClick:e.getOnClick(t),className:w.default.attachPopoutRow,style:{opacity:r}},n,a(A.default,{align:A.default.Align.CENTER},void 0,a(O.default,{name:t.icon,className:w.default.attachPopoutIcon,foreground:w.default.attachPopoutIconForeground}),a("div",{className:w.default.attachPopoutRowText},void 0,t.display)))});return a("div",{className:w.default.attachPopout},void 0,l)},t}(i.PureComponent);function K(e){return{prefix:null,focused:e,selectionStart:0,selectionEnd:0,selectedAutocomplete:0,autocompleteType:null,submitting:!1}}W.displayName="ChannelTextAreaAttachPopout";var z=function(e){function t(n){U(this,t);var r=k(this,e.call(this,n));return $.call(r),r.state=K(!1),r.saveCurrentTextThrottled=u.default.throttle(r.saveCurrentText.bind(r,!1),500),u.default.bindAll(r,["focus","saveCurrentText","renderAttachPopout","handleSetRef","handleSetFileInputRef","handleKeyPress","handleKeyDown","handleKeyUp","handleStartFileUpload","handleFileUpload","handleOuterClick","handleClick","handleContextMenu","handleAutocompleteClick","handleAutocompleteHover","handleOnChange","handleFocus","handleBlur","handlePaste","handleSelectGIF","handleSelectEmoji"]),r}return G(t,e),t.prototype.componentDidMount=function(){var e=this.props.value;this._ref&&this._ref.setSelection(e.length,e.length),this._mounted=!0,this.maybeShowAutocomplete(),window.addEventListener("beforeunload",this.saveCurrentText)},t.prototype.componentWillUnmount=function(){this._mounted=!1,this.saveCurrentText(),window.removeEventListener("beforeunload",this.saveCurrentText)},t.prototype.componentDidUpdate=function(e){var t=this;this.props.value!==e.value&&(this.maybeShowAutocomplete(function(){return t.fixSelectedAutocomplete()}),this.saveCurrentTextThrottled())},t.prototype.focus=function(){this._ref&&this._ref.focus()},t.prototype.blur=function(){this._ref&&this._ref.blur()},t.prototype.fixSelectedAutocomplete=function(){this.state.selectedAutocomplete>=this.getAutocompletes().length&&this.setState({selectedAutocomplete:0})},t.prototype.insertText=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this._ref;if(null!=o){var a=this.state,i=a.selectionStart,l=a.selectionEnd,u=o.value.slice(0,n?o.selectionStart:i),s=o.value.slice(n?o.selectionEnd:l);r&&(e+=" ");var d=u+e+s,f=this.props.onChange;f&&f(null,d),this.setState({selectionStart:o.selectionStart,selectionEnd:o.selectionEnd},function(){var n=u.length+e.length;o.setSelection(n,n),t.maybeShowAutocomplete()}),this.saveCurrentText()}},t.prototype.clearValue=function(){this.setState(K(!0)),this.saveCurrentText()},t.prototype.saveCurrentText=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.type,r=t.onSaveCurrentText,o=t.channel;n===P.TextareaTypes.NORMAL&&(e&&this.saveCurrentTextThrottled.cancel(),r&&r(o.id))},t.prototype.maybeShowAutocomplete=function(e){var t=this._ref;if(null!=t){var n=this.props,r=n.value,o=n.autocompleteOptions,a=n.onAutocompleteQuery;if(0!==r.trim().length){var i=t.selectionStart,l=t.selectionEnd,s=void 0,d=!1,f=null;do{var c=x.test(r[i-1]);if(0===i||c)if("break"===function(){var e=(s=r.slice(i,l)).slice(1).toLowerCase();if(null!=(f=(0,u.default)(o).keys().find(function(t){return o[t].matches(s[0],e,i)}))){var t=o[f];return a&&a(t,e,f),d=!0,"break"}}())break}while(--i>=0);this.setState({prefix:d?s:null,selectionStart:i,selectionEnd:l,autocompleteType:f},e)}else this.getAutocompletes().length>0&&this.setState({prefix:null})}},t.prototype.getAutocompletes=function(){var e=this.props.autocompletes,t=[];if(null!=e)for(var n in e){e[n].forEach(function(e){return t.push(e)})}return t},t.prototype.moveSelection=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,o=this.getAutocompletes().length;return 0!==o&&null!=r&&(n+e>=o?this.setState({selectedAutocomplete:0}):n+e<0?this.setState({selectedAutocomplete:o-1}):this.setState({selectedAutocomplete:n+e}),!0)},t.prototype.selectAutocompletion=function(e){var t=null,n=this.state,r=n.autocompleteType,o=n.prefix,a=this.props,i=a.autocompleteOptions,l=a.autocompletes;if(null!=r&&null!=i[r]&&null!=l){var u=i[r];t=u.getText(e,l);var s=u.onSelect;if(null!=s&&null!=o)s(o.slice(1),e,l)}null!=t&&("REACTIONS"===r?this.handleSubmit(t):this.insertText(t,!1))},t.prototype.getEnabledMode=function(){var e=this.props,t=e.disabled,n=e.canAttachFiles,r=e.canSendInvites,o=e.channel,a=e.activities,i=this.state.submitting;return t||i?"Disabled":0===Y(n,r,o,a).length?"EnabledNoAttach":""},t.prototype.getAutocompleteMode=function(){var e=this.props.renderCustomAutocomplete,t=this.state,n=t.prefix,r=t.focused;return null!=n&&r||null!=e?"Autocomplete":"NoAutocomplete"},t.prototype.getTypeMode=function(){switch(this.props.type){case P.TextareaTypes.EDIT:return"Edit";case P.TextareaTypes.FORM:return"Form";default:return""}},t.prototype.hasOpenCodeBlock=function(){var e=this._ref;if(null==e)return!1;var t=this.props.value.slice(0,e.selectionStart).match(/```/g);return null!=t&&t.length>0&&t.length%2!=0},t.prototype.renderAttachPopout=function(e){var t=this.props,n=t.channel,r=t.canAttachFiles,a=t.canSendInvites,l=t.activities,u=t.onInviteToPlay,s=t.onInviteToSpectate,d=t.onInviteToListen,f=t.onInviteToWatch;return i.createElement(W,o({},e,{canAttachFiles:r,canSendInvites:a,channel:n,activities:l,onFileUpload:this.handleStartFileUpload,onInviteToPlay:u,onInviteToSpectate:s,onInviteToListen:d,onInviteToWatch:f}))},t.prototype.renderAttachButton=function(){var e=this.props,t=e.disabled,n=e.type,r=e.canAttachFiles,o=e.canSendInvites,i=e.channel,l=e.activities,u=e.onOpenAttachPopout;if(t||n!==P.TextareaTypes.NORMAL||0===Y(r,o,i,l).length)return null;var s=l.some(function(e){return(0,m.hasFlag)(e,P.ActivityFlags.SYNC)}),d=l.some(function(e){return(0,m.canJoinOrSpectate)(e)})||s;return o&&d?a(A.default,{},void 0,a(b.default,{closeOnScroll:!1,render:this.renderAttachPopout,position:b.default.Positions.TOP_LEFT,shadow:!1,animationType:b.default.Animations.NONE,uniqueId:"popout-channel-text-area-attachments",onOpen:u},void 0,a(I.default,{look:I.default.Looks.BLANK,size:I.default.Sizes.NONE,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:w.default.attachButton,innerClassName:w.default.attachButtonInner},void 0,a(O.default,{name:O.default.Names.PLUS_CIRCLE_PLAY,className:w.default.attachButtonIcon,foreground:w.default.attachButtonPlay,background:w.default.attachButtonPlus,width:24,height:24}))),a("div",{className:w.default.attachButtonDivider})):a(A.default,{className:w.default.attachWrapper},void 0,a(I.default,{look:I.default.Looks.BLANK,size:I.default.Sizes.NONE,onClick:this.handleStartFileUpload,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:w.default.attachButton,innerClassName:w.default.attachButtonInner},void 0,a(O.default,{name:O.default.Names.PLUS_CIRCLE,className:w.default.attachButtonIcon,foreground:w.default.attachButtonPlus,width:24,height:24})),a("div",{className:w.default.attachButtonDivider}))},t.prototype.renderPremiumGiftButton=function(){var e=this.props,t=e.disabled,n=e.onPremiumGiftClick,r=e.shouldRenderPremiumGiftButton;return t||!r?null:a(R.default,{text:L.default.Messages.PREMIUM_GIFT_BUTTON_TOOLTIP},void 0,a(C.default,{className:w.default.button,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_PREMIUM_GIFT),iconName:O.default.Names.GIFT,onClick:n,isActive:!1}))},t.prototype.getGIFPickerButton=function(){return this._gifPickerButtonRef.current},t.prototype.renderGIFPickerButton=function(){var e=this.props,t=e.disabled,n=e.isGIFPickerActive,r=e.onGIFPickerToggle,o=e.justFavorited,l=e.shouldShowTooltipOnFavorite;if(t||null==r)return null;var u=i.createElement("div",{ref:this._gifPickerButtonRef,className:w.default.buttonContainer},a(C.default,{className:w.default.button,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_GIF_PICKER),iconName:O.default.Names.INVERTED_GIF_LABEL,iconClassName:w.default.gifPickerIcon,onClick:r,isActive:n,pulse:o}));return o&&l?a(R.default,{text:L.default.Messages.GIF_TOOLTIP_FAVORITED_PICKER_BUTTON,forceOpen:!0},void 0,u):u},t.prototype.renderEmojiButton=function(){var e=this.props,t=e.channel,n=e.renderEmojiPickerPopout;return e.disabled||null==n?null:a(N.default,{className:w.default.button,onSelectEmoji:this.handleSelectEmoji,channel:t,renderEmojiPickerPopout:n,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_EMOJI)})},t.prototype.renderAutocomplete=function(){var e=this.props,t=e.autocompleteOptions,n=e.autocompletes,r=e.renderCustomAutocomplete,o=this.state,i=o.focused,l=o.autocompleteType,u=o.selectedAutocomplete,s=o.prefix;if(null!=r)return a(T.default,{className:w.default.autocomplete,isCustom:!0,onMouseDown:this.handleAutocompleteMouseDown},void 0,r(s));if(!i||null==l||null==t[l]||null==s||null==n)return null;var d=s.slice(1).toLowerCase();return a(T.default,{className:w.default.autocomplete,onMouseDown:this.handleAutocompleteMouseDown},void 0,t[l].renderResults(d,u,this.handleAutocompleteHover,this.handleAutocompleteClick,n))},t.prototype.render=function(){var e=this.props,t=e.value,n=e.disabled,r=e.placeholder,o=e.onResize,u=e.className,s=e.backgroundOpacity,d=e.channel,f=this.state.submitting,c=n?L.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:r,p=d.rateLimitPerUser<=0,y=this.getEnabledMode(),m=this.getAutocompleteMode(),v=this.getTypeMode();return a("div",{className:(0,l.default)((0,g.getClass)(w.default,"channelTextArea",y),u),onClick:this.handleOuterClick},void 0,a("div",{className:(0,l.default)((0,g.getClass)(w.default,"inner",y),(0,g.getClass)(w.default,"inner",m),w.default[s+"BackgroundOpacity"])},void 0,this.renderAttachButton(),a("div",{className:w.default.uploadInput},void 0,i.createElement(h.default,{ref:this.handleSetFileInputRef,onChange:this.handleFileUpload,multiple:p,tabIndex:-1})),i.createElement(M.default,{ref:this.handleSetRef,className:(0,l.default)((0,g.getClass)(w.default,"textArea",y),(0,g.getClass)(w.default,"textArea",v)),rows:1,fontWidthEstimate:6,autoFocus:!0,placeholder:c,disabled:n||f,onChange:this.handleOnChange,onResize:o,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,onPaste:this.handlePaste,onClick:this.handleClick,onContextMenu:this.handleContextMenu,value:n?"":t,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA)}),a("div",{className:w.default.buttons},void 0,this.renderPremiumGiftButton(),this.renderGIFPickerButton(),this.renderEmojiButton()),this.renderAutocomplete()))},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleSetFileInputRef=function(e){this._fileInputRef=e},t.prototype.handleKeyPress=function(e){switch(e.which){case P.KeyboardKeys.ENTER:if(!e.shiftKey&&!e.ctrlKey&&!this.hasOpenCodeBlock())return e.preventDefault(),this.handleSubmit()}},t.prototype.handleKeyDown=function(e){switch(e.which){case P.KeyboardKeys.ARROW_DOWN:this.moveSelection(1)&&e.preventDefault();break;case P.KeyboardKeys.N:e.ctrlKey&&this.moveSelection(1)&&e.preventDefault();break;case P.KeyboardKeys.ARROW_UP:this.moveSelection(-1)&&e.preventDefault();break;case P.KeyboardKeys.P:e.ctrlKey&&this.moveSelection(-1)&&e.preventDefault();break;case P.KeyboardKeys.TAB:case P.KeyboardKeys.ENTER:this.handleTabOrEnterDown(e)}var t=this.props.onKeyDown;t&&t(e)},t.prototype.handleTabOrEnterDown=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,o=this.getAutocompletes();null!=r&&0!==o.length?(e.preventDefault(),e.stopPropagation(),this.selectAutocompletion(n)):e.which===P.KeyboardKeys.TAB&&this.hasOpenCodeBlock()&&(e.preventDefault(),e.stopPropagation(),this.insertText("\t",!0,!1))},t.prototype.handleKeyUp=function(e){switch(e.which){case P.KeyboardKeys.ARROW_RIGHT:case P.KeyboardKeys.ARROW_LEFT:this.maybeShowAutocomplete()}var t=this.props.onKeyUp;t&&t(e)},t.prototype.handleStartFileUpload=function(){this._fileInputRef&&this._fileInputRef.activateUploadDialogue()},t.prototype.handleFileUpload=function(e){var t=this.props.onFileUpload;t&&t(e.currentTarget.files)},t.prototype.handleSubmit=function(e){var t=this,n=this.props,r=n.value,o=n.onSubmit,a=n.type,i=(e||r).trim();this.state.submitting||this.setState({submitting:!0},function(){o&&o(i).then(function(e){var n=e.shouldClear,r=e.shouldRefocus;t._mounted&&(n&&a===P.TextareaTypes.NORMAL&&t.clearValue(),t.setState({submitting:!1},r?t.focus:void 0))})})},t.prototype.handleFocus=function(e){var t=this.props.onFocus;t&&t(e),this.setState({focused:!0})},t.prototype.handleBlur=function(e){var t=this.props.onBlur;t&&t(e),this.setState({focused:!1})},t.prototype.handlePaste=function(e){var t=this,n=this.props,r=n.channel,o=n.onFileUpload,a=n.canPasteFiles;if(!(n.type!==P.TextareaTypes.NORMAL||null==e.clipboardData||null==e.clipboardData.items||0===e.clipboardData.items.length||!r.isPrivate()&&!a||r.isPrivate()&&r.isManaged()))for(var i=0;i<e.clipboardData.items.length;i++){var l=e.clipboardData.items[i];!function(){switch(l.type){case"image/png":e.preventDefault();var n=l.getAsFile();if(null==n)break;t.saveCurrentText(),2===e.clipboardData.items.length?e.clipboardData.items[0].getAsString(function(e){o&&o([(0,_.makeFile)(n,t.extractFileName(e))])}):o&&o([(0,_.makeFile)(n)])}}()}},t.prototype.extractFileName=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");if(t instanceof HTMLImageElement){var n=void 0;try{var r=d.default.parse(t.src).pathname;null!=r&&r.length>0&&(n=s.default.basename(r).split(".")[0])}catch(e){}if(null!=n&&n.length>0)return n+".png"}},t.prototype.handleOuterClick=function(){this.focus()},t.prototype.handleClick=function(){this.maybeShowAutocomplete()},t.prototype.handleAutocompleteClick=function(e){return this.selectAutocompletion(e)},t.prototype.handleAutocompleteHover=function(e){this.setState({selectedAutocomplete:e})},t.prototype.handleAutocompleteMouseDown=function(e){e.preventDefault()},t.prototype.handleSelectGIF=function(e){this.handleSubmit(e.url),this.focus()},t.prototype.handleSelectEmoji=function(e){null!=e&&this.insertText(":"+e.name+":"),this.focus()},t.prototype.handleOnChange=function(e){var t=this.props.onChange,n=e.currentTarget.value;t&&t(e,n)},t}(i.PureComponent);z.defaultProps={type:P.TextareaTypes.NORMAL,disabled:!1,shouldRenderPremiumGiftButton:!1};var $=function(){var e=this;this._gifPickerButtonRef=i.createRef(),this._mounted=!1,this.handleContextMenu=function(t){var n=e.props.type;if(E.default.embedded){var r=(0,v.getSelectionText)();(0,c.openContextMenu)(t,function(e){return i.createElement(y.default,o({},e,{type:n===P.TextareaTypes.EDIT?P.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT:P.ContextMenuTypes.CHANNEL_TEXT_AREA,value:r}))})}}};z.displayName="ChannelTextArea",t.default=z,e.exports=t.default},6449:function(e,t,n){"use strict";t.__esModule=!0,t.TabIndexKeys=void 0,t.getTabIndex=function(e){return l.indexOf(e)+1};var r,o=n(159),a=(r=o)&&r.__esModule?r:{default:r};var i=t.TabIndexKeys=(0,a.default)({CHANNEL_TEXT_AREA:null,CHANNEL_TEXT_AREA_PREMIUM_GIFT:null,CHANNEL_TEXT_AREA_GIF_PICKER:null,CHANNEL_TEXT_AREA_EMOJI:null,CHANNEL_TEXT_AREA_UPLOAD:null}),l=[i.CHANNEL_TEXT_AREA,i.CHANNEL_TEXT_AREA_PREMIUM_GIFT,i.CHANNEL_TEXT_AREA_GIF_PICKER,i.CHANNEL_TEXT_AREA_EMOJI,i.CHANNEL_TEXT_AREA_UPLOAD]},6450:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(128)),u=d(n(306)),s=d(n(5444));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.tabIndex,d=r.className,f=r.iconClassName,c=r.iconName,p=r.onClick,h=r.isActive,y=r.onMouseEnter,m=r.onMouseLeave,v=r.pulse;return o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,tabIndex:a,className:(0,i.default)(s.default.buttonWrapper,(e={},e[s.default.active]=h,e)),innerClassName:(0,i.default)(s.default.button,d,(t={},t[s.default.pulseButton]=v,t)),onClick:p,onMouseEnter:y,onMouseLeave:m},void 0,o(u.default,{name:c,className:(0,i.default)(s.default.icon,f,(n={},n[s.default.pulseIcon]=v,n))}))},t}(a.PureComponent);f.displayName="ChannelTextAreaButton",t.default=f,e.exports=t.default},6451:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=n(180),u=c(n(128)),s=c(n(827)),d=n(0),f=c(n(5445));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={hovered:!1,emojiIndex:0,isPopoutOpen:!1},r.renderEmojiPickerPopout=r.renderEmojiPickerPopout.bind(r),r.handleMouseOver=r.handleMouseOver.bind(r),r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseLeave=r.handleMouseLeave.bind(r),r.handlePopoutOpen=r.handlePopoutOpen.bind(r),r.handlePopoutClose=r.handlePopoutClose.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSpriteStyle=function(){var e=this.state.emojiIndex;return{backgroundPosition:-e%d.EmojiSprites.PickerPerRow*22+"px "+22*-Math.floor(e/d.EmojiSprites.PickerPerRow)+"px",backgroundSize:22*d.EmojiSprites.PickerPerRow+"px "+22*Math.ceil(d.EmojiSprites.PickerCount/d.EmojiSprites.PickerPerRow)+"px"}},t.prototype.renderEmojiPickerPopout=function(e){var t=this.props,n=t.renderEmojiPickerPopout;return n(e,{onSelectEmoji:t.onSelectEmoji,channel:t.channel})},t.prototype.render=function(){var e=this.props.tabIndex,t=this.state,n=t.hovered,r=t.isPopoutOpen,a=n||r,c=(0,l.getClass)(f.default,"emojiButton",a?"Hovered":"Normal"),p=(0,l.getClass)(f.default,"sprite",a?"Hovered":"Normal");return o(s.default,{closeOnScroll:!1,render:this.renderEmojiPickerPopout,position:s.default.Positions.TOP_RIGHT,zIndexBoost:1e3,shadow:!1,animationType:s.default.Animations.NONE,subscribeTo:d.ComponentActions.TOGGLE_EMOJI_POPOUT,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose},void 0,o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,tabIndex:e,className:(0,i.default)(c,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave},void 0,o("div",{className:p,style:this.getSpriteStyle()})))},t.prototype.handleMouseOver=function(){this.handleMouseEnter()},t.prototype.handleMouseEnter=function(){if(!this.state.hovered&&!this.state.isPopoutOpen){var e=Math.floor(Math.random()*d.EmojiSprites.PickerCount);this.setState({hovered:!0,emojiIndex:e})}},t.prototype.handleMouseLeave=function(){this.setState({hovered:!1})},t.prototype.handlePopoutOpen=function(){this.setState({isPopoutOpen:!0})},t.prototype.handlePopoutClose=function(){this.setState({isPopoutOpen:!1})},t}(a.PureComponent);p.displayName="EmojiButton",t.default=p,e.exports=t.default},6452:function(e,t,n){"use strict";t.__esModule=!0,t.promptToUpload=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.length<1)return;if(d.anyFileTooLarge(e)){var h=s.default.getCurrentUser();r.default.push(l.default,{title:c.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:c.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:d.sizeString(d.maxFileSize())}),promo:!f.default.canUploadLargeFiles(h)})}else p?(a.default.pushFiles({files:e,channelId:t}),u.default.isModalOpen(i.default)||r.default.push(i.default,{backdropInstant:n})):o.default.instantBatchUpload(t,e)};var r=p(n(80)),o=p(n(6119)),a=p(n(6172)),i=p(n(6390)),l=p(n(6093)),u=p(n(852)),s=p(n(15)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6006)),f=p(n(225)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}},6453:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(1)),o=d(n(6093)),a=d(n(6454)),i=d(n(157)),l=d(n(80)),u=n(0),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,d){var c="",p=!1;null!=n&&(c=n.content,p=n.tts);var h=new a.default(u.Endpoints.MESSAGES(e));h.on("start",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_START,channelId:e,file:t,uploader:h})}),h.on("progress",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_PROGRESS,channelId:e,file:t})}),h.on("error",function(a,d){r.default.dispatch({type:u.ActionTypes.UPLOAD_FAIL,channelId:e,file:a}),d!==u.AbortCodes.EXPLICIT_CONTENT?l.default.push(o.default,{title:s.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:s.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_HELP.format({onClick:function(){l.default.pop(),f(e,t,n)}})}):i.default.sendClydeError(e,d)}),h.on("complete",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_COMPLETE,channelId:e,file:t})});var y={content:c,tts:p,hasSpoiler:d};h.upload(t,y)}t.default={instantBatchUpload:function(e,t){Array.prototype.forEach.call(t,function(t){f(e,t)})},upload:f},e.exports=t.default},6454:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(6)),o=l(n(344)),a=l(n(6455)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,e.call.apply(e,[this].concat(a))),r._handleXHRProgress=function(e){r._handleProgress(e.loaded,e.total)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.upload=function(t,n){var a=this;e.prototype.upload.call(this,t,n);var l=o.default.post(this._url),u=null!=n&&n.hasSpoiler?i.SPOILER_ATTACHMENT_PREFIX:"";l.attach("file",t,""+u+t.name),l.on("error",function(){return a._handleError()}),null!=n&&r.default.each(n,function(e,t){l.field(t,e)});var s=l.end(function(e){e.ok?a._handleComplete():a._handleError(e.body&&e.body.code)}).xhr;s.upload?s.upload.onprogress=this._handleXHRProgress:s.addEventListener("progress",this._handleXHRProgress,!1),this._handleStart(function(){return l.abort()})},t}(a.default);t.default=s,e.exports=t.default},6455:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(36)),a=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o._lastUpdate=0,o._loaded=0,o._aborted=!1,o._handleStart=function(e){o._cancel=e,o.emit("start",o._file)},o._handleProgress=function(e,t){var n=Date.now(),a=Math.min(Math.floor(e/t*100),100),i=Math.floor((e-o._loaded)/((n-o._lastUpdate)/1e3));o._lastUpdate=n,o._loaded=e,o._file=r({},o._file,{size:t,progress:a,rate:i}),o.emit("progress",o._file)},o._handleError=function(e){o._aborted||(o.emit("error",o._file,e),o.removeAllListeners())},o._handleComplete=function(){o.emit("complete",o._file),o.removeAllListeners()},o._url=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.cancel=function(){null!=this._cancel&&(this._aborted=!0,this._cancel()),this._handleComplete()},t.prototype.upload=function(e,t){if(null!=this._cancel)throw new Error("Uploader.upload(...): An upload is already in progress.");this._lastUpdate=Date.now(),this._loaded=0,this._file={id:a.default.uniqueId("Uploader"),name:e.name,size:0,progress:0,rate:0}},t}(o.default);t.default=l,e.exports=t.default},6456:function(e,t,n){"use strict";t.__esModule=!0,t.Upload=void 0;var r=l(n(6)),o=l(n(4)),a=l(n(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6006));n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=t.Upload=function e(t,n){u(this,e),this.file=t,this.channelId=n,this.classification=i.classifyFile(t),this.isImage="image"===this.classification,this.sizeString=i.sizeString(t.size),this.filename=t.name},d=[];var f=function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFirstUpload=function(){return d.length>0?d[0]:null},t.prototype.hasAdditionalUploads=function(){return d.length>1},t}(o.default.Store);t.default=new f(a.default,{UPLOAD_MODAL_POP_FILE:function(e){return d.shift(),void(d=[].concat(d))},UPLOAD_MODAL_PUSH_FILES:function(e){var t=e.files,n=e.channelId;d=[].concat(d),r.default.forEach(t,function(e){d.push(new s(e,n))})},UPLOAD_MODAL_CLEAR_ALL_FILES:function(e){d=[]}})},6457:function(e,t,n){e.exports=n.p+"9cbfe5105fc5f29ef4e659059ee01a46.svg"},6458:function(e,t,n){var r={"./spritesheet-.png":6459,"./spritesheet-1f3fb.png":6460,"./spritesheet-1f3fc.png":6461,"./spritesheet-1f3fd.png":6462,"./spritesheet-1f3fe.png":6463,"./spritesheet-1f3ff.png":6464,"./spritesheet-emoji.png":6216,"./spritesheet-picker.png":6465};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=6458},6459:function(e,t,n){e.exports=n.p+"6a4c3d24e0e1bb9bd102815d01cb3d87.png"},6460:function(e,t,n){e.exports=n.p+"b8fa63048881311b205927b3d4111bf6.png"},6461:function(e,t,n){e.exports=n.p+"757c4d5d07c5691452fde54dca7fcde8.png"},6462:function(e,t,n){e.exports=n.p+"5c0d73f3d0c4e89f92bcedbe1752ae94.png"},6463:function(e,t,n){e.exports=n.p+"df82ca7d3be7d1271f5fb93719ea65fe.png"},6464:function(e,t,n){e.exports=n.p+"7c1fdd7a2f89b4bc6f7968c3fb3b6a14.png"},6465:function(e,t,n){e.exports=n.p+"4e51af83c4879cf313ad553bdc20dcf7.png"},6466:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=I(n(2)),l=T(n(4)),u=T(n(1)),s=I(n(6062)),d=T(n(6036)),f=T(n(6120)),c=T(n(221)),p=T(n(152)),h=T(n(306)),y=T(n(6117)),m=n(829),v=T(n(6468)),_=T(n(6220)),E=n(0),g=T(n(13)),S=T(n(5453));function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={resultType:null},r.searchBarRef=i.createRef(),r.backToFrontPage=function(e){var t=r.state.resultType;e.keyCode===E.KeyboardKeys.ESCAPE&&null!=t&&(e.stopPropagation(),e.preventDefault(),r.handleClearQuery())},r.handleChangeQuery=function(e){r.search(e,E.GIFPickerResultTypes.SEARCH)},r.handleSelectSuggestion=function(e){s.resetSearch(),r.search(e,E.GIFPickerResultTypes.SEARCH_SUGGESTION,!0)},r.handleClearQuery=function(){var e=r.searchBarRef.current;s.resetSearch(),r.setState({resultType:null}),null!=e&&e.focus()},r.handleSelectGIF=function(e){var t=r.props.onSelectGIF;null!=t&&t(e)},r.handleSelectItem=function(e,t){var n=r.searchBarRef.current;switch(e){case E.GIFPickerResultTypes.TRENDING_CATEGORY:s.search(t,E.GIFPickerResultTypes.TRENDING_CATEGORY,!0),null!=n&&n.focus();break;case E.GIFPickerResultTypes.TRENDING_GIFS:s.fetchTrendingGIFs()}r.setState({resultType:e})},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){s.initializeSearch(),document.addEventListener("keydown",this.backToFrontPage)},t.prototype.componentWillUnmount=function(){u.default.wait(function(){return s.resetSearch()}),document.removeEventListener("keydown",this.backToFrontPage)},t.prototype.search=function(e,t,n){s.search(e,t,n),""===e?this.setState({resultType:null}):this.state.resultType!==E.GIFPickerResultTypes.SEARCH&&this.setState({resultType:E.GIFPickerResultTypes.SEARCH})},t.prototype.renderHeaderContent=function(){var e=this.props.query;switch(this.state.resultType){case E.GIFPickerResultTypes.FAVORITES:return a(m.FormTitle,{tag:"h5",className:S.default.searchHeader},void 0,g.default.Messages.GIF_PICKER_FAVORITES);case E.GIFPickerResultTypes.TRENDING_GIFS:return a(m.FormTitle,{tag:"h5",className:S.default.searchHeader},void 0,g.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS);default:return i.createElement(y.default,{query:e,onChange:this.handleChangeQuery,onClear:this.handleClearQuery,placeholder:g.default.Messages.SEARCH_TENOR,ref:this.searchBarRef,autoFocus:!0})}},t.prototype.renderHeader=function(){var e=null;return null!=this.state.resultType&&(e=a(c.default,{onClick:this.handleClearQuery,className:S.default.backButton},void 0,a(h.default,{name:h.default.Names.ARROW_LEFT,width:20,height:20,title:g.default.Messages.BACK}))),a(p.default,{align:p.default.Align.CENTER},void 0,e,this.renderHeaderContent())},t.prototype.renderContent=function(){var e=this.props,t=e.resultItems,n=e.resultQuery,r=e.query,o=e.favorites,i=e.searchOffset,l=e.searchLimit,u=e.searchTotalResults,s=e.suggestions,d=this.state.resultType;return null==d?a(v.default,{onSelectItem:this.handleSelectItem}):a(_.default,{data:d===E.GIFPickerResultTypes.FAVORITES?o:t,onSelectGIF:this.handleSelectGIF,resultType:d,resultQuery:n,query:r,searchOffset:i,searchLimit:l,searchTotalResults:u,suggestions:s,onSelectSuggestion:this.handleSelectSuggestion})},t.prototype.render=function(){var e=this.props.forwardedRef;return i.createElement("div",{className:S.default.container,onClick:function(e){return e.stopPropagation()},ref:e},a("div",{className:S.default.header},void 0,this.renderHeader()),a("div",{className:S.default.content},void 0,this.renderContent()))},t}(i.PureComponent);N.displayName="GIFPicker";var A=l.default.connectStores([f.default,d.default],function(){return{query:f.default.getQuery(),favorites:d.default.getFavorites(),resultQuery:f.default.getResultQuery(),resultItems:f.default.getResultItems(),suggestions:f.default.getSuggestions(),searchOffset:0,searchTotalResults:f.default.getResultItems().length,searchLimit:null}})(N);t.default=i.forwardRef(function(e,t){return i.createElement(A,o({},e,{forwardedRef:t}))}),e.exports=t.default},6467:function(e,t,n){"use strict";t.__esModule=!0,t.calculateAnalyticsMetadata=function(e,t,n){var o,a=n.offset,i=n.limit,l=n.results,u=n.totalResults,s=null!=t?((o={})[t]=1,o):{};return{search_type:r.SearchTypes.GIF,load_id:e,limit:i,offset:a,page:null!=i&&null!=a?Math.floor(a/i)+1:1,total_results:u,page_results:l?l.length:null,num_modifiers:Object.keys(s).length,modifiers:s}};var r=n(0)},6468:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(4)),l=n(6062),u=E(n(6036)),s=E(n(6120)),d=E(n(306)),f=E(n(6217)),c=E(n(6218)),p=E(n(6219)),h=n(6469),y=n(6220),m=n(0),v=E(n(13)),_=E(n(5452));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e,t){return o(h.CategoryColumn,{columns:e},t)};function T(e){return e.name}S.displayName="renderColumn";var I=function(e){function t(){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return n=r=g(this,e.call.apply(e,[this].concat(s))),r._masonryRef=a.createRef(),r.state={favoritesTile:(i=u.default.getRandomFavorite(),{type:m.GIFPickerResultTypes.FAVORITES,name:v.default.Messages.GIF_PICKER_FAVORITES,icon:d.default.Names.FAVORITE_FILLED,src:null!=i?i.src:"https://media.giphy.com/media/1TOSaJsWtnhe0/giphy.gif",format:null!=i?i.format:m.GIFResultFormat.IMAGE}),selectedIndex:{column:0,row:0},focusedId:null},r.handleFocus=function(e){var t=r._masonryRef.current;null!=t&&t.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),r.setState({focusedId:e.id})},r.handleSelect=function(e){var t=r.props.onSelectItem,n=r.getData().find(function(t){return T(t)===e.id});null!=n&&null!=t&&t(n.type,n.name)},r.renderItem=function(e,t,n){var a=t.width,i=t.height,l=r.props.onSelectItem,u=r.state.focusedId;return o(y.GIFPickerSearchItem,{format:e.format,color:m.Colors.PRIMARY_DARK_800,src:e.src,item:e,index:n,itemWidth:a,itemHeight:i,onClick:function(){return l(e.type,e.name)},renderExtras:r.renderCategoryExtras,focused:T(e)===u})},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){0===this.props.trendingCategories.length&&(0,l.fetchTrending)()},t.prototype.getData=function(){var e=this.props.trendingCategories;return[this.state.favoritesTile].concat(e)},t.prototype.renderCategoryExtras=function(e){var t=e.name,n=e.icon,r=e.type;return o(a.Fragment,{},void 0,o("div",{className:r===m.GIFPickerResultTypes.FAVORITES?_.default.categoryFadeBlurple:_.default.categoryFade}),o("div",{className:_.default.categoryText},void 0,null!=n?o(d.default,{name:n,className:_.default.categoryIcon}):null,o("span",{className:_.default.categoryName},void 0,t)))},t.prototype.renderContent=function(e,t,n){return 0===this.props.trendingCategories.length?o(h.ResultsLoader,{columns:e,width:t,renderColumn:S}):a.createElement(c.default,{ref:this._masonryRef,className:_.default.container,width:t,height:n,gutterSize:12,getItemId:T,columns:e,getItemHeight:function(){return 110},renderItem:this.renderItem,data:this.getData()})},t.prototype.render=function(){var e=this;return o(f.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},void 0,o(p.default,{desiredItemWidth:200,maxColumns:6},void 0,function(t,n,r){return e.renderContent(t,n,r)}))},t}(a.PureComponent);I.displayName="GIFPickerFrontPage",t.default=i.default.connectStores([s.default],function(){return{trendingCategories:s.default.getTrendingCategories()}})(I),e.exports=t.default},6469:function(e,t,n){"use strict";t.__esModule=!0,t.ResultsLoader=t.CategoryColumn=t.AnimatedColumn=t.Block=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(6)),l=s(n(310)),u=s(n(5449));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=12,h=["#B3AEFF","#738EF5","#929AFA"],y=t.Block=function(e){function t(){var n,r;d(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.state={backgroundColor:i.default.sample(h)},f(r,n)}return c(t,e),t.prototype.render=function(){var e=this.props.height,t=this.state.backgroundColor;return o("div",{style:{height:e,backgroundColor:t},className:u.default.gif})},t}(a.PureComponent);y.displayName="Block";var m=t.AnimatedColumn=function(e){function t(n){d(this,t);var r=f(this,e.call(this,n));r.animateSlide=function(){var e=r.props.direction,t=r.state,n=t.translateY,o=t.height,a=e>0?0:-o/2+p,i=e>0?-o/2+p:0;n.setValue(a),l.default.timing(n,{toValue:i,duration:800,easing:l.default.Easing.linear}).start(r.animateSlide)};var o=new Array(10).fill(null).map(function(){return i.default.random(40,150)});return r.state={blocks:o,height:2*o.reduce(function(e,t){return e+t+p},p),translateY:new l.default.Value(0)},r}return c(t,e),t.prototype.componentDidMount=function(){this.animateSlide()},t.prototype.getAnimatedStyle=function(){return{width:100/this.props.columns+"%",transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}]}},t.prototype.render=function(){var e=this.state.blocks;return o(l.default.div,{className:u.default.column,style:this.getAnimatedStyle()},void 0,e.map(function(e,t){return o(y,{height:e},t)}),e.map(function(e,t){return o(y,{height:e},"alt"+t)}))},t}(a.Component);m.defaultProps={direction:-1},m.displayName="AnimatedColumn",(t.CategoryColumn=function(e){var t=e.columns;return o("div",{className:u.default.column,style:{width:100/t+"%"}},void 0,new Array(4).fill(null).map(function(e,t){return o("div",{className:u.default.categoryLoader},t)}))}).displayName="CategoryColumn",(t.ResultsLoader=function(e){function t(){return d(this,t),f(this,e.apply(this,arguments))}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.columns,n=e.renderColumn;return o("div",{className:u.default.container},void 0,new Array(t).fill(null).map(function(e,r){return n(t,r)}))},t}(a.PureComponent)).displayName="ResultsLoader"},6470:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=O(n(4)),l=O(n(182)),u=O(n(157)),s=O(n(80)),d=O(n(830)),f=n(859),c=O(n(43)),p=O(n(847)),h=O(n(6047)),y=O(n(128)),m=O(n(222)),v=O(n(442)),_=O(n(110)),E=O(n(181)),g=n(6027),S=O(n(319)),T=O(n(6074)),I=O(n(6222)),C=n(0),N=O(n(13)),A=O(n(5456));function O(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.trackInvite=function(e){if(null!=e&&e.ok){var t=r.props,n=t.activity,o=t.channel,a="";switch(t.activityActionType){case C.ActivityActionTypes.JOIN:a="Invite to Join";break;case C.ActivityActionTypes.SPECTATE:a="Invite to Spectate";break;case C.ActivityActionTypes.LISTEN:a="Invite to Listen";break;case C.ActivityActionTypes.WATCH:a="Invite to Watch"}return E.default.trackWithMetadata(C.AnalyticEvents.INVITE_SENT,{location:"Channel Text Area - "+a,invite_type:n.type===C.ActivityTypes.LISTENING?C.InviteTypes.SPOTIFY:C.InviteTypes.APPLICATION,application_id:n.application_id,guild_id:o.getGuildId(),channel_id:o.id,message_id:null!=e?e.body.id:null}),Promise.resolve()}},r.state={textValue:"",textFocused:!0},r.handleTextChange=r.handleTextChange.bind(r),r.handleShare=r.handleShare.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.fetchApplication()},t.prototype.componentDidUpdate=function(e){this.props.activity.application_id!==e.activity.application_id&&this.fetchApplication()},t.prototype.fetchApplication=function(){var e=this.props,t=e.activity,n=e.application;null!=t.application_id&&null==n&&l.default.fetchApplication(t.application_id)},t.prototype.renderTitle=function(){switch(this.props.activity.type){case C.ActivityTypes.LISTENING:return N.default.Messages.INVITE_EMBED_LISTENING_INVITE;case C.ActivityTypes.PLAYING:case C.ActivityTypes.STREAMING:default:return N.default.Messages.INVITE_EMBED_GAME_INVITE}},t.prototype.render=function(){var e=this,t=this.state,n=t.textValue,r=t.textFocused,i=this.props,l=i.activity,u=i.channel,s=i.activityActionType,d=i.cooldown,f=i.application,c=d>0,p=c?N.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((d+1e3)/1e3)}):null;return o(m.default,{size:m.default.Sizes.SMALL},void 0,o(m.default.Header,{},void 0,o(_.default,{tag:_.default.Tags.H4},void 0,this.renderTitle())),o(m.default.Content,{},void 0,o("div",{className:A.default.subHeader},void 0,N.default.Messages.MESSAGE_PREVIEW),o(I.default,{activityActionType:s,activity:l,className:A.default.preview,application:f,partyId:null!=l.party?l.party.id:null,isPreview:!0}),o("div",{className:A.default.subHeader},void 0,N.default.Messages.ADD_A_COMMENT_OPTIONAL),a.createElement(T.default,{className:A.default.textArea,value:n,focused:r,channel:u,onChange:this.handleTextChange,onSubmit:this.handleShare,type:C.TextareaTypes.FORM,ref:function(t){e.channelTextAreaRef=t}})),o(m.default.Footer,{},void 0,o(v.default,{text:p},void 0,o("div",{},void 0,o(y.default,{disabled:c,onClick:this.handleShare},void 0,N.default.Messages.INVITE_EMBED_SEND_INVITE))),o(y.default,{look:y.default.Looks.LINK,onClick:this.handleCancel},void 0,N.default.Messages.CANCEL)))},t.prototype.handleCancel=function(){s.default.pop()},t.prototype.handleTextChange=function(e,t){this.setState({textValue:t})},t.prototype.handleShare=function(){var e=this,t=this.props,n=t.channel,r=t.activity,o=t.activityActionType,a=t.cooldown,i=this.state.textValue;if(a>0)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var l=S.default.parse(n,i),f={activity:r,type:o};return p.default.isOpen("popout-channel-text-area-shouting")?(d.default.close("popout-channel-text-area-shouting"),u.default.sendMessage(n.id,l,!0,f).then(function(t){return e.trackInvite(t)}),s.default.pop(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):(0,g.applyChatRestrictions)(this.channelTextAreaRef,i,n).then(function(t){return t.valid?(u.default.sendMessage(n.id,l,!0,f).then(function(t){return e.trackInvite(t)}),s.default.pop(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!1,shouldRefocus:!1}})},t}(a.PureComponent);b.displayName="ActivityInvite",t.default=i.default.connectStores([h.default,c.default],function(e){var t=e.channel,n=e.activity;return{cooldown:h.default.getSlowmodeCooldownGuess(t.id),application:null!=n.application_id?c.default.getGame(n.application_id):f.SpotifyApplication}})(b),e.exports=t.default},6471:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=N(n(17)),u=N(n(135)),s=n(224),d=N(n(314)),f=n(331),c=n(180),p=N(n(311)),h=n(5979),y=N(n(128)),m=N(n(152)),v=N(n(306)),_=N(n(827)),E=N(n(6137)),g=N(n(6063)),S=N(n(442)),T=n(0),I=N(n(13)),C=N(n(5455));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e){function t(n){A(this,t);var r=O(this,e.call(this,n));return r.renderUserPopout=r.renderUserPopout.bind(r),r}return b(t,e),t.prototype.renderUserPopout=function(e){var t=this.props,n=t.renderUserPopout;return n(t.member.user,e)},t.prototype.render=function(){var e=this.props,t=e.member,n=e.className;return a(_.default,{closeOnScroll:!1,render:t.unknownUser?void 0:this.renderUserPopout,position:_.default.Positions.LEFT,shadow:!1},void 0,a(S.default,{text:t.unknownUser?"":t.nick||t.user.username},void 0,a("div",{className:t.unknownUser?C.default.partyMember:C.default.partyMemberKnown},void 0,a(h.AvatarImage,{src:t.user.getAvatarURL(),size:h.AvatarSizes.XSMALL,className:(0,l.default)(C.default.partyAvatar,n)}))))},t}(i.PureComponent);M.displayName="PartyMember";var R=function(e){function t(n){A(this,t);var r=O(this,e.call(this,n));return r.handleOpenSpotifyTrack=function(){var e=r.props,t=e.activity,n=e.onOpenSpotifyTrack;null!=t&&n&&n(t)},r.handleOpenSpotifyArtist=function(e){var t=r.props,n=t.activity,o=t.onOpenSpotifyArtist,a=t.message;null!=n&&null!=a&&o&&o(n,a.author.id,e)},r.handleOpenSpotifyAlbum=function(){var e=r.props,t=e.activity,n=e.onOpenSpotifyAlbum,o=e.message;null!=t&&null!=o&&n&&n(t,o.author.id)},r.handleJoin=r.handleJoin.bind(r),r.handleSpectate=r.handleSpectate.bind(r),r.handleSync=r.handleSync.bind(r),r.handleDownloadApp=r.handleDownloadApp.bind(r),r.renderUser=r.renderUser.bind(r),r}return b(t,e),t.prototype.isDeadInvite=function(){var e=this.props,t=e.isPreview,n=e.message,r=e.activity,o=e.applicationId;return!t&&!(null!=n&&(0,s.isInviteActive)(r,n,o))},t.prototype.getPartySize=function(){var e=this.props.activity;return null==e||null==e.party||null==e.party.size||e.party.size.length<2?[-1,-1]:e.party.size},t.prototype.getActionableMode=function(){return[T.ActivityActionTypes.LISTEN,T.ActivityActionTypes].includes(this.props.activityActionType)?"Actionable":this.props.isPreview||this.canSpectate()||this.canJoin()?"Actionable":"NotActionable"},t.prototype.isInParty=function(){var e=this.props,t=e.activity,n=e.myPartyId;return!e.isPreview&&null!=t&&null!=t.party&&n===t.party.id},t.prototype.isPartyFull=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&t>=n},t.prototype.hasPartySize=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&n>-1},t.prototype.isActionType=function(e){return this.props.activityActionType===e},t.prototype.canSpectate=function(){var e=this.props,t=e.isGameLaunchable,n=e.activity,r=e.isInBrowser,o=e.isPreview,a=(0,s.hasFlag)(n,T.ActivityFlags.SPECTATE);return!(!o||!a)||!(this.isDeadInvite()||!this.isActionType(T.ActivityActionTypes.SPECTATE)||!(0,s.hasFlag)(n,T.ActivityFlags.SPECTATE))&&!(r||!t||this.isInParty())},t.prototype.canJoin=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isGameLaunchable,o=e.isInBrowser;return!!n||!(this.isDeadInvite()||!this.isActionType(T.ActivityActionTypes.JOIN)||!(0,s.hasFlag)(t,T.ActivityFlags.JOIN))&&(!(!this.hasPartySize()||this.isPartyFull())&&!(o||!r||this.isInParty()))},t.prototype.canSync=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isSyncable,o=e.isInBrowser;return!!n||!(!this.isActionType(T.ActivityActionTypes.LISTEN)&&!this.isActionType(T.ActivityActionTypes.WATCH))&&(!(this.isDeadInvite()||!(0,s.hasFlag)(t,T.ActivityFlags.SYNC))&&!(o||!r||this.isInParty()))},t.prototype.getHelpdeskArticleURL=function(){var e=this.props.partyId;return null!=e&&(0,f.isSpotifyParty)(e)?T.HelpdeskArticles.SPOTIFY_CONNECTION:T.HelpdeskArticles.RICH_PRESENCE_INTRODUCTION},t.prototype.handleJoin=function(){var e=this.props.onJoin;e&&e()},t.prototype.handleSpectate=function(){var e=this.props.onSpectate;e&&e()},t.prototype.handleSync=function(){var e=this.props.onSync;e&&e()},t.prototype.handleDownloadApp=function(){var e=this.props.onDownloadApp;e&&e()},t.prototype.renderHeaderText=function(){var e=this.props,t=e.activityActionType,n=e.name;switch(t){case T.ActivityActionTypes.LISTEN:return I.default.Messages.INVITE_EMBED_INVITE_TO_LISTEN.format({name:n});case T.ActivityActionTypes.WATCH:return I.default.Messages.INVITE_EMBED_INVITE_TO_WATCH.format({name:n});case T.ActivityActionTypes.SPECTATE:return I.default.Messages.INVITE_EMBED_INVITE_TO_SPECTATE;case T.ActivityActionTypes.JOIN:default:return I.default.Messages.INVITE_EMBED_INVITE_TO_JOIN_GROUP}},t.prototype.renderPartyStatus=function(){var e=this,t=this.props,n=t.activityActionType,r=t.isGameLaunchable,o=t.isSyncable,i=t.isPreview,l=t.isInBrowser,u=t.name,d=t.activity,f=this.getPartySize(),c=f[0],h=f[1];if(this.isDeadInvite())switch(n){case T.ActivityActionTypes.LISTEN:return I.default.Messages.INVITE_EMBED_LISTEN_HAS_ENDED;case T.ActivityActionTypes.WATCH:return I.default.Messages.INVITE_EMBED_WATCH_HAS_ENDED;case T.ActivityActionTypes.SPECTATE:case T.ActivityActionTypes.JOIN:default:return I.default.Messages.INVITE_EMBED_GAME_HAS_ENDED}if(l&&!i)switch(n){case T.ActivityActionTypes.SPECTATE:return I.default.Messages.INVITE_EMBED_SPECTATE_VIA_DESKTOP_APP;case T.ActivityActionTypes.JOIN:return I.default.Messages.INVITE_EMBED_JOIN_VIA_DESKTOP_APP}if(this.isActionType(T.ActivityActionTypes.LISTEN)||this.isActionType(T.ActivityActionTypes.WATCH)){if(null!=d&&null!=d.details&&null!=d.state&&(0,s.isListeningOnSpotify)(d)){return[a("div",{className:C.default.details},"details",a(p.default,{className:C.default.textLink,onClick:this.handleOpenSpotifyTrack},void 0,d.details)),a("div",{className:C.default.state},"state",I.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:d.state,artistsHook:function(t,n){return null!=d.state?a(E.default,{artists:d.state,linkClassName:C.default.textLink,canOpen:null!=d.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},n):null}}))]}return this.isActionType(T.ActivityActionTypes.LISTEN)?I.default.Messages.USER_ACTIVITY_LISTEN_ALONG:I.default.Messages.USER_ACTIVITY_WATCH_ALONG}return this.isInParty()?I.default.Messages.INVITE_EMBED_IN_GROUP:r||o||i?this.isActionType(T.ActivityActionTypes.SPECTATE)?I.default.Messages.INVITE_EMBED_SPECTATE:this.isPartyFull()?this.canSpectate()?I.default.Messages.INVITE_EMBED_FULL_GROUP_SPECTATE:I.default.Messages.INVITE_EMBED_FULL_GROUP:this.hasPartySize()?I.default.Messages.INVITE_EMBED_NUM_OPEN_SLOTS.format({number:h-c}):I.default.Messages.JOIN:I.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:u})},t.prototype.renderActionButton=function(){var e=this,t=this.props,n=t.isInBrowser,r=t.isPreview,a=t.isGameLaunchable,l=t.partyId,u=t.activity,s=t.message,d=t.renderSpotifyJoinButton,c=t.renderCustomButton,p={className:C.default.actionButton,size:y.default.Sizes.SMALL},h=null!=c?c(p):null;if(null!=h)return h;if(!this.isDeadInvite()&&this.isActionType(T.ActivityActionTypes.LISTEN)&&null!=l&&null!=s&&(0,f.isSpotifyParty)(l))return d(o({},p,{activity:u,user:s.author}));return i.createElement(y.default,o({},p,function(){if(!r&&n&&!e.isDeadInvite())return{children:I.default.Messages.USER_ACTIVITY_ACTION_DOWNLOAD_APP,onClick:e.handleDownloadApp};var t=e.canSpectate();return e.isActionType(T.ActivityActionTypes.SPECTATE)||e.isPartyFull()&&t?t?{children:I.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,onClick:e.handleSpectate}:{children:I.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,disabled:!0}:e.canJoin()?{children:I.default.Messages.JOIN,onClick:e.handleJoin}:e.canSync()?{children:I.default.Messages.JOIN,onClick:e.handleSync}:{children:I.default.Messages.JOIN,disabled:!0}}(),{color:!n&&!a||this.isDeadInvite()?y.default.Colors.GREY:y.default.Colors.GREEN,submitting:this.props.isLaunching}))},t.prototype.renderUser=function(e,t,n){var r=this.props.renderUserPopout;return null!=e?a(M,{member:e,renderUserPopout:r,className:t},n):a("div",{className:(0,l.default)(C.default.partyMemberEmpty,t)},n)},t.prototype.renderMoreUsers=function(e,t,n){return a("div",{className:C.default.moreUsers},n,e)},t.prototype.renderParty=function(){var e=this.props,t=e.partyId,n=e.partyMembers,r=e.hideParty,o=this.getPartySize(),i=o[0],l=o[1],s=this.hasPartySize()||this.isActionType(T.ActivityActionTypes.LISTEN)||this.isActionType(T.ActivityActionTypes.WATCH);if(this.isActionType(T.ActivityActionTypes.SPECTATE)||null==t||this.isDeadInvite()||!s||r)return null;for(var d=[].concat(n);d.length<i;)d.push({user:new u.default({discriminator:"0005"}),unknownUser:!0});for(var f=Math.min(l,106);d.length<f;)d.push(null);return a(g.default,{className:C.default.partyMembers,users:d,max:l>0?Math.min(l,6):6,renderUser:this.renderUser,renderMoreUsers:this.renderMoreUsers})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.coverImage,r=e.name,o=e.activity,i=e.backgroundOpacity,u=this.isActionType(T.ActivityActionTypes.JOIN)||this.isActionType(T.ActivityActionTypes.SPECTATE),f=this.isDeadInvite(),h=void 0;return null==n||null==o||u?!u&&f&&(h=a("div",{className:C.default.artworkSpotifySessionEnded})):h=a("img",{alt:"",src:n,className:(0,c.getClass)(C.default,"artwork",this.getActionableMode())}),null!=o&&null!=h&&null!=o.assets&&o.assets.large_text&&!f&&(0,s.isListeningOnSpotify)(o)&&(h=a(S.default,{text:o.assets.large_text},void 0,a(p.default,{onClick:this.handleOpenSpotifyAlbum},void 0,h))),a("div",{className:(0,l.default)(C.default.invite,t,C.default[i+"BackgroundOpacity"])},void 0,a("div",{className:C.default.coverImageWrapper},void 0,a("div",{className:(0,l.default)((0,c.getClass)(C.default,"coverImage",this.getActionableMode()),null!=h?C.default.blurred:null),style:{backgroundImage:null!=n?"url('"+n+"')":null}})),a(m.default,{className:C.default.fullHeight},void 0,a(m.default,{direction:m.default.Direction.VERTICAL},void 0,a("div",{className:C.default.header},void 0,this.renderHeaderText()),a(m.default.Child,{className:C.default.partyStatus},void 0,this.renderPartyStatus()),a(m.default,{align:m.default.Align.END},void 0,a(m.default,{align:m.default.Align.CENTER,className:C.default.actionAndParty,basis:0,style:{marginRight:0}},void 0,this.renderActionButton(),this.renderParty()),null==h&&u?a("div",{className:C.default.name},void 0,r):null)),h),a(p.default,{href:d.default.getArticleURL(this.getHelpdeskArticleURL()),className:C.default.helpIcon},void 0,a(v.default,{name:v.default.Names.QUESTION_MARK,color:T.Colors.PRIMARY_DARK_300,width:12,height:12})))},t}(i.PureComponent);R.displayName="ActivityInviteEmbed",t.default=R,e.exports=t.default},6472:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=R(n(17)),u=R(n(114)),s=R(n(4)),d=n(6062),f=R(n(6036)),c=R(n(6075)),p=R(n(6475)),h=n(6001),y=R(n(6096)),m=n(6064),v=R(n(6477)),_=n(109),E=R(n(6493)),g=R(n(6495)),S=R(n(6224)),T=R(n(6496)),I=R(n(6221)),C=R(n(6499)),N=R(n(924)),A=R(n(6502)),O=R(n(6227)),b=n(0),M=R(n(5482));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=s.default.connectStores([f.default],function(e){var t=e.url;return{isFavorite:f.default.getIsFavorite(t)}})(function(e){var t=e.width,n=e.height,r=e.url,o=e.src,i=e.isFavorite,u=e.format,s=e.className;return a(I.default,{className:(0,l.default)(s),onClick:function(e){e?(0,d.removeFavoriteGIF)(r):((0,d.addFavoriteGIF)({url:r,src:o,width:t,height:n,format:u}),_.ComponentDispatch.dispatch(b.ComponentActions.FAVORITE_GIF))},isFavorite:i})}),w=function(e,t,n){return function(){var r=t||n;if(null==r)return null;var o=r.url,i=r.proxyURL,l=r.width,u=r.height;return a(L,{width:l,height:u,src:i||o,url:e||i||o,format:null!=n?b.GIFResultFormat.VIDEO:b.GIFResultFormat.IMAGE,className:M.default.gifFavoriteButton})}},D=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=P(this,e.call.apply(e,[this].concat(u))),r.getAcceptInviteContext=function(e){var t=r.props,n=t.channel,o=t.message;return{location:e,location_guild_id:n.getGuildId(),location_channel_id:n.id,location_channel_type:n.type,location_message_id:o.id}},r.renderEmbed=function(e,t){var n=r.props,l=n.disableAutoPlayGif,u=n.inlineEmbedMedia,s=n.backgroundOpacity,d=i.createElement(c.default,o({className:M.default.embedWrapper,embed:e,autoPlayGif:!l,hideMedia:!u},t,{backgroundOpacity:s}));return a(m.GIFAccessoryContext.Provider,{value:w(e.url,e.image,e.video)},e.id,d)},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderInvites=function(e){var t=this;return e.invites.length?e.invites.map(function(n){return a(E.default,{code:n,author:e.author,getAcceptInviteContext:t.getAcceptInviteContext},n)}):null},t.prototype.renderGiftCodes=function(e){return e.giftCodes.map(function(t){return a(A.default,{code:t,author:e.author,channelId:e.channel_id},t)})},t.prototype.renderReactions=function(e){var t=this.props,n=t.disableReactionCreates,r=t.disableReactionReads,o=t.disableReactionUpdates,i=t.channel;return r?null:a(S.default,{message:e,channel:i,disableReactionCreates:n,disableReactionUpdates:o})},t.prototype.renderAttachments=function(e){var t=this.props,n=t.disableAutoPlayGif,r=t.inlineAttachmentMedia,o=t.onContextMenuMessage,i=t.channel;return e.attachments.length?e.attachments.map(function(t){return a(m.GIFAccessoryContext.Provider,{value:function(e){return function(){var t=e.proxy_url,n=e.width,r=e.height;return h.IMAGE_GIF_RE.test(e.filename)&&null!=n&&null!=r?a(L,{width:n,height:r,src:t,url:t,format:b.GIFResultFormat.IMAGE,className:M.default.gifFavoriteButton}):null}}(t)},t.id,a(v.default,{className:M.default.embedWrapper,attachment:t,inlineMedia:r,autoPlayGif:!n,onContextMenu:function(n){return o(n,{attachment:t,message:e,channel:i,target:n.target})},ImageComponent:C.default}))}):null},t.prototype.renderEmbeds=function(e){var t=this,n=this.props.disableEmbeds;return!e.embeds.length||n?null:e.embeds.map(function(e){if(e.type===b.EmbedTypes.APPLICATION_NEWS)return a(T.default,{embed:e},e.id);var n={};if(n.ImageComponent=C.default,n.VideoComponent=y.default,n.GIFVComponent=p.default,e.type===b.EmbedTypes.RICH&&(n.LinkComponent=N.default),e.type===b.EmbedTypes.ARTICLE&&null!=e.url&&e.url.includes("discordapp.com/store/skus")&&null!=e.provider&&"Discord"===e.provider.name){var r=u.default.parse(e.url);if(null!=r.pathname){var o=r.pathname.split("/")[3];if(null!=o)return a(O.default,{skuId:o,renderFallback:function(){return t.renderEmbed(e,n)}},e.id)}}return t.renderEmbed(e,n)})},t.prototype.renderActivityInvite=function(e){if(null==e.activity)return null;var t=this.props.channel;return a(g.default,{channel:t,message:e,hideParty:!1})},t.prototype.render=function(){var e=this.props,t=e.isCompact,n=e.className,r=e.message,o=this.renderInvites(r),i=this.renderGiftCodes(r),u=this.renderAttachments(r),s=this.renderEmbeds(r),d=this.renderActivityInvite(r),f=this.renderReactions(r);return null==o&&null==u&&null==s&&null==d&&null==f&&null==i?null:a("div",{className:(0,l.default)(n,t?M.default.containerCompact:M.default.containerCozy)},void 0,o,i,u,s,d,f)},t}(i.PureComponent);D.defaultProps={disableEmbeds:!0,isCompact:!1},D.displayName="MessageAccessories",t.default=D,e.exports=t.default},6473:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=l(n(17)),i=l(n(5459));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return o.createElement("div",r({className:(0,a.default)(i.default.gifTag,t)},n))},e.exports=t.default},6474:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=n(81),s=n(6095),d=n(9),f=(o=d)&&o.__esModule?o:{default:o};function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=200,h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.timeout=new u.Timeout,r.state={pointerEvents:!1},r.onMouseOver=function(){r.timeout.start(p,function(){return r.setState({pointerEvents:!0})})},r.onMouseOut=function(){r.timeout.start(p,function(){return r.setState({pointerEvents:!1})})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){t.visibilityObserver.observe(this)},t.prototype.componentWillUnmount=function(){t.visibilityObserver.unobserve(this),this.timeout.stop()},t.prototype.render=function(){var e=this.props,n=e.src,r=e.className,o=e.style,l=this.state.pointerEvents,u=t.visibilityObserver.isVisible(this),s={pointerEvents:l?"auto":"none"},d=void 0;return u&&(d=f.default.embedded&&!window.DiscordNative?i("webview",{src:n,style:a({width:"100%",height:"100%"},s)}):i("iframe",{src:n,style:a({},o,s),frameBorder:0})),i("div",{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,className:r,style:o},void 0,d)},t}(l.PureComponent);h.visibilityObserver=new s.VisibilityObserver({rootMargin:"-50px 0px 0px 0px",threshold:0}),h.displayName="UnloadingWebview",t.default=h,e.exports=t.default},6475:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(6001)),u=n(6064),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.videoRef=i.createRef(),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(e.play!==this.props.play){var t=this.videoRef.current;t instanceof HTMLVideoElement&&(this.props.play?t.play():t.pause())}},t.prototype.render=function(){var e=this.props,t=e.poster,n=e.src,r=e.width,o=e.height,l=e.naturalWidth,u=e.naturalHeight,d=e.play,f=e.className;return l<=s.MAX_VIDEO_WIDTH&&u<=s.MAX_VIDEO_HEIGHT||l<=s.MAX_VIDEO_HEIGHT&&u<=s.MAX_VIDEO_WIDTH?i.createElement("video",{ref:this.videoRef,className:f,poster:t,src:n,width:r,height:o,muted:!0,loop:!0,autoPlay:d,preload:"none"}):a("img",{alt:"",src:t,width:r,height:o})},t}(i.Component);p.defaultProps={play:!1},p.displayName="Video";var h=function(e){var t=e.src,n=e.poster,r=e.naturalWidth,s=e.naturalHeight,f=e.autoPlay,c=e.ImageComponent,h=e.className,y=e.playable,m=void 0===y||y,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["src","poster","naturalWidth","naturalHeight","autoPlay","ImageComponent","className","playable"]),_=c||l.default;return a(u.GIFAccessoryContext.Consumer,{},void 0,function(e){return i.createElement(_,o({alt:d.default.Messages.GIF,src:n,className:h,autoPlay:f,animated:m,renderAccessory:e,tabIndex:m?0:-1},v),function(e){var n=e.src,o=e.size,i=e.animating;return a(p,{className:h,poster:n,src:t,width:o.width,height:o.height,naturalWidth:r,naturalHeight:s,play:m&&i})})})};h.displayName="LazyGIFV",t.default=h,e.exports=t.default},6476:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=d(n(17)),u=d(n(310)),s=d(n(5461));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={friction:14,tension:200},p={DURATION:"DURATION",VOLUME:"VOLUME"};function h(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.state={animatedProgress:new u.default.Value(0),dragging:!1,offsetLeft:0,offsetWidth:0,previewWidth:new u.default.Value(0)},r.handlePreviewChange=function(){var e=r,t=e.bubble,n=e.state,o=n.dragging,a=n.previewWidth,i=e.props.value;o||null==t||(t.innerHTML=h(a._value*i))},r.handleAnimatedChange=function(){var e=r,t=e.bubble,n=e.state,o=n.dragging,a=n.animatedProgress,i=e.props.value;o&&null!=t&&(t.innerHTML=h(a._value*i))},r.handleMouseMove=function(e){var t=r.state,n=t.dragging,o=t.previewWidth;if(!n){var a=e.clientX,i=e.clientY;o.setValue(r.calculatePercentage(a,i))}},r.handleDragMove=function(e){var t=r.props,n=t.onDrag,o=t.type,a=e.clientX,i=e.clientY;n(r.calculatePercentage(a,i),o)},r.handleDragStart=function(e){var t=r.props,n=t.onDragStart,o=t.onDrag,a=t.type,i=e.clientX,l=e.clientY;if(e.preventDefault(),null!=r.wrapper){var u=r.wrapper.getBoundingClientRect(),s=u.left,d=u.width;r.setState({dragging:!0,offsetLeft:s,offsetWidth:d},function(){n(a),o(r.calculatePercentage(i,l),a),window.addEventListener("mouseup",r.handleDragEnd,!1),window.addEventListener("mousemove",r.handleDragMove,!1)})}},r.handleDragEnd=function(){(0,r.props.onDragEnd)(),window.removeEventListener("mouseup",r.handleDragEnd,!1),window.removeEventListener("mousemove",r.handleDragMove,!1),r.setState({dragging:!1})},r.setBubbleRef=function(e){null==e?r.bubble=null:null!=e.componentRef?r.bubble=e.componentRef:null!=e.refs&&(r.bubble=e.refs.node)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.addListener(this.handlePreviewChange),n.addListener(this.handleAnimatedChange)},t.prototype.componentWillUnmount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.removeListener(this.handlePreviewChange),n.removeListener(this.handleAnimatedChange),window.removeEventListener("mouseup",this.handleDragEnd,!1),window.removeEventListener("mousemove",this.handleDragMove,!1)},t.prototype.componentDidUpdate=function(e,t){var n=this.state,r=n.dragging,o=n.previewWidth,a=n.animatedProgress;!r&&t.dragging&&o.setValue(a._value)},t.prototype.setGrabber=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.state.animatedProgress;t?u.default.spring(n,a({toValue:e},c)).start():n.setValue(e)},t.prototype.calculatePercentage=function(e,t){var n=this.wrapper,r=this.props.type;if(null==n)return 0;var o=n.getBoundingClientRect(),a=o.left,i=o.width,l=o.bottom,u=o.height,s=r===p.VOLUME?(l-t)/u:(e-a)/i;return Math.min(1,Math.max(0,s))},t.prototype.render=function(){var e=this,t=this.props,n=t.buffers,r=t.type,a=this.state,d=a.dragging,f=a.previewWidth,c=a.animatedProgress,h=d?c:f;return o("div",{className:r===p.VOLUME?s.default.vertical:s.default.horizontal},void 0,i.createElement("div",{className:(0,l.default)(d?s.default.mediaBarInteractionDragging:s.default.mediaBarInteraction,r===p.VOLUME?s.default.mediaBarInteractionVolume:null),onMouseDown:this.handleDragStart,onMouseMove:this.handleMouseMove,ref:function(t){return e.wrapper=t}},o("div",{className:(0,l.default)(s.default.mediaBarWrapper,r===p.VOLUME?s.default.mediaBarWrapperVolume:null)},void 0,null!=n?n.map(function(e,t){var n=e[0],r=e[1];return o("div",{className:s.default.buffer,style:{width:100*r+"%",left:100*n+"%"}},t)}):null,r===p.DURATION?o(u.default.div,{className:s.default.mediaBarPreview,style:{width:f.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null,o(u.default.div,{className:s.default.mediaBarProgress,style:{width:c.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}},void 0,o("span",{className:s.default.mediaBarGrabber})),r===p.DURATION?i.createElement(u.default.div,{ref:this.setBubbleRef,className:s.default.bubble,style:{left:h.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null)))},t}(i.Component);y.Types=p,y.displayName="MediaBar",t.default=y,e.exports=t.default},6477:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(17)),u=y(n(6331)),s=y(n(6492)),d=y(n(6001)),f=y(n(6096)),c=y(n(870)),p=n(6064),h=y(n(5464));function y(e){return e&&e.__esModule?e:{default:e}}var m=/\.(png|jpe?g|webp|gif)$/i,v=/\.(mp4|webm|mov)$/i,_=/\.(mp3|ogg|wav|flac)$/i,E=function(e){var t=e.attachment,n=e.inlineMedia,r=e.autoPlayGif,o=e.onClick,i=e.onContextMenu,l=e.ImageComponent,c=e.className,h=e.focusable,y=t.filename,E=t.width,g=t.height;if(n&&null!=E&&E>0&&null!=g&&g>0){if(m.test(y)){var S=l||d.default;return a(p.GIFAccessoryContext.Consumer,{},void 0,function(e){return a(S,{src:t.proxy_url||t.url,original:t.url,width:E,height:g,autoPlay:r,onClick:o,onContextMenu:i,renderAccessory:e,className:c,shouldLink:h})})}if(v.test(y)&&null!=t.proxy_url)return a(f.default,{poster:t.proxy_url+"?format=jpeg",fileSize:t.size,fileName:t.filename,src:t.url,width:E,height:g,onClick:o,onContextMenu:i,naturalWidth:E,naturalHeight:g,className:c,playable:h})}else if(null!=n&&_.test(y)&&null!=t.url)return a(s.default,{fileSize:t.size,fileName:t.filename,src:t.url,className:c,playable:h});return a(u.default,{url:t.url,filename:t.filename,size:t.size,onClick:o,onContextMenu:i,className:c})};E.displayName="AttachmentContent";t.default=function(e){var t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]),r=n.attachment,u=r.width,s=r.height,d=r.spoiler,f=null!=u&&u<200||null!=s&&s<50,p=function(e){var r;return i.createElement(E,o({},n,{className:(0,l.default)(t,(r={},r[h.default.spoiler]=d&&!f,r[h.default.hiddenSpoilers]=d&&e,r[h.default.inline]=d&&f,r)),focusable:!e}))};return d?a(c.default,{type:c.default.Types.ATTACHMENT,inline:f},void 0,function(e){return p(e)}):p()},e.exports=t.default},6478:function(e,t,n){var r={"./icon-file-small-acrobat.svg":6479,"./icon-file-small-ae.svg":6480,"./icon-file-small-ai.svg":6481,"./icon-file-small-archive.svg":6482,"./icon-file-small-audio.svg":6483,"./icon-file-small-code.svg":6484,"./icon-file-small-document.svg":6485,"./icon-file-small-ps.svg":6486,"./icon-file-small-sketch.svg":6487,"./icon-file-small-spreadsheet.svg":6488,"./icon-file-small-unknown.svg":6489,"./icon-file-small-video.svg":6490,"./icon-file-small-webcode.svg":6491};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=6478},6479:function(e,t,n){e.exports=n.p+"f167b4196f02faf2dc2e7eb266a24275.svg"},6480:function(e,t,n){e.exports=n.p+"982bd8aedd89b0607f492d1175b3b3a5.svg"},6481:function(e,t,n){e.exports=n.p+"03ad68e1f4d47f2671d629cfeac048ef.svg"},6482:function(e,t,n){e.exports=n.p+"73d212e3701483c36a4660b28ac15b62.svg"},6483:function(e,t,n){e.exports=n.p+"5b0da31dc2b00717c1e35fb1f84f9b9b.svg"},6484:function(e,t,n){e.exports=n.p+"481aa700fab464f2332ca9b5f4eb6ba4.svg"},6485:function(e,t,n){e.exports=n.p+"9f358f466473586417baee7bacfba5ca.svg"},6486:function(e,t,n){e.exports=n.p+"a236ab3be009cf5fbbbae4d7a7437804.svg"},6487:function(e,t,n){e.exports=n.p+"f812168e543235a62b9f6deb2b094948.svg"},6488:function(e,t,n){e.exports=n.p+"85f7a4063578f6e0e2c73f60bca0fcce.svg"},6489:function(e,t,n){e.exports=n.p+"985ea67d2edab4424c62009886f12e44.svg"},6490:function(e,t,n){e.exports=n.p+"83a157e8720aa50957c4338e10d01c80.svg"},6491:function(e,t,n){e.exports=n.p+"a11e895b46cde503a094dd31641060a6.svg"},6492:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(6006),u=n(6145),s=(o=u)&&o.__esModule?o:{default:o};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,r=e.fileName,o=e.className,i=e.playable;return a(s.default,{src:t,fileName:r,fileSize:(0,l.sizeString)(n),type:s.default.Types.AUDIO,className:o,playable:i})},t}(i.PureComponent);d.displayName="LazyAudio",t.default=d,e.exports=t.default},6493:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=A(n(17)),l=A(n(38)),u=A(n(4)),s=A(n(318)),d=A(n(131)),f=A(n(324)),c=A(n(5354)),p=A(n(22)),h=A(n(28)),y=A(n(6059)),m=A(n(51)),v=A(n(312)),_=A(n(15)),E=A(n(6494)),g=n(835),S=n(109),T=A(n(6046)),I=n(0),C=A(n(13)),N=A(n(5372));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=o(E.default.Body,{resolving:!0}),M=o(E.default.Icon,{expired:!0}),R=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=O(this,e.call.apply(e,[this].concat(a))),r.handleAcceptInstantInvite=function(e){var t=r.props,n=t.code,o=t.getAcceptInviteContext;s.default.acceptInvite(n,o("Invite Button Embed"),function(){r.handleTransitionToInviteChannel(e)})},r.handleTransitionToInviteChannel=function(e){var t=r.props.invite;null!=t.channel&&s.default.transitionToInviteSync(t)},r.handleMentionInviter=function(){var e=r.props,t=e.author,n=e.selectedChannelId,o=t.username,a=t.discriminator,i="@"+o;v.default.hidePersonalInformation||(i+="#"+a),S.ComponentDispatch.dispatchToLastSubscribed(I.ComponentActions.INSERT_TEXT,{content:i}),null!=n&&T.default.typing(n)},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderResolving=function(){return o(E.default,{},void 0,o(E.default.Header,{text:C.default.Messages.INVITE_BUTTON_RESOLVING}),b)},t.prototype.renderExpired=function(){var e=this.props,t=e.currentUserId,n=e.author,r=void 0,a=void 0,i=void 0;return t===n.id?(r=C.default.Messages.INVITE_BUTTON_INVALID_OWNER,i=C.default.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID):(i=C.default.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID,n&&n.username?(r=C.default.Messages.INSTANT_INVITE_ASK_USER_FOR_NEW_INVITE.format({username:n.username}),a=o(E.default.Button,{onClick:this.handleMentionInviter},void 0,C.default.Messages.MENTION)):r=C.default.Messages.INSTANT_INVITE_ASK_FOR_NEW_INVITE),o(E.default,{},void 0,o(E.default.Header,{text:i}),o(E.default.Body,{},void 0,M,o(E.default.Info,{expired:!0,title:C.default.Messages.INVITE_BUTTON_INVALID},void 0,r),a))},t.prototype.renderStandard=function(){var e=this.props,t=e.invite,n=e.author,r=e.currentUserId===n.id,a=t.channel,i=t.approximate_member_count,l=t.approximate_presence_count,u=t.state===I.InviteStates.ACCEPTING,s=null!=a?new d.default(a):null,c=this.props.guild,p=null!=c;if(null==c){if(null==t.guild)return this.renderResolving();c=new f.default(t.guild)}var h=void 0;null!=s&&s.type===I.ChannelTypes.GUILD_VOICE?h=o(E.default.Channel,{channel:s}):null!=i&&i>=5||null!=l&&l>0?h=o(E.default.Data,{members:i,membersOnline:l}):null!=s&&(h=o(E.default.Channel,{channel:s}));var y=p?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,m=C.default.Messages.JOIN_SERVER,v=E.default.Button.Colors.GREEN;p&&(m=C.default.Messages.JOINED_SERVER,v=E.default.Button.Colors.PRIMARY);var _=C.default.Messages.INVITE_BUTTON_TITLE_INVITED;return r&&(_=C.default.Messages.INVITE_BUTTON_TITLE_INVITER),o(E.default,{},void 0,o(E.default.Header,{text:_}),o(E.default.Body,{},void 0,o(E.default.Icon,{guild:c,onClick:p?y:null}),o(E.default.Info,{title:c.name,onClick:p?y:null},void 0,h),o(E.default.Button,{onClick:y,submitting:u,checkmark:p,color:v},void 0,m)))},t.prototype.renderGroupDM=function(){var e=this.props,t=e.invite,n=e.author,r=e.currentUserId===n.id,a=t.state===I.InviteStates.ACCEPTING,i=this.props.channel,l=null!=i,u=void 0;if(null==i){if(null==t.channel)return this.renderResolving();i=new d.default(t.channel),u=null!=t.channel&&null!=t.channel.recipients?t.channel.recipients:[]}else u=i.recipients.reduce(function(e,t){var n=_.default.getUser(t);return null!=n&&e.push(n),e},[]),l&&u.push(_.default.getCurrentUser());var s=i.name;s||(s=u.length>0?u.filter(function(e){return null!=e}).map(function(e){return e.username}).join(", "):C.default.Messages.UNNAMED);var f=l?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,c=C.default.Messages.JOIN_SERVER,p=E.default.Button.Colors.GREEN;l&&(c=C.default.Messages.JOINED_SERVER,p=E.default.Button.Colors.PRIMARY);var h=C.default.Messages.INVITE_BUTTON_TITLE_INVITED_GROUP_DM;return r&&(h=C.default.Messages.INVITE_BUTTON_TITLE_INVITER_GROUP_DM),o(E.default,{},void 0,o(E.default.Header,{text:h}),o(E.default.Body,{},void 0,o(E.default.Icon,{channel:i,onClick:l?f:null}),o(E.default.Info,{title:s,onClick:l?f:null},void 0,o(E.default.Data,{members:u.length})),o(E.default.Button,{onClick:f,submitting:a,checkmark:l,color:p},void 0,c)))},t.prototype.renderStreaming=function(){var e=this.props,t=e.invite,n=e.author,r=e.currentUserId,a=e.isWatching,i=r===n.id,u=t.target_user_type,s=t.target_user;(0,l.default)(u===I.InviteTargetUserTypes.STREAM&&null!=s,"invalid streaming invite");var d=t.state===I.InviteStates.ACCEPTING,c=this.props.guild,p=null!=c;if(null==c){if(null==t.guild)return this.renderResolving();c=new f.default(t.guild)}var h=a?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,y=C.default.Messages.WATCH,m=E.default.Button.Colors.GREEN;a&&(m=E.default.Button.Colors.PRIMARY);var v=i?C.default.Messages.INVITE_BUTTON_STREAMER:C.default.Messages.INVITE_BUTTON_STREAMING.format({name:s.username});return o(E.default,{},void 0,o(E.default.Header,{text:C.default.Messages.INVITE_BUTTON_TITLE_STREAMING}),o(E.default.Body,{},void 0,o(E.default.Icon,{guild:c,onClick:p?h:null}),o(E.default.Info,{title:v,onClick:p?h:null},void 0,C.default.Messages.INVITE_BUTTON_STREAMING_SUBTEXT.format({guildName:c.name})),o(E.default.Button,{onClick:h,submitting:d,checkmark:a,color:m},void 0,y)))},t.prototype.renderBody=function(){var e=this.props.invite;if(null==e)throw new Error("[InviteButton] Received null invite object");switch(e.state){case I.InviteStates.RESOLVING:return this.renderResolving();case I.InviteStates.EXPIRED:return this.renderExpired();default:return e.target_user_type===I.InviteTargetUserTypes.STREAM?this.renderStreaming():null!=e.channel&&e.channel.type===I.ChannelTypes.GROUP_DM?this.renderGroupDM():this.renderStandard()}},t.prototype.render=function(){var e=this;return o(g.BackgroundOpacityContext.Consumer,{},void 0,function(t){var n=t.backgroundOpacity;return n?o("div",{className:(0,i.default)(N.default[n+"BackgroundOpacity"])},void 0,e.renderBody()):e.renderBody()})},t}(a.PureComponent);R.defaultProps={invite:{state:I.InviteStates.RESOLVING,code:""}},R.displayName="InviteButton",t.default=u.default.connectStores([y.default,h.default,c.default],function(e){var t=e.code,n=y.default.getInvite(t),r=c.default.getActiveStream(),o=null!=n&&n.target_user_type===I.InviteTargetUserTypes.STREAM&&null!=n.target_user&&null!=r&&r.ownerId===n.target_user.id;return{invite:n,guild:null!=n&&null!=n.guild?h.default.getGuild(n.guild.id):null,channel:null!=n&&null!=n.channel?p.default.getChannel(n.channel.id):null,selectedChannelId:m.default.getChannelId(),currentUserId:_.default.getCurrentUser().id,isWatching:o}})(R),e.exports=t.default},6494:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(180),u=E(n(5979)),s=E(n(128)),d=E(n(152)),f=E(n(6015)),c=E(n(306)),p=E(n(129)),h=E(n(110)),y=n(6029),m=E(n(13)),v=E(n(5371)),_=E(n(5372));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){var t=e.text;return a(h.default,{className:_.default.header},void 0,t)};g.displayName="InviteHeader";var S=function(e){var t=e.resolving,n=e.children;return a("div",{className:_.default.content},void 0,t?a("div",{className:_.default.resolving},void 0,a("div",{className:_.default.resolvingBackground})):n)};S.displayName="InviteBody";var T=function(e){var t=e.title,n=e.onClick,r=e.expired,o=e.children;return a(d.default,{className:_.default.guildInfo,direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER},void 0,a(p.default,{onClick:n,weight:p.default.Weights.SEMIBOLD,size:p.default.Sizes.MEDIUM,className:(0,l.getClass)(_.default,"guildName",r?"Expired":null!=n?"Joined":"")},void 0,t),a(p.default,{weight:p.default.Weights.SEMIBOLD,size:p.default.Sizes.SMALL,className:_.default.guildDetail},void 0,a(d.default,{grow:0,align:d.default.Align.CENTER},void 0,o)))};T.displayName="InviteInfo";var I=function(e){e.className,e.size;var t=e.checkmark,n=e.children,r=e.onClick,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","size","checkmark","children","onClick"]);return i.createElement(s.default,o({},l,{onClick:r,look:t?s.default.Looks.OUTLINED:s.default.Looks.FILLED,size:_.default.buttonSize,className:_.default.button,innerClassName:_.default.buttonInner}),a("div",{className:_.default.buttonContent},void 0,n),t?a(c.default,{name:c.default.Names.CHECKMARK,className:_.default.buttonIcon,width:18,height:18}):null)};I.displayName="InviteActionButton",I.Colors=s.default.Colors,I.Looks=s.default.Looks,I.defaultProps={checkmark:!1};var C=function(e){var t=e.children;return a("div",{className:_.default.wrapper},void 0,t)};C.displayName="InviteButton",C.Header=g,C.Body=S,C.Icon=function(e){var t=e.guild,n=e.channel,r=e.onClick,o=e.expired;if(void 0!==o&&o||null==t&&null==n)return a("div",{className:_.default.guildIconExpired});var i=null==t||null!=t.icon,s=(0,l.getClass)(_.default,"guildIcon",i?"Image":"",null!=r?"Joined":"");return null!=t?a(f.default,{onClick:r,active:!0,size:f.default.Sizes.LARGE,guild:t,className:s}):null!=n?a(u.default,{onClick:r,src:n.getIconURL(),className:s,imageClassName:v.default.iconSizeLarge}):null},C.Info=T,C.Data=function(e){var t=e.membersOnline,n=e.members,r=[];return null!=t&&t>0&&r.push(a(i.Fragment,{},"onlineCount",a("i",{className:_.default.statusOnline}),a("span",{className:_.default.onlineCount},void 0,m.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})))),null!=n&&r.push(a(i.Fragment,{},"memberCount",a("i",{className:_.default.statusOffline}),a("span",{},void 0,m.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:n})))),r},C.Channel=function(e){var t=e.channel,n=(0,y.getIconNameForChannel)(t);return null==t||null==n?null:[a(c.default,{name:n},"channel-icon"),a("span",{className:_.default.channelName},"channel-name",t.name)]},C.Button=I,t.default=C,e.exports=t.default},6495:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(4))),i=n(859),l=c(n(132)),u=n(331),s=c(n(6222)),d=n(0),f=c(n(5466));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.channel,n=e.message,r=e.activity,a=e.hideParty;return o(s.default,{className:f.default.container,activity:r,activityActionType:null!=n.activity?n.activity.type:null,partyId:null!=n.activity?n.activity.party_id:null,userId:n.author.id,application:function(e){return null!=e.application?e.application:null!=e.activity&&null!=e.activity.party_id&&(0,u.isSpotifyParty)(e.activity.party_id)?i.SpotifyApplication:void 0}(n),message:n,channelId:t.id,guildId:t.getGuildId(),hideParty:a})};p.displayName="MessageActivityInvite",t.default=a.default.connectStores([l.default],function(e){var t=e.message;return{activity:null!=t.application?l.default.getApplicationActivity(t.author.id,t.application.id):l.default.findActivity(t.author.id,function(e){return e.type===d.ActivityTypes.LISTENING})}})(p),e.exports=t.default},6496:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(4)),l=_(n(6497)),u=_(n(851)),s=_(n(43)),d=_(n(35)),f=_(n(154)),c=_(n(870)),p=_(n(6333)),h=n(109),y=n(6225),m=n(0),v=_(n(5471));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleMount=function(){h.ComponentDispatch.dispatch(m.ComponentActions.CHAT_RESIZE)},t.prototype.render=function(){var e=this,t=this.props,n=t.news,r=t.application,a=t.spoiler,i=t.gifAutoPlay,l=t.isFocused;if(null==n)return null;var u=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o(p.default,{className:v.default.newsCard,news:n,application:r,onApplicationClick:y.toggleGamePopout,onMount:e.handleMount,onClick:function(e,t,n){e.stopPropagation();var r=t.url;null!=r&&window.open(r)},hiddenSpoiler:t,autoPlay:i,shouldAnimate:l,disableCardInteractive:!0})};return a?o(c.default,{type:c.default.Types.ATTACHMENT},void 0,u):u()},t}(a.PureComponent);E.displayName="NewsEmbed",t.default=i.default.connectStores([s.default,u.default,l.default,f.default,d.default],function(e){var t=e.embed;if(null!=t.referenceId){var n=u.default.getByApplicationNewsId(t.referenceId);return{news:n,application:null!=n?s.default.getGame(n.game_id):null,spoiler:t.spoiler,gifAutoPlay:d.default.gifAutoPlay,isFocused:f.default.isFocused()}}})(E),e.exports=t.default},6497:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=i(n(182));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=new Set,u=new Set,s=new Set;function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!=e.embeds&&(t&&!l.has(e.channel_id)||e.embeds.forEach(function(e){var t=e.reference_id;null!=t&&(!function(e){u.add(e)}(t),a.default.getApplicationNews(t))}))}function f(e){return d(e.message,!0)}function c(e){e.messages.forEach(function(e){return d(e)})}function p(e){var t=e.channelId,n=e.messages;l.add(t),n.forEach(function(e){return d(e,!0)})}function h(e){var t=e.applicationNewsId;u.delete(t)&&s.add(t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getIsResolved=function(e){return s.has(e)},t.prototype.getIsResolving=function(e){return u.has(e)},t.prototype.getResolvingEmbeds=function(){return Array.from(u)},t.prototype.getResolvedEmbeds=function(){return Array.from(s)},t}(r.default.Store);t.default=new y(o.default,{CONNECTION_OPEN:function(e){return l.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&l.add(t),!1},GAME_NEWS_UPDATE:function(e){var t=e.applicationNewsIds;null!=t&&t.forEach(function(e){return h({applicationNewsId:e})})},APPLICATION_NEWS_ITEM_UPDATE:function(e){h({applicationNewsId:e.applicationNewsId})},MESSAGE_CREATE:f,MESSAGE_UPDATE:f,LOAD_MESSAGES_SUCCESS:p,LOAD_MESSAGES_AROUND_SUCCESS:p,LOAD_RECENT_MENTIONS_SUCCESS:c,LOAD_PINNED_MESSAGES_SUCCESS:c,SEARCH_FINISH:function(e){e.messages.forEach(function(e){return c({messages:e})})}}),e.exports=t.default},6498:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(17))),i=s(n(221)),l=s(n(6003)),u=s(n(5468));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,r=e.icon,s=e.timestamp,d=e.hostname,f=e.title,c=e.onIconClick,p=e.onIconContextMenu;return o("div",{className:u.default.wrapper},void 0,o(l.default,{color:l.default.Colors.MUTED,size:l.default.Sizes.SIZE_12,className:u.default.content},void 0,s," ",null!=d?o("span",{className:u.default.timestamp},void 0,d):null),o(i.default,{className:(0,a.default)(u.default.iconWrapper,(t={},t[u.default.interactive]=null!=c,t)),onClick:c,onContextMenu:p},void 0,o("img",null!=r?{src:r,className:u.default.icon,alt:f}:{src:n(6334),className:u.default.icon,alt:f})))},e.exports=t.default},6499:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=h(n(183)),i=n(925),l=h(n(80)),u=h(n(926)),s=h(n(154)),d=h(n(6500)),f=h(n(6001)),c=n(6037),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var h=arguments.length,m=Array(h),v=0;v<h;v++)m[v]=arguments[v];return n=f=y(this,e.call.apply(e,[this].concat(m))),f._isListeningToWindow=!1,f.state={isWindowFocused:s.default.isFocused()},f.addWindowListeners=function(){f._isListeningToWindow=!0,s.default.addChangeListener(f.onChangeWindowStore),f.onChangeWindowStore()},f.removeWindowListeners=function(){f._isListeningToWindow=!1,s.default.removeChangeListener(f.onChangeWindowStore)},f.onChangeWindowStore=function(){var e=s.default.isFocused();e!==f.state.isWindowFocused&&f.setState({isWindowFocused:e})},f.onMouseEnter=function(e,t){var n=t.preloadImage,r=f.props,o=r.width,a=r.height;n((0,c.zoomFit)(o,a))},f.onClickUntrusted=function(e){var t=e.openHref,n=f.props,r=n.original,o=n.src,l=r||o;a.default.show({title:p.default.Messages.HOLD_UP,body:p.default.Messages.MASKED_LINK_BODY.format({url:l}),cancelText:p.default.Messages.MASKED_LINK_CANCEL,confirmText:p.default.Messages.MASKED_LINK_CONFIRM,minorText:p.default.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirm:t,onConfirmSecondary:function(){(0,i.trustDomain)(l),t()}})},f.onZoom=function(e,t){var n=t.placeholder;e.preventDefault();var a=f.props,i=a.src,s=a.original,c=a.width,p=a.height,h=a.animated,y=a.children,m=s||i,v={src:i,original:s||i,width:c,height:p,animated:h,children:y,placeholder:n,isTrusted:u.default.isTrusted(m),onClickUntrusted:f.onClickUntrusted};e.currentTarget instanceof HTMLElement&&e.currentTarget.blur(),l.default.push(function(e){return o.createElement(d.default,r({},v,e,{shouldAnimate:f.state.isWindowFocused}))})},y(f,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.default.isAnimated(this.props)&&!this._isListeningToWindow&&this.addWindowListeners()},t.prototype.componentDidUpdate=function(){var e=f.default.isAnimated(this.props);e&&!this._isListeningToWindow?this.addWindowListeners():!e&&this._isListeningToWindow&&this.removeWindowListeners()},t.prototype.componentWillUnmount=function(){this._isListeningToWindow&&this.removeWindowListeners()},t.prototype.render=function(){return o.createElement(f.default,r({},this.props,{onZoom:this.onZoom,onMouseEnter:this.onMouseEnter,shouldAnimate:this.state.isWindowFocused}))},t}(o.PureComponent);m.defaultProps={alt:"",shouldLink:!0,autoPlay:!1,animated:!1},m.displayName="LazyImageZoomable",t.default=m,e.exports=t.default},6500:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(6037),l=f(n(6001)),u=f(n(6501)),s=f(n(13)),d=f(n(5472));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.original,r=e.placeholder,f=e.width,c=e.height,p=e.animated,h=e.children,y=e.isTrusted,m=e.onClickUntrusted,v=(e.maxWidth,e.maxHeight,e.shouldAnimate,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["src","original","placeholder","width","height","animated","children","isTrusted","onClickUntrusted","maxWidth","maxHeight","shouldAnimate"])),_=(0,i.zoomFit)(f,c),E=_.width,g=_.height;return a.createElement("div",v,o(l.default,{src:t,placeholder:r,shouldLink:!1,width:f,height:c,maxWidth:E,maxHeight:g,children:h,animated:p,autoPlay:!0}),null!=n&&o(u.default,{href:n,className:d.default.downloadLink,isTrusted:y,onClickUntrusted:m},void 0,s.default.Messages.OPEN_ORIGINAL_IMAGE))},t}(a.PureComponent);c.displayName="ImageModal",t.default=c,e.exports=t.default},6501:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=u(n(189)),i=u(n(311)),l=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=s(this,e.call.apply(e,[this].concat(i))),r.openHref=function(){var e=r.props.href;if(l.default.embedded)window.open(e);else{var t=window.open();t.opener=null,t.location=e,t.target="_blank"}},r.onClick=function(e){var t=r.props,n=t.href,o=t.isTrusted,i=t.onClickUntrusted;null!=a.default.sanitizeUrl(n)?o||(e.preventDefault(),i({openHref:r.openHref})):e.preventDefault()},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=void 0===t?null:t,l=e.children,u=e.href,s=(e.onClickUntrusted,e.isTrusted,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["title","children","href","onClickUntrusted","isTrusted"])),d=a.default.sanitizeUrl(u);return o.createElement(i.default,r({},s,{title:n,target:"_blank",rel:"noreferrer noopener",href:d,onClick:this.onClick}),l||n)},t}(o.PureComponent);d.displayName="MaskedLink",t.default=d,e.exports=t.default},6502:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=k(n(2)),u=U(n(17)),s=U(n(5)),d=n(223),f=U(n(4)),c=k(n(872)),p=U(n(831)),h=U(n(5980)),y=U(n(5990));n(130);var m=U(n(12)),v=U(n(6146)),_=U(n(90)),E=U(n(15)),g=U(n(6097)),S=U(n(179)),T=U(n(838)),I=U(n(128)),C=U(n(221)),N=U(n(152)),A=U(n(306)),O=n(109),b=k(n(334)),M=U(n(45)),R=n(6122),P=n(6227),L=n(0),w=U(n(13)),D=U(n(5481));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function j(e){var t=e.onClick,n=e.libraryApplication;return i(C.default,{className:D.default.libraryLink,onClick:t},void 0,i(A.default,{name:A.default.Names.LIBRARY,className:D.default.libraryIcon}),i("div",{},void 0,n.isHidden()?w.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:w.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}j.displayName="LibraryLink";var B=function(e){function t(){var n,r;G(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=x(this,e.call.apply(e,[this].concat(a))),r.renderMedia=function(){var e;return i("div",{className:(0,u.default)(D.default.invalidPoop,(e={},e[D.default.invalidPoopHorizontal]=r.isHorizontal,e))})},r.renderTitle=function(){return r.props.isSelfGift?w.default.Messages.GIFT_EMBED_INVALID_TITLE_SELF:w.default.Messages.GIFT_EMBED_INVALID_TITLE_OTHER},r.renderActions=function(){return r.props.isSelfGift?i(d.Link,{to:L.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,i(I.default,{size:I.default.Sizes.SMALL},void 0,w.default.Messages.GIFT_INVENTORY)):i(I.default,{disabled:!0,size:I.default.Sizes.SMALL},void 0,w.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},r.renderTagline=function(){return r.props.isSelfGift?w.default.Messages.GIFT_EMBED_INVALID_TAGLINE_SELF:w.default.Messages.GIFT_EMBED_INVALID_TAGLINE_OTHER},x(r,n)}return F(t,e),t.prototype.render=function(){return i(R.ResponsiveEmbedTile,{isHorizontal:this.isHorizontal,renderTitle:this.renderTitle,renderTagline:this.renderTagline,renderMedia:this.renderMedia,renderActions:this.renderActions})},a(t,[{key:"isHorizontal",get:function(){return this.props.width>=R.HORIZONTAL_EMBED_BREAKPOINT}}]),t}(l.PureComponent);B.displayName="InvalidGift";var H=function(e){function t(){var n,r;G(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=x(this,e.call.apply(e,[this].concat(i))),r.handleViewLibrary=function(e){var t=r.props.libraryApplication;e.preventDefault(),null!=t&&t.isHidden()?p.default.open(L.UserSettingsSections.GAME_LIBRARY):M.default.transitionTo(L.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=t?t.id:null}})},r.handleVerificationClick=function(e){e.preventDefault(),p.default.open(L.UserSettingsSections.ACCOUNT)},r.handleAccept=function(e){var t=r.props.channelId;e.preventDefault(),e.stopPropagation(),c.openGiftCodeAcceptModal(r.props.code,o({},r.analyticsLocation,{object:L.AnalyticsObjects.BUTTON_CTA}),t)},r.handleEmbedClick=function(e){var t=r.props.giftCode;null!=t&&t.isSubscription&&(e.preventDefault(),p.default.open(L.UserSettingsSections.PREMIUM))},x(r,n)}return F(t,e),t.prototype.componentDidMount=function(){null==this.props.giftCode&&O.ComponentDispatch.dispatch(L.ComponentActions.CHAT_RESIZE)},t.prototype.renderActions=function(e){var t=this.props.libraryApplication;return i(N.default,{justify:N.default.Justify.BETWEEN},void 0,i(N.default,{},void 0,this.renderButton(e),null==t||e.isSubscription?null:i(j,{onClick:this.handleViewLibrary,libraryApplication:t})),i(N.default,{align:N.default.Align.END,justify:N.default.Justify.END,className:D.default.metadata,direction:N.default.Direction.VERTICAL},void 0,e.hasMultipleCopies?i("div",{},void 0,this.renderGiftCodeCopiesLeft(e)):null,e.redeemed||e.isClaimed||null!=t||null==e.expiresAt?null:i("div",{},void 0,w.default.Messages.GIFT_EMBED_EXPIRATION.format({hours:e.expiresAt.diff((0,s.default)(),"h")}))))},t.prototype.renderGiftCodeCopiesLeft=function(e){return(e.isSubscription?w.default.Messages.GIFT_EMBED_SUBSCRIPTIONS_LEFT:w.default.Messages.GIFT_EMBED_COPIES_LEFT).format({remaining:e.remainingUses,total:e.maxUses})},t.prototype.renderButton=function(e){var t=this.props,n=t.libraryApplication,r=t.currentUser,a={onClick:this.handleAccept,color:I.default.Colors.GREEN},i=e.isSubscription?b.doesUserSubscriptionMismatch(e,r):null!=n;return(e.redeemed||i||e.isClaimed||!r.verified)&&(a.color=I.default.Colors.PRIMARY,a.disabled=!0),l.createElement(I.default,o({},a,{size:I.default.Sizes.SMALL}),e.redeemed?w.default.Messages.GIFT_EMBED_BUTTON_CLAIMED:w.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},t.prototype.renderTitle=function(e){var t=this.props,n=t.isSelfGift;return null==t.sku?null:e.isSubscription?n?w.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION_SELF:w.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION:n?w.default.Messages.GIFT_EMBED_TITLE_SELF:w.default.Messages.GIFT_EMBED_TITLE},t.prototype.renderBody=function(e){var t=this.props,n=t.libraryApplication,r=t.isSelfGift,o=t.sku,a=t.gifter,i=t.subscriptionPlan,l=t.currentUser;if(null==o)return w.default.Messages.LOADING;var u=o.isPreorder()?w.default.Messages.PREORDER_SKU_NAME.format({name:o.name}):o.name;if(e.redeemed)return e.isSubscription?w.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF_SUBSCRIPTION:w.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF.format({skuName:u,onViewInLibrary:this.handleViewLibrary});if(null==e.subscriptionPlanId&&null!=n)return w.default.Messages.GIFT_EMBED_BODY_OWNED.format({skuName:u,onViewInLibrary:this.handleViewLibrary});if(b.doesUserSubscriptionMismatch(e,l))return w.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:l.premiumType===L.PremiumTypes.TIER_1?w.default.Messages.PREMIUM_TIER_1:w.default.Messages.PREMIUM_TIER_2});if(e.isClaimed)return w.default.Messages.GIFT_EMBED_BODY_CLAIMED_OTHER;if(!l.verified)return w.default.Messages.GIFT_EMBED_BODY_REQUIRES_VERIFICATION.format({onClick:this.handleVerificationClick});if(r)return w.default.Messages.GIFT_EMBED_BODY_SELF;if(e.hasMultipleCopies)return null!=a?(e.isSubscription?w.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_GIVEAWAY:w.default.Messages.GIFT_EMBED_BODY_GIVEAWAY).format({username:a.tag,totalCopies:e.maxUses,skuName:u}):(e.isSubscription?w.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_GIVEAWAY:w.default.Messages.GIFT_EMBED_BODY_NO_USER_GIVEAWAY).format({totalCopies:e.maxUses,skuName:u});if(e.isSubscription){if(null==i)throw new Error("How could you let this happen??");return null!=a?(i.interval===L.SubscriptionIntervalTypes.MONTH?w.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_MONTHS:w.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_YEARS).format({username:a.tag,skuName:u,intervalCount:i.intervalCount}):(i.interval===L.SubscriptionIntervalTypes.MONTH?w.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_MONTHS:w.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_YEARS).format({skuName:u,intervalCount:i.intervalCount})}return null!=a?w.default.Messages.GIFT_EMBED_BODY_DEFAULT.format({username:a.tag}):w.default.Messages.GIFT_EMBED_BODY_NO_USER_DEFAULT},t.prototype.render=function(){var e=this,t=this.props,n=t.giftCode,r=t.resolved,o=t.width,a=t.isSelfGift;return null==n||n.revoked?r?i(B,{isSelfGift:a,width:o}):i(R.ResponsiveLoadingEmbedTile,{isHorizontal:o>=R.HORIZONTAL_EMBED_BREAKPOINT}):i(P.StoreEmbedWithoutDimensions,{skuId:n.skuId,onEmbedClick:this.handleEmbedClick,analyticsSection:L.AnalyticsSections.GIFT_CODE_EMBED,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:function(){return e.renderTitle(n)},renderCustomTagline:function(){return e.renderBody(n)},width:o})},a(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return o({},e,{section:L.AnalyticsSections.GIFT_CODE_EMBED})}}]),t}(l.Component);H.displayName="GiftCodeEmbed",t.default=f.default.connectStores([m.default,S.default,E.default,T.default,v.default,_.default,g.default],function(e){var t=e.code,n=e.author,r=v.default.get(t),o=null!=r?S.default.get(r.skuId):null;return{sku:o,giftCode:r,gifter:null!=r&&null!=r.userId?E.default.getUser(r.userId):null,subscriptionPlan:null!=r&&null!=r.subscriptionPlanId?g.default.get(r.subscriptionPlanId):null,isSelfGift:null!=r?m.default.getId()===r.userId:m.default.getId()===n.id,currentUser:E.default.getCurrentUser(),resolved:v.default.getIsResolved(t),libraryApplication:null!=o&&null!=r?b.firstLibraryApplicationForGiftCode(r,o,_.default):null}})((0,y.default)((0,h.default)(H))),e.exports=t.default},6503:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(17)),l=(E(n(840)),E(n(868)),E(n(128))),u=E(n(6335)),s=E(n(6336)),d=E(n(6174)),f=n(133),c=n(6337),p=E(n(6024)),h=E(n(6044)),y=n(6122),m=E(n(6226)),v=n(0),_=E(n(5479));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=600,T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var y=arguments.length,m=Array(y),E=0;E<y;E++)m[E]=arguments[E];return n=r=g(this,e.call.apply(e,[this].concat(m))),r.renderActions=function(){var e=r.props,t=e.inLibrary,n=e.sku,a=e.renderCustomActions,i=e.isMouseOver,u=(e.showBuyInline||!n.requiresPayment)&&!t,s=u&&i;return null!=a?a():o("div",{className:_.default.priceOs},void 0,o(h.default,{type:h.default.Types.DIRECTORY_TILE,sku:n,inLibrary:t,className:s?_.default.tilePriceWithVisibleBuyButton:_.default.tilePrice}),o(c.OperatingSystemSection,{systems:[v.OperatingSystems.WINDOWS],className:_.default.platform}),u?o(p.default,{skuId:n.id,applicationId:n.applicationId,size:l.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:s?_.default.tileBuyButtonVisible:_.default.tileBuyButton}):null)},r.renderMedia=function(){var e,t,n,l=r.props,c=l.playing,p=l.muted,h=l.showMediaPlaceholder,y=l.onToggleMute,m=l.sku,v=l.isHorizontal,E=l.storeListing;return o(a.Fragment,{},void 0,o(d.default,{className:(0,i.default)(_.default.splashContainer,(e={},e[_.default.splashContainerHorizontal]=v,e)),video:null!=E.previewVideo?(0,f.getAssetURL)(m.applicationId,E.previewVideo):null,image:null!=E.thumbnail?(0,f.getAssetURL)(m.applicationId,E.thumbnail,S):null,title:m.name,playing:c,muted:p,placeholder:h,onToggleMute:y,splashClassName:_.default.splashVideo,splashPlaceholderClassName:_.default.splashPlaceholder}),m.exclusive?o(u.default,{className:(0,i.default)(_.default.exclusiveRegular,(t={},t[_.default.exclusivePlaying]=c,t))}):m.isTheGameAwardsWinner?o(s.default,{className:(0,i.default)(_.default.exclusiveRegular,(n={},n[_.default.exclusivePlaying]=c,n))}):null)},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isHorizontal,a=e.className,i=e.renderCustomTagline,l=e.renderCustomTitle,u=e.isEmbed?y.ResponsiveEmbedTile:m.default;return o(u,{className:a,renderMedia:this.renderMedia,renderTitle:null!=l?l:function(){return t.name},renderTagline:null!=i?i:function(){return n.tagline},renderActions:this.renderActions,isHorizontal:r})},t}(a.PureComponent);T.defaultProps={showMediaPlaceholder:!1,isMouseOver:!1,showBuyInline:!1,isHorizontal:!1,isEmbed:!1},T.displayName="ApplicationTile",t.default=T,e.exports=t.default},6504:function(e,t,n){"use strict";var r;t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=P(n(4)),s=P(n(160)),d=P(n(12)),f=P(n(337)),c=P(n(22)),p=P(n(15)),h=P(n(134)),y=n(827),m=P(y),v=P(n(6210)),_=P(n(6505)),E=P(n(6508)),g=P(n(6509)),S=P(n(6510)),T=P(n(6512)),I=P(n(6513)),C=P(n(6515)),N=n(109),A=n(6211),O=P(n(193)),b=P(n(458)),M=P(n(5353)),R=n(0);function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=function(e,t){return function(n){(0,y.openPopout)(n.currentTarget,{closeOnScroll:!1,position:m.default.Positions.RIGHT,shadow:!1,render:function(n){var r=c.default.getChannel(t);return null==r?null:l.createElement(M.default,i({},n,{user:e,guildId:r.getGuildId(),channelId:r.id}))}})}},k=function(e,t){return function(n){var r=c.default.getChannel(t);null!=r&&(0,A.openUserContextMenu)(n,e,r)}},G=function(e){function t(){var n,r;L(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=w(this,e.call.apply(e,[this].concat(a))),r.handleJoinCall=function(){var e=r.props.message;s.default.selectVoiceChannel(null,e.getChannelId())},w(r,n)}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.missed,r=e.joinable,o=t.author,i=t.getChannelId();return a(_.default,{message:t,missed:n,joinable:r,onClickUsername:U(o,i),onContextMenuUsername:k(o,i),onClickJoinCall:this.handleJoinCall})},t}(l.PureComponent);G.displayName="Call";var x=u.default.connectStores([f.default,h.default],function(e){var t=e.message,n=d.default.getId(),r=t.getChannelId(),o=f.default.isCallActive(r,t.id),a=h.default.getVoiceState(R.ME,n);return{missed:!o&&null!=t.call&&!t.call.participants.includes(n),joinable:o&&(null==a||a.channelId!==r)}})(G),F=function(e){var t=e.message,n=t.author,r=t.getChannelId();return a(g.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:k(n,r)})};F.displayName="ChannelNameChange";var j=function(e){var t=e.message,n=t.author,r=t.getChannelId();return a(E.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:k(n,r)})};j.displayName="ChannelIconChange";var B=function(e){function t(){return L(this,t),w(this,e.apply(this,arguments))}return D(t,e),t.prototype.handleViewPins=function(){N.ComponentDispatch.dispatch(R.ComponentActions.TOGGLE_CHANNEL_PINS)},t.prototype.render=function(){var e=this.props.message,t=e.author,n=e.getChannelId();return a(S.default,{message:e,onClickUsername:U(t,n),onContextMenuUsername:k(t,n),onClickPins:__OVERLAY__?null:this.handleViewPins})},t}(l.PureComponent);function H(e){var t=e.message,n=e.otherUser,r=t.author,o=t.getChannelId(),i=b.default.getName(null,o,n);return a(T.default,{message:t,otherUsername:i,onClickUsername:U(r,o),onContextMenuUsername:k(r,o),onClickOtherUsername:U(n,o),onContextMenuOtherUsername:k(n,o)})}B.displayName="ChannelPinnedMessage",H.displayName="RecipientAdd";var V=u.default.connectStores([p.default],function(e){var t=e.message;return{otherUser:p.default.getUser(t.mentions[0])}})(H);function Y(e){var t=e.message,n=e.otherUser,r=t.author,o=t.getChannelId(),i=U(r,o),l=k(r,o);if(null!=n&&n.id!==r.id){var u=b.default.getName(null,o,n),s=U(n,o),d=k(n,o);return a(I.default,{message:t,onClickUsername:i,onContextMenuUsername:l,otherUsername:u,onClickOtherUsername:s,onContextMenuOtherUsername:d})}return a(I.default,{message:t,onClickUsername:i,onContextMenuUsername:l})}Y.displayName="RecipientRemove";var W=u.default.connectStores([p.default],function(e){var t=e.message;return{otherUser:p.default.getUser(t.mentions[0])}})(Y),K=function(e){var t=e.message,n=t.author,r=t.getChannelId();return a(C.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:k(n,r)})};K.displayName="UserJoin";var z=((r={})[R.MessageTypes.RECIPIENT_ADD]=V,r[R.MessageTypes.RECIPIENT_REMOVE]=W,r[R.MessageTypes.CALL]=x,r[R.MessageTypes.CHANNEL_NAME_CHANGE]=F,r[R.MessageTypes.CHANNEL_ICON_CHANGE]=j,r[R.MessageTypes.CHANNEL_PINNED_MESSAGE]=B,r[R.MessageTypes.USER_JOIN]=K,r),$=function(e){function t(){var n,r;L(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=w(this,e.call.apply(e,[this].concat(a))),r.onContextMenu=function(e){var t=r.props,n=t.message,o=t.channel;(0,t.onContextMenu)(e,{message:n,channel:o,target:e.target})},w(r,n)}return D(t,e),t.prototype.render=function(){var e,t=this.props,n=t.message,r=t.renderButtons,o=t.channel,i=z[n.type];return null==i?(e=new Error("unknown message type "+n.type),O.default.captureException(e),console.error(e),null):a(v.default,{message:n,channel:o,isCompact:!1,onContextMenu:this.onContextMenu,renderButtons:R.MessageTypesDeletable[n.type]?r:null},void 0,a(i,{message:n}))},t}(l.PureComponent);$.displayName="SystemMessageWrapper",t.default=$,e.exports=t.default},6505:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=l(n(6010)),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,r=e.missed,l=e.joinable,u=e.onClickUsername,s=e.onContextMenuUsername,d=e.onClickJoinCall,f=t.getAuthorName(),c={onClick:u,onContextMenu:s};return r?o(a.default,{icon:n(6506),timestamp:t.timestamp},void 0,i.default.Messages.SYSTEM_MESSAGE_CALL_MISSED.format({username:f,usernameOnClick:c})):o(a.default,{icon:n(6507),timestamp:t.timestamp},void 0,i.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:f,usernameOnClick:c}),l?o(a.default.Action,{onClick:d},void 0,i.default.Messages.SYSTEM_MESSAGE_JOIN_CALL):null)}u.displayName="Call",e.exports=t.default},6506:function(e,t,n){e.exports=n.p+"d80d1fdc43a3c42134a31a39581160ac.svg"},6507:function(e,t,n){e.exports=n.p+"c30220457097b064286a8759a9b6c4af.svg"},6508:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=l(n(6010)),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername;return o(a.default,{icon:n(6228),timestamp:t.timestamp},void 0,i.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:r,onContextMenu:l}}))}u.displayName="ChannelIconChange",e.exports=t.default},6509:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=u(n(6010)),i=u(n(13)),l=u(n(5484));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,r=e.onClickUsername,u=e.onContextMenuUsername;return o(a.default,{className:l.default.channelNameChange,icon:n(6228),timestamp:t.timestamp},void 0,i.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:r,onContextMenu:u},channelName:t.content}))}s.displayName="ChannelNameChange",e.exports=t.default},6510:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=u(n(311)),i=u(n(6010)),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,r=e.onClickUsername,u=e.onContextMenuUsername,s=e.onClickPins,d=t.nick,f=t.author,c=t.colorString,p=d||f.username,h=function(e,t){var n=c?{color:c}:null;return o(a.default,{onClick:r,onContextMenu:u,style:n},t,e)},y=null==s?l.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA_FORMATTED.format({usernameOnClick:h,username:p}):l.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE.format({usernameHook:h,username:p,pinsActionOnClick:s});return o(i.default,{icon:n(6511),timestamp:t.timestamp},void 0,y)}s.displayName="ChannelPinnedMessage",e.exports=t.default},6511:function(e,t,n){e.exports=n.p+"4e4e1d9c907a3dc53d68f34e868fcb12.svg"},6512:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=l(n(6010)),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,r=e.otherUsername,l=e.onClickUsername,u=e.onContextMenuUsername,s=e.onClickOtherUsername,d=e.onContextMenuOtherUsername,f=t.getAuthorName(),c=i.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:f,usernameOnClick:{onClick:l,onContextMenu:u},otherUsername:r,otherUsernameOnClick:{onClick:s,onContextMenu:d}});return o(a.default,{icon:n(6229),timestamp:t.timestamp},void 0,c)}u.displayName="RecipientAdd",e.exports=t.default},6513:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=l(n(6010)),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername,u=t.getAuthorName(),s=void 0;if(e.otherUsername){var d=e.otherUsername,f=e.onClickOtherUsername,c=e.onContextMenuOtherUsername;s=i.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:u,usernameOnClick:{onClick:r,onContextMenu:l},otherUsername:d,otherUsernameOnClick:{onClick:f,onContextMenu:c}})}else s=i.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:u,usernameOnClick:{onClick:r,onContextMenu:l}});return o(a.default,{icon:n(6514),timestamp:t.timestamp},void 0,s)}u.displayName="RecipientRemove",e.exports=t.default},6514:function(e,t,n){e.exports=n.p+"aff52bc375fe2da876174301a5c6d09d.svg"},6515:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=l(n(6338)),i=l(n(6010));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername,u=t.id,s=t.author,d=a.default.getSystemMessageUserJoin(u).format({username:s.username,usernameOnClick:{onClick:r,onContextMenu:l}});return o(i.default,{icon:n(6229),timestamp:t.timestamp},void 0,d)}u.displayName="UserJoin",e.exports=t.default},6516:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(5981)),l=g(n(6011)),u=g(n(6517)),s=g(n(6520)),d=g(n(6524)),f=g(n(6525)),c=g(n(6526)),p=g(n(6527)),h=g(n(6528)),y=g(n(6529)),m=g(n(6375)),v=g(n(6376)),_=g(n(6377)),E=n(0);function g(e){return e&&e.__esModule?e:{default:e}}var S=o(m.default,{}),T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.className,a=e.channel,m=e.message,g=e.invertChildY,T=e.attachment,I=this.props.target,C=void 0,N=void 0;if(T)N=C=T.url;else for(;null!=I;)I instanceof HTMLImageElement&&null!=I.src&&(N=I.src),I instanceof HTMLAnchorElement&&null!=I.href&&(C=I.href),I=I.parentNode;var A=void 0,O=void 0,b=document.getSelection?document.getSelection():null;switch(b&&!b.isCollapsed&&(A=S,O=o(_.default,{value:b.toString()})),n){case E.ContextMenuTypes.MESSAGE_MAIN:return o("div",{className:r,style:t},void 0,o(i.default,{},void 0,A),o(i.default,{},void 0,O),o(i.default,{},void 0,o(u.default,{channel:a,message:m,invertChildY:g}),o(c.default,{channel:a,message:m}),o(y.default,{channel:a,message:m}),o(f.default,{channelId:a.id,message:m}),o(p.default,{channel:a,message:m}),o(h.default,{channel:a,message:m}),o(s.default,{channel:a,message:m})),o(v.default,{href:C,src:N}),o(d.default,{channel:a,message:m}));case E.ContextMenuTypes.MESSAGE_SYSTEM:return o("div",{className:r,style:t},void 0,o(i.default,{},void 0,A),o(i.default,{},void 0,O),o(i.default,{},void 0,o(s.default,{channel:a,message:m})),o(v.default,{href:C,src:N}),o(l.default,{id:m.id}));default:return null}},t}(a.PureComponent);T.displayName="MessageContextMenu",t.default=T,e.exports=t.default},6517:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),N(n(308))),i=N(n(309)),l=N(n(443)),u=N(n(4)),s=n(307),d=N(n(80)),f=n(465),c=N(n(188)),p=N(n(235)),h=N(n(153)),y=N(n(35)),m=N(n(82)),v=n(109),_=N(n(164)),E=n(478),g=N(n(6518)),S=N(n(5998)),T=N(n(6123)),I=n(0),C=N(n(13));function N(e){return e&&e.__esModule?e:{default:e}}var A=(0,a.default)({displayName:"MessageAddReactionItem",mixins:[l.default],propTypes:{channel:i.default.object.isRequired,message:i.default.object.isRequired,invertChildY:i.default.bool},renderFrequentlyUsedEmojis:function(){var e=this,t=this.props.channel.getGuildId(),r=p.default.getDisambiguatedEmojiContext(t).getFrequentlyUsedEmojis().filter(function(t){return!_.default.isEmojiDisabled(t,e.props.channel)}).map(function(t){var n=void 0;n=null==t.id?_.default.getURL(t.surrogatePair):m.default.getEmojiURL({id:t.id,animated:t.animated});var r=void 0;r=null==t.id?c.default.convertSurrogateToName(t.surrogatePair):":"+t.name+":";var a=t.id||t.surrogatePair;return o(g.default,{label:r,image:n,action:function(){return e.handleAddReaction(t)}},a)});return r.push(o(g.default,{label:C.default.Messages.OTHER_REACTIONS,image:n(6519),action:this.renderEmojiPicker},"otherReactions")),r},render:function(){var e=this.props,t=e.channel,n=e.canAddReactions;return y.default.renderReactions&&(t.isPrivate()||n)?o(S.default,{label:C.default.Messages.ADD_REACTION,render:this.renderFrequentlyUsedEmojis,invertChildY:this.props.invertChildY}):null},renderEmojiPicker:function(){(0,s.closeContextMenu)(),v.ComponentDispatch.dispatch(I.ComponentActions.TOGGLE_REACTION_POPOUT(this.props.message.id))},handleAddReaction:function(e){var t=this.props,n=t.channel,r=t.message;(0,f.addReaction)(n.id,r.id,(0,E.toReactionEmoji)(e)),(0,s.closeContextMenu)()},handleReactions:function(){d.default.push(T.default,{message:this.props.message})}});t.default=u.default.connectStores([h.default],function(e){var t=e.channel;return{canAddReactions:h.default.can(I.Permissions.ADD_REACTIONS,t)}})(A),e.exports=t.default},6518:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(221)),l=u(n(843));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n=e.styles,r=e.image,u=e.label,s=e.action,d=e.active,f=void 0!==d&&d,c=e.disabled,p=void 0!==c&&c,h=e.danger,y=void 0!==h&&h,m=void 0;return p||(m=function(e){return s(e,u,f)}),o(i.default,{className:(0,a.default)(l.default.item,l.default.itemImage,(t={},t[l.default.danger]=y,t)),style:n,onClick:m},void 0,o("div",{className:l.default.label},void 0,u),o("img",{alt:"",src:r}))};s.displayName="ImageMenuItem",t.default=s,e.exports=t.default},6519:function(e,t,n){e.exports=n.p+"24e5837679a970699e904d047c741540.svg"},6520:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),v(n(308))),i=v(n(309)),l=v(n(443)),u=v(n(4)),s=n(307),d=v(n(157)),f=v(n(153)),c=v(n(15)),p=v(n(5977)),h=v(n(6098)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,a.default)({displayName:"MessageDeleteItem",mixins:[l.default],propTypes:{channel:i.default.object.isRequired,message:i.default.object.isRequired,canManageMessages:i.default.bool},render:function(){var e=this.props,t=e.message;return!e.canManageMessages&&t.author.id!==c.default.getCurrentUser().id||t.state===y.MessageStates.SENDING?null:o(p.default,{label:m.default.Messages.DELETE_MESSAGE,action:this.handleDeleteMessage,danger:!0})},handleDeleteMessage:function(e){var t=this.props,n=t.channel,r=t.message;(0,s.closeContextMenu)(),r.state===y.MessageStates.SEND_FAILED?d.default.deleteMessage(n.id,r.id,!0):e.shiftKey?d.default.deleteMessage(n.id,r.id):h.default.confirmDelete(n,r,!0)}});t.default=u.default.connectStores([f.default],function(e){var t=e.channel;return{canManageMessages:f.default.can(y.Permissions.MANAGE_MESSAGES,t)}})(_),e.exports=t.default},6521:function(e,t,n){"use strict";t.__esModule=!0,t.canReportInChannel=d,t.canReportUser=f,t.canReportMessage=function(e){return null!=e&&f(e.author)&&d(e.getChannelId())};var r=u(n(12)),o=u(n(22)),a=u(n(469)),i=u(n(153)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=50;function d(e){if(i.default.can(l.Permissions.MANAGE_MESSAGES,{channelId:e})){var t=o.default.getChannel(e);if(null!=t){var n=a.default.getMemberCount(t.getGuildId());return null!=n&&n>=s}}return!1}function f(e){if(null==e)return!1;var t=e.id;return r.default.getId()!==t}},6522:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(6523)),l=m(n(128)),u=m(n(222)),s=m(n(6007)),d=m(n(444)),f=m(n(448)),c=m(n(445)),p=m(n(110)),h=n(0),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._isMounted=!1,r.handleReasonChange=r.handleReasonChange.bind(r),r.handleReport=r.handleReport.bind(r),r.state={loading:!0,submitting:!1,reasons:[],selectedReason:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,i.default.getReasons(this.getReportData()).then(function(t){e._isMounted&&e.setState({reasons:t,loading:!1})})},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.close=function(){(0,this.props.onClose)()},t.prototype.renderHeader=function(){var e=this.props,t=e.guild,n=e.message,r=e.user,a=void 0;return t?a=y.default.Messages.REPORT_SERVER.format({name:t.toString()}):n?a=y.default.Messages.REPORT_MESSAGE.format({name:n.getAuthorName()}):r&&(a=y.default.Messages.REPORT_USER.format({name:r.tag})),o(u.default.Header,{},void 0,o(p.default,{tag:p.default.Tags.H4},void 0,a))},t.prototype.getReportData=function(){var e=this.props,t=e.guild,n=e.message,r=e.user,o=this.state.selectedReason,a={};return null!=n?(a.channel_id=n.getChannelId(),a.message_id=n.id):null!=r?a.user_id=r.id:null!=t&&(a.guild_id=t.id),null!=o&&(a.reason=o),a},t.prototype.renderReasons=function(){var e=this.state,t=e.loading,n=e.reasons,r=e.selectedReason;if(t)return o(d.default,{style:{height:100}});var a=n.map(function(e){var t=e.reason;return{name:e.label,desc:e.description,value:t}});return o(s.default,{value:r,onChange:this.handleReasonChange,options:a})},t.prototype.renderFooter=function(){var e=this,t=this.state,n=t.loading,r=t.selectedReason,a=t.submitting,i=n||a||null==r;return o(u.default.Footer,{},void 0,o(l.default,{type:"submit",disabled:i,submitting:a},void 0,y.default.Messages.REPORT),o(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:function(){return e.close()}},void 0,y.default.Messages.CANCEL))},t.prototype.render=function(){return o(u.default,{tag:"form",onSubmit:this.handleReport},void 0,this.renderHeader(),o(u.default.Content,{},void 0,o(f.default,{title:y.default.Messages.FORM_LABEL_REPORT_REASON},void 0,this.renderReasons()),o(c.default,{type:c.default.Types.DESCRIPTION},void 0,y.default.Messages.FORM_REPORT_HELP_TEXT.format({guidelinesURL:h.MarketingURLs.GUIDELINES}))),this.renderFooter())},t.prototype.handleReasonChange=function(e){var t=e.value;if("number"!=typeof t)throw new Error("Report.handleReasonChange: Invalid reason type");this.setState({selectedReason:t})},t.prototype.handleReport=function(e){var t=this;e.preventDefault(),this.setState({submitting:!0});var n=this.props.onReport;i.default.report(this.getReportData()).then(function(){n&&n(),t.close()},function(){return t.setState({submitting:!1})})},t}(a.Component);v.displayName="Report",t.default=v,e.exports=t.default},6523:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(8),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={report:function(e){return a.default.post({url:i.Endpoints.REPORT,body:e})},getReasons:function(e){return a.default.get({url:i.Endpoints.REPORT,query:e}).then(function(e){return e.body})}},e.exports=t.default},6524:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(4)),l=n(307),u=h(n(35)),s=n(5989),d=h(n(5981)),f=h(n(5977)),c=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.handleCopyID=function(e){var t=r.props.message,n=t.channel_id+"-"+t.id,o=n&&e.shiftKey?n:t.id;(0,s.copy)(o),(0,l.closeContextMenu)()},r.handleCopyLink=function(){var e=r.props,t=e.channel,n=e.message;(0,s.copy)(location.protocol+"//"+location.host+c.Routes.CHANNEL(t.guild_id,t.id,n.id)),(0,l.closeContextMenu)()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return!__OVERLAY__&&this.props.developerMode&&s.SUPPORTS_COPY?o(d.default,{},void 0,o(f.default,{label:p.default.Messages.COPY_ID,action:this.handleCopyID}),o(f.default,{label:p.default.Messages.COPY_MESSAGE_LINK,action:this.handleCopyLink})):null},t}(a.PureComponent);m.displayName="MessageDeveloperModeGroup",t.default=i.default.connectStores([u.default],function(){return{developerMode:u.default.developerMode}})(m),e.exports=t.default},6525:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=c(n(157)),u=c(n(15)),s=c(n(5977)),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleEditMessage=function(){(0,i.closeContextMenu)(),l.default.startEditMessage(r.props.channelId,r.props.message.id,r.props.message.content)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.message,t=u.default.getCurrentUser();return e.state!==d.MessageStates.SEND_FAILED&&e.author.id===t.id?o(s.default,{label:f.default.Messages.EDIT_MESSAGE,action:this.handleEditMessage}):null},t}(a.PureComponent);h.displayName="MessageEditItem",t.default=h,e.exports=t.default},6526:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),m(n(308))),i=m(n(309)),l=m(n(443)),u=m(n(4)),s=m(n(6094)),d=n(307),f=m(n(153)),c=m(n(5977)),p=m(n(6098)),h=n(0),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"MessagePinItem",mixins:[l.default],propTypes:{channel:i.default.object.isRequired,message:i.default.object.isRequired,canManageMessages:i.default.bool},render:function(){var e=this.props,t=e.channel,n=e.message;return!e.canManageMessages&&!t.isPrivate()||n.state===h.MessageStates.SEND_FAILED?null:!1===n.pinned?o(c.default,{action:this.handlePin,label:y.default.Messages.PIN_MESSAGE}):o(c.default,{action:this.handleUnpin,label:y.default.Messages.UNPIN_MESSAGE})},handlePin:function(e){(0,d.closeContextMenu)(),e.shiftKey?s.default.pinMessage(this.props.channel,this.props.message.id):p.default.confirmPin(this.props.channel,this.props.message)},handleUnpin:function(e){(0,d.closeContextMenu)(),e.shiftKey?s.default.unpinMessage(this.props.channel,this.props.message.id):p.default.confirmUnpin(this.props.channel,this.props.message)}});t.default=u.default.connectStores([f.default],function(e){var t=e.channel;return{canManageMessages:f.default.can(h.Permissions.MANAGE_MESSAGES,t)}})(v),e.exports=t.default},6527:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(308))),i=p(n(309)),l=p(n(443)),u=n(307),s=p(n(80)),d=p(n(5977)),f=p(n(6123)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"MessageReactionsItem",mixins:[l.default],propTypes:{channel:i.default.object.isRequired,message:i.default.object.isRequired},render:function(){return this.props.message.reactions&&this.props.message.reactions.length>0?o(d.default,{label:c.default.Messages.REACTIONS,action:this.handleReactions}):null},handleReactions:function(){(0,u.closeContextMenu)(),s.default.push(f.default,{message:this.props.message})}});t.default=h,e.exports=t.default},6528:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),m(n(308))),i=m(n(309)),l=m(n(443)),u=m(n(4)),s=m(n(183)),d=n(307),f=n(465),c=m(n(153)),p=m(n(5977)),h=n(0),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"MessageRemoveReactionsItem",mixins:[l.default],propTypes:{channel:i.default.object.isRequired,message:i.default.object.isRequired,canManageMessages:i.default.bool},render:function(){var e=this.props,t=e.message;return e.canManageMessages&&t.reactions&&t.reactions.length>0?o(p.default,{label:y.default.Messages.REMOVE_ALL_REACTIONS,action:this.handleRemoveAllReactions,danger:!0}):null},handleRemoveAllReactions:function(e){var t=this;(0,d.closeContextMenu)(),e.shiftKey?(0,f.removeAllReactions)(this.props.channel.id,this.props.message.id):s.default.show({title:y.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:y.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:y.default.Messages.YES_TEXT,cancelText:y.default.Messages.NO_TEXT,onConfirm:function(){(0,f.removeAllReactions)(t.props.channel.id,t.props.message.id)}})}});t.default=u.default.connectStores([c.default],function(e){var t=e.channel;return{canManageMessages:c.default.can(h.Permissions.MANAGE_MESSAGES,t)}})(v),e.exports=t.default},6529:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=f(n(157)),u=f(n(5977)),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.handleResendMessage=function(){var e=r.props,t=e.channel,n=e.message;(0,i.closeContextMenu)(),l.default.retrySendMessage(t,n.id,n.content,n.tts)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.message.state===s.MessageStates.SEND_FAILED?o(u.default,{label:d.default.Messages.RESEND_MESSAGE,action:this.handleResendMessage}):null},t}(a.PureComponent);p.displayName="MessageResendItem",t.default=p,e.exports=t.default},6530:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=m(n(17)),u=n(842),s=(m(u),m(n(152))),d=m(n(6008)),f=m(n(129)),c=n(6836),p=n(325),h=m(n(13)),y=m(n(5526));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return o(f.default,{className:(0,l.default)(y.default.description,n)},void 0,t instanceof u.CreditCardSourceRecord?h.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,p.upperCaseFirstChar)(t.brand),last_4:t.last4}):h.default.Messages.PAYMENT_SOURCE_PAYPAL)},t.prototype.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r="";return t instanceof u.CreditCardSourceRecord?r=h.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,c.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof u.PaypalSourceRecord&&(r=t.email),r},t.prototype.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,r=e.showSubtext,a=e.isPremium;return o(s.default,{},void 0,o(d.default,{type:this.typeString}),o(s.default,{direction:s.default.Direction.VERTICAL,className:y.default.descriptionWrapper},void 0,o(s.default,{align:s.default.Align.CENTER},void 0,this.renderDescription(),t?o("div",{className:y.default.defaultIndicator},void 0,h.default.Messages.DEFAULT):null,a?o("div",{className:y.default.premiumIndicator},void 0,h.default.Messages.PREMIUM):null,n.invalid?o("div",{className:y.default.invalidIndicator},void 0,h.default.Messages.PAYMENT_SOURCE_INVALID):null),r?o("div",{className:y.default.subText},void 0,this.renderSubText()):null))},a(t,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof u.PaypalSourceRecord?d.default.Types.PAYPAL:e instanceof u.CreditCardSourceRecord?d.default.getType(e.brand):d.default.Types.UNKNOWN}}]),t}(i.PureComponent);v.defaultProps={isPremium:!1,isDefault:!1,showSubtext:!1},v.displayName="PaymentDescription",t.default=v,e.exports=t.default},6531:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(828),l=(r=i)&&r.__esModule?r:{default:r};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,e.call.apply(e,[this].concat(a))),r._inputRef=null,r.setRef=function(e){var t=r.props.inputRef;r._inputRef=e,null!=t&&t(e)},r.handleChange=function(e,t){if(null!=r._inputRef){var n=r.props,o=n.cardType,a=n.onChange,i=o.code.size,l=e.length===i&&r._inputRef.selectionStart===i;null!=a&&a(e,t,l)}},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.cardType,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["cardType"]);return a.createElement(l.default,o({},n,{inputmode:"numeric",onChange:this.handleChange,maxLength:t.code.size,inputRef:this.setRef}))},t}(a.PureComponent);s.displayName="CVCField",t.default=s,e.exports=t.default},6532:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(6008)),s=c(n(828)),d=c(n(6124)),f=c(n(5488));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.selectionStart=0,r.setRef=function(e){var t=r.props.inputRef;r._inputRef=e,null!=t&&t(e)},r.handleChange=function(e,t){var n=r.props,o=n.value,a=n.onChange,i=r._inputRef;if(e!==o&&null!=i&&null!=o){var l=d.default.prettifyCreditCardNumber(e),u=i.selectionStart;if(o===l)u-=1,l=d.default.prettifyCreditCardNumber(l.substring(0,u)+l.substring(u+1));else{var s=l.length-e.length;s>0&&(u+=s)}r.selectionStart=u;var f=r.getMaxLength(l),c=l.length===f&&r.selectionStart===f;null!=a&&a(l,t,c)}},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},t.prototype.getMaxLength=function(e){var t=null!=e?d.default.getCreditCardType(e):d.default.DEFAULT_CARD_TYPE;return t.lengths[t.lengths.length-1]+t.gaps.length},t.prototype.render=function(){var e=this.props,t=e.value,n=e.flipped,r=e.inputClassName,c=e.className,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["value","flipped","inputClassName","className"]),h=d.default.getCreditCardType(t),y=this.getMaxLength(t);return a("div",{className:(0,l.default)(f.default.cardNumberWrapper,c)},void 0,a(u.default,{className:f.default.cardIcon,type:h.type,flipped:n}),i.createElement(s.default,o({},p,{inputmode:"numeric",value:d.default.prettifyCreditCardNumber(t),onChange:this.handleChange,inputRef:this.setRef,maxLength:y,inputClassName:(0,l.default)(f.default.cardNumberInput,r)})))},t}(i.PureComponent);h.defaultProps={flipped:!1},h.displayName="CardNumberField",t.default=h,e.exports=t.default},6533:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(828),l=(r=i)&&r.__esModule?r:{default:r},u=n(6124);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=/[^0-9]/g,f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),r.selectionStart=0,r.setRef=function(e){var t=r.props.inputRef;r._inputRef=e,null!=t&&t(e)},r.handleChange=function(e,t){var n=r.props,o=n.value,a=n.onChange,i=r._inputRef;if(e!==o&&null!=i&&null!=o){var l=(0,u.formatExpiration)(e),s=i.selectionStart;l===o&&l.length<=3&&o.includes("/")&&!e.includes("/")?l=l.replace(d,""):l===o&&e.includes("/")&&!o.includes("/")&&(l+="/"),l.length>e.length&&(s+=l.length-e.length),r.selectionStart=s;var f=l.split("/")[1],c=null!=f&&2===f.length&&s===l.length;null!=a&&a(l,t,c)}},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},t.prototype.render=function(){return a.createElement(l.default,o({},this.props,{inputmode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))},t}(a.PureComponent);f.displayName="ExpirationDateTextField",t.default=f,e.exports=t.default},6534:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=(n(6232),h(n(65))),l=h(n(128)),u=h(n(152)),s=h(n(6008)),d=h(n(9)),f=n(882),c=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=i.default.create("PaymentRequest"),v=function(e){function t(){var n,r,o,a,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=y(this,e.call.apply(e,[this].concat(u))),r.state={},r.initPaymentRequest=(o=regeneratorRuntime.mark(function e(t){var n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.paymentRequest({country:"US",currency:"usd",total:{label:r.props.paymentLabel,amount:0,pending:!0},requestPayerName:!0,requestPayerEmail:!0}),o=r.props.onSourceReceived,n.on("source",function(e){var t=e.complete,n=e.source;o(n),t("success")}),n.on("cancel",function(){o(null)}),e.next=6,n.canMakePayment();case 6:a=e.sent,m.info("PaymentRequest availablity check",a),r.setState({canMakePayment:Boolean(a),paymentRequest:n});case 9:case"end":return e.stop()}},e,i)}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)}),r.handleOnClick=function(){(0,r.props.onChooseType)(c.PaymentSourceTypes.PAYMENT_REQUEST);var e=r.state.paymentRequest;null!=e&&e.show()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,f.ensureStripeV3IsLoaded)().then(function(t){e.initPaymentRequest(t)})},t.prototype.render=function(){var e=this.state.canMakePayment;if(null==e)return o(l.default,{submitting:!0,look:l.default.Looks.FILLED});if(!1===e)return o(l.default,{disabled:!0,look:l.default.Looks.FILLED},void 0,p.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_UNSUPPORTED);var t=d.default.isAndroidChrome(),n=t?p.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GPAY:p.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GENERIC,r=t?s.default.Types.G_PAY:s.default.Types.PAYMENT_REQUEST,a=this.props,i=a.className,f=a.iconClassName;return o(l.default,{onClick:this.handleOnClick,className:i},c.PaymentSourceTypes.PAYMENT_REQUEST,o(u.default,{align:u.default.Align.CENTER},void 0,o(s.default,{className:f,type:r}),n))},t}(a.Component);v.displayName="StripePaymentRequest",t.default=v,e.exports=t.default},6536:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=a.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",u=a.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json";t.default={checkIncidents:function(){Promise.all([r.default.get(l+"/active.json"),r.default.get(u)]).then(function(e){var t=e[0],n=e[1],r=t.body.scheduled_maintenances[0],i=n.body.incidents[0];o.default.dispatch({type:a.ActionTypes.STATUS_PAGE_INCIDENT,incident:i||r})})},checkScheduledMaintenances:function(){r.default.get(l+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];o.default.dispatch({type:a.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){o.default.dispatch({type:a.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}},e.exports=t.default},6537:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(128)),l=d(n(6346)),u=n(0),s=d(n(5540));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.countdown,r=e.buttonText,d=e.buttonSubmitting,f=e.onButtonClick,c=e.imageSrc,p=e.secondaryButtonText,h=e.onSecondaryButtonClick,y=e.theme;return null!=t?o("div",{className:s.default.wrapper},void 0,o("div",{className:s.default.content},void 0,null!=c?o("img",{alt:"",src:c,className:s.default.image}):null,t),o("div",{className:s.default.buttonContainer},void 0,null!=p?o(i.default,{className:s.default.button,size:i.default.Sizes.SMALL,onClick:h,look:i.default.Looks.OUTLINED,color:y===u.ThemeTypes.LIGHT?i.default.Colors.WHITE:i.default.Colors.PRIMARY,submitting:d},void 0,p):null,null!=r?o(i.default,{className:s.default.button,size:i.default.Sizes.SMALL,onClick:f,submitting:d},void 0,r):null),null!=n?o(l.default,{deadline:n}):null):a.Children.only(this.props.children)},t}(a.PureComponent);f.displayName="ChannelTextAreaGuard",t.default=f,e.exports=t.default},6538:function(e,t,n){e.exports=n.p+"b0df989dede2e65a2d631874ffe04de0.svg"},6544:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultKeyBinding=void 0,t.createEntity=y,t.getCollapsedSelection=function(e,t,n){var r=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",r.getKey())).set("anchorKey",r.getKey());var o=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",o)).set("focusOffset",o)},t.updateContent=m,t.deleteContent=function(e,t){switch(e){case"delete":return(0,c.default)(t);case"delete-word":return(0,u.default)(t);case"backspace":return(0,f.default)(t);case"backspace-word":return(0,l.default)(t);case"backspace-to-start-of-line":return(0,i.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,p.default)(t);case"move-selection-to-start-of-block":return(0,d.default)(t);case"move-selection-to-end-of-block":return(0,s.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=v,t.applyTokensAsEntities=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getCurrentContent(),o=r.getFirstBlock(),a=o.getText(),i=[];return o.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=r.getEntity(o.getEntityAt(e)).getType(),l=a.substring(e,t);i.push({processed:!1,type:n,start:e,end:t,text:l})}),e.forEach(function(e){var r=!1;if(i.forEach(function(n){var o=e.type,a=e.start,i=e.end,l=e.getFullMatch();n.processed||(n.type===o&&n.start===a&&n.text===l?(n.processed=!0,r=!0):(a>=n.start&&a<n.end||i>n.start&&i<=n.end)&&(n.processed=!0,t=y(null,n.start,n.end,t)))}),!r){var o=n[e.type];t=y([e.type,o&&o.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),i.forEach(function(e){e.processed||(t=y(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset,a=void 0,i=void 0,l=e.find(function(t,n){return r>=t.start&&r<=t.end&&o>=t.start&&o<=t.end?(e[n+1]&&(i=e[n+1]),!0):(a=t,!1)});if(!l)return null;return{previousToken:a,currentToken:l,nextToken:i}},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))},t.clearContent=function(e){return r.EditorState.push(e,r.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=v(t);return m(e,t,0,n.length)},t.appendSpace=function(e){var t=v(e);return m(" ",e,t.length)},t.setCollapsedSelection=_,t.setCollapsedEndSelection=function(e){return _(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return _(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=v(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),r.EditorState.forceSelection(e,n)},t.truncateContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=v(e);if(n.length>t){var o=e.getSelection();e=m("",e,t,n.length),o.getAnchorOffset()>t&&(o=o.set("anchorOffset",t)),o.getFocusOffset()>t&&(o=o.set("focusOffset",t)),e=r.EditorState.forceSelection(e,o)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var r=n.getClientRects()[0],o=e.getClientRects()[0];if(!r||!o)return;var a=r.left-o.left+e.scrollLeft;a<e.scrollLeft?e.scrollLeft=a-10:a>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=a-e.offsetWidth+3)},t.isEmpty=function(e){return 0===v(e).length};var r=n(6622),o=h(n(6626)),a=h(n(6541)),i=h(n(6901)),l=h(n(6903)),u=h(n(6904)),s=h(n(6905)),d=h(n(6906)),f=h(n(6907)),c=h(n(6908)),p=h(n(6909));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,o){var a,i=o.getCurrentContent(),l=null;null!=e&&(l=(i=(a=i).createEntity.apply(a,e)).getLastCreatedEntityKey());var u=i.getFirstBlock(),s=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:t,focusKey:u.getKey(),focusOffset:n});return i=r.Modifier.applyEntity(i,s,l),r.EditorState.set(o,{currentContent:i})}function m(e,t,n,o){var i=void 0,l=t.getCurrentContent(),u=l.getFirstBlock(),s=u.getText();"number"==typeof n?(n>s.length&&(n=s.length),o>s.length&&(o=s.length),i=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:n,focusKey:u.getKey(),focusOffset:o||n})):i=t.getSelection();var d=t.getCurrentInlineStyle(),f=(0,a.default)(l,i),c=void 0;return i.isCollapsed()?(l=r.Modifier.insertText(l,i,e,d,f),c="insert-characters"):(l=r.Modifier.replaceText(l,i,e,d,f),c="replace-characters"),r.EditorState.push(t,l,c)}function v(e){return e.getCurrentContent().getFirstBlock().getText()}function _(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(t,n)}t.getDefaultKeyBinding=o.default},6545:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(221)),u=c(n(6180)),s=c(n(13)),d=c(n(5363)),f=c(n(5545));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderQuery=function(e){var t,n=this.props,r=n.query,a=n.focusedIndex,c=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:o(l.default,{className:(0,i.default)(f.default.queryContainer,(t={},t[f.default.focused]=-1===a,t)),onMouseEnter:p,onClick:c},void 0,o("div",{className:f.default.queryText},void 0,s.default.Messages.SEARCH_FOR_VALUE.format({value:r})),o("div",{className:f.default.queryShortcut},void 0,o(u.default,{shortcut:"return",className:(0,i.default)(d.default.dim,d.default.keybindShortcutSearchPopout)})))},t.prototype.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,o=t.renderInitialState,a=t.renderResult,i=t.renderCustomResults;if(e)return o();if(0===n)return r();if(null!=a)return Array.from({length:n}).map(function(e,t){return a(t)});if(null!=i)return i();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},t.prototype.render=function(){var e=this.props,t=e.query,n=e.width,r=""===t.trim();return o("div",{className:f.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(r),this.renderResults(r))},t}(a.PureComponent);h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320},h.displayName="SearchResultsPopout",t.default=h,e.exports=t.default},6546:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5421));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children,n=e.className;return o("div",{className:(0,a.default)(n||i.default.default,i.default.base)},void 0,t)};u.displayName="EmptyMessage",t.default=u,e.exports=t.default},6547:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(1)),o=u(n(183)),a=u(n(452)),i=n(0),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(null!=e)switch(e.type){case i.ScreenshareChromeExtensionResponseTypes.SCREENSHARE_START_SUCCESS:return function(e){a.default.setDesktopSource(e.streamId)}(e)}else window.chrome.app.isInstalled||o.default.show({title:l.default.Messages.SCREENSHARE_EXTENSION_TITLE,body:l.default.Messages.SCREENSHARE_EXTENSION_BODY,confirmText:l.default.Messages.YES_TEXT,cancelText:l.default.Messages.NO_TEXT,onConfirm:function(){null!=window.chrome.webstore&&null!=window.chrome.webstore.install?window.chrome.webstore.install():Object.assign(document.createElement("a"),{target:"_blank",href:"https://chrome.google.com/webstore/detail/discord-screen-sharing/lcbhdgefieegnkbopmgklhlpjjdgmbog"}).click()}})}t.default={open:function(e){if(null!=window.chrome){if(null!=navigator.getDisplayMedia||null!=navigator.mediaDevices.getDisplayMedia)return a.default.setWebScreenShare();window.chrome.runtime.sendMessage(i.SCREENSHARE_CHROME_EXTENSION_ID,{command:i.ScreenshareChromeExtensionCommands.SCREENSHARE},s)}else r.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_OPEN,channel:e})},close:function(){r.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_CLOSE})},selectSourceType:function(e){r.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_SELECT_SOURCE_TYPE,sourceType:e})}},e.exports=t.default},6548:function(e,t,n){var r={"./amsterdam.png":6925,"./brazil.png":6926,"./eu-central.png":6927,"./eu-west.png":6928,"./frankfurt.png":6929,"./hongkong.png":6930,"./japan.png":6931,"./london.png":6932,"./russia.png":6933,"./singapore.png":6934,"./southafrica.png":6935,"./sydney.png":6936,"./unknown.png":6128,"./us-central.png":6937,"./us-east.png":6938,"./us-south.png":6939,"./us-west.png":6940};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=6548},6549:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4)),l=n(307),u=p(n(6181)),s=p(n(153)),d=p(n(5977)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.type,n=e.guild;(0,l.closeContextMenu)(),u.default.open(t,n.id,null,null)},t.prototype.render=function(){if(__OVERLAY__)return null;var e=this.props,t=e.type;if(!e.canManageChannels)return null;var n=void 0;return n=t===f.ChannelTypes.GUILD_TEXT?c.default.Messages.CREATE_TEXT_CHANNEL:t===f.ChannelTypes.GUILD_VOICE?c.default.Messages.CREATE_VOICE_CHANNEL:t===f.ChannelTypes.GUILD_CATEGORY?c.default.Messages.CREATE_CATEGORY:c.default.Messages.CREATE_CHANNEL,o(d.default,{label:n,action:this.handleClick})},t}(a.PureComponent);h.displayName="ChannelCreateItem",t.default=i.default.connectStores([s.default],function(e){var t=e.guild;return{canManageChannels:s.default.can(f.Permissions.MANAGE_CHANNELS,t)}})(h),e.exports=t.default},6550:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(4)),a=l(n(1)),i=l(n(22));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={},s=u;function d(){Object.keys(s).forEach(function(e){null==i.default.getChannel(e)&&delete s[e]})}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.waitFor(i.default),s=e||u},t.prototype.getState=function(){return s},t.prototype.getCollapsed=function(){return s},t.prototype.isCollapsed=function(e){return s[e]||!1},t}(o.default.PersistedStore);f.persistKey="collapsedChannels",t.default=new f(a.default,{CONNECTION_OPEN:function(e){return d()},OVERLAY_INITIALIZE:function(e){return d()},CHANNEL_COLLAPSE:function(e){var t=e.channelId;s[t]?delete s[t]:s[t]=!0,s=r({},s)}}),e.exports=t.default},6551:function(e,t,n){"use strict";t.__esModule=!0,t.MODAL_CAROUSEL_PREV=t.MODAL_CAROUSEL_NEXT=t.CAROUSEL_PREV=t.CAROUSEL_NEXT=void 0;var r=l(n(854)),o=l(n(852)),a=n(109),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return o.default.hasModalOpen()||r.default.hasLayers()};t.CAROUSEL_NEXT={binds:["right"],global:!0,action:function(){if(!u())return a.ComponentDispatch.dispatch(i.ComponentActions.CAROUSEL_NEXT),!1}},t.CAROUSEL_PREV={binds:["left"],global:!0,action:function(){if(!u())return a.ComponentDispatch.dispatch(i.ComponentActions.CAROUSEL_PREV),!1}},t.MODAL_CAROUSEL_NEXT={binds:["right","down","space"],global:!0,action:function(){return a.ComponentDispatch.dispatch(i.ComponentActions.MODAL_CAROUSEL_NEXT),!1}},t.MODAL_CAROUSEL_PREV={binds:["left","up"],global:!0,action:function(){return a.ComponentDispatch.dispatch(i.ComponentActions.MODAL_CAROUSEL_PREV),!1}}},6552:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.analyticsListProperties=D;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),d=n(223),f=M(n(4)),c=n(81),p=n(6095),h=n(6032),y=M(n(5980));n(316);M(n(840)),M(n(868));var m=M(n(43)),v=M(n(90)),_=M(n(846)),E=M(n(6173)),g=M(n(179)),S=M(n(838)),T=M(n(18)),I=n(109),C=n(133),N=M(n(6030)),A=M(n(6956)),O=M(n(6957)),b=n(0);function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=200,L=1e3,w=Object.freeze(((o={})[b.StoreApplicationSort.REVERSE_ALPHABETICAL]="z-a",o[b.StoreApplicationSort.ALPHABETICAL]="a-z",o[b.StoreApplicationSort.NEW_RELEASES]="Newest",o[b.StoreApplicationSort.ID]="id",o));function D(e){var t=e.listIndex,n=e.listSort,r=e.listSearched;return{list_index:t,list_sort:null!=n?w[n]:null,list_searched:r}}var U=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.mouseoverTimeout=new c.Timeout,r.mouseoverAnalyticsTimeout=new c.Timeout,r.isUnmounted=!1,r.state={playing:!1,hasSeen:!1,isMouseOver:!1,showBuyInline:!1},r.getAnalyticsLocationForTile=function(e){var t=r.props.type;return u({},e,{object:b.AnalyticsObjects.CARD,objectType:t===b.StoreDirectoryTileTypes.PERK?b.AnalyticsObjectTypes.PERK:b.AnalyticsObjectTypes.BOX_ART})},r.handleSetTilePlaying=function(e){var t=e.skuId,n=r.props.sku;r.setState({playing:null!=n&&n.id===t})},r.handleMouseEnter=function(){var e=r.props,t=e.sku,n=e.type,o=e.analyticsContext,a=o.loadId,i=o.location,l=r.state,s=l.isMouseOver,d=l.playing;s||r.setState({isMouseOver:!0}),d||(null==t&&n!==b.StoreDirectoryTileTypes.PERK||r.mouseoverAnalyticsTimeout.start(L,function(){T.default.track(b.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,u({},null!=t?t.getAnalyticsData():{},D(r.props),{watch_trailer:!0,load_id:a,location:r.getAnalyticsLocationForTile(i)}))}),r.mouseoverTimeout.start(P,function(){if(!r.isUnmounted){var e=r.props.muted,n=null!=t?t.id:null;I.ComponentDispatch.dispatch(b.ComponentActions.STORE_VIDEO_PLAY,{skuId:n,muted:e}),r.setState({playing:!0})}}))},r.handleMouseLeave=function(){var e=r.state,t=e.isMouseOver,n=e.playing;if(r.mouseoverTimeout.stop(),r.mouseoverAnalyticsTimeout.stop(),!r.isUnmounted){var o=null;t&&(o={isMouseOver:!1}),n&&(o=u({},o,{playing:!1})),null!=o&&r.setState(o)}},r.handleToggleMute=function(){var e=r.props,t=e.sku,n=e.analyticsContext,o=n.loadId,a=n.location;null!=t&&T.default.track(b.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,u({},t.getAnalyticsData(),D(r.props),{audio_enabled:r.props.muted,load_id:o,location:r.getAnalyticsLocationForTile(a)})),r.props.muted?(null!=t&&I.ComponentDispatch.dispatch(b.ComponentActions.STORE_VIDEO_PLAY,{skuId:t.id,muted:!1}),(0,h.unmuteStoreDirectory)()):(0,h.muteStoreDirectory)()},r.handleVisibilityChange=function(e){if(!r.state.hasSeen&&e){r.setState({hasSeen:e});var t=r.props,n=t.onSKUViewed,o=t.sku;null!=n&&null!=o&&n(o)}},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.sku;null!=o&&null!=n&&n(e,o.applicationId)},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.isUnmounted=!0,this.mouseoverTimeout.stop(),this.mouseoverAnalyticsTimeout.stop(),I.ComponentDispatch.unsubscribe(b.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.playing;!t.playing&&n&&I.ComponentDispatch.subscribe(b.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying),!n&&t.playing&&I.ComponentDispatch.unsubscribe(b.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.getStoreListingLocation=function(){var e=this.props,t=e.sku,n=e.analyticsContext.location;if(null==t)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,C.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:this.getAnalyticsLocationForTile(n),analyticsProperties:D(this.props)})},t.prototype.renderTile=function(){var e=this.props,t=e.type,n=e.sku,r=e.skuId,o=e.storeListing,a=e.muted,i=e.inLibrary,f=e.showBuyInline,c=e.listIndex,p=e.tileData,h=e.className,y=e.analyticsContext,m=this.state,v=m.hasSeen,_=m.playing,E=m.isMouseOver,g={onToggleMute:this.handleToggleMute,playing:_,muted:a,showMediaPlaceholder:!v,isMouseOver:E};if(t===b.StoreDirectoryTileTypes.PERK){if(null==p)throw new Error("Unexpected missing tileData");return l("div",{className:h,onContextMenu:this.handleContextMenu},void 0,s.createElement(O.default,u({tileData:p,index:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,analyticsContext:y},g)))}if(null==n)throw new Error("Should not be rendering ApplicationDirectoryTile without SKU: "+(r||""));if(null==o)throw new Error("Should not be rendering ApplicationDirectoryTile without StoreListing");return l("div",{className:h,onContextMenu:this.handleContextMenu},void 0,l(d.Link,{to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,s.createElement(A.default,u({},g,{sku:n,storeListing:o,inLibrary:i,showBuyInline:f}))))},t.prototype.render=function(){return l(p.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!this.state.hasSeen},void 0,this.renderTile())},t}(s.PureComponent);U.displayName="ApplicationDirectoryTile";var k=f.default.connectStores([g.default,E.default,v.default,m.default,S.default],function(e){var t=e.skuId,n=null!=t?g.default.get(t):null;return{sku:n,inLibrary:null!=n&&v.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?S.default.getForSKU(n.id):null,muted:E.default.isDirectoryMuted}})((0,y.default)(U));t.default=(0,N.default)((0,_.default)(b.Experiments.STORE_DIRECTORY_BUY_INLINE,"Store Directory Buy Inline"),((i={})[b.ExperimentTypes.NONE]=function(e){return s.createElement(k,e)},i[b.ExperimentTypes.USER]=((a={})[b.ExperimentBuckets.CONTROL]=function(e){return s.createElement(k,e)},a[b.ExperimentBuckets.TREATMENT_1]=function(e){return s.createElement(k,u({},e,{showBuyInline:!0}))},a),i))},6553:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=_(n(4)),u=n(321),s=_(n(5980));n(316);_(n(840));var d=_(n(43)),f=_(n(6235)),c=_(n(179)),p=_(n(6148)),h=_(n(45)),y=n(0),m=_(n(13)),v=_(n(5564));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=[{id:y.Routes.APPLICATION_STORE,label:m.default.Messages.PREMIUM},{id:y.Routes.APPLICATION_STORE_BROWSE,label:m.default.Messages.APPLICATION_STORE_BROWSE}],S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=E(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){var t=r.props.sku;h.default.transitionTo(e.id,{state:{analyticsSource:{object:y.AnalyticsObjects.NAVIGATION_LINK,section:y.AnalyticsSections.NAVIGATION,page:null==t?y.AnalyticsPages.STORE_DIRECTORY_BROWSE:y.AnalyticsPages.STORE_LISTING}}})},r.renderCustomBreadcrumb=function(e,t){var n;return o("span",{className:(0,i.default)(v.default.breadcrumb,(n={},n[v.default.activeBreadcrumb]=t,n))},void 0,e.label)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.primarySkuId,r=e.isFetchingPrimarySku;null==n||r||null==t||(0,u.fetchSKU)(t.applicationId,n)},t.prototype.render=function(){var e=this.props,t=e.sku,n=e.primarySku,r=[].concat(g),a=y.Routes.APPLICATION_STORE_BROWSE;if(null!=t){var i=y.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug);a=i,null!=n&&r.push({id:y.Routes.APPLICATION_STORE_LISTING_SKU(n.id,n.slug),label:n.name}),r.push({id:i,label:t.name})}return o(p.default,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:r,activeId:a,separatorClassName:v.default.separator})},t}(a.PureComponent);S.displayName="StoreBreadcrumbs",t.default=l.default.connectStores([c.default,f.default,d.default],function(e){var t=e.sku,n=null!=t?d.default.getGame(t.applicationId):null,r=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{sku:t,primarySkuId:r,isFetchingPrimarySku:null!=r&&c.default.isFetching(r),primarySku:null!=r?c.default.get(r):null}})((0,s.default)(S)),e.exports=t.default},6554:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(17)),u=n(99),s=h(n(310)),d=h(n(5990)),f=h(n(6110)),c=h(n(221)),p=h(n(5568));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m={tension:7,friction:5,overshootClamping:!0},v=function(e){var t=e.onClick,n=e.className;return a(c.default,{className:(0,l.default)(p.default.scrollerButton,n),onClick:t},void 0,a(f.default,{className:p.default.scrollerButtonArrow,direction:f.default.Directions.RIGHT}))};v.displayName="ScrollerButton";var _=Object.freeze({LEFT:0,RIGHT:1}),E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.state={tileIndex:0,prevWidth:r.props.width,lastArrowDirection:_.LEFT,scrollerWidth:0,mouseOver:!1},r.scrollerRef=i.createRef(),r.animatedValue=new s.default.Value(0),r.handleMouseEnter=function(){r.setState({mouseOver:!0})},r.handleMouseLeave=function(){r.setState({mouseOver:!1})},r.prev=function(){r.setState({tileIndex:r.state.lastArrowDirection===_.LEFT?Math.max(r.state.tileIndex-1,0):r.state.tileIndex,lastArrowDirection:_.LEFT})},r.next=function(){r.setState({tileIndex:r.state.lastArrowDirection===_.RIGHT?Math.min(r.state.tileIndex+1,r.getMaxIndex()):r.state.tileIndex,lastArrowDirection:_.RIGHT})},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){return t.prevWidth!==e.width?{tileIndex:0,prevWidth:e.width,lastArrowDirection:_.LEFT}:null},t.prototype.getMaxOffset=function(){var e=this.props.width,t=this.state.scrollerWidth;return Math.max(t-e,0)},t.prototype.getSideOffset=function(){var e=this.props,t=e.tileWidth,n=e.tileMargin,r=this.getMaxOffset(),o=t+n;return r-Math.floor(r/o)*o},t.prototype.getMaxIndex=function(){var e=this.props,t=e.tileWidth,n=e.tileMargin;return Math.floor(this.getMaxOffset()/(t+n))},t.prototype.getOffset=function(e,t){var n=this.props,r=n.tileWidth,o=n.tileMargin;return Math.min(e*(r+o)+(t===_.RIGHT?this.getSideOffset():0),this.getMaxOffset())},t.prototype.componentDidMount=function(){var e=(0,u.findDOMNode)(this.scrollerRef.current);e instanceof HTMLElement&&this.setState({scrollerWidth:e.offsetWidth})},t.prototype.componentDidUpdate=function(e,t){t.tileIndex===this.state.tileIndex&&t.lastArrowDirection===this.state.lastArrowDirection||s.default.spring(this.animatedValue,o({},m,{toValue:this.getOffset(this.state.tileIndex,this.state.lastArrowDirection)})).start()},t.prototype.render=function(){var e,t,n=this.state,r=n.tileIndex,o=n.mouseOver,u=n.lastArrowDirection,d=this.getMaxOffset(),f=d>0;return a("div",{className:p.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,a(s.default.div,{className:p.default.scroller,style:{transform:[{translateX:this.animatedValue.interpolate({inputRange:[0,1],outputRange:["0px","-1px"]})}]}},void 0,i.createElement("div",{className:p.default.scroller,ref:this.scrollerRef},this.props.children)),f?a(i.Fragment,{},void 0,a(s.default.div,{className:p.default.gradientOverlayLeft,style:{opacity:this.animatedValue.interpolate({inputRange:[0,50],outputRange:[0,1],extrapolate:"clamp"})}}),a(s.default.div,{className:p.default.gradientOverlayRight,style:{opacity:this.animatedValue.interpolate({inputRange:[d-50,d],outputRange:[1,0],extrapolate:"clamp"})}})):null,f?a(i.Fragment,{},void 0,a(v,{onClick:this.prev,className:(0,l.default)(p.default.arrowLeft,(e={},e[p.default.arrowDisabled]=0===r&&u===_.LEFT,e[p.default.arrowHidden]=!o,e))}),a(v,{onClick:this.next,className:(0,l.default)(p.default.arrowRight,(t={},t[p.default.arrowDisabled]=r===this.getMaxIndex()&&u===_.RIGHT,t[p.default.arrowHidden]=!o,t))})):null)},t}(i.Component);E.displayName="ApplicationStoreTileScroller",t.default=(0,d.default)(E),e.exports=t.default},6555:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=void 0,l=void 0,u=void 0;function s(){l={},i={},u=new Set}s();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStatisticsForApplication=function(e){return i[e]},t.prototype.shouldFetchStatisticsForApplication=function(e){var t=l[e];return!u.has(e)&&(null==t||Date.now()-t>36e5)},t}(r.default.Store);t.default=new d(o.default,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){var t=e.applicationId;u.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){var t=e.applicationId;u.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){var t=e.statistics,n=e.applicationId;l[n]=Date.now(),u.delete(n),i[n]=t},LOGOUT:function(e){return s()}}),e.exports=t.default},6556:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(5)),l=n(5992),u=n(233),s=c(n(311)),d=c(n(152)),f=c(n(5582));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCoverImageURL=function(){var e=this.props,t=e.game,n=e.news.thumbnail;return null!=n&&null!=n.proxy_url?(0,u.getSizedImageSrc)(n.proxy_url,700,210,"png"):t.getSplashURL(700)},t.prototype.getCoverImageURLStyle=function(){var e=this.getCoverImageURL();return null!=e?{backgroundImage:"url("+e+")"}:null},t.prototype.getTimestamp=function(){var e=this.props.news;return null!=e.timestamp?(0,l.dateFormat)((0,i.default)(e.timestamp),"LL"):null},t.prototype.renderOpenBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=this.getTimestamp();return o(d.default,{className:f.default.openWrap},void 0,o("div",{className:f.default.openBody},void 0,null!=n?o("div",{className:f.default.openTimestamp},void 0,n):null,o("div",{className:f.default.openTitle},void 0,e.title),o("div",{className:f.default.openDescription},void 0,e.description)),o("div",{className:f.default.openImage,style:t}))},t.prototype.renderCollapsedBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=null!=e.timestamp?(0,l.dateFormat)((0,i.default)(e.timestamp),"LL"):null;return o(d.default,{className:f.default.collapsedWrap},void 0,o("div",{className:f.default.collapsedImage,style:t}),o(d.default,{className:f.default.collapsedBody,direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER,style:{margin:16}},void 0,null!=n?o("div",{className:f.default.collapsedTimestamp},void 0,n):null,o("div",{className:f.default.collapsedTitle},void 0,e.title)))},t.prototype.render=function(){var e=this.props,t=e.collapsed,n=e.news;return o(s.default,{href:n.url,target:"_blank",className:f.default.item},void 0,t?this.renderCollapsedBody():this.renderOpenBody())},t}(a.PureComponent);p.displayName="ApplicationNewsItem",t.default=p,e.exports=t.default},6557:function(e,t,n){"use strict";t.__esModule=!0,t.ItemSizes=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=((o=["grayscale(",")"]).raw=["grayscale(",")"],o),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=C(n(17)),d=C(n(310)),f=C(n(5990)),c=n(6182),p=C(c),h=n(6983),y=C(h),m=C(n(221)),v=n(6075),_=C(n(6175)),E=C(n(6096)),g=C(n(6033)),S=n(109),T=n(0),I=C(n(5586));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A={top:85,left:85,bottom:85,right:85},O=t.ItemSizes={SMALL:{width:640,height:360,margin:15},MEDIUM:{width:880,height:495,margin:20}},b={width:1920,height:1080},M={width:1280,height:720},R=function(e){var t=e.item,n=e.size,r=e.onPlay,o=e.onEnded,l=e.onClick,u=e.playable,s=e.volume,d=e.isMuted,f=e.onVolumeChange,c=e.onMute,p=void 0,h=void 0;if(t.type===T.CarouselMediaTypes.YOUTUBE_VIDEO)p=i({url:(0,T.YOUTUBE_PREVIEW_URL)(t.youtubeVideoId)},b),h=i({url:(0,T.YOUTUBE_EMBED_URL)(t.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},M);else{var y=null!=t.width?t.width:0,_=null!=t.height?t.height:0;p={url:t.thumbnailSrc,width:y,height:_},h={url:t.src,proxyURL:t.src,width:y,height:_}}var g=a(v.EmbedVideo,{href:null,thumbnail:p,video:h,allowFullScreen:!0,VideoComponent:E.default,maxHeight:n.height,maxWidth:n.width,onPlay:r,onEnded:o,playable:u,className:I.default.video,volume:s,onVolumeChange:f,autoMute:d,onMute:c,autoPlay:!0});return u?g:a(m.default,{onClick:l},void 0,g)},P=function(){return a("div",{className:I.default.paginationVideoOverlay},void 0,a(g.default,{inactive:!0,className:I.default.paginationVideoPlayPill}))};P.displayName="VideoOverlay";var L=a(P,{}),w=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=N(this,e.call.apply(e,[this].concat(i))),r.state={currentIndex:0,animate:!0,playingVideo:!1,hasInteracted:!1,hoveringPreviousItem:!1,hoveringNextItem:!1,volume:1,isMuted:!0},r.getItemSize=function(){var e=r.props.width,t=O.MEDIUM;return null!=e&&e<t.width&&(t=O.SMALL),t},r.setItem=function(e,t){var n=r,o=n.props,a=o.items,i=o.onIntentionalChange,l=n.state,u=l.currentIndex,s=l.hasInteracted,d=(0,h.normalizeIndex)(u,a.length),f=(0,h.normalizeIndex)(e,a.length),c=1===Math.abs(e-d)||e===a.length-1&&0===d||0===e&&d===a.length-1;t&&(s=!0),r.setState({playingVideo:!1,currentIndex:f,animate:c,hasInteracted:s}),t&&null!=i&&i(a[f],d,f)},r.autoNext=function(){r.setItem(r.state.currentIndex+1,!1)},r.manualNext=function(){r.setItem(r.state.currentIndex+1,!0)},r.manualPrevious=function(){r.setItem(r.state.currentIndex-1,!0)},r.handlePlay=function(e){return r.setState({playingVideo:!0,hasInteracted:!e})},r.handleEnded=function(){r.state.hasInteracted||r.autoNext()},r.handleVolumeChange=function(e){r.setState({volume:e,hasInteracted:!0})},r.handleMute=function(e){r.setState({isMuted:e,hasInteracted:!0})},r.handleVideoClick=function(e){r.setItem(e,!0)},r.handleEdgeItemMouseLeave=function(){r.setState({hoveringPreviousItem:!1,hoveringNextItem:!1})},r.renderCarouselImage=function(e,t,n){return n?a(m.default,{onClick:function(){return r.handleCurrentItemClick(e,t)},className:I.default.itemImageWrapper},void 0,a("img",{src:e.src,alt:"",className:I.default.currentImage})):a(m.default,{onClick:function(){return r.setItem(t,!0)},className:I.default.itemImageWrapper},void 0,a("img",{alt:"",className:I.default.itemImage,src:e.src,draggable:!1}))},r.renderItem=function(e,t,n){var o,i=r.state,l=i.currentIndex,u=i.volume,f=i.isMuted,c=t===(0,h.normalizeIndex)(l,r.props.items.length);return a(d.default.div,{className:(0,s.default)(I.default.item,(o={},o[I.default.currentItem]=c,o)),style:null!=n?r.getStyle(t,n):null,onMouseEnter:c?null:function(){return r.handleEdgeItemMouseEnter(t)},onMouseLeave:c?null:r.handleEdgeItemMouseLeave},void 0,e.type===T.CarouselMediaTypes.VIDEO||e.type===T.CarouselMediaTypes.YOUTUBE_VIDEO?a(R,{item:e,size:r.getItemSize(),onPlay:r.handlePlay,onEnded:r.handleEnded,playable:c,onClick:function(){return r.handleVideoClick(t)},volume:u,onVolumeChange:r.handleVolumeChange,isMuted:f,onMute:r.handleMute}):r.renderCarouselImage(e,t,c))},r.renderPaginationItem=function(e,t){var n=r.state.currentIndex===t;return a("div",{className:(0,s.default)(I.default.paginationItem,n?I.default.selectedStorePaginationItem:I.default.unselectedStorePaginationItem)},"page-"+t,a("img",{alt:null==e.alt?t:e.alt,className:I.default.storePaginationImg,src:r.getPaginationSrc(e),draggable:!1}),e.type===T.CarouselMediaTypes.YOUTUBE_VIDEO||e.type===T.CarouselMediaTypes.VIDEO?L:null,n?a("div",{className:I.default.overlappingBorder}):null)},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){S.ComponentDispatch.subscribe(T.ComponentActions.CAROUSEL_PREV,this.manualPrevious),S.ComponentDispatch.subscribe(T.ComponentActions.CAROUSEL_NEXT,this.manualNext)},t.prototype.componentWillUnmount=function(){S.ComponentDispatch.unsubscribe(T.ComponentActions.CAROUSEL_PREV,this.manualPrevious),S.ComponentDispatch.unsubscribe(T.ComponentActions.CAROUSEL_NEXT,this.manualNext)},t.prototype.getStyle=function(e,t){var n=t.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:d.default.Extrapolate.CLAMP});return{opacity:t.interpolate({inputRange:[0,1],outputRange:[.3,1],extrapolate:d.default.Extrapolate.CLAMP}),filter:d.default.template(l,n)}},t.prototype.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},t.prototype.handleEdgeItemMouseEnter=function(e){var t=this.state.currentIndex;e<t?this.setState({hoveringPreviousItem:!0}):e>t&&this.setState({hoveringNextItem:!0})},t.prototype.renderCarousel=function(){var e,t,n=this.props.items,r=this.state,o=r.currentIndex,i=r.animate,l=r.hoveringPreviousItem,u=r.hoveringNextItem,d=a(y.default,{items:n,itemSize:this.getItemSize(),renderItem:this.renderItem,currentIndex:o,animate:i,edgeItems:2});return n.length<=1?d:a("div",{className:I.default.carouselButtonsContainer},void 0,d,a(c.CarouselPrevious,{onClick:this.manualPrevious,className:(0,s.default)(I.default.arrow,(e={},e[I.default.arrowHovered]=l,e))}),a(c.CarouselNext,{onClick:this.manualNext,className:(0,s.default)(I.default.arrow,(t={},t[I.default.arrowHovered]=u,t))}))},t.prototype.getPaginationSrc=function(e){return e.type===T.CarouselMediaTypes.YOUTUBE_VIDEO?(0,T.YOUTUBE_PREVIEW_URL)(e.youtubeVideoId):e.type===T.CarouselMediaTypes.IMG?e.src:e.type===T.CarouselMediaTypes.VIDEO?e.thumbnailSrc:null},t.prototype.render=function(){var e=this,t=this.props,n=t.items,r=t.className,o=t.autoplayInterval,i=t.paused,l=this.state,u=l.currentIndex,s=l.playingVideo,d=l.hasInteracted;return a(_.default,{pauseOnHover:!0,onInterval:this.autoNext,interval:o,className:r,disable:s||d||i},void 0,this.renderCarousel(),a("div",{className:I.default.pagination},void 0,a(p.default,{renderItem:this.renderPaginationItem,scrollToPadding:A,items:n,selectedIndex:u,onSetItem:function(t){return e.setItem(t,!0)},paginationContainerClass:I.default.scroller,gutterStyle:p.default.Gutter.STORE,align:n.length<6?p.default.Align.LEFT:p.default.Align.CENTER})))},t}(u.PureComponent);w.defaultProps={autoplayInterval:8e3,paused:!1},w.displayName="MediaCarousel",t.default=(0,f.default)(w)},6558:function(e,t,n){"use strict";t.__esModule=!0,t.MessageStyles=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=p(n(2)),i=c(n(159)),l=c(n(4)),u=c(n(1)),s=p(n(321)),d=c(n(6069)),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=t.MessageStyles=(0,i.default)({SHORT:null,LONG:null}),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getText=function(e,t){if(429===e.status)switch(t){case h.SHORT:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR_SHORT;case h.LONG:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR}switch(t){case h.SHORT:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR_SHORT;case h.LONG:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR}},t.prototype.componentWillUnmount=function(){this.props.purchaseError&&u.default.wait(function(){return s.clearPurchaseError()})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.purchaseError,r=e.messageStyle;return null==n?null:o("div",{className:t},void 0,this.getText(n,r))},t}(a.PureComponent);y.defaultProps={messageStyle:h.LONG},y.displayName="ApplicationStorePurchaseError",t.default=l.default.connectStores([d.default],function(){return{purchaseError:d.default.error}})(y)},6559:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=n(5992),u=n(6560),s=h(n(311)),d=h(n(306)),f=n(0),c=h(n(13)),p=h(n(5596));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.iconName,n=e.className;return o("div",{className:(0,i.default)(p.default.iconCircle,n)},void 0,o(d.default,{name:t,className:p.default.icon}))};y.displayName="IconCircle";var m=function(e){var t=e.circle,n=e.smallHeader,r=e.text,a=e.className;return o("div",{className:(0,i.default)(p.default.recommendationReason,a)},void 0,t,o("div",{className:p.default.description},void 0,null!=n?o("div",{className:p.default.smallHeader},void 0,n):null,o("div",{className:p.default.text},void 0,r)))};m.displayName="Unit";var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReviewAggregator=function(e){var t=this.props.className,n=(0,u.getRatingTier)(e);return null==n?null:o(m,{circle:null!=e.url?o(s.default,{href:e.url,useDefaultUnderlineStyles:!1,className:(0,i.default)(p.default.reviewCircle,p.default.circleAnchor),style:{backgroundColor:n.color}},void 0,e.criticScore):o("div",{className:p.default.reviewCircle,style:{backgroundColor:n.color}},void 0,e.criticScore),smallHeader:c.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC,text:n.label,className:t})},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className;return t.type===f.StoreRecommendationTypes.RECENT_RELEASE_DATE?o(m,{className:n,circle:o(y,{iconName:d.default.Names.CALENDAR}),smallHeader:c.default.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===f.StoreRecommendationTypes.RELEASE_DATE?o(m,{className:n,circle:o(y,{iconName:d.default.Names.CALENDAR}),smallHeader:c.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===f.StoreRecommendationTypes.EARLY_ACCESS?null!=t.releaseDate?o(m,{className:n,circle:o(y,{iconName:d.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),smallHeader:c.default.Messages.APPLICATION_STORE_EARLY_ACCESS,text:(0,l.dateFormat)(t.releaseDate,"LL")}):o(m,{className:n,circle:o(y,{iconName:d.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),text:c.default.Messages.APPLICATION_STORE_EARLY_ACCESS}):t.type===f.StoreRecommendationTypes.METACRITIC_SCORE?this.renderReviewAggregator(t.reviewAggregator):t.type===f.StoreRecommendationTypes.FLAVOR_TEXT?o(m,{circle:o(y,{iconName:d.default.Names.CHECKMARK}),text:t.flavorText,className:n}):t.type===f.StoreRecommendationTypes.HAS_FREE_PREMIUM_CONTENT?o(m,{className:n,circle:o(y,{iconName:d.default.Names.NITRO_WHEEL,className:p.default.premiumCircle}),text:c.default.Messages.APPLICATION_STORE_FREE_PREMIUM_CONTENT}):null},t}(a.Component);v.displayName="StoreRecommendationReason",t.default=v,e.exports=t.default},6560:function(e,t,n){"use strict";var r;t.__esModule=!0,t.getRatingTier=function(e){var t=d[e.aggregator];if(null==t)return null;if(e.aggregator===a.ReviewAggregators.METACRITIC&&e.criticTotalRatings<u)return null;return t.find(function(t){return t.minimumScore<=e.criticScore})};var o,a=n(0),i=n(13),l=(o=i)&&o.__esModule?o:{default:o};var u=4;function s(e,t,n){return{minimumScore:e,color:t,get label(){return n()}}}var d=((r={})[a.ReviewAggregators.METACRITIC]=[s(90,"#6c3",function(){return l.default.Messages.METACRITIC_VERDICT_UNIVERSAL_ACCLAIM}),s(75,"#6c3",function(){return l.default.Messages.METACRITIC_VERDICT_GENERALLY_FAVORABLE}),s(50,"#fc3",function(){return l.default.Messages.METACRITIC_VERDICT_MIXED_OR_AVERAGE}),s(20,"#f00",function(){return l.default.Messages.METACRITIC_VERDICT_GENERALLY_UNFAVORABLE}),s(0,"#f00",function(){return l.default.Messages.METACRITIC_VERDICT_OVERWHELMING_DISLIKE})],r)},6561:function(e,t,n){"use strict";t.__esModule=!0,t.setHomeLink=function(e){a.default.dirtyDispatch({type:i.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6562:function(e,t,n){e.exports=n.p+"712a0fd4d14a1caadd31cb0745e91238.svg"},6563:function(e,t,n){e.exports=n.p+"857c505aafbe092e4f6efecebcad0bc8.svg"},6564:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=n(81);var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));i.call(r);var o=r.props.getHistoricalTotalBytes(),a=r.calculateInitialDeltaBytes(o);return r.state={deltaBytes:a,smoothedDeltaBytes:r.smoothDeltaBytes(a),lastTotalBytes:null!=o[0]?o[0].bytes:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.update(),this._interval.start(this.props.updateInterval,this.update)},t.prototype.componentWillUnmount=function(){this._interval.stop()},t.prototype.calculateInitialDeltaBytes=function(e){for(var t=this.props,n=t.numUpdatesToShow,r=t.updateInterval,o=t.pointsToSmooth,a=Date.now(),i=0,l=0,u=[],s=null!=e[0]?e[0].bytes:0;i<n+o;i++){for(var d=a-(i+1)*r,f=void 0;l<e.length&&(f=e[l]).timestamp>d;)l++;if(l===e.length)break;null!=f&&(u.push(s-f.bytes),s=f.bytes)}for(;i<n+o;i++)u.push(0);return u.reverse(),u},t.prototype.smoothDeltaBytes=function(e){for(var t=this.props.pointsToSmooth,n=[],r=0;r<e.length-t;r++){for(var o=0,a=0;a<t;a++)o+=e[r+a];n.push(o/t)}return n},t.prototype.render=function(){var e=this.props,t=e.numUpdatesToShow,n=e.updateInterval;return(0,e.children)(this.state.smoothedDeltaBytes,n,t)},t}(r.Component);a.defaultProps={numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10};var i=function(){var e=this;this._interval=new o.Interval,this.update=function(){var t=e.props,n=t.onUpdate,r=t.numUpdatesToShow,o=t.pointsToSmooth,a=t.updateInterval,i=e.props.getHistoricalTotalBytes(),l=null!=i[0]?i[0].bytes:0,u=[].concat(e.state.deltaBytes.slice(1,r+o),[l-e.state.lastTotalBytes]);e.setState({deltaBytes:u,smoothedDeltaBytes:e.smoothDeltaBytes(u),lastTotalBytes:l},function(){return null!=n&&n(a)})}};a.displayName="ByteProgressSmoother",t.default=a,e.exports=t.default},6565:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=y(n(4)),i=n(57),l=y(n(1)),u=y(n(136)),s=y(n(488)),d=y(n(58)),f=y(n(469)),c=y(n(46)),p=y(n(953)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function m(){return!0}var v=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,f.default),this.syncWith([d.default],m)},t.prototype.getExperimentId=function(){return h.Experiments.GUILD_VIDEO},t.prototype.getMetaData=function(){return{title:"Guild Video",description:["Treatment 1: Enable guild video."]}},t.prototype.getExperimentDescriptor=function(e){return d.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?p.default.getExperimentAssignment(e,this.getExperimentId()):null)},t.prototype.isAvailable=function(e){if(!c.default.supports(i.Features.VIDEO))return!1;if("343128759773298700"===e)return!1;var t=this.getExperimentDescriptor(e),n=f.default.getMemberCount(e)||0;return null==t||t.bucket===h.ExperimentBuckets.NOT_ELIGIBLE||n>50?s.default.isDeveloper:(u.default.trigger(t),t.bucket===h.ExperimentBuckets.TREATMENT_1)},t}(a.default.Store))(l.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0}});u.default.register(v,((o={})[h.ExperimentTypes.USER]=((r={})[h.ExperimentBuckets.CONTROL]=function(){return null},r[h.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o)),t.default=v,e.exports=t.default},6566:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={open:function(e){a.default.dispatch({type:i.ActionTypes.PRIVACY_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:i.ActionTypes.PRIVACY_SETTINGS_MODAL_CLOSE})}},e.exports=t.default},6567:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(6)),i=n(231),l=c(n(4)),u=c(n(1)),s=c(n(914)),d=c(n(5991)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=new Set,h=f.FormStates.CLOSED,y=!1,m=!1,v=void 0,_=[],E=[];function g(){return null==v||null==_?[]:s.default.calculatePositionDeltas(a.default.values(v.roles),_,function(e){return e.id},function(e){return e.originalPosition||1/0},!1)}function S(e){var t=e.section;if(null!=v||t!==f.GuildSettingsSections.ROLES)return!1;T()}function T(){v=d.default.getProps().guild,y=!1,m=!1,p.clear(),h=f.FormStates.OPEN,_=null!=v?(0,a.default)(v.roles).values().value():[],E=[].concat(_)}var I=a.default.debounce(function(){var e=!1;m&&((m=g().length>0)||(e=!0)),p.forEach(function(t){a.default.isEqual(N(t),function(e){return E.find(function(t){var n=t.id;return n===e})}(t))&&(p.delete(t),e=!0)}),0===p.size&&(y=!1),e&&O.emitChange()},500);function C(e,t){var n=_.indexOf(e);if(n<0)return!1;var r=o({},e,t);_[n]=r,_=[].concat(_),y=!0,p.add(r.id),I(r)}function N(e){return _.find(function(t){return t.id===e})}function A(e){var t=e.guildId;if(null==v||t!==v.id||h===f.FormStates.SUBMITTING)return!1;var n=[];null!=(v=d.default.getProps().guild)&&(n=(0,a.default)(v.roles).values().value()),p.forEach(function(e){var t=N(e),r=-1;null==n.find(function(t,n){if(t.id===e)return r=n,!0})||null==t?p.delete(e):n[r]=t}),0===p.size&&(y=!1),m=!1,_=[].concat(n)}var O=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(d.default)},t.prototype.hasChanges=function(){return y||m},t.prototype.getSortDeltas=function(){return g()},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getRole=function(e){return N(e)},r(t,[{key:"hasSortChanges",get:function(){return m}},{key:"guild",get:function(){return v}},{key:"editedRoleIds",get:function(){return Array.from(p)}},{key:"roles",get:function(){return _}},{key:"formState",get:function(){return h}}]),t}(l.default.Store))(u.default,__OVERLAY__?{}:{GUILD_SETTINGS_ROLES_INIT:function(e){return T()},GUILD_SETTINGS_INIT:S,GUILD_SETTINGS_SET_SECTION:S,GUILD_SETTINGS_ROLES_SORT_UPDATE:function(e){var t=e.roles;if(null!=_&&t.length!==_.length)return!1;_=t.map(function(e){return N(e)}),m=!0,I()},GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS:function(e){var t=e.id,n=e.flag,r=e.allow,o=N(t);if(null==o)return!1;var a=o.permissions;return r?a|=n:a^=a&n,C(o,{permissions:a})},GUILD_SETTINGS_ROLES_UPDATE_NAME:function(e){var t=e.id,n=e.name,r=N(t);return null!=r&&C(r,{name:n})},GUILD_SETTINGS_ROLES_UPDATE_COLOR:function(e){var t=e.id,n=e.color,r=0===n?null:(0,i.int2hex)(n),o=N(t);return null!=o&&C(o,{color:n,colorString:r})},GUILD_SETTINGS_ROLES_UPDATE_SETTINGS:function(e){var t=e.id,n=e.hoist,r=e.mentionable,o=N(t);return null!=o&&C(o,{hoist:n,mentionable:r})},GUILD_SETTINGS_CLOSE:function(e){return v=null,E=_=[],p.clear(),y=!1,m=!1,void(h=f.FormStates.CLOSED)},GUILD_ROLE_CREATE:A,GUILD_ROLE_UPDATE:A,GUILD_ROLE_DELETE:A,GUILD_SETTINGS_ROLES_SUBMITTING:function(e){h=f.FormStates.SUBMITTING},GUILD_SETTINGS_ROLES_SAVE_SUCCESS:function(e){T()}});t.default=O,e.exports=t.default},6568:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(4)),a=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=null,s=!1;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.showNotice=function(){return l!==u},t.prototype.hasError=function(){return s},r(t,[{key:"vanityURLCode",get:function(){return l}},{key:"originalVanityURLCode",get:function(){return u}}]),t}(o.default.Store);t.default=new d(a.default,{GUILD_SETTINGS_SET_VANITY_URL:function(e){u=l=e.code||"",s=!1},GUILD_SETTINGS_VANITY_URL_CLOSE:function(e){return u=l=null,void(s=!1)},GUILD_SETTINGS_VANITY_URL_RESET:function(e){l=u},GUILD_SETTINGS_VANITY_URL_SET:function(e){l=e.code},GUILD_SETTINGS_VANITY_URL_ERROR:function(e){s=!0}}),e.exports=t.default},6569:function(e,t,n){"use strict";var r,o,a,i;t.__esModule=!0,t.ACTION_FILTER_ITEMS=t.NotRenderedChanges=t.EmojiChangeStrings=t.WebhookChangeStrings=t.InviteChangeStrings=t.RoleChangeStrings=t.UserChangeStrings=t.ChannelChangeStrings=t.GuildChangeStrings=t.DEFAULT_FOR_STRINGS_KEY=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getChangeTitle=function(e){switch(e.action){case y.AuditLogActions.GUILD_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_UPDATE;case y.AuditLogActions.CHANNEL_CREATE:var t=e.changes?e.changes.find(function(e){return e.key===y.AuditLogChangeKeys.TYPE}):null;if(null==t)throw new Error("[AuditLog] Could not find type change for channel create");switch(t.newValue){case y.ChannelTypes.GUILD_VOICE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_VOICE_CREATE;case y.ChannelTypes.GUILD_CATEGORY:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_CATEGORY_CREATE;default:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TEXT_CREATE}case y.AuditLogActions.CHANNEL_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_UPDATE;case y.AuditLogActions.CHANNEL_DELETE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_DELETE;case y.AuditLogActions.CHANNEL_OVERWRITE_CREATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_CREATE;case y.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_UPDATE;case y.AuditLogActions.CHANNEL_OVERWRITE_DELETE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_DELETE;case y.AuditLogActions.MEMBER_KICK:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_KICK;case y.AuditLogActions.MEMBER_PRUNE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE;case y.AuditLogActions.MEMBER_BAN_ADD:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_ADD;case y.AuditLogActions.MEMBER_BAN_REMOVE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_REMOVE;case y.AuditLogActions.MEMBER_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_UPDATE;case y.AuditLogActions.MEMBER_ROLE_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLE_UPDATE;case y.AuditLogActions.ROLE_CREATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_CREATE;case y.AuditLogActions.ROLE_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_UPDATE;case y.AuditLogActions.ROLE_DELETE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_DELETE;case y.AuditLogActions.INVITE_CREATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CREATE;case y.AuditLogActions.INVITE_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_UPDATE;case y.AuditLogActions.INVITE_DELETE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_DELETE;case y.AuditLogActions.WEBHOOK_CREATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CREATE;case y.AuditLogActions.WEBHOOK_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_UPDATE;case y.AuditLogActions.WEBHOOK_DELETE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_DELETE;case y.AuditLogActions.EMOJI_CREATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_CREATE;case y.AuditLogActions.EMOJI_UPDATE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_UPDATE;case y.AuditLogActions.EMOJI_DELETE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_DELETE;case y.AuditLogActions.MESSAGE_DELETE:return m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_DELETE;default:return null}},t.getStringForPermission=function(e,t){switch(e){case y.Permissions.CREATE_INSTANT_INVITE:return m.default.Messages.CREATE_INSTANT_INVITE;case y.Permissions.KICK_MEMBERS:return m.default.Messages.KICK_MEMBERS;case y.Permissions.BAN_MEMBERS:return m.default.Messages.BAN_MEMBERS;case y.Permissions.ADMINISTRATOR:return m.default.Messages.ADMINISTRATOR;case y.Permissions.MANAGE_CHANNELS:return t.targetType===y.AuditLogTargetTypes.CHANNEL?m.default.Messages.MANAGE_CHANNEL:m.default.Messages.MANAGE_CHANNELS;case y.Permissions.MANAGE_GUILD:return m.default.Messages.MANAGE_SERVER;case y.Permissions.CHANGE_NICKNAME:return m.default.Messages.CHANGE_NICKNAME;case y.Permissions.MANAGE_NICKNAMES:return m.default.Messages.MANAGE_NICKNAMES;case y.Permissions.MANAGE_ROLES:return m.default.Messages.MANAGE_ROLES;case y.Permissions.MANAGE_WEBHOOKS:return m.default.Messages.MANAGE_WEBHOOKS;case y.Permissions.MANAGE_EMOJIS:return m.default.Messages.MANAGE_EMOJIS;case y.Permissions.VIEW_AUDIT_LOG:return m.default.Messages.VIEW_AUDIT_LOG;case y.Permissions.VIEW_CHANNEL:return m.default.Messages.READ_MESSAGES;case y.Permissions.SEND_MESSAGES:return m.default.Messages.SEND_MESSAGES;case y.Permissions.SEND_TSS_MESSAGES:return m.default.Messages.SEND_TTS_MESSAGES;case y.Permissions.MANAGE_MESSAGES:return m.default.Messages.MANAGE_MESSAGES;case y.Permissions.EMBED_LINKS:return m.default.Messages.EMBED_LINKS;case y.Permissions.ATTACH_FILES:return m.default.Messages.ATTACH_FILES;case y.Permissions.READ_MESSAGE_HISTORY:return m.default.Messages.READ_MESSAGE_HISTORY;case y.Permissions.MENTION_EVERYONE:return m.default.Messages.MENTION_EVERYONE;case y.Permissions.USE_EXTERNAL_EMOJIS:return m.default.Messages.USE_EXTERNAL_EMOJIS;case y.Permissions.ADD_REACTIONS:return m.default.Messages.ADD_REACTIONS;case y.Permissions.CONNECT:return m.default.Messages.CONNECT;case y.Permissions.SPEAK:return m.default.Messages.SPEAK;case y.Permissions.MUTE_MEMBERS:return m.default.Messages.MUTE_MEMBERS;case y.Permissions.DEAFEN_MEMBERS:return m.default.Messages.DEAFEN_MEMBERS;case y.Permissions.MOVE_MEMBERS:return m.default.Messages.MOVE_MEMBERS;case y.Permissions.USE_VAD:return m.default.Messages.USE_VAD;case y.Permissions.PRIORITY_SPEAKER:return m.default.Messages.PRIORITY_SPEAKER;case y.Permissions.STREAM:return m.default.Messages.STREAM}return null},t.transformLogs=function(e,t){var n=[];return e.forEach(function(e){var r=function(e,t){switch(e.targetType){case y.AuditLogTargetTypes.GUILD:return t;case y.AuditLogTargetTypes.CHANNEL:return T(e,y.AuditLogChangeKeys.NAME,function(e){return d.default.getChannel(e)},function(e){return e.toString(!0)});case y.AuditLogTargetTypes.USER:return T(e,y.AuditLogChangeKeys.NICK,function(e){return p.default.getUser(e)},function(e){return e});case y.AuditLogTargetTypes.ROLE:return T(e,y.AuditLogChangeKeys.NAME,function(e){return t.getRole(e)},function(e){return e.name});case y.AuditLogTargetTypes.INVITE:return T(e,y.AuditLogChangeKeys.CODE,y.NOOP_NULL,function(e){return e.code});case y.AuditLogTargetTypes.WEBHOOK:return T(e,y.AuditLogChangeKeys.NAME,function(e){return c.default.webhooks.find(function(t){return t.id===e})},function(e){return e.name});case y.AuditLogTargetTypes.EMOJI:return T(e,y.AuditLogChangeKeys.NAME,function(e){return f.default.getGuildEmoji(t.id).find(function(t){return t.id===e})},function(e){return e.name});default:return console.warn("[GuildSettingsAuditLog] Unknown targetType for log",e),null}}(e,t),o=p.default.getUser(e.userId);if((null!=r||e.action===y.AuditLogActions.MEMBER_PRUNE)&&null!=o){if(null!=(e=(e=(e=e.set("user",o)).set("target",r)).set("options",function(e){if(null!=e.options){var t=l({},e.options);switch(e.options.type){case y.AuditLogSubtargetTypes.USER:t.subtarget=I(e.options.id,function(e){return p.default.getUser(e)},function(e){return e.toString()});break;case y.AuditLogSubtargetTypes.ROLE:t.subtarget=I(e.options.role_name,y.NOOP_NULL)}return null!=e.options.channel_id&&(t.channel=T(e,"",function(e){return d.default.getChannel(e)},function(e){return e},e.options.channel_id)),e.options.members_removed&&(t.count=e.options.members_removed),t}return e.options}(e))).changes){var a=[];e.changes.forEach(function(e){var t=function(e){switch(e.key){case y.AuditLogChangeKeys.OWNER_ID:return S(e,function(e){return p.default.getUser(e)});case y.AuditLogChangeKeys.AFK_CHANNEL_ID:return S(e,function(e){return d.default.getChannel(e)},function(e){return e.toString(!0)});case y.AuditLogChangeKeys.AFK_TIMEOUT:return S(e,function(e){return e/60});case y.AuditLogChangeKeys.SYSTEM_CHANNEL_ID:return S(e,function(e){return d.default.getChannel(e)},function(e){return e.toString(!0)});case y.AuditLogChangeKeys.BITRATE:return S(e,function(e){return e/1e3});case y.AuditLogChangeKeys.COLOR:return S(e,function(e){return(0,u.int2hex)(e).toUpperCase()});case y.AuditLogChangeKeys.MAX_AGE:return S(e,function(e){var t=h.default.getMaxAgeOptions.find(function(t){var n=t.value;return e===n});return t?t.label:e});case y.AuditLogChangeKeys.CHANNEL_ID:return S(e,function(e){return d.default.getChannel(e)},function(e){return e.toString(!0)});case y.AuditLogChangeKeys.PERMISSIONS:var t=[],n=g(e.oldValue,e.newValue),r=n.added,o=n.removed;if(r.length>0){var a=new s.AuditLogChange(y.AuditLogChangeKeys.PERMISSIONS_GRANTED,null,r);t.push(a)}if(o.length){var i=new s.AuditLogChange(y.AuditLogChangeKeys.PERMISSIONS_DENIED,null,o);t.push(i)}return t;case y.AuditLogChangeKeys.PERMISSIONS_GRANTED:case y.AuditLogChangeKeys.PERMISSIONS_DENIED:var l=[],f=g(e.oldValue,e.newValue),c=f.added;if(c.length>0){var m=new s.AuditLogChange(e.key,null,c);l.push(m)}return l}return e}(e);Array.isArray(t)?t.forEach(function(e){return a.push(e)}):a.push(t)}),e=e.set("changes",a)}n.push(e)}}),n};var u=n(231),s=n(6354),d=v(n(22)),f=v(n(235)),c=v(n(6353)),p=v(n(15)),h=v(n(229)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var _=t.DEFAULT_FOR_STRINGS_KEY=-1,E=function(){var e;return(e={})[y.AuditLogChangeKeys.REASON]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e};t.GuildChangeStrings=function(){var e,t,n,r,o;return l(((o={})[y.AuditLogChangeKeys.NAME]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_NAME_CHANGE,o[y.AuditLogChangeKeys.DESCRIPTION]=N(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CLEAR,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CHANGE),o[y.AuditLogChangeKeys.ICON_HASH]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_ICON_HASH_CHANGE,o[y.AuditLogChangeKeys.SPLASH_HASH]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SPLASH_HASH_CHANGE,o[y.AuditLogChangeKeys.BANNER_HASH]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_BANNER_HASH_CHANGE,o[y.AuditLogChangeKeys.OWNER_ID]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_OWNER_ID_CHANGE,o[y.AuditLogChangeKeys.REGION]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_REGION_CHANGE,o[y.AuditLogChangeKeys.AFK_CHANNEL_ID]=N(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CLEAR,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CHANGE),o[y.AuditLogChangeKeys.AFK_TIMEOUT]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_TIMEOUT_CHANGE,o[y.AuditLogChangeKeys.SYSTEM_CHANNEL_ID]=N(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_DISABLE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_CHANGE),o[y.AuditLogChangeKeys.MFA_LEVEL]=((e={})[y.MFALevels.NONE]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_DISABLED,e[y.MFALevels.ELEVATED]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_ENABLED,e),o[y.AuditLogChangeKeys.WIDGET_ENABLED]={true:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_ENABLED,false:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_DISABLED},o[y.AuditLogChangeKeys.WIDGET_CHANNEL_ID]=N(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_DELETE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_CHANGE),o[y.AuditLogChangeKeys.VERIFICATION_LEVEL]=((t={})[y.VerificationLevels.NONE]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_NONE,t[y.VerificationLevels.LOW]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_LOW,t[y.VerificationLevels.MEDIUM]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_MEDIUM,t[y.VerificationLevels.HIGH]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_HIGH,t[y.VerificationLevels.VERY_HIGH]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_VERY_HIGH,t),o[y.AuditLogChangeKeys.DEFAULT_MESSAGE_NOTIFICATIONS]=((n={})[y.UserNotificationSettings.ALL_MESSAGES]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ALL_MESSAGES,n[y.UserNotificationSettings.ONLY_MENTIONS]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ONLY_MENTIONS,n),o[y.AuditLogChangeKeys.VANITY_URL_CODE]=N(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_DELETE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_CHANGE),o[y.AuditLogChangeKeys.EXPLICIT_CONTENT_FILTER]=((r={})[y.GuildExplicitContentFilterTypes.DISABLED]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_DISABLE,r[y.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_MEMBERS_WITHOUT_ROLES,r[y.GuildExplicitContentFilterTypes.ALL_MEMBERS]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_ALL_MEMBERS,r),o),E())},t.ChannelChangeStrings=function(){var e;return(e={})[y.AuditLogChangeKeys.NAME]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CHANGE),e[y.AuditLogChangeKeys.POSITION]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CHANGE),e[y.AuditLogChangeKeys.TOPIC]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CHANGE),e[y.AuditLogChangeKeys.BITRATE]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CHANGE),e[y.AuditLogChangeKeys.RATE_LIMIT_PER_USER]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CHANGE),e[y.AuditLogChangeKeys.PERMISSIONS_GRANTED]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_GRANTED,e[y.AuditLogChangeKeys.PERMISSIONS_DENIED]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_DENIED,e[y.AuditLogChangeKeys.REASON]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e[y.AuditLogChangeKeys.NSFW]={false:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_DISABLED,true:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_ENABLED},e},t.UserChangeStrings=function(){var e,t,n,r,o;return l(((e={})[y.AuditLogChangeKeys.NICK]=(t=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CHANGE,n=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CREATE,r=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_DELETE,function(e){return null!=e.newValue&&null!=e.oldValue?t:null!=e.newValue?n:null!=e.oldValue?r:o}),e[y.AuditLogChangeKeys.DEAF]={true:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_ON,false:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_OFF},e[y.AuditLogChangeKeys.MUTE]={true:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_ON,false:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_OFF},e[y.AuditLogChangeKeys.ROLES_REMOVE]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_REMOVE,e[y.AuditLogChangeKeys.ROLES_ADD]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_ADD,e[y.AuditLogChangeKeys.PRUNE_DELETE_DAYS]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE_DELETE_DAYS,e),E())},t.RoleChangeStrings=function(){var e,t;return l(((t={})[y.AuditLogChangeKeys.NAME]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CHANGE),t[y.AuditLogChangeKeys.PERMISSIONS_GRANTED]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_GRANTED,t[y.AuditLogChangeKeys.PERMISSIONS_DENIED]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_DENIED,t[y.AuditLogChangeKeys.COLOR]=((e={"#000000":m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR_NONE})[_]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR,e),t[y.AuditLogChangeKeys.HOIST]={true:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_ON,false:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_OFF},t[y.AuditLogChangeKeys.MENTIONABLE]={true:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_ON,false:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_OFF},t),E())},t.InviteChangeStrings=function(){var e,t,n;return l(((n={})[y.AuditLogChangeKeys.CODE]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CODE_CREATE,n[y.AuditLogChangeKeys.CHANNEL_ID]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CHANNEL_CREATE,n[y.AuditLogChangeKeys.MAX_USES]=((e={0:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE_INFINITE})[_]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE,e),n[y.AuditLogChangeKeys.MAX_AGE]=((t={0:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE_INFINITE})[_]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE,t),n[y.AuditLogChangeKeys.TEMPORARY]={true:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_ON,false:m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_OFF},n),E())},t.WebhookChangeStrings=function(){var e;return(e={})[y.AuditLogChangeKeys.CHANNEL_ID]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CHANGE),e[y.AuditLogChangeKeys.NAME]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CHANGE),e[y.AuditLogChangeKeys.AVATAR_HASH]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_AVATAR,e[y.AuditLogChangeKeys.REASON]=m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e},t.EmojiChangeStrings=function(){var e;return l(((e={})[y.AuditLogChangeKeys.NAME]=C(m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CREATE,m.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CHANGE),e),E())},t.NotRenderedChanges=((i={})[y.AuditLogTargetTypes.CHANNEL]=((r={})[y.AuditLogChangeKeys.TYPE]=!0,r[y.AuditLogChangeKeys.ID]=!0,r[y.AuditLogChangeKeys.PERMISSION_OVERWRITES]=!0,r),i[y.AuditLogTargetTypes.INVITE]=((o={})[y.AuditLogChangeKeys.INVITER_ID]=!0,o[y.AuditLogChangeKeys.USES]=!0,o),i[y.AuditLogTargetTypes.WEBHOOK]=((a={})[y.AuditLogChangeKeys.TYPE]=!0,a[y.AuditLogChangeKeys.APPLICATION_ID]=!0,a),i),t.ACTION_FILTER_ITEMS=function(){return[{value:y.AuditLogActions.ALL,label:m.default.Messages.GUILD_SETTINGS_FILTER_ALL_ACTIONS,valueLabel:m.default.Messages.GUILD_SETTINGS_FILTER_ALL},{value:y.AuditLogActions.GUILD_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_GUILD_UPDATE},{value:y.AuditLogActions.CHANNEL_CREATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_CREATE},{value:y.AuditLogActions.CHANNEL_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_UPDATE},{value:y.AuditLogActions.CHANNEL_DELETE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_DELETE},{value:y.AuditLogActions.CHANNEL_OVERWRITE_CREATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_CREATE},{value:y.AuditLogActions.CHANNEL_OVERWRITE_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_UPDATE},{value:y.AuditLogActions.CHANNEL_OVERWRITE_DELETE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_DELETE},{value:y.AuditLogActions.MEMBER_KICK,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_KICK},{value:y.AuditLogActions.MEMBER_PRUNE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_PRUNE},{value:y.AuditLogActions.MEMBER_BAN_ADD,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_ADD},{value:y.AuditLogActions.MEMBER_BAN_REMOVE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_REMOVE},{value:y.AuditLogActions.MEMBER_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_UPDATE},{value:y.AuditLogActions.MEMBER_ROLE_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_ROLE_UPDATE},{value:y.AuditLogActions.ROLE_CREATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_CREATE},{value:y.AuditLogActions.ROLE_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_UPDATE},{value:y.AuditLogActions.ROLE_DELETE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_DELETE},{value:y.AuditLogActions.INVITE_CREATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_CREATE},{value:y.AuditLogActions.INVITE_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_UPDATE},{value:y.AuditLogActions.INVITE_DELETE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_DELETE},{value:y.AuditLogActions.WEBHOOK_CREATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_CREATE},{value:y.AuditLogActions.WEBHOOK_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_UPDATE},{value:y.AuditLogActions.WEBHOOK_DELETE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_DELETE},{value:y.AuditLogActions.EMOJI_CREATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_CREATE},{value:y.AuditLogActions.EMOJI_UPDATE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_UPDATE},{value:y.AuditLogActions.EMOJI_DELETE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_DELETE},{value:y.AuditLogActions.MESSAGE_DELETE,label:m.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_DELETE}]};function g(e,t){var n="number"==typeof e?e:0,r="number"==typeof t?t:0,o=r&~n,a=n&~r,i=[],l=[];for(var u in y.Permissions){var s=+y.Permissions[u];(o&s)===s&&i.push(s),(a&s)===s&&l.push(s)}return{added:i,removed:l}}function S(e,t,n){var r=e.newValue,o=e.oldValue;return null!=e.newValue&&(r=t(e.newValue),null!=n&&null!=r&&(r=n(r))),null!=e.oldValue&&(o=t(e.oldValue),null!=n&&null!=o&&(o=n(o))),new s.AuditLogChange(e.key,o||e.oldValue,r||e.newValue)}function T(e,t,n,r,o){var a=null,i=n(o=o||e.targetId);if(null!=i&&(a=r(i)),null==a){var l=c.default.deletedTargets[e.targetType];null!=l&&l[o]&&(a=l[o])}if(null==a&&null!=e.changes){var u=e.changes.find(function(e){return e.key===t});null!=u&&(a=u.newValue||u.oldValue)}return a||e.targetId}function I(e,t,n){var r=e,o=t(e);return null!=o&&null!=n&&(r=n(o)),r}function C(e,t){return function(n){return null==n.oldValue?e:t}}function N(e,t){return function(n){return null==n.newValue?e:t}}},6570:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(830)),u=h(n(827)),s=h(n(6439)),d=h(n(6751)),f=h(n(313)),c=h(n(13)),p=h(n(5613));function h(e){return e&&e.__esModule?e:{default:e}}var y=a(s.default.Divider,{}),m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.renderPopout=r.renderPopout.bind(r),r.renderItems=r.renderItems.bind(r),r.handleChange=r.handleChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderItems=function(){var e=this,t=this.props,n=t.items,r=t.renderItem;return 0===n.length?a(s.default.Empty,{},void 0,c.default.Messages.NONE):a(f.default,{track:!0,className:p.default.scroller,theme:f.default.Themes.GHOST_HAIRLINE},void 0,n.map(function(t,n){return null!=r?r(t,n):i.createElement(s.default.Item,o({key:n},t,{onClick:e.handleChange}))}))},t.prototype.renderPopout=function(e){var t=this.props,n=t.searchProps,r=t.popoutClassName;return i.createElement(s.default,o({},e,{className:r}),i.createElement(s.default.SearchBar,n),y,this.renderItems())},t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutId,f=e.popoutProps;return i.createElement(u.default,o({},f,{uniqueId:s,render:this.renderPopout}),a("div",{className:l},void 0,a(d.default,{label:t,value:n,renderValue:r})))},t.prototype.handleChange=function(e){var t=this.props,n=t.popoutId,r=t.onChange;l.default.close(n),r&&r(e)},t}(i.PureComponent);m.displayName="SearchableQuickSelectWrapper",t.default=m,e.exports=t.default},6571:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(6169))),i=n(0),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.name,n=e.icon,r=e.makeURL,u=e.onChange,s=e.disabled,d=e.showIcon,f=e.className,c=e.avatarClassName;return o(a.default,{name:t,avatar:n,size:i.AVATAR_MAX_SIZE,makeURL:r,onChange:u,disabled:s,hint:l.default.Messages.CHANGE_ICON,showIcon:d,className:f,avatarClassName:c})},e.exports=t.default},6573:function(e,t,n){e.exports=n.p+"ffc8cce621d39fcac0e58a1c834605d0.svg"},6574:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=P(n(8)),l=P(n(80)),u=P(n(6185)),s=n(111),d=P(s),f=P(n(153)),c=P(n(311)),p=P(n(128)),h=P(n(152)),y=P(n(222)),m=P(n(5995)),v=P(n(828)),_=P(n(836)),E=P(n(448)),g=n(445),S=P(g),T=P(n(110)),I=n(82),C=P(n(314)),N=P(n(6169)),A=P(n(6393)),O=P(n(6092)),b=n(0),M=P(n(13)),R=P(n(5635));function P(e){return e&&e.__esModule?e:{default:e}}var L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r.handleChannelChange=r.handleChannelChange.bind(r),r.handleAvatarChange=r.handleAvatarChange.bind(r),r.handleNameChange=r.handleNameChange.bind(r),r.handleSaveWebhook=r.handleSaveWebhook.bind(r);var o=n.webhook,a=o.name,i=o.channel_id,l=o.avatar;return r.state={name:a,channelId:i,avatar:l,submitting:!1,errors:{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleNameChange=function(e){this.setState({name:e})},t.prototype.handleAvatarChange=function(e){this.setState({avatar:e})},t.prototype.handleChannelChange=function(e){var t=e.value;this.setState({channelId:t})},t.prototype.handleSaveWebhook=function(){var e=this,t=this.state,n=t.avatar,r=t.name,o=t.channelId,a=this.props.webhook,i={name:r,channel_id:o};n!==a.avatar&&(i.avatar=n),this.setState({submitting:!0},function(){u.default.update(a.guild_id,a.id,i).then(function(){l.default.pop()}).catch(function(t){var n=t.body;e.setState({errors:n,submitting:!1})})})},t.prototype.getWebhookURL=function(){var e=this.props.webhook,t=e.id,n=e.token;return""+i.default.getAPIBaseURL(!1)+b.Endpoints.WEBHOOK_INTEGRATION(t,n)},t.prototype.renderNameChannel=function(){var e=this.props.webhook,t=this.state,n=t.name,r=t.channelId,a=t.errors,i=d.default.getChannels(e.guild_id)[s.GUILD_SELECTABLE_CHANNELS_KEY].filter(function(e){var t=e.channel;return f.default.can(b.Permissions.MANAGE_WEBHOOKS,{channelId:t.id})}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString(!0)}});return o(h.default,{},void 0,o(h.default.Child,{basis:"50%"},void 0,o(E.default,{title:M.default.Messages.WEBHOOK_FORM_NAME},void 0,o(v.default,{value:n,onChange:this.handleNameChange,error:a.name}))),o(h.default.Child,{basis:"50%"},void 0,o(E.default,{title:M.default.Messages.CHANNEL},void 0,o(m.default,{value:r,clearable:!1,searchable:!1,options:i,onChange:this.handleChannelChange}))))},t.prototype.renderAvatar=function(){var e=this.props.webhook.id,t=this.state,n=t.avatar,r=t.errors;return o(E.default,{title:M.default.Messages.WEBHOOK_MODAL_ICON_TITLE,className:R.default.container},void 0,o(h.default,{},void 0,o(h.default.Child,{},void 0,o(S.default,{type:g.Types.DESCRIPTION},void 0,M.default.Messages.WEBHOOK_MODAL_ICON_DESCRIPTION),o(p.default,{look:p.default.Looks.OUTLINED,color:p.default.Colors.PRIMARY,className:R.default.uploadButton},void 0,M.default.Messages.UPLOAD_IMAGE,o(O.default,{onChange:this.handleAvatarChange}))),o(h.default.Child,{wrap:!0,grow:0},void 0,o(N.default,{avatar:n,size:b.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,makeURL:function(){return(0,I.getUserAvatarURL)({id:e,avatar:n,discriminator:b.NON_USER_BOT_DISCRIMINATOR})},avatarClassName:R.default.avatarUploaderInner}),r.avatar?o("div",{},void 0,r.avatar):null)))},t.prototype.renderURL=function(){return o(h.default.Child,{className:R.default.urlContainer},void 0,o(E.default,{title:M.default.Messages.WEBHOOK_FORM_URL},void 0,o(A.default,{value:this.getWebhookURL(),className:R.default.copyInput}),o(S.default,{type:g.Types.DESCRIPTION},void 0,o(c.default,{href:C.default.getArticleURL(b.HelpdeskArticles.WEBHOOKS_INTRODUCTION)},void 0,M.default.Messages.WEBHOOK_FORM_WEBHOOK_URL_HELP))))},t.prototype.render=function(){return o(y.default,{size:R.default.size},void 0,o(y.default.Header,{},void 0,o(T.default,{tag:T.default.Tags.H4},void 0,M.default.Messages.WEBHOOK_MODAL_TITLE)),o(y.default.Content,{},void 0,this.renderNameChannel(),o(_.default,{className:R.default.divider}),this.renderAvatar(),o(_.default,{className:R.default.divider}),this.renderURL()),o(y.default.Footer,{},void 0,o(p.default,{submitting:this.state.submitting,onClick:this.handleSaveWebhook},void 0,M.default.Messages.SAVE),o(p.default,{color:p.default.Colors.GREY,look:p.default.Looks.LINK,onClick:this.props.onClose},void 0,M.default.Messages.CANCEL)))},t}(a.PureComponent);L.displayName="WebhookModal",t.default=L,e.exports=t.default},6575:function(e,t,n){"use strict";t.__esModule=!0,t.areTypesInSameSection=s,t.getDropData=function(e,t,n,r,a){if(null==e||null==n)return null;var i=u.ChannelTypes.GUILD_CATEGORY;if(e.type===i)return r===t||r<t&&e.type===n.type?c(n):r>t?function(e,t,n){var r=u.ChannelTypes.GUILD_CATEGORY,o=n[(f(t,n,!0)||0)+1],a=d(-1,t.id,e.type,n);if(null==a||a&&a.channel.id===e.id)return null;if(null==o||o.channel.type===r)return{referenceId:a.channel.id,parentId:null};return null}(e,n,a):null;if(s(e.type,n.type))return c(n);if(r<t)return n.type===i?function(e,t,n){var r=u.ChannelTypes.GUILD_CATEGORY,a=u.ChannelTypes.GUILD_VOICE,i=n[(f(t,n,!0)||0)-1],l=d(1,t.id,e.type,n);if(null==i)return{referenceId:null,parentId:null};if(null!=l){if(s(i.channel.type,e.type)||e.type===a&&(0,o.isGuildSelectableChannelType)(i.channel.type))return{referenceId:l.channel.id,parentId:i.channel.parent_id};if(i.channel.type===r)return{referenceId:l.channel.id,parentId:i.channel.id}}return null}(e,n,a):function(e,t,n){var r=u.ChannelTypes.GUILD_CATEGORY,a=u.ChannelTypes.GUILD_VOICE,i=n[(f(t,n,!0)||0)-1],l=d(1,t.id,e.type,n);if(null==i&&e.type!==a)return{referenceId:null!=l?l.channel.id:null,parentId:null};if((0,o.isGuildSelectableChannelType)(e.type)&&null!=l&&((0,o.isGuildSelectableChannelType)(i.channel.type)||i.channel.type===r))return{referenceId:l.channel.id,parentId:t.parent_id};return null}(e,n,a);if(n.type===i)return function(e,t,n){var r=u.ChannelTypes.GUILD_CATEGORY,a=u.ChannelTypes.GUILD_VOICE,i=n[(f(t,n,!0)||0)+1],l=d(-1,t.id,e.type,n);if(null!=l){if(null==i)return{referenceId:l.channel.id,parentId:t.id};if(s(i.channel.type,e.type)||(0,o.isGuildSelectableChannelType)(e.type)&&i.channel.type===a)return{referenceId:l.channel.id,parentId:i.channel.parent_id};if(i.channel.type===r)return{referenceId:l.channel.id,parentId:t.id}}return null}(e,n,a);return function(e,t,n){var r=u.ChannelTypes.GUILD_CATEGORY,o=u.ChannelTypes.GUILD_VOICE,a=n[(f(t,n,!0)||0)+1],i=d(-1,t.id,e.type,n);if(null==i)return null;if(e.type===o){if(null==a||a.channel.type===r)return{referenceId:i.channel.id,parentId:t.parent_id};if(a.channel.type===o)return{referenceId:i.channel.id,parentId:a.channel.parent_id}}if(e.type===r&&(null==a||a.channel.type===r))return{referenceId:i.channel.id,parentId:null};return null}(e,n,a)},t.getDnDUpdates=function(e,t,n,r){var i=u.ChannelTypes.GUILD_CATEGORY,s=u.ChannelTypes.GUILD_VOICE,d=[],c=[],p=r._categories,h=void 0,y=void 0,m=function(t){var n=void 0;return n=null!=h&&null!=y&&function(e,t,n,r){if(null!=t&&null!=n&&null!=r[t]&&r[t].channel===e&&null!=r[n])return!0;return!1}(e,h,y,t)?l.default.moveItemFromTo(t,h,y):[].concat(t),d=d.concat(l.default.calculatePositionDeltas(t,n,function(e){var t=e.channel;return t.id},function(e){var t=e.channel;return t.position})),n};if(e.type===i){var v=[].concat(p).slice(1);h=f(e,v),y=f(t,v),(c=m(v)).unshift(p[0])}if((0,o.isGuildSelectableChannelType)(e.type)||e.type===i){var _=(0,a.getFlattenedChannelList)(c.length?c:p,r,function(e){var t=e.channel.type;return(0,o.isGuildSelectableChannelType)(t)});h=f(e,_),y=f(t,_),m(_)}if(e.type===s||e.type===i){var E=(0,a.getFlattenedChannelList)(c.length?c:p,r,function(e){var t=e.channel.type;return t===s});h=f(e,E),y=f(t,E),m(E)}if(e.parent_id!==n){var g=!1;d.find(function(t){return t.id===e.id&&(t.parent_id=n,g=!0)}),g||d.push({id:e.id,parent_id:n})}return d};var r,o=n(131),a=n(454),i=n(914),l=(r=i)&&r.__esModule?r:{default:r},u=n(0);function s(e,t){return null!=e&&null!=t&&(e===t||(0,o.isGuildSelectableChannelType)(e)&&(0,o.isGuildSelectableChannelType)(t))}function d(e,t,n,r){var o=-1;if(r.find(function(e,n){return e.channel.id===t&&(o=n,!0)}),o<0)return null;for(var a=o;a>=0&&a<r.length;a+=e){var i=r[a];if(s(i.channel.type,n))return i}return null}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return 0;var r=null;return t.filter(function(t){var r=t.channel.type;return null!=e&&(n||s(e.type,r))}).find(function(t,n){var o=t.channel.id;return null!=e&&o===e.id&&(r=n,!0)}),r}function c(e){return{referenceId:e.id,parentId:e.parent_id}}},6576:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(6208)),s=c(n(310)),d=c(n(306)),f=c(n(5642));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={friction:10,tension:300},v=function(e){function t(n){p(this,t);var r=h(this,e.call(this,n));return r.state={translateY:new s.default.Value},r}return y(t,e),t.prototype.componentDidMount=function(){this.props.hide?this.state.translateY.setValue(1):this.state.translateY.setValue(0)},t.prototype.componentDidUpdate=function(e){var t=e.hide,n=this.props.hide;n&&!t?this.animateOut():!n&&t&&this.animateIn()},t.prototype.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},t.prototype.animateIn=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?this._timeout=setTimeout(function(){s.default.spring(e,a({toValue:0},m)).start()},100):e.setValue(0)},t.prototype.animateOut=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?s.default.spring(e,a({toValue:1},m)).start():e.setValue(1)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.text,r=e.reverse,a=e.onClick;return o(s.default.div,{className:(0,l.default)(f.default.bar,t),onClick:a,style:this.getAnimatedStyle()},void 0,n,o(d.default,{name:r?d.default.Names.ARROW_DOWN:d.default.Names.ARROW_UP,className:f.default.icon}))},t.prototype.getAnimatedStyle=function(){var e=this.state.translateY,t=this.props.reverse;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"150%":"-150%"]})}]}},t}(i.PureComponent);v.displayName="Bar";var _=40,E=function(e){function t(n){p(this,t);var r=h(this,e.call(this,n));return r.calculateState=(0,u.default)(function(){for(var e=r.props,t=e.items,n=e.isVisible,o=e.isUnread,a=e.isMentioned,i=e.reverse,l=e.onCalculate,u=null,s=null,d=i?t.length-1:0,f=t[d];null!=f&&!n(f,i,t);)null==u&&a(f,i,t)&&(u=f),null==s&&o(f,i,t)&&(s=f),f=t[d+=i?-1:1];null!=l&&l(u,s,i),r.setState({shouldCalculate:!1,mention:u,unread:s})},_),r.handleClick=function(e){e.preventDefault(),e.stopPropagation();var t=r.state,n=t.unread,o=t.mention,a=r.props.onJumpTo,i=o||n;null!=i&&a(i,[o,n])},r.state={shouldCalculate:!0,unread:null,mention:null},r}return y(t,e),t.prototype.componentDidMount=function(){this.calculateState()},t.prototype.componentDidUpdate=function(){this.state.shouldCalculate&&this.calculateState()},t.prototype.componentWillUnmount=function(){this.calculateState.cancel()},t.prototype.UNSAFE_componentWillReceiveProps=function(){this.setState({shouldCalculate:!0})},t.prototype.render=function(){var e=this.state,t=e.unread,n=e.mention,r=this.props,a=r.textMention,i=r.textUnread,u=r.reverse,s=r.className,d=r.barClassName,c=r.hide,p=r.animate;return o("div",{className:s},void 0,o(v,{hide:!0===c||null==t&&null==n,className:(0,l.default)(d,null!=n?f.default.mention:f.default.unread),text:null!=n?a:i,reverse:u,animate:p,onClick:this.handleClick}))},t}(i.Component);E.defaultProps={className:f.default.container,reverse:!1,hide:!1,animate:!0},E.displayName="UnreadBar",t.default=E,e.exports=t.default},6577:function(e,t,n){"use strict";t.__esModule=!0,t.makeVoiceUserDroppable=function(e){return(0,r.DropTarget)(s,{canDrop:function(e){var t=e.channel,n=a.default.getCurrentUser();return i.default.can(l.Permissions.MOVE_MEMBERS,n,t)&&i.default.can(l.Permissions.CONNECT,n,t)},drop:function(e,t){var n=e.channel;o.default.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},function(e,t){return{connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}})(e)},t.makeVoiceUserDraggable=function(e){return(0,r.DragSource)(s,{canDrag:function(e){var t=e.canDrag;return t},beginDrag:function(e){var t=e.user;return{user:t}}},function(e){return{connectUserDragSource:e.dragSource()}})(e)};var r=n(897),o=u(n(832)),a=u(n(15)),i=u(n(100)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s="DRAGGABLE_USER"},6578:function(e,t,n){"use strict";t.__esModule=!0,t.CreateJoinGuildButton=t.AppDownloadButton=t.UnavailableGuildsButton=t.FriendsOnline=t.CircleIconButton=t.Separator=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(311)),u=h(n(221)),s=h(n(442)),d=n(6042),f=h(d),c=h(n(13)),p=h(n(5649));function h(e){return e&&e.__esModule?e:{default:e}}var y=t.Separator=function(){return o("div",{className:p.default.guildSeparator})};y.displayName="Separator";var m=t.CircleIconButton=function(e){var t,n=e.onClick,r=e.onContextMenu,a=e.children,l=e.selected;return o(u.default,{className:(0,i.default)((t={},t[p.default.circleIconButton]=!0,t[p.default.circleButtonSelected]=l,t)),onClick:n,onContextMenu:r},void 0,a)};m.displayName="CircleIconButton",(t.FriendsOnline=function(e){var t=e.onlineFriendCount;return o("div",{className:p.default.friendsOnline},void 0,c.default.Messages.FRIENDS_ONLINE.format({n:t}))}).displayName="FriendsOnline";t.UnavailableGuildsButton=function(e){var t=e.unavailableGuilds;return t>0?o("div",{className:p.default.guildsErrorContainer},void 0,o(s.default,{text:c.default.Messages.PARTIAL_OUTAGE.format({count:t}),position:s.default.Positions.RIGHT,color:s.default.Colors.RED},void 0,o(l.default,{href:"//twitter.com/discordapp",target:"_blank",className:p.default.guildsError},void 0,"!"))):null};var v=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50"},void 0,o("defs",{},void 0,o("circle",{id:"a",cx:"25",cy:"25",r:"25"}),o("mask",{id:"b",width:"50",height:"50",x:"0",y:"0",fill:"#fff"},void 0,o("use",{xlinkHref:"#a"}))),o("g",{fill:"none",fillRule:"evenodd"},void 0,o("use",{fill:"#2f3136",stroke:"#FFF",strokeOpacity:".1",strokeWidth:"4",mask:"url(#b)",xlinkHref:"#a"}),o("path",{fill:"#FFF",d:"M17 35v2h16v-2",opacity:".30000001"}),o("path",{fill:"#43B581",d:"M31.59 23.59L26 29.17V13h-2v16.17l-5.58-5.59L17 25l8 8 8-8"}))),_=function(){return v};_.displayName="AppDownloadIcon";var E=o(y,{}),g=o(_,{});t.AppDownloadButton=function(e){var t=e.disable,n=e.onClick;return t?null:o(a.Fragment,{},void 0,E,o(u.default,{onClick:n,className:p.default.downloadAppButton},void 0,g,c.default.Messages.DOWNLOAD_APPS))};(t.CreateJoinGuildButton=function(e){var t=e.isOwnerOfAny,n=e.disableTooltip,r=e.onContextMenu,a=e.onClick,i=o(s.default,{text:c.default.Messages.ADD_A_SERVER,position:s.default.Positions.RIGHT},void 0,o("div",{className:p.default.createJoinContainer},void 0,o(m,{onClick:a,onContextMenu:r},void 0,o("span",{className:p.default.plus},void 0,"+"))));return n?i:o(f.default,{tutorialId:t?"create-more-servers":"create-first-server",position:d.TutorialIndicatorPositions.RIGHT,offsetX:-18,offsetY:-18,autoOpen:!1},void 0,i)}).displayName="CreateJoinGuildButton"},6579:function(e,t,n){"use strict";t.__esModule=!0,t.keySection=h,t.parseSection=function(e){var t=e.split(":"),n=t[0],r=t[1];return{context:n,section:r}};var r=s(n(4)),o=n(57),a=n(81),i=s(n(1)),l=s(n(46)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=h(o.MediaEngineContextTypes.DEFAULT,u.RTCDebugSections.TRANSPORT),f=d,c={},p=new a.Interval;function h(e,t){return e+":"+t}function y(){Object.values(o.MediaEngineContextTypes).forEach(function(e){var t=e;l.default.getMediaEngine().eachConnection(function(e){e.getStats().then(function(e){i.default.dispatch({type:u.ActionTypes.RTC_DEBUG_MODAL_UPDATE,stats:e,context:t})})},t)})}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSection=function(){return f},t.prototype.getStats=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.MediaEngineContextTypes.DEFAULT;return c[e]},t}(r.default.Store);t.default=new m(i.default,{RTC_DEBUG_MODAL_OPEN:function(e){f=e.section||d,c={},y(),p.start(1e3,y)},RTC_DEBUG_MODAL_CLOSE:function(e){return p.stop(),void(c={})},RTC_DEBUG_MODAL_SET_SECTION:function(e){f=e.section},RTC_DEBUG_MODAL_UPDATE:function(e){var t=e.context,n=e.stats;c[t]=n}})},6580:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=b(n(2)),i=O(n(4)),l=O(n(1)),u=n(482),s=n(6032),d=b(n(329)),f=O(n(333)),c=O(n(90)),p=O(n(459)),h=O(n(6109)),y=O(n(128)),m=O(n(152)),v=O(n(5988)),_=O(n(6018)),E=O(n(45)),g=n(6004),S=n(133),T=O(n(6159)),I=O(n(6160)),C=n(0),N=O(n(13)),A=O(n(5376));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=function(){return[N.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_1,N.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_2,N.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_3,N.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_4]},P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=M(this,e.call.apply(e,[this].concat(a))),r.state={confirmHeaderIndex:Math.floor(Math.random()*R().length),installPath:r.props.defaultInstallationPath,hasInstallPathError:!1,hasAcceptedNeccessaryTerms:!1},r.handleInstallPathChange=function(e,t){r.setState({installPath:e,hasInstallPathError:t})},r.handleInventoryClick=function(){E.default.transitionTo(C.Routes.APPLICATION_LIBRARY_INVENTORY),r.props.onClose()},r.handleGoToLibrary=function(){E.default.transitionTo(C.Routes.APPLICATION_LIBRARY),r.props.onClose()},r.handleInstall=function(){var e=r.props,t=e.application,n=e.branchId,o=e.buildId,a=e.hasPreviouslyAcceptedStoreTerms,i=e.manifestIds,l=e.onClose,u=r.state,f=u.installPath,c=u.hasInstallPathError;a||(0,s.acceptPurchaseTerms)(),null!=t.eulaId&&(0,s.acceptEULA)(t.eulaId),c||null==o||null==i||(d.installApplication(t,n,o,i,f,C.AnalyticsLocations.APPLICATION_STORE_PAYMENT_MODAL),l(),E.default.transitionTo(C.Routes.APPLICATION_LIBRARY))},r.handlePurchaseTermsChange=function(e){r.setState({hasAcceptedNeccessaryTerms:e})},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.fetchInstallSize=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,o=e.manifestIds,a=e.buildSizeKB;null!=r&&null!=o&&null==a&&l.default.wait(function(){(0,u.fetchBuildSize)(t.id,n,r,o)})},t.prototype.componentDidMount=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,o=e.manifestIds,a=e.sku;!e.isIAP&&(0,g.canUserInstall)(a)&&(null==r||null==o?l.default.wait(function(){return(0,u.fetchLiveBuild)(t.id,n)}):this.fetchInstallSize())},t.prototype.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},t.prototype.getHeaderBlurb=function(){var e=this.props,t=e.sku,n=e.application,r=e.isIAP;if(t.isPreorder()&&null!=t.preorderReleaseAt)return N.default.Messages.APPLICATION_STORE_PREORDER_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,date:t.preorderReleaseAt.format("MMMM DD")});if(r||[C.SKUTypes.DLC,C.SKUTypes.CONSUMABLE].includes(t.type))return N.default.Messages.APPLICATION_ADDON_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,itemName:t.name});if(t.type===C.SKUTypes.BUNDLE)return N.default.Messages.APPLICATION_STORE_BUNDLE_PURCHASE_CONFIRMATION_BLURB.format({name:t.name});var o=t.supportedOperatingSystems[0];return N.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_UNSUPPORTED_OS.format({name:n.name,operatingSystem:(0,S.skuOperatingSystemToText)(o)})},t.prototype.renderInstallationHeader=function(){var e=this.props.application;return o("div",{className:A.default.blurb},void 0,N.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_BLURB.format({name:e.name}))},t.prototype.renderInstallationBody=function(){var e=this.props,t=e.isFetchingBuild,n=e.buildId,r=e.buildSizeKB,i=e.application,l=this.state,u=l.installPath,s=l.hasInstallPathError,d=l.hasAcceptedNeccessaryTerms;return o(a.Fragment,{},void 0,o(I.default,{className:A.default.installSelector,value:u,requiredDiskKB:r,onChange:this.handleInstallPathChange}),o(T.default,{eulaId:i.eulaId,applicationName:i.name,onChange:this.handlePurchaseTermsChange,className:A.default.storeTerms}),o(_.default,{className:A.default.confirmButton,disabled:s||null==n||!d,onClick:this.handleInstall,submitting:t,color:y.default.Colors.GREEN},void 0,N.default.Messages.APPLICATION_STORE_PURCHASE_INSTALL_GAME))},t.prototype.renderGenericHeader=function(){return o("div",{className:A.default.blurb},void 0,this.getHeaderBlurb())},t.prototype.renderBlurbBody=function(){var e=this.props,t=e.isIAP,n=e.sku,r=void 0,i=e.onClose;return n.isPreorder()?(r=N.default.Messages.APPLICATION_PREORDER_PURCHASE_CONFIRMATION_BUTTON,i=this.handleGoToLibrary):r=t?N.default.Messages.APPLICATION_IAP_PURCHASE_RETURN_TO_GAME:N.default.Messages.OKAY,o(a.Fragment,{},void 0,o(y.default,{className:A.default.confirmButton,onClick:i},void 0,r))},t.prototype.renderBlurb=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,g.canUserInstall)(t)||t.isPreorder()?this.renderGenericHeader():this.renderInstallationHeader()},t.prototype.renderBody=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,g.canUserInstall)(t)||t.isPreorder()?this.renderBlurbBody():this.renderInstallationBody()},t.prototype.render=function(){var e=this.props.application,t=this.state.confirmHeaderIndex;return o(m.default,{direction:m.default.Direction.VERTICAL,align:m.default.Align.CENTER},void 0,o(v.default,{game:e,className:A.default.icon,size:v.default.Sizes.LARGE}),o("div",{className:A.default.header},void 0,R()[t]),this.renderBlurb(),o("div",{className:A.default.divider}),this.renderBody())},t}(a.Component);P.displayName="PurchaseConfirmation",t.default=i.default.connectStores([f.default,p.default,c.default,h.default],function(e){var t=e.application,n=c.default.getActiveLibraryApplication(t.id),r=void 0;r=null!=n?n.id:t.id;var o=p.default.getTargetBuildId(t.id,r);return{defaultInstallationPath:f.default.defaultInstallationPath,branchId:r,isFetchingBuild:p.default.isFetching(t.id,r),buildId:o,manifestIds:p.default.getTargetManifests(t.id,r),buildSizeKB:null!=o?p.default.getBuildSize(o):null,hasPreviouslyAcceptedStoreTerms:h.default.hasAcceptedStoreTerms}})(P),e.exports=t.default},6581:function(e,t,n){"use strict";t.__esModule=!0,t.ADD_PAYMENT_REQUEST_STEPS=t.ADD_PAYPAL_STEPS=t.ADD_CARD_STEPS=t.ADD_PAYMENT_STEPS=t.REVIEW_PAYMENT_STEPS=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=F(n(2)),u=x(n(4)),s=x(n(1)),d=F(n(234)),f=F(n(884)),c=F(n(6147)),p=(n(449),x(n(842)),x(n(312))),h=x(n(6099)),y=x(n(895)),m=x(n(6076)),v=x(n(236)),_=x(n(128)),E=x(n(5999)),g=x(n(152)),S=x(n(222)),T=x(n(9)),I=n(6025),C=n(325),N=x(n(6342)),A=x(n(6016)),O=x(n(6343)),b=x(n(6176)),M=n(6582),R=n(6583),P=n(6344),L=n(6584),w=n(6585),D=n(0),U=x(n(13)),k=x(n(899)),G=x(n(5355));function x(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.REVIEW_PAYMENT_STEPS=[I.Steps.PAYMENT_TYPE,I.Steps.CREDIT_CARD_INFORMATION,I.Steps.REVIEW],t.ADD_PAYMENT_STEPS=[I.Steps.PAYMENT_TYPE,I.Steps.CREDIT_CARD_INFORMATION,I.Steps.REVIEW],t.ADD_CARD_STEPS=[I.Steps.PAYMENT_TYPE,I.Steps.CREDIT_CARD_INFORMATION,I.Steps.ADDRESS,I.Steps.REVIEW],t.ADD_PAYPAL_STEPS=[I.Steps.PAYMENT_TYPE,I.Steps.PAYPAL,I.Steps.PAYPAL_ADDRESS,I.Steps.REVIEW],t.ADD_PAYMENT_REQUEST_STEPS=[I.Steps.PAYMENT_TYPE,I.Steps.PAYMENT_REQUEST_INFO,I.Steps.REVIEW];var H=(0,C.cssValueToNumber)(k.default.innerPadding),V=function(e){function t(){var n,r,i,u,p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var h=arguments.length,y=Array(h),m=0;m<h;m++)y[m]=arguments[m];return r=i=B(this,e.call.apply(e,[this].concat(y))),i.state={hasAcceptedNeccessaryTerms:!1},i.handleToggleIsGift=function(e,t){var n=i.props.onIsGiftUpdate;null!=n&&n(t)},i.handlePurchaseTermsChange=function(e){i.setState({hasAcceptedNeccessaryTerms:e})},i.handleReopenPaypal=function(){f.reopenPayPalWindow()},i.handleCardInfoChange=function(e,t){s.default.wait(function(){return c.updateCardInfo(e,t)})},i.handleBillingAddressChange=function(e,t){s.default.wait(function(){return c.updateAddressInfo(e,t)})},i.handleCreditCardAdd=j(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.props,n=t.creditCardInfo,r=t.billingAddressInfo,e.prev=1,e.next=4,d.createCardPaymentSource(a({},n,{billingAddress:r,type:D.PaymentSourceTypes.CARD,isDefault:!1}));case 4:o=e.sent,i.props.onPaymentSourceAdd(o.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}},e,p,[[1,8]])})),i.handleStripePaymentRequestAdd=(u=j(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.updateStripePaymentRequest(t),null!=t){e.next=4;break}return i.props.onBack(),e.abrupt("return");case 4:return e.prev=4,e.next=7,d.createPaymentRequestPaymentSource(t);case 7:n=e.sent,i.props.onPaymentSourceAdd(n.id),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}},e,p,[[4,11]])})),function(e){return u.apply(this,arguments)}),i.handlePaypalAdd=j(regeneratorRuntime.mark(function e(){var t,n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.props,n=t.braintreeEmail,r=t.braintreeNonce,o=t.billingAddressInfo,0!==n.length&&null!=r){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,d.createPaypalPaymentSource(r,o);case 6:a=e.sent,i.props.onPaymentSourceAdd(a.id),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}},e,p,[[3,10]])})),i.renderBackButton=function(){var e=i.props,t=e.step,n=e.steps,r=e.paymentSources,a=e.onBack,l=(0,I.getStepIndex)(t,n),u=(0,I.canGoBack)(l,r)?U.default.Messages.BACK:U.default.Messages.CANCEL;return o(_.default,{look:_.default.Looks.LINK,className:G.default.backButton,color:G.default.backButtonColor,size:G.default.backButtonSize,onClick:a},void 0,u)},i.stepRenderer=a(((n={})[I.Steps.PAYMENT_TYPE]={renderBody:function(){var e=i.props,t=e.hidePersonalInformation,n=e.onChoosePaymentType,r=e.isGiftable,a=e.needsToBeGift,u=e.isGift;return t?o(A.default,{className:G.default.errorBlock},void 0,U.default.Messages.BILLING_ERROR_ADD_PAYMENT_SOURCE_STREAMER_MODE):o(l.Fragment,{},void 0,o(N.default,{className:G.default.choosePaymentSourceType,onChooseType:n,allowStripeRequestPayments:!T.default.embedded,onPaymentSourceReceived:i.handleStripePaymentRequestAdd}),r&&o(E.default,{disabled:a,className:G.default.giftToggle,type:E.default.Types.INVERTED,value:u,onChange:i.handleToggleIsGift},void 0,o("div",{className:G.default.checkboxLabel},void 0,U.default.Messages.BILLING_IS_GIFT_PURCHASE)))},renderFooter:function(){return o(S.default.Footer,{direction:g.default.Direction.HORIZONTAL},void 0,i.renderBackButton())}},n[I.Steps.PAYMENT_REQUEST_INFO]={renderBody:function(){return o(P.PaymentRequestStepBody,{className:G.default.formItem,stripePaymentSource:i.props.stripePaymentSource,submitting:i.props.submitting})},renderFooter:function(){return o(S.default.Footer,{direction:g.default.Direction.HORIZONTAL},void 0,i.renderBackButton())}},n[I.Steps.PAYPAL]={renderBody:function(){return o(O.default,{className:G.default.formItem})},renderFooter:function(){var e=i.props,t=e.submitting,n=e.braintreeNonce,r=e.braintreeEmail,a=e.onPaypalContinue,l=e.paypalClient;return o(L.PaypalStepFooter,{submitting:t||null==l,braintreeNonce:n,braintreeEmail:r,onPaypalContinue:a,onReopenPaypal:i.handleReopenPaypal,renderBackButton:i.renderBackButton})}},n[I.Steps.CREDIT_CARD_INFORMATION]={renderBody:function(){var e=i.props,t=e.creditCardInfo,n=e.billingError;return o(R.CreditCardInformationBody,{creditCardInfo:t,billingError:n,onCardInfoChange:i.handleCardInfoChange})},renderFooter:function(){var e=i.props,t=e.isCardInfoValid,n=e.submitting,r=e.onCreditCardContinue;return o(R.CreditCardInformationFooter,{isCardInfoValid:t,submitting:n,renderBackButton:i.renderBackButton,onCreditCardContinue:r})}},n[I.Steps.PAYPAL_ADDRESS]={renderBody:function(){var e=i.props,t=e.billingAddressInfo,n=e.billingError;return o(M.AddressStepBody,{billingAddressInfo:t,billingError:n,onBillingAddressChange:i.handleBillingAddressChange})},renderFooter:function(){var e=i.props,t=e.isBillingAddressInfoValid,n=e.submitting;return o(M.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:n,onContinue:i.handlePaypalAdd,renderBackButton:i.renderBackButton})}},n[I.Steps.ADDRESS]={renderBody:function(){var e=i.props,t=e.billingAddressInfo,n=e.billingError;return o(M.AddressStepBody,{billingAddressInfo:t,billingError:n,onBillingAddressChange:i.handleBillingAddressChange})},renderFooter:function(){var e=i.props,t=e.isBillingAddressInfoValid,n=e.submitting;return o(M.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:n,onContinue:i.handleCreditCardAdd,renderBackButton:i.renderBackButton})}},n[I.Steps.REVIEW]={renderBody:function(){var e=i.props,t=e.legalNotice,n=e.paymentSources,r=e.price,a=e.hidePersonalInformation,l=e.defaultPaymentSourceId,u=e.paymentSourceId,s=e.onReviewPaymentSourceChange,d=e.isGiftable,f=e.isGift,c=e.needsToBeGift;return o(w.ReviewStepBody,{legalNotice:t,paymentSources:n,price:r,hidePersonalInformation:a,defaultPaymentSourceId:l,paymentSourceId:u,onPaymentSourceChange:s,onPurchaseTermsChange:i.handlePurchaseTermsChange,onToggleIsGift:i.handleToggleIsGift,isGiftable:d,isGift:f,needsToBeGift:c})},renderFooter:function(){var e=i.props,t=e.canSubmit,n=e.submitButtonText,r=e.useShinySubmitButton,a=e.isPurchasing,l=e.paymentSourceId,u=e.onPurchase,s=e.needsToBeGift,d=e.isGift,f=e.paymentSources;return o(w.ReviewStepFooter,{canSubmit:t,submitButtonText:n,useShinySubmitButton:r,isPurchasing:a,hasAcceptedTerms:i.state.hasAcceptedNeccessaryTerms,paymentSource:null!=l?f[l]:null,onPurchase:u,tooltipText:i.disabledTooltip,needsToBeGift:s,isGift:d})}},n[I.Steps.CONFIRM]={renderBody:D.NOOP_NULL,renderFooter:D.NOOP_NULL},n),i.props.extraRenderers),B(i,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.createClient();var e=this.props,t=e.onPaymentSourceChange,n=e.paymentSources,r=e.defaultPaymentSourceId,o=e.paymentSourceId;null!=t&&(null!=o&&o!==r&&null!=n[o]?t(n[o]):null!=r&&null!=n[r]?t(n[r]):t(null))},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onPaymentSourceChange,r=t.paymentSources,o=t.paymentSourceId;e.paymentSourceId!==o&&null!=o&&null!=r[o]&&n&&n(r[o])},t.prototype.componentWillUnmount=function(){f.teardown(),c.clearCardInfo();var e=this.props.onClearError;e&&e()},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.renderHeader=function(){var e=this.props,t=e.renderHeader,n=e.billingError;return t(e.step,e.steps.map(function(e){return{id:e,label:(0,I.getCrumbLabels)(e)}}),null==(0,I.errorToStep)(n)?n:null)},t.prototype.render=function(){var e=this.props,t=e.size,n=e.step,r=e.steps,a=e.className,i=this.stepRenderer[n],l=i.renderBody();return o(S.default,{size:t,className:a,fullscreenOnMobile:!0},void 0,o("form",{className:G.default.form,onSubmit:this.preventDefault},void 0,this.renderHeader(),n!==I.Steps.CONFIRM?o("div",{className:G.default.divider}):null,null!=l&&o(S.default.Content,{outerClassName:G.default.modalContent,momentum:!0},void 0,o("div",{className:G.default.content},void 0,o(b.default,{step:n,steps:r,sideMargin:H},void 0,l))),i.renderFooter()))},i(t,[{key:"disabledTooltip",get:function(){var e=this.props,t=e.needsToBeGift,n=e.isGift,r=e.isGiftable;return this.state.hasAcceptedNeccessaryTerms?t&&!n?r?U.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY:U.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY_UNGIFTABLE:null:U.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP}}]),t}(l.PureComponent);V.defaultProps={canSubmit:!0,useShinySubmitButton:!1,isSubscription:!1,size:S.default.Sizes.SMALL,renderPrice:function(e){return e},billingError:null,extraRenderers:{},className:G.default.modal},V.displayName="PaymentModal",t.default=u.default.connectStores([v.default,m.default,h.default,p.default,y.default],function(){return{submitting:h.default.isBusy,paymentSources:v.default.paymentSources,defaultPaymentSourceId:v.default.defaultPaymentSourceId,stripePaymentSource:m.default.stripePaymentSource,creditCardInfo:m.default.getCreditCardInfo(),isCardInfoValid:m.default.isCardInfoValid,billingAddressInfo:m.default.getBillingAddressInfo(),isBillingAddressInfoValid:m.default.isBillingAddressInfoValid,braintreeEmail:m.default.braintreeEmail,braintreeNonce:m.default.braintreeNonce,billingError:m.default.error,paypalClient:y.default.getPayPalClient(),hidePersonalInformation:p.default.hidePersonalInformation}})(V)},6582:function(e,t,n){"use strict";t.__esModule=!0,t.AddressStepFooter=t.AddressStepBody=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=(n(449),y(n(128))),u=y(n(152)),s=y(n(222)),d=n(6025),f=y(n(6230)),c=y(n(6016)),p=y(n(13)),h=y(n(5355));function y(e){return e&&e.__esModule?e:{default:e}}(t.AddressStepBody=function(e){var t=e.billingAddressInfo,n=e.billingError,r=e.onBillingAddressChange,l=null!=n&&(null==n.code||(0,d.errorToStep)(n)===d.Steps.ADDRESS);return a(i.Fragment,{},void 0,l?a(c.default,{className:h.default.errorBlock},void 0,p.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,i.createElement(f.default,o({className:h.default.formItem,onBillingAddressChange:r,error:n},t)))}).displayName="AddressStepBody",(t.AddressStepFooter=function(e){var t=e.isBillingAddressInfoValid,n=e.submitting,r=e.onContinue,o=e.renderBackButton;return a(s.default.Footer,{justify:u.default.Justify.BETWEEN,direction:u.default.Direction.HORIZONTAL},void 0,o(),a(l.default,{type:"submit",disabled:!t,submitting:n,onClick:r},void 0,p.default.Messages.NEXT))}).displayName="AddressStepFooter"},6583:function(e,t,n){"use strict";t.__esModule=!0,t.CreditCardInformationFooter=t.CreditCardInformationBody=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=(n(449),y(n(128))),u=y(n(152)),s=y(n(222)),d=n(6025),f=y(n(6341)),c=y(n(6016)),p=y(n(13)),h=y(n(5355));function y(e){return e&&e.__esModule?e:{default:e}}(t.CreditCardInformationBody=function(e){var t=e.creditCardInfo,n=e.billingError,r=e.onCardInfoChange,l=null!=n&&(null==n.code||(0,d.errorToStep)(n)===d.Steps.CREDIT_CARD_INFORMATION);return a(i.Fragment,{},void 0,l?a(c.default,{className:h.default.errorBlock},void 0,p.default.Messages.BILLING_ERROR_SECTION_CARD):null,i.createElement(f.default,o({className:h.default.formItem,onCardInfoChange:r,error:n},t)))}).displayName="CreditCardInformationBody",(t.CreditCardInformationFooter=function(e){var t=e.isCardInfoValid,n=e.submitting,r=e.renderBackButton,o=e.onCreditCardContinue;return a(s.default.Footer,{justify:u.default.Justify.BETWEEN,direction:u.default.Direction.HORIZONTAL},void 0,r(),a(l.default,{type:"submit",disabled:!t,submitting:n,onClick:o},void 0,p.default.Messages.NEXT))}).displayName="CreditCardInformationFooter"},6584:function(e,t,n){"use strict";t.__esModule=!0,t.PaypalStepFooter=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(128))),i=s(n(152)),l=s(n(222)),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}(t.PaypalStepFooter=function(e){var t=e.submitting,n=e.braintreeNonce,r=e.braintreeEmail,s=e.onPaypalContinue,d=e.onReopenPaypal,f=e.renderBackButton,c=0!==r.length&&null!=n;return o(l.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,f(),o(a.default,{submitting:t,look:c?a.default.Looks.FILLED:a.default.Looks.OUTLINED,onClick:c?s:d},void 0,c?u.default.Messages.NEXT:u.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN))}).displayName="PaypalStepFooter"},6585:function(e,t,n){"use strict";t.__esModule=!0,t.ReviewStepFooter=t.ReviewStepBody=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=(E(n(842)),E(n(128))),u=E(n(5999)),s=E(n(222)),d=E(n(6018)),f=E(n(442)),c=n(829),p=n(844),h=E(n(6153)),y=E(n(6395)),m=E(n(6159)),v=(n(0),E(n(13))),_=E(n(5355));function E(e){return e&&e.__esModule?e:{default:e}}(t.ReviewStepBody=function(e){var t=e.legalNotice,n=e.paymentSources,r=e.price,o=e.hidePersonalInformation,l=e.defaultPaymentSourceId,s=e.paymentSourceId,d=e.isGiftable,f=e.isGift,E=e.needsToBeGift,g=e.onPaymentSourceChange,S=e.onPurchaseTermsChange,T=e.onToggleIsGift,I=[],C=null!=s?n[s]:null;return null!=C&&C.invalid&&I.push(a(h.default,{icon:h.default.Icons.WARNING_BOX,color:h.default.Colors.ERROR,iconSize:h.default.Sizes.NONE,iconClassName:_.default.invalidIcon},"source_invalid",v.default.Messages.BILLING_PAYMENT_SOURCE_INVALID)),null!=r&&(r.taxInclusive?I.push(a(h.default,{icon:h.default.Icons.RECEIPT,color:h.default.Colors.PRIMARY,iconSize:h.default.Sizes.LARGE},"tax_included",v.default.Messages.BILLING_SALES_TAX_INCLUDED)):r.tax>0&&I.push(a(h.default,{icon:h.default.Icons.RECEIPT,color:h.default.Colors.PRIMARY,iconSize:h.default.Sizes.LARGE},"tax_added",v.default.Messages.BILLING_SALES_TAX_ADDED.format({tax:(0,p.formatPrice)(r.tax,r.currency)})))),a(i.Fragment,{},void 0,a(c.FormTitle,{className:_.default.formTitle},void 0,v.default.Messages.BILLING_PAY_FOR_IT_WITH),a(y.default,{paymentSources:Object.values(n),defaultPaymentSourceId:l,selectedPaymentSourceId:s,hidePersonalInformation:o,onChange:g}),I,d&&a(u.default,{disabled:E,className:_.default.giftToggle,type:u.default.Types.INVERTED,value:f,onChange:T},void 0,a("div",{className:_.default.checkboxLabel},void 0,v.default.Messages.BILLING_IS_GIFT_PURCHASE)),a(m.default,{onChange:S,forceShow:!0,className:_.default.purchaseTerms}),null!=t?a("div",{className:_.default.subscriptionLegal},void 0,t):null)}).displayName="ReviewStepBody",(t.ReviewStepFooter=function(e){var t=e.canSubmit,n=e.submitButtonText,r=e.useShinySubmitButton,u=e.isPurchasing,c=e.hasAcceptedTerms,p=e.paymentSource,h=e.onPurchase,y=e.tooltipText,m=e.needsToBeGift,v=e.isGift,E=c&&!(m&&!v)&&null!=p&&!p.invalid&&t,g={submitting:u,color:l.default.Colors.GREEN,disabled:!E,onClick:h};return a(s.default.Footer,{},void 0,a("div",{className:_.default.buyButtonTooltipWrapper},void 0,g.disabled&&null!=y?a(f.default,{text:y},void 0,a("div",{"aria-hidden":!0,className:_.default.buyButtonTooltipTarget})):null,r?i.createElement(d.default,g,n):i.createElement(l.default,o({type:"submit"},g),n)))}).displayName="ReviewStepFooter"},6586:function(e,t,n){"use strict";t.__esModule=!0,t.Pages=void 0;var r,o,a,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=_(n(159)),u=_(n(4)),s=_(n(23)),d=_(n(1)),f=_(n(136)),c=_(n(18)),p=_(n(9)),h=_(n(58)),y=_(n(28)),m=_(n(15)),v=n(0);function _(e){return e&&e.__esModule?e:{default:e}}var E="homepageNUFComplete",g="homepageNUFPage",S="NUX_WEB_WELCOME",T=p.default.isWeb(),I=t.Pages=(0,l.default)({INITIAL:null,CLAIM:null,JOIN:null,CREATE:null,DOWNLOAD:null,DISABLED:null}),C=((r={})[I.CLAIM]=function(){var e=m.default.getCurrentUser();return null!=e&&(T&&!e.isClaimed())},r[I.JOIN]=function(){return T&&!(Object.keys(y.default.getGuilds()).length>0)},r[I.CREATE]=function(){return T&&!(Object.keys(y.default.getGuilds()).length>0)},r[I.DOWNLOAD]=function(){return T},r),N=[[I.CLAIM,!0],[I.JOIN,!0],[I.CREATE,!0],[I.DOWNLOAD,!1]],A=[[I.JOIN,!0],[I.CREATE,!0],[I.CLAIM,!0],[I.DOWNLOAD,!1]],O=!1,b=null,M=null,R=s.default.get(E)||!1,P=null;function L(){return!0}function w(e){return null!=e&&null!=M&&null!=M[e]?M[e][0]:I.INITIAL}function D(e,t,n){T&&c.default.track(v.AnalyticEvents.NUO_TRANSITION_KEY,{flow_type:S,from_step:e,to_step:t,skip:n,seconds_on_from_step:null!=P?(Date.now()-P)/1e3:0})}function U(){if(O=!0,!R){M=function(){var e=G.getExperimentDescriptor();if(null==e||e.bucket===v.ExperimentBuckets.CONTROL)return null;var t=(e.bucket===v.ExperimentBuckets.TREATMENT_1?N:A).filter(function(e){var t=e[0];return null!=C[t]&&C[t]()});return t.length>0?t:null}();var e=G.getExperimentDescriptor();if(null!=e&&T&&f.default.trigger(e),null==M)return void k(!0);var t=s.default.get(g,null);null!=t&&M.forEach(function(e,n){e[0]===t&&(b=n)}),null==b&&(b=0),P=Date.now(),D(I.INITIAL,w(b),!1)}}function k(e){var t=G.getExperimentDescriptor();null!=t&&t.bucket!==v.ExperimentBuckets.CONTROL&&(R=!0,s.default.remove(g),s.default.set(E,!0),D(w(b),I.DISABLED,e))}var G=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(m.default,y.default),this.syncWith([h.default],L)},t.prototype.getExperimentId=function(){return v.Experiments.HOMEPAGE_NUF},t.prototype.getMetaData=function(){return{title:"Homepage NUF",description:["CONTROL: Off","TREATMENT_1: Claim frontloaded","TREATMENT_2: Join/Create frontloaded"]}},t.prototype.getExperimentDescriptor=function(){return h.default.getOverrideExperimentDescriptor(this.getExperimentId())||h.default.getEligibleExperiment(this.getExperimentId())},t.prototype.isInExperiment=function(){return null!=this.getExperimentDescriptor()},t.prototype.isOpen=function(){var e=this.getExperimentDescriptor();return!R&&O&&null!=e&&e.bucket!==v.ExperimentBuckets.CONTROL},t.prototype.isTreatment1=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===v.ExperimentBuckets.TREATMENT_1},t.prototype.getProps=function(){return{progress:this.progress,pages:this.pages,page:this.page}},i(t,[{key:"page",get:function(){return b}},{key:"pages",get:function(){return M}},{key:"progress",get:function(){var e=this.page;return null==e||null==M?1:Math.min((e+1)/M.length,1)}}]),t}(u.default.Store))(d.default,{CONNECTION_OPEN:function(e){return U()},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},LOGOUT:function(e){return b=null,M=null,void(O=!1)},HOMEPAGE_NUF_NEXT:function(e){var t=e.isSkip,n=e.autoAdvance;if(null==M)return!1;var r=b;null==M[b+=n?2:1]?k(t):(s.default.set(g,M[b][0]),D(w(r),w(b),t)),P=Date.now()},HOMEPAGE_NUF_DISMISS:function(e){k(e.isSkip)}});f.default.register(G,((a={})[v.ExperimentTypes.NONE]=function(){return null},a[v.ExperimentTypes.USER]=((o={})[v.ExperimentBuckets.CONTROL]=function(){return null},o[v.ExperimentBuckets.TREATMENT_1]=function(){return null},o[v.ExperimentBuckets.TREATMENT_2]=function(){return null},o),a)),t.default=G},6587:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(6135),i=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=l(this,e.call.apply(e,[this].concat(i))),r.animationRef=o.createRef(),r.currentScene=r.props.scene,r.handleLoopComplete=function(){var e=r.props,t=e.onSceneComplete,n=e.scene;null!=t&&t(r.currentScene),r.playScene(n)},r.handleComplete=function(){var e=r.props.onSceneComplete;null!=e&&e(r.currentScene)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.importData,r=t.scene;n().then(function(t){null!=e.animationRef.current&&(e.animation=i.default.loadAnimation({container:e.animationRef.current,renderer:"svg",loop:!0,autoplay:!0,animationData:t}),e.animation.addEventListener("loopComplete",e.handleLoopComplete),e.animation.addEventListener("complete",e.handleComplete),e.playScene(r))})},t.prototype.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy()},t.prototype.componentDidUpdate=function(){this.props.scene!==this.currentScene&&this.shouldForcePlayAfter()&&this.playScene(this.props.scene)},t.prototype.shouldForcePlayAfter=function(){return!0===this.props.sceneSegments[this.currentScene].shouldForcePlayAfter},t.prototype.playScene=function(e){var t=this.props,n=t.onScenePlay,r=t.sceneSegments[e];this.animation.playSegments([r.BEG,r.END],!0),this.currentScene=e,null!=n&&n(this.currentScene)},t.prototype.render=function(){return o.createElement("div",{ref:this.animationRef,className:this.props.className})},t}(o.PureComponent);u.displayName="SequencedLottieAnimation",t.default=u,e.exports=t.default},6588:function(e,t,n){"use strict";t.__esModule=!0,t.ShineAnimation=void 0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=y(n(17)),s=y(n(159)),d=y(n(310)),f=n(6018),c=n(6209),p=n(0),h=y(n(5505));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=(0,c.hexWithOpacity)(p.Colors.WHITE,0),_=Object.freeze({DURATION:(o={},o[p.PremiumTypes.TIER_1]=1e3,o[p.PremiumTypes.TIER_2]=1500,o),DELAY:(a={},a[p.PremiumTypes.TIER_1]=400,a[p.PremiumTypes.TIER_2]=2200,a),FLASH_TIME_PERCENT:.72,FLASH_DURATION_PERCENT:.08}),E=(0,s.default)({ACTIVATED:null,UPGRADE:null}),g=i("svg",{viewBox:"0 0 224 20"},void 0,i("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725c-.2180941 1.5104167-1.9383804 2.2116667-3.5217777 2.2116667-1.4743503 0-2.9212806-.70125-2.7303955-2.0764584l.955902-6.52604163c.2183051-1.429375 1.9383805-2.1575 3.5217778-2.1575 1.5833974 0 2.9487006.728125 2.7303955 2.1575m-1.9740264-6.55L73.7334599.3135h-10.287759c-.2628098 0-.4859661.19041667-.5239322.44729167l-.5003088 3.37625c-.0468249.315625.2010094.59875.5239322.59875h1.8786893c.1889868 0 .3180715.19041666.2440376.36208333-.2345461.54270833-.4051827 1.13208333-.5000979 1.76854167l-.9559021 6.52604163c-.628128 4.3685417 3.0581695 6.5527084 7.0711865 6.5527084 4.2047457 0 8.3272316-2.1841667 8.9553597-6.5527084l.9552693-6.52604163C81.2096181 2.584125 77.6536708.401 73.733038.31641667M11.9335684 9.250375l.0527307 3.1677083c.0010546.0652084-.0432392.1225-.1071488.1385417l-1.0896271-3.82104167C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.90079167c-.0833145-.1925-.2748324-.3175-.48702072-.3175h-3.8312015c-.26428626 0-.4878644.19229166-.52456498.450625L.00525198 19.0801667c-.0445047.3145833.2026968.5954166.52435405.5954166h3.81664783c.26449718 0 .48849718-.1927083.52456497-.4516666l1.0006177-7.169375c.0008437-.0070834.00126554-.0141667.00126554-.02125l-.054629-3.68395837.10904708-.02666666L7.0715872 12.1435c.00168738.005625.00358568.0108333.00590583.0160417l3.16194347 7.2010416c.0839473.19125.2748324.315.4857552.315h4.133032c.2640754 0 .4878644-.1922916.524565-.450625l2.5549077-18.04624997c.0447157-.31458333-.2026968-.59541666-.524354-.59541666H13.622849c-.2640754 0-.4878644.19208333-.524565.45041666L11.9348339 9.2285c-.0008437.00729167-.0014765.01458333-.0012655.021875m7.386516 10.4251875h3.8174915c.2642862 0 .4878644-.1922917.524565-.450625l2.5544858-18.04625c.0447157-.31458333-.2026968-.59541667-.524354-.59541667h-3.8174915c-.2642863 0-.4878644.19229167-.524565.450625L18.7957303 19.0801458c-.0447156.3145834.2026968.5954167.5243541.5954167M28.7952422 1.00375l-.5000979 3.37604167c-.0468249.31583333.2007984.59875.5239322.59875h3.9946666c.3210245 0 .5684369.28020833.524565.594375L31.456455 19.08125c-.0438719.3141667.2033296.594375.524565.594375h3.8727533c.2644971 0 .4884971-.1929167.5245649-.451875l1.9217175-13.79333333c.0360678-.25895834.2598569-.451875.524565-.451875h4.2950207c.2628098 0 .4857552-.19020834.5239322-.44708334l.5005198-3.37625c.0468249-.315625-.2010094-.59875-.5239322-.59875H29.3191744c-.2628098 0-.4859661.19041667-.5239322.44729167m27.0625326 6.240125c-.136678 1.105625-1.0101093 2.21104167-2.5120904 2.21104167h-2.2566629c-.3220791 0-.5694916-.28145834-.5241432-.59645834l.4775292-3.3225c.0371224-.25791666.2607006-.44958333.5243541-.44958333h2.4068399c1.4471412 0 2.0204294.99791667 1.8841733 2.1575M54.5196806.58325h-7.2656572c-.2640754 0-.4878645.19229167-.5243541.450625l-2.5546968 18.04625c-.0445047.3145833.2029077.5954167.5243541.5954167h3.8714877c.2644972 0 .4884972-.1927084.524565-.4516667l.7517288-5.39c.0181394-.1295833.1301394-.2258333.2623879-.2258333h.4977778c.090275 0 .1742222.0454166.2229454.1204166L54.5274847 19.4345c.0972355.1502083.2653409.2410417.4458908.2410417h4.7818305c.4283842 0 .6793823-.47625.4338682-.8229167l-3.8799247-5.4779167c-.0930169-.1314583-.0451374-.3141666.1008211-.3845833 2.4768663-1.195625 3.9153597-2.420625 4.3895141-5.82729167C61.345142 2.68658333 58.5061213.58325 54.5196806.58325m41.3855608 10.3546042l-.5064256-4.92958337c-.0061167-.06041666-.0577928-.10666666-.1193823-.10666666h-.0006327c-.0499887 0-.0947044.030625-.112211.076875l-1.8417777 4.82770833c-.1305613.3420833.1252881.7075.4954576.7075h1.5580866c.3136422 0 .5585235-.2677083.5268851-.5758333m5.9621546 8.73625h-4.1745839c-.2543729 0-.472678-.1785417-.5203466-.4254167l-.5772956-2.9989583c-.0474577-.246875-.2659737-.4254167-.5201356-.4254167h-4.4049115c-.2094463 0-.3992768.121875-.4840678.3108333l-1.4498832 3.228125c-.0850019.1889584-.2748324.3108334-.4840678.3108334h-4.0775594c-.3914727 0-.6477438-.4052084-.4758418-.7527084L93.6783186.77285417c.0887985-.17958334.273356-.29333334.4756309-.29333334H97.87062c.2490998 0 .4646629.17145834.5176045.411875l3.9965645 18.14854167c.071714.3260417-.179706.6341667-.517393.6341667m15.42742-4.3158334c.299932.1460417.389574.5275.185401.7889584-2.300957 2.9466666-4.934961 3.7979166-7.248783 3.7979166-3.815383 0-7.328724-2.1958333-6.724852-6.5608333l.933334-6.615c.603872-4.33791667 4.775924-6.56104167 8.673566-6.56104167 2.269319 0 4.860927.90604167 6.031549 3.92770834.103984.26854166-.035014.56958333-.306682.6725l-3.313175 1.25375c-.235179.08895833-.496091-.00375-.632136-.21291667-.530682-.81479167-1.539525-1.16770833-2.548158-1.16770833-1.399895.02708333-2.799578.78625-2.991729 2.08770833l-.933333 6.615c-.192151 1.2470833 1.015593 2.0333333 2.388067 2.0333333 1.00336 0 2.115978-.4095833 2.812234-1.3633333.151232-.206875.431337-.2758333.66293-.163125l3.011767 1.4670833zM130.50915 5.35035417l-1.932686 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568436-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037967-.256875.261123-.44729167.523933-.44729167h14.382824c.323134 0 .570758.283125.524144.59875l-.503895 3.40020833c-.037966.256875-.261122.44729167-.523932.44729167h-4.323284c-.264498 0-.488498.19270833-.524565.45166667m10.006936 14.32375003h-3.843857c-.321657 0-.568859-.2808334-.524354-.5954167l2.56925-18.14854167c.03649-.25854166.260279-.450625.524354-.450625h3.843857c.321658 0 .568859.28083334.524354.59541667l-2.56925 18.1485417c-.03649.2583333-.260279.450625-.524354.450625M159.230252.45239583h4.075661c.393582 0 .649643.40895834.473733.75666667l-9.187797 18.175625c-.089642.1772917-.273145.289375-.473732.289375h-3.748309c-.248678 0-.463819-.1708333-.517183-.410625l-4.048874-18.175625c-.072768-.32625.178863-.63541667.517183-.63541667h4.169522c.255849 0 .475209.180625.520979.429375l1.644354 8.91979167c.003797.02083333.006328.041875.007593.06291667l.272513 4.55000003h.05505l1.472031-4.52375003c.006749-.020625.014553-.040625.023834-.06020834L158.749981.7553125c.086689-.18479167.2742-.30291667.480271-.30291667m10.120962 10.48545837l-.506426-4.92958337c-.006117-.06041666-.057793-.10666666-.119382-.10666666h-.000633c-.049989 0-.094704.030625-.112422.076875l-1.841567 4.82770833c-.130561.3420833.125288.7075.495458.7075h1.558086c.313643 0 .558524-.2677083.526886-.5758333m5.962154 8.73625h-4.174584c-.254373 0-.472678-.1785417-.520346-.4254167l-.577296-2.9989583c-.047458-.246875-.265974-.4254167-.520136-.4254167h-4.405122c-.209235 0-.399066.121875-.484068.3108333l-1.449672 3.228125c-.085002.1889584-.274833.3108334-.484068.3108334h-4.077559c-.391473 0-.647744-.4052084-.475842-.7527084L167.124291.77285417c.088798-.17958334.273356-.29333334.475631-.29333334h3.71667c.2491 0 .464452.17145834.517394.411875l3.996776 18.14854167c.071713.3260417-.179707.6341667-.517394.6341667m10.335828-14.32375003l-1.932685 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568437-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037966-.256875.261123-.44729167.523932-.44729167h14.382825c.323134 0 .570757.283125.524143.59875l-.503894 3.40020833c-.037966.256875-.261123.44729167-.523932.44729167h-4.323285c-.264497 0-.488497.19270833-.524565.45166667m12.603396 2.55758333h6.659043c.321447 0 .568648.28041667.524565.59479167l-.45728 3.26437503c-.036279.25875-.260068.4514583-.524565.4514583h-6.956234c-.263864 0-.487442.1916667-.524354.4497917l-.261966 1.8277083c-.045137.3147917.202486.59625.524354.59625h7.347706c.320814 0 .567805.2795833.524565.5935417l-.487231 3.5358333c-.035646.2591667-.259646.4525-.524565.4525h-12.460897c-.321657 0-.568858-.2810417-.524354-.595625L193.68063.93002083c.036489-.25833333.260278-.450625.524354-.450625h12.461318c.322079 0 .569492.28166667.524143.59666667l-.508324 3.535625c-.037122.25791667-.260489.44958333-.524354.44958333h-7.644685c-.263654 0-.487021.19125-.524354.44895834l-.260279 1.800625c-.045559.31520833.201853.59708333.524143.59708333m17.071605 7.2115c1.345055 0 2.552588-.731875 2.689899-1.7620833l.933333-6.45250003c.1371-1.05729167-.823653-1.89791667-2.168497-1.89791667h-2.038147c-.263654 0-.487232.19166667-.524354.44958333l-1.304136 9.06624997c-.045348.315.202064.5966667.524143.5966667h1.887759zm1.921296-14.64c3.897642 0 7.273883 1.95208333 6.64238 6.42541667l-.933122 6.45250003c-.631292 4.4189583-4.528934 6.3166666-8.426576 6.3166666h-6.664949c-.321658 0-.56907-.2808333-.524565-.5954166l2.56925-18.1485417c.036701-.25833333.26049-.450625.524565-.450625h6.813017z"})),S=i("svg",{viewBox:"0 0 226 20"},void 0,i("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725C74.5330682 14.7676667 72.8127819 15.4689167 71.2293846 15.4689167 69.7550343 15.4689167 68.308104 14.7676667 68.4989891 13.3924583L69.4548911 6.86641667C69.6731962 5.43704167 71.3932716 4.70891667 72.9766689 4.70891667 74.5600663 4.70891667 75.9253695 5.43704167 75.7070644 6.86641667M73.733038.316416667L73.7334599.3135 63.4457009.3135C63.1828911.3135 62.9597348.503916667 62.9217687.760791667L62.4214599 4.13704167C62.374635 4.45266667 62.6224693 4.73579167 62.9453921 4.73579167L64.8240814 4.73579167C65.0130682 4.73579167 65.1421529 4.92620833 65.068119 5.097875 64.8335729 5.64058333 64.6629363 6.22995833 64.5680211 6.86641667L63.612119 13.3924583C62.983991 17.761 66.6702885 19.9451667 70.6833055 19.9451667 74.8880512 19.9451667 79.0105371 17.761 79.6386652 13.3924583L80.5939345 6.86641667C81.2096181 2.584125 77.6536708.401 73.733038.316416667M11.9335684 9.250375L11.9862991 12.4180833C11.9873537 12.4832917 11.9430599 12.5405833 11.8791503 12.556625L11.8791503 12.556625 10.7895232 8.73558333C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.900791667C7.31921055.708291667 7.12769266.583291667 6.91550433.583291667L3.08430282.583291667C2.82001657.583291667 2.59643842.775583333 2.55973785 1.03391667L.0052519774 19.0801667C-.0392527307 19.39475.207948776 19.6755833.529606026 19.6755833L4.34625386 19.6755833C4.61075104 19.6755833 4.83475104 19.482875 4.87081883 19.2239167L5.87143653 12.0545417C5.87228023 12.0474583 5.87270207 12.040375 5.87270207 12.0332917L5.81807307 8.34933333 5.92712015 8.32266667 7.07158719 12.1435C7.07327458 12.149125 7.07517288 12.1543333 7.07749303 12.1595417L10.2394365 19.3605833C10.3233838 19.5518333 10.5142689 19.6755833 10.7251917 19.6755833L14.8582237 19.6755833C15.1222991 19.6755833 15.3460881 19.4832917 15.3827887 19.2249583L17.9376964 1.17870833C17.9824121.864125 17.7349996.583291667 17.4133424.583291667L13.622849.583291667C13.3587736.583291667 13.1349846.775375 13.098284 1.03370833L11.9348339 9.2285C11.9339902 9.23579167 11.9333574 9.24308333 11.9335684 9.250375M19.3200844 19.6755625L23.1375759 19.6755625C23.4018621 19.6755625 23.6254403 19.4832708 23.6621409 19.2249375L26.2166267 1.1786875C26.2613424.864104167 26.0139299.583270833 25.6922727.583270833L21.8747812.583270833C21.6104949.583270833 21.3869168.7755625 21.3502162 1.03389583L18.7957303 19.0801458C18.7510147 19.3947292 18.9984271 19.6755625 19.3200844 19.6755625M28.7952422 1.00375L28.2951443 4.37979167C28.2483194 4.695625 28.4959427 4.97854167 28.8190765 4.97854167L32.8137431 4.97854167C33.1347676 4.97854167 33.38218 5.25875 33.3383081 5.57291667L31.456455 19.08125C31.4125831 19.3954167 31.6597846 19.675625 31.98102 19.675625L35.8537733 19.675625C36.1182704 19.675625 36.3422704 19.4827083 36.3783382 19.22375L38.3000557 5.43041667C38.3361235 5.17145833 38.5599126 4.97854167 38.8246207 4.97854167L43.1196414 4.97854167C43.3824512 4.97854167 43.6053966 4.78833333 43.6435736 4.53145833L44.1440934 1.15520833C44.1909183.839583333 43.943084.556458333 43.6201612.556458333L29.3191744.556458333C29.0563646.556458333 28.8332083.746875 28.7952422 1.00375M55.8577748 7.243875C55.7210968 8.3495 54.8476655 9.45491667 53.3456844 9.45491667L51.0890215 9.45491667C50.7669424 9.45491667 50.5195299 9.17345833 50.5648783 8.85845833L51.0424075 5.53595833C51.0795299 5.27804167 51.3031081 5.086375 51.5667616 5.086375L53.9736015 5.086375C55.4207427 5.086375 55.9940309 6.08429167 55.8577748 7.243875M54.5196806.58325L47.2540234.58325C46.989948.58325 46.7661589.775541667 46.7296693 1.033875L44.1749725 19.080125C44.1304678 19.3947083 44.3778802 19.6755417 44.6993266 19.6755417L48.5708143 19.6755417C48.8353115 19.6755417 49.0593115 19.4828333 49.0953793 19.223875L49.8471081 13.833875C49.8652475 13.7042917 49.9772475 13.6080417 50.109496 13.6080417L50.6072738 13.6080417C50.6975488 13.6080417 50.781496 13.6534583 50.8302192 13.7284583L54.5274847 19.4345C54.6247202 19.5847083 54.7928256 19.6755417 54.9733755 19.6755417L59.755206 19.6755417C60.1835902 19.6755417 60.4345883 19.1992917 60.1890742 18.852625L56.3091495 13.3747083C56.2161326 13.24325 56.2640121 13.0605417 56.4099706 12.990125 58.8868369 11.7945 60.3253303 10.5695 60.7994847 7.16283333 61.345142 2.68658333 58.5061213.58325 54.5196806.58325M93.6422924.838906711L91.945537 12.8961538C91.7301524 14.4307692 92.995537 15.1846154 94.3686139 15.1846154 95.795537 15.1846154 97.195537 14.4307692 97.4109216 12.8961538L99.1272873.699554828C99.1620169.45276435 99.3731866.269230769 99.6224088.269230769L103.485633.269230769C103.761775.269230769 103.985633.493088394 103.985633.769230769 103.985633.792541409 103.984002.815823514 103.980754.838906711L102.283999 12.8961538C101.664768 17.3653846 97.5186139 19.6 93.7224601 19.6 89.8993831 19.6 86.4532293 17.3653846 87.0724601 12.8961538L88.7888258.699554828C88.8235554.45276435 89.0347251.269230769 89.2839473.269230769L93.147171.269230769C93.4233133.269230769 93.647171.493088394 93.647171.769230769 93.647171.792541409 93.6455408.815823514 93.6422924.838906711zM104.32898 18.7615276L106.854535.699989164C106.889071.453003281 107.100328.269230769 107.349717.269230769L114.533999.269230769C119.191691.269230769 120.941691 3.68846154 120.564768 7.13461538 120.160922 10.7423077 117.495537 13.7576923 112.891691 13.7576923L110.284218 13.7576923C110.034879 13.7576923 109.823647 13.9413937 109.789053 14.1883215L109.128944 18.9001401C109.09435 19.1470678 108.883118 19.3307692 108.633779 19.3307692L104.824163 19.3307692C104.54802 19.3307692 104.324163 19.1069116 104.324163 18.8307692 104.324163 18.807605 104.325773 18.7844687 104.32898 18.7615276zM111.018196 9.47692308L113.241691 9.47692308C114.749383 9.50384615 115.610922 8.29230769 115.77246 7 115.933999 5.73461538 115.314768 4.76538462 113.914768 4.76538462L111.548415 4.76538462C111.29959 4.76538462 111.08863 4.94834957 111.053441 5.19467394L110.523221 8.9062124C110.484168 9.1795794 110.674118 9.43284539 110.947485 9.47189782 110.970907 9.47524377 110.994536 9.47692308 111.018196 9.47692308zM136.745537 4.06538462L132.437845 5.92307692C132.141691 4.79230769 131.118614 4.28076923 130.041691 4.28076923 128.695537 4.28076923 127.268614 5.08846154 127.080152 6.46153846L126.164768 13.0038462C125.976306 14.4576923 127.214768 15.1846154 128.641691 15.1846154 130.041691 15.1846154 131.549383 14.4576923 131.737845 13.0038462L131.770059 12.7622357C131.806555 12.4885157 131.614247 12.2370359 131.340527 12.2005399 131.318621 12.1976191 131.296545 12.1961538 131.274445 12.1961538L129.376392 12.1961538C129.10025 12.1961538 128.876392 11.9722962 128.876392 11.6961538 128.876392 11.6734553 128.877938 11.650783 128.881018 11.6282944L129.282493 8.6975252C129.316412 8.44991846 129.527948 8.26538462 129.777867 8.26538462L136.441959 8.26538462C136.718101 8.26538462 136.941959 8.48924224 136.941959 8.76538462 136.941959 8.78798122 136.940427 8.81055182 136.937374 8.83294122L136.368614 13.0038462C135.749383 17.3923077 131.737845 19.6 127.914768 19.6 124.145537 19.6 120.726306 17.3923077 121.345537 13.0038462L122.260922 6.46153846C122.880152 2.01923077 126.918614.81188398e-13 130.687845.81188398e-13 133.164768.81188398e-13 135.857075 1.02307692 136.745537 4.06538462zM148.966496 19.1002961L145.384578 13.5035501C145.292674 13.3599501 145.133934 13.2730769 144.963443 13.2730769L144.806306 13.2730769C144.559438 13.2730769 144.350437 13.4552565 144.316742 13.6998149L143.600408 18.8990134C143.566317 19.1464475 143.354859 19.3307692 143.105087 19.3307692L139.242624 19.3307692C138.966482 19.3307692 138.742624 19.1069116 138.742624 18.8307692 138.742624 18.807605 138.744234 18.7844687 138.747442 18.7615276L141.272996.699989164C141.307532.453003281 141.51879.269230769 141.768179.269230769L148.95246.269230769C152.883229.269230769 155.683229 2.36923077 155.144768 6.83846154 154.660152 10.3653846 153.15246 11.55 150.540922 12.7884615L154.567536 18.5441512C154.725831 18.7704196 154.670727 19.0821696 154.444459 19.2404644 154.360439 19.2992434 154.26038 19.3307692 154.157841 19.3307692L149.387631 19.3307692C149.21714 19.3307692 149.0584 19.243896 148.966496 19.1002961zM145.543846 9.12692308L147.794768 9.12692308C149.275537 9.12692308 150.137075 8.02307692 150.271691 6.91923077 150.406306 5.76153846 149.840922 4.76538462 148.413999 4.76538462L146.021102 4.76538462C145.772113 4.76538462 145.561066 4.94858458 145.526066 5.19510177L145.048811 8.55664023C145.009995 8.83004089 145.200163 9.08314261 145.473564 9.12195875 145.496845 9.12526419 145.520331 9.12692308 145.543846 9.12692308zM170.032717.662958649L173.961357 18.7244971C174.020049 18.99433 173.848886 19.2606525 173.579053 19.319345 173.544139 19.3269393 173.508511 19.3307692 173.472781 19.3307692L169.337886 19.3307692C169.097759 19.3307692 168.891541 19.1600672 168.846687 18.9241663L168.274387 15.9142952C168.229533 15.6783944 168.023315 15.5076923 167.783188 15.5076923L163.433783 15.5076923C163.23607 15.5076923 163.056925 15.624197 162.976744 15.8049217L161.544329 19.0335398C161.464149 19.2142645 161.285004 19.3307692 161.087291 19.3307692L157.044093 19.3307692C156.76795 19.3307692 156.544093 19.1069116 156.544093 18.8307692 156.544093 18.7546802 156.561459 18.6795947 156.594867 18.6112324L165.421551.549693986C165.505424.37806951 165.679754.269230769 165.870777.269230769L169.544141.269230769C169.779332.269230769 169.982728.43314177 170.032717.662958649zM165.527492 11.2269231L167.105323 11.2269231C167.381465 11.2269231 167.605323 11.0030655 167.605323 10.7269231 167.605323 10.7100689 167.604471 10.6932256 167.60277 10.6764575L167.10274 5.74759572C167.097339 5.6943553 167.052512 5.65384615 166.998999 5.65384615L166.998999 5.65384615C166.942301 5.65384615 166.891533 5.68896864 166.871541 5.74202454L165.059607 10.5506185C164.962237 10.8090244 165.092782 11.0974381 165.351188 11.1948084 165.407542 11.2160435 165.46727 11.2269231 165.527492 11.2269231zM179.412025.269230769L186.111691.269230769C189.934768.269230769 193.246306 2.20769231 192.627075 6.65L191.711691 13.0576923C191.09246 17.4461538 187.269383 19.3307692 183.446306 19.3307692L176.886471 19.3307692C176.610328 19.3307692 176.386471 19.1069116 176.386471 18.8307692 176.386471 18.807605 176.38808 18.7844687 176.391288 18.7615276L178.916842.699989164C178.951378.453003281 179.162636.269230769 179.412025.269230769zM182.353143 14.8076923L184.227075 14.8076923C185.546306 14.8076923 186.730922 14.0807692 186.865537 13.0576923L187.780922 6.65C187.915537 5.6 186.973229 4.76538462 185.653999 4.76538462L183.637975 4.76538462C183.389007 4.76538462 183.177972 4.94855369 183.142947 5.19504556L181.858116 14.2373533C181.819268 14.5107495 182.009408 14.7638728 182.282804 14.80272 182.306104 14.8060307 182.329609 14.8076923 182.353143 14.8076923zM200.238825 5.24852009L199.977836 7.07544317C199.938784 7.34881017 200.128733 7.60207616 200.4021 7.64112859 200.425522 7.64447454 200.449152 7.64615385 200.472811 7.64615385L207.049283 7.64615385C207.325426 7.64615385 207.549283 7.87001147 207.549283 8.14615385 207.549283 8.16907817 207.547707 8.19197536 207.544565 8.21468335L207.090622 11.4954526C207.056403 11.7427585 206.845002 11.9269231 206.59534 11.9269231L199.738225 11.9269231C199.489149 11.9269231 199.278056 12.1102473 199.243157 12.3568663L198.980821 14.2107125C198.942129 14.4841308 199.132413 14.7371457 199.405832 14.775837 199.42904 14.7791211 199.45245 14.7807692 199.475888 14.7807692L206.727496 14.7807692C207.003638 14.7807692 207.227496 15.0046269 207.227496 15.2807692 207.227496 15.3033218 207.22597 15.3258485 207.222929 15.348195L206.739793 18.898195C206.706068 19.1459962 206.494445 19.3307692 206.24436 19.3307692L193.982624 19.3307692C193.706482 19.3307692 193.482624 19.1069116 193.482624 18.8307692 193.482624 18.807605 193.484234 18.7844687 193.487442 18.7615276L196.012996.699989164C196.047532.453003281 196.25879.269230769 196.508179.269230769L208.770284.269230769C209.046426.269230769 209.270284.493088394 209.270284.769230769 209.270284.792751947 209.268624.81624381 209.265317.839531336L208.761175 4.38953134C208.726168 4.63604054 208.515124 4.81923077 208.266142 4.81923077L200.7338 4.81923077C200.484975 4.81923077 200.274015 5.00219572 200.238825 5.24852009zM212.338948.269230769L219.038614.269230769C222.861691.269230769 226.173229 2.20769231 225.553999 6.65L224.638614 13.0576923C224.019383 17.4461538 220.196306 19.3307692 216.373229 19.3307692L209.813394 19.3307692C209.537251 19.3307692 209.313394 19.1069116 209.313394 18.8307692 209.313394 18.807605 209.315003 18.7844687 209.318211 18.7615276L211.843765.699989164C211.878302.453003281 212.089559.269230769 212.338948.269230769zM215.280066 14.8076923L217.153999 14.8076923C218.473229 14.8076923 219.657845 14.0807692 219.79246 13.0576923L220.707845 6.65C220.84246 5.6 219.900152 4.76538462 218.580922 4.76538462L216.564898 4.76538462C216.315931 4.76538462 216.104895 4.94855369 216.069871 5.19504556L214.785039 14.2373533C214.746191 14.5107495 214.936331 14.7638728 215.209727 14.80272 215.233027 14.8060307 215.256532 14.8076923 215.280066 14.8076923z"})),T=t.ShineAnimation=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.animation=new d.default.Value(0),m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.animate()},t.prototype.animate=function(){var e=this.props.premiumType;d.default.timing(this.animation,{toValue:1,delay:_.DELAY[e],duration:_.DURATION[e]}).start()},t.prototype.getContainerStyle=function(){var e=_.FLASH_TIME_PERCENT,t=_.FLASH_DURATION_PERCENT,n=this.props.theme===p.ThemeTypes.DARK?p.Colors.WHITE:p.Colors.BRAND;return{backgroundColor:this.animation.interpolate({inputRange:[0,e,e,e+t,1],outputRange:[v,v,n,n,v]})}},t.prototype.getShineStyle=function(){return d.default.accelerate({transform:[{translateX:this.animation.interpolate({inputRange:[0,1],outputRange:["20%","160%"]})}]})},t.prototype.renderSvg=function(){return this.props.type===E.ACTIVATED?g:S},t.prototype.render=function(){return i(d.default.div,{className:(0,u.default)(h.default.container,this.props.className),style:this.getContainerStyle()},void 0,i(f.Shine,{className:h.default.shine,style:this.getShineStyle()}),this.renderSvg())},t}(l.PureComponent);T.Types=E,T.displayName="ShineAnimation",t.default=T},6589:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),f(n(920))),i=n(6009),l=f(i),u=f(n(13)),s=f(n(317)),d=f(n(5351));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.title,r=e.onVerify,f=e.authBoxClassName;return o(l.default,{className:f},void 0,o("img",{alt:"",src:n(6371),className:d.default.marginBottom20}),null!=t?o(i.Title,{className:d.default.marginBottom8},void 0,t):null,o(i.Subtitle,{className:d.default.marginBottom40},void 0,u.default.Messages.BEEP_BOOP),o("div",{className:s.default.flexCenter},void 0,o(a.default,{onVerify:r,theme:a.default.Themes.DARK})))};c.displayName="AuthCaptcha",t.default=c,e.exports=t.default},6590:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=z(n(2)),u=K(n(5)),s=K(n(161)),d=K(n(4)),f=z(n(834)),c=z(n(865)),p=z(n(321)),h=K(n(831)),y=(n(449),K(n(43))),m=K(n(6366)),v=K(n(35)),_=K(n(236)),E=K(n(6097)),g=K(n(466)),S=K(n(179)),T=K(n(6148)),I=K(n(128)),C=K(n(152)),N=K(n(306)),A=K(n(222)),O=n(6367),b=K(n(6368)),M=K(n(110)),R=K(n(18)),P=K(n(9)),L=n(6025),w=K(n(225)),D=K(n(45)),U=K(n(6016)),k=K(n(6364)),G=K(n(6153)),x=K(n(6591)),F=K(n(6187)),j=K(n(6365)),B=K(n(6369)),H=K(n(6370)),V=n(0),Y=K(n(13)),W=K(n(5510));function K(e){return e&&e.__esModule?e:{default:e}}function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q=880,J="../../../images/store/gifting/gifting-pattern.png";function Z(e){if(e.interval!==V.SubscriptionIntervalTypes.DAY)throw new Error("Unexpected trial interval count");return(0,u.default)().add(e.intervalCount,"days").toDate()}var ee=function(){return i("div",{className:W.default.trialFreePeriodBadge},void 0,Y.default.Messages.PREMIUM_PAYMENT_TRIAL_TWO_WEEKS_FREE)};ee.displayName="TrialFreePeriodBadge";var te=i(ee,{}),ne=function(e){function t(){var n,r,a,u,d=this;$(this,t);for(var y=arguments.length,m=Array(y),v=0;v<y;v++)m[v]=arguments[v];return n=r=q(this,e.call.apply(e,[this].concat(m))),r.state={paymentSource:null,hasInitialSubscriptionPlan:null!=r.props.subscriptionPlan,playingAnimationSceneTier1:O.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:O.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:O.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:O.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,isPurchasing:!1},r._loadId=s.default.v4(),r._stepStartTime=Date.now(),r._flowStartTime=Date.now(),r._paymentModalRef=l.createRef(),r.closeAndPopLayers=function(){r.close(),f.popLayer()},r.handlePaymentSourceChange=function(e){r.setState({paymentSource:e})},r.handlePurchase=(a=regeneratorRuntime.mark(function e(t){var n,a,i,l,u,s,f,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props,a=n.isGift,i=n.plan,l=n.skuId,u=n.trialId,r.setState({animationSceneTier1:O.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:O.PremiumPaymentAnimationTier2.Scenes.BOOST_START,isPurchasing:!0}),s=null!=u,e.prev=3,R.default.track(V.AnalyticEvents.PAYMENT_FLOW_COMPLETED,o({},r.getBaseAnalyticsData(),{duration_ms:Date.now()-r._flowStartTime,trial_period_length_days:s?V.SubscriptionTrials[V.PREMIUM_SUBSCRIPTION_TRIAL_ID].intervalCount:null})),!a||null==i){e.next=14;break}if(f=V.SubscriptionPlanInfo[i],null!=(c=f.price)){e.next=10;break}throw new Error("Price information is required on plan!");case 10:return e.next=12,p.purchaseSKU(V.PREMIUM_SUBSCRIPTION_APPLICATION,l,{expectedAmount:c,paymentSourceId:t.id,subscriptionPlanId:f.id,isGift:!0});case 12:e.next=16;break;case 14:return e.next=16,r.subscribe(t);case 16:r.setState({animationSceneTier1:O.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:O.PremiumPaymentAnimationTier2.Scenes.BOOST_END,isPurchasing:!1}),e.next=24;break;case 19:throw e.prev=19,e.t0=e.catch(3),r.setState({animationSceneTier1:O.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:O.PremiumPaymentAnimationTier2.Scenes.ERROR,isPurchasing:!1}),R.default.track(V.AnalyticEvents.PAYMENT_FLOW_FAILED,o({},r.getBaseAnalyticsData(),{payment_gateway:t.type===V.PaymentSourceTypes.CARD?V.PaymentGateways.STRIPE:V.PaymentGateways.BRAINTREE,payment_source_id:t.id,duration_ms:Date.now()-r._flowStartTime})),e.t0;case 24:case"end":return e.stop()}},e,d,[[3,19]])}),u=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return u.apply(this,arguments)}),r.handleConfirmContinue=function(){r.canInstallPremiumApplications&&(D.default.transitionTo(V.Routes.APPLICATION_STORE),f.popLayer()),r.close()},r.handleAnimationScenePlayTier1=function(e){return r.setState({animationSceneTier1:O.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},r.handleAnimationScenePlayTier2=function(e){return r.setState({animationSceneTier2:O.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},r.trackStepChange=function(e,t){var n=Date.now();R.default.track(V.AnalyticEvents.PAYMENT_FLOW_STEP,o({},r.getBaseAnalyticsData(),{from_step:e,to_step:t,step_duration_ms:n-r._stepStartTime,flow_duration_ms:n-r._flowStartTime})),r._stepStartTime=n},r.renderAnimation=function(){var e=r.props.skuId;return V.PremiumSubscriptionSKUToPremiumType[e]===V.PremiumTypes.TIER_1?i(O.PremiumPaymentAnimationTier1,{className:W.default.headerAnimation,scene:r.state.animationSceneTier1,onScenePlay:r.handleAnimationScenePlayTier1}):i(O.PremiumPaymentAnimationTier2,{className:W.default.headerAnimation,scene:r.state.animationSceneTier2,onScenePlay:r.handleAnimationScenePlayTier2})},r.renderHeader=function(e,t,n){var o=r.props,a=o.paymentError,l=o.plan,u=o.isGift,s=o.application,d=o.skuId,f=V.PremiumSubscriptionSKUToPremiumType[d];if(u&&e===L.Steps.CONFIRM)return i(F.default,{application:s,splashSize:Q,overrideSplash:J});var c=a||n;return i(A.default.Header,{className:W.default.header,direction:C.default.Direction.VERTICAL,align:C.default.Align.START,separator:!1},void 0,i(H.default,{hideCloseOnFullScreen:!0,shouldShowPrice:!0,isGift:u,upgradeToPremiumType:f,plan:l,renderAnimation:r.renderAnimation,onClose:r.close}),null==c||r.shouldShake()?null:i(U.default,{className:W.default.errorBlock},void 0,c.message),u?i(G.default,{className:W.default.headerNote,iconSize:G.default.Sizes.SMALL,icon:N.default.Names.GIFT,color:G.default.Colors.PRIMARY},void 0,Y.default.Messages.PREMIUM_PAYMENT_IS_GIFT):null,e===L.Steps.CONFIRM||f!==V.PremiumTypes.TIER_2||P.default.isWindows()?null:i(G.default,{className:W.default.headerNote,icon:G.default.Icons.WARNING_BOX,iconSize:G.default.Sizes.SMALL,color:G.default.Colors.WARNING},void 0,Y.default.Messages.PREMIUM_PAYMENT_APPLICATIONS_OS_WARNING),e!==L.Steps.CONFIRM&&t.length>1?i(T.default,{activeId:e,breadcrumbs:t}):null)},r.renderConfirmationBody=function(){var e=r.props,t=e.theme,n=e.isGift,o=e.subscriptionPlan,a=e.followupSKU,l=e.giftCode;if(null!=o){if(n&&null!=l)return r.renderGiftConfirmationBody(o,l);var u=o.premiumSubscriptionType;if(null==u)throw new Error("Premium type cannot be null");return i(B.default,{premiumType:u,theme:t,followupSKU:a,onClose:r.close,onViewGames:r.handleConfirmContinue})}return null},r.handleSelectPlan=function(e,t){c.selectPlan(e.id),t()},r.handlePremiumClick=function(){r.close(),h.default.open(V.UserSettingsSections.PREMIUM)},r.renderSelectPlanBody=function(e){var t=r.props,n=t.subscriptionPlans,o=t.trialId,a=t.isGift,l=t.isGiftingFromChat,u=null!=o;return i("div",{className:W.default.selectPlan},void 0,l?i("div",{className:W.default.giftBlurb},void 0,Y.default.Messages.PREMIUM_PAYMENT_GIFT_BLURB.format({onClick:r.handlePremiumClick})):null,i("div",{className:W.default.selectPlanHeader},void 0,i(M.default,{tag:M.default.Tags.H5,className:W.default.selectPlanTitle},void 0,a?Y.default.Messages.BILLING_PAYMENT_CHOOSE_GIFT:Y.default.Messages.BILLING_PAYMENT_CHOOSE_PLAN),u?te:null),u?i("div",{className:W.default.trialText},void 0,Y.default.Messages.PREMIUM_PAYMENT_TRIAL_BLURB.format({endsAt:Z(V.SubscriptionTrials[V.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null,i(x.default,{subscriptionPlans:n,isTrial:u,isGift:a,onSelect:function(t){return r.handleSelectPlan(t,e)}}),u?i("div",{className:W.default.trialNote},void 0,Y.default.Messages.PREMIUM_PAYMENT_TRIAL_NOTE.format({endsAt:Z(V.SubscriptionTrials[V.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null)},r.renderSelectPlanFooter=function(){return i(A.default.Footer,{direction:C.default.Direction.HORIZONTAL},void 0,i(I.default,{look:I.default.Looks.LINK,className:W.default.backButton,color:W.default.backButtonColor,size:W.default.backButtonSize,onClick:r.close},void 0,Y.default.Messages.CANCEL))},q(r,n)}return X(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.followupSKU,n=e.followupSKUInfo;if(null!=n&&null==t){var r=n.applicationId,o=n.id;p.fetchSKU(r,o).catch(V.NOOP_NULL)}R.default.track(V.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},t.prototype.close=function(){c.closeModal()},t.prototype.getBaseAnalyticsData=function(){var e=this.getPrice(),t=this.props,n=t.plan,r=t.subscriptionPlan;return{load_id:this._loadId,payment_type:"subscription",subscription_plan_gateway_plan_id:n,subscription_type:V.SubscriptionTypes.PREMIUM,subscription_plan_id:null!=r?r.id:null,price:null!=e?e.amount:null,regular_price:null!=e?e.amount:null,currency:null!=e?e.currency:null,is_gift:this.props.isGift,location:this.props.analyticsLocation}},t.prototype.getLegalNotice=function(){var e=this.props,t=e.isGift,n=e.skuId;if(t)return Y.default.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT;var r=this.getInterval(),o=w.default.getDisplayPremiumTypeForSku(n);switch(r){case V.SubscriptionIntervalTypes.MONTH:return Y.default.Messages.STORE_PAYMENT_LEGALESE_MONTHLY.format({termsURL:V.MarketingURLs.TERMS,planPremiumType:o});case V.SubscriptionIntervalTypes.YEAR:return Y.default.Messages.STORE_PAYMENT_LEGALESE_YEARLY.format({termsURL:V.MarketingURLs.TERMS,planPremiumType:o})}},t.prototype.getSubmitText=function(){var e=this.props,t=e.skuId,n=e.subscriptionMode,r=e.isGift,o=w.default.getDisplayPremiumTypeForSku(t);if(r)return Y.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT.format({planPremiumType:o});switch(n){case V.PremiumPaymentSubscriptionModes.NEW:return Y.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:o});case V.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return Y.default.Messages.RESUBSCRIBE;default:return null}},t.prototype.getPrice=function(){var e=this.props.plan;return null!=e?w.default.getPrice(e):null},t.prototype.getInterval=function(){var e=this.props.plan;return null!=e?w.default.getInterval(e):null},t.prototype.subscribe=function(e){var t=this.props,n=t.subscriptionMode,r=t.plan,o=t.subscription,a=t.trialId;if(n===V.PremiumPaymentSubscriptionModes.NEW)return c.subscribe(r,e,a);if(n===V.PremiumPaymentSubscriptionModes.RESUBSCRIBE&&null!=o)return c.resubscribe(o,e);throw new Error("Failed to subscribe")},t.prototype.shouldShake=function(){var e=this.props.giftCode,t=this.state,n=t.playingAnimationSceneTier1,r=t.playingAnimationSceneTier2;return null==e&&(O.ShakeScenes.has(n)||O.ShakeScenes.has(r))},t.prototype.renderGiftConfirmationBody=function(e,t){var n=this.props.application;return i(C.default,{direction:C.default.Direction.VERTICAL,className:W.default.giftConfirmation},void 0,i(A.default.CloseButton,{onClick:this.close,className:W.default.confirmationCloseButton}),i(j.default,{giftCode:t,application:n,subscriptionPlan:e,onClose:this.closeAndPopLayers}))},t.prototype.render=function(){var e=this.props,t=e.isGift,n=e.subscriptionPlan,r=this.state.hasInitialSubscriptionPlan,o=this.shouldShake();return i(b.default,{className:W.default.fullscreenOnMobile,isShaking:o,intensity:2},void 0,l.createElement(k.default,{useShinySubmitButton:!0,ref:this._paymentModalRef,canSubmit:!t||null!=n,isGift:t,isPurchasing:this.state.isPurchasing||o,legalNotice:this.getLegalNotice(),price:this.getPrice(),renderHeader:this.renderHeader,onPurchase:this.handlePurchase,onPaymentSourceChange:this.handlePaymentSourceChange,onClearError:c.clearError,onClose:this.close,renderConfirmationBody:this.renderConfirmationBody,renderSelectPlanBody:this.renderSelectPlanBody,renderSelectPlanFooter:this.renderSelectPlanFooter,submitButtonText:this.getSubmitText(),onStepChange:this.trackStepChange,initialStep:r?null:L.Steps.SELECT_PLAN,prependSteps:r?null:[L.Steps.SELECT_PLAN]}))},a(t,[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"premiumType",get:function(){return V.PremiumSubscriptionSKUToPremiumType[this.props.skuId]}},{key:"canInstallPremiumApplications",get:function(){return this.premiumType===V.PremiumTypes.TIER_2}}]),t}(l.Component);ne.defaultProps={withTrial:!1},ne.displayName="PremiumPayment";var re=d.default.connectStores([_.default,g.default,m.default,v.default,E.default,S.default,y.default],function(){var e=g.default.getPremiumSubscription(),t=null!=e?e.paymentGateway:null,n=m.default.skuId,r=m.default.followupSKUInfo,o=m.default.plan,a=null!=o?E.default.get(V.SubscriptionPlanInfo[o].id):null;if(null==n)throw new Error("Provide SKU ID for purchase");return{application:y.default.getGame(V.PREMIUM_SUBSCRIPTION_APPLICATION),subscription:e,subscriptionPlans:E.default.getForSKU(n),subscriptionPlan:a,subscriptionMode:m.default.subscriptionMode,skuId:n,followupSKU:null!=r?S.default.get(r.id):null,followupSKUInfo:r,trialId:m.default.trialId,plan:m.default.plan,paymentSourceType:t,paymentError:m.default.paymentError,theme:v.default.theme,isGift:m.default.isGift,isGiftingFromChat:m.default.isGiftingFromChat,giftCode:m.default.giftCode,analyticsLocation:m.default.analyticsLocation}})(ne),oe=function(e){function t(){var n,r;$(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=q(this,e.call.apply(e,[this].concat(a))),r.ref=l.createRef(),r.close=function(){null!=r.ref.current&&r.ref.current.closable&&r.ref.current.close()},q(r,n)}return X(t,e),t.prototype.render=function(){return l.createElement(re,{ref:this.ref})},t}(l.PureComponent);oe.modalConfig={store:m.default,closable:!0},oe.displayName="PremiumPaymentModal",t.default=oe,e.exports=t.default},6591:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(5))),i=c(n(128)),l=c(n(152)),u=n(844),s=n(0),d=c(n(13)),f=c(n(5509));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){switch(e){case s.SubscriptionIntervalTypes.YEAR:return"years";case s.SubscriptionIntervalTypes.MONTH:return"months";case s.SubscriptionIntervalTypes.DAY:return"days";default:throw new Error("Unexpected interval")}}function h(e,t){return a.default.duration(t.intervalCount,p(t.interval)).asSeconds()-a.default.duration(e.intervalCount,p(e.interval)).asSeconds()}var y=function(){return o("div",{className:f.default.annualDiscount},void 0,"-16%")};y.displayName="AnnualDiscount";var m=o(y,{}),v=function(e){var t=e.subscriptionPlan,n=e.onSelect,r=e.isTrial,a=e.isGift,c=t.interval===s.SubscriptionIntervalTypes.YEAR;return o(l.default,{align:l.default.Align.CENTER,className:f.default.option},void 0,o(l.default.Child,{grow:1},void 0,o("div",{className:f.default.priceRow},void 0,o("div",{className:f.default.price},void 0,(0,u.formatPrice)(t.price,t.currency)),c?m:null),o("div",{className:f.default.interval},void 0,function(e,t){if(t)switch(e){case s.SubscriptionIntervalTypes.YEAR:return d.default.Messages.PAYMENT_MODAL_ONE_YEAR;case s.SubscriptionIntervalTypes.MONTH:return d.default.Messages.PAYMENT_MODAL_ONE_MONTH;default:throw new Error("Unexpected interval")}switch(e){case s.SubscriptionIntervalTypes.YEAR:return d.default.Messages.PAYMENT_MODAL_PER_YEAR;case s.SubscriptionIntervalTypes.MONTH:return d.default.Messages.PAYMENT_MODAL_PER_MONTH;default:throw new Error("Unexpected interval")}}(t.interval,a))),o(i.default,{color:c?i.default.Colors.GREEN:i.default.Colors.PRIMARY,className:f.default.selectButton,onClick:function(){return n(t)}},void 0,r?d.default.Messages.PREMIUM_PAYMENT_START_TRIAL:d.default.Messages.PREMIUM_PAYMENT_SELECT))};v.displayName="PlanSelectorOption";var _=function(e){var t=e.subscriptionPlans,n=e.onSelect,r=e.isTrial,a=e.isGift;return o("div",{},void 0,t.sort(h).map(function(e){return o(v,{subscriptionPlan:e,onSelect:n,isTrial:r,isGift:a},e.id)}))};_.displayName="PlanSelector",t.default=_,e.exports=t.default},6592:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=U(n(2)),s=D(n(17)),d=n(453),f=D(n(4)),c=n(81),p=D(n(849)),h=U(n(6327)),y=U(n(6143)),m=D(n(12)),v=D(n(864)),_=D(n(5999)),E=D(n(152)),g=n(6009),S=D(g),T=D(n(442)),I=D(n(110)),C=D(n(18)),N=n(109),A=D(n(6589)),O=D(n(6411)),b=n(6154),M=D(b),R=n(0),P=D(n(13)),L=D(n(5351)),w=D(n(5670));function D(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}f.default.initialize();var k=/\.$/,G=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(k,"")}).join(". ").trim():e},x=i(b.InviteResolvingHeader,{}),F=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r._retryTimer=new c.Timeout,r.handleCaptchaVerify=function(e){return r.setState({captchaKey:e},function(){return r.handleRegister()})},r.handleGotoLogin=function(){var e=r.state.email,t=r.props,n=t.onLoginStart,o=t.giftCode,a=t.transitionTo,i=t.invite,l=t.redirectTo,u=t.isGuest,s=t.location;if(u)return y.close(),void h.open();var f=null!=s?(0,d.parse)(s.search):{},c=void 0;null!=i?c=R.Routes.INVITE_LOGIN(i.code):null!=o?c=R.Routes.GIFT_CODE_LOGIN(o.code):null!=l?(c=R.Routes.LOGIN,f.redirect_to=l):(c=R.Routes.LOGIN,""!==e&&(f={email:e})),p.default.loginReset(),a(c,{search:(0,d.stringify)(f)}),null!=n&&n(),N.ComponentDispatch.dispatch(R.ComponentActions.WAVE_EMPHASIZE)},r.handleSubmit=function(e){e&&e.preventDefault(),r.handleRegister()},r.renderGiftCodeHeader=function(e){return i(O.default,{giftCode:e})};var o=null!=n.location?(0,d.parse)(n.location.search):{};return r.state={email:o.email||"",username:"",password:"",captchaKey:null,consent:!n.consentRequired,isRateLimited:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},t.prototype.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;C.default.track(R.AnalyticEvents.REGISTER_VIEWED,a({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?t.getAnalyticsData(!1,!1):{}),!0),null==this.props.consentRequired&&p.default.getConsentRequired()},t.prototype.componentWillUnmount=function(){this._retryTimer.stop()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){null==this.props.consentRequired&&null!=e.consentRequired&&(e.consentRequired?this.setState({consent:!1}):e.consentRequired||this.setState({consent:!0}))},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props,r=n.errors,o=n.authenticated;e.errors!==r&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),o&&!e.authenticated&&this.redirectIfAuthenticated()},t.prototype.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:v.default.defaultRoute)},t.prototype.handleRegister=function(){var e=this.state,t=e.email,n=e.username,r=e.password,o=e.captchaKey,a=e.consent,i=this.props,l=i.invite,u=i.giftCode,s=i.consentRequired,d=null!=l?l.code:null,f=null!=u?u.skuId:null;null!==s&&(null!=l?p.default.register({username:n,consent:a,invite:d,giftCodeSKUId:f,captchaKey:o}):p.default.registerFull({email:t,username:n,consent:a,password:r,invite:d,giftCodeSKUId:f,captchaKey:o}),N.ComponentDispatch.dispatch(R.ComponentActions.WAVE_EMPHASIZE))},t.prototype.hasError=function(e){return null!=this.props.errors[e]},t.prototype.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,r=null;return this.props.consentRequired?r=i(E.default,{className:L.default.marginTop20,align:E.default.Align.CENTER},void 0,i(_.default,{value:t,type:_.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:w.default.checkbox}),i(g.SubText,{},void 0,P.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:R.MarketingURLs.TERMS,privacyURL:R.MarketingURLs.PRIVACY}))):n=i(g.SubText,{className:L.default.marginTop20},void 0,P.default.Messages.TERMS_PRIVACY.format({termsURL:R.MarketingURLs.TERMS,privacyURL:R.MarketingURLs.PRIVACY})),{subText:n,consentText:r}},t.prototype.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return i(S.default,{className:t},void 0,x,i(g.Block,{className:L.default.marginTop40},void 0,i(I.default,{},void 0,P.default.Messages.FORM_LABEL_USERNAME),i(T.default,{text:P.default.Messages.AUTH_USERNAME_TOOLTIP,position:T.default.Positions.RIGHT,color:T.default.Colors.BRAND},void 0,i(g.Input,{autoFocus:!0,className:L.default.marginBottom8,name:"username",value:this.state.username,placeholder:P.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})}})),i(g.Button,{className:L.default.marginTop20,disabled:!0},void 0,P.default.Messages.CONTINUE),i(g.Button,{look:g.Button.Looks.LINK,disabled:!0,className:L.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),i(g.SubText,{disabled:!0,className:L.default.marginTop20},void 0,P.default.Messages.TERMS_PRIVACY.format({termsURL:R.MarketingURLs.TERMS,privacyURL:R.MarketingURLs.PRIVACY}))))},t.prototype.renderInvite=function(){var e=this,t=this.props,n=t.invite,r=t.registering,o=t.consentRequired,a=t.authBoxClassName,l=t.errors.username,u=this.state.consent,s=this.renderConsentComponents(),d=s.subText,f=s.consentText,c=i("div",{className:L.default.marginTop20},void 0,i(g.Button,{type:"submit",submitting:r,disabled:!this.hasConsent()},void 0,P.default.Messages.CONTINUE));return!u&&o&&(c=i(T.default,{text:P.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,c)),i(S.default,{onSubmit:this.handleSubmit,tag:"form",className:a},void 0,i(M.default,{invite:n}),i(g.Block,{className:L.default.marginTop40},void 0,i(I.default,{error:G(l)},void 0,P.default.Messages.FORM_LABEL_USERNAME),i(T.default,{text:P.default.Messages.AUTH_USERNAME_TOOLTIP,position:T.default.Positions.RIGHT,color:T.default.Colors.BRAND},void 0,i(g.Input,{autoFocus:!0,className:L.default.marginBottom8,name:"username",value:this.state.username,placeholder:P.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=l?"":null})),f,c,i(g.Button,{look:g.Button.Looks.LINK,onClick:this.handleGotoLogin,className:L.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),d))},t.prototype.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?i(g.SubText,{className:(0,s.default)(L.default.marginTop20,w.default.errorMessage)},void 0,e):null},t.prototype.renderFull=function(e){var t=this,n=this.state,r=n.email,o=n.username,a=n.password,l=n.consent,u=this.props,s=u.registering,d=u.consentRequired,f=u.isGuest,c=u.authBoxClassName,p=u.errors,h=(p=void 0===p?{}:p).email,y=p.username,m=p.password,v=this.renderConsentComponents(),_=v.subText,E=v.consentText,I=this.renderErrorMessage(),C=i("div",{className:L.default.marginTop20},void 0,i(g.Button,{type:"submit",submitting:s,disabled:!this.hasConsent()||this.state.isRateLimited},void 0,P.default.Messages.CONTINUE));return!l&&d&&(C=i(T.default,{text:P.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,C)),i(S.default,{onSubmit:this.handleSubmit,tag:"form",className:c},void 0,f?null:null!=e?e():i(g.Title,{},void 0,P.default.Messages.REGISTER_TITLE),i(g.Block,{className:L.default.marginTop20},void 0,i(g.Input,{autoFocus:!0,label:P.default.Messages.FORM_LABEL_EMAIL,className:L.default.marginBottom20,name:"email",value:r,onChange:function(e){return t.setState({email:e})},error:G(h),type:"email",setRef:function(e){t.emailRef=e}}),i(g.Input,{label:P.default.Messages.FORM_LABEL_USERNAME,className:L.default.marginBottom20,name:"username",value:o,onChange:function(e){return t.setState({username:e})},error:G(y),setRef:function(e){t.usernameRef=e}}),i(g.Input,{label:P.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:a,onChange:function(e){return t.setState({password:e})},error:G(m),type:"password",setRef:function(e){t.passwordRef=e}}),E,C,I,i(g.Button,{look:g.Button.Looks.LINK,onClick:this.handleGotoLogin,className:L.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),_))},t.prototype.render=function(){var e=this,t=this.props,n=t.isGuest,r=t.authBoxClassName;if(this.hasError("captcha_key"))return i(A.default,{authBoxClassName:r,onVerify:this.handleCaptchaVerify,title:n?null:P.default.Messages.REGISTER_TITLE});var o=this.props,a=o.invite,l=o.giftCode;return null!=a?a.state===R.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=l?this.renderFull(function(){return e.renderGiftCodeHeader(l)}):this.renderFull()},l(t,[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}]),t}(u.PureComponent);F.defaultProps={giftCodeResolved:!1,transitionTo:function(e){return r.location.assign(e)}},F.displayName="Register",t.default=f.default.connectStores([m.default],function(){return{consentRequired:m.default.getConsentRequired(),authenticated:m.default.isAuthenticated(),registering:m.default.getRegisterStatus(),errors:m.default.getErrors()}})(F),e.exports=t.default}).call(this,n(7))},6598:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetch:function(){r.default.get(a.Endpoints.FRIEND_SUGGESTIONS).then(function(e){return o.default.dispatch({type:a.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})},function(){return o.default.dispatch({type:a.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})})},ignore:function(e){r.default.delete(a.Endpoints.FRIEND_SUGGESTIONS+"/"+e)}},e.exports=t.default},6599:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(6144),l=(r=i)&&r.__esModule?r:{default:r},u=n(0);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){var t=r.props;(0,t.onChange)(!t.value,e)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.activeSrc,r=e.inactiveSrc,i=e.activeSrcHover,u=e.inactiveSrcHover,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["value","activeSrc","inactiveSrc","activeSrcHover","inactiveSrcHover"]),d=t?n:r,f=t?i:u;return a.createElement(l.default,o({},s,{onClick:this.handleClick,src:d,srcHover:f}))},t}(a.PureComponent);d.defaultProps={value:!1,size:l.default.Sizes.MEDIUM,onChange:u.NOOP},d.displayName="ToggleIcon",t.default=d,e.exports=t.default},6600:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={show:function(e,t){o.default.dirtyDispatch({type:a.ActionTypes.TUTORIAL_INDICATOR_SHOW,tutorialId:e,renderData:t})},hide:function(e){o.default.dirtyDispatch({type:a.ActionTypes.TUTORIAL_INDICATOR_HIDE,tutorialId:e})},dismiss:function(e){o.default.dispatch({type:a.ActionTypes.TUTORIAL_INDICATOR_DISMISS,tutorialId:e}),r.default.put(a.Endpoints.TUTORIAL_INDICATORS+"/"+e)},suppressAll:function(){o.default.dispatch({type:a.ActionTypes.TUTORIAL_INDICATOR_SUPPRESS_ALL}),r.default.post(a.Endpoints.TUTORIAL_INDICATORS+"/suppress")}},e.exports=t.default},6601:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),d(n(17))),i=d(n(221)),l=d(n(306)),u=n(0),s=d(n(5515));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({DEFAULT:"",BOLD:"Bold"}),c=function(e){var t,n,r=e.closeAction,d=e.theme,c=e.variant,p=e.keybind;return o("div",{className:s.default.container},void 0,o(i.default,{className:(0,a.default)(s.default.closeButton,(t={},t[s.default.closeButtonBold]=c===f.BOLD,t)),onClick:r},void 0,o(l.default,{name:l.default.Names.CLOSE,color:u.ThemeTypes.DARK===d?u.Colors.PRIMARY_DARK_200:u.Colors.PRIMARY_DARK_400,width:18,height:18})),o("div",{className:(0,a.default)(s.default.keybind,(n={},n[s.default.keybindBold]=c===f.BOLD,n))},void 0,p))};c.displayName="CloseIconWithKeybind",c.defaultProps={variant:f.DEFAULT},c.Variants=f,t.default=c,e.exports=t.default},6602:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(8)),o=u(n(1)),a=u(n(484)),i=n(0),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE}),r.default.post({url:e,body:{password:t}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e},function(e){throw o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e})}t.default={enable:function(e){var t=e.code,n=e.secret;return r.default.post({url:i.Endpoints.MFA_TOTP_ENABLE,body:{code:t,secret:n}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})})},disable:function(){(0,a.default)({title:l.default.Messages.TWO_FA_DISABLE,actionText:l.default.Messages.TWO_FA_REMOVE},function(e){return r.default.post({url:i.Endpoints.MFA_TOTP_DISABLE,body:e})},{checkEnabled:!0}).then(function(e){var t=e.body.token;return o.default.dispatch({type:i.ActionTypes.MFA_DISABLE_SUCCESS,token:t})})},enableSMS:function(e){return s(i.Endpoints.MFA_SMS_ENABLE,e)},disableSMS:function(e){return s(i.Endpoints.MFA_SMS_DISABLE,e)},viewBackupCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.default.post({url:i.Endpoints.MFA_CODES,body:{password:e,regenerate:t}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_VIEW_BACKUP_CODES,codes:e.body.backup_codes})})},clearBackupCodes:function(){o.default.dirtyDispatch({type:i.ActionTypes.MFA_CLEAR_BACKUP_CODES})}},e.exports=t.default},6603:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.fetchConsents=function(){return o.default.get({url:i.Endpoints.SETTINGS_CONSENT}).then(s,function(e){return Promise.reject(new Error(e.body.message))})},t.setConsents=function(e,t){return o.default.post({url:i.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t}}).then(s,d)};var o=u(n(8)),a=u(n(1)),i=n(0),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return null!=e&&null!=e.body&&a.default.dispatch({type:i.ActionTypes.UPDATE_CONSENTS,consents:r({},e.body)}),e.body}function d(e){var t=void 0;throw t=e.status>=500&&e.status<=599?l.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:l.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED,new Error(t)}},6604:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=i(n(6340));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=[];var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPayment=function(e){return l.find(function(t){return t.id===e})},t.prototype.getPayments=function(){return l},t}(r.default.Store);t.default=new u(o.default,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=function(e){null==l.find(function(t){return t.id===e.id})&&l.push(a.default.createFromServer(e))},n=e.payments,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}t(i)}l.sort(function(e,t){return t.createdAt-e.createdAt}),l=[].concat(l)},LOGOUT:function(e){l=[]}}),e.exports=t.default},6605:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=D(n(2)),s=w(n(4)),d=w(n(1)),f=D(n(234)),c=D(n(884)),p=D(n(6147)),h=(n(449),w(n(6099))),y=w(n(6076)),m=w(n(236)),v=w(n(6148)),_=w(n(128)),E=w(n(152)),g=w(n(222)),S=n(829),T=w(n(9)),I=w(n(6230)),C=w(n(6341)),N=w(n(6342)),A=w(n(6016)),O=w(n(6343)),b=w(n(6176)),M=n(6344),R=n(0),P=w(n(13)),L=w(n(5529));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function U(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var G=Object.freeze({PAYMENT_TYPE:"payment_type",CARD_INFO:"card_info",ADDRESS:"billing_address",PAYMENT_REQUEST_INFO:"payment_request_info",PAYPAL:"paypal"}),x=((o={})[G.PAYMENT_TYPE]=P.default.Messages.PAYMENT_SOURCE_TYPE,o[G.PAYMENT_REQUEST_INFO]=P.default.Messages.BILLING_STEP_PAYMENT_INFO,o[G.CARD_INFO]=P.default.Messages.PAYMENT_SOURCE_INFORMATION,o[G.ADDRESS]=P.default.Messages.BILLING_ADDRESS,o[G.PAYPAL]=P.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS,o),F=[G.PAYMENT_TYPE,G.CARD_INFO,G.ADDRESS],j=[G.PAYMENT_TYPE,G.PAYPAL,G.ADDRESS],B=[G.PAYMENT_TYPE,G.PAYMENT_REQUEST_INFO];function H(e){return e.hasCardError()?G.CARD_INFO:e.hasAddressError()?G.ADDRESS:null}var V=i(O.default,{}),Y=function(e){function t(){var n,r,o,l,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,h=Array(c),y=0;y<c;y++)h[y]=arguments[y];return r=o=k(this,e.call.apply(e,[this].concat(h))),o.state={type:R.PaymentSourceTypes.CARD,step:G.PAYMENT_TYPE,steps:F,errorStep:null},o.STEPS_DATA=((n={})[G.PAYMENT_TYPE]={renderBody:function(){return i(N.default,{allowStripeRequestPayments:!T.default.embedded,onChooseType:o.handleChooseType,onPaymentSourceReceived:o.handleStripePaymentSource})}},n[G.PAYMENT_REQUEST_INFO]={renderBody:function(){var e=o.props,t=e.stripePaymentSource,n=e.submitting;return i(M.PaymentRequestStepBody,{stripePaymentSource:t,submitting:n})},renderNextButton:function(){var e=o.props.submitting;return i(_.default,{submitting:e,look:_.default.Looks.OUTLINED,disabled:!0})}},n[G.CARD_INFO]={renderBody:function(){var e=o.props,t=e.creditCardInfo,n=e.error,r=null!=n&&(null==n.code||H(n)===G.CARD_INFO);return i(u.Fragment,{},void 0,r?i(A.default,{className:L.default.errorBlock},void 0,P.default.Messages.BILLING_ERROR_SECTION_CARD):null,u.createElement(C.default,a({},t,{onCardInfoChange:o.handleCardInfoChange,error:r?n:null})))},renderNextButton:function(){var e=o.props,t=e.isCreditCardInfoValid,n=e.submitting;return i(_.default,{disabled:!t,onClick:o.handleNextClick,type:"submit",submitting:n},void 0,P.default.Messages.NEXT)}},n[G.ADDRESS]={renderBody:function(){var e=o.props,t=e.billingAddressInfo,n=e.error,r=null!=n&&(null==n.code||H(n)===G.ADDRESS);return i(u.Fragment,{},void 0,r?i(A.default,{className:L.default.errorBlock},void 0,P.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,u.createElement(I.default,a({},t,{onBillingAddressChange:o.handleBillingAddressChange,error:r?n:null})))},renderNextButton:function(){var e=o.props,t=e.submitting,n=e.isBillingAddressInfoValid;return i(_.default,{type:"submit",submitting:t,disabled:!n,onClick:o.state.type===R.PaymentSourceTypes.PAYPAL?o.handlePaypalSave:o.handleCardSave},void 0,P.default.Messages.SAVE)}},n[G.PAYPAL]={renderBody:function(){return V},renderNextButton:function(){var e=o.props,t=e.submitting,n=e.braintreeNonce,r=null!=e.braintreeEmail&&null!=n;return i(_.default,{submitting:t,look:r?_.default.Looks.FILLED:_.default.Looks.OUTLINED,onClick:r?o.handleNextClick:o.handleReopenPaypal},void 0,r?P.default.Messages.NEXT:P.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN)}},n),o.handleChooseType=function(e){var t=o.getSteps(e),n=o.getNextStep(t);null!=n&&o.setState({type:e,steps:t,step:n})},o.handleCardInfoChange=function(e,t){d.default.wait(function(){return p.updateCardInfo(e,t)})},o.handleBillingAddressChange=function(e,t){d.default.wait(function(){return p.updateAddressInfo(e,t)})},o.handleBackClick=function(){var e=o.getPreviousStep();null!=e&&(e===G.PAYMENT_TYPE&&p.clearError(),o.setState({step:e}))},o.handleNextClick=function(){var e=o.getNextStep();null!=e&&o.setState({step:e})},o.handleClose=function(){o.props.onClose()},o.handleStripePaymentSource=function(e){p.updateStripePaymentRequest(e),null!=e?o.handleStripePaymentRequestSave(e):o.handleBackClick()},o.handleStripePaymentRequestSave=(l=U(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.createPaymentRequestPaymentSource(t);case 3:n=e.sent,(r=o.props.onAddPaymentSource)&&r(n),o.handleClose(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,s,[[0,9]])})),function(e){return l.apply(this,arguments)}),o.handleCardSave=U(regeneratorRuntime.mark(function e(){var t,n,r,i,l,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props,n=t.creditCardInfo,r=t.billingAddressInfo,i=t.isCreditCardInfoValid,l=t.isBillingAddressInfoValid,u=t.onAddPaymentSource,i&&l){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,f.createCardPaymentSource(a({},n,{billingAddress:r,type:R.PaymentSourceTypes.CARD,isDefault:!1}));case 6:d=e.sent,u&&u(d),o.handleClose(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,s,[[3,11]])})),o.handlePaypalSave=U(regeneratorRuntime.mark(function e(){var t,n,r,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props,n=t.braintreeEmail,r=t.braintreeNonce,a=t.billingAddressInfo,i=t.onAddPaymentSource,null==n||null==r){e.next=12;break}return e.prev=2,e.next=5,f.createPaypalPaymentSource(r,a);case 5:l=e.sent,i&&i(l),o.handleClose(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,s,[[2,10]])})),k(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.error,r=t.errorStep;if(null==n)return null==r?null:{errorStep:null};var o=H(n);return null!=o&&o!==t.errorStep?{step:o,errorStep:o}:null},t.prototype.componentDidMount=function(){c.createClient()},t.prototype.componentWillUnmount=function(){d.default.wait(function(){return c.teardown()}),p.clearCardInfo()},t.prototype.getSteps=function(e){switch(null!=e?e:this.state.type){case R.PaymentSourceTypes.PAYMENT_REQUEST:return B;case R.PaymentSourceTypes.PAYPAL:return j;default:return F}},t.prototype.getNextStep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.steps,t=this.state.step;return e[e.indexOf(t)+1]},t.prototype.getPreviousStep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.steps,t=this.state.step;return e[e.indexOf(t)-1]},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.handleReopenPaypal=function(){c.reopenPayPalWindow()},t.prototype.renderGenericError=function(){var e=this.props.error;return null==e||null!=H(e)?null:i(A.default,{className:L.default.errorBlock},void 0,e.message)},t.prototype.renderFooter=function(){var e=this.stepData;return null==e.renderNextButton?null:i(g.default.Footer,{},void 0,i(E.default,{justify:E.default.Justify.BETWEEN},void 0,i(_.default,{onClick:this.handleBackClick,color:_.default.Colors.WHITE,look:_.default.Looks.LINK,size:_.default.Sizes.MIN},void 0,P.default.Messages.BACK),e.renderNextButton()))},t.prototype.render=function(){var e=this.state,t=e.step,n=e.steps,r=n.map(function(e){return{id:e,label:x[e]}});return i(g.default,{fullscreenOnMobile:!0,size:g.default.Sizes.SMALL,className:L.default.modal},void 0,i("form",{className:L.default.form,onSubmit:this.preventDefault},void 0,i(g.default.Header,{separator:!1},void 0,i(E.default,{direction:E.default.Direction.VERTICAL},void 0,i(E.default,{className:L.default.modalTitle,justify:E.default.Justify.BETWEEN,align:E.default.Align.CENTER},void 0,i(S.FormTitle,{tag:S.FormTitleTags.H4},void 0,P.default.Messages.PAYMENT_SOURCES_ADD),i(g.default.CloseButton,{hideOnFullscreen:!0,onClick:this.handleClose})),this.renderGenericError(),i(v.default,{breadcrumbs:r,activeId:t}))),i("div",{className:L.default.divider}),i(g.default.Content,{className:L.default.content,outerClassName:L.default.modalContent},void 0,i(b.default,{step:t,steps:n},void 0,this.stepData.renderBody())),this.renderFooter()))},l(t,[{key:"stepData",get:function(){var e=this.state.step,t=this.STEPS_DATA[e];if(null==t)throw new Error("Invalid step "+e);return t}}]),t}(u.PureComponent);Y.displayName="AddPaymentModal",t.default=s.default.connectStores([y.default,m.default,h.default],function(){return{braintreeEmail:y.default.braintreeEmail,braintreeNonce:y.default.braintreeNonce,stripePaymentSource:y.default.stripePaymentSource,creditCardInfo:y.default.getCreditCardInfo(),isCreditCardInfoValid:y.default.isCardInfoValid,billingAddressInfo:y.default.getBillingAddressInfo(),isBillingAddressInfoValid:y.default.isBillingAddressInfoValid,error:y.default.error,submitting:h.default.isBusy}})(Y),e.exports=t.default},6610:function(e,t,n){e.exports=n.p+"59c726954bd8424f376ca3a7eedc4c54.svg"},6611:function(e,t,n){e.exports=n.p+"fe5ef0f14b8d025d73465e2d76913e20.svg"},6612:function(e,t,n){"use strict";t.__esModule=!0,t.generateVerificationLevelOptions=function(){return[{name:i.default.Messages.VERIFICATION_LEVEL_NONE,desc:i.default.Messages.VERIFICATION_LEVEL_NONE_CRITERIA,value:o.VerificationLevels.NONE},{name:i.default.Messages.VERIFICATION_LEVEL_LOW,desc:i.default.Messages.VERIFICATION_LEVEL_LOW_CRITERIA,value:o.VerificationLevels.LOW,color:o.Colors.STATUS_GREEN},{name:i.default.Messages.VERIFICATION_LEVEL_MEDIUM,desc:i.default.Messages.VERIFICATION_LEVEL_MEDIUM_CRITERIA.format({min:o.VerificationCriteria.ACCOUNT_AGE}),value:o.VerificationLevels.MEDIUM,color:o.Colors.STATUS_YELLOW},{name:"(╯°□°）╯︵ ┻━┻",desc:i.default.Messages.VERIFICATION_LEVEL_HIGH_CRITERIA.format({min:o.VerificationCriteria.MEMBER_AGE}),value:o.VerificationLevels.HIGH,color:o.UNSAFE_Colors.ORANGE},{name:"┻━┻ ﾐヽ(ಠ益ಠ)ノ彡┻━┻",desc:i.default.Messages.VERIFICATION_LEVEL_VERY_HIGH_CRITERIA,value:o.VerificationLevels.VERY_HIGH,color:o.Colors.STATUS_RED}]},t.generateContentFilterOptions=function(){return[{name:i.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED,desc:i.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED_DESCRIPTION,value:o.GuildExplicitContentFilterTypes.DISABLED},{name:i.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM,desc:i.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM_DESCRIPTION,value:o.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES},{name:i.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH,desc:i.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH_DESCRIPTION,value:o.GuildExplicitContentFilterTypes.ALL_MEMBERS}]},t.generateDMSafetyOptions=function(){return[{name:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS,desc:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS_HELP,value:o.ExplicitContentFilterTypes.FRIENDS_AND_NON_FRIENDS,color:o.Colors.STATUS_GREEN},{name:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS,desc:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS_HELP,value:o.ExplicitContentFilterTypes.NON_FRIENDS,color:o.Colors.STATUS_YELLOW},{name:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED,desc:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED_HELP,value:o.ExplicitContentFilterTypes.DISABLED,color:o.Colors.STATUS_RED}]};var r,o=n(0),a=n(13),i=(r=a)&&r.__esModule?r:{default:r}},6613:function(e,t,n){e.exports=n.p+"4bc527c257233fc69b94342d77bcb9ee.svg"},6614:function(e,t,n){e.exports=n.p+"896770bf2d6ed0358ed0adefdbe96a24.svg"},6615:function(e,t,n){"use strict";t.__esModule=!0,t.Header=t.Application=t.User=t.GroupDM=t.Channel=t.Guild=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(5994)),l=y(n(6065)),u=y(n(221)),s=y(n(5988)),d=y(n(6015)),f=y(n(306)),c=y(n(6063)),p=n(6029),h=y(n(5536));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){var n,r;m(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){e.preventDefault();var t=r.props.onClick,n=r.node;null!=n&&t(e,n)},r.handleMouseEnter=function(e){var t=r.props.onMouseEnter,n=r.node;null!=n&&t(e,n)},r.setRef=function(e){r.node=e},v(r,n)}return _(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.focused,n=e.onFocus,r=this.node;t&&null!=r&&n(r)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.focused,r=t.onFocus,o=this.node;null!=o&&n&&!e.focused&&r(o)},t.prototype.render=function(){var e=this.props,t=e.focused,n=e.children;return o(u.default,{innerRef:this.setRef,className:t?h.default.resultFocused:h.default.resultDefault,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},void 0,n)},t}(a.PureComponent);E.displayName="Result",(t.Guild=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.renderIcon=function(){var e=this.props.guild;return o("div",{className:h.default.guildIconContainer},void 0,o(d.default,{guild:e,size:d.default.Sizes.MINI,className:h.default.guildIcon}))},t.prototype.renderName=function(){var e=this.props.guild;return o("div",{className:h.default.name},void 0,o("span",{className:h.default.match},void 0,e.name))},t.prototype.renderContent=function(){var e=this.props,t=e.unread,n=e.children;return o("div",{className:t?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),o("div",{className:h.default.misc},void 0,n))},t.prototype.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return o(E,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component)).displayName="Guild";var g=t.Channel=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.renderIcon=function(){var e=this.props.channel,t=(0,p.getIconNameForChannel)(e);return null==t?null:o("div",{className:h.default.iconContainer},void 0,o(f.default,{name:t,className:h.default.icon,background:h.default.iconBackground,width:16,height:16}))},t.prototype.renderName=function(){var e=this.props,t=e.mentions,n=e.category,r=e.channel,a=void 0;null!=t&&t>0&&(a=o(l.default,{className:h.default.badge,value:t}));var i=void 0;return null!=n&&(i=o("span",{className:h.default.note},void 0,n.toString())),o("div",{className:h.default.name},void 0,o("span",{className:h.default.match},void 0,r.toString()),a,this.renderVoiceStates(),i)},t.prototype.renderVoiceStates=function(){var e=this.props.voiceStates;return null==e?null:o(c.default,{users:e.map(function(e){return{user:e.user}}),max:4})},t.prototype.renderContent=function(){var e=this.props,t=e.unread,n=e.mentions,r=e.children;return o("div",{className:t||null!=n&&n>0?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),o("div",{className:h.default.misc},void 0,r))},t.prototype.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return o(E,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);g.defaultProps={unread:!1},g.displayName="Channel",(t.GroupDM=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.renderIcon=function(){var e=this.props.channel;return o("div",{className:h.default.dmIconContainer},void 0,o(i.default,{channel:e,size:"xsmall"}))},t.prototype.renderName=function(){var e=this.props,t=e.mentions,n=e.channel,r=void 0;return null!=t&&t>0&&(r=o(l.default,{className:h.default.badge,value:t})),o("div",{className:h.default.name},void 0,o("span",{className:h.default.match},void 0,n.toString()),r)},t.prototype.renderContent=function(){var e=this.props,t=e.mentions,n=e.children;return o("div",{className:null!=t&&t>0?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),o("div",{className:h.default.misc},void 0,n))},t.prototype.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return o(E,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component)).displayName="GroupDM",(t.User=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.renderIcon=function(){var e=this.props.user;return o("div",{className:h.default.iconContainer},void 0,o(i.default,{user:e,size:"xsmall"}))},t.prototype.renderName=function(){var e=this.props,t=e.user,n=e.comparator,r=e.mentions,a=e.nickname,i=void 0;null!=r&&r>0&&(i=o(l.default,{className:h.default.badge,value:r}));var u=void 0;if(null!=n&&n===t.tag){var s=n.split("#");s.pop(),u=s.join("#")}else u=n||t.username;return u===t.username&&(u=a||u),o("div",{className:h.default.name},void 0,o("span",{className:h.default.match},void 0,u),i,o("span",{className:h.default.username},void 0,t.tag))},t.prototype.renderContent=function(){var e=this.props,t=e.children,n=e.mentions;return o("div",{className:null!=n&&n>0?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),o("div",{className:h.default.misc},void 0,t))},t.prototype.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return o(E,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component)).displayName="User",(t.Application=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.children,n=e.application;return o("div",{className:h.default.contentDefault},void 0,o("div",{className:h.default.iconContainer},void 0,o(s.default,{className:h.default.gameIcon,game:n,size:h.default.gameIconSize})),n.name,o("div",{className:h.default.misc},void 0,t))},t.prototype.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return o(E,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component)).displayName="Application",(t.Header=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){return o("div",{className:h.default.resultDefault},void 0,o("div",{className:h.default.contentDefault},void 0,o("div",{className:h.default.header},void 0,this.props.children)))},t}(a.Component)).displayName="Header"},6616:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(4)),a=n(57),i=h(n(1)),l=h(n(841)),u=h(n(46)),s=h(n(51)),d=h(n(155)),f=h(n(35)),c=h(n(134)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=p.ThemeTypes.DARK,m=null;function v(){y=f.default.theme}function _(){m=s.default.getChannelId(d.default.getGuildId())}function E(e){return e.channelId===m}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(f.default,l.default,d.default,s.default,c.default),this.syncWith([f.default],v),this.syncWith([d.default,s.default,l.default],_)},r(t,[{key:"theme",get:function(){if(null!=m){var e=d.default.getGuildId(),t=c.default.isInChannel(e,m)&&(null!=e||c.default.hasVideo(e,m))&&u.default.supports(a.Features.VIDEO)?l.default.getLayout(m):null;return t===p.ChannelLayouts.NORMAL||t===p.ChannelLayouts.NO_CHAT?p.ThemeTypes.DARK:y}return y}}]),t}(o.default.Store);t.default=new g(i.default,{VOICE_STATE_UPDATE:E,CHANNEL_RTC_UPDATE_LAYOUT:E}),e.exports=t.default},6617:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=f(n(116)),s=f(n(313)),d=f(n(499));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(e){var t=e.height;return a("div",{style:{width:"100%",height:t,visibility:"hidden"}})};p.displayName="Spacer";var h=function(){function e(t){var n=t.sectionHeight,r=t.rowHeight,o=t.footerHeight,a=t.sections,i=t.uniform,l=t.paddingTop,u=t.paddingBottom;c(this,e),this.sectionHeight=n,this.rowHeight=r,this.footerHeight=o,this.numberOfSections=a.length,this.numberOfRows=a.reduce(function(e,t){return e+t},0),this.sections=a,this.uniform=i,this.paddingTop=l,this.paddingBottom=u}return e.prototype.getHeight=function(){for(var e=this.paddingTop,t=0;t<this.numberOfSections;t++){if(e+=this.getHeightForSection(t),this.uniform)e+=this.sections[t]*this.getHeightForRow(t);else for(var n=0;n<this.sections[t];n++)e+=this.getHeightForRow(t,n);e+=this.getHeightForFooter(t)}return e+this.paddingBottom},e.prototype.getHeightForSection=function(e){var t=this.sectionHeight;return"number"==typeof t?t:t(e)},e.prototype.getHeightForRow=function(e,t){var n=this.rowHeight;return"number"==typeof n?n:n(e,t)},e.prototype.getHeightForFooter=function(e){var t=this.footerHeight;return"number"==typeof t?t:t(e)},e.prototype.compute=function(e,t){var n=this.sections,r=this.paddingTop,o=this.paddingTop,a=this.paddingBottom,i=[];function l(n){var i=r;return(r+=n)<e?(o+=n,!1):!(i>t)||(a+=n,!1)}for(var u=0;u<n.length;u++){var s=n[u];if(0!==s){if(l(this.getHeightForSection(u))&&i.push({section:u}),this.uniform)for(var d=this.getHeightForRow(u),f=0;f<s;f++)l(d)&&i.push({section:u,row:f});else for(var c=0;c<s;c++)l(this.getHeightForRow(u,c))&&i.push({section:u,row:c});l(this.getHeightForFooter(u))&&i.push({section:u,footer:!0})}}return{spacerTop:o,spacerBottom:a,items:i}},e.prototype.computeScrollPosition=function(e,t){for(var n=this.sections,r=this.paddingTop,o=0,a=!1;o<=e;){var i=n[o];if(0!==i){if(r+=this.getHeightForSection(o),this.uniform){var l=this.getHeightForRow(o);o===e?(r+=l*t,a=!0):r+=l*i}else for(var u=0;u<i;u++)if(o<e||o===e&&u<t)r+=this.getHeightForRow(o,u);else if(o===e&&u===t){a=!0;break}a||(r+=this.getHeightForFooter(o)),o+=1}else o+=1}return{scrollTop:r,rowHeight:this.getHeightForRow(e,t)}},e}(),y=function(e){function t(n){c(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={spacerTop:0,spacerBottom:0,items:[],scrolling:!1},r.handleResize=r.handleResize.bind(r),r.handleScroll=r.handleScroll.bind(r),r.setScrollerRef=r.setScrollerRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState(this.getStateFromScroller())},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.uniform&&(0,u.default)(e,this.props)||this.setState(this.getStateFromScroller(e))},t.prototype.componentDidUpdate=function(e,t){t.containerHeight!==this.getContainerHeight()&&this.setState(this.getStateFromScroller())},t.prototype.componentWillUnmount=function(){null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout)},t.prototype.setScrollerRef=function(e){this._scroller=e},t.prototype.getStateFromScroller=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.sectionHeight,n=e.rowHeight,r=e.footerHeight,a=e.sections,i=e.uniform,l=e.paddingTop,u=e.paddingBottom,s=new h({sectionHeight:t,rowHeight:n,footerHeight:r,sections:a,uniform:i,paddingTop:l,paddingBottom:u}),d=this.getScrollTop(),f=this.getContainerHeight(),c=Math.ceil(f/2),p=c*Math.ceil(d/c),y=p+c,m=s.compute(Math.max(0,p-c),Math.min(s.getHeight(),y+c)),v=o({containerHeight:f},m),_=this.props.onScrollerStateUpdate;return null!=_&&_(v),v},t.prototype.handleResize=function(e){this.setState(this.getStateFromScroller());var t=this.props.onResize;null!=t&&t(e)},t.prototype.handleScroll=function(e){var t=this;null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout),this._scrollingTimeout=setTimeout(function(){return t.setState({scrolling:!1})},100),this.setState(o({},this.getStateFromScroller(),{scrolling:!0}));var n=this.props.onScroll;null!=n&&n(e)},t.prototype.renderItems=function(){var e=this.props,t=e.renderSection,n=e.wrapSection,r=e.renderRow,o=e.renderFooter,a=[],i=[],l=0;return this.state.items.forEach(function(e){var u=e.section,s=e.row;!0===e.footer?(i.push(o(u)),a.push(null!=n?n(l,i):i),i=[]):(l=u,null==s?i.push(t(u)):i.push(r(u,s)))}),i.length>0&&a.push(n?n(l,i):i),a},t.prototype.render=function(){var e,t=this.props,n=t.children,r=t.track,u=t.theme,f=t.className,c=t.backgroundColor,h=(t.footerHeight,t.onScrollerStateUpdate,t.renderFooter,t.renderRow,t.renderSection,t.rowHeight,t.sectionHeight,t.sections,t.uniform,t.wrapSection,t.paddingTop,t.paddingBottom,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","track","theme","className","backgroundColor","footerHeight","onScrollerStateUpdate","renderFooter","renderRow","renderSection","rowHeight","sectionHeight","sections","uniform","wrapSection","paddingTop","paddingBottom"])),y=this.state,m=y.spacerTop,v=y.spacerBottom,_=y.scrolling;return i.createElement(s.default,o({},h,{ref:this.setScrollerRef,className:(0,l.default)(f,(e={},e[d.default.scrolling]=_,e)),onResize:this.handleResize,onScroll:this.handleScroll,track:r,theme:u,backgroundColor:c}),n,a(p,{height:m}),this.renderItems(),a(p,{height:v}))},t.prototype.getItems=function(){return this.state.items},t.prototype.isItemVisible=function(e,t){var n=this.getScrollPosition(e,t),r=this.getScrollTop(),o=this.getContainerHeight();return!(n.scrollTop<r-n.rowHeight||n.scrollTop+n.rowHeight>r+o)},t.prototype.getScrollPosition=function(e,t){var n=this.props,r=n.sectionHeight,o=n.rowHeight,a=n.footerHeight,i=n.sections,l=n.uniform,u=n.paddingTop,s=n.paddingBottom;return new h({sectionHeight:r,rowHeight:o,footerHeight:a,sections:i,uniform:l,paddingTop:u,paddingBottom:s}).computeScrollPosition(e,t)},t.prototype.getScrollerNode=function(){return this._scroller&&this._scroller.getScrollerNode()},t.prototype.getScrollTop=function(){return this._scroller&&this._scroller.getScrollData().scrollTop||0},t.prototype.getContainerHeight=function(){return this._scroller&&this._scroller.getScrollData().offsetHeight||0},t.prototype.getScrollData=function(){return this._scroller&&this._scroller.getScrollData()},t.prototype.scrollIntoView=function(e,t,n){this._scroller&&this._scroller.scrollIntoViewRect(e,t,n)},t.prototype.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];this._scroller&&this._scroller.scrollTo(e,t,n)},t.prototype.scrollToRow=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this.getScrollPosition(e,t),a=this.getScrollTop(),i=this.getContainerHeight();o.scrollTop<a+r?this.scrollTo(o.scrollTop-r,n):o.scrollTop+o.rowHeight>a+i&&this.scrollTo(o.scrollTop-i+o.rowHeight+r,n)},t}(i.PureComponent);y.Themes=s.default.Themes,y.defaultProps={track:!1,renderSection:function(){return null},renderFooter:function(){return null},sectionHeight:0,footerHeight:0,paddingTop:0,paddingBottom:0,uniform:!0,theme:s.default.Themes.GHOST},y.displayName="List",t.default=y,e.exports=t.default},6618:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=j(n(17)),l=j(n(308)),u=j(n(6)),s=j(n(309)),d=j(n(443)),f=j(n(4)),c=j(n(183)),p=j(n(318)),h=j(n(157)),y=j(n(131)),m=j(n(330)),v=j(n(22)),_=j(n(6178)),E=j(n(28)),g=j(n(228)),S=j(n(6619)),T=j(n(153)),I=j(n(51)),C=j(n(35)),N=j(n(154)),A=j(n(128)),O=j(n(221)),b=j(n(827)),M=j(n(6082)),R=j(n(313)),P=j(n(444)),L=j(n(18)),w=n(109),D=j(n(45)),U=j(n(6118)),k=n(0),G=j(n(13)),x=j(n(5417)),F=j(n(5539));function j(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var H=function(e){var t=e.title,n=e.children,r=e.className;return o("div",{className:(0,i.default)(F.default.header,x.default.header,r)},void 0,o("div",{className:(0,i.default)(F.default.title,x.default.title)},void 0,t),n)};H.displayName="Header";var V=function(e){var t=e.msg,n=e.image;return o("div",{className:F.default.emptyPlaceholder},void 0,o("div",{className:F.default.image,style:{backgroundImage:"url("+n+")"}}),o("div",{className:F.default.body},void 0,t))};V.displayName="EmptyStateCenter";var Y=function(e){var t=e.msg,n=e.image;return o("div",{className:(0,i.default)(F.default.emptyPlaceholder,F.default.bottom)},void 0,o("div",{className:F.default.body},void 0,t),o("div",{className:F.default.image,style:{backgroundImage:"url("+n+")"}}))};Y.displayName="EmptyStateBottom";var W=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=B(this,e.call.apply(e,[this].concat(a))),r.handleClickJump=function(e){var t=r.props;(0,t.jumpTo)(t.message,e)},r.handleClickClose=function(e){var t=r.props,n=t.onCloseMessage,o=t.message;null!=n&&n(o,e)},B(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderJumpButton=function(){var e,t=this.props.jumping;return o(O.default,{className:F.default.jumpButton,onClick:this.handleClickJump},void 0,o("div",{className:(0,i.default)(F.default.text,{hidden:t})},void 0,G.default.Messages.JUMP),o(P.default,{type:P.default.Type.PULSING_ELLIPSIS,className:(0,i.default)(F.default.loading,(e={},e[F.default.visible]=t,e))}))},t.prototype.renderCloseButton=function(){var e=this.props,t=e.onCloseMessage,n=e.canCloseAllMessages,r=e.canManageMessages,a=e.channel;return null==t?null:n||a.isPrivate()||r?o(A.default,{look:A.default.Looks.BLANK,size:A.default.Sizes.NONE,onClick:this.handleClickClose},void 0,o("div",{className:F.default.closeButton})):null},t.prototype.render=function(){return o("div",{className:F.default.actionButtons},void 0,this.renderJumpButton(),this.renderCloseButton())},t}(a.PureComponent);W.displayName="ControlButtons";var K=f.default.connectStores([T.default],function(e){var t=e.channel;return{canManageMessages:T.default.can(k.Permissions.MANAGE_MESSAGES,t)}})(W),z=o(P.default,{}),$=o(P.default,{}),q=(0,l.default)({displayName:"MessagesPopout",mixins:[f.default.StoreListenerMixin(C.default,N.default,S.default,g.default),d.default],statics:{EmptyStateCenter:V,EmptyStateBottom:Y,Header:H},propTypes:{onFetch:s.default.func.isRequired,channel:s.default.instanceOf(y.default),messages:s.default.arrayOf(s.default.instanceOf(m.default)),loading:s.default.bool.isRequired,analyticsName:s.default.string.isRequired,renderEmptyState:s.default.func.isRequired,renderHeader:s.default.func.isRequired,hasMore:s.default.bool,onCloseMessage:s.default.func,onJump:s.default.func,loadMore:s.default.func,showChannels:s.default.bool,showGuildNames:s.default.bool,canCloseAllMessages:s.default.bool},getDefaultProps:function(){return{showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1}},scrollPageUp:function(){var e=this.scroller;e&&e.scrollPageUp(!0)},scrollPageDown:function(){var e=this.scroller;e&&e.scrollPageDown(!0)},UNSAFE_componentWillMount:function(){L.default.track(k.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel)},componentDidMount:function(){w.ComponentDispatch.subscribe(k.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),w.ComponentDispatch.subscribe(k.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},componentWillUnmount:function(){w.ComponentDispatch.unsubscribe(k.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),w.ComponentDispatch.unsubscribe(k.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},getStateFromStores:function(){var e=S.default.hasNotice(),t=C.default.inlineAttachmentMedia,n=C.default.inlineEmbedMedia,r=C.default.renderEmbeds,o=C.default.developerMode,a=C.default.messageDisplayCompact,i=this.props.channel?g.default.getMessages(this.props.channel.id):null,l=!!i&&(i.loadingMore&&!i.get(i.jumpTargetId));return{inlineAttachmentMedia:t,inlineEmbedMedia:n,renderEmbeds:r,developerMode:o,messageDisplayCompact:a,isNoticeOpen:e,size:N.default.windowSize(),jumping:l}},renderControlButtons:function(e){var t=e.channel,n=e.messages[0],r=this.props,a=r.canCloseAllMessages,i=r.onCloseMessage,l=this.state.jumping;return o(K,{channel:t,message:n,jumping:l,canCloseAllMessages:a,jumpTo:this.jumpTo,onCloseMessage:i})},jumpTo:function(e,t){var n=e.id,r=e.blocked,o=e.author,a=e.channel_id;if(r)c.default.show({title:G.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:G.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:o.username}),confirmText:G.default.Messages.OKAY});else if(!this.state.jumping){var i=v.default.getChannel(a);i&&(h.default.trackJump(a,n,this.props.analyticsName),D.default.transitionTo(k.Routes.CHANNEL(i.getGuildId(),a,n))),this.props.onJump&&this.props.onJump(t)}},handleScroll:function(){var e=this.scroller;if(e){var t=e.getScrollData();t.scrollHeight===t.scrollTop+t.offsetHeight&&this.props.hasMore&&!this.props.loading&&this.props.loadMore()}},selectChannel:function(e,t){e!==I.default.getChannelId()&&p.default.transitionToInviteChannelSync(e),this.props.onJump&&this.props.onJump(t)},setScrollerRef:function(e){this.scroller=e},render:function(){var e=this,t=null,n=!0,r=this.props,l=r.messages,s=r.loading,d=r.channel,f=r.className;if(l)if(0===l.length)t=this.props.renderEmptyState(C.default.theme);else{n=!1,t=[];var c=this.props.showChannels?null:d,p=this.state,h=p.renderEmbeds,y=p.inlineEmbedMedia,m=p.inlineAttachmentMedia;u.default.each(l,function(n){if(e.props.showChannels&&(null==c||c.id!==n.channel_id)){c=v.default.getChannel(n.channel_id);var r=E.default.getGuild(c.getGuildId());t.push(o("div",{className:F.default.channelSeparator},""+n.id+c.id,o(O.default,{tag:"span",className:F.default.channelName,onClick:e.selectChannel.bind(null,c.id)},void 0,c?c.toString(!0):"???"),e.props.showGuildNames&&o("span",{className:F.default.guildName},void 0,r?r.toString():"")))}var a=c.isNSFW()?_.default.didAgree(c.getGuildId()):null;if(null!=n){var i=o("div",{className:F.default.messageGroupWrapper},n.id,o("div",{className:F.default.messageGroupWrapperOffsetCorrection},void 0,o(U.default,{cozyClassName:F.default.messageGroupCozy,messages:[n],channel:c,inlineAttachmentMedia:m&&null!=a?a:m,inlineEmbedMedia:y&&null!=a?a:y,renderEmbeds:h&&null!=a?a:h,renderEmbedsSmall:!0,compact:!1,developerMode:e.state.developerMode,hasDivider:!1,popoutPosition:b.default.Positions.LEFT,groupOption:e.renderControlButtons,onClickAnywhere:function(t){return e.jumpTo(n,t)},messageOption:!1,canEdit:!1,renderMentioned:e.props.renderMentioned,disableInteractionLabel:G.default.Messages.JUMP,accessoriesClassName:F.default.accessories})));t.push(i)}})}else t=o("div",{className:(0,i.default)(F.default.emptyPlaceholder,F.default.loadingPlaceholder)},void 0,z);var g=null;t.length>0&&this.props.loadMore&&(g=s?o("div",{className:F.default.loadingMore},"loading-more-after",$):this.props.hasMore?o("div",{className:F.default.hasMore},"has-more-after",o("button",{type:"button",onClick:this.props.loadMore,className:F.default.hasMoreButton},void 0,G.default.Messages.LOAD_MORE_MESSAGES)):o("div",{className:F.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(C.default.theme)));var S=this.props.getProTip&&this.props.getProTip(),T=n&&S?o("div",{className:(0,i.default)(x.default.footer,F.default.footer)},void 0,o(M.default,{style:{width:"100%",paddingTop:10}},void 0,S)):null,I={maxHeight:this.state.size.height-43-25};this.state.isNoticeOpen&&(I.maxHeight-=40);var N=this.props.loadMore&&this.props.hasMore;return o("div",{className:(0,i.default)(F.default.messagesPopoutWrap,x.default.themedPopout,f),style:I},void 0,this.props.renderHeader(),a.createElement(R.default,{className:F.default.messagesPopout,ref:this.setScrollerRef,onScroll:N?this.handleScroll:void 0,backgroundColor:C.default.theme===k.ThemeTypes.LIGHT?k.Colors.WHITE:k.Colors.PRIMARY_DARK_630},t,g),T)}});t.default=q,e.exports=t.default},6619:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=$(n(4)),u=n(57),s=$(n(939)),d=$(n(23)),f=$(n(1)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(234)),p=$(n(136)),h=n(487),y=$(n(158)),m=$(n(155)),v=$(n(6100)),_=$(n(9)),E=$(n(225)),g=$(n(890)),S=$(n(12)),T=$(n(485)),I=$(n(463)),C=$(n(6875)),N=$(n(6089)),A=$(n(6620)),O=$(n(940)),b=$(n(855)),M=$(n(58)),R=$(n(43)),P=$(n(72)),L=$(n(28)),w=$(n(46)),D=$(n(6876)),U=$(n(184)),k=$(n(64)),G=$(n(237)),x=$(n(6621)),F=$(n(312)),j=$(n(6877)),B=$(n(6073)),H=$(n(15)),V=$(n(134)),Y=$(n(466)),W=$(n(846)),K=$(n(187)),z=n(0);function $(e){return e&&e.__esModule?e:{default:e}}p.default.register((0,W.default)(z.Experiments.OFF_PLATFORM_PREMIUM_PERK_UPSELL,"Off Platform Premium Perk Upsell",["Promote premium perk to off platform users.","Control: No upsell","Treatment 1: With upsell"]),((o={})[z.ExperimentTypes.NONE]=function(){return null},o[z.ExperimentTypes.USER]=((r={})[z.ExperimentBuckets.CONTROL]=function(){return null},r[z.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o));var q=((a={})[z.NoticeTypes.DOWNLOAD_NAG]="hideNag",a[z.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",a[z.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",a[z.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",a[z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED]="hidePremiumGrandfatheredStarted",a[z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING]="hidePremiumGrandfatheredEnding",a[z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED]="hidePremiumGrandfatheredEnded",a[z.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]="hideDetectedOffPlatformPremiumPerkUpsell",a),X=new Set([z.NoticeTypes.NO_INPUT_DETECTED,z.NoticeTypes.STREAMER_MODE,z.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,z.NoticeTypes.SPOTIFY_AUTO_PAUSED,z.NoticeTypes.DISPATCH_ERROR,z.NoticeTypes.DISPATCH_ERROR,z.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),Q={},J=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),Z=null;function ee(e){if(null!=e){var t=q[e];null!=t&&d.default.set(t,!0),X.has(e)&&(Q[e]=!0),e===z.NoticeTypes.PREMIUM_PROMO&&(0,h.setFlag)(z.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function te(e){if(null==e)return!1;var t=q[e];return t?d.default.get(t):!!X.has(e)&&Q[e]}function ne(){if(!I.default.isConnected())return!1;Z=null;var e,t=H.default.getCurrentUser(),n=Y.default.getPremiumSubscription(),r=null!=n?n.plan:null,o=V.default.getCurrentVoiceChannelId(null,S.default.getId()),a=null!=o&&V.default.hasVideo(null,o),l=C.default.getDetectedOffPlatformPremiumPerks(),d=void 0,f=A.default.getLastError(),c=O.default.getLastProgress(),p=j.default.getCurrentSurvey();if(null!=g.default.getRequest())Z=i({},J,{type:z.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(U.default.isDisabled())Z=i({},J,{type:z.NoticeTypes.VOICE_DISABLED});else if(!1===w.default.getInputDetected())Z=i({},J,{type:z.NoticeTypes.NO_INPUT_DETECTED});else if(U.default.isConnected()&&w.default.isHardwareMute()){var h=w.default.getInputDeviceId(),m=T.default.getVendor(h),M=T.default.getModel(h);null!=m&&null!=M&&(Z=i({},J,{type:z.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:m,model:M}}))}else if(null!=f)Z=i({},J,{type:z.NoticeTypes.DISPATCH_ERROR,metadata:{error:f}});else if(null!=c)Z=i({},J,{type:z.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:c});else if(G.default.wasAutoPaused())Z=i({},J,{type:z.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!te(z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED)&&null!=r&&E.default.isGrandfathered(r)&&E.default.isNearGrandfatheredStartPeriod())Z=i({},J,{type:z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED,metadata:{plan:r}});else if(!te(z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED)&&null!=r&&E.default.isGrandfathered(r)&&E.default.getDaysToGrandfatheredEnd(r)>=-14&&E.default.getDaysToGrandfatheredEnd(r)<=0)Z=i({},J,{type:z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED});else if(!te(z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING)&&null!=r&&E.default.isGrandfathered(r)&&E.default.getDaysToGrandfatheredEnd(r)>0&&E.default.getDaysToGrandfatheredEnd(r)<=E.default.GRANDFATHERED_DAYS_APPROACHING)Z=i({},J,{type:z.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING,metadata:{plan:r}});else if(null!=t&&null==t.email)Z=i({},J,{type:z.NoticeTypes.UNCLAIMED_ACCOUNT});else if(!_.default.embedded||s.default.supported()&&!b.default.isCorruptInstallation())if(!a||w.default.supports(u.Features.VIDEO)||te(z.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(l.length>0&&E.default.canRedeemPremiumPerks(t)){var P=l[0];Z=i({},J,{type:z.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,metadata:P})}else if(!te(z.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL)&&l.length>0&&(null!=(e=v.default.triggerFirstEligibleUserExperiment([z.Experiments.OFF_PLATFORM_PREMIUM_PERK_UPSELL]))&&e.bucket===z.ExperimentBuckets.TREATMENT_1)){var L=l[0];Z=i({},J,{type:z.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,metadata:L})}else if(N.default.getDisplayType()===z.DetectedPlatformAccountsDisplayTypes.NOTICE)Z=i({},J,{type:z.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:N.default.getDetectedAccounts()});else if(F.default.enabled)Z=i({},J,{type:z.NoticeTypes.STREAMER_MODE});else if(_.default.embedded||te(z.NoticeTypes.DOWNLOAD_NAG))if(d=x.default.getScheduledMaintenance())Z=i({},J,{type:z.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:d.id,start:new Date(d.scheduled_for),end:new Date(d.scheduled_until)}});else if(null!=p)Z=i({},J,{type:z.NoticeTypes.SURVEY,metadata:p});else if(null==t||t.verified)if(G.default.hasConnectedAccount()||!k.default.isObservedAppRunning(y.default.get(z.PlatformTypes.SPOTIFY).name)||te(z.NoticeTypes.CONNECT_SPOTIFY))if(null==t||E.default.isPremium(t)||t.hasFlag(z.UserFlags.PREMIUM_PROMO_DISMISSED)||!D.default.isEligible()||te(z.NoticeTypes.PREMIUM_PROMO))if(null==t||!t.mfaEnabled||t.hasFlag(z.UserFlags.MFA_SMS)||t.hasFlag(z.UserFlags.STAFF)||t.hasFlag(z.UserFlags.PARTNER)||te(z.NoticeTypes.MFA_SMS_BACKUP)){if(null!=K.default.testModeApplicationId){var B=K.default.testModeApplicationId,W=R.default.getGame(B),$=null!=W?W.name:B;Z=i({},J,{type:z.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:$,applicationId:B}})}}else Z=i({},J,{type:z.NoticeTypes.MFA_SMS_BACKUP});else Z=i({},J,{type:z.NoticeTypes.PREMIUM_PROMO});else Z=i({},J,{type:z.NoticeTypes.CONNECT_SPOTIFY});else Z=i({},J,{type:z.NoticeTypes.UNVERIFIED_ACCOUNT});else Z=i({},J,{type:z.NoticeTypes.DOWNLOAD_NAG});else Z=i({},J,{type:z.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});else Z=i({},J,{type:z.NoticeTypes.CORRUPT_INSTALLATION});null!=Z&&te(Z.type)&&(Z=null)}function re(){return F.default.enabled||delete Q[z.NoticeTypes.STREAMER_MODE],ne()}var oe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([j.default,g.default,D.default,C.default],ne),this.waitFor(H.default,x.default,L.default,P.default,U.default,w.default,F.default,M.default,m.default,B.default,g.default,N.default,G.default,k.default,D.default,A.default,O.default,K.default,Y.default,b.default,C.default)},t.prototype.hasNotice=function(){return null!=Z&&null!=Z.type},t.prototype.getNotice=function(){return null==B.default.getAction()?Z:null},t}(l.default.Store);t.default=new oe(f.default,{CONNECTION_OPEN:function(e){return function(){if(!I.default.isConnected())return!1;var e=H.default.getCurrentUser();E.default.isPremium(e)&&E.default.shouldCheckGrandfatheredPlan()&&f.default.wait(function(){return c.fetchSubscriptions()}),ne()}()},CURRENT_USER_UPDATE:function(e){return ne()},AUDIO_ENABLE:function(e){return ne()},VOICE_CHANNEL_CLEAR:function(e){return ne()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return ne()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return ne()},GUILD_CREATE:function(e){return ne()},GUILD_DELETE:function(e){return ne()},AUDIO_INPUT_DETECTED:function(e){return ne()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return ne()},CERTIFIED_DEVICES_SET:function(e){return ne()},AUDIO_SET_INPUT_DEVICE:function(e){return ne()},AUDIO_SET_OUTPUT_DEVICE:function(e){return ne()},MEDIA_ENGINE_DEVICES:function(e){return ne()},RTC_CONNECTION_STATE:function(e){return ne()},RPC_APP_AUTHENTICATED:function(e){return ne()},RPC_APP_DISCONNECTED:function(e){return ne()},PLATFORM_ACCOUNTS_DETECTED:function(e){return ne()},PLATFORM_ACCOUNTS_IGNORE:function(e){return ne()},USER_CONNECTIONS_UPDATE:function(e){return ne()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return ne()},WINDOW_FOCUS:function(e){return ne()},INSTANT_INVITE_CREATE:function(e){return ne()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return ne()},SPOTIFY_PLAYER_PAUSE:function(e){return ne()},RUNNING_GAMES_CHANGE:function(e){return ne()},EXPERIMENTS_FETCH_SUCCESS:function(e){return ne()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return ne()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return ne()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return ne()},DEVELOPER_TEST_MODE_RESET:function(e){return ne()},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return ne()},DISPATCH_APPLICATION_INSTALL:function(e){return ne()},VOICE_STATE_UPDATE:function(e){return e.userId===S.default.getId()&&ne()},STREAMER_MODE_UPDATE:function(e){return re()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return re()},DISPATCH_APPLICATION_ERROR:function(e){return delete Q[z.NoticeTypes.DISPATCH_ERROR],ne()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete Q[z.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],ne()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return ne()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return ne()},NOTICE_SHOW:function(e){Z=e.notice},NOTICE_DISMISS:function(e){return null!=Z&&(null==e.id||e.id===Z.id)&&(ee(Z.type),ne())},NOTICE_DISABLE:function(e){return ee(e.noticeType),ne()},LOGOUT:function(e){return Q={},void(Z=null)}}),e.exports=t.default},6620:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=[a.DispatchErrorCodes.REDISTRIBUTABLE_INSTALL_FAILED,a.DispatchErrorCodes.POST_INSTALL_FAILED,a.DispatchErrorCodes.POST_INSTALL_CANCELLED],s=[a.DispatchErrorCodes.APPLICATION_NOT_FOUND,a.DispatchErrorCodes.APPLICATION_LOAD_FAILED,a.DispatchErrorCodes.INTERRUPTED,a.DispatchErrorCodes.DESERIALIZATION_FAILED];var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLastError=function(){return l},t}(r.default.Store);t.default=new d(o.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=l&&u.includes(l.code)&&(l=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;l=s.includes(t.code)?null:t}}),e.exports=t.default},6621:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(23)),a=l(n(1)),i=l(n(6536));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="MaintenanceStore",s=null,d=null,f=null;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){f=o.default.get(u)},t.prototype.getIncident=function(){return s},t.prototype.getScheduledMaintenance=function(){return null!=d&&d.id!==f?d:null},t}(r.default.Store);t.default=new c(a.default,{CONNECTION_OPEN:function(e){return s=null,void i.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){s=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){d=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return function(){if(null==d)return!1;f=d.id,o.default.set(u,f)}()}}),e.exports=t.default},6750:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=n(180),u=d(n(444)),s=d(n(5809));function d(e){return e&&e.__esModule?e:{default:e}}var f={CONTAIN:"contain",COVER:"cover"},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleReady=function(){r.state.loading&&r.setState({loading:!1})},r.state={loading:null==n.streamId},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSpinner=function(){return this.state.loading?o("div",{className:s.default.spinner},void 0,o(u.default,{type:u.default.Type.SPINNING_CIRCLE})):null},t.prototype.render=function(){var e,t=this.props,n=t.streamId,r=t.videoComponent,a=t.className,u=t.fit,d=t.mirror,f=t.paused;return o("div",{className:s.default.wrapper},void 0,null!=n&&o(r,{className:(0,i.default)(s.default.video,(0,l.getClass)(s.default,"video",u),(e={},e[s.default.mirror]=d,e),a),streamId:n,onReady:this.handleReady,paused:f}),this.renderSpinner())},t}(a.PureComponent);c.Fit=f,c.defaultProps={fit:f.CONTAIN,mirror:!1,paused:!1},c.displayName="VideoStream",t.default=c,e.exports=t.default},6751:function(e,t,n){"use strict";t.__esModule=!0,t.QuickSelectPopout=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(152)),u=d(n(313)),s=d(n(5554));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),c(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,a=e.className;return o(l.default,{className:(0,i.default)(s.default.quickSelect,a),align:l.default.Align.CENTER},void 0,o("div",{className:s.default.quickSelectLabel},void 0,t),o(l.default,{align:l.default.Align.CENTER,className:s.default.quickSelectClick},void 0,o("div",{className:s.default.quickSelectValue},void 0,r?r(n):n.label),o("div",{className:s.default.quickSelectArrow})))},t}(a.PureComponent);h.displayName="QuickSelect";var y=function(e){function t(n){f(this,t);var r=c(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.renderOption,r=e.option;return o(l.default,{className:(0,i.default)(s.default.quickSelectPopoutOption,{selected:t}),onClick:this.handleClick},void 0,n(r,t))},t.prototype.handleClick=function(){var e=this.props,t=e.option,n=e.onChange;n&&n(t)},t}(a.PureComponent);y.displayName="QuickSelectPopoutOption",(t.QuickSelectPopout=function(e){function t(){return f(this,t),c(this,e.apply(this,arguments))}return p(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.options,n=e.renderOption,r=e.value,a=e.scroller,i=e.onChange,l=t.map(function(e){var t=null!=r&&e.value===r.value,a=t?void 0:i;return o(y,{className:s.default.quickSelectPopoutOption,renderOption:n,option:e,onChange:a,selected:t},e.key||e.value)});return a?o(u.default,{className:s.default.quickSelectScroller},void 0,l):l},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.scroller,a=(0,i.default)(s.default.quickSelectPopout,n,((e={})[s.default.quickSelectPopoutScroll]=r,e));return o(l.default,{className:a,direction:l.default.Direction.VERTICAL},void 0,this.renderContent())},t}(a.PureComponent)).displayName="QuickSelectPopout",t.default=h},6752:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=Se(n(17)),s=n(6),d=Se(n(99)),f=Se(n(462)),c=Se(n(4)),p=n(81),h=Se(n(1)),y=Se(n(878)),m=n(6972),v=n(476),_=Se(n(80)),E=n(839),g=Se(n(5980)),S=Se(n(6129)),T=(Se(n(112)),Se(n(840)),Se(n(868)),Se(n(851))),I=Se(n(43)),C=Se(n(28)),N=Se(n(153)),A=Se(n(6028)),O=Se(n(35)),b=Se(n(154)),M=Se(n(6555)),R=Se(n(6173)),P=Se(n(862)),L=Se(n(179)),w=Se(n(838)),D=Se(n(187)),U=Se(n(128)),k=Se(n(6013)),G=Se(n(152)),x=Se(n(306)),F=Se(n(6973)),j=Se(n(313)),B=Se(n(444)),H=Se(n(442)),V=Se(n(18)),Y=n(5989),W=n(844),K=Se(n(45)),z=n(133),$=n(6239),q=Se(n(6101)),X=Se(n(5983)),Q=Se(n(6019)),J=Se(n(6024)),Z=Se(n(6974)),ee=Se(n(6975)),te=Se(n(6977)),ne=Se(n(6978)),re=Se(n(6979)),oe=Se(n(6980)),ae=Se(n(6982)),ie=Se(n(6987)),le=n(6558),ue=Se(le),se=Se(n(6988)),de=Se(n(6994)),fe=Se(n(6553)),ce=Se(n(6997)),pe=Se(n(6999)),he=n(7e3),ye=Se(he),me=Se(n(7001)),ve=n(0),_e=Se(n(13)),Ee=n(6051),ge=Se(n(5604));function Se(e){return e&&e.__esModule?e:{default:e}}function Te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie=8e3,Ce=1500,Ne=50;function Ae(e){return location.protocol+"//"+location.host+e}var Oe=o(B.default,{}),be=o(Z.default,{}),Me=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),f=0;f<i;f++)u[f]=arguments[f];return n=r=Te(this,e.call.apply(e,[this].concat(u))),r.showCopyLinkTextTimeout=new p.Timeout,r._purchaseRef=l.createRef(),r._trackedViewed=!1,r._analyticsSource=null,r._extraAnalyticsProperties=null,r.state={showHeaderPurchaseUnit:!1,showLinkCopied:!1},r.trackCarouselScroll=function(e,t,n){var o=r.props.sku;null!=o&&V.default.track(ve.AnalyticEvents.STORE_LISTING_MEDIA_SCROLLED,a({},o.getAnalyticsData(),{card_index:n,card_type:e.type===ve.CarouselMediaTypes.IMG?"image":"video"}))},r.copyCurrentUrl=function(){var e=r.props.location;(0,Y.copy)(Ae(e.pathname)),r.setState({showLinkCopied:!0},function(){r.showCopyLinkTextTimeout.start(Ce,function(){r.setState({showLinkCopied:!1})})})},r.handleCreateInstantInvite=function(){var e=r.props,t=e.channel,n=e.guild;null!=t&&null!=n&&_.default.push(Q.default,{guild:n,channel:t,source:ve.InstantInviteSources.GUILD_CHANNELS})},r.renderInviteLink=function(){var e=r.props,t=e.channel,n=e.guild;return null==t||null==n?null:N.default.can(ve.Permissions.CREATE_INSTANT_INVITE,n)||null!=n.vanityURLCode?o(U.default,{look:U.default.Looks.BLANK,size:U.default.Sizes.NONE,onClick:r.handleCreateInstantInvite,className:ge.default.link},void 0,o(x.default,{name:x.default.Names.LINK,className:ge.default.linkIcon})):null},r.renderCopyLink=function(){var e=r.state.showLinkCopied;return r.isChannelType?r.renderInviteLink():o(H.default,{text:e?_e.default.Messages.APPLICATION_STORE_LINK_COPIED:null,position:H.default.Positions.LEFT,forceOpen:e},void 0,o(U.default,{look:U.default.Looks.BLANK,size:U.default.Sizes.NONE,onClick:r.copyCurrentUrl,className:ge.default.link},void 0,o(x.default,{name:x.default.Names.LINK,className:ge.default.linkIcon})))},r.renderCarousel=function(e,t){if(0===t.carouselItems.length)return null;var n=r.props,a=n.pageSize,i=n.isFocused;return o(X.default,{section:ve.AnalyticsSections.HERO},void 0,o(ae.default,{pageSize:a,items:t.carouselItems.map(function(n){return r.parseMediaItems(e,n,t.assets)}),autoplayInterval:Ie,paused:!i,onChange:r.trackCarouselScroll,onIntentionalChange:r.trackCarouselScroll}))},r.handleScroll=(0,s.debounce)(function(){if(null!=r._purchaseRef.current){var e=d.default.findDOMNode(r._purchaseRef.current.getApplicationBuyButton());if(e instanceof HTMLElement){var t=e.getBoundingClientRect().top,n=t<0||t>window.innerHeight;r.state.showHeaderPurchaseUnit!==n&&r.setState({showHeaderPurchaseUnit:n})}}},Ne),r.renderListing=function(){var e=r.props,t=e.application,n=e.storeListing,a=e.sku,i=e.pageSize;return null==t||null==a||null==n||n.isSlimDirectoryVersion()?o(G.default,{align:G.default.Align.CENTER,justify:G.default.Justify.CENTER},void 0,Oe):i===Ee.PageSizes.SMALL?r.renderSmall(t,n,a):r.renderLarge(t,n,a)},Te(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isFetchingEntitlements,o=e.shouldFetchStatistics,a=e.hasFetchedActivities,i=e.didFetchEntitlements,l=e.isAuthenticated,u=e.location,s=e.fetchStoreListing;if(null!=u.state){var d=u.state,f=d.analyticsSource,c=d.analyticsProperties;this._analyticsSource=f,this._extraAnalyticsProperties=c}else this._analyticsSource=ve.DIRECT_ANALYTICS_LOCATION;(null==n||n.isSlimDirectoryVersion())&&s(),null!=t&&(r||i||(0,v.fetchUserEntitlementsForApplication)(t.applicationId),o&&h.default.wait(function(){return(0,m.fetchStatisticsForApplication)(t.applicationId)})),l&&!a&&y.default.getActivities(),this.handleScroll(),this.trackViewed(),this.replaceUrlWithSlug()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.locale,r=t.sku,o=t.shouldFetchStatistics,a=t.skuId,i=t.storeListingId,l=t.slug,u=t.storeListing,s=t.fetchStoreListing;if(u!==e.storeListing&&null!=u&&(0,$.deepLinkRouteIfLandedAndNotAuthed)(ve.RPCDeepLinks.STORE_LISTING,{skuId:a,slug:l}),n===e.locale&&a===e.skuId||s(),o&&!e.shouldFetchStatistics){if(null==r)throw new Error("Unexpected missing sku");h.default.wait(function(){return(0,m.fetchStatisticsForApplication)(r.applicationId)})}a===e.skuId&&i===e.storeListingId||(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()},t.prototype.componentWillUnmount=function(){this.showCopyLinkTextTimeout.stop();var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;null!=n&&V.default.track(ve.AnalyticEvents.STORE_LISTING_EXITED,{load_id:t,duration_ms:Date.now()-n})},t.prototype.replaceUrlWithSlug=function(){var e=this.props,t=e.sku,n=e.application,r=e.channel,o=e.skuId,a=e.applicationId,i=e.slug;null==r&&(null!=o&&null!=t&&i!==t.slug&&K.default.replaceWith({pathname:ve.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),search:location.search}),null!=a&&null!=n&&null!=n.slug&&i!==n.slug&&K.default.replaceWith({pathname:ve.Routes.APPLICATION_STORE_LISTING_APPLICATION(n.id,n.slug),search:location.search}))},t.prototype.trackViewed=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.hasFetchedNews,o=e.hasNews,i=e.analyticsContext;if(!this._trackedViewed&&null!=t&&null!=n&&null!=n.description&&(this.isChannelType||r)){var l=n.carouselItems.reduce(function(e,t){return null!=t.assetId?e.images++:e.videos++,e},{images:0,videos:0});V.default.track(ve.AnalyticEvents.STORE_LISTING_VIEWED,a({},this._extraAnalyticsProperties,{load_id:i.loadId,has_description:null!=n.description&&n.description.length>0,has_staff_review:null!=n.staffNotes,carousel_image_count:l.images,carousel_video_count:l.videos,has_news:this.isChannelType&&o,location:i.location.page,source:this._analyticsSource},t.getAnalyticsData(!0))),this._trackedViewed=!0}},t.prototype.renderHeaderToolbar=function(e,t){var n=this,r=this.props,a=r.isInTestMode,i=r.slug,l=r.storeListing,s=r.channel,d=r.analyticsContext.location,f=this.state.showHeaderPurchaseUnit;return function(){var r;return o("div",{className:ge.default.headerBarListing},void 0,o("div",{className:ge.default.headerSection},void 0,a&&null!=t?o(ye.default,{size:he.TestModeStoreListingButtonEnums.Sizes.MIN,dropdownSize:he.TestModeStoreListingButtonEnums.DropdownSizes.MEDIUM,look:he.TestModeStoreListingButtonEnums.Looks.OUTLINED,color:he.TestModeStoreListingButtonEnums.Colors.YELLOW,skuId:t.id,className:ge.default.testModeSelectButton,currentStoreListingId:null!=l?l.id:null,onStoreListingSelect:function(e){null!=t&&(0,E.goToSKUStoreListing)(t.id,{slug:i,analyticsSource:{page:d.page,section:ve.AnalyticsSections.NAVIGATION,object:null},storeListingId:e.id})}}):null),o("div",{className:ge.default.headerSection},void 0,o("div",{className:(0,u.default)(ge.default.headerPurchase,(r={},r[ge.default.active]=f,r))},void 0,null!=t?t.getDisplayPrice():null,null!=e&&null!=t?o(J.default,{wrapperClassName:ge.default.headerActionButton,applicationId:e.id,skuId:t.id,color:U.default.Colors.GREEN,size:U.default.Sizes.SMALL,tooltipPosition:H.default.Positions.BOTTOM,entitlementBranchId:null!=l?l.entitlementBranchId:null,channelId:null!=s?s.id:null,onStoreListing:!0}):null,o(ue.default,{messageStyle:le.MessageStyles.SHORT,className:ge.default.purchaseError}))),n.renderCopyLink())}},t.prototype.renderHeader=function(e,t){var n=this.props,r=n.channel,a=n.isAuthenticated;return o(q.default,{title:null!=r?o(G.default,{align:G.default.Align.CENTER},void 0,o(x.default,{name:x.default.Names.STORE_TAG,className:ge.default.headerBarIcon}),r.name):null!=t&&t.premium?o(fe.default,{sku:t}):null!=t?t.name:null,isAuthenticated:a,renderToolbar:this.renderHeaderToolbar(e,t)})},t.prototype.parseMediaItems=function(e,t,n){var r=t.assetId,o=t.youtubeVideoId;if(null!=r){var a=n.find(function(e){return e.id===r});if(null!=a){var i=a.width,l=a.height;if(null==i||null==l)throw new Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return a.mimeType.startsWith("video/")?{type:ve.CarouselMediaTypes.VIDEO,thumbnailSrc:(0,z.getAssetURL)(e.id,a,1024,"webp"),src:(0,z.getAssetURL)(e.id,a),height:l,width:i}:{type:ve.CarouselMediaTypes.IMG,src:(0,z.getAssetURL)(e.id,a,1024),height:l,width:i}}}if(null!=o)return{type:ve.CarouselMediaTypes.YOUTUBE_VIDEO,youtubeVideoId:o};throw new Error("Store carousel item must have one of assetId or youtubeVideoId")},t.prototype.renderHeaderAssets=function(e,t,n){var r=this.props.theme,a=t.headerBackground,i=r===ve.ThemeTypes.LIGHT?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==a||null==i?o("div",{className:ge.default.noHeaderSpacer}):o("div",{className:ge.default.headerAssets},void 0,o("div",{className:ge.default.headerBackground,style:{backgroundImage:"url("+(0,z.getAssetURL)(e.id,a,1024,"png")+")"}}),o("img",{className:ge.default.headerLogo,src:(0,z.getAssetURL)(e.id,i,1024,"png"),alt:n.name}))},t.prototype.renderPurchaseSection=function(e,t,n){var r=this.props,a=r.channel,i=r.isFocused,u=r.fetchStoreListing;return o(X.default,{section:ve.AnalyticsSections.STORE_LISTING_BUY_GAME},void 0,l.createElement(se.default,{storeListing:e,fetchStoreListing:u,game:t,sku:n,guildId:null!=a?a.guild_id:null,channelId:null!=a?a.id:null,isFocused:i,className:ge.default.purchaseUnit,ref:this._purchaseRef}))},t.prototype.renderWhyYouMightLikeThis=function(e,t){return o(de.default,{sku:e,storeListing:t,className:ge.default.whyYouMightLikeIt})},t.prototype.renderVerifiedGuildInvite=function(e,t){if(null==e.guild)return null;var n=this.props,r=n.channel,a=n.pageSize;return o(me.default,{skuId:t.id,guild:e.guild,className:ge.default.guildInvite,inChannel:null!=r,pageSize:a})},t.prototype.renderFeatures=function(e){return o(ne.default,{sku:e})},t.prototype.renderSystemRequirements=function(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:o(pe.default,{className:ge.default.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})},t.prototype.renderDescription=function(e,t,n){var r=t.description;if(null==r)throw new Error("Rendering ApplicationStoreListing without description");return o(l.Fragment,{},void 0,o(k.default,{tag:"h1"},void 0,_e.default.Messages.APPLICATION_STORE_ABOUT_HEADER.format({name:n.name})),be,o(te.default,{applicationId:e.id,blurb:t.summary,description:r,className:ge.default.description,assets:t.assets}))},t.prototype.renderNews=function(e){return this.isChannelType?null:o(oe.default,{application:e,className:ge.default.news})},t.prototype.renderReviews=function(e){return null==e.reviews?null:e.reviews.map(function(e){return o(ce.default,{review:e,className:ge.default.reviewAggregator},e.aggregator)})},t.prototype.renderApplicationContentRating=function(e){return o(ee.default,{sku:e,className:ge.default.contentRating})},t.prototype.renderApplicationLegalInfo=function(e){return o(re.default,{sku:e,className:ge.default.legalInfo})},t.prototype.renderJsonLD=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.application;if(null==t||null==n||null==r)return null;var a=[],i=r.getSplashURL(1024);null!=i&&a.push(i),null!=n.headerLogoLightTheme&&a.unshift((0,z.getAssetURL)(r.id,n.headerLogoLightTheme,1024,"jpg"));var l=F.default.Product({name:t.name,description:t.summary||n.tagline,image:F.default.Product.Image(a),sku:t.id});if(null!=t.reviews&&t.reviews.length>0){var u=t.reviews[0];u.criticScore>0&&u.criticTotalRatings>3&&(l.aggregateRating=F.default.AggregateRating({bestRating:100,worstRating:0,ratingValue:u.criticScore,ratingCount:u.criticTotalRatings}))}var s=t.getPrice();if(null!=s){var d=s.amount,f=s.currency;l.offers=F.default.Offer({priceCurrency:f.toUpperCase(),price:(0,W.formatPrice)(d,f,{style:"decimal"})})}var c=F.default.ItemPage({mainEntity:l});return o(F.default,{data:c})},t.prototype.renderSmall=function(e,t,n){return o("div",{className:(0,u.default)(ge.default.listing,ge.default.listingSmall)},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderPurchaseSection(t,e,n),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderNews(e),this.renderReviews(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n))},t.prototype.renderLarge=function(e,t,n){return o("div",{className:ge.default.listing},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),o("div",{className:ge.default.listingLarge},void 0,o("div",{className:ge.default.body},void 0,o("div",{className:ge.default.leftColumn},void 0,this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderNews(e),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)),o("div",{className:ge.default.rightColumn},void 0,this.renderPurchaseSection(t,e,n),this.renderVerifiedGuildInvite(t,n),this.renderReviews(n),this.renderFeatures(n)))))},t.prototype.render=function(){var e=this.props,t=e.application,n=e.sku,r=e.storeListing,a=e.matureAgree,i=e.isAuthenticated;if(null==t||null==n||null==r||r.isSlimDirectoryVersion())return o(l.Fragment,{},void 0,this.renderHeader(t,n),o(G.default,{align:G.default.Align.CENTER,justify:G.default.Justify.CENTER},void 0,o(B.default,{className:ge.default.spinner})));if(!a&&n.showAgeGate){var u=i?null:o("div",{className:ge.default.gatedListing},void 0,this.renderListing());return o(l.Fragment,{},void 0,o(f.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),o(ie.default,{game:t}),u)}return i?o("div",{className:ge.default.listingWrapper},void 0,o(f.default,{title:t.name}),this.renderJsonLD(),o(X.default,{section:ve.AnalyticsSections.NAVIGATION},void 0,this.renderHeader(t,n)),o(j.default,{onScroll:this.handleScroll,outerClassName:ge.default.scroller,track:!0,momentum:!0,keyboardScroll:!0,gutterStyle:j.default.GutterStyles.STORE},void 0,o(X.default,{section:ve.AnalyticsSections.BODY},void 0,this.renderListing()))):o("div",{},void 0,o(f.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),this.renderListing())},i(t,[{key:"isChannelType",get:function(){return null!=this.props.channel}}]),t}(l.PureComponent);Me.displayName="ApplicationStoreListing",t.default=(0,g.default)((0,S.default)(c.default.connectStores([I.default,L.default,w.default,P.default,R.default,M.default,A.default,T.default,D.default,b.default,C.default],function(e){var t=e.inputSkuId,n=e.applicationId,r=e.storeListingId,o=e.isAuthenticated,a=e.channel,i=void 0,l=void 0,u=void 0;if(null==n){if(null==t)throw new Error("Needs applicationId or skuId");i=t,null!=(n=null!=(l=L.default.get(t))?l.applicationId:null)&&(u=I.default.getGame(n))}else if(null==t){if(null==n)throw new Error("Needs applicationId or skuId");null!=(u=I.default.getGame(n))&&(i=u.destinationSkuId),l=null!=i?L.default.get(i):null}var s=null!=n&&D.default.inTestModeForApplication(n);return{skuId:i,application:null!=n?I.default.getGame(n):null,isFetchingEntitlements:null!=n&&P.default.applicationIdsFetching.has(n),didFetchEntitlements:null!=n&&P.default.applicationIdsFetched.has(n),shouldFetchStatistics:o&&null!=n&&M.default.shouldFetchStatisticsForApplication(n),hasFetchedActivities:A.default.hasFetchedActivities,sku:l,isFocused:b.default.isFocused(),storeListing:w.default.getStoreListing({storeListingId:r,skuId:i,channelId:null!=a?a.id:null,isTestMode:s}),isInTestMode:null!=n&&s,matureAgree:R.default.didMatureAgree,hasFetchedNews:null!=n&&T.default.isFetched(n),hasNews:null!=n&&T.default.getByGameId(n).length>0,theme:O.default.theme,locale:O.default.locale,guild:null!=a?C.default.getGuild(a.getGuildId()):null}})(Me))),e.exports=t.default},6753:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=p(n(159)),u=p(n(128)),s=p(n(221)),d=p(n(152)),f=p(n(306)),c=p(n(5602));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.default)({SMALL:null,MEDIUM:null,LARGE:null}),y=((o={})[h.SMALL]=c.default.dropdownSmall,o[h.MEDIUM]=c.default.dropdownMedium,o[h.LARGE]=c.default.dropdownLarge,o),m=function(e){var t=e.onDropdownClick,n=e.children,r=e.contentClassName,o=e.dropdownSize,l=void 0===o?h.MEDIUM:o,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return i.createElement(u.default,p,a(d.default,{align:d.default.Align.CENTER},void 0,a(d.default.Child,{className:r},void 0,n),null!=t?a(s.default,{className:y[l],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,a("div",{className:c.default.arrowSeparator}),a(f.default,{name:f.default.Names.ARROW_DROP_DOWN,className:c.default.dropdownArrow})):null))};m.displayName="DropdownButton",m.DropdownSizes=h,m.Sizes=u.default.Sizes,m.Colors=u.default.Colors,m.Looks=u.default.Looks,t.default=m,e.exports=t.default},6754:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l,u=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=b(n(2)),d=O(n(310)),f=O(n(4)),c=O(n(833)),p=O(n(156)),h=O(n(855)),y=O(n(43)),m=O(n(90)),v=O(n(306)),_=n(6012),E=O(n(7007)),g=O(n(442)),S=b(n(113)),T=O(n(888)),I=O(n(6564)),C=n(0),N=O(n(13)),A=O(n(5609));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=Object.freeze(((l={})[C.LocalDispatchApplicationStates.INSTALLING]=((o={})[_.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},o[_.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},o[_.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},o[_.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},o),l[C.LocalDispatchApplicationStates.UPDATING]=((a={})[_.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e})},a[_.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t})},a[_.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t})},a[_.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})},a),l[C.LocalDispatchApplicationStates.REPAIRING]=((i={})[_.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},i[_.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},i[_.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},i[_.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},i),l)),w=function(e){function t(){var n,r;M(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.renderProgressBody=function(e,t){var n=r.props,o=n.state,a=n.application,i=o.stage,l=o.progress,u=o.total,s=o.type;if(null==l||null==u||null==i)return null;var d=e[e.length-1]/t*1e3,f=u-l,c=0!==d?Math.max(1,f/d):null,p=null!=c?c/60:null,h=L[s],y=null!=h?Object.keys(h):[],m=(0,_.getTimeAndUnit)(p,y),v=m.unit,E=m.time;if(null!=h&&null!=v){var g=h[v];return null!=g?g(a.name,E):null}return null},R(r,n)}return P(t,e),t.prototype.renderText=function(){var e=this.props,t=e.state,n=e.isPaused;if(t.type===C.LocalDispatchApplicationStates.UPDATING||t.type===C.LocalDispatchApplicationStates.REPAIRING||t.type===C.LocalDispatchApplicationStates.INSTALLING){if(n)return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(t.stage===C.DispatchApplicationStages.PATCHING||t.stage===C.DispatchApplicationStages.REPAIRING)return u(I.default,{getHistoricalTotalBytes:p.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressBody)}return null},t.prototype.render=function(){var e=this.renderText();return null!=e?e:N.default.Messages.LIBRARY},t}(s.PureComponent);w.displayName="UpdateProgressTooltipText";var D=function(e){function t(){var n,r;M(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.state={animationScale:new d.default.Value(0)},r.handleOnClick=function(e){var t=r.props.onClick;e.preventDefault(),e.stopPropagation(),t&&t(e),T.default.transitionTo(C.Routes.APPLICATION_LIBRARY)},R(r,n)}return P(t,e),t.prototype.componentWillAppear=function(e){this.state.animationScale.setValue(1),e()},t.prototype.componentWillEnter=function(e){d.default.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)},t.prototype.componentWillLeave=function(e){d.default.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)},t.prototype.getTooltipText=function(){var e=this.props,t=e.firstApplication,n=e.firstState,r=e.isPaused;return null==t||null==n?N.default.Messages.LIBRARY:u(w,{application:t,state:n,isPaused:r})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.percent,r=e.isPaused;return u(d.default.div,{style:{transform:[{scale:this.state.animationScale}]},className:t,onClick:this.handleOnClick},void 0,u(g.default,{text:this.getTooltipText(),position:g.default.Positions.RIGHT},void 0,u("div",{className:A.default.progressCircleWrapper},void 0,u(E.default,{percent:n,colorOverride:r?C.Colors.PRIMARY_DARK_500:null},void 0,u(v.default,{name:v.default.Names.DOWNLOAD,className:A.default.downloadIcon})))))},t}(s.PureComponent);D.displayName="GameUpdateProgressIndicator";var U=function(e){return u(c.default,{},void 0,e.percent>0&&e.percent<100?s.createElement(D,e):null)};U.displayName="GameUpdateProgressIndicatorAnimated",t.default=f.default.connectStores([p.default,h.default,m.default],function(){var e=h.default.activeItems,t=e.reduce(function(e,t){var n=t.applicationId,r=t.branchId,o=p.default.getState(n,r);return null!=o&&e.push(o),e},[]),n=S.getCombinedProgress(t),r=n.total,o=n.progress;return{percent:S.calculateProgressPercentage(o,r),isPaused:h.default.paused,firstApplication:e.length>0?y.default.getGame(e[0].applicationId):null,firstState:t.length>0?t[0]:null}})(U),e.exports=t.default},6755:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_OPEN,section:e}),(0,i.pushLayer)(l.Layers.RTC_DEBUG)},t.close=function(){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_CLOSE}),(0,i.popLayer)()},t.setSection=function(e){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_SET_SECTION,section:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(834),l=n(0)},6756:function(e,t,n){"use strict";t.__esModule=!0,t.fetchPromotions=void 0;var r,o;t.fetchPromotions=(r=regeneratorRuntime.mark(function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:s.ActionTypes.PROMOTIONS_FETCH_START}),e.prev=1,t={url:s.Endpoints.PROMOTIONS,query:null!=o?{context:o}:{}},e.next=5,(0,u.httpGetWithCountryCodeQuery)(t);case 5:n=e.sent,i.default.dispatch({type:s.ActionTypes.PROMOTIONS_FETCH_SUCCESS,promotions:n.body}),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(1),r=new l.default(e.t0),i.default.dispatch({type:s.ActionTypes.PROMOTIONS_FETCH_FAIL,error:r}),r;case 14:case"end":return e.stop()}},e,this,[[1,9]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(){return o.apply(this,arguments)});t.ackPromotion=function(e,t){return a.default.put({url:s.Endpoints.PROMOTION_ACK,body:{ack_key:e,ack_type:t}})};var a=d(n(8)),i=d(n(1)),l=d(n(192)),u=n(133),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}},6757:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.MasonryNodeInsertedEmitter=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(36)),l=c(n(6)),u=c(n(99)),s=n(6320),d=c(n(152)),f=c(n(5836));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){p(this,t);var n=h(this,e.call(this));return n.node=document.createElement("div"),n}return y(t,e),t.prototype.getNode=function(){return this.node},t.prototype.componentWillUnmount=function(){(0,s.removeNode)(this.node)},t.prototype.render=function(){return u.default.createPortal(this.props.children,this.node)},t}(a.Component);m.displayName="MasonryItem";var v=t.MasonryNodeInsertedEmitter=new i.default;v.setMaxListeners(0);var _=function(t){function n(){var e,r;p(this,n);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=r=h(this,t.call.apply(t,[this].concat(a))),r._didMount=!1,r._columnNodes={},r._itemNodes={},r._columns=[],r._itemHeightsForRender={},r.debouncedUpdateColumns=l.default.debounce(function(){r.updateColumns(r.props)}),r.setColumnRef=function(e,t){null!=t&&(r._columnNodes[e]=t)},r.setMeasurementSectionRef=function(e){null!=e&&(r._measurementNode=e)},h(r,e)}return y(n,t),n.prototype.componentDidMount=function(){this._didMount=!0,this.updateColumns(this.props)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;if(e.width!==this.props.width||this.getNumColumns(e)!==this.getNumColumns(this.props))this._itemHeightsForRender={};else{var n=e.items.map(e.getItemId),r=this.props.items.map(e.getItemId);l.default.isEqual(n,r)||(l.default.difference(r,n).forEach(function(e){delete t._itemHeightsForRender[e]}),this.debouncedUpdateColumns())}},n.prototype.componentWillUnmount=function(){this.debouncedUpdateColumns.cancel()},n.prototype.getNumColumns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.width,n=e.desiredItemWidth,r=e.maxColumns,o=Math.max(Math.floor(t/n),1);return Math.min(o,r)},n.prototype.getItemWidth=function(e){var t=e.maxItemWidth,n=e.width,r=e.gutterWidth,o=this.getNumColumns(e),a=r*(o-1);return Math.floor(Math.min(n/o,t))-Math.ceil(a/o)},n.prototype.updateColumns=function(e){for(var t=this,n=e.items,r=e.getItemId,o=e.onColumnChange,a=this.getNumColumns(e),i=l.default.times(a,function(){return[]}),u=l.default.times(a,function(e){return{index:e,height:0}}),s=0;s<n.length;s++){var d=r(n[s]);if(null!=this._itemHeightsForRender[d]){var f=l.default.minBy(u,function(e){return e.height}).index;u[f].height+=this._itemHeightsForRender[d],i[f].push(d)}}this._columns=i,i.forEach(function(e,n){e.forEach(function(e){null!=t._itemNodes[e]&&t._columnNodes[n].appendChild(t._itemNodes[e])})}),null!=o&&o()},n.prototype.setMeasurementRef=function(t,n){if(null!=n){var r=n.getNode();this._itemNodes[t]=r,null==r.parentNode&&(this._measurementNode.appendChild(r),e(function(){return v.emit("change",{node:r})})),this._itemHeightsForRender[t]=r.offsetHeight,this._didMount&&this.debouncedUpdateColumns()}},n.prototype.render=function(){var e=this,t=this.props,n=t.gutterWidth,r=t.items,i=t.getItemId,l=t.renderItem,u=t.renderHeader,s=t.className,c=t.renderEmpty,p=this.getNumColumns(this.props),h=this.getItemWidth(this.props),y=n-n/p;return o("div",{className:s},void 0,o(d.default,{direction:d.default.Direction.VERTICAL},void 0,null!=u?u():null,null!=c&&0===r.length?c():null,o(d.default,{justify:d.default.Justify.CENTER},void 0,0!==r.length?Array(p).fill().map(function(t,r){return a.createElement("div",{className:f.default.column,style:{width:"calc("+100/p+"% - "+y+"px)",marginLeft:0!==r?n:0},key:r,ref:e.setColumnRef.bind(e,r)})}):null)),a.createElement("div",{className:f.default.measureWrapper,style:{width:h},ref:this.setMeasurementSectionRef}),r.map(function(t,n){var r=i(t);return a.createElement(m,{id:r,ref:null==e._itemHeightsForRender[r]?e.setMeasurementRef.bind(e,r):null,key:r},l(t,h,n))}))},n}(a.PureComponent);_.defaultProps={maxColumns:1/0,maxItemWidth:1/0},_.displayName="MasonryLayout",t.default=_}).call(this,n(29).setImmediate)},6758:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getGuildSettingsSections=function(e){return V(o({},g.default.getGuildPermissionProps(e,m.default.getCurrentUser()))).filter(function(e){var t=e.section;return t!==T.SectionTypes.HEADER&&t!==T.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=H(n(4)),u=H(n(5985)),s=n(834),d=H(n(80)),f=H(n(6567)),c=H(n(5991)),p=H(n(6568)),h=H(n(153)),y=H(n(35)),m=H(n(15)),v=H(n(129)),_=H(n(181)),E=n(109),g=H(n(100)),S=H(n(6386)),T=n(6061),I=H(n(447)),C=H(n(7022)),N=H(n(7023)),A=H(n(7029)),O=H(n(7032)),b=H(n(7037)),M=H(n(7039)),R=H(n(7040)),P=H(n(7043)),L=n(7045),w=H(L),D=n(7047),U=H(D),k=n(7083),G=H(k),x=H(n(7086)),F=H(n(7092)),j=n(0),B=H(n(13));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){var t=e.guild,n=e.canManageGuild,r=e.canViewAuditLog,l=e.canManageRoles,h=e.canManageEmoji,y=e.canManageWebhooks,_=e.canManageBans,g=e.isOwnerWithRequiredMfaLevel;return[{section:T.SectionTypes.HEADER,label:t.toString()||B.default.Messages.SERVER_SETTINGS},{section:j.GuildSettingsSections.OVERVIEW,label:B.default.Messages.OVERVIEW,element:w.default,notice:{store:c.default,element:L.GuildSettingsOverviewNotice}},{section:j.GuildSettingsSections.MODERATION,label:B.default.Messages.MODERATION,element:P.default,notice:{store:c.default,element:L.GuildSettingsOverviewNotice},predicate:function(){return n}},{section:j.GuildSettingsSections.AUDIT_LOG,label:B.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG,element:N.default,type:T.ContentTypes.CUSTOM,predicate:function(){return r}},{section:j.GuildSettingsSections.ROLES,label:B.default.Messages.ROLES,element:U.default,type:T.ContentTypes.MINIMAL,notice:{store:f.default,element:D.GuildSettingsRolesNotice},predicate:function(){return l}},{section:j.GuildSettingsSections.INTEGRATIONS,label:B.default.Messages.INTEGRATIONS,element:b.default,predicate:function(){return n}},{section:j.GuildSettingsSections.EMOJI,label:B.default.Messages.EMOJI,element:O.default,predicate:function(){return h}},{section:j.GuildSettingsSections.WEBHOOKS,label:B.default.Messages.WEBHOOKS,element:x.default,predicate:function(){return y}},{section:j.GuildSettingsSections.EMBED,label:B.default.Messages.WIDGET,element:F.default,predicate:function(){return n}},{section:j.GuildSettingsSections.VANITY_URL,label:B.default.Messages.VANITY_URL,element:G.default,notice:{store:p.default,element:k.GuildSettingsVanityURLNotice},predicate:function(){return n&&t.hasFeature(j.GuildFeatures.VANITY_URL)}},{section:T.SectionTypes.DIVIDER},{section:T.SectionTypes.HEADER,label:B.default.Messages.USER_MANAGEMENT},{section:j.GuildSettingsSections.MEMBERS,label:B.default.Messages.MEMBERS,element:R.default,type:T.ContentTypes.CUSTOM},{section:j.GuildSettingsSections.INSTANT_INVITES,label:B.default.Messages.INVITES,element:M.default,type:T.ContentTypes.CUSTOM,predicate:function(){return n}},{section:j.GuildSettingsSections.BANS,label:B.default.Messages.BANS,element:A.default,type:T.ContentTypes.CUSTOM,predicate:function(){return _}},{section:T.SectionTypes.DIVIDER,predicate:function(){return g}},{section:j.GuildSettingsSections.DELETE,onClick:function(){var e=m.default.getCurrentUser(),n=t.toString(),r={header:B.default.Messages.DELETE_SERVER_TITLE.format({name:n}),confirmText:B.default.Messages.DELETE_SERVER,cancelText:B.default.Messages.CANCEL,onConfirm:function(){E.ComponentDispatch.subscribeOnce(j.ComponentActions.LAYER_POP_COMPLETE,function(){u.default.deleteGuild(t.id,n)}),(0,s.popLayer)()}};e.mfaEnabled?d.default.push(function(e){return i.createElement(I.default,o({},e,r),a(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,B.default.Messages.DELETE_SERVER_BODY.format({name:n})))}):d.default.push(function(e){return i.createElement(C.default,o({},e,r,{validationText:n,instructionText:B.default.Messages.DELETE_SERVER_ENTER_NAME,errorText:B.default.Messages.DELETE_SERVER_INCORRECT_NAME}),B.default.Messages.DELETE_SERVER_BODY.format({name:n}))})},label:B.default.Messages.DELETE_SERVER,color:j.Colors.STATUS_RED,predicate:function(){return g}}]}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_.default.trackWithMetadata(j.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",origin_pane:t,destination_pane:e})}var W={canManageGuild:!1,canManageChannels:!1,canManageRoles:!1,canManageBans:!1,canManageNicknames:!1,canManageEmoji:!1,canViewAuditLog:!1,canManageWebhooks:!1,isOwnerWithRequiredMfaLevel:!1},K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){Y(this.props.section)},t.prototype.componentWillUnmount=function(){u.default.close()},t.prototype.componentDidUpdate=function(e){var t=e.section,n=this.props,r=n.section,o=n.canManageGuild,a=n.canManageRoles,i=n.canManageBans,l=n.canManageNicknames,u=n.canManageEmoji,d=n.canViewAuditLog,f=n.canManageWebhooks;r!==t&&Y(r,t),(o||a||i||l||u||d||f)&&(d||r!==j.GuildSettingsSections.AUDIT_LOG)&&(a||r!==j.GuildSettingsSections.ROLES)&&(u||r!==j.GuildSettingsSections.EMOJI)&&(f||r!==j.GuildSettingsSections.WEBHOOKS)&&(i||r!==j.GuildSettingsSections.BANS)||(0,s.popLayer)()},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,r=e.guild,o=e.canManageGuild,i=e.canViewAuditLog,l=e.canManageRoles,d=e.canManageEmoji,f=e.canManageWebhooks,c=e.canManageBans,p=e.isOwnerWithRequiredMfaLevel;return null==r?null:a(S.default,{theme:t,section:n,onSetSection:u.default.setSection,onClose:s.popLayer,sections:V({guild:r,canManageGuild:o,canViewAuditLog:i,canManageRoles:l,canManageEmoji:d,canManageWebhooks:f,canManageBans:c,isOwnerWithRequiredMfaLevel:p})})},t}(i.PureComponent);K.displayName="GuildSettings",t.default=l.default.connectStores([c.default,m.default,y.default,h.default],function(){var e=c.default.getProps(),t=e.guild,n=e.section;return o({section:n,theme:y.default.theme},null!=t?g.default.getGuildPermissionProps(t,m.default.getCurrentUser()):W)})(K)},6759:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=A(n(17)),l=A(n(6)),u=A(n(318)),s=A(n(80)),d=A(n(6346)),f=n(5996),c=A(f),p=A(n(152)),h=A(n(444)),y=A(n(129)),m=n(829),v=A(n(5994)),_=n(6061),E=A(n(6019)),g=n(0),S=A(n(13)),T=A(n(5360)),I=A(n(5359)),C=A(n(5351)),N=A(n(5619));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R="3",P="3",L="1",w="2",D=function(e){function t(n){O(this,t);var r=b(this,e.call(this,n));return r.handleRevokeInvite=r.handleRevokeInvite.bind(r),r}return M(t,e),t.prototype.renderChannel=function(){var e=this.props,t=e.showChannel,n=e.invite;return t?o(y.default,{size:y.default.Sizes.SMALL,className:N.default.channelName},void 0,n.channel.toString(!0)):null},t.prototype.renderUser=function(){var e=this.props.invite.inviter;return null==e?null:o(p.default,{},void 0,o(v.default,{user:e,size:"xsmall"}),o(y.default,{className:N.default.username},void 0,e.toString()))},t.prototype.render=function(){var e=this.props,t=e.invite,n=e.hide,r=t.uses;return t.maxUses>0&&(r=t.uses+"/"+t.maxUses),o(p.default,{className:(0,i.default)(N.default.inviteSettingsInviteRow,I.default.card)},void 0,o(p.default,{grow:R,basis:0,align:p.default.Align.CENTER,className:(0,i.default)(N.default.text)},void 0,o(p.default.Child,{},void 0,this.renderUser(),this.renderChannel())),o(p.default,{grow:P,shrink:1,basis:0,align:p.default.Align.CENTER,className:N.default.text},void 0,o(y.default,{family:y.default.Family.CODE,className:N.default.inviteCode},void 0,n?"...":t.code)),o(p.default,{grow:L,basis:0,justify:p.default.Justify.END,align:p.default.Align.CENTER,className:(0,i.default)(N.default.text)},void 0,o(y.default,{family:y.default.Family.CODE,className:N.default.textAlignRight},void 0,r)),o(p.default,{grow:w,basis:0,align:p.default.Align.CENTER,justify:p.default.Justify.END,className:(0,i.default)(N.default.text,N.default.countdownColumn)},void 0,o(y.default,{family:y.default.Family.CODE,className:N.default.textAlignRight},void 0,o(d.default,{deadline:t.getExpiresAt()}))),o("button",{className:(0,i.default)(N.default.revokeInvite,T.default.button),onClick:this.handleRevokeInvite}))},t.prototype.handleRevokeInvite=function(){u.default.revokeInvite(this.props.invite.code)},t}(a.PureComponent);D.displayName="InviteRow";var U=function(e){function t(){var n,r;O(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.handleShowInviteModal=function(){var e=r.props.guild;s.default.push(E.default,{guild:e,source:g.InstantInviteSources.SETTINGS_INVITE})},b(r,n)}return M(t,e),t.prototype.renderInvites=function(){var e=this.props,t=e.invites,n=e.hide,r=e.showChannel,a=e.loading;return null==t||a?[o(h.default,{className:C.default.marginTop20,type:h.default.Type.SPINNING_CIRCLE},"spinner")]:(0,l.default)(t).sortBy(function(e){return(e.inviter&&e.inviter.username||"").toLowerCase()}).map(function(e){return o(D,{hide:n,invite:e,showChannel:r},e.code)}).value()},t.prototype.renderHeader=function(){var e=this.props,t=e.invites,r=e.loading,a=e.theme,i=e.canCreateInvites,u=void 0;return null==t||r||(u=l.default.isEmpty(t)?o(c.default,{theme:a,className:C.default.marginTop20},void 0,o(f.EmptyStateImage,{darkSrc:n(6562),lightSrc:n(6563),width:256,height:130}),o(f.EmptyStateText,{note:S.default.Messages.NO_INVITES_BODY},void 0,S.default.Messages.NO_INVITES_LABEL)):o(p.default,{},void 0,o(p.default.Child,{grow:R,basis:0,className:C.default.marginReset},void 0,o(m.FormTitle,{},void 0,S.default.Messages.INSTANT_INVITE_INVITER)),o(p.default.Child,{basis:0,grow:P,className:C.default.marginReset},void 0,o(m.FormTitle,{},void 0,S.default.Messages.INSTANT_INVITE_INVITE_CODE)),o(p.default.Child,{grow:L,basis:0,className:N.default.textAlignRight},void 0,o(m.FormTitle,{},void 0,S.default.Messages.INSTANT_INVITE_USES)),o(p.default.Child,{grow:w,basis:0,className:N.default.textAlignRight},void 0,o(m.FormTitle,{},void 0,S.default.Messages.INSTANT_INVITE_EXPIRES)))),o(m.FormSection,{className:C.default.marginBottom4},void 0,o(m.FormTitle,{tag:m.FormTitleTags.H2},void 0,S.default.Messages.INVITES),o(m.FormText,{className:C.default.marginBottom20,type:m.FormTextTypes.DESCRIPTION},void 0,i?S.default.Messages.SETTINGS_INVITE_TIP.format({onCreateInvite:this.handleShowInviteModal}):S.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE),o(m.FormDivider,{className:N.default.marginBottom20}),u)},t.prototype.render=function(){return o(_.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(),elementHeight:62},void 0,this.renderInvites())},t}(a.PureComponent);U.displayName="SettingsInvites",t.default=U,e.exports=t.default},6760:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;o.default.dispatch({type:a.ActionTypes.PRUNE_GUILD_MODAL_OPEN,guildId:e,days:t,estimate:0}),r.default.get({url:a.Endpoints.GUILD_PRUNE(e),query:{days:t}}).then(function(n){o.default.dispatch({type:a.ActionTypes.PRUNE_GUILD_MODAL_UPDATE,guildId:e,days:t,estimate:n.body.pruned})},function(){})},close:function(){o.default.dispatch({type:a.ActionTypes.PRUNE_GUILD_MODAL_CLOSE})},prune:function(e,t){r.default.post({url:a.Endpoints.GUILD_PRUNE(e),query:{days:t}}),this.close()}},e.exports=t.default},6761:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(152)),l=d(n(306)),u=d(n(129)),s=d(n(5622));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.subtitle,r=e.iconType;return o(i.default,{className:s.default.wrapper,align:i.default.Align.BASELINE},void 0,null!=r&&o(l.default,{name:r,className:s.default.icon}),o(u.default,{weight:u.default.Weights.NORMAL,size:u.default.Sizes.MEDIUM,color:u.default.Colors.PRIMARY,className:s.default.title},void 0,t),n&&o(u.default,{weight:u.default.Weights.SEMIBOLD,size:u.default.Sizes.SMALL,color:u.default.Colors.PRIMARY,className:s.default.subtitle},void 0,n))},t}(a.PureComponent);f.displayName="IconSelectOption",t.default=f,e.exports=t.default},6762:function(e,t,n){"use strict";t.__esModule=!0,t.Content=t.Sidebar=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(152)),u=f(n(313)),s=n(0),d=f(n(5625));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.Sidebar=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.scrollable,n=e.theme,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["scrollable","theme"]),f=n===s.ThemeTypes.LIGHT?s.Colors.WHITE:s.Colors.PRIMARY_DARK_600;return t?a("aside",{className:d.default.sidebarScrollable},void 0,a(u.default,{fade:!0,theme:u.default.Themes.GHOST_HAIRLINE,backgroundColor:f,className:d.default.scroller},void 0,i.createElement(l.default.Child,o({},r,{wrap:!0})))):i.createElement(l.default.Child,o({},r,{wrap:!0}))},t}(i.PureComponent);y.defaultProps={basis:232,grow:0,shrink:0,className:d.default.sidebar},y.displayName="Sidebar";var m=t.Content=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){return i.createElement(l.default.Child,o({wrap:!0},this.props))},t}(i.PureComponent);m.defaultProps={className:d.default.content},m.displayName="Content";var v=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){return i.createElement(l.default,this.props)},t}(i.PureComponent);v.defaultProps={className:d.default.layout,direction:l.default.Direction.HORIZONTAL,justify:l.default.Justify.START,align:l.default.Align.START,wrap:l.default.Wrap.NO_WRAP,shrink:1,grow:1,basis:"auto"},v.Direction=l.default.Direction,v.Justify=l.default.Justify,v.Align=l.default.Align,v.Wrap=l.default.Wrap,v.Sidebar=y,v.Content=m,v.displayName="Layout",t.default=v},6778:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(152)),l=c(n(6144)),u=n(6043),s=c(n(442)),d=n(0),f=c(n(5628));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderLock=function(){var e=this.props,t=e.locked,r=e.lockTooltip,a=e.theme;if(!t)return null;var u=a===d.ThemeTypes.DARK?n(7073):n(7074);return o(i.default,{shrink:0,grow:0,align:i.default.Align.CENTER,style:{marginRight:0}},void 0,o(s.default,{text:r,color:s.default.Colors.RED},void 0,o(l.default,{className:f.default.lock,src:u})))},t.prototype.render=function(){var e=this.props,t=e.color,n=e.id,r=e.children,a=e.isDragging,l=e.selectedItem,s=e.onItemSelect,d=e.itemType;return a?o("div",{className:f.default.dragged}):o(u.Item,{className:f.default.role,id:n,color:t||void 0,selectedItem:l,onItemSelect:s,itemType:d},void 0,o(i.default,{align:i.default.Align.CENTER},void 0,this.renderLock(),o(i.default.Child,{className:f.default.roleInner},void 0,r)))},t}(a.PureComponent);p.displayName="GuildRole",t.default=p,e.exports=t.default},6779:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=_(n(306)),u=_(n(7075)),s=_(n(5987)),d=_(n(442)),f=_(n(837)),c=n(110),p=_(c),h=_(n(100)),y=n(0),m=_(n(5351)),v=_(n(5631));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getOverwriteValue=function(e){var t=this.props,n=t.allow,r=t.deny;if(null==n||null==r)throw new Error("PermissionsForm.getOverwriteValue: Invalid allow or deny props");return n&e?h.default.ALLOW:r&e?h.default.DENY:h.default.PASSTHROUGH},t.prototype.getPermissionValue=function(e,t){return!!(t&e)},t.prototype.handleChange=function(e,t){(0,this.props.onChange)(e,t)},t.prototype.renderDisabledIndicator=function(e){return o(d.default,{text:e,position:d.default.Positions.TOP,color:d.default.Colors.RED},void 0,o("span",{},void 0,o(l.default,{name:l.default.Names.NOT_ALLOWED,className:v.default.icon,width:18,height:18})))},t.prototype.renderComponent=function(e){var t,n=this,r=e.title,a=e.description,l=e.flag,d=this.props,f=d.permissions,c=d.locked,p=d.permissionRender,h=p&&p(l),m=!(!c&&!h),_="string"==typeof h?this.renderDisabledIndicator(h):null,E=(0,i.default)(((t={})[v.default.title]=null!=_,t));return null==f?o(u.default,{disabled:m,value:this.getOverwriteValue(l),onChange:function(e){return n.handleChange(l,e)},note:a},l,_,o("span",{className:E},void 0,r)):o(s.default,{fill:y.Colors.STATUS_GREEN,disabled:m,value:this.getPermissionValue(l,f),onChange:function(e){var t=e.currentTarget.checked;return n.handleChange(l,t)},note:a},l,_,o("span",{className:E},void 0,r))},t.prototype.render=function(){var e=this.props,t=e.spec,n=e.className;return o(f.default,{className:n},void 0,o(p.default,{tag:c.Tags.H5,className:m.default.marginBottom20},void 0,t.title),t.permissions.map(this.renderComponent,this))},t}(a.PureComponent);E.displayName="PermissionsForm",t.default=E,e.exports=t.default},6780:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5629));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.data,n=e.disabled,r=t.content,l=t.className,u=t.onClick,s=t.disabled;return o("button",{className:(0,a.default)(i.default.item,l),onClick:u,disabled:n||s},void 0,r)};u.displayName="Button";var s=function(e){var t=e.buttons,n=e.disabled,r=e.className;return o("div",{role:"group",className:(0,a.default)(i.default.group,r)},void 0,t.map(function(e,t){return o(u,{data:e,disabled:n},t)}))};s.displayName="ButtonGroup",t.default=s,e.exports=t.default},6781:function(e,t,n){e.exports=n.p+"cef02719c12d8aaf38894c16dca7fbe6.svg"},6782:function(e,t,n){e.exports=n.p+"808132e382c228d8fc8c7f9111b9abf7.svg"},6783:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=L(n(17)),u=L(n(6)),s=L(n(4)),d=L(n(183)),f=L(n(80)),c=L(n(6185)),p=L(n(111)),h=L(n(153)),y=L(n(312)),m=L(n(35)),v=L(n(7087)),_=n(5996),E=L(_),g=L(n(444)),S=L(n(836)),T=L(n(837)),I=L(n(445)),C=n(110),N=L(n(6035)),A=L(n(6574)),O=L(n(7088)),b=L(n(7089)),M=n(0),R=L(n(13)),P=L(n(5351));function L(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var D=["Spidey Bot","Captain Hook"],U=a(N.default,{}),k=function(e){function t(){var r,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=Array(s),h=0;h<s;h++)p[h]=arguments[h];return r=l=w(this,e.call.apply(e,[this].concat(p))),l.renderWebhooks=function(){var e=l.props,t=e.webhooks,r=e.error,o=e.theme;return e.isFetching?a(g.default,{className:P.default.marginTop20,type:g.default.Type.SPINNING_CIRCLE}):null!=r?a(I.default,{},void 0,r):0===t.length?a(E.default,{theme:o,className:P.default.marginTop20},void 0,a(_.EmptyStateImage,{darkSrc:n(7090),lightSrc:n(7091),width:292,height:182}),a(_.EmptyStateText,{note:R.default.Messages.SETTINGS_WEBHOOKS_EMPTY_BODY},void 0,R.default.Messages.SETTINGS_WEBHOOKS_EMPTY_TITLE)):t.map(function(e,t){return a(O.default,{webhook:e,theme:o,className:P.default.marginBottom8},t)})},l.handleCreateWebhook=function(){var e=l.props,t=e.guild,n=e.createChannelId;if(null!=t&&null!=n){var r=D[u.default.random(0,D.length-1)];c.default.create(t.id,n,{name:r}).then(function(e){return f.default.push(function(t){return i.createElement(A.default,o({webhook:e},t))})}).catch(function(e){var t=e.body;t&&t.code===M.AbortCodes.TOO_MANY_WEBHOOKS?d.default.show({title:R.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:R.default.Messages.WEBHOOK_ERROR_MAX_WEBHOOKS_REACHED}):d.default.show({title:R.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:R.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}},w(l,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.channel,n=e.guild;null!=n&&(null!=t?c.default.fetchForChannel(n.id,t.id):null!=n&&c.default.fetchForGuild(n.id))},t.prototype.render=function(){var e=this.props,t=e.streamerMode,n=e.createChannelId,r=e.error;return t?U:a(T.default,{tag:C.Tags.H2,title:R.default.Messages.WEBHOOKS},void 0,a(b.default,{disabled:null==n||null!=r,onCreate:this.handleCreateWebhook}),a(S.default,{className:(0,l.default)(P.default.marginTop20,P.default.marginBottom20)}),this.renderWebhooks())},t}(i.PureComponent);k.defaultProps={showChannel:!0},k.displayName="SettingsWebhooks",t.default=s.default.connectStores([y.default,v.default,m.default,p.default,h.default],function(e){var t=e.channel,n=e.guild,r=void 0,o=void 0;if(null!=t)r=v.default.getWebhooksForChannel(n.id,t.id),o=t.id;else{r=v.default.getWebhooksForGuild(n.id);var a=p.default.getDefaultChannel(n.id);null!=a&&h.default.can(M.Permissions.MANAGE_WEBHOOKS,a)&&(o=a.id)}return{guild:n,webhooks:r,streamerMode:y.default.enabled,theme:m.default.theme,isFetching:0===r.length&&v.default.isFetching(n.id),error:v.default.error,createChannelId:o}})(k),e.exports=t.default},6784:function(e,t,n){"use strict";t.__esModule=!0,t.isTwoColumnLayout=function(e){return e===o.FeedLayouts.TWO_COL},t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(function(e){var t=e.activity;return(0,r.hasRichActivity)(t)}),game_platform:e.currentActivities.length>0?(0,r.getGamePlatform)(e.currentActivities[0].activity):null}};var r=n(224),o=n(0)},6785:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(17)),u=A(n(159)),s=A(n(6192)),d=A(n(158)),f=A(n(6164)),c=A(n(5979)),p=A(n(221)),h=A(n(306)),y=A(n(6012)),m=A(n(827)),v=A(n(6121)),_=A(n(6023)),E=A(n(6003)),g=n(224),S=A(n(5353)),T=A(n(7293)),I=n(0),C=A(n(13)),N=A(n(5854));function A(e){return e&&e.__esModule?e:{default:e}}var O=64,b=160,M=[14,14,12,12,10,8,6],R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a(_.default,{className:(0,l.default)(N.default.textContent,t),size:_.default.Sizes.SIZE_14,tag:_.default.Tags.H4},void 0,e)};R.displayName="renderSectionTitle";var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a(E.default,{className:(0,l.default)(N.default.textContent,t),size:E.default.Sizes.SIZE_12},void 0,e)};P.displayName="renderSectionText";var L=(0,s.default)(function(e){var t=e.message;return a("div",{className:N.default.timestamp},void 0,t)}),w=function(e){var t=e.children;return a("section",{className:N.default.section},void 0,t)};w.displayName="Section";var D=function(e){var t,n=e.inset,r=e.className;return a("div",{className:(0,l.default)(N.default.separator,(t={},t[N.default.inset]=n,t),r)})};D.displayName="Separator";var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderTimePlayed=function(){var e=this.props.activity,t=e.timestamps;if(null==t||!(0,g.isGameActivity)(e)||(0,g.isListeningOnSpotify)(e))return null;var n=void 0;return n=(0,g.hasRichActivity)(e)?a(L,{timestamps:t}):a(y.default,{start:t.start,end:t.end,location:y.default.Locations.USER_ACTIVITY,className:N.default.playTime}),P(n)},t.prototype.render=function(){var e,t=this.props,r=t.activity,o=r.assets,i=r.details,u=r.state,s=r.application_id,d=t.getAssetImage;return a(w,{},void 0,a("div",{className:N.default.activitySection},void 0,null!=o&&0!==Object.keys(o).length?a("div",{className:N.default.activitySectionAssets},void 0,a("img",{alt:o.large_text||"",src:d(s,o.large_image,[b,b]),className:(0,l.default)(N.default.largeImage,(e={},e[N.default.largeImageMask]=null!=o.small_image,e))}),null!=o.small_image?a("img",{alt:o.small_text||"",src:d(s,o.small_image,[O,O]),className:N.default.smallImage}):null):a("div",{className:N.default.activitySectionAssets},void 0,a("img",{alt:"",src:n(6334),className:N.default.largeImage})),a("div",{},void 0,R(i||C.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=u?P(u):null,this.renderTimePlayed())))},t}(i.Component);U.displayName="RichPresenceSection";var k=a("div",{}),G=function(e){var t,n=e.activity,r=n.assets,o=n.name,i=n.details,u=n.state,s=n.application_id,d=e.partySize,f=e.members,c=e.getAssetImage;return a(w,{},void 0,a("div",{className:N.default.spotifySection},void 0,null!=r?a("div",{className:N.default.activitySectionAssets},void 0,a("img",{alt:r.large_text||"",src:c(s,r.large_image,[b,b]),className:(0,l.default)(N.default.largeImage,(t={},t[N.default.largeImageMask]=null!=r.small_image,t))}),a(h.default,{className:N.default.smallImage,name:h.default.Names.PLATFORM_SPOTIFY,color:I.Colors.SPOTIFY})):k,a("div",{},void 0,R(o),null!=i?P(i):null,null!=u?P(u):null),a(T.default,{partySize:d,members:f})))};G.displayName="SpotifySection";var x=function(e){var t,r=e.activity,o=e.user,i=e.getAssetImage,u=r.name,s=r.details,h=r.assets,y=r.application_id,m=void 0;return null!=h&&(0,g.isStreaming)(r)&&(m=a(f.default,{className:N.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,a(p.default,{href:(0,g.getStreamURL)(r),tag:"a",target:"_blank"},void 0,a("img",{alt:h.large_text||"",src:i(y,h.large_image,[900,500]),className:N.default.twitchSectionPreview}),a("img",{src:n(8024),className:N.default.twitchSectionPlayButton,alt:""})))),a(w,{},void 0,a("div",{className:(0,l.default)((t={},t[N.default.twitchSectionSimple]=null==o,t[N.default.twitchSectionFull]=null!=o,t))},void 0,a("img",{alt:"",src:d.default.get(I.PlatformTypes.TWITCH).icon.color,className:N.default.twitchSectionIcon}),a("div",{},void 0,R(u),null!=s?P(s):null),null!=o?a(c.default,{src:o.getAvatarURL(),className:N.default.twitchSectionAvatar,imageClassName:N.default.twitchSectionIcon,size:c.default.Sizes.XSMALL}):null),m)};x.displayName="TwitchSection";var F=function(e){var t=e.guild,n=e.channel,r=e.onGuildClick,o=e.partySize,i=e.members,u=e.onChannelContextMenu;return a(w,{},void 0,a("div",{className:N.default.voiceSection,onContextMenu:function(e){return u(e,n)}},void 0,a(p.default,{onClick:r},void 0,a("div",{className:N.default.voiceSectionAssets},void 0,null!=t.getIconURL()?a("img",{alt:"",src:t.getIconURL(),className:(0,l.default)(N.default.voiceSectionGuildImage,N.default.largeImageMask)}):a("div",{className:N.default.voiceSectionNoGuildImageWrapper},void 0,a("div",{className:N.default.voiceSectionNoGuildImage,style:{fontSize:M[t.acronym.length]||M[M.length-1]}},void 0,t.acronym)),a("div",{className:N.default.voiceSectionIconWrapper},void 0,a(h.default,{className:N.default.voiceSectionIcon,name:h.default.Names.SPEAKER})))),a(p.default,{onClick:r},void 0,a("div",{className:N.default.voiceSectionDetails},void 0,R(t.toString(),N.default.voiceSectionText),P(n.toString(!0),N.default.voiceSectionText))),a(T.default,{partySize:o,members:i})))};F.displayName="VoiceSection";var j=function(e){var t=e.title;return a(w,{},void 0,a("div",{className:N.default.xboxSection},void 0,a(h.default,{className:N.default.xboxSectionIcon,name:h.default.Names.PLATFORM_XBOX}),a("div",{className:N.default.xboxSectionDetails},void 0,R(t),P(C.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};j.displayName="XboxSection";var B=function(e){var t=e.onIconClick,n=e.onIconContextMenu,r=e.icon,o=e.name,i=e.partySize,l=e.members;return a(w,{},void 0,a("div",{className:N.default.gameSection},void 0,null!=r?a(p.default,{onClick:t,onContextMenu:n},void 0,a("img",{alt:"",src:r,className:N.default.gameSectionIcon})):null,a("div",{},void 0,R(o),P(C.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:i.totalSize}))),a(T.default,{partySize:i,members:l})))};B.displayName="GameSection";var H=(0,u.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),V=function(e){var t=e.src,n=e.onClick,r=e.onContextMenu,o=void 0;switch(t){case H.XBOX:o=a(h.default,{className:N.default.headerIcon,name:h.default.Names.PLATFORM_XBOX,color:I.Colors.PRIMARY_DARK_300});break;case H.SPOTIFY:o=a(h.default,{className:N.default.headerIcon,name:h.default.Names.PLATFORM_SPOTIFY,color:I.Colors.SPOTIFY});break;case H.MULTIPLE:o=a("div",{className:N.default.multipleIconWrapper},void 0,a(h.default,{className:(0,l.default)(N.default.headerIcon,N.default.multipleIcon),name:h.default.Names.ACTIVITY,color:I.Colors.PRIMARY_DARK_300}));break;default:o=a("img",{src:t,alt:"",className:N.default.headerIcon})}return null!=n||null!=r?a(p.default,{onClick:n,className:(0,l.default)(null!=n?N.default.clickableIcon:""),onContextMenu:r},void 0,o):o};V.Src=H;var Y=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,l=e.icon,u=e.onContextMenu,s=e.analyticsContext,d={location:o({},s.location,{object:I.AnalyticsObjects.AVATAR})};return a("header",{className:null!=l?N.default.headerFull:N.default.headerSimple},void 0,a(m.default,{render:function(e){return i.createElement(S.default,o({},e,{user:t.user,analyticsParams:d}))},position:m.default.Positions.LEFT,closeOnScroll:!1},void 0,a(c.default,{src:t.user.getAvatarURL(),className:N.default.headerAvatar,imageClassName:N.default.headerAvatarMask,status:t.status,onContextMenu:u})),a("div",{className:N.default.headerDetails},void 0,a(_.default,{className:N.default.textContent,size:_.default.Sizes.SIZE_16},void 0,n),a(E.default,{className:N.default.textContent},void 0,r)),null!=l?l:null)};Y.displayName="NowPlayingHeader",Y.Icon=V;var W=function(e){var t=e.children;return a(v.default,{inset:!0,padded:!1,className:N.default.body},void 0,t)};W.displayName="NowPlayingBody";var K=function(e){var t=e.children,n=e.className;return a(v.default,{className:(0,l.default)(n,N.default.wrapper),padded:!1},void 0,t)};K.displayName="NowPlayingItem",K.Header=Y,K.Body=W,K.Separator=D,K.VoiceSection=F,K.GameSection=B,K.RichPresenceSection=U,K.XboxSection=j,K.SpotifySection=G,K.TwitchSection=x,t.default=K,e.exports=t.default},6786:function(e,t,n){"use strict";t.__esModule=!0,t.showNotice=function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.CHANNEL_NOTICE_SHOW,noticeType:e,guild:t})},t.hideNotice=function(e){a.default.dirtyDispatch({type:i.ActionTypes.CHANNEL_NOTICE_HIDE,noticeType:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6787:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(128)),l=c(n(222)),u=c(n(129)),s=c(n(110)),d=c(n(13)),f=c(n(5639));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.close=r.close.bind(r),r.handleSync=r.handleSync.bind(r),r.handleCancel=r.handleCancel.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){(0,this.props.onClose)()},t.prototype.handleSync=function(){(0,this.props.onSync)(),this.close()},t.prototype.handleCancel=function(){var e=this.props.onCancel;e&&e(),this.close()},t.prototype.renderHeader=function(){return o(l.default.Header,{},void 0,o(s.default,{tag:s.default.Tags.H4},void 0,d.default.Messages.CONFIRM_CHANNEL_DRAG_TITLE))},t.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return o(l.default.Content,{},void 0,o(u.default,{size:u.default.Sizes.MEDIUM,color:u.default.Colors.PRIMARY,className:f.default.message,selectable:!1},void 0,d.default.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:t.toString(!0),categoryName:n.toString()})))},t.prototype.renderFooter=function(){return o(l.default.Footer,{},void 0,o(i.default,{color:i.default.Colors.BRAND,onClick:this.handleSync,className:f.default.buttonSpacing},void 0,d.default.Messages.SYNC_PERMISSIONS),o(i.default,{color:i.default.Colors.BRAND,look:i.default.Looks.GHOST,onClick:this.handleCancel,className:f.default.buttonSpacing},void 0,d.default.Messages.KEEP_PERMISSIONS))},t.prototype.render=function(){return o(l.default,{},void 0,this.renderHeader(),this.renderContent(),this.renderFooter())},t}(a.PureComponent);p.key=function(){return"confirm-channel-drag-modal"},p.displayName="ConfirmChannelDrag",t.default=p,e.exports=t.default},6788:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=_(n(221)),u=_(n(152)),s=_(n(6789)),d=_(n(442)),f=_(n(910)),c=_(n(911)),p=n(0),h=_(n(13)),y=_(n(317)),m=_(n(5351)),v=_(n(5645));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=function(e){function t(){return E(this,t),g(this,e.apply(this,arguments))}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.collapsed,r=e.className;return o(u.default,{className:(0,i.default)(r,n?v.default.listCollapse:v.default.listDefault),direction:n?u.default.Direction.HORIZONTAL:u.default.Direction.VERTICAL,justify:u.default.Justify.START,wrap:n?u.default.Wrap.WRAP:u.default.Wrap.NO_WRAP,align:n?u.default.Align.START:u.default.Align.STRETCH},void 0,t)},t}(a.PureComponent);T.displayName="VoiceList";var I=o(c.default,{}),C=o(f.default,{}),N=function(e){function t(){var n,r;E(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.state={hovered:!1},r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.user;n&&n(e,o)},r.handleDoubleClick=function(e){var t=r.props,n=t.onDoubleClick,o=t.user;n&&n(e,o)},r.handleMouseEnter=function(e){r.setState({hovered:!0});var t=r.props,n=t.onMouseEnter,o=t.user;n&&n(e,o)},r.handleMouseLeave=function(e){r.setState({hovered:!1});var t=r.props,n=t.onMouseLeave,o=t.user;n&&n(e,o)},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.user;n&&n(e,o)},g(r,n)}return S(t,e),t.prototype.renderPrioritySpeaker=function(){var e,t=this.props,n=t.speaking,r=t.priority,a=t.collapsed;return r&&!a?o(d.default,{text:h.default.Messages.PRIORITY_SPEAKER},void 0,o("div",{className:(0,i.default)(v.default.priority,(e={},e[v.default.prioritySpeaking]=n,e))})):null},t.prototype.renderAvatar=function(){var e,t=this.props,n=t.speaking,r=t.user,a=t.size,l=t.avatarContainerClass,s=void 0;return s=n?v.default.avatarSpeaking:v.default.avatarDefault,o(u.default.Child,{wrap:!0,className:(0,i.default)(l,m.default.marginReset),grow:0,shrink:0},void 0,o("div",{className:(0,i.default)(s,(e={},e[v.default.largeAvatar]=a===p.OverlayAvatarSizes.LARGE,e[v.default.smallAvatar]=a===p.OverlayAvatarSizes.SMALL,e)),style:{backgroundImage:"url("+(r.avatarURL||r.getAvatarURL&&r.getAvatarURL("jpg")||"")+")"}}))},t.prototype.renderName=function(){var e=this.props,t=e.nick,n=e.user,r=e.collapsed,a=e.speaking,l=e.userNameClassName,s=this.state.hovered;if(r)return null;var d=v.default.nameDefault;return a?d=v.default.nameSpeaking:s&&(d=v.default.nameHovered),o(u.default.Child,{className:(0,i.default)(l,d,m.default.marginReset)},void 0,t||n.username)},t.prototype.renderIcons=function(){var e=this.props,t=e.mute,n=e.deaf,r=e.collapsed,a=e.isStreaming;if(r)return null;var l=void 0,d=void 0,f=void 0;return t&&(l=o("div",{className:v.default.iconSpacing},void 0,I)),n&&(d=o("div",{className:v.default.iconSpacing},void 0,C)),a&&(f=o(s.default,{className:(0,i.default)(v.default.iconSpacing,v.default.liveIcon,v.default.red)})),null==l&&null==d&&null==f?null:o(u.default,{wrap:u.default.Wrap.WRAP,className:m.default.marginReset,grow:0,shrink:0,align:u.default.Align.CENTER},void 0,f,l,d)},t.prototype.render=function(){var e,t=this.props,n=t.onClick,r=t.onDoubleClick,a=t.onContextMenu,u=t.flipped,s=t.size,d=t.className,f=this.state.hovered;return o(l.default,{className:(0,i.default)(v.default.voiceUser,d,(e={},e[v.default.userSmall]=s===p.OverlayAvatarSizes.SMALL,e[v.default.userLarge]=s===p.OverlayAvatarSizes.LARGE,e[v.default.userHovered]=f,e[v.default.userDefault]=!f,e[y.default.directionRowReverse]=u,e[y.default.directionRow]=!u,e)),onClick:n&&this.handleClick,onDoubleClick:r&&this.handleDoubleClick,onMouseEnter:n&&this.handleMouseEnter,onMouseLeave:n&&this.handleMouseLeave,onContextMenu:a&&this.handleContextMenu},void 0,this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons())},t}(a.PureComponent);N.List=T,N.defaultProps={avatarContainerClass:v.default.avatarContainer,userNameClassName:v.default.name,size:p.OverlayAvatarSizes.SMALL},N.displayName="VoiceUser",t.default=N,e.exports=t.default},6789:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(13))),i=l(n(5644));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return o("div",{className:t},void 0,o("div",{className:i.default.liveIcon},void 0,a.default.Messages.LIVE))},e.exports=t.default},6790:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.renderTwoColumns=f,t.renderStreams=function(e,t){return e.map(function(e){var n=a.default.map(e,function(e,n){return"type"===n?null:o(u.Item,{section:t,label:n,value:e},n)}).filter(function(e){return null!=e});return o(l.default,{className:s.default.marginBottom40,title:e.type},e.type,f(n))})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=d(n(6)),i=d(n(152)),l=d(n(837)),u=n(7112),s=d(n(5351));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=[],n=0;for(e.length%2!=0&&e.push(o(i.default,{basis:"50%",grow:0},n++));e.length>0;)t.push(o(i.default,{basis:"50%",grow:0},n++,e.splice(0,2)));return t}},6791:function(e,t,n){"use strict";var r,o;t.__esModule=!0,t.OVERLAY_LOCKED_LAYOUT=t.OVERLAY_LAYOUT=void 0,t.getOverlayLayoutContent=function(){return[{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:A(I.KeybindActions.SERVER_PREV,I.KeybindActions.SERVER_NEXT)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:A(I.KeybindActions.CHANNEL_PREV,I.KeybindActions.CHANNEL_NEXT)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:A(I.KeybindActions.UNREAD_PREV,I.KeybindActions.UNREAD_NEXT)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:A(I.KeybindActions.MENTION_CHANNEL_PREV,I.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:A(I.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:A(I.KeybindActions.MARK_SERVER_READ)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:A(I.KeybindActions.MARK_CHANNEL_READ)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:A(I.KeybindActions.SEARCH_EMOJIS),groupEnd:!0},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:A(I.KeybindActions.TOGGLE_MUTE)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:A(I.KeybindActions.TOGGLE_DEAFEN)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:A(I.KeybindActions.CALL_ACCEPT)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:A(I.KeybindActions.MARK_CHANNEL_READ)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:A(I.KeybindActions.CALL_START),groupEnd:!0},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:A(I.KeybindActions.SCROLL_UP,I.KeybindActions.SCROLL_DOWN)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:A(I.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:A(I.KeybindActions.TEXTAREA_FOCUS)},{description:N.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:A(I.KeybindActions.QUICKSWITCHER_SHOW)}]};var a,i=n(6308),l=n(6309),u=n(6141),s=n(6310),d=n(6311),f=n(6312),c=n(7116),p=n(6314),h=n(6315),y=n(6316),m=n(6317),v=n(6318),_=n(6319),E=n(6321),g=n(6322),S=n(6323),T=n(6325),I=n(0),C=n(13),N=(a=C)&&a.__esModule?a:{default:a};function A(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=O[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var O=t.OVERLAY_LAYOUT=((r={})[I.KeybindActions.SERVER_NEXT]=m.SERVER_NEXT,r[I.KeybindActions.SERVER_PREV]=m.SERVER_PREV,r[I.KeybindActions.CHANNEL_NEXT]=l.CHANNEL_NEXT,r[I.KeybindActions.CHANNEL_PREV]=l.CHANNEL_PREV,r[I.KeybindActions.UNREAD_NEXT]=T.UNREAD_NEXT,r[I.KeybindActions.UNREAD_PREV]=T.UNREAD_PREV,r[I.KeybindActions.MENTION_CHANNEL_NEXT]=T.MENTION_NEXT,r[I.KeybindActions.MENTION_CHANNEL_PREV]=T.MENTION_PREV,r[I.KeybindActions.TOGGLE_PREVIOUS_GUILD]=l.TOGGLE_PREVIOUS_GUILD,r[I.KeybindActions.JUMP_TO_GUILD]=u.JUMP_TO_GUILD,r[I.KeybindActions.SUBMIT]=v.SUBMIT,r[I.KeybindActions.TEXTAREA_FOCUS]=_.TEXTAREA_FOCUS,r[I.KeybindActions.MARK_CHANNEL_READ]=s.MARK_CHANNEL_READ,r[I.KeybindActions.MARK_SERVER_READ]=d.MARK_SERVER_READ,r[I.KeybindActions.TOGGLE_MUTE]=E.TOGGLE_MUTE,r[I.KeybindActions.TOGGLE_DEAFEN]=E.TOGGLE_DEAFEN,r[I.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=g.TOGGLE_CATEGORY_COLLAPSED,r[I.KeybindActions.SCROLL_UP]=h.SCROLL_UP,r[I.KeybindActions.SCROLL_DOWN]=h.SCROLL_DOWN,r[I.KeybindActions.SEARCH_EMOJIS]=y.SEARCH_EMOJIS,r[I.KeybindActions.TOGGLE_HOTKEYS]=S.TOGGLE_HOTKEYS,r[I.KeybindActions.JUMP_TO_FIRST_UNREAD]=f.JUMP_TO_FIRST_UNREAD,r[I.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=p.RETURN_TO_AUDIO_CHANNEL,r[I.KeybindActions.CALL_ACCEPT]=i.CALL_ACCEPT,r[I.KeybindActions.CALL_START]=i.CALL_START,r[I.KeybindActions.QUICKSWITCHER_SHOW]=c.QUICKSWITCHER_SHOW,r);t.OVERLAY_LOCKED_LAYOUT=((o={})[I.KeybindActions.QUICKSWITCHER_SHOW]=c.QUICKSWITCHER_SHOW,o);t.default=O},6792:function(e,t,n){"use strict";t.__esModule=!0,t.AnimatedPage=t.PageWrapper=t.Text=t.Title=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=f(n(310)),s=f(n(152)),d=f(n(5660));function f(e){return e&&e.__esModule?e:{default:e}}(t.Title=function(e){var t=e.children,n=e.className;return a("h1",{className:(0,l.default)(n,d.default.title)},void 0,t)}).displayName="Title",(t.Text=function(e){var t=e.children,n=e.className;return a("div",{className:(0,l.default)(n,d.default.text)},void 0,t)}).displayName="Text",(t.PageWrapper=function(e){var t=e.illustration,n=e.children,r=e.style,o=e.illustrationStyle;return a(u.default.div,{className:d.default.modalContent,style:r},void 0,a(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,className:d.default.illustrationWrapper,grow:0,shrink:0},void 0,a(u.default.div,{style:o},void 0,a("img",{alt:"",src:t}))),a(s.default,{align:s.default.Align.START},void 0,a("div",{className:d.default.padded},void 0,n)))}).displayName="PageWrapper";var c={friction:15,tension:200};t.AnimatedPage=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.translateX=new u.default.Value(0),r.translateX.setValue(0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){(0,this.props.setRef)(this)},t.prototype.componentWillEnter=function(e){var t=this.translateX;t.setValue(1),setTimeout(function(){u.default.spring(t,o({toValue:0},c)).start(e)},220)},t.prototype.componentWillLeave=function(e){var t=this.translateX;u.default.spring(t,{toValue:.14,friction:10,tension:100}).start(),setTimeout(function(){u.default.spring(t,o({toValue:-1},c)).start(e)},220)},t.prototype.submit=function(){return new Promise(function(e){return e()})},t.prototype.getAnimatedStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t=this.translateX;return u.default.accelerate({transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0%",e]})}]})},t}(i.Component)},6799:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=d(n(9)),u=d(n(5977)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleCutItem=function(){(0,i.closeContextMenu)(),r.props.target.focus(),setTimeout(function(){return l.default.cut()},0)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.value?o(u.default,{label:s.default.Messages.CUT,hint:l.default.isOSX()?"⌘X":"Ctrl+X",action:this.handleCutItem}):null},t}(a.PureComponent);c.displayName="NativeCutItem",t.default=c,e.exports=t.default},6800:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=d(n(9)),u=d(n(5977)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handlePasteItem=function(){(0,i.closeContextMenu)(),r.props.target.focus(),setTimeout(function(){return l.default.paste()},0)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{label:s.default.Messages.PASTE,hint:l.default.isOSX()?"⌘V":"Ctrl+V",action:this.handlePasteItem})},t}(a.PureComponent);c.displayName="NativePasteItem",t.default=c,e.exports=t.default},6801:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(4)),l=n(307),u=n(6802),s=v(n(6803)),d=v(n(314)),f=n(6417),c=v(n(5981)),p=v(n(5977)),h=v(n(5982)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r.state={misspelled:!1,corrections:[]},r._mounted=!1,r.handleLearnWord=function(){var e=r.props.value;(0,u.learnWord)(e),r.resetTarget()},r.handleToggle=function(){(0,u.toggleSpellcheck)(),r.resetTarget()},r.handleLanguages=function(){window.open(d.default.getArticleURL(y.HelpdeskArticles.SPELLCHECK))},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._mounted=!0,this.updateCorrections(this.props)},t.prototype.componentWillUnmount=function(){this._mounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.value,r=t.spellcheckEnabled;n===e.value&&r===e.spellcheckEnabled||this.updateCorrections(e)},t.prototype.render=function(){var e=this;if(!(0,f.isSupported)())return null;var t=this.props.spellcheckEnabled,n=this.state,r=n.misspelled,a=n.corrections,i=o(c.default,{},"options",r?o(p.default,{label:m.default.Messages.ADD_TO_DICTIONARY,action:this.handleLearnWord}):null,o(h.default,{label:m.default.Messages.SPELLCHECK,active:t,action:this.handleToggle}),t?o(p.default,{label:m.default.Messages.LANGUAGES,action:this.handleLanguages}):null);return 0===a.length?i:[o(c.default,{},"corrections",a.map(function(t,n){return o(p.default,{label:t,action:function(){return e.handleReplace(t)}},n)})),i]},t.prototype.handleReplace=function(e){var t=this.props.target;(0,l.closeContextMenu)(),(0,f.replaceWithCorrection)(e),t.focus()},t.prototype.resetTarget=function(){(0,l.closeContextMenu)();var e=this.props.target,t=e.selectionStart,n=e.selectionEnd,r=e.value;e.value="",e.value=r,e.selectionStart=t,e.selectionEnd=n,e.focus()},t.prototype.updateCorrections=function(e){var t=this,n=e.spellcheckEnabled,r=e.value,o=e.onHeightUpdate;n&&(0,f.isSupported)()&&Promise.all([(0,f.isMisspelled)(r,!0),(0,f.getCorrections)(r,!0)]).then(function(e){var n=e[0],r=e[1];t._mounted&&t.setState({misspelled:n,corrections:r},o)})},t}(a.PureComponent);E.defaultProps={value:""},E.displayName="NativeSpellcheckGroup",t.default=i.default.connectStores([],function(){return{spellcheckEnabled:s.default.isEnabled()}})(E),e.exports=t.default},6802:function(e,t,n){"use strict";t.__esModule=!0,t.toggleSpellcheck=function(){a.default.dispatch({type:i.ActionTypes.SPELLCHECK_TOGGLE})},t.learnWord=function(e){a.default.dispatch({type:i.ActionTypes.SPELLCHECK_LEARN_WORD,word:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6803:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(23)),a=l(n(1)),i=n(6417);n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="SpellcheckStore",s=!0,d=new Set;function f(){o.default.set(u,{enabled:s,learnedWords:d})}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=o.default.get(u);null!=e&&(s=e.enabled,d=new Set(e.learnedWords),(0,i.setEnabled)(s),(0,i.setLearnedWords)(d))},t.prototype.isEnabled=function(){return s},t}(r.default.Store);t.default=new c(a.default,{SPELLCHECK_TOGGLE:function(e){return s=!s,(0,i.setEnabled)(s),void f()},SPELLCHECK_LEARN_WORD:function(e){var t=e.word;d.add(t.toLocaleLowerCase()),(0,i.setLearnedWords)(d),f()}}),e.exports=t.default},6804:function(e,t,n){"use strict";t.__esModule=!0,t.Spellchecker=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.install=function(){return i.default.ensureModule("discord_spellcheck").then(function(){var e=i.default.requireModule("discord_spellcheck").Spellchecker,t=new h(new e);return function(e){null!=document.body&&document.body.addEventListener("input",function(t){null!=t.target&&"string"==typeof t.target.value&&e.detectLocale(t.target.value)},!0)}(t),t})};var o=n(6805),a=c(n(879)),i=c(n(9)),l=c(n(92)),u=c(n(65)),s=c(n(6806)),d=c(n(6807)),f=c(n(6418));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){e=f.default[e]||e;var t=(0,o.parse)(e.replace(/[_-]/g,"-"));if(null==t||null==t.langtag.language||null==t.langtag.region)throw new Error(e+" is not a valid locale.");var n=t.langtag,r=n.language,a=n.region;return r.language.toLowerCase()+"-"+a.toUpperCase()}var h=t.Spellchecker=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._logger=u.default.create("Spellchecker"),this._isMisspelledCache=new a.default({max:512,maxAge:4e3}),this._localeAvailable=!1,this._enabled=!0,this._learnedWords=new Set,this._spellchecker=t;var r=this.getAvailableLocales();this._languageDetector=new s.default(r[0],this.getAvailableLanguages(r),function(e){return n.setLocale(e)})}return e.prototype.reset=function(){var e=this;null!=this._locale&&(this._isMisspelledCache.reset(),l.default.spellCheck.setSpellCheckProvider(this._locale,!0,{spellCheck:function(t){return!e.isMisspelled(t)}}))},e.prototype.setLearnedWords=function(e){this._learnedWords=e,this.reset()},e.prototype.setLocale=function(e){e!==this._locale&&(this._locale=e,this._localeAvailable=this._spellchecker.setDictionary(e),this._logger.info("Switching to "+e,this._localeAvailable?"(available)":"(unavailable)"),this.reset())},e.prototype.detectLocale=function(e){this.enabled&&this._languageDetector.process(e)},e.prototype.getAvailableLocales=function(){var e=i.default.requireModule("discord_spellcheck").keyboardLayout;return(i.default.isOSX()?this._spellchecker.getAvailableDictionaries():e.getInstalledKeyboardLanguages()).map(p)},e.prototype.getAvailableLanguages=function(e){var t={};return(e=e||this.getAvailableLocales()).forEach(function(e){var n=e.split("-")[0];t[n]=t[n]||e}),t},e.prototype.isMisspelled=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._isMisspelledCache.get(e);return null!=n?n:!t&&(n=this._isMisspelled(e),this._isMisspelledCache.set(e,n),n)},e.prototype._isMisspelled=function(e){if(!this._enabled||!this._localeAvailable)return!1;if(1===e.length)return!1;var t=e.toLocaleLowerCase();return!this._learnedWords.has(t)&&!d.default.has(t)&&this._spellchecker.isMisspelled(e)},e.prototype.getCorrectionsForMisspelling=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isMisspelled(e,t)&&this._spellchecker.getCorrectionsForMisspelling(e)||[]},r(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this.reset()}}]),e}()},6806:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(9)),a=i(n(6418));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._shouldProcess=!1,this._processing=!1,this._minimumTimeRemaining=5,this._locale=t,this._availableLanguages=n,this._languageHint=t.split("-")[0],this._onChange=r,r(t)}return e.prototype.process=function(e){var t=this;this._processing||(this._processing=!0,requestIdleCallback(function(n){n.timeRemaining()<=t._minimumTimeRemaining?t._processEnd():(e.length>256&&(e=e.slice(0,256)),function(e,t){var n=o.default.requireModule("discord_spellcheck").cld;return new Promise(function(r,o){n.detect(e,{httpHint:t,encodingHint:"UTF8"},function(e,t){null!=e?o(new Error(e.message)):!t.reliable||t.languages[0].percent<90||t.languages[0].score<500?o(new Error("Not enough reliable text.")):r(t.languages[0].code)})})}(e,t._languageHint).then(function(e){var r=t._availableLanguages[e]||a.default[e];null!=r&&(t.locale=r),t._processEnd(n.didTimeout)},function(){t._processEnd(n.didTimeout)}))}))},e.prototype._processEnd=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._processing=!1,e&&this._minimumTimeRemaining++},r(e,[{key:"locale",get:function(){return this._locale},set:function(e){this._locale!==e&&(this._locale=e,this._onChange(e))}}]),e}();t.default=l,e.exports=t.default},6807:function(e,t,n){"use strict";t.__esModule=!0;var r=new Set(["ain't","aren't","can't","could've","couldn't","couldn't've","didn't","doesn't","don't","hadn't","hadn't've","hasn't","haven't","he'd","he'd've","he'll","he's","how'd","how'll","how's","I'd","I'd've","I'll","I'm","I've","isn't","it'd","it'd've","it'll","it's","let's","ma'am","mightn't","mightn't've","might've","mustn't","must've","needn't","not've","o'clock","shan't","she'd","she'd've","she'll","she's","should've","shouldn't","shouldn't've","that'll","that's","there'd","there'd've","there're","there's","they'd","they'd've","they'll","they're","they've","wasn't","we'd","we'd've","we'll","we're","we've","weren't","what'll","what're","what's","what've","when's","where'd","where's","where've","who'd","who'll","who're","who's","who've","why'll","why're","why's","won't","would've","wouldn't","wouldn't've","y'all","y'all'd've","you'd","you'd've","you'll","you're","you've"].map(function(e){return e.replace(/'.*/,"")}));t.default=r,e.exports=t.default},6808:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=p(n(6113)),u=p(n(157)),s=p(n(51)),d=p(n(5977)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),d=0;d<o;d++)a[d]=arguments[d];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.tagAsSpoiler=function(){var e=r.props,t=e.target,n=e.value,o=void 0===n?"":n,a=e.isEditing;if(t instanceof HTMLTextAreaElement){var d=s.default.getChannelId();if(null!=d){(0,i.closeContextMenu)(),t.focus();var c=t.selectionStart,p=t.selectionEnd;t.value=t.value.slice(0,c)+(0,f.MARKDOWN_SPOILER_WRAPPER)(o)+t.value.slice(p),a?u.default.updateEditMessage(t.value):l.default.saveDraft(d,t.value)}}},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.target;return null!=t&&n instanceof HTMLTextAreaElement?o(d.default,{label:c.default.Messages.SPOILER_MARK_SELECTED,action:this.tagAsSpoiler}):null},t}(a.PureComponent);y.displayName="NativeSpoilerItem",t.default=y,e.exports=t.default},6809:function(e,t,n){"use strict";t.__esModule=!0,t.getArtForPath=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.makeAuthenticated=function(e,t){var n=o(t,{});return function(r){if(!u.default.isAuthenticated()&&!u.default.isGuest()){if(null!=t)return n;var s=location.pathname+location.search;return o(i.Redirect,{to:(0,l.getLoginPath)(s,!1)})}return a.createElement(e,r)}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(137),l=n(927),u=f(n(12)),s=f(n(6810)),d=f(n(6811));function f(e){return e&&e.__esModule?e:{default:e}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(6812);var t=(new Date).getHours();return t>=6&&t<20?s.default:d.default}},6810:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},6811:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},6812:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},6816:function(e,t,n){"use strict";t.__esModule=!0;t.tutTipsOriginal=Object.freeze({"voice-conversations":{},"writing-messages":{prerequisites:["voice-conversations"]},"direct-messages":{},"create-first-server":{},"organize-by-topic":{},"instant-invite":{prerequisites:["organize-by-topic"]},"whos-online":{prerequisites:["instant-invite"]},"server-settings":{prerequisites:["instant-invite"]},"friends-list":{prerequisites:["instant-invite"]},"create-more-servers":{prerequisites:["server-settings"]}}),t.tutTipsLogicV2=Object.freeze({"direct-messages":{},"writing-messages":{},"voice-channels":{},"voice-conversations":{prerequisites:["voice-channels"]},"organize-by-channel":{},"instant-invite":{prerequisites:["organize-by-channel"]},"whos-online":{prerequisites:["instant-invite"]},"server-settings":{prerequisites:["instant-invite"]},"friends-list":{prerequisites:["instant-invite"]},"create-first-server":{prerequisites:["whos-online"]}})},6817:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={showChangeLog:function(){a.default.dispatch({type:i.ActionTypes.CHANGE_LOG_OPEN})},hideChangeLog:function(){a.default.dispatch({type:i.ActionTypes.CHANGE_LOG_CLOSE})}},e.exports=t.default},6820:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(6)),a=u(n(345)),i=u(n(4)),l=u(n(1));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=!1,d=[];var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBackupCodes=function(){return d},r(t,[{key:"togglingSMS",get:function(){return s}}]),t}(i.default.Store);t.default=new f(l.default,{MFA_ENABLE_SUCCESS:function(e){var t=e.token,n=e.codes;a.default.setToken(t),d=n},MFA_DISABLE_SUCCESS:function(e){var t=e.token;a.default.setToken(t)},MFA_SMS_TOGGLE:function(e){s=!0},MFA_SMS_TOGGLE_COMPLETE:function(e){s=!1},MFA_CLEAR_BACKUP_CODES:function(e){d=[]},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes;d=o.default.sortBy(t,"code")}}),e.exports=t.default},6823:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(128)),l=y(n(450)),u=y(n(222)),s=y(n(129)),d=y(n(828)),f=y(n(448)),c=y(n(110)),p=y(n(13)),h=y(n(5748));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleSubmit=r.handleSubmit.bind(r),r.handleCancel=r.handleCancel.bind(r),r.handlePasswordChange=r.handlePasswordChange.bind(r),r.state={value:"",error:null,isLoading:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,r=e.children,y=this.state,m=y.error,v=y.isLoading,_=y.value,E=a.Children.count(r)?o(l.default,{type:l.default.Types.WARNING,className:h.default.card},void 0,o(s.default,{color:s.default.Colors.WHITE,size:s.default.Sizes.MEDIUM},void 0,r)):null;return o(u.default,{tag:"form",onSubmit:this.handleSubmit},void 0,o(u.default.Header,{},void 0,o(c.default,{tag:c.default.Tags.H4},void 0,t)),o(u.default.Content,{},void 0,E,o(f.default,{title:p.default.Messages.FORM_LABEL_PASSWORD,className:h.default.spacing},void 0,o(d.default,{type:"password",autoComplete:"off",autoFocus:!0,value:_,onChange:this.handlePasswordChange}),m?o(s.default,{size:s.default.Sizes.SMALL,color:s.default.Colors.RED,className:h.default.error},void 0," ",m," "):null)),o(u.default.Footer,{},void 0,o(i.default,{type:"submit",disabled:v},void 0,n||p.default.Messages.CONFIRM),o(i.default,{onClick:this.handleCancel,look:i.default.Looks.LINK,color:i.default.Colors.PRIMARY},void 0,p.default.Messages.CANCEL)))},t.prototype.handleSubmit=function(e){var t=this;e.preventDefault();var n=this.state.value,r=this.props,o=r.handleSubmit,a=r.onClose;this.setState({isLoading:!0}),o(n).then(function(){return a()},function(e){null!=e.body&&(e.body.password?t.setState({error:e.body.password,isLoading:!1}):e.body.message&&t.setState({error:e.body.message,isLoading:!1}))})},t.prototype.handleCancel=function(){(0,this.props.onClose)()},t.prototype.handlePasswordChange=function(e){this.setState({value:e})},t}(a.PureComponent);m.key=function(){return"password-confirm-modal"},m.displayName="PasswordConfirm",t.default=m,e.exports=t.default},6824:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=m(n(4)),u=m(n(849)),s=m(n(80)),d=m(n(15)),f=m(n(128)),c=m(n(129)),p=m(n(460)),h=m(n(447)),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];return n=r=v(this,e.call.apply(e,[this].concat(d))),r.state={isSendingVerificationEmail:!1},r.handleResendVerification=function(){var e=r.props,t=e.currentUser,n=e.onClick;n&&n(),r.setState({isSendingVerificationEmail:!0},function(){u.default.verifyResend().then(function(){return s.default.push(function(e){return i.createElement(h.default,o({header:y.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:y.default.Messages.OKAY,red:!1},e),a(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,y.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email})))})}).catch(function(e){var t=e.body,n=y.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email),s.default.push(function(e){return i.createElement(p.default,o({title:y.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))})}).then(function(){return r.setState({isSendingVerificationEmail:!1})})})},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,r=e.size;return a(f.default,{look:n,size:r,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,y.default.Messages.RESEND_VERIFICATION_EMAIL)},t}(i.Component);_.defaultProps={size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND},_.displayName="ResendEmailVerificationButton",t.default=l.default.connectStores([d.default],function(){return{currentUser:d.default.getCurrentUser()}})(_),e.exports=t.default},6825:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1,u=null,s=224,d=!1;function f(){i=!0}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getProps=function(){return{working:i,valid:l,error:u}},t.prototype.getCountryId=function(){return s},t.prototype.getCountrySelectorOpened=function(){return d},t}(r.default.Store);t.default=new c(o.default,{VERIFICATION_ADDING_PHONE:function(e){return f()},VERIFICATION_VERIFYING_PHONE:function(e){return f()},VERIFICATION_ADD_PHONE_SUCCESS:function(e){return u=null,i=!1,void(l=!0)},VERIFICATION_ADD_PHONE_FAILURE:function(e){var t=e.error;u=t,i=!1,l=!1},VERIFICATION_VERIFY_PHONE_SUCCESS:function(e){return u=null,void(i=!1)},VERIFICATION_ADD_PHONE_RESET:function(e){return u=null,i=!1,void(l=!1)},VERIFICATION_VERIFY_PHONE_FAILURE:function(e){var t=e.error;u=t,i=!1},VERIFICATION_SELECT_COUNTRY:function(e){var t=e.id;s!==t&&(s=t)},VERIFICATION_OPEN_COUNTRY_SELECTOR:function(e){d=!0},VERIFICATION_CLOSE_COUNTRY_SELECTOR:function(e){d=!1}}),e.exports=t.default},6826:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=_(n(6135)),u=n(128),s=_(u),d=_(n(6827)),f=_(n(152)),c=_(n(222)),p=_(n(6828)),h=_(n(13)),y=_(n(317)),m=_(n(5351)),v=_(n(5522));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._animItem=null,r.setLottieRef=function(e){r._lottieRef=e},r.handleAddPhone=function(e){r.state.animated||null==r._animItem||(r._animItem.play(),r.setState({animated:!0})),r._phone=e;var t=r.props.onAddPhone;t&&t(e)},r.handleVerifyPhone=function(e){var t=r.props.onVerifyPhone;t&&t(e)},r.handleResendCode=function(){var e=r.props.onAddPhone;e&&e(r._phone)},r.state={animated:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n.e(233).then(function(t){var r=n(7325);e._animItem=l.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!1,animationData:r})}.bind(null,n)).catch(n.oe)},t.prototype.componentWillUnmount=function(){null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},t.prototype.render=function(){var e=this.props,t=e.error,n=e.working,r=e.validPhone,l=void 0;l=t?o("div",{className:(0,i.default)(v.default.description,v.default.error,m.default.marginBottom20)},void 0,t):o("div",{className:(0,i.default)(v.default.description,m.default.marginBottom20)},void 0,r?h.default.Messages.VERIFICATION_PHONE_DESCRIPTION:h.default.Messages.ENTER_PHONE_DESCRIPTION);var _=void 0;return _=r?o(f.default,{className:v.default.field,direction:f.default.Direction.VERTICAL,align:f.default.Align.CENTER},void 0,o(d.default,{onSubmit:this.handleVerifyPhone}),o(s.default,{className:m.default.marginTop8,size:u.ButtonSizes.SMALL,look:u.ButtonLooks.LINK,color:u.ButtonColors.PRIMARY,onClick:this.handleResendCode},void 0,h.default.Messages.RESEND_CODE)):o(p.default,{className:v.default.field,onSubmit:this.handleAddPhone,submitting:n}),o(c.default,{className:(0,i.default)(v.default.phoneVerificationModal,y.default.vertical,y.default.alignCenter,y.default.justifyCenter,m.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),o("div",{className:(0,i.default)(v.default.title,m.default.marginBottom8)},void 0,r?h.default.Messages.VERIFICATION_PHONE_TITLE:h.default.Messages.ENTER_PHONE_TITLE),l,_)},t}(a.PureComponent);E.displayName="PhoneVerificationModal",t.default=E,e.exports=t.default},6827:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(152)),l=u(n(5518));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(n){s(this,t);var r=d(this,e.call(this,n));return r.handleKeyDown=r.handleKeyDown.bind(r),r.handleChange=r.handleChange.bind(r),r.setCodeBlockRef=r.setCodeBlockRef.bind(r),r}return f(t,e),t.prototype.render=function(){return a.createElement("input",{ref:this.setCodeBlockRef,className:l.default.input,maxLength:1,value:this.props.code,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})},t.prototype.setCodeBlockRef=function(e){this._codeBlockRef=e},t.prototype.focus=function(){this._codeBlockRef&&this._codeBlockRef.focus()},t.prototype.blur=function(){this._codeBlockRef&&this._codeBlockRef.blur()},t.prototype.handleKeyDown=function(e){var t=8===e.which||37===e.which||39===e.which,n=e.which>=48&&e.which<=57||e.keyCode>=96&&e.keyCode<=105;t||n||e.preventDefault();var r=this.props.onKeyDown;r&&r(e)},t.prototype.handleChange=function(e){var t=this.props.onChange;t&&t(e.currentTarget.value)},t}(a.PureComponent);c.defaultProps={autoFocus:!1},c.displayName="CodeBlock";var p=function(e){function t(n){s(this,t);var r=d(this,e.call(this,n));return r._codeBlockRefs=new Array(r.props.count),r.state={codes:new Array(n.count)},r}return f(t,e),t.prototype.render=function(){for(var e=this,t=this.state.codes,n=[],r=function(r){r===t.length/2&&n.push(o("div",{className:l.default.spacer},"spacer")),n.push(a.createElement(c,{ref:function(t){return e.setCodeBlockRef(r,t)},key:r,code:t[r],autoFocus:0===r,onChange:function(t){return e.handleChange(r,t)},onKeyDown:function(t){return e.handleKeyDown(r,t)}}))},u=0;u<t.length;u++)r(u);return o(i.default,{align:i.default.Align.CENTER,justify:i.default.Justify.CENTER},void 0,n)},t.prototype.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t},t.prototype.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];r&&r.focus()}},t.prototype.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var o=this._codeBlockRefs[r];o&&o.focus()}},t.prototype.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t},t.prototype.submit=function(e){var t=this.props.onSubmit;t&&t(e)},t}(a.PureComponent);p.defaultProps={count:6},p.displayName="CodeField",t.default=p,e.exports=t.default},6828:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(17)),u=S(n(6022)),s=S(n(6)),d=S(n(6829)),f=n(128),c=S(f),p=S(n(152)),h=S(n(306)),y=S(n(6439)),m=S(n(313)),v=S(n(13)),_=S(n(5361)),E=S(n(5351)),g=S(n(5521));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=a(y.default.Divider,{}),A=function(e){function t(n){T(this,t);var r=I(this,e.call(this,n));return r.onChangeQuery=function(e){r.setState({query:e})},r.onClearQuery=function(){r.setState({query:""})},r.onClick=function(e){var t=e.id;(0,r.props.onClick)(t)},r.state={query:""},r}return C(t,e),t.prototype.renderItems=function(){var e=this,t=this.state.query,n=d.default.map(function(e,t){var n=e.code,r=e.name,o=n.split(" ")[0];return{id:t,value:r,children:a(p.default,{className:g.default.countryItem,justify:p.default.Justify.CENTER,align:p.default.Align.CENTER},void 0,a(p.default.Child,{className:g.default.countryName},void 0,r),a(p.default.Child,{className:g.default.countryCode,grow:0,shrink:0},void 0,o))}}),r=(0,s.default)(n).filter(function(e){return 0===t.length||(0,u.default)(t.toLowerCase(),e.value.toLowerCase())}).map(function(t){return i.createElement(y.default.Item,o({key:t.id},t,{onClick:e.onClick}))}).value();return 0===r.length?a(y.default.Empty,{},void 0,v.default.Messages.NONE):a(m.default,{outerClassName:g.default.scrollerWrap,className:g.default.phoneFieldScroller},void 0,r)},t.prototype.render=function(){return a(y.default,{className:(0,l.default)(g.default.phoneFieldPopout,_.default.elevationBorderLow)},void 0,a(y.default.SearchBar,{query:this.state.query,placeholder:v.default.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery}),N,this.renderItems())},t}(i.PureComponent);A.displayName="CountryPopoutList";var O=function(e){function t(n){T(this,t);var r=I(this,e.call(this,n));b.call(r);var o=d.default[224].code.split(" "),a=o[0],i=o[1];return r.state={countryCode:a,phone:i||"",open:!1},r}return C(t,e),t.prototype.render=function(){var e=this.state,t=e.countryCode,n=e.phone,r=e.open,o=this.props,i=o.className,u=o.submitting,s=t.split("+")[1];return a(p.default,{className:(0,l.default)(g.default.phoneField,_.default.elevationLow,i),align:p.default.Align.CENTER,grow:0},void 0,a(p.default,{className:g.default.countryButton,grow:0,align:p.default.Align.CENTER,onClick:this.handleTogglePopout},void 0,a(p.default,{className:(0,l.default)(g.default.countryCodeContainer,E.default.marginReset),justify:p.default.Justify.CENTER},void 0,a("div",{className:g.default.plusSign},void 0,"+"),a("div",{className:g.default.countryCode},void 0,s)),a(h.default,{name:h.default.Names.CARET,foreground:g.default.phoneFieldExpand,expanded:r,width:16,height:16})),a("input",{className:g.default.inputField,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,autoFocus:!0}),a(c.default,{className:g.default.sendButton,size:f.ButtonSizes.SMALL,submitting:u,onClick:this.handleSubmit},void 0,v.default.Messages.SEND),r?a(A,{onClick:this.handleClick}):null)},t.prototype.closePopout=function(){this.state.open&&this.setState({open:!1})},t}(i.PureComponent),b=function(){var e=this;this.handleChange=function(t){e.closePopout(),e.setState({phone:t.currentTarget.value})},this.handleKeyPress=function(t){e.closePopout(),13===t.which&&(t.preventDefault(),e.handleSubmit())},this.handleSubmit=function(){var t=e.props,n=t.onSubmit,r=t.submitting,o=e.state,a=o.countryCode,i=o.phone;r||n&&n(""+a+i)},this.handleTogglePopout=function(){e.setState({open:!e.state.open})},this.handleClick=function(t){var n=d.default[t].code.split(" "),r=n[0],o=n[1];e.setState({open:!1,countryCode:r,phone:o||""})}};O.displayName="PhoneField",t.default=O,e.exports=t.default},6829:function(e){e.exports=[{code:"+7 840",name:"Abkhazia"},{code:"+93",name:"Afghanistan"},{code:"+355",name:"Albania"},{code:"+213",name:"Algeria"},{code:"+1 684",name:"American Samoa"},{code:"+376",name:"Andorra"},{code:"+244",name:"Angola"},{code:"+1 264",name:"Anguilla"},{code:"+1 268",name:"Antigua and Barbuda"},{code:"+54",name:"Argentina"},{code:"+374",name:"Armenia"},{code:"+297",name:"Aruba"},{code:"+247",name:"Ascension"},{code:"+61",name:"Australia"},{code:"+672",name:"Australian External Territories"},{code:"+43",name:"Austria"},{code:"+994",name:"Azerbaijan"},{code:"+1 242",name:"Bahamas"},{code:"+973",name:"Bahrain"},{code:"+880",name:"Bangladesh"},{code:"+1 246",name:"Barbados"},{code:"+1 268",name:"Barbuda"},{code:"+375",name:"Belarus"},{code:"+32",name:"Belgium"},{code:"+501",name:"Belize"},{code:"+229",name:"Benin"},{code:"+1 441",name:"Bermuda"},{code:"+975",name:"Bhutan"},{code:"+591",name:"Bolivia"},{code:"+387",name:"Bosnia and Herzegovina"},{code:"+267",name:"Botswana"},{code:"+55",name:"Brazil"},{code:"+246",name:"British Indian Ocean Territory"},{code:"+1 284",name:"British Virgin Islands"},{code:"+673",name:"Brunei"},{code:"+359",name:"Bulgaria"},{code:"+226",name:"Burkina Faso"},{code:"+257",name:"Burundi"},{code:"+855",name:"Cambodia"},{code:"+237",name:"Cameroon"},{code:"+1",name:"Canada"},{code:"+238",name:"Cape Verde"},{code:"+1 345",name:"Cayman Islands"},{code:"+236",name:"Central African Republic"},{code:"+235",name:"Chad"},{code:"+56",name:"Chile"},{code:"+86",name:"China"},{code:"+61",name:"Christmas Island"},{code:"+61",name:"Cocos-Keeling Islands"},{code:"+57",name:"Colombia"},{code:"+269",name:"Comoros"},{code:"+242",name:"Congo"},{code:"+243",name:"Congo, Dem. Rep. of (Zaire)"},{code:"+682",name:"Cook Islands"},{code:"+506",name:"Costa Rica"},{code:"+385",name:"Croatia"},{code:"+53",name:"Cuba"},{code:"+599",name:"Curacao"},{code:"+357",name:"Cyprus"},{code:"+420",name:"Czech Republic"},{code:"+45",name:"Denmark"},{code:"+246",name:"Diego Garcia"},{code:"+253",name:"Djibouti"},{code:"+1 767",name:"Dominica"},{code:"+1 809",name:"Dominican Republic"},{code:"+670",name:"East Timor"},{code:"+56",name:"Easter Island"},{code:"+593",name:"Ecuador"},{code:"+20",name:"Egypt"},{code:"+503",name:"El Salvador"},{code:"+240",name:"Equatorial Guinea"},{code:"+291",name:"Eritrea"},{code:"+372",name:"Estonia"},{code:"+251",name:"Ethiopia"},{code:"+500",name:"Falkland Islands"},{code:"+298",name:"Faroe Islands"},{code:"+679",name:"Fiji"},{code:"+358",name:"Finland"},{code:"+33",name:"France"},{code:"+596",name:"French Antilles"},{code:"+594",name:"French Guiana"},{code:"+689",name:"French Polynesia"},{code:"+241",name:"Gabon"},{code:"+220",name:"Gambia"},{code:"+995",name:"Georgia"},{code:"+49",name:"Germany"},{code:"+233",name:"Ghana"},{code:"+350",name:"Gibraltar"},{code:"+30",name:"Greece"},{code:"+299",name:"Greenland"},{code:"+1 473",name:"Grenada"},{code:"+590",name:"Guadeloupe"},{code:"+1 671",name:"Guam"},{code:"+502",name:"Guatemala"},{code:"+224",name:"Guinea"},{code:"+245",name:"Guinea-Bissau"},{code:"+592",name:"Guyana"},{code:"+509",name:"Haiti"},{code:"+504",name:"Honduras"},{code:"+852",name:"Hong Kong SAR China"},{code:"+36",name:"Hungary"},{code:"+354",name:"Iceland"},{code:"+91",name:"India"},{code:"+62",name:"Indonesia"},{code:"+98",name:"Iran"},{code:"+964",name:"Iraq"},{code:"+353",name:"Ireland"},{code:"+972",name:"Israel"},{code:"+39",name:"Italy"},{code:"+225",name:"Ivory Coast"},{code:"+1 876",name:"Jamaica"},{code:"+81",name:"Japan"},{code:"+962",name:"Jordan"},{code:"+7",name:"Kazakhstan"},{code:"+254",name:"Kenya"},{code:"+686",name:"Kiribati"},{code:"+383",name:"Kosovo"},{code:"+965",name:"Kuwait"},{code:"+996",name:"Kyrgyzstan"},{code:"+856",name:"Laos"},{code:"+371",name:"Latvia"},{code:"+961",name:"Lebanon"},{code:"+266",name:"Lesotho"},{code:"+231",name:"Liberia"},{code:"+218",name:"Libya"},{code:"+423",name:"Liechtenstein"},{code:"+370",name:"Lithuania"},{code:"+352",name:"Luxembourg"},{code:"+853",name:"Macau SAR China"},{code:"+389",name:"Macedonia"},{code:"+261",name:"Madagascar"},{code:"+265",name:"Malawi"},{code:"+60",name:"Malaysia"},{code:"+960",name:"Maldives"},{code:"+223",name:"Mali"},{code:"+356",name:"Malta"},{code:"+692",name:"Marshall Islands"},{code:"+596",name:"Martinique"},{code:"+222",name:"Mauritania"},{code:"+230",name:"Mauritius"},{code:"+262",name:"Mayotte"},{code:"+52",name:"Mexico"},{code:"+691",name:"Micronesia"},{code:"+1 808",name:"Midway Island"},{code:"+373",name:"Moldova"},{code:"+377",name:"Monaco"},{code:"+976",name:"Mongolia"},{code:"+382",name:"Montenegro"},{code:"+1664",name:"Montserrat"},{code:"+212",name:"Morocco"},{code:"+95",name:"Myanmar"},{code:"+264",name:"Namibia"},{code:"+674",name:"Nauru"},{code:"+977",name:"Nepal"},{code:"+31",name:"Netherlands"},{code:"+599",name:"Netherlands Antilles"},{code:"+1 869",name:"Nevis"},{code:"+687",name:"New Caledonia"},{code:"+64",name:"New Zealand"},{code:"+505",name:"Nicaragua"},{code:"+227",name:"Niger"},{code:"+234",name:"Nigeria"},{code:"+683",name:"Niue"},{code:"+672",name:"Norfolk Island"},{code:"+850",name:"North Korea"},{code:"+1 670",name:"Northern Mariana Islands"},{code:"+47",name:"Norway"},{code:"+968",name:"Oman"},{code:"+92",name:"Pakistan"},{code:"+680",name:"Palau"},{code:"+970",name:"Palestinian Territory"},{code:"+507",name:"Panama"},{code:"+675",name:"Papua New Guinea"},{code:"+595",name:"Paraguay"},{code:"+51",name:"Peru"},{code:"+63",name:"Philippines"},{code:"+48",name:"Poland"},{code:"+351",name:"Portugal"},{code:"+1 787",name:"Puerto Rico"},{code:"+974",name:"Qatar"},{code:"+262",name:"Reunion"},{code:"+40",name:"Romania"},{code:"+7",name:"Russia"},{code:"+250",name:"Rwanda"},{code:"+685",name:"Samoa"},{code:"+378",name:"San Marino"},{code:"+966",name:"Saudi Arabia"},{code:"+221",name:"Senegal"},{code:"+381",name:"Serbia"},{code:"+248",name:"Seychelles"},{code:"+232",name:"Sierra Leone"},{code:"+65",name:"Singapore"},{code:"+421",name:"Slovakia"},{code:"+386",name:"Slovenia"},{code:"+677",name:"Solomon Islands"},{code:"+27",name:"South Africa"},{code:"+500",name:"South Georgia and the South Sandwich Islands"},{code:"+82",name:"South Korea"},{code:"+34",name:"Spain"},{code:"+94",name:"Sri Lanka"},{code:"+249",name:"Sudan"},{code:"+597",name:"Suriname"},{code:"+268",name:"Swaziland"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+963",name:"Syria"},{code:"+886",name:"Taiwan"},{code:"+992",name:"Tajikistan"},{code:"+255",name:"Tanzania"},{code:"+66",name:"Thailand"},{code:"+670",name:"Timor Leste"},{code:"+228",name:"Togo"},{code:"+690",name:"Tokelau"},{code:"+676",name:"Tonga"},{code:"+1 868",name:"Trinidad and Tobago"},{code:"+216",name:"Tunisia"},{code:"+90",name:"Turkey"},{code:"+993",name:"Turkmenistan"},{code:"+1 649",name:"Turks and Caicos Islands"},{code:"+688",name:"Tuvalu"},{code:"+1 340",name:"U.S. Virgin Islands"},{code:"+256",name:"Uganda"},{code:"+380",name:"Ukraine"},{code:"+971",name:"United Arab Emirates"},{code:"+44",name:"United Kingdom"},{code:"+1",name:"United States"},{code:"+598",name:"Uruguay"},{code:"+998",name:"Uzbekistan"},{code:"+678",name:"Vanuatu"},{code:"+58",name:"Venezuela"},{code:"+84",name:"Vietnam"},{code:"+1 808",name:"Wake Island"},{code:"+681",name:"Wallis and Futuna"},{code:"+967",name:"Yemen"},{code:"+260",name:"Zambia"},{code:"+255",name:"Zanzibar"},{code:"+263",name:"Zimbabwe"}]},6832:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(47),i=(r=a)&&r.__esModule?r:{default:r},l=n(0);var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return new t({id:e.id,name:e.name,interval:e.interval,intervalCount:e.interval_count,taxInclusive:e.tax_inclusive,skuId:e.sku_id,currency:e.currency,price:e.price})},t.prototype.initialize=function(e){this.id=e.id,this.name=e.name,this.interval=e.interval,this.intervalCount=e.intervalCount,this.taxInclusive=e.taxInclusive,this.skuId=e.skuId,this.currency=e.currency,this.price=e.price},o(t,[{key:"premiumSubscriptionType",get:function(){switch(this.skuId){case l.PremiumSubscriptionSKUs.LEGACY:case l.PremiumSubscriptionSKUs.TIER_2:return l.PremiumTypes.TIER_2;case l.PremiumSubscriptionSKUs.TIER_1:return l.PremiumTypes.TIER_1;default:return null}}}]),t}(i.default);t.default=u,e.exports=t.default},6833:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=I(n(17)),u=I(n(4)),s=I(n(1)),d=n(234),f=n(6339),c=(I(n(6340)),I(n(6604))),p=I(n(466)),h=I(n(450)),y=I(n(152)),m=I(n(6834)),v=I(n(313)),_=I(n(6835)),E=n(0),g=I(n(13)),S=I(n(5527)),T=I(n(5420));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=10,A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={pageIndex:0,lastIdFetched:null},r.handlePageChange=function(e){var t=r.props.payments,n=t[t.length-1].id;e===r.numPages-1&&r.state.lastIdFetched!==n?((0,d.fetchPayments)(N,n),r.setState({pageIndex:e,lastIdFetched:n})):r.setState({pageIndex:e})},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){s.default.wait(function(){(0,f.fetchActivityStatistics)(),(0,d.fetchPayments)(N+N)})},t.prototype.renderPage=function(){var e=this.props,t=e.compactMode,n=e.locale,r=e.payments,a=this.state.pageIndex,u=r.slice(a*N,(a+1)*N);return o(i.Fragment,{},void 0,u.map(function(e,r){return o(_.default,{className:(0,l.default)(S.default.paymentRow,S.default.bottomDivider),payment:e,locale:n,compactMode:t},r)}))},t.prototype.renderPremiumAppleSubscription=function(){return o(h.default,{className:S.default.appleRow},void 0,o("div",{className:S.default.appleRowHeader},void 0,g.default.Messages.BILLING_APPLE_HEADER),o("div",{className:S.default.appleRowBody},void 0,g.default.Messages.BILLING_APPLE_DESCRIPTION.format({appleBillingLink:E.AppleBillingUrls.BILLING_MANAGEMENT})))},t.prototype.render=function(){var e=this.props,t=e.compactMode,n=e.payments,r=e.subscription,a=this.state.pageIndex,i=null!=r&&r.isPurchasedViaApple;return 0!==n.length||i?o("div",{className:S.default.verticalFit},void 0,i?this.renderPremiumAppleSubscription():null,n.length>0?o("div",{className:(0,l.default)(S.default.paymentPane,S.default.verticalFit)},void 0,t?null:o("div",{className:(0,l.default)(S.default.paymentRow,S.default.bottomDivider)},void 0,o(y.default,{className:S.default.paymentRowHeader},void 0,o("div",{className:T.default.date},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),o("div",{className:T.default.description},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),o("div",{className:T.default.amount},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),o(m.default,{className:(0,l.default)(S.default.verticalFit,S.default.paginator),currentPageIndex:a,onChangePage:this.handlePageChange,numPages:this.numPages},void 0,o(v.default,{outerClassName:S.default.bottomDivider,theme:v.default.Themes.GHOST_HAIRLINE},void 0,this.renderPage()))):null):null},a(t,[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/N),1)}}]),t}(i.PureComponent);A.defaultProps={compactMode:!1},A.displayName="PaymentHistory",t.default=u.default.connectStores([c.default,p.default],function(){return{payments:c.default.getPayments(),subscription:p.default.getPremiumSubscription()}})(A),e.exports=t.default},6834:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(17))),i=s(n(306)),l=s(n(13)),u=s(n(5525));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n,r=e.currentPageIndex,s=e.numPages,d=e.onChangePage,f=e.children,c=e.className;return o("div",{className:(0,a.default)(u.default.paginator,c)},void 0,f,o("div",{className:u.default.pageActions},void 0,o(i.default,{name:i.default.Names.LEFT_CARET,onClick:function(){r>0&&d(r-1)},className:(0,a.default)(u.default.pageButtonPrev,(t={},t[u.default.disabled]=0===r,t))}),o("div",{className:u.default.pageIndicator},void 0,l.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:r+1,numPages:s})),o(i.default,{name:i.default.Names.RIGHT_CARET,onClick:function(){r<s-1&&d(r+1)},className:(0,a.default)(u.default.pageButtonNext,(n={},n[u.default.disabled]=r>=s-1,n))})))};d.displayName="Paginator",t.default=d,e.exports=t.default},6835:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=O(n(17)),u=O(n(159)),s=O(n(5)),d=O(n(4)),f=(O(n(6340)),n(842)),c=O(n(43)),p=O(n(332)),h=O(n(311)),y=O(n(152)),m=O(n(5988)),v=O(n(306)),_=O(n(6008)),E=O(n(442)),g=O(n(874)),S=n(5992),T=n(844),I=O(n(6530)),C=n(0),N=O(n(13)),A=O(n(5420));function O(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=14,R=5,P=2,L=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},w=(0,u.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),D=[C.PaymentStatusTypes.FAILED,C.PaymentStatusTypes.REVERSED],U=function(e){var t=e.description,n=e.cost;return a("li",{className:A.default.paymentDetail},void 0,a(y.default,{justify:y.default.Justify.BETWEEN},void 0,a("div",{},void 0,t),a("div",{},void 0,n)))};U.displayName="PaymentDetail";var k=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.state={expanded:!1},r.refundRules=[{rule:w.TIME_PLAYED,canRefund:function(){if(r.isSkuPreorder)return!0;var e=r.timePlayed;return null==e||e.asMilliseconds()<s.default.duration(P,"hours").asMilliseconds()}},{rule:w.PURCHASE_DATE,canRefund:function(){var e=r.props.payment;return!!r.isSkuPreorder||(e.isPremiumSubscription?r.daysSincePurchase<=R:r.daysSincePurchase<=M)}},{rule:w.SKU_TYPE,canRefund:function(){var e=r.props.payment;return null==e.sku||e.sku.type!==C.SKUTypes.CONSUMABLE}},{rule:w.ALREADY_REFUNDED,canRefund:function(){var e=r.props.payment;return e.amountRefunded<e.amount}},{rule:w.PAYMENT_STATUS,canRefund:function(){var e=r.props.payment;return!D.includes(e.status)}}],r.handleExpandInfo=function(){r.setState({expanded:!r.state.expanded})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},t.prototype.renderStatus=function(){switch(this.props.payment.status){case C.PaymentStatusTypes.PENDING:return a("span",{className:A.default.statusTagGrey},void 0,N.default.Messages.BILLING_TAG_PENDING);case C.PaymentStatusTypes.FAILED:return a("span",{className:A.default.statusTagRed},void 0,N.default.Messages.BILLING_TAG_FAILED);case C.PaymentStatusTypes.REFUNDED:return a("span",{className:A.default.statusTagGreen},void 0,N.default.Messages.BILLING_TAG_REFUNDED);case C.PaymentStatusTypes.REVERSED:return a("span",{className:A.default.statusTagRed},void 0,N.default.Messages.BILLING_TAG_REVERSED);default:return null}},t.prototype.renderPrice=function(){var e=this.props.payment;return a("span",{},void 0,(0,T.formatPrice)(e.amount,e.currency))},t.prototype.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,r=t.taxInclusive,o=t.tax,u=t.amount,s=t.currency;return a("div",{className:(0,l.default)(A.default.paymentText,A.default.paymentBreakdown)},void 0,null!=t.paymentSource?a(I.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:A.default.paymentText}):null,a("ul",{},void 0,!r&&o>0?a(i.Fragment,{},void 0,a(U,{description:t.description,cost:(0,T.formatPrice)(u-o,s)}),a(U,{description:N.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,T.formatPrice)(o,s)})):null,a(U,{description:N.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,T.formatPrice)(u,s)})))},t.prototype.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,r=this.validateRefundRules();if(r.includes(w.PAYMENT_STATUS)||r.includes(w.ALREADY_REFUNDED))return null;var o=0===r.length,l=L(t),u=void 0;return u=r.includes(w.SKU_TYPE)?N.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):o?n.isPreorder&&this.isSkuPreorder?N.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:l}):n.isPremiumSubscription?N.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:R,supportURL:l}):n.isGift?N.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:M,supportURL:l}):N.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:M,playtimeLimit:P,supportURL:l}):n.isGift?N.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:M}):n.isPremiumSubscription?N.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:R,supportURL:l}):N.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:M,playtimeLimit:P}),a(i.Fragment,{},void 0,a("h2",{className:A.default.paymentHeader},void 0,N.default.Messages.BILLING_REFUND_HEADER),a("div",{className:A.default.paymentText},void 0,a("div",{},void 0,u),this.renderRefundActions(r)))},t.prototype.renderRefundActions=function(e){var t=this.props,n=t.locale,r=t.payment;return this.isSkuPreorder||e.includes(w.SKU_TYPE)?null:a(y.default,{justify:y.default.Justify.BETWEEN,align:y.default.Align.END},void 0,a(y.default,{},void 0,a("div",{className:A.default.refundCriteria},void 0,a("h3",{className:A.default.refundSubHeader},void 0,r.isPreorder?N.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:N.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),a(y.default,{align:y.default.Align.CENTER},void 0,a(v.default,{name:e.includes(w.PURCHASE_DATE)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:A.default.refundCriteriaIcon}),a("div",{},void 0,N.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),r.isPremiumSubscription||r.isGift?null:a("div",{className:A.default.refundCriteria},void 0,a("h3",{className:A.default.refundSubHeader},void 0,N.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),a(y.default,{},void 0,a(v.default,{name:e.includes(w.TIME_PLAYED)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:A.default.refundCriteriaIcon}),a("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():N.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),a(h.default,{href:L(n)},void 0,N.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},t.prototype.renderDescription=function(){var e=this.props,t=e.compactMode,n=e.payment,r=e.application,o=void 0,l=void 0,u=n.sku;null!=u?(l=n.isPreorder?N.default.Messages.PREORDER_SKU_NAME.format({name:u.name}):u.name,o=a(m.default,{className:A.default.descriptionIcon,game:r,size:m.default.Sizes.XSMALL,skuId:u.id})):(o=a(v.default,{className:A.default.descriptionIcon,name:v.default.Names.NITRO_WHEEL}),l=n.description);var d=a(y.default.Child,{className:A.default.date},void 0,(0,S.dateFormat)((0,s.default)(n.createdAt),"MM/DD/YYYY")),f=n.isGift?a(E.default,{text:N.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,a(v.default,{className:A.default.giftIcon,name:v.default.Names.GIFT})):null;return t?a("div",{className:A.default.description},void 0,o,a("div",{},void 0,l,d),f):a(i.Fragment,{},void 0,d,a("div",{className:A.default.description},void 0,o,l,f))},t.prototype.renderExpandedSection=function(){return a("div",{className:A.default.expandedInfo},void 0,a("h2",{className:A.default.paymentHeader},void 0,N.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},t.prototype.render=function(){var e,t=this.state.expanded,n=this.props,r=n.className,o=n.compactMode;return a("div",{className:(0,l.default)(t?A.default.payment:A.default.hoverablePayment,r,(e={},e[A.default.compact]=o,e))},void 0,a(y.default,{onClick:this.handleExpandInfo,className:A.default.summaryInfo,align:y.default.Align.CENTER},void 0,this.renderDescription(),a("div",{className:A.default.amount},void 0,this.renderStatus(),this.renderPrice()),a(v.default,{name:v.default.Names.CARET,className:A.default.expand,direction:t?g.default.Directions.UP:g.default.Directions.DOWN})),t?this.renderExpandedSection():null)},o(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?s.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,s.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof f.PaypalSourceRecord?_.default.Types.PAYPAL:e instanceof f.CreditCardSourceRecord?_.default.getType(e.brand):_.default.Types.UNKNOWN}}]),t}(i.PureComponent);k.defaultProps={compactMode:!1},k.displayName="PaymentHistoryRow",t.default=d.default.connectStores([p.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===C.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?p.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?c.default.getGame(n):null}})(k),e.exports=t.default},6836:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},6837:function(e,t,n){"use strict";t.__esModule=!0,t.RecordModes=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(17)),u=y(n(6205)),s=n(240),d=n(128),f=y(d),c=y(n(152)),p=y(n(13)),h=y(n(5531));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=t.RecordModes={DEFAULT:"DEFAULT",RECORDING:"RECORDING"},_=((o={})[v.DEFAULT]=h.default.default,o[v.RECORDING]=h.default.recording,o);function E(e){e.preventDefault()}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.setInputRef=function(e){r._input=e},r.handleBlur=function(){r.props.mode===v.RECORDING&&(0,r.props.onClick)()},r.handleFocus=function(){r.props.mode===v.DEFAULT&&(0,r.props.onClick)()},r.handleClick=function(e){e.preventDefault(),(0,r.props.onClick)()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.onChange;e&&this._input&&(new u.default(this._input).handleKey=e)},t.prototype.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===v.DEFAULT&&n===r&&n.blur(),t===v.RECORDING&&n!==r&&n.focus()}}},t.prototype.render=function(){var e,t=this.props,n=t.mode,r=t.value,o=t.disabled,u=(0,s.toString)(r,!0),y=void 0;y=n===v.RECORDING?p.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===r.length?p.default.Messages.SHORTCUT_RECORDER_BUTTON:p.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var m=n===v.DEFAULT&&r.length>0;return a("div",{className:(0,l.default)(h.default.container,_[n],(e={},e[h.default.hasValue]=m,e[h.default.disabled]=o,e))},void 0,a(c.default,{className:h.default.layout},void 0,a(c.default.Child,{className:h.default.input},void 0,i.createElement("input",{placeholder:p.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:u,onKeyDown:E,onFocus:this.handleFocus,onBlur:this.handleBlur,disabled:o})),a(c.default,{shrink:1,grow:0,style:{margin:0}},void 0,a(f.default,{className:h.default.button,disabled:o,onMouseDown:E,onMouseUp:this.handleClick,size:f.default.Sizes.MIN,color:d.ButtonColors.GREY,look:d.ButtonLooks.GHOST},void 0,a("span",{className:h.default.text},void 0,y),a("span",{className:h.default.editIcon})))))},t}(i.PureComponent);g.displayName="KeyRecorder",t.default=g},6838:function(e,t,n){var r={"./bg.png":6839,"./cs.png":6840,"./da.png":6841,"./de.png":6842,"./el.png":6843,"./en-GB.png":6844,"./en-US.png":6845,"./es-ES.png":6846,"./fi.png":6847,"./fr.png":6848,"./hr.png":6849,"./hu.png":6850,"./it.png":6851,"./ja.png":6852,"./ko.png":6853,"./lt.png":6854,"./nl.png":6855,"./no.png":6856,"./pl.png":6857,"./pt-BR.png":6858,"./ro.png":6859,"./ru.png":6860,"./sv-SE.png":6861,"./th.png":6862,"./tr.png":6863,"./uk.png":6864,"./vi.png":6865,"./zh-CN.png":6866,"./zh-TW.png":6867};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=6838},6868:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(306)),u=n(445),s=h(u),d=n(0),f=h(n(13)),c=h(n(5351)),p=h(n(5532));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=0,v=function(){return"notification-position-selector-"+m++},_=function(e){switch(e){case d.OverlayNotificationPositions.TOP_LEFT:return f.default.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case d.OverlayNotificationPositions.TOP_RIGHT:return f.default.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case d.OverlayNotificationPositions.BOTTOM_LEFT:return f.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case d.OverlayNotificationPositions.BOTTOM_RIGHT:return f.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return f.default.Messages.OVERLAY_NOTIFICATIONS_DISABLED}},E=[d.OverlayNotificationPositions.DISABLED,d.OverlayNotificationPositions.TOP_LEFT,d.OverlayNotificationPositions.TOP_RIGHT,d.OverlayNotificationPositions.BOTTOM_LEFT,d.OverlayNotificationPositions.BOTTOM_RIGHT],g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=y(this,e.call.apply(e,[this].concat(i))),r.settingsWrapper=a.createRef(),r.state={name:v(),hasFocus:!1},r.handleFocusIn=function(){r.settingsWrapper.current&&r.setState({hasFocus:!0})},r.handleFocusOut=function(){r.settingsWrapper.current&&r.setState({hasFocus:!1})},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.settingsWrapper.current;null!=e&&(e.addEventListener("focusin",this.handleFocusIn,!0),e.addEventListener("focusout",this.handleFocusOut,!0))},t.prototype.componentWillUnmount=function(){var e=this.settingsWrapper.current;null!=e&&(e.removeEventListener("focusin",this.handleFocusIn,!0),e.removeEventListener("focusout",this.handleFocusOut,!0))},t.prototype.render=function(){var e,t=this.props,n=t.position,r=t.onChange,h=this.state,y=h.name,m=h.hasFocus,v=n===d.OverlayNotificationPositions.DISABLED?f.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:f.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:_(n)});return o("div",{},void 0,a.createElement("div",{className:(0,i.default)(p.default.wrapper,(e={},e[p.default.disabledSelected]=n===d.OverlayNotificationPositions.DISABLED,e[p.default.hasFocus]=m,e)),ref:this.settingsWrapper},E.map(function(e){var t;return o("label",{className:(0,i.default)((t={},t[p.default.selected]=e===n,t[p.default.disabled]=e===d.OverlayNotificationPositions.DISABLED,t[p.default.topRight]=e===d.OverlayNotificationPositions.TOP_RIGHT,t[p.default.topLeft]=e===d.OverlayNotificationPositions.TOP_LEFT,t[p.default.bottomRight]=e===d.OverlayNotificationPositions.BOTTOM_RIGHT,t[p.default.bottomLeft]=e===d.OverlayNotificationPositions.BOTTOM_LEFT,t))},e,_(e),e===d.OverlayNotificationPositions.DISABLED?o(l.default,{name:l.default.Names.NOT_ALLOWED,className:p.default.disabledIcon}):null,o("input",{type:"radio",name:y,value:e,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return r(t,e)}),className:p.default.hiddenInput}))})),o(s.default,{type:u.Types.DESCRIPTION,className:c.default.marginTop8},void 0,v))},t}(a.Component);g.Positions=d.OverlayNotificationPositions,g.displayName="NotificationSettings",t.default=g,e.exports=t.default},6869:function(e,t,n){e.exports=n.p+"c7c47afdf35d5a3e06233319d3aa7674.svg"},6870:function(e,t,n){e.exports=n.p+"c8845c514bbf3f1e5bea064c1e40b08d.svg"},6871:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(83)),o=i(n(8)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCanceled=!1,this.searchId=t,this.searchType=n,this.query=r}return e.prototype.fetch=function(e,t,n){var i=this;if(!this.isCanceled){var l=this.searchType===a.SearchTypes.GUILD?a.Endpoints.SEARCH_GUILD:a.Endpoints.SEARCH_CHANNEL;this.searchId&&o.default.get({url:l(this.searchId),query:r.default.stringify(this.query)}).then(function(r){i.isCanceled||(200===r.status?e(r):202===r.status&&(i.query.attempts=(i.query.attempts||0)+1,i.retryDelay=r.body.retry_after||5e3,i.retryLater(e,t,n),t(r)))}).catch(function(e){console.error(e),n(e)})}},e.prototype.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},e.prototype.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=l,e.exports=t.default},6872:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=f,t.shouldHighlight=c,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};var r=a(n(6)),o=a(n(7205));function a(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function l(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function u(e){return e.toLowerCase()}function s(e){return i.has(e)}function d(e){return 0===e.length}function f(e){return(0,r.default)(e.split(/\W+/)).map(l).reject(d).map(u).reject(s).map(o.default).value()}function c(e,t){return!d(e=u(l(e)))&&!s(e)&&t.has((0,o.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach(function(e){c(e,t)?(r.length>0&&n.push({type:"text",content:r}),n.push({type:"highlight",content:e}),r=""):r+=e}),n.length>0&&(r.length>0&&n.push({type:"text",content:r}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},6873:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(47)),o=a(n(330));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.create=function(e,n){var r=e.hit,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["hit"]),i=o.default.create(a,function(e){return r?n(e):e});return new t({hit:r,message:i})},t.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},t}(r.default);t.default=i,e.exports=t.default},6874:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(4)),l=d(n(72)),u=d(n(13)),s=d(n(5496));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.nicknames;return 0===e.length?o("div",{className:s.default.noTopic}):o("div",{className:s.default.topic},void 0,o("span",{className:s.default.aka},void 0,u.default.Messages.AKA),e)},t}(a.PureComponent);f.displayName="AKA",t.default=i.default.connectStores([l.default],function(e){var t=e.channel.getRecipientId();return{nicknames:null!=t?l.default.getNicknames(t).join(", "):""}})(f),e.exports=t.default},6875:function(e,t,n){"use strict";t.__esModule=!0;var r=v(n(6)),o=v(n(4)),a=v(n(23)),i=v(n(1)),l=m(n(476)),u=v(n(182)),s=m(n(321)),d=v(n(43)),f=v(n(64)),c=v(n(15)),p=v(n(862)),h=v(n(179)),y=n(0);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var _="DetectedOffPlatformPremiumPerksStore",E={},g={},S=[];function T(){var e=!1,t=r.default.values(g),n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(o>=t.length)break;a=t[o++]}else{if((o=t.next()).done)break;a=o.value}var i=a,l=i.skuId,f=i.applicationId;if(!S.includes(l)){var y=d.default.getGame(f);if(null!=y){var m=h.default.get(l);null!=m?p.default.applicationIdsFetching.has(y.id)||p.default.isEntitledToSku(c.default.getCurrentUser(),l,y.id,y.id)||!m.available?null!=E[l]&&(delete E[l],e=!0):(E[l]={skuId:l,applicationId:f},e=!0):h.default.isFetching(l)||h.default.didFetchingSkuFail(l)||s.fetchSKU(y.id,l)}else d.default.isFetching(f)||d.default.didFetchingFail(f)||u.default.fetchApplication(f)}}return e}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(f.default,h.default,p.default),S=a.default.get(_)||S},t.prototype.getDetectedOffPlatformPremiumPerks=function(){return r.default.values(E)},t}(o.default.Store);t.default=new I(i.default,{LOGOUT:function(e){return E={},void(g={})},SKU_FETCH_SUCCESS:function(e){return T()},ENTITLEMENT_FETCH_APPLICATION_SUCCESS:function(e){return T()},ENTITLEMENT_CREATE:function(e){return T()},APPLICATION_FETCH_SUCCESS:function(e){return T()},DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS:function(e){var t=e.skuId;if(delete E[t],S.includes(t))return!1;S.push(t),a.default.set(_,S)},RUNNING_GAMES_CHANGE:function(e){return function(){var e=!1,t=f.default.getRunningGames(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o,i=a.id,u=a.distributor;if(null!=i&&u!==y.Distributors.DISCORD){var s=y.OFF_PLATFORM_PREMIUM_PERKS,d=Array.isArray(s),c=0;for(s=d?s:s[Symbol.iterator]();;){var h;if(d){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var m=h,v=m.skuId,_=m.applicationId;_===i&&(S.includes(v)||null==g[v]&&(p.default.applicationIdsFetched.has(_)||p.default.applicationIdsFetching.has(_)||null!=p.default.getForSku(v)||l.fetchUserEntitlementsForApplication(_),g[v]={skuId:v,applicationId:_},e=!0))}}}return e&&T(),e}()}}),e.exports=t.default},6876:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(1)),a=u(n(115)),i=u(n(12)),l=u(n(91));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=10,d=15552e6,f=!1;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,i.default)},t.prototype.isEligible=function(){return f},t}(r.default.Store);t.default=new c(o.default,{CONNECTION_OPEN:function(e){return f!==(f=l.default.getFriendIDs().length>=s&&a.default.extractTimestamp(i.default.getId())<Date.now()-d)}}),e.exports=t.default},6877:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(4)),o=d(n(23)),a=d(n(1)),i=d(n(136)),l=d(n(58)),u=d(n(15)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f="surveys",c={},p=[{id:s.Experiments.SURVEY_NITRO,url:function(){var e=u.default.getCurrentUser();return"https://www.surveymonkey.com/r/8MZCZGJ?user_id="+(null!=e?e.id:"")},noticeContent:"Help improve Nitro! Take a short survey and let us know your thoughts.",noticeButton:"Take Survey",title:"Nitro Survey",description:"Ask users their thoughts on nitro n stuff",validateDescriptor:function(){var e=u.default.getNullableCurrentUser();return null!=e&&e.premiumType===s.PremiumTypes.TIER_2}}];function h(){Object.keys(c).length>0?o.default.set(f,c):o.default.remove(f)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([l.default],function(){return!0});var e=o.default.get(f)||{},t=new Set(p.map(function(e){return e.id}));p.forEach(function(n){var r=n.id;e[r]&&t.has(r)&&(c[r]=!0)}),h(),a.default.wait(function(){return i.default.registerSurveys(p)})},t.prototype.getCurrentSurvey=function(){return p.find(function(e){var t=e.id,n=e.validateDescriptor;if(c[t])return!1;var r=l.default.getEligibleExperiment(t);return null!=r&&(null==n||n(r,e))})},t}(r.default.Store);t.default=new y(a.default,{SURVEY_HIDE:function(e){var t=e.id;c[t]=!0,h()},LOGOUT:function(e){return c={},void o.default.remove(f)}}),e.exports=t.default},6878:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=f(n(308)),a=f(n(4)),i=f(n(848)),l=f(n(91)),u=f(n(6537)),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.default)({displayName:"DMVerification",mixins:[a.default.StoreListenerMixin(l.default)],getStateFromStores:function(){return this.getState(this.props.channel)},UNSAFE_componentWillReceiveProps:function(e){this.setState(this.getState(e.channel))},getState:function(e){return{isBlocked:e.type!==s.ChannelTypes.GROUP_DM&&l.default.isBlocked(e.getRecipientId())}},handleUnblock:function(){i.default.removeRelationship(this.props.channel.getRecipientId())},render:function(){var e={};return this.state.isBlocked&&(e.message=d.default.Messages.DM_VERIFICATION_TEXT_BLOCKED,e.buttonText=d.default.Messages.UNBLOCK,e.onButtonClick=this.handleUnblock),r.createElement(u.default,e,this.props.children)}});t.default=c,e.exports=t.default},6879:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=O(n(2)),l=A(n(308)),u=A(n(4)),s=A(n(849)),d=O(n(475)),f=A(n(832)),c=A(n(80)),p=A(n(12)),h=A(n(232)),y=A(n(6345)),m=A(n(35)),v=A(n(15)),_=A(n(129)),E=A(n(45)),g=A(n(6537)),S=A(n(447)),T=A(n(6387)),I=n(0),C=A(n(13)),N=A(n(5433));function A(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var b=(0,l.default)({displayName:"GuildVerification",mixins:[u.default.StoreListenerMixin(y.default,h.default,p.default)],getStateFromStores:function(){var e=this.props.channel.getGuildId(),t=y.default.getCheck(e);return a({},t,{isLurking:h.default.isLurking(e),isGuest:p.default.isGuest(),theme:m.default.theme})},UNSAFE_componentWillReceiveProps:function(e){var t=e.channel.getGuildId(),n=y.default.getCheck(t);this.setState(a({},n,{isLurking:h.default.isLurking(t)}))},handleClaimAccount:function(){d.open()},handleVerifyPhone:function(){c.default.push(function(e){return i.createElement(T.default,e)})},handleResendVerification:function(){s.default.verifyResend(),c.default.push(function(e){return i.createElement(S.default,a({header:C.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:C.default.Messages.OKAY,red:!1},e),o(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,C.default.Messages.VERIFICATION_EMAIL_BODY.format({email:v.default.getCurrentUser().email})))})},handleJoinServer:function(){this.setState({submitting:!0}),f.default.joinGuild(this.props.channel.getGuildId(),!1,"Chat Input Blocker - Lurker Mode")},handleViewServerDiscovery:function(){this.setState({submitting:!0}),E.default.transitionTo(I.Routes.GUILD_DISCOVERY)},render:function(){var e={};return this.state.isGuest?o("div",{style:{height:N.default.barHeight}}):(this.state.isLurking?(e.message=C.default.Messages.LURKER_MODE_CHAT_INPUT_MESSAGE,e.buttonText=C.default.Messages.LURKER_MODE_CHAT_INPUT_BUTTON,e.buttonSubmitting=this.state.submitting,e.onButtonClick=this.handleJoinServer,e.secondaryButtonText=C.default.Messages.LURKER_MODE_CHAT_INPUT_BACK_BUTTON,e.onSecondaryButtonClick=this.handleViewServerDiscovery,e.imageSrc=n(6880)):this.state.notClaimed?this.props.allowUnclaimed||(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED,e.buttonText=C.default.Messages.CLAIM_ACCOUNT,e.onButtonClick=this.handleClaimAccount,e.imageSrc=n(6538)):this.state.notPhoneVerified?(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED,e.buttonText=C.default.Messages.VERIFY_PHONE,e.onButtonClick=this.handleVerifyPhone,e.imageSrc=n(6881)):this.state.notEmailVerified?(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED,e.buttonText=C.default.Messages.RESEND_VERIFICATION_EMAIL,e.onButtonClick=this.handleResendVerification,e.imageSrc=n(6538)):this.state.newMember?(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:I.VerificationCriteria.MEMBER_AGE}),e.countdown=this.state.memberDeadline):this.state.newAccount&&(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:I.VerificationCriteria.ACCOUNT_AGE}),e.countdown=this.state.accountDeadline),i.createElement(g.default,a({theme:this.state.theme},e),this.props.children))}});t.default=b,e.exports=t.default},6880:function(e,t,n){e.exports=n.p+"9e8f566e6d49e8f4bba138e1d6a50578.svg"},6881:function(e,t,n){e.exports=n.p+"7f2d0c8f7a9d0da6660691769d3f3f44.svg"},6882:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var i=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function l(e){i=e.type}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return i},t}(r.default.Store);t.default=new u(o.default,{CHECKING_FOR_UPDATES:l,UPDATE_NOT_AVAILABLE:l,UPDATE_AVAILABLE:l,UPDATE_MANUALLY:l,UPDATE_ERROR:l,UPDATE_DOWNLOADED:l}),e.exports=t.default},6883:function(e,t,n){"use strict";t.__esModule=!0,t.checkForUpdates=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.checkForUpdates(e)},t.quitAndInstall=function(){a.quitAndInstall()};var r,o=n(6884);var a=new((r=o)&&r.__esModule?r:{default:r}).default},6884:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(8)),o=l(n(1)),a=l(n(9)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=36e5,s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateAvailable=!1,this.hasNativeUpdate=!1,this._callbacks=[],this.checkForUpdates=function(){return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&t.updateAvailable||(a.default.embedded?a.default.send("CHECK_FOR_UPDATES"):t._handleNativeUpdateNotAvailable()),new Promise(function(e){t.updateAvailable?e(!0):t._callbacks.push(e)})},this._handleCheckingForUpdates=function(){o.default.dispatch({type:i.ActionTypes.CHECKING_FOR_UPDATES})},this._handleNativeUpdateNotAvailable=function(){t._handleCheckingForUpdates(),r.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(e){null!=e.body&&"4db50c0fb4c849bda212a33bbfedf9a9acbdab56"!==e.body.hash&&e.body.required?t._handleUpdateDownloaded(!1):t._handleUpdateNotAvailable()},function(){return t._handleUpdateError()})},this._handleUpdateNotAvailable=function(){o.default.dispatch({type:i.ActionTypes.UPDATE_NOT_AVAILABLE}),t._emitCallbacks()},this._handleUpdateAvailable=function(e){t.updateAvailable=!0,t.hasNativeUpdate=e,o.default.dispatch({type:i.ActionTypes.UPDATE_AVAILABLE})},this._handleUpdateManually=function(){t.updateAvailable=!0,t.hasNativeUpdate=!0,o.default.dispatch({type:i.ActionTypes.UPDATE_MANUALLY})},this._handleUpdateError=function(e){t.updateAvailable=!1,o.default.dispatch({type:i.ActionTypes.UPDATE_ERROR,message:e})},this._handleUpdateDownloaded=function(e,n,r,a,l){t._handleUpdateAvailable(e),o.default.dispatch({type:i.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:n,releaseName:r,releaseDate:a,updateURL:l}),t._emitCallbacks()},a.default.embedded&&(a.default.on(i.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates),a.default.on(i.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable),a.default.on(i.ActionTypes.UPDATE_AVAILABLE,function(){return t._handleUpdateAvailable(!0)}),a.default.on(i.ActionTypes.UPDATE_ERROR,this._handleUpdateError),a.default.on(i.ActionTypes.UPDATE_DOWNLOADED,function(){return t._handleUpdateDownloaded(!0)}),a.default.on(i.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually)),this._checkInterval=setInterval(this.checkForUpdates,n)}return e.prototype.destroy=function(){clearInterval(this._checkInterval)},e.prototype.quitAndInstall=function(){this.updateAvailable&&(this.hasNativeUpdate?a.default.send("QUIT_AND_INSTALL"):location.reload(!0))},e.prototype._emitCallbacks=function(){var e=this;this._callbacks.forEach(function(t){return t(e.updateAvailable)}),this._callbacks=[]},e}();t.default=s,e.exports=t.default},6885:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(17)),u=A(n(308)),s=A(n(309)),d=A(n(443)),f=A(n(4)),c=A(n(6886)),p=A(n(131)),h=A(n(6887)),y=A(n(35)),m=A(n(827)),v=n(6043),_=A(v),E=A(n(6618)),g=A(n(5981)),S=A(n(5982)),T=n(0),I=A(n(13)),C=A(n(5541)),N=A(n(843));function A(e){return e&&e.__esModule?e:{default:e}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.guildFilter,r=t.roleFilter,o=t.everyoneFilter,a=t.messageId,i=void 0===a?null:a;n=void 0===n?h.default.guildFilter:n,r=void 0===r?h.default.roleFilter:r,o=void 0===o?h.default.everyoneFilter:o;var l=null;e&&(l=n===T.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),c.default.fetchRecentMentions(i,T.MAX_MENTIONS_PER_FETCH,l,r,o)}var b=(0,u.default)({displayName:"FilterPopout",propTypes:{channel:s.default.instanceOf(p.default)},mixins:[f.default.StoreListenerMixin(h.default),d.default],getStateFromStores:function(){return{everyoneFilter:h.default.everyoneFilter,roleFilter:h.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;c.default.setGuildFilter({roleFilter:e}),O(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;c.default.setGuildFilter({everyoneFilter:e}),O(this.props.channel,{everyoneFilter:e})},render:function(){return i.createElement("div",this.props,a("div",{className:(0,l.default)(N.default.contextMenu,"theme-"+y.default.theme,C.default.recentMentionsFilterPopout)},void 0,a(g.default,{},void 0,a(S.default,{label:I.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),a(S.default,{label:I.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),M=(0,u.default)({displayName:"RecentMentions",mixins:[f.default.StoreListenerMixin(h.default,y.default),d.default],setGuildFilter:function(e){c.default.setGuildFilter({guildFilter:e}),O(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{theme:y.default.theme,messages:h.default.getMentions(),hasMore:h.default.hasMore,loading:h.default.loading,guildFilter:h.default.guildFilter,roleFilter:h.default.roleFilter,everyoneFilter:h.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;O(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=I.default.Messages.NO_RECENT_MENTIONS,r=e===T.ThemeTypes.LIGHT?n(6888):n(6889);return a(E.default.EmptyStateBottom,{msg:t,image:r})},getProTip:function(){return I.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return i.createElement(b,o({},e,{channel:this.props.channel}))},fetchOnMount:function(e){h.default.hasLoadedEver||O(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>T.MAX_MENTIONS_PER_FETCH&&c.default.truncateMentions(T.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){c.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,r=e.hasMore;return a(E.default,{className:C.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:r,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===T.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=this.state.theme,t=I.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(t=I.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):t=I.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:t=I.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var n=null,r=this.state.guildFilter,o=e===T.ThemeTypes.LIGHT?T.Colors.PRIMARY_DARK:T.Colors.WHITE;return this.props.channel&&!this.props.channel.isPrivate()?n=a(v.Item,{id:T.RecentMentionsFilters.THIS_SERVER,className:C.default.tabBarItem,color:o},void 0,I.default.Messages.THIS_SERVER):r=T.RecentMentionsFilters.ALL_SERVERS,a(E.default.Header,{title:I.default.Messages.RECENT_MENTIONS,className:C.default.header},void 0,a("div",{className:C.default.headerTabBarWrapper},void 0,a(_.default,{selectedItem:r,onItemSelect:this.setGuildFilter,type:v.Types.TOP,className:C.default.tabBar},void 0,a(v.Item,{id:T.RecentMentionsFilters.ALL_SERVERS,className:C.default.tabBarItem,color:o},void 0,I.default.Messages.ALL_SERVERS),n),a(m.default,{render:this.renderDisplayPopout,position:m.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,a("div",{className:C.default.mentionFilter},void 0,a("div",{className:C.default.label},void 0,I.default.Messages.RECENT_MENTIONS_FILTER_LABEL),a("div",{className:C.default.value},void 0,t)))))}});t.default=M,e.exports=t.default},6886:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,r=e.everyoneFilter;o.default.dispatch({type:a.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:r})},truncateMentions:function(e){o.default.dirtyDispatch({type:a.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.MAX_MENTIONS_PER_FETCH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];o.default.dirtyDispatch({type:a.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),r.default.get({url:a.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:i,everyone:l},retries:2}).then(function(t){var n=t.body;o.default.dispatch({type:a.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=a.MAX_MENTIONS_PER_FETCH})},function(){o.default.dispatch({type:a.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){r.default.delete({url:a.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),o.default.dispatch({type:a.ActionTypes.RECENT_MENTION_DELETE,id:e})}},e.exports=t.default},6887:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=_(n(6)),i=_(n(4)),l=_(n(23)),u=_(n(1)),s=_(n(330)),d=_(n(12)),f=_(n(22)),c=_(n(228)),p=_(n(91)),h=_(n(155)),y=_(n(35)),m=_(n(15)),v=n(0);function _(e){return e&&e.__esModule?e:{default:e}}var E="recentMentionFilterSettings",g=[],S={},T=!1,I=!0,C=l.default.get(E,{guildFilter:v.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),N=!1,A=!1;function O(e){if(e instanceof s.default)return e;var t=c.default.getMessage(e.channel_id,e.id);return null!=t?t:s.default.create(e)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.type!==v.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=f.default.getChannel(t);if(!n||n&&n.type===v.ChannelTypes.DM)return null;if(C.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==h.default.getGuildId())return null;var r=e.author.id,o=d.default.getId();return p.default.isBlocked(r)||r===o?null:(e=O(e)).isMentioned(o,!C.everyoneFilter,!C.roleFilter)?e:null}function M(e){null!=S[e]&&(delete S[e],g=a.default.filter(g,function(t){return t.id!==e}))}function R(e){M(e.id)}function P(e){var t=o({},C);C=a.default.defaults(a.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),C),l.default.set(E,C);var n=function(e,n){return t[e]!==C[e]&&C[e]===n},r=n("guildFilter",v.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);S={};var i=[];r&&g.forEach(function(e){var t=b(e);t&&(i.push(t),S[t.id]=!0)}),0===(g=i).length&&(N=!1)}function L(){a.default.forEach(g,function(e){e.timestamp.locale(y.default.locale)})}function w(){g=g.filter(function(e){return!p.default.isBlocked(e.author.id)})}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(m.default,f.default,c.default)},t.prototype.isOpen=function(){return A},t.prototype.getMentions=function(){return N||g.length?g:null},r(t,[{key:"hasLoadedEver",get:function(){return N}},{key:"loading",get:function(){return T}},{key:"hasMore",get:function(){return I}},{key:"guildFilter",get:function(){return C.guildFilter}},{key:"everyoneFilter",get:function(){return C.everyoneFilter}},{key:"roleFilter",get:function(){return C.roleFilter}}]),t}(i.default.Store);t.default=new D(u.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;T=!0,null==t&&C.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&P({guildFilter:v.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,r=e.isAfter,o=a.default.map(n,O);r?g=g.concat(o):(g=o,S={}),a.default.forEach(o,function(e){S[e.id]=!0}),T=!1,I=t,N=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){T=!1},SET_RECENT_MENTIONS_FILTER:P,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<g.length;++n)delete S[g[n].id];g=g.slice(0,t),I=!0},GUILD_SELECT:function(e){C.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&(N=!1)},CONNECTION_OPEN:function(e){return g=[],S={},void(N=!1)},GUILD_DELETE:function(e){var t=e.guild;g=a.default.filter(g,function(e){var n=f.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete S[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=b(e.message,t);if(!n)return!1;(g=g.slice()).unshift(n),S[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=S[t]){var n=a.default.findIndex(g,function(e){return e.id===t}),r=(g=g.slice())[n];g[n]=r.updateMessage(e.message)}},MESSAGE_DELETE:R,RECENT_MENTION_DELETE:R,MESSAGE_DELETE_BULK:function(e){var t=e.ids;a.default.forEach(t,M)},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()},CHANNEL_DELETE:function(e){var t=e.channel;g=a.default.filter(g,function(e){return e.channel_id!==t.id||(delete S[e.id],!1)})},RELATIONSHIP_ADD:function(e){return w()},RELATIONSHIP_REMOVE:function(e){return w()},MENTION_MODAL_OPEN:function(e){A=!0},MENTION_MODAL_CLOSE:function(e){A=!1}}),e.exports=t.default},6888:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},6889:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},6890:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=D(n(2)),i=w(n(17)),l=n(6622),u=w(n(6399)),s=w(n(4)),d=w(n(830)),f=D(n(6400)),c=w(n(6177)),p=w(n(6126)),h=w(n(6396)),y=w(n(22)),m=w(n(111)),v=w(n(847)),_=w(n(6078)),E=w(n(51)),g=w(n(6616)),S=w(n(221)),T=w(n(827)),I=w(n(181)),C=n(109),N=D(n(6910)),A=D(n(6544)),O=D(n(6125)),b=w(n(6912)),M=n(6040),R=n(0),P=w(n(13)),L=w(n(5547));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n(5548);var U=512,k=(0,u.default)(f.search,500),G=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={focused:!1},r.handleSetSearchQuery=function(e){var t=e.query,n=e.anchor,o=e.focus,a=e.performSearch,i=e.replace,l=r.props.editorState,u=A.getFirstTextBlock(l);" "!==t.charAt(t.length-1)&&(t+=" "),n&&" "!==u.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t),i?(l=A.replaceAllContent(t,l),n=0):l=A.updateContent(t,l,n,o),l=A.truncateContent(l,U),l=r.tokenize(l);var s=n+t.length;l=A.setCollapsedSelection(s,l),r.setEditorState(l),a&&r.search(A.getFirstTextBlock(l))},r.renderPopout=function(){return a.createElement(b.default,{ref:r.setSearchPopoutRef})},r.search=function(e){var t=r.props,n=t.searchId,o=t.isSearching;if(!e){var a=r.props.editorState;e=A.getFirstTextBlock(a)}if(n&&!o){for(var i=O.tokenizeQuery(e),l=O.getSearchQueryFromTokens(i),u=0;u<i.length;u++)O.filterHasAnswer(i[u],i[u+1])||(e=e.substring(0,i[u].start)+e.substring(i[u].end));if(!i.length||0===Object.keys(l).length)return!1;k(n,l,e),r.onBlur()}return!0},r.handleClearSearch=function(e){e.preventDefault(),e.stopPropagation(),r.clearSearch()},r.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&A.isEmpty(r.props.editorState)){var t=E.default.getChannelId(),n=y.default.getChannel(t);if(null==n||n.isPrivate())r.focusEditor();else{var o=m.default.getTextChannelNameDisambiguations(n.getGuildId())[n.id],a=null!=o?o.name:n.name;r.handleSetSearchQuery({query:p.default[R.SearchTokenTypes.FILTER_IN].key+"#"+a+" ",replace:!0})}}else r.focusEditor()},r.focusEditor=function(){r._editorRef&&r._editorRef.focus()},r.blurEditor=function(){r._editorRef&&r._editorRef.blur()},r.setEditorRef=function(e){r._editorRef=e},r.setPopoutRef=function(e){r._popoutRef=e},r.setSearchPopoutRef=function(e){r._searchPopoutRef=e},r.onFocus=function(){var e=r.props.searchType;I.default.trackWithMetadata(R.AnalyticEvents.SEARCH_OPENED,{search_type:e}),r.setState({focused:!0})},r.onBlur=function(){r.setState({focused:!1},function(){d.default.close(R.SEARCH_POPOUT_ID),A.isEmpty(r.props.editorState)&&r.clearSearch()})},r.onDownArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusNextOption(),!0},r.onUpArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusPreviousOption(),!0},r.onTab=function(e){if(!R.EnableAccessibility)return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.selectOption(),!0},r.handleReturn=function(e){e.preventDefault();var t=!1;return r._searchPopoutRef&&(t=r._searchPopoutRef.selectOption()),t||r.search(),!0},r.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),r.blurEditor(),!0},r.handleBeforeInput=function(e){var t=r.props.editorState,n=r.state.focused;return A.getFirstTextBlock(t).length>=U||(t=A.updateContent(e,t),t=A.truncateContent(t,U),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0)},r.handleKeyCommand=function(e){var t=r.props.editorState,n=r.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=A.deleteContent(e,t),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=A.miscCommand(e,t),t=r.tokenize(t),r.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},r.handlePastedText=function(e){var t=r.props.editorState,n=r.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=A.updateContent(e,t),t=A.truncateContent(t,U),t=r.tokenize(t),n||r.setState({focused:!0}),r.setEditorState(t),!0},r.setEditorState=function(e){var t=r.props.searchId;f.setSearchState(t,e)},r.handleKeyBind=function(e){var t=e.key,n=e.metaKey,o=e.shiftKey,a=r.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&n?(e.preventDefault(),a=o?A.setToStartSelection(a):A.setCollapsedStartSelection(a),r.setEditorState(a),!0):"End"===t||"ArrowRight"===t&&n?(e.preventDefault(),a=o?A.setToEndSelection(a):A.setCollapsedEndSelection(a),r.setEditorState(a),!0):A.getDefaultKeyBinding(e)},O.clearTokenCache(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){C.ComponentDispatch.subscribe(R.ComponentActions.PERFORM_SEARCH,this.search),C.ComponentDispatch.subscribe(R.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),C.ComponentDispatch.subscribe(R.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var o=O.tokenizeQuery(A.getFirstTextBlock(n)),a=N.getSelectionScope(o,n);f.updateAutocompleteQuery(r,o,a),this._editorRef&&A.scrollCursorIntoView(this._editorRef.editor)}},t.prototype.componentWillUnmount=function(){C.ComponentDispatch.unsubscribe(R.ComponentActions.PERFORM_SEARCH,this.search),C.ComponentDispatch.unsubscribe(R.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),C.ComponentDispatch.unsubscribe(R.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.tokenize=function(e){var t=O.tokenizeQuery(A.getFirstTextBlock(e)).filter(function(e){return e.type!==c.default.NON_TOKEN_TYPE});return A.applyTokensAsEntities(t,e,p.default)},t.prototype.clearSearch=function(){var e=this.props.searchId;e&&f.clearSearchState(e)},t.prototype.ensurePopoutIsOpen=function(){this._popoutRef&&!v.default.isOpen(R.SEARCH_POPOUT_ID)&&this._popoutRef.open()},t.prototype.handlePastedFiles=function(){return!0},t.prototype.handleDroppedFiles=function(){return!0},t.prototype.handleDrop=function(){return!0},t.prototype.renderInput=function(){var e=this.props.editorState;return a.createElement(l.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:P.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},t.prototype.render=function(){var e,t,n=this.props,r=n.searchId,l=n.editorState,u=n.hasResults,s=n.theme,d=n.className,f=this.state.focused,c=!!A.getFirstTextBlock(l).length;return r?a.createElement(T.default,{offsetX:-12,ref:this.setPopoutRef,uniqueId:R.SEARCH_POPOUT_ID,render:this.renderPopout,position:T.default.Positions.BOTTOM,toggleClose:!1,animationType:T.default.Animations.NONE,preventInvert:!0},o("div",{className:(0,i.default)(d,{"theme-dark":s===R.ThemeTypes.DARK})},void 0,o(S.default,{className:(0,i.default)(L.default.search,(e={},e[L.default.open]=c,e[L.default.focused]=f,e)),onClick:this.focusEditor},void 0,o("div",{className:(0,i.default)(L.default.searchBar,(t={},t[L.default.searchBarLight]=s===R.ThemeTypes.LIGHT,t))},r,this.renderInput(),o(M.SearchBarIcon,{handleClear:this.handleClearSearch,hasContent:c||u,className:L.default.icon}))))):null},t}(a.PureComponent);G.displayName="Search",t.default=s.default.connectStores([_.default,h.default,g.default],function(){var e=_.default.getCurrentSearchId();return{searchId:e,searchType:_.default.getSearchType(),isSearching:!!e&&_.default.isSearching(e),editorState:e&&_.default.getEditorState(e)||A.createEmptyEditorState(N.generateDecorators(p.default)),hasResults:_.default.hasResults(e),theme:g.default.theme}})(G),e.exports=t.default},6910:function(e,t,n){"use strict";var r;t.__esModule=!0,t.Components=void 0,t.matchColonGroup=p,t.generateDecorators=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(function(n){var r=e[n];t.push({strategy:function(e,t,r){return p(r,e,t,n)},component:c[r.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,r=[];if(e.forEach(function(t,o){var a=e[o];r.push(t.getFullMatch()),f.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(a&&a.type!==l.default.NON_TOKEN_TYPE||!a)&&(n=!0,r.push(" "))}),!n)return t;return(0,s.replaceAllContent)(r.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset;return(0,d.getSelectionScope)(e,r,o)};var o,a=n(6911),i=n(6177),l=(o=i)&&o.__esModule?o:{default:o},u=n(6126),s=n(6544),d=n(6125),f=n(0);var c=t.Components=((r={})[u.ComponentTypes.FILTER]=a.Filter,r[u.ComponentTypes.ANSWER]=a.Answer,r);function p(e,t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r},n)}},6911:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),n(5542)),l=(o=i)&&o.__esModule?o:{default:o};function u(e,t){var n=e.children;return a("span",{className:t},void 0,n)}u.displayName="renderToken";t.Filter=function(e){return u(e,l.default.searchFilter)},t.Answer=function(e){return u(e,l.default.searchAnswer)}},6912:function(e,t,n){"use strict";var r;t.__esModule=!0,t.GroupData=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=x(n(2)),u=G(n(17)),s=G(n(308)),d=G(n(6)),f=G(n(5)),c=G(n(443)),p=G(n(4)),h=n(6400),y=n(6177),m=n(6126),v=G(m),_=G(n(22)),E=G(n(72)),g=G(n(6913)),S=G(n(51)),T=G(n(155)),I=G(n(35)),C=G(n(311)),N=G(n(6914)),A=G(n(221)),O=G(n(306)),b=G(n(442)),M=n(6029),R=n(109),P=G(n(314)),L=x(n(6125)),w=G(n(6545)),D=n(0),U=G(n(13)),k=G(n(5546));function G(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var F=/^\s*$/,j=(0,f.default)("2015-05-15").local();var B=function(e,t,n){var r=n.user,o=n.text;if(!r)return i("strong",{},void 0,o);var a=E.default.getNick(e,r.id)||r.username,l=r.avatarURL||r.getAvatarURL();return[i("img",{alt:"",className:k.default.displayAvatar,src:l},"avatar-"+t+"-"+r.id),i("span",{className:k.default.displayedNick},"display-nick-"+t+"-"+r.id,a),i("span",{className:k.default.displayUsername},"display-username-"+t+"-"+r.id,o)]},H=function(e,t,n){var r=n.channel,o=_.default.getChannel(r.parent_id),a=(0,M.getIconNameForChannel)(r);return i("div",{className:k.default.resultChannel},void 0,null!=a?i(O.default,{name:a,className:k.default.searchResultChannelIcon,background:k.default.searchResultChannelIconBackground}):null,i("strong",{},void 0,r.toString()),null!=o?i("span",{className:k.default.searchResultChannelCategory},void 0,o.toString()):null)};H.displayName="renderChannel";var V=function(e){var t,n=e.searchId,r=e.result,o=e.group,a=e.selected,l=e.className,s=e.onSelect,d=e.onFocus,f=e.showFilter,c=e.renderResult,p=void 0;f&&(p=i("span",{className:k.default.filter},void 0,v.default[o].key||"addme:"));var h=void 0;return h=c?c(n,o,r):i("strong",{},void 0,r.text),i(A.default,{className:(0,u.default)(k.default.option,l,(t={},t[k.default.selected]=a,t)),onClick:s,onMouseOver:d,onFocus:d},void 0,p,h,i(O.default,{name:O.default.Names.PLUS_ALT,className:k.default.plusIcon}))};V.displayName="ResultComponent";var Y=function(e){return l.createElement(V,a({},e,{className:k.default.user,renderResult:B}))};Y.displayName="UserResultComponent";var W=function(e){return l.createElement(V,a({},e,{renderResult:H}))};W.displayName="ChannelResultComponent";var K=t.GroupData=((r={})[D.SearchTokenTypes.FILTER_FROM]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_FROM},component:Y},r[D.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:Y},r[D.SearchTokenTypes.FILTER_HAS]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_HAS}},r[D.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},r[D.SearchTokenTypes.FILTER_IN]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:W},r[D.SearchAutocompleteGroups.DATES]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_DATES}},r[D.SearchAutocompleteGroups.HISTORY]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return i(b.default,{text:U.default.Messages.SEARCH_CLEAR_HISTORY,position:b.default.Positions.LEFT},void 0,i(A.default,{onClick:function(){return(0,h.clearHistory)(t)},className:k.default.searchClearHistory,title:U.default.Messages.SEARCH_CLEAR_HISTORY},void 0,i(O.default,{name:O.default.Names.CLEAR_HISTORY})))},component:(0,s.default)({displayName:"component",mixins:[p.default.LazyStoreListenerMixin(_.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{tokens:L.tokenizeQuery(this.props.result.text).map(function(e,t,n){return L.filterHasAnswer(e,n[t+1])?e:new y.Token(e.getFullMatch(),y.NON_TOKEN_TYPE)})}},render:function(){var e,t=this.props,n=t.selected,r=t.onSelect,o=t.onFocus,a=this.state.tokens.map(function(e,t){var n,r=e.getFullMatch();if(F.test(r))return null;var o=D.IS_SEARCH_FILTER_TOKEN.test(e.type),a=D.IS_SEARCH_ANSWER_TOKEN.test(e.type),l=!o&&!a;return i("span",{className:(0,u.default)((n={},n[k.default.filter]=o,n[k.default.answer]=a,n[k.default.nonText]=l,n))},t,r)});return i(A.default,{className:(0,u.default)(k.default.option,k.default.history,(e={},e[k.default.selected]=n,e)),onClick:r,onMouseOver:o,onFocus:o},void 0,a,i(O.default,{name:O.default.Names.PLUS_ALT,className:k.default.plusIcon}))}})},r[D.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return U.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return i(b.default,{text:U.default.Messages.LEARN_MORE,position:b.default.Positions.LEFT},void 0,i("div",{className:k.default.searchLearnMore},void 0,i(C.default,{href:P.default.getArticleURL(D.HelpdeskArticles.USING_SEARCH),title:U.default.Messages.LEARN_MORE},void 0,i(O.default,{name:O.default.Names.LEARN_MORE}))))},component:function(e){var t,n,r=e.result,o=e.selected,a=e.onSelect,l=e.onFocus,s=L.getSearchOptionAnswer(r.token);return i(A.default,{className:(0,u.default)(k.default.option,k.default.searchOption,(t={},t[k.default.selected]=o,t)),onClick:a,onMouseOver:l,onFocus:l},void 0,i("span",{className:k.default.filter},void 0,r.text),i("span",{className:(0,u.default)((n={},n[k.default.answer]=s,n))},void 0,s),i(O.default,{name:O.default.Names.PLUS_ALT,className:k.default.plusIcon}))}},r),z=(0,s.default)({displayName:"SearchPopout",mixins:[c.default,p.default.LazyStoreListenerMixin(T.default,S.default,g.default,I.default)],getInitialState:function(){return a({dateHint:(0,m.getRandomDateShortcut)()},this.getStateFromStores())},getStateFromStores:function(){var e=T.default.getGuildId(),t=S.default.getChannelId(),n=e||t;if(null==n)throw new Error("SearchPopout.getStateFromStores - invalid searchId");var r=g.default.getState(n),o=this.state?this.state.selectedIndex:-1,i=L.getTotalResults(r.autocompletes);return a({locale:I.default.locale,searchId:n,selectedIndex:o,totalResults:i},r)},componentDidUpdate:function(e,t){var n=this.state,r=n.mode,o=n.totalResults;r.filter&&!t.mode.filter&&o?this.setState({selectedIndex:0}):r.type===D.SearchPopoutModes.FILTER_ALL&&t.mode.type!==r.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(t)},handleDateChange:function(e){this.setSearchQuery(e.format(D.SEARCH_DATE_FORMAT)+" ",!0)},keepCurrentOptionSelected:function(e){var t=this.state,n=t.mode,r=t.selectedIndex,o=t.autocompletes,a=t.totalResults;if(this.state.mode.type!==e.mode.type)this.setState({selectedIndex:-1});else if(e.selectedIndex>=0&&(e.selectedIndex===r||e.autocompletes.length!==o.length)){var i=L.getFlattenedStringArray(e.autocompletes,e.mode.type)[e.selectedIndex-1],l=L.getFlattenedStringArray(o,n.type).indexOf(i);-1!==l?this.setState({selectedIndex:l}):e.selectedIndex>=a&&this.setState({selectedIndex:a-1})}},focusNextOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;L.showDatePicker(n&&n.filter)||(t+=1,this.focusOption(t))},focusPreviousOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;L.showDatePicker(n.filter)||(t-=1,this.focusOption(t))},focusOption:function(e){var t=this.state.autocompletes,n=this.shouldShowSearchQuery();e<-1||!n&&e<0?e=L.getTotalResults(t)-1:n&&e>=L.getTotalResults(t)?e=-1:!n&&e>=L.getTotalResults(t)&&(e=0),this.setState({selectedIndex:e})},selectOption:function(e){if(null==e&&(e=this.state.selectedIndex),e<0)return!1;var t=this.state,n=t.autocompletes,r=t.mode;if(!L.showDatePicker(r.filter)){var o=L.getFlattenedStringArray(n,r.type);if(e>=o.length)return!1;var a=o[e],i=function(e){var t=!0;return e=e.trim(),(0,d.default)(v.default).forOwn(function(n){n.key&&e===n.key&&(t=!1)}),t}(a);return this.setSearchQuery(a,i),!0}},setSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.mode,o=n.cursorScope,a=0;r.token?a=r.token.start:o&&o.currentToken&&(a=o.currentToken.end);var i=r.token?r.token.end:a;R.ComponentDispatch.dispatch(D.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:a,focus:i,performSearch:t}),this.setState({selectedIndex:-1})},shouldShowSearchQuery:function(){var e=this.state.mode;return e.type!==D.SearchPopoutModes.FILTER&&e.type!==D.SearchPopoutModes.EMPTY&&!L.showDatePicker(e.filter)},renderDatePicker:function(){return i("div",{className:k.default.datePicker},void 0,i(N.default,{locale:this.state.locale,onSelect:this.handleDateChange,maxDate:(0,f.default)().local(),minDate:j}),i("div",{className:k.default.datePickerHint},void 0,i("span",{className:k.default.hint},void 0,U.default.Messages.SEARCH_DATE_PICKER_HINT," "),i(A.default,{tag:"span",className:k.default.hintValue,onClick:this.handleHintClick},void 0,this.state.dateHint)))},handleHintClick:function(){this.setSearchQuery(this.state.dateHint,!0)},performSearch:function(){R.ComponentDispatch.dispatch(D.ComponentActions.PERFORM_SEARCH)},renderAutocompletes:function(){var e=this,t=this.state,n=t.autocompletes,r=t.selectedIndex,o=t.mode,a=t.searchId;if(L.showDatePicker(o.filter))return this.renderDatePicker();var l=-1;return n.map(function(t){if(!t||!t.results.length)return null;var n=K[t.group]||{},u=void 0;n.titleText&&(u=i("div",{className:k.default.header},void 0,n.titleText()));var s=n.groupTip||null;s&&(s=i(s,{searchId:a}));var d=n.component||V,f=o.type===D.SearchPopoutModes.FILTER_ALL||!1;return i("div",{className:k.default.resultsGroup},t.group,u,s,t.results.map(function(n){return n&&t?(l+=1,i(d,{searchId:a,group:n.group||t.group,result:n,showFilter:f,selected:r===l,onSelect:e.selectOption.bind(null,l),onFocus:e.focusOption.bind(null,l)},t.group+"-"+n.text+"-"+(n.key||""))):null}))})},render:function(){var e=this,t=this.state,n=t.query,r=t.selectedIndex,o=t.totalResults;return i(w.default,{numResults:o,query:n,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:r,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})}});t.default=z},6913:function(e,t,n){"use strict";t.__esModule=!0;var r=v(n(4)),o=v(n(1)),a=n(6126),i=v(a),l=v(n(6034)),u=v(n(6114)),s=n(6125),d=v(n(72)),f=v(n(847)),c=v(n(6078)),p=v(n(312)),h=v(n(6203)),y=v(n(15)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var _={},E={},g=10,S=3;function T(e,t,n,r,o,a){var i=E[e];return null==i&&(i={results:[],context:h.default.getSearchContext(function(e,t){var n=t.results,r=E[e],o=_[e];if(null==r||null==o)return;var a=o.mode,i=a.type,l=a.filter;if(i===m.SearchPopoutModes.EMPTY||i===m.SearchPopoutModes.FILTER&&l!==m.SearchTokenTypes.FILTER_FROM&&l!==m.SearchTokenTypes.FILTER_MENTIONS)return;var u=S;o.mode.type===m.SearchPopoutModes.FILTER&&(u=g);r.results=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;(e=e.reduce(function(e,t){var n=y.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,u);var s=o.query,d=o.mode,f=o.tokens,c=o.cursorScope,p=o.autocompletes;p=A(e,d),_[e]=T(e,s,d,f,c,p),R.emitChange()}.bind(null,e))},E[e]=i),{query:t||"",mode:n||{type:m.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:r||[],cursorScope:o||null,autocompletes:a||[]}}function I(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;if(!e)return null;var o=void 0;if(e===m.SearchTokenTypes.FILTER_FROM||e===m.SearchTokenTypes.FILTER_MENTIONS){var a=E[n];null==a?o=null:(null!=t&&0!==t.getFullMatch().trim().length||(a.results=l.default.getRecentlyTalked(n,g).map(function(e){var t=e.user;return{user:t,text:t.tag}})),o=a.results)}else{var u=i.default[e]&&i.default[e].getAutocompletions,s=(null!=t?t.getFullMatch():"").trim();o=u?u(s,n,r):[]}return o&&o.length?{group:e,results:o}:null}function C(e){var t,n=(e?e.getFullMatch():"").trim(),r=((t={})[m.SearchTokenTypes.FILTER_FROM]=!p.default.hidePersonalInformation,t[m.SearchTokenTypes.FILTER_MENTIONS]=!p.default.hidePersonalInformation,t[m.SearchTokenTypes.FILTER_HAS]=!0,t[m.SearchTokenTypes.FILTER_BEFORE]=!0,t[m.SearchTokenTypes.FILTER_AFTER]=!0,t[m.SearchTokenTypes.FILTER_ON]=!0,t[m.SearchTokenTypes.FILTER_IN]=c.default.getSearchType()===m.SearchTypes.GUILD,t),o=(0,a.getFilterAutocompletions)(n).filter(function(e){return r[e.token]});return{group:m.SearchAutocompleteGroups.SEARCH_OPTIONS,results:o}}function N(e,t){var n=[];return(e?e.getFullMatch():"").trim()&&(function(e){var t=c.default.getSearchType(e),n=[m.SearchTokenTypes.FILTER_HAS];return p.default.hidePersonalInformation||(n.push(m.SearchTokenTypes.FILTER_FROM),n.push(m.SearchTokenTypes.FILTER_MENTIONS)),t===m.SearchTypes.GUILD&&n.push(m.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(r){if(r){var o=I(r,e,t,S);o&&n.push(o)}}),n.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var r=i.default[m.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),o=r[0],a=i.default[m.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),l=a[0],u=i.default[m.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),s=u[0];if(!o)return null;var d=[o,l,s];return{group:m.SearchAutocompleteGroups.DATES,results:d}}}(e,t))),(0,s.getTotalResults)(n)<5&&n.push(C(e)),n}function A(e,t){var n=[];return t.type===m.SearchPopoutModes.FILTER?n.push(I(t.filter,t.token,e,g)):t.type===m.SearchPopoutModes.FILTER_ALL?n=N(t.token,e):t.type===m.SearchPopoutModes.EMPTY&&(n.push(C(t.token)),n.push(function(e){if(p.default.hidePersonalInformation)return null;var t=c.default.getHistory(e);return t?{group:m.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function O(){(0,s.clearTokenCache)()}function b(e){var t=_[e];if(t){var n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope,i=t.autocompletes;_[e]=T(e,n,r,o,a,i.map(function(e){return e&&e.group===m.SearchAutocompleteGroups.HISTORY?null:e}))}}function M(){if(f.default.isOpen(m.SEARCH_POPOUT_ID)){var e=c.default.getCurrentSearchId();if(e&&_[e]){var t=_[e],n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope;_[e]=T(e,n,r,o,a,A(e,r))}}}var R=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(d.default,p.default,f.default)},t.prototype.getState=function(e){return _[e]||T(e)},t}(r.default.Store))(o.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,r=e.cursorScope;if(!f.default.isOpen(m.SEARCH_POPOUT_ID))return!1;var o=(0,s.getQueryFromTokens)(n),a=(0,s.getAutocompleteMode)(r,n),i=_[t]||{},l=E[t],d=!0,c=void 0;if(o!==i.query||i.mode&&i.mode.filter!==a.filter){if(a.type===m.SearchPopoutModes.EMPTY||a.type===m.SearchPopoutModes.FILTER&&a.filter!==m.SearchTokenTypes.FILTER_FROM&&a.filter!==m.SearchTokenTypes.FILTER_MENTIONS)null!=l&&(l.context.clearQuery(),l.results=[]),c=A(t,a);else if(null!=l){var p=a.token;null!=p&&p.getFullMatch().trim().length>0?(u.default.requestMembers(t,p.getFullMatch(),g),l.context.setQuery(p.getFullMatch().trim(),{guild:t}),c=i.autocompletes,d=!1):(l.context.clearQuery(),c=A(t,a))}}else c=i.autocompletes,d=!1;return _[t]=T(t,o,a,n,r,c),d},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=E[t];null!=n&&(n.context.destroy(),n.results=[],delete E[t]),delete _[t]},CHANNEL_CREATE:function(e){return O()},CHANNEL_DELETE:function(e){return O()},STREAMER_MODE_UPDATE:function(e){return M()},POPOUT_OPEN:function(e){return M()},SEARCH_MODAL_OPEN:function(e){return M()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?b(t):Object.keys(_).forEach(b)},LOGOUT:function(e){Object.keys(_).forEach(b)}});t.default=R,e.exports=t.default},6914:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(5)),l=s(n(7232));n(5543);var u=s(n(5544));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,r=e.onSelect,a=e.locale,i=e.value;return o("div",{className:u.default.calendarPicker},void 0,o(l.default,{fixedHeight:!0,inline:!0,selected:i,locale:a,onSelect:r,maxDate:n,minDate:t}))},t}(a.PureComponent);d.defaultProps={value:(0,i.default)().local()},d.displayName="CalendarPicker",t.default=d,e.exports=t.default},6915:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=B(n(17)),u=B(n(6)),s=B(n(5)),d=B(n(4)),f=B(n(6005)),c=B(n(157)),p=n(6090),h=B(n(6119)),y=B(n(330)),m=B(n(869)),v=B(n(479)),_=B(n(111)),E=B(n(6345)),g=B(n(228)),S=B(n(153)),T=B(n(315)),I=B(n(6916)),C=B(n(35)),N=B(n(15)),A=n(6331),O=B(n(313)),b=n(870);n(835);var M=n(109),R=n(5992),P=B(n(45)),L=n(468),w=B(n(6546)),D=B(n(6118)),U=B(n(6917)),k=n(6918),G=n(0),x=B(n(13)),F=B(n(5421)),j=B(n(5552));function B(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(6919);var W=20,K=function(e){function t(){var n,r;H(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=V(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props,t=e.onReveal,n=e.revealed,o=e.messageGroups;t(n?null:o[0].content[0].id)},V(r,n)}return Y(t,e),t.prototype.render=function(){var e=this,t=this.props.revealed,n=[],r=0;return this.props.messageGroups.forEach(function(t){var o=t.content;r+=o.length,n.push(i.createElement(D.default,a({key:o[0].id,messages:o,hasDivider:!1},e.props)))}),o(k.BlockedMessageGroup,{className:j.default.messageGroupBlocked,revealed:t,count:r,onClick:this.handleClick},void 0,n)},t}(i.Component);K.defaultProps={canManageMessages:!1,compact:!1},K.displayName="BlockedMessageGroups";var z=function(e){function t(){return H(this,t),V(this,e.apply(this,arguments))}return Y(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.channel,r=e.user;return o(D.default,{messageOption:!1,canEdit:!1,channel:n,messages:[new y.default({id:t.id,key:"pending-upload-"+t.id,type:G.MessageTypes.DEFAULT,author:r,channel_id:n.id,contentParsed:o(A.AttachmentUpload,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.size,onCancelUpload:function(){h.default.cancel(t)}})})]})},t}(i.Component);z.displayName="PendingUpload";var $=o(k.JumpToPresentBar,{}),q=function(e){function t(){var n,r,o;H(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=o=V(this,e.call.apply(e,[this].concat(i))),o._mounted=!1,o._jumpTargetIndex=null,o._loadMoreScrollToNewMessages=!1,o._newMessagesBar=null,o._jumpTarget=null,o._subscriptions=((n={})[G.ComponentActions.CHAT_RESIZE]=function(){return o.handleResize()},n[G.ComponentActions.SCROLLTO_PRESENT]=function(){return o.scrollToBottom()},n[G.ComponentActions.SCROLL_PAGE_UP]=function(){return o.scrollPageUp(!0)},n[G.ComponentActions.SCROLL_PAGE_DOWN]=function(){return o.scrollPageDown(!0)},n),o.state={scrollingToJump:!1},o.registerMessageDOMNode=function(e,t){o.props.messages.jumpTargetId===e&&(o._jumpTarget=t)},o.jumpToPresent=function(){if(!o.props.messages.loadingMore){var e=o.props.channel;c.default.jumpToPresent(e.id,G.MAX_MESSAGES_PER_CHANNEL),P.default.transitionToGuild(e.getGuildId()||G.ME,e.id)}},o.handleFullscreenChange=function(){var e=o,t=e._scroller,n=e.props.dimensions;null!=t&&(t.invalidateScrollerState(),(0,L.isFullScreen)()||(null!=n?o.scrollTo(n.scrollTop):o.scrollToBottom()))},o.handleLoadMore=function(){var e=o,t=e._scroller,n=e.props.dimensions;o.isAtBottom()||null==n||null==t||(o.scrollTo(t.getScrollData().scrollHeight-n.scrollHeight),o._loadMoreScrollToNewMessages&&o.scrollToNewMessages(!0))},o.handleMessageUpdate=function(e){var t=o,n=t._scroller,r=t.props.dimensions;if(null!=n){n.invalidateScrollerState();var a=n.getScrollData();e.offsetTop<a.scrollTop+a.offsetHeight&&(o.isAtCachedBottom()?o.scrollToBottom():null!=r&&o.scrollBy(a.scrollHeight-r.scrollHeight))}},o.handleMessageEdit=function(e){var t=o._scroller;if(null!=t){t.invalidateScrollerState();var n=t.getScrollData();e.offsetTop<n.scrollTop+W&&o.scrollTo(e.offsetTop-W),n=t.getScrollData();var r=e.offsetTop+e.offsetHeight-n.scrollTop-n.offsetHeight+W;r>0&&o.scrollBy(r)}},o.handleResize=function(){var e=o._scroller;null!=e&&o.isAtCachedBottom()&&(e.invalidateScrollerState(),o.scrollToBottom())},o.handleScroll=function(){var e=o,t=e._scroller,n=e.props,r=n.messages,a=n.channel,i=n.keyboardModeEnabled;if(o._mounted&&null!=t&&!(0===r.length&&r.loadingMore||(0,L.isFullScreen)())){var l=t.getScrollData();0===l.scrollTop&&l.scrollHeight>l.offsetHeight&&r.hasMoreBefore&&!r.loadingMore&&(i||o.loadMore()),l.scrollHeight<=l.scrollTop+l.offsetHeight+2?r.hasMoreAfter&&!r.loadingMore?o.loadMore(!0):r.hasMoreAfter||f.default.clearChannelDimensions(a.id):f.default.updateChannelDimensions(a.id,l.scrollTop,l.scrollHeight,l.offsetHeight)}},o.handleScrollToNewMessages=function(){var e=o.props.channel,t=T.default.ackMessageId(e.id);null!=t&&c.default.jumpToMessage(e.id,t,!1,"Mark As Read")},o.handleAck=function(){(0,p.ack)(o.props.channel.id)},o.handleReveal=function(e){c.default.revealMessage(o.props.channel.id,e)},o.setScrollerRef=function(e){o._scroller=e},V(o,r)}return Y(t,e),t.prototype.componentDidMount=function(){var e=this;this._mounted=!0,this.restoreScroll(),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange),Object.keys(this._subscriptions).forEach(function(t){return M.ComponentDispatch.subscribe(t,e._subscriptions[t])})},t.prototype.componentWillUnmount=function(){var e=this;Object.keys(this._subscriptions).forEach(function(t){return M.ComponentDispatch.unsubscribe(t,e._subscriptions[t])}),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange),this._mounted=!1},t.prototype.shouldComponentUpdate=function(e){return!!e.isVisible&&(this.props.isVisible!==e.isVisible||(this.props.className!==e.className||this.props.messages!==e.messages||this.props.uploads!==e.uploads||this.props.unreadCount!==e.unreadCount||this.props.oldestUnreadMessageId!==e.oldestUnreadMessageId||this.props.channel!==e.channel||this.props.inlineAttachmentMedia!==e.inlineAttachmentMedia||this.props.inlineEmbedMedia!==e.inlineEmbedMedia||this.props.gifAutoPlay!==e.gifAutoPlay||this.props.renderEmbeds!==e.renderEmbeds||this.props.renderReactions!==e.renderReactions||this.props.developerMode!==e.developerMode||this.props.messageDisplayCompact!==e.messageDisplayCompact||this.props.canChat!==e.canChat||this.props.permissionVersion!==e.permissionVersion||this.props.isScaled!==e.isScaled||this.props.backgroundOpacity!==e.backgroundOpacity||this.props.showNewMessagesBar!==e.showNewMessagesBar||this.props.renderSpoilers!==e.renderSpoilers))},t.prototype.scrollToJumpTarget=function(e,t){var n=this,r=this._newMessagesBar,o=this._jumpTarget,a=this._scroller;if(null!=a){if(!o)return null!=r?void this.scrollToNewMessages(!0):void console.warn("Got a jump target request but the ref was not found in the channel");if(null!=o&&o instanceof HTMLElement){var i=a.getScrollData(),l=o.offsetTop-.5*i.offsetHeight+.5*o.offsetHeight,u=t.jumpTargetId;if(t.last()!==e.last()&&t.first()!==e.first()&&null!=u){var s=t.get(u),d=e.first();null!=d&&null!=s&&s.timestamp.isBefore(d.timestamp)?a.scrollTo(i.scrollHeight-i.offsetHeight-100):a.scrollTo(100)}var f=t.jumpTargetId;this.setState({scrollingToJump:!0},function(){a.scrollTo(l,!0,function(){n.props.messages.jumpTargetId===f&&n.setState({scrollingToJump:!1})})})}}},t.prototype.componentDidUpdate=function(e){var t=e.messages,n=this._scroller,r=this.props,o=r.channel,a=r.messages,i=r.inlineAttachmentMedia,l=r.inlineEmbedMedia,u=r.renderEmbeds,s=r.messageDisplayCompact,d=r.uploads,p=r.isVisible,h=a.last();if(null!==a.jumpTargetId&&t.jumpSequenceId!==a.jumpSequenceId)this.scrollToJumpTarget(t,a);else if(a.jumpedToPresent&&t.jumpSequenceId!==a.jumpSequenceId)this.scrollTo(100),this.scrollToBottom(!0);else if(i!==e.inlineAttachmentMedia||l!==e.inlineEmbedMedia||u!==e.renderEmbeds)this.scrollToBottom();else if(d.length>e.uploads.length)this.scrollToBottom();else if(s!==e.messageDisplayCompact&&this.isAtCachedBottom())this.scrollToBottom();else if(!e.isVisible&&p&&h!==this.lastVisibleMessage)this.restoreScroll();else if(h!==e.messages.last()){if(e.messages.loadingMore)if(0===e.messages.length)this.restoreScroll();else{if(null!=n){var y=n.getScrollData();f.default.updateChannelDimensions(o.id,y.scrollTop,y.scrollHeight,y.offsetHeight)}c.default.truncateMessages(this.props.channel.id,!1,!0)}else if(!this.props.messages.hasMoreAfter){var m=this.props.messages.last();(m&&m.state===G.MessageStates.SENDING||this.isAtCachedBottom())&&this.scrollToBottom()}}else if(this.props.messages.first()!==e.messages.first())if(e.messages.loadingMore){if(this.handleLoadMore(),null!=n){var v=n.getScrollData();f.default.updateChannelDimensions(this.props.channel.id,v.scrollTop,v.scrollHeight,v.offsetHeight)}c.default.truncateMessages(this.props.channel.id,!0,!1)}else e.dimensions&&null!=n&&this.scrollTo(e.dimensions.scrollTop-(e.dimensions.scrollHeight-n.getScrollData().scrollHeight));p&&(this.lastVisibleMessage=h)},t.prototype.computeGlobalSpoilerDisplay=function(e){switch(this.props.renderSpoilers){case G.SpoilerRenderSetting.ALWAYS:return!0;case G.SpoilerRenderSetting.IF_MODERATOR:return e;case G.SpoilerRenderSetting.ON_CLICK:default:return!1}},t.prototype.render=function(){var e=this,t=this.props,n=t.messages,r=t.canChat,u=t.channel,d=t.isDefaultChannel,f=t.backgroundOpacity,c=t.className,p=t.scrollerClassName,h=t.scrollerOuterClassName,y=N.default.getCurrentUser(),m=S.default.can(G.Permissions.MANAGE_MESSAGES,this.props.channel),v=r&&S.default.can(G.Permissions.ADD_REACTIONS,this.props.channel),_=this.createChannelStream(n),E=_.map(function(t,l){if(t.type===G.ChannelStreamTypes.DIVIDER_TIME_STAMP)return o(k.Divider,{className:j.default.divider,backgroundOpacity:f},l,t.content);if(t.type===G.ChannelStreamTypes.DIVIDER_NEW_MESSAGES)return o(k.Divider,{className:j.default.divider,setElementRef:function(t){return e._newMessagesBar=t},red:!0,backgroundOpacity:f},l,t.content);var s={compact:e.props.messageDisplayCompact,channel:u,canManageMessages:m,canAddNewReactions:v,canChat:r,inlineAttachmentMedia:e.props.inlineAttachmentMedia,inlineEmbedMedia:e.props.inlineEmbedMedia,gifAutoPlay:e.props.gifAutoPlay,renderEmbeds:e.props.renderEmbeds,renderReactions:e.props.renderReactions,developerMode:e.props.developerMode,onEdit:e.handleMessageEdit,onUpdate:e.handleMessageUpdate};if(t.type===G.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED)return i.createElement(K,a({key:l,revealed:t.content[0].content[0].id===n.revealedMessageId,messageGroups:t.content,onReveal:e.handleReveal},s));var d=l!==_.length-1&&(_[l+1].type===G.ChannelStreamTypes.DIVIDER_TIME_STAMP||_[l+1].type===G.ChannelStreamTypes.DIVIDER_NEW_MESSAGES||_[l+1].type===G.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED),c=t.type===G.ChannelStreamTypes.JUMP_TARGET&&n.jumpTargetId?{registerMessageDOMNode:e.registerMessageDOMNode,jumpSequenceId:n.jumpSequenceId,jumpMessageId:n.jumpTargetId,canFlash:n.jumpFlash}:null;return o(b.SpoilerDisplayContext.Provider,{value:e.computeGlobalSpoilerDisplay(m)},t.content[0].id,i.createElement(D.default,a({messages:t.content,hasDivider:d},s,c)))});if(this.props.uploads.forEach(function(e){E.push(o(z,{file:e,channel:u,user:y},"upload-"+e.id))}),n.loadingMore?(n.hasMoreBefore&&E.unshift(i.createElement(k.LoadingMore,{key:"loading-more",ref:"loading-more"})),n.hasMoreAfter&&E.push(i.createElement(k.LoadingMore,{key:"loading-more-after",ref:"loading-more"}))):n.hasMoreBefore&&E.unshift(o(k.HasMore,{onClick:function(){return e.loadMore(!1)}},"has-more")),!n.hasMoreBefore){var g=this.props.channel;this.props.channel.type===G.ChannelTypes.DM?E.unshift(o(w.default,{},"empty-message",o("h1",{},void 0,x.default.Messages.BEGINNING_DM.format({username:g.toString()})))):this.props.channel.type===G.ChannelTypes.GROUP_DM?this.props.channel.isManaged()?E.unshift(o(w.default,{},"empty-message",o("h1",{},void 0,x.default.Messages.BEGINNING_GROUP_DM_MANAGED))):E.unshift(o(w.default,{},"empty-message",o("h1",{},void 0,x.default.Messages.BEGINNING_GROUP_DM.format({name:g.toString()})))):S.default.can(G.Permissions.READ_MESSAGE_HISTORY,g)?d?E.unshift(o(U.default,{channel:g},"welcome-message")):E.unshift(o(w.default,{},"empty-message",o("h1",{},void 0,x.default.Messages.BEGINNING_CHANNEL.format({channelName:g.toString()})))):E.unshift(o("div",{className:(0,l.default)(F.default.base,F.default.default)},"empty-message",o("h1",{},void 0,x.default.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:g.toString()}))))}!n.loadingMore&&n.hasMoreAfter&&E.push(o(k.HasMore,{onClick:function(){return e.loadMore(!0)}},"has-more-after"));var I=void 0;if(this.props.unreadCount>0&&this.props.showNewMessagesBar){var C=T.default.getOldestUnreadTimestamp(this.props.channel.id),A=void 0,M=(0,R.isSameDay)((0,s.default)(),(0,s.default)(new Date(C)));A=T.default.isEstimated(this.props.channel.id)?M?x.default.Messages.NEW_MESSAGES_ESTIMATED:x.default.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE:M?x.default.Messages.NEW_MESSAGES:x.default.Messages.NEW_MESSAGES_WITH_DATE,I=o(k.NewMessagesBar,{content:A.format({count:this.props.unreadCount,timestamp:C}),onScrollTo:this.handleScrollToNewMessages,onAck:this.handleAck})}var P=void 0;return this.props.messages.hasMoreAfter&&(P=this.props.messages.loadingMore&&this.props.messages.jumpedToPresent?$:o(k.JumpToPresentBar,{onClick:this.jumpToPresent})),o("div",{className:(0,l.default)(j.default.messagesWrapper,c)},void 0,I,i.createElement(O.default,{ref:this.setScrollerRef,className:p,outerClassName:h,onScroll:this.handleScroll,onResize:this.handleResize,theme:O.default.Themes.MESSAGES_THEMED_WITH_TRACK},E),P)},t.prototype.createChannelStream=function(e){var t=this,n=[];e.forEach(function(e){var r=n[n.length-1];null==r||e.id===t.props.oldestUnreadMessageId||e.type>G.MessageTypes.DEFAULT||r[0].type!==e.type||r[0].author.id!==e.author.id||r[0].nick!==e.nick||e.webhookId&&r[0].author.username!==e.author.username||!(0,R.isWithinInterval)(r[r.length-1].timestamp,e.timestamp,G.MESSAGE_GROUP_INTERVAL)?n.push([e]):null!=e&&r.push(e)});var r=void 0,o=[];return n.forEach(function(n){n[0].id===t.props.oldestUnreadMessageId&&o.push({type:G.ChannelStreamTypes.DIVIDER_NEW_MESSAGES,content:x.default.Messages.NEW_MESSAGES_DIVIDER});var a=(0,R.dateFormat)(n[0].timestamp,"LL");if(a!==r&&(null!=r&&o.push({type:G.ChannelStreamTypes.DIVIDER_TIME_STAMP,content:a}),r=a),n[0].blocked){var i=o[o.length-1];null!=i&&i.type===G.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED||(i={type:G.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED,content:[]},o.push(i)),i.content.push({type:G.ChannelStreamTypes.MESSAGE_GROUP,content:n})}else{var l=G.ChannelStreamTypes.MESSAGE_GROUP;if(t.props.messages.jumpTargetId)u.default.findIndex(n,function(t){return t.id===e.jumpTargetId})>=0&&(l=G.ChannelStreamTypes.JUMP_TARGET);l===G.ChannelStreamTypes.JUMP_TARGET?o.push({type:G.ChannelStreamTypes.JUMP_TARGET,content:n}):o.push({type:G.ChannelStreamTypes.MESSAGE_GROUP,content:n})}}),o},t.prototype.loadMore=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._scroller,n=this.props,r=n.messages,o=n.channel;if(!this.state.scrollingToJump){if(null!=t){var a=t.getScrollData();f.default.updateChannelDimensions(o.id,a.scrollTop,a.scrollHeight,a.offsetHeight)}var i=void 0,l=void 0;if(e){var u=r.last();null!=u&&(l=u.id)}else{var s=r.first();null!=s&&(i=s.id)}c.default.fetchMessages(this.props.channel.id,i,l,G.MAX_MESSAGES_PER_CHANNEL)}},t.prototype.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._scroller;if(null!=n){var r=n.getScrollData();r.scrollHeight===r.offsetHeight?this.handleScroll():n.scrollTo(e,t)}},t.prototype.scrollBy=function(e){var t=this._scroller;null!=t&&this.scrollTo(t.getScrollData().scrollTop+e)},t.prototype.scrollToNewMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._loadMoreScrollToNewMessages=!1;var n=this._newMessagesBar;if(null!=n)this.scrollTo(Math.max(0,n.offsetTop-35),e),t&&T.default.isEstimated(this.props.channel.id)&&(this._loadMoreScrollToNewMessages=!0,this.loadMore());else if(null!=this.props.oldestUnreadMessageId)return this.scrollTo(35,e),!0;return null!=n},t.prototype.scrollToBottom=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._scroller,r=this.props,o=r.messages,a=r.isScaled;if(null!=n){var i=n.getScrollData();o.hasMoreAfter?this.jumpToPresent():a?requestAnimationFrame(function(){e._mounted&&e.scrollTo(i.scrollHeight-i.offsetHeight+1,t)}):this.scrollTo(i.scrollHeight-i.offsetHeight+1,t)}},t.prototype.scrollPageUp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._scroller;t&&t.scrollPageUp(e)},t.prototype.scrollPageDown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._scroller;t&&t.scrollPageDown(e)},t.prototype.restoreScroll=function(){var e=this.props.dimensions;this.scrollToNewMessages()||(null!=e?this.scrollTo(e.scrollTop):this.scrollToBottom())},t.prototype.isAtCachedBottom=function(){return null==this.props.dimensions},t.prototype.isAtBottom=function(){var e=this._scroller;return null!=e&&e.isScrolledToBottom()},t}(i.Component);q.defaultProps={isVisible:!0,showNewMessagesBar:!0,scrollerClassName:j.default.messages,scrollerOuterClassName:j.default.scrollerWrap},q.displayName="Messages",t.default=d.default.connectStores([N.default,g.default,I.default,v.default,T.default,C.default,E.default,m.default,_.default,S.default],function(e){var t=e.channel,n=e.forceCompact,r=t.getGuildId(),o=C.default.inlineAttachmentMedia,a=C.default.inlineEmbedMedia,i=C.default.gifAutoPlay,l=C.default.renderEmbeds,u=C.default.renderReactions,s=C.default.developerMode,d=C.default.messageDisplayCompact,f=C.default.renderSpoilers;return{messages:g.default.getMessages(t.id),permissionVersion:null!=r?S.default.getGuildVersion(r):null,uploads:I.default.getFiles(t.id),dimensions:v.default.getChannelDimensions(t.id),unreadCount:T.default.getUnreadCount(t.id),oldestUnreadMessageId:T.default.getOldestUnreadMessageId(t.id),canChat:null==r||E.default.canChatInGuild(r),isScaled:m.default.fontScale!==G.Accessibility.FONT_SCALE_DEFAULT,keyboardModeEnabled:m.default.keyboardModeEnabled,isDefaultChannel:null!=r&&t===_.default.getDefaultChannel(r),inlineAttachmentMedia:o,inlineEmbedMedia:a,gifAutoPlay:i,renderEmbeds:l,renderReactions:u,messageDisplayCompact:n||d,developerMode:s,renderSpoilers:f}})(q),e.exports=t.default},6916:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(4)),i=l(n(1));l(n(330)),n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=Object.freeze([]),s={},d={},f={};function c(e,t){var n=s[e];return null!=n&&(s[e]=n.filter(function(e){return e.id!==t}),delete d[t],delete f[t],n.length!==s[e].length)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFiles=function(e){return s[e]||u},t.prototype.getMessageForFile=function(e){return f[e]},t}(a.default.Store);t.default=new p(i.default,{UPLOAD_START:function(e){var t=e.channelId,n=e.file,r=e.uploader,o=e.message,a=s[t]||u;d[n.id]=r,s[t]=[].concat(a,[n]),f[n.id]=o},UPLOAD_PROGRESS:function(e){var t=e.channelId,n=e.file,r=s[t];if(null==r)return!1;s[t]=r.map(function(e){return e.id===n.id?o({},e,n):e})},UPLOAD_COMPLETE:function(e){return c(e.channelId,e.file.id)},UPLOAD_FAIL:function(e){return c(e.channelId,e.file.id)},UPLOAD_CANCEL_REQUEST:function(e){var t=e.file,n=d[t.id];if(null==n)return!1;r(function(){return n.cancel()})}}),e.exports=t.default}).call(this,n(29).setImmediate)},6917:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),S(n(17))),i=S(n(308)),l=S(n(4)),u=S(n(80)),s=S(n(28)),d=S(n(153)),f=S(n(15)),c=S(n(314)),p=n(229),h=S(n(9)),y=S(n(456)),m=S(n(6546)),v=S(n(6019)),_=n(0),E=S(n(13)),g=S(n(5550));function S(e){return e&&e.__esModule?e:{default:e}}var T=(0,i.default)({displayName:"WelcomeMessage",mixins:[l.default.StoreListenerMixin(f.default,s.default,d.default)],getDefaultProps:function(){return{channel:null}},getStateFromStores:function(){var e=this.props.channel,t=s.default.getGuild(e.getGuildId());return{currentUser:f.default.getCurrentUser(),guild:t,canCreateInvite:(0,p.canViewInviteModal)(t,e)}},handleDownloadApps:function(e){u.default.push(y.default,{source:e})},handleOpenInvitePopout:function(){var e=this.props.channel,t=this.state.guild;u.default.push(v.default,{guild:t,channel:e,source:_.InstantInviteSources.WELCOME_MESSAGE})},render:function(){var e=this.state.guild&&this.state.guild.isOwner(this.state.currentUser)?o("h1",{className:g.default.h1},void 0,E.default.Messages.WELCOME_MESSAGE_OWNER_TITLE.format({username:this.state.currentUser.username})):o("h1",{className:g.default.h1},void 0,E.default.Messages.WELCOME_MESSAGE_TITLE.format({username:this.state.currentUser.username})),t=void 0;this.state.canCreateInvite&&(t=o("div",{className:g.default.itemContainer},void 0,o("div",{className:(0,a.default)(g.default.icon,g.default.share)}),o("p",{},void 0,E.default.Messages.WELCOME_MESSAGE_INSTANT_INVITE.format({onShareClick:this.handleOpenInvitePopout}))));var n=void 0;return h.default.embedded||(n=o("div",{className:g.default.itemContainer},void 0,o("div",{className:(0,a.default)(g.default.icon,g.default.apps)}),o("p",{},void 0,E.default.Messages.WELCOME_MESSAGE_DESKTOP_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Desktop Apps")})))),o("div",{className:g.default.welcomeMessage},void 0,e,o("div",{className:g.default.itemContainer},void 0,o("div",{className:(0,a.default)(g.default.icon,g.default.exclamation)}),o("p",{},void 0,E.default.Messages.WELCOME_MESSAGE_TUTORIAL.format())),t,n,o("div",{className:g.default.itemContainer},void 0,o("div",{className:(0,a.default)(g.default.icon,g.default.mobile)}),o("p",{},void 0,E.default.Messages.WELCOME_MESSAGE_MOBILE_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Mobile Apps")}))),o("div",{className:g.default.itemContainer},void 0,o("div",{className:(0,a.default)(g.default.icon,g.default.twitter)}),o("p",{},void 0,E.default.Messages.WELCOME_MESSAGE_SUPPORT.format({supportURL:c.default.getCommunityURL(),twitterURL:c.default.getTwitterURL()}))),o(m.default,{className:g.default.emptyMessage}))}});t.default=T,e.exports=t.default},6918:function(e,t,n){"use strict";t.__esModule=!0,t.BlockedMessageGroup=t.HasMore=t.LoadingMore=t.Divider=t.NewMessagesBar=t.JumpToPresentBar=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=p(n(221)),u=p(n(444)),s=n(835),d=n(875),f=p(n(13)),c=p(n(5551));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t.JumpToPresentBar=function(e){var t=e.onClick;return o(d.MessagesInteractionContext.Consumer,{},void 0,function(e){return e.disableInteractions?null:o("div",{className:c.default.jumpToPresentBar},void 0,o("button",{type:"button",onClick:t},void 0,f.default.Messages.YOURE_VIEWING_OLDER_MESSAGES),null!=t?o("button",{type:"button",onClick:t},void 0,f.default.Messages.JUMP_TO_PRESENT):o(u.default,{type:u.default.Type.PULSING_ELLIPSIS,className:c.default.spinner,itemClassName:c.default.spinnerItem}))})}).displayName="JumpToPresentBar",(t.NewMessagesBar=function(e){function t(){return h(this,t),y(this,e.apply(this,arguments))}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.onScrollTo,r=e.onAck,a=o("button",{type:"button",onClick:n},void 0,t);return o(d.MessagesInteractionContext.Consumer,{},void 0,function(e){var t;return e.disableInteractions?null:o("div",{className:(0,i.default)(c.default.newMessagesBar,(t={},t[c.default.disableInteractions]=e.disableInteractions,t))},void 0,a,o("button",{type:"button",onClick:r},void 0,f.default.Messages.MARK_AS_READ))})},t}(a.PureComponent)).displayName="NewMessagesBar",(t.Divider=function(e){var t=e.children,n=e.red,r=e.setElementRef,l=e.className,u=e.backgroundOpacity;return a.createElement("div",{className:(0,i.default)(c.default.divider,n?c.default.dividerRed:null,c.default[u+"BackgroundOpacity"],l),ref:r},o("span",{className:c.default.dividerContent},void 0,t))}).displayName="Divider",(t.LoadingMore=function(e){function t(){return h(this,t),y(this,e.apply(this,arguments))}return m(t,e),t.prototype.render=function(){return o("div",{className:c.default.loadingMore},void 0,o(u.default,{className:c.default.spinner}))},t}(a.Component)).displayName="LoadingMore",(t.HasMore=function(e){var t=e.onClick;return o(d.MessagesInteractionContext.Consumer,{},void 0,function(e){var n;return o("div",{className:(0,i.default)(c.default.hasMore,(n={},n[c.default.disableInteractions]=e.disableInteractions,n))},void 0,o("button",{type:"button",onClick:t},void 0,f.default.Messages.LOAD_MORE_MESSAGES))})}).displayName="HasMore",(t.BlockedMessageGroup=function(e){var t=e.onClick,n=e.count,r=e.revealed,a=e.children,u=e.className;return o(s.BackgroundOpacityContext.Consumer,{},void 0,function(e){var s,d=e.backgroundOpacity;return o("div",{className:(0,i.default)(c.default.messageGroupBlocked,u,c.default[d+"BackgroundOpacity"],(s={},s[c.default.revealed]=r,s))},void 0,o(l.default,{className:c.default.messageGroupBlockedBtn,onClick:t},void 0,f.default.Messages.BLOCKED_MESSAGES.format({count:n})),r?a:null)})}).displayName="BlockedMessageGroup"},6919:function(e,t,n){"use strict";t.__esModule=!0;var r=E(n(4)),o=E(n(1)),a=E(n(912)),i=E(n(12)),l=E(n(22)),u=E(n(72)),s=E(n(28)),d=E(n(46)),f=E(n(871)),c=E(n(91)),p=E(n(51)),h=E(n(226)),y=E(n(35)),m=E(n(15)),v=n(0),_=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}var g=10,S=[],T=null,I=null;function C(){if(!a.default.supported)return!1;var e=y.default.locale;I||(I=window.speechSynthesis&&window.speechSynthesis.getVoices()),T=(T=I.filter(function(t){return t.lang===e||t.lang.slice(0,e.length)===e})).length>0?T[0]:null}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,p.default,f.default,d.default,m.default,y.default,s.default)},t}(r.default.Store);t.default=new N(o.default,__OVERLAY__?{}:{MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message;if(e.optimistic||d.default.isSelfDeaf())return!1;var r=l.default.getChannel(t);if(null==r)return!1;var o=t===p.default.getChannelId(),E=y.default.enableTTSCommand&&n.tts&&o,I=f.default.getTTSType(),N=n.author.id!==i.default.getId()&&(I===v.TTSNotificationTypes.ALL_CHANNELS||I===v.TTSNotificationTypes.SELECTED_CHANNEL&&o);if((E||N)&&!c.default.isBlocked(n.author.id)){if(S.indexOf(n.id)>=0)return!1;S.unshift(n.id)>g&&S.pop();var A=r.getGuildId();if(A&&h.default.getMutedChannels(A).has(t))return!1;var O=s.default.getGuild(A),b=u.default.getNick(A,n.author.id)||n.author.username,M=n.content.replace(function(){return _.default.Messages.SPOILER}).replace(/<@!?(\d+)>/g,function(e,t){var n=m.default.getUser(t);return null==n?e:u.default.getNick(A,n.id)||n.username}).replace(/<@&?(\d+)>/g,function(e,t){var n=null!=O?O.roles[t]:null;return null!=n&&null!=n.name?n.name:_.default.Messages.MESSAGE_TTS_DELETED_ROLE}).replace(/<#(\d+)>/g,function(e,t){var n=l.default.getChannel(t);return null==n?e:n.toString()}).replace(/<a?:(\w+):(\d+)>/g,function(e,t){return _.default.Messages.EMOJI+" "+t});T||C(),a.default.speak(_.default.Messages.MESSAGE_TTS.format({username:b,body:M}),T)}return!1},AUDIO_TOGGLE_SELF_DEAF:function(e){d.default.isSelfDeaf()&&a.default.cancelAll()},USER_SETTINGS_UPDATE:function(e){return C()},I18N_LOAD_SUCCESS:function(e){return C()}}),e.exports=t.default},6920:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=D(n(17)),l=D(n(6)),u=D(n(5)),s=D(n(310)),d=n(231),f=D(n(4)),c=D(n(6921)),p=D(n(6922)),h=D(n(43)),y=D(n(153)),m=D(n(91)),v=D(n(155)),_=D(n(323)),E=D(n(6047)),g=D(n(6067)),S=D(n(35)),T=D(n(15)),I=D(n(154)),C=D(n(306)),N=D(n(444)),A=D(n(442)),O=n(224),b=D(n(18)),M=n(109),R=D(n(458)),P=n(0),L=D(n(13)),w=D(n(5553));function D(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=[],F=function(e){function t(){var n,r;U(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=k(this,e.call.apply(e,[this].concat(a))),r.state={fadeIn:!1},r.timeout=null,r.handleDismissInviteEducation=function(){var e=r.props.activity;null!=e&&null!=e.application_id&&c.default.dismissForApplicationId(e.application_id)},k(r,n)}return G(t,e),t.prototype.componentDidMount=function(){var e=this;this.timeout=setTimeout(function(){e.setState({fadeIn:!0}),e.timeout=null,e.logShownEventIfNeeded()},100)},t.prototype.componentDidUpdate=function(){this.logShownEventIfNeeded()},t.prototype.logShownEventIfNeeded=function(){var e=this.props.activity.application_id;null!=e&&-1===x.indexOf(e)&&(b.default.track(P.AnalyticEvents.SHOW_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e}),x.push(e))},t.prototype.componentWillUnmount=function(){null!==this.timeout&&clearTimeout(this.timeout)},t.prototype.render=function(){var e,t=this.props.activity;return o("div",{className:(0,i.default)(w.default.activityInviteEducation,(e={},e[w.default.activityInviteEducationFadeIn]=this.state.fadeIn,e))},void 0,o("div",{className:w.default.activityInviteEducationArrow}),o("span",{},void 0,L.default.Messages.USER_ACTIVITY_CHAT_INVITE_EDUCATION.format({game:t.name,dismissOnClick:this.handleDismissInviteEducation})))},t}(a.PureComponent);F.displayName="ActivityInviteEducation";var j=function(e){function t(n){U(this,t);var r=k(this,e.call(this,n));return r.emphasizeSlowmodeCooldown=function(){var e=r.state.color;s.default.sequence([s.default.timing(e,{toValue:1,duration:100,easing:s.default.Easing.quad}),s.default.timing(e,{delay:250,toValue:0,duration:100,easing:s.default.Easing.quad})]).start()},r.state={color:new s.default.Value(0)},r}return G(t,e),t.prototype.componentDidMount=function(){M.ComponentDispatch.subscribe(P.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},t.prototype.componentWillUnmount=function(){M.ComponentDispatch.unsubscribe(P.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},t.prototype.getCooldownTextStyle=function(){var e=this.props.theme,t=this.state.color,n=P.Colors.WHITE;return e===P.ThemeTypes.LIGHT&&(n=P.Colors.PRIMARY_DARK_500),{color:t.interpolate({inputRange:[0,1],outputRange:[n,(0,d.hex2rgb)(P.Colors.STATUS_RED_500,.9)]})}},t.prototype.render=function(){var e=this,t=this.props,n=t.guildId,r=t.activity,a=t.showInviteEducation,d=t.isFocused,f=t.typingUsers,c=t.className,p=t.slowmodeCooldownGuess,h=t.channel.rateLimitPerUser,v=T.default.getCurrentUser(),_=h>0,E=(0,l.default)(f).keys().filter(function(e){return e!==v.id}).reject(m.default.isBlocked).map(function(e){return T.default.getUser(e)}).filter(function(e){return null!=e}).map(function(t){return R.default.getName(n,e.props.channel.id,t)}).value();if(0===E.length&&!_)return a&&null!=r?o(F,{activity:r,isFocused:d}):null;var g="",S=null,I="";if(_){S=o(C.default,{name:C.default.Names.TIMER,className:w.default.slowModeIcon});var O=y.default.can(P.Permissions.MANAGE_CHANNELS,this.props.channel)||y.default.can(P.Permissions.MANAGE_MESSAGES,this.props.channel);if(h>=P.Durations.HOUR){var b=Math.floor(h/P.Durations.HOUR),M=Math.floor((h-b*P.Durations.HOUR)/P.Durations.MINUTE),D=h-b*P.Durations.HOUR-M*P.Durations.MINUTE;I=L.default.Messages.CHANNEL_SLOWMODE_DESC_HOURS.format({hours:b,minutes:M,seconds:D})}else if(h>=60){var U=Math.floor(h/60),k=h-60*U;I=L.default.Messages.CHANNEL_SLOWMODE_DESC_MINUTES.format({minutes:U,seconds:k})}else I=L.default.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:h});if(!O&&p>0){var G=u.default.duration(p);if(p>1e3*P.Durations.HOUR){var x=(""+G.minutes()).padStart(2,"0"),j=(""+G.seconds()).padStart(2,"0");g=G.hours()+":"+x+":"+j}else{var B=(""+G.seconds()).padStart(2,"0");g=G.minutes()+":"+B}}else 0===E.length&&(g=O?L.default.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:L.default.Messages.CHANNEL_SLOWMODE_DESC_SHORT)}var H=E[0],V=E[1],Y=E[2],W=void 0;return W=0===E.length?"":1===E.length?L.default.Messages.ONE_USER_TYPING.format({a:H}):2===E.length?L.default.Messages.TWO_USERS_TYPING.format({a:H,b:V}):3===E.length?L.default.Messages.THREE_USERS_TYPING.format({a:H,b:V,c:Y}):L.default.Messages.SEVERAL_USERS_TYPING,o("div",{className:(0,i.default)(w.default.typing,{"stop-animation":!d},c)},void 0,E.length>0&&o(N.default,{type:N.default.Type.PULSING_ELLIPSIS,className:w.default.ellipsis,itemClassName:w.default.spinnerItem}),o("span",{className:w.default.text},E.length,W),_&&o(s.default.div,{style:this.getCooldownTextStyle(),className:w.default.cooldownWrapper},void 0,g,o(A.default,{text:I},void 0,S)))},t}(a.PureComponent);j.displayName="TypingUsers",t.default=f.default.connectStores([E.default,g.default,I.default,v.default,_.default,y.default,h.default,p.default,S.default],function(e){var t=e.channel,n=_.default.getPrimaryActivity();return{showInviteEducation:(0,O.shouldShowActivityInviteEducation)(t,n,p.default,y.default,h.default),activity:n,typingUsers:g.default.getTypingUsers(t.id),isFocused:I.default.isFocused(),guildId:v.default.getGuildId(),slowmodeCooldownGuess:E.default.getSlowmodeCooldownGuess(t.id),theme:S.default.theme}})(j),e.exports=t.default},6921:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(1)),o=i(n(18)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={dismissForApplicationId:function(e){r.default.dispatch({type:a.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,key:e,value:!0}),o.default.track(a.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e,acknowledged:!0})}},e.exports=t.default},6922:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldShowEducation=function(e){return!0!==this.get(e)},t}(r.default.CachedStore);t.default=new l(o.default,"ActivityInviteEducationExperimentStore",a.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,{}),e.exports=t.default},6923:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(306)),l=n(0),u=d(n(13)),s=d(n(5805));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.isCondensed;return o("div",{className:s.default.container},void 0,o("div",{className:s.default.backgroundBlur}),o("div",{className:s.default.containerInner},void 0,o(i.default,{name:i.default.Names.CAMERA_OFF,className:s.default.icon,color:l.Colors.WHITE,width:32,height:32}),o("div",{className:s.default.title},void 0,u.default.Messages.VIDEO_POOR_CONNECTION_TITLE),!e&&o("div",{className:s.default.body},void 0,u.default.Messages.VIDEO_POOR_CONNECTION_BODY)))},t}(a.PureComponent);f.defaultProps={isCondensed:!1},f.displayName="PoorConnection",t.default=f,e.exports=t.default},6924:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(5979)),l=d(n(152)),u=d(n(5361)),s=d(n(5807));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.avatarSize,n=e.user,r=e.style,a=n.getAvatarURL();return null==a?null:o(l.default,{style:r,className:s.default.background,justify:l.default.Justify.CENTER,align:l.default.Align.CENTER},void 0,o("div",{className:s.default.backgroundBlur,style:{backgroundImage:"url('"+a+"')"}}),o("div",{className:s.default.backgroundBlurOverlay}),o(i.default,{className:u.default.elevationHigh,size:t,src:a}))},t}(a.PureComponent);f.AvatarSizes=i.default.Sizes,f.displayName="VideoBackground",t.default=f,e.exports=t.default},6925:function(e,t,n){e.exports=n.p+"c9f51873ae719a6b4b8c6724362e999e.png"},6926:function(e,t,n){e.exports=n.p+"7beab7b17eaa9ff7ceed3e5b1af274c2.png"},6927:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},6928:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},6929:function(e,t,n){e.exports=n.p+"7fa2adf98f26db34178bb30a63dabe8c.png"},6930:function(e,t,n){e.exports=n.p+"a92f116201fa7ff2b4acbb39f144ec60.png"},6931:function(e,t,n){e.exports=n.p+"f23c5c28c4429691f7c54af93876d661.png"},6932:function(e,t,n){e.exports=n.p+"3a79cdd1d4af225247f2ba574b97ae78.png"},6933:function(e,t,n){e.exports=n.p+"64f37efd5319b9b581557604864f042a.png"},6934:function(e,t,n){e.exports=n.p+"92cd1f9eabd48ec32dc2ecef617f706b.png"},6935:function(e,t,n){e.exports=n.p+"3a3ec02f3c9193e85bda10f5d2a42574.png"},6936:function(e,t,n){e.exports=n.p+"1d8d4e2b3fd0e542b6d37cbfa156d55e.png"},6937:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6938:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6939:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6940:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6941:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(452)),l=n(307),u=v(n(6547)),s=v(n(46)),d=v(n(15)),f=v(n(9)),c=v(n(225)),p=v(n(5981)),h=v(n(5977)),y=v(n(6166)),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=_(this,e.call.apply(e,[this].concat(a))),r.handleChangeWindows=function(){var e=r.props.channel;u.default.open(e),(0,l.closeContextMenu)()},r.handleStop=function(){i.default.setDesktopSource(null),(0,l.closeContextMenu)()},r.handleVolumeChange=function(e){i.default.setSoundshareVolume(e)},r.handleStreamGame=function(){var e=r.props.game;if(null!=e){var t=f.default.getDesktopSourceFromPid(e.pid),n=d.default.getCurrentUser();i.default.setDesktopSource(t,720,c.default.canUseHigherFramerate(n)?60:30,!0),(0,l.closeContextMenu)()}else r.handleChangeWindows()},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.game,a=void 0;if(null!=r&&(a=o(h.default,{label:m.default.Messages.SCREENSHARE_STREAM_GAME.format({gameName:r.name}),action:this.handleStreamGame})),!s.default.isScreenSharing())return o("div",{className:t,style:n},void 0,o(p.default,{},void 0,a,o(h.default,{label:m.default.Messages.SCREENSHARE_SHARE_SCREEN_OR_WINDOW,action:this.handleChangeWindows})));var i=void 0;return s.default.isSoundSharing()&&(i=o(p.default,{},void 0,o(y.default,{label:m.default.Messages.FORM_LABEL_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:function(e){return e.toFixed(0)+"%"},defaultValue:s.default.getSoundshareVolume()}))),o("div",{className:t,style:n},void 0,i,o(p.default,{},void 0,a,o(h.default,{label:m.default.Messages.SCREENSHARE_CHANGE_WINDOWS,action:this.handleChangeWindows}),o(h.default,{label:m.default.Messages.SCREENSHARE_STOP,action:this.handleStop,danger:!0})))},t}(a.PureComponent);E.displayName="ScreenshareContextMenu",t.default=E,e.exports=t.default},6942:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=l(n(80)),i=l(n(7699));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleDismiss=r.handleDismiss.bind(r),r.handleConfirm=r.handleConfirm.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.createElement(i.default,r({},this.props,{onConfirm:this.handleConfirm,onDismiss:this.handleDismiss}))},t.prototype.close=function(){a.default.pop()},t.prototype.handleConfirm=function(){var e=this.props.onConfirm;this.close(),e&&e()},t.prototype.handleDismiss=function(){var e=this.props.onDismiss;this.close(),e&&e()},t}(o.PureComponent);u.displayName="VideoDevicesWarningModal",t.default=u,e.exports=t.default},6943:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(4)),l=n(6053),u=f(n(860)),s=f(n(5982)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toggleCollapse=function(){var e=this.props,t=e.collapsed,n=e.channel.id;t?(0,l.categoryExpand)(n):(0,l.categoryCollapse)(n)},t.prototype.render=function(){var e=this,t=this.props.collapsed;return o(s.default,{label:d.default.Messages.COLLAPSE_CATEGORY,action:function(){return e.toggleCollapse()},active:t})},t}(a.PureComponent);c.displayName="CategoryToggleCollapse",t.default=i.default.connectStores([u.default],function(e){var t=e.channel;return{collapsed:u.default.isCollapsed(t.id)}})(c),e.exports=t.default},6944:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=n(5989),u=d(n(5977)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleChannelTopicCopy=function(){(0,l.copy)(r.props.channel.topic),(0,i.closeContextMenu)()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return l.SUPPORTS_COPY?o(u.default,{label:s.default.Messages.COPY_CHANNEL_TOPIC,action:this.handleChannelTopicCopy}):null},t}(a.PureComponent);c.displayName="ChannelCopyTopicItem",t.default=c,e.exports=t.default},6945:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=T(n(308)),u=T(n(309)),s=T(n(443)),d=T(n(4)),f=T(n(6150)),c=n(307),p=T(n(80)),h=n(131),y=T(n(153)),m=T(n(129)),v=T(n(5981)),_=T(n(5977)),E=T(n(447)),g=n(0),S=T(n(13));function T(e){return e&&e.__esModule?e:{default:e}}var I=(0,l.default)({displayName:"ChannelDeleteGroup",mixins:[s.default],propTypes:{channel:u.default.object.isRequired},render:function(){var e=this.props.channel;if(!y.default.can(g.Permissions.MANAGE_CHANNELS,e)||(0,h.isGuildSelectableChannelType)(e.type)&&!y.default.can(g.Permissions.VIEW_CHANNEL,e)||e.type===g.ChannelTypes.GUILD_VOICE&&!y.default.can(g.Permissions.CONNECT,e))return null;var t=e.type===g.ChannelTypes.GUILD_CATEGORY?S.default.Messages.DELETE_CATEGORY:S.default.Messages.DELETE_CHANNEL;return a(v.default,{},void 0,a(_.default,{label:t,action:this.handleChannelDelete,danger:!0}))},handleChannelDelete:function(){var e=this;(0,c.closeContextMenu)();var t=this.props.channel.type===g.ChannelTypes.GUILD_CATEGORY?S.default.Messages.DELETE_CATEGORY:S.default.Messages.DELETE_CHANNEL;p.default.push(function(n){return i.createElement(E.default,o({header:S.default.Messages.DELETE_SERVER_TITLE.format({name:e.props.channel.toString()}),confirmText:t,cancelText:S.default.Messages.CANCEL,onConfirm:e.handleConfirmChannelDelete},n),a(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,S.default.Messages.DELETE_SERVER_BODY.format({name:e.props.channel.toString(!0)})))})},handleConfirmChannelDelete:function(){f.default.deleteChannel(this.props.channel.id)}});t.default=d.default.connectStores([y.default],function(e){var t=e.channel;return{permissions:y.default.getChannelPermissions(t.id)}})(I),e.exports=t.default},6946:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),m(n(308))),i=m(n(309)),l=m(n(443)),u=m(n(4)),s=m(n(6150)),d=n(307),f=n(131),c=m(n(153)),p=m(n(5977)),h=n(0),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"ChannelEditItem",mixins:[l.default],propTypes:{channel:i.default.object.isRequired},render:function(){if(__OVERLAY__)return null;var e=this.props.channel;if(!c.default.can(h.Permissions.MANAGE_CHANNELS,e)&&!c.default.can(h.Permissions.MANAGE_ROLES,e)&&!c.default.can(h.Permissions.MANAGE_WEBHOOKS,e))return null;if((0,f.isGuildSelectableChannelType)(e.type)&&!c.default.can(h.Permissions.VIEW_CHANNEL,e)||e.type===h.ChannelTypes.GUILD_VOICE&&!c.default.can(h.Permissions.CONNECT,e))return null;var t=y.default.Messages.EDIT_CHANNEL;return e.type===h.ChannelTypes.GUILD_CATEGORY&&(t=y.default.Messages.EDIT_CATEGORY),o(p.default,{label:t,action:this.handleChannelEdit})},handleChannelEdit:function(){var e=this.props.channel;(0,d.closeContextMenu)(),s.default.open(e.id)}});t.default=u.default.connectStores([c.default],function(e){var t=e.channel;return{permissions:c.default.getChannelPermissions(t.id)}})(v),e.exports=t.default},6947:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),E(n(308))),i=E(n(309)),l=E(n(443)),u=E(n(4)),s=n(307),d=E(n(6181)),f=E(n(80)),c=E(n(153)),p=n(229),h=E(n(5981)),y=E(n(5977)),m=E(n(6019)),v=n(0),_=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}var g=(0,a.default)({displayName:"ChannelInviteCreateGroup",mixins:[l.default],propTypes:{channel:i.default.object.isRequired,guild:i.default.object.isRequired,type:i.default.string.isRequired},render:function(){var e=this.props,t=e.type,n=e.channel,r=e.guild,a=void 0;c.default.can(v.Permissions.CONNECT,n)&&(0,p.canViewInviteModal)(r,n)&&(a=o(y.default,{label:_.default.Messages.INSTANT_INVITE,action:this.openInviteModal}));var i=void 0,l=void 0,u=void 0;return!__OVERLAY__&&c.default.can(v.Permissions.MANAGE_CHANNELS,this.props.guild)&&t!==v.ContextMenuTypes.CHANNEL_LIST_STORE&&(t!==v.ContextMenuTypes.CHANNEL_LIST_VOICE&&(i=o(y.default,{label:_.default.Messages.CREATE_TEXT_CHANNEL,action:this.handleTextChannelCreate})),t!==v.ContextMenuTypes.CHANNEL_LIST_TEXT&&(l=o(y.default,{label:_.default.Messages.CREATE_VOICE_CHANNEL,action:this.handleVoiceChannelCreate})),u=o(y.default,{label:_.default.Messages.CLONE_CHANNEL,action:this.handleCloneCreate})),o(h.default,{},void 0,a,u,i,l)},openInviteModal:function(){(0,s.closeContextMenu)();var e=this.props,t=e.guild,n=e.channel;f.default.push(m.default,{guild:t,channel:n,source:v.InstantInviteSources.CONTEXT_MENU})},handleCloneCreate:function(){var e=this.props,t=e.channel,n=t.id,r=t.type,o=t.parent_id,a=e.guild.id;(0,s.closeContextMenu)(),d.default.open(r,a,o,n)},handleVoiceChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,s.closeContextMenu)(),d.default.open(v.ChannelTypes.GUILD_VOICE,n,t,null)},handleTextChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,s.closeContextMenu)(),d.default.open(v.ChannelTypes.GUILD_TEXT,n,t,null)}});t.default=u.default.connectStores([c.default],function(e){var t=e.guild;return{permissionVersion:c.default.getGuildVersion(t.id)}})(g),e.exports=t.default},6948:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=n(834),u=f(n(45)),s=f(n(5977)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleJumpToChannel=r.handleJumpToChannel.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(s.default,{label:d.default.Messages.JUMP_TO_CHANNEL,action:this.handleJumpToChannel})},t.prototype.handleJumpToChannel=function(){var e=this.props,t=e.channel,n=e.guild;u.default.transitionToGuild(n.id,t.id),(0,i.closeContextMenu)(),(0,l.popLayer)()},t}(a.PureComponent);c.displayName="ChannelJumpToItem",t.default=c,e.exports=t.default},6949:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=n(6090),u=f(n(5977)),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.handleMarkAsRead=function(){var e=r.props,t=e.type,n=e.channelId;(0,i.closeContextMenu)(),t===s.ChannelTypes.GUILD_CATEGORY?(0,l.ackCategory)(n,!0,!0):(0,l.ack)(n,!0,!0)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this;return o(u.default,{label:d.default.Messages.MARK_AS_READ,action:function(){return e.handleMarkAsRead()},disabled:!this.props.hasUnread})},t}(a.PureComponent);p.displayName="ChannelMarkReadItem",t.default=p,e.exports=t.default},6950:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(308))),i=p(n(309)),l=p(n(443)),u=p(n(4)),s=p(n(6402)),d=p(n(6550)),f=p(n(5982)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"ChannelToggleVisibilityItem",mixins:[u.default.LazyStoreListenerMixin(d.default),l.default],propTypes:{channelId:i.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCollapsed:d.default.isCollapsed(this.props.channelId)}},render:function(){return __OVERLAY__?null:o(f.default,{label:c.default.Messages.VOICE_CHANNEL_HIDE_NAMES,action:this.handleChannelToggle,active:this.state.isCollapsed})},handleChannelToggle:function(){s.default.update(this.props.channelId)}});t.default=h,e.exports=t.default},6951:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(17)),u=v(n(5980)),s=(v(n(135)),v(n(5979))),d=v(n(152)),f=v(n(827)),c=v(n(6003)),p=v(n(6026)),h=v(n(5353)),y=n(0),m=v(n(5818));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){var t,n=e.className,r=e.user,u=e.status,v=e.onContextMenu,_=e.onPopoutClose,E=e.onPopoutOpen,g=e.analyticsContext,S={location:a({},g.location,{object:y.AnalyticsObjects.LIST_ITEM})};return o(f.default,{render:function(e){return i.createElement(h.default,a({},e,{user:r,analyticsParams:S}))},position:f.default.Positions.LEFT,closeOnScroll:!1,onClose:_,onOpen:E},void 0,o(d.default,{align:d.default.Align.CENTER,className:(0,l.default)(m.default.memberListItem,n),onContextMenu:v},void 0,o(s.default,{src:r.getAvatarURL(),className:m.default.avatar,statusClassName:m.default.avatarStatus,imageClassName:(0,l.default)(m.default.avatar,(t={},t[m.default.avatarMask]=null!=u,t)),status:u}),o(c.default,{className:m.default.memberListItemTag},void 0,o(p.default,{user:r,hideDiscriminator:!0}))))};_.displayName="UserListItem",t.default=(0,u.default)(_),e.exports=t.default},6952:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(4)),u=h(n(832)),s=h(n(35)),d=h(n(6403)),f=h(n(313));n(0);var c=h(n(13)),p=h(n(5557));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=y(this,e.call.apply(e,[this].concat(i))),r.scroller=a.createRef(),r.handleDisagree=function(){var e=r.props.guild;u.default.nsfwDisagree(e.id)},r.handleAgree=function(){var e=r.props.guild;u.default.nsfwAgree(e.id)},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.scroller.current;null!=e&&e.scrollToBottom()},t.prototype.render=function(){return a.createElement(f.default,{ref:this.scroller,className:p.default.scrollerSettings,outerClassName:p.default.scrollWrap},o("div",{className:(0,i.default)("theme-"+this.props.theme,this.props.className,p.default.wrapper)},void 0,o(d.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:c.default.Messages.NSFW_TITLE,description:c.default.Messages.NSFW_DESCRIPTION,agreement:c.default.Messages.NSFW_ACCEPT,disagreement:c.default.Messages.NSFW_DECLINE})))},t}(a.PureComponent);m.displayName="GuildNSFW",t.default=l.default.connectStores([s.default],function(){return{theme:s.default.theme}})(m),e.exports=t.default},6953:function(e,t,n){"use strict";var r;t.__esModule=!0,t.APPLICATION_STORE_LAYOUT=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(6551),i=n(6168),l=n(0);t.APPLICATION_STORE_LAYOUT=o({},i.DEFAULT_LAYOUT,((r={})[l.KeybindActions.CAROUSEL_NEXT]=a.CAROUSEL_NEXT,r[l.KeybindActions.CAROUSEL_PREV]=a.CAROUSEL_PREV,r))},6954:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(83)),u=n(223),s=h(n(5980)),d=h(n(18)),f=h(n(6955)),c=h(n(6960)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r._applicationIdsViewed=new Set,r._skuIdsViewed=new Set,r.handleSKUViewed=function(e){r._applicationIdsViewed.add(e.applicationId),r._skuIdsViewed.add(e.id)},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.location,n=e.analyticsContext,r=null!=t.search?l.default.parse(t.search.slice(1)):null;d.default.track(p.AnalyticEvents.STORE_DIRECTORY_VIEWED,{load_id:n.loadId,source:null!=t.state?t.state.analyticsSource:p.DIRECT_ANALYTICS_LOCATION,location:n.location.page,utm_campaign_current:null!=r?r.utm_campaign_current:null})},t.prototype.componentWillUnmount=function(){var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;if(null==n)throw new Error("loadDate was null during unmount");d.default.track(p.AnalyticEvents.STORE_DIRECTORY_EXITED,{load_id:t,duration_ms:Date.now()-n,application_ids_viewed:Array.from(this._applicationIdsViewed),sku_ids_viewed:Array.from(this._skuIdsViewed)})},t.prototype.render=function(){var e=this,t=this.props,n=t.scrollTo,r=t.getScrollTop;return a(u.Switch,{},void 0,a(u.Route,{path:p.Routes.APPLICATION_STORE,exact:!0,render:function(t){return i.createElement(c.default,o({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}),a(u.Route,{path:p.Routes.APPLICATION_STORE_BROWSE,render:function(t){return i.createElement(f.default,o({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}))},t}(i.Component);m.displayName="ApplicationStoreDirectory",t.default=(0,s.default)(m),e.exports=t.default},6955:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=B(n(5)),l=B(n(83)),u=B(n(462)),s=B(n(4)),d=B(n(1)),f=n(6350),c=n(6349),p=n(6032),h=B(n(830)),y=B(n(5980)),m=B(n(6129)),v=(B(n(6077)),B(n(90))),_=B(n(35)),E=B(n(6235)),g=B(n(179)),S=B(n(5999)),T=B(n(152)),I=B(n(313)),C=B(n(6441)),N=B(n(6068)),A=B(n(444)),O=B(n(18)),b=n(109),M=n(863),R=B(n(45)),P=n(6004),L=B(n(477)),w=n(6239),D=B(n(6101)),U=B(n(5983)),k=B(n(6351)),G=B(n(6553)),x=n(0),F=B(n(13)),j=B(n(5565));function B(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var V=function(e){var t=e.label,n=e.options,r=e.value,a=e.onChange,i=e.onOpen,l=e.onClose;return o("div",{className:j.default.filterBrowsing},void 0,o("label",{},void 0,t),o(N.default,{className:j.default.filterBrowsingSelectValue,popoutClassName:j.default.filterBrowsingSelectPopout,look:N.default.Looks.MINIMAL,options:n,value:r,onChange:a,onOpen:i,onClose:l}))};V.displayName="FilterItem";var Y=(0,i.default)(new Date(0)),W=function(e){var t=g.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},K=function(e,t){var n=W(e),r=W(t);return n.name.localeCompare(r.name,"en",{sensitivity:"base"})},z=function(e,t){return K(t,e)},$=function(e,t){var n=W(e),r=W(t),o=n.releaseDate,a=r.releaseDate,i=Date.now();return(null==o||o.isAfter(i))&&(o=Y),(null==a||a.isAfter(i))&&(a=Y),o.isAfter(a)?-1:o.isBefore(a)?1:K(e,t)},q=(0,M.cachedFunction)(function(e){for(var t=new Set,n=0;n<e.length;n++){var r=g.default.get(e[n]);null!=r&&null!=r.genres&&r.genres.size>0&&Array.from(r.genres).forEach(function(e){return t.add(e)})}var o=Array.from(t).map(function(e){return{label:(0,P.getGenreText)(e),value:e}}).sort(function(e,t){return"string"!=typeof e.label||"string"!=typeof t.label?0:e.label.localeCompare(t.label)});return o.unshift({label:F.default.Messages.APPLICATION_STORE_FILTER_ALL_GENRES,value:x.StoreApplicationGenresFilter.ALL}),o}),X=o(G.default,{}),Q=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=H(this,e.call.apply(e,[this].concat(i))),r.scrollerRef=a.createRef(),r.searchBoxRef=a.createRef(),r._popoutCount=0,r.getFiltersQueryObject=function(e){var t=r.props.filters,n=e&&null!=e.q?e.q:t.q,o=e&&null!=e.sort?e.sort:t.sort,a=e&&null!=e.genre?e.genre:t.genre;return{q:n,sort:o,genre:(0,P.getGenreURLSlugFromId)(a)}},r.trackFilterUpdated=function(e){O.default.track(x.AnalyticEvents.STORE_DIRECTORY_FILTER_UPDATED,{load_id:r.props.analyticsContext.loadId,filter:e})},r.filterByGenre=function(e){var t=e.value;r.trackFilterUpdated(t),r.updateUrlWithFilters({genre:t},{persistForBackButton:!0})},r.sortByApplicationOrder=function(e){var t=e.value;r.updateUrlWithFilters({sort:t},{persistForBackButton:!0})},r.filterByTitle=function(e){r.updateUrlWithFilters({q:e})},r.focusInput=function(){var e=r.searchBoxRef;null!=e.current&&e.current.focus()},r.handlePopoutOpen=function(){r._popoutCount+=1},r.handlePopoutClose=function(){r._popoutCount=Math.max(0,r._popoutCount-1)},r.handleScroll=function(){r._popoutCount>0&&h.default.closeAll()},r.getSortedSkuIds=function(e,t){switch(t){case x.StoreApplicationSort.NEW_RELEASES:return e.allSkuIds.sort($);case x.StoreApplicationSort.ALPHABETICAL:return e.allSkuIds.sort(K);case x.StoreApplicationSort.REVERSE_ALPHABETICAL:return e.allSkuIds.sort(z);default:return e.allSkuIds}},r.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=r.props.scrollTo)r.props.scrollTo(e,t);else{var n=r.scrollerRef.current;null!=n&&n.scrollTo(e,t)}},r.getScrollTop=function(){return null!=r.props.getScrollTop?r.props.getScrollTop():null!=r.scrollerRef.current?r.scrollerRef.current.getScrollData().scrollTop:0},r.handleToggleHideLibraryApplications=function(e,t){(0,f.setHideLibraryGames)(t)},r.handleFilterTitleChange=function(e){r.filterByTitle(e)},r.reset=function(){r.filterByTitle("")},H(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.filters,n=e.location.search,r=this.getFiltersQueryObject({});L.default.formatSearch(r)!==n&&R.default.replaceWith(L.default.formatPathWithQuery(x.Routes.APPLICATION_STORE_BROWSE,r)),(0,w.deepLinkRouteIfLandedAndNotAuthed)(x.RPCDeepLinks.STORE_BROWSE,t),b.ComponentDispatch.subscribe(x.ComponentActions.FOCUS_SEARCH,this.focusInput);var o=this.props,a=o.lastDirectoryScrollTop,i=o.directoryLayoutId,l=o.shouldFetchDirectoryLayout;null!=a&&this.scrollTo(a),l&&d.default.wait(function(){(0,f.loadDirectory)(i)});var u=this.props,s=u.location,c=u.analyticsContext.loadId;O.default.track(x.AnalyticEvents.STORE_DIRECTORY_BROWSE_VIEWED,{source:null!=s.state?s.state.analyticsSource:x.DIRECT_ANALYTICS_LOCATION,load_id:c})},t.prototype.componentWillUnmount=function(){var e=this;d.default.wait(function(){b.ComponentDispatch.unsubscribe(x.ComponentActions.FOCUS_SEARCH,e.focusInput),(0,c.handleDirectoryUnmount)(e.getScrollTop(),x.DirectoryLocations.BROWSE),(0,f.saveFilters)(e.getFiltersQueryObject()),(0,p.muteStoreDirectory)()})},t.prototype.updateUrlWithFilters=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).persistForBackButton,n=L.default.formatPathWithQuery(x.Routes.APPLICATION_STORE_BROWSE,this.getFiltersQueryObject(e));t?R.default.transitionTo(n):R.default.replaceWith(n)},t.prototype.renderListings=function(){var e=this.props,t=e.directoryLayout,n=e.isLibraryApplicationsHidden,r=e.filters,i=r.sort,l=r.genre,u=r.q,s=e.onSKUViewed,d=e.isFetchingDirectoryLayout;if(null==t)return d?this.renderLoading():null;var f={titleQuery:null!=u&&u.length>=3?u:null,hideApplicationsInUserLibrary:n,genre:l,premiumOnly:!0};return a.createElement(I.default,{ref:this.scrollerRef,track:!0,onScroll:this.handleScroll,gutterStyle:I.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0},o("div",{className:j.default.filterBackground},void 0,o("h2",{className:j.default.browseTitle},void 0,F.default.Messages.APPLICATION_STORE_NAVIGATION_BROWSE_PREMIUM),o(U.default,{section:x.AnalyticsSections.HERO},void 0,this.renderFilters())),o(U.default,{section:x.AnalyticsSections.BODY},void 0,o("div",{className:j.default.browse},void 0,o(k.default,{className:j.default.applications,viewConfig:f,skuIds:this.getSortedSkuIds(t,i),analyticsSort:i,onSKUViewed:s}))))},t.prototype.renderLoading=function(){return o(T.default,{align:T.default.Align.CENTER,justify:T.default.Justify.CENTER},void 0,o(A.default,{className:j.default.spinner}))},t.prototype.renderFilterByGenre=function(){var e=this.props,t=e.directoryLayout,n=e.filters.genre;if(null==t)return null;var r=q(t.allSkuIds);return o(V,{label:F.default.Messages.APPLICATION_STORE_BROWSE_BY_GENRE_LABEL,options:r,value:n,onChange:this.filterByGenre,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilterByTitle=function(){var e=this.props.filters.q;return a.createElement(C.default,{searchTerm:e,className:j.default.filterByTitle,inputClassName:j.default.filterByTitleInput,label:F.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,placeholder:F.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,onChange:this.handleFilterTitleChange,onClear:this.reset,autoFocus:null!=e&&e.length>0,ref:this.searchBoxRef})},t.prototype.renderSortBy=function(){var e=this.props.filters.sort;return o(V,{label:F.default.Messages.APPLICATION_STORE_SORT_BY,options:[{label:F.default.Messages.APPLICATION_STORE_BROWSE_SORT_NEW_RELEASES,value:x.StoreApplicationSort.NEW_RELEASES},{label:F.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_ALPHABETICAL,value:x.StoreApplicationSort.ALPHABETICAL},{label:F.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_REVERSE_ALPHABETICAL,value:x.StoreApplicationSort.REVERSE_ALPHABETICAL}],value:e,onChange:this.sortByApplicationOrder,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilters=function(){var e=this.props,t=e.isLibraryApplicationsHidden,n=e.libraryApplicationsSize,r=e.isAuthenticated,a=e.theme;return o("header",{className:j.default.filters},void 0,o("div",{className:j.default.filterBrowsingHeaderWrapper},void 0,this.renderFilterByTitle()),o("div",{className:j.default.sortFilterBar},void 0,o("div",{className:j.default.filterAndSort},void 0,this.renderFilterByGenre(),this.renderSortBy()),r?o(S.default,{className:j.default.hideGames,value:t,onChange:this.handleToggleHideLibraryApplications,type:a===x.ThemeTypes.DARK?S.default.Types.INVERTED:S.default.Types.DEFAULT,reverse:!0},void 0,t?F.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY_HIDDEN.format({gamesHidden:n}):F.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY):null))},t.prototype.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=l.default.parse(n.search.slice(1)),a=null!=r.genre?(0,P.getGenreIdFromURLSlug)(r.genre):null,i=null!=a&&-1!==a?(0,P.getGenreText)(a):null,s=null!=i?F.default.Messages.APPLICATION_STORE_GENRE_TITLE.format({genre:i}):"Discord";return o("div",{className:j.default.browseWrapper},void 0,o(u.default,{title:s}),o(D.default,{title:X,isAuthenticated:t}),this.props.isFetchingDirectoryLayout?this.renderLoading():this.renderListings())},t}(a.PureComponent);function J(e,t,n){return new Set(Object.values(t)).has(e)?e:n}Q.displayName="ApplicationStoreBrowse";var Z=(0,m.default)((0,y.default)(Q));t.default=s.default.connectStores([E.default,v.default,_.default],function(e){var t=e.location,n=null==t.state||!1!==t.state.scrollRestoration,r=E.default.lastBrowseDirectoryView,o=t.search.slice(1),a=0!==o.length?l.default.parse(o):E.default.previousFilters,i=null!=a.genre?(0,P.getGenreIdFromURLSlug)(a.genre):null;return{directoryLayoutId:x.STORE_DIRECTORY_LAYOUT_ID,directoryLayout:E.default.getDirectoryLayout(x.STORE_DIRECTORY_LAYOUT_ID),shouldFetchDirectoryLayout:E.default.shouldFetch(x.STORE_DIRECTORY_LAYOUT_ID),isFetchingDirectoryLayout:E.default.isFetching(x.STORE_DIRECTORY_LAYOUT_ID),lastDirectoryScrollTop:null!=r&&n&&r.scrollTop,isLibraryApplicationsHidden:E.default.isLibraryApplicationsHidden,filters:{q:a.q,sort:J(a.sort,x.StoreApplicationSort,x.StoreApplicationSort.NEW_RELEASES),genre:J(i,x.StoreApplicationGenresFilter,x.StoreApplicationGenresFilter.ALL)},libraryApplicationsSize:Object.keys(v.default.getAllLibraryApplications()).length,theme:_.default.theme}})(Z),e.exports=t.default},6956:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),y(n(17))),i=(y(n(840)),y(n(868)),y(n(128))),l=y(n(6335)),u=y(n(6336)),s=y(n(6174)),d=n(6004),f=n(133),c=y(n(6024)),p=n(6044),h=y(n(5558));function y(e){return e&&e.__esModule?e:{default:e}}var m=o(p.InLibraryPrice,{}),v=function(e){var t=e.sku,n=e.storeListing,r=e.playing,p=e.muted,y=e.inLibrary,v=e.showMediaPlaceholder,_=e.onToggleMute,E=e.isMouseOver,g=e.className,S=e.showBuyInline||!t.requiresPayment,T=E&&r,I=S&&!y&&E&&r;return o("div",{className:(0,a.default)(h.default.tileMedia,g)},void 0,o(s.default,{className:h.default.splashContainer,video:null!=n.previewVideo?(0,f.getAssetURL)(t.applicationId,n.previewVideo):null,image:null!=n.boxArt?(0,f.getAssetURL)(t.applicationId,n.boxArt,600):null!=n.thumbnail?(0,f.getAssetURL)(t.applicationId,n.thumbnail,600):null,title:t.name,playing:r,muted:p,placeholder:v,onToggleMute:_,renderMediaOverlay:function(e){var n,r,s,f,p,v;return o("div",{},void 0,o("div",{className:(0,a.default)(h.default.mediaFade,(n={},n[h.default.mediaFadePlaying]=e,n))}),o("div",{className:(0,a.default)(h.default.details,(r={},r[h.default.detailsPlaying]=e,r))},void 0,o("h2",{className:h.default.gameTitle},void 0,t.name),o("div",{className:h.default.genres},void 0,Array.from(t.genres).map(function(e){return o("span",{className:h.default.genreTag},e,(0,d.getGenreText)(e))})),S?o("div",{className:(0,a.default)(h.default.tileOwnership,(s={},s[h.default.tileOwnershipVisible]=T,s))},void 0,y?m:o(c.default,{skuId:t.id,applicationId:t.applicationId,size:i.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:(0,a.default)(h.default.tileBuyButton,(f={},f[h.default.tileBuyButtonVisible]=I,f))})):null),t.exclusive?o(l.default,{className:(0,a.default)(h.default.exclusiveMedia,(p={},p[h.default.exclusivePlaying]=e,p))}):t.isTheGameAwardsWinner?o(u.default,{className:(0,a.default)(h.default.exclusiveMedia,(v={},v[h.default.exclusivePlaying]=e,v))}):null)}}))};v.displayName="ApplicationTileFullMedia",t.default=v,e.exports=t.default},6957:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(17)),u=n(223),s=S(n(4)),d=S(n(5980)),f=S(n(15)),c=S(n(128)),p=S(n(6174)),h=S(n(18)),y=S(n(225)),m=n(133),v=S(n(6958)),_=S(n(6959)),E=n(0),g=S(n(5561));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=T(this,e.call.apply(e,[this].concat(i))),r.trackLinkClicked=function(){var e=r.props,t=e.tileData.skuId,n=e.analyticsContext;t===E.PREMIUM_ROUTE_HASH&&h.default.track(E.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:a({},n.location,{object:E.AnalyticsObjects.CARD,objectType:E.AnalyticsObjectTypes.PERK})})},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPerkLocation=function(){var e=this.props,t=e.index,n=e.analyticsContext.location,r=e.tileData.skuId,o={analyticsProperties:{list_index:t},analyticsSource:{object:E.AnalyticsObjects.CARD,objectType:E.AnalyticsObjectTypes.PERK,page:n.page,section:n.section}};return r===E.PREMIUM_ROUTE_HASH?{hash:E.PREMIUM_ROUTE_HASH,state:o}:(0,m.getStoreListingLocation)(r,a({},o))},t.prototype.renderActions=function(){var e,t,n=this.props,r=n.isMouseOver,a=n.isUserPremium,i=n.tileData.skuId;return o("div",{className:g.default.tags},void 0,o(_.default,{className:(0,l.default)(g.default.perkTag,(e={},e[g.default.perkTagHidden]=!a&&r,e))}),a?null:o(v.default,{skuId:i,size:c.default.Sizes.SMALL,className:(0,l.default)(g.default.tileBuyButton,(t={},t[g.default.tileBuyButtonVisible]=r,t))}))},t.prototype.renderMedia=function(){var e=this.props,t=e.playing,n=e.muted,r=e.showMediaPlaceholder,a=e.onToggleMute,i=e.tileData,l=i.name,u=i.video,s=i.image;return o(p.default,{className:g.default.splashContainer,video:u,image:s,placeholder:r,title:l,playing:t,muted:n,onToggleMute:a,splashClassName:g.default.splashVideo,splashPlaceholderClassName:g.default.splashPlaceholder})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.tileData,r=n.name,a=n.tagline,i=e.onMouseEnter,s=e.onMouseLeave;return o(u.Link,{className:(0,l.default)(g.default.tile,t),to:this.getPerkLocation(),onClick:this.trackLinkClicked,onMouseEnter:i,onMouseLeave:s},void 0,o("div",{className:g.default.media},void 0,this.renderMedia()),o("div",{className:g.default.description},void 0,o("h2",{className:g.default.title},void 0,r),o("div",{className:g.default.tagline},void 0,a),o("div",{className:g.default.actions},void 0,this.renderActions())))},t}(i.PureComponent);I.defaultProps={isMouseOver:!1},I.displayName="PerkTile",t.default=(0,d.default)(s.default.connectStores([f.default],function(){return{isUserPremium:y.default.canInstallPremiumApplications(f.default.getNullableCurrentUser())}})(I)),e.exports=t.default},6958:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=n(453),s=A(n(4)),d=A(n(831)),f=A(n(5980)),c=A(n(35)),p=A(n(15)),h=A(n(154)),y=A(n(6069)),m=A(n(179)),v=A(n(128)),_=A(n(306)),E=A(n(6018)),g=A(n(18)),S=A(n(225)),T=A(n(45)),I=n(0),C=A(n(13)),N=A(n(5559));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=O(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){var t,n=r.props.isAuthenticated;(e.preventDefault(),n)?(t=r.analyticsLocation,g.default.track(I.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:t}),d.default.open(I.UserSettingsSections.PREMIUM)):T.default.transitionTo(I.Routes.LOGIN,{search:(0,u.stringify)(I.Routes.APPLICATION_STORE)})},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.className,r=e.isWindowFocused;return a(E.default,{onClick:this.handleClick,innerClassName:N.default.premiumSubscribeButton,color:v.default.Colors.GREEN,size:t,className:n,pauseAnimation:!r},void 0,a(_.default,{name:_.default.Names.NITRO_WHEEL,className:N.default.premiumIcon}),a("span",{className:N.default.buttonText},void 0,C.default.Messages.APPLICATION_STORE_GET_PREMIUM))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.storeListingAnalyticsProperties,t=null!=e?e.promotionId:null;return o({},this.props.analyticsContext.location,{object:I.AnalyticsObjects.BUTTON_CTA,objectType:I.AnalyticsObjectTypes.BUY,promotionId:t})}}]),t}(l.Component);b.displayName="PremiumSubscribeButton",t.default=s.default.connectStores([m.default,y.default,p.default,c.default,h.default],function(){var e=p.default.getNullableCurrentUser();return{isUserPremium:S.default.canInstallPremiumApplications(e),isWindowFocused:h.default.isFocused(),isAuthenticated:null!=e}})((0,f.default)(b)),e.exports=t.default},6959:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(13)),l=u(n(5560));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.className;return o("div",{className:(0,a.default)(l.default.perkTag,t)},void 0,i.default.Messages.APPLICATION_STORE_PREMIUM_PERKS)};s.displayName="PerkTag",t.default=s,e.exports=t.default},6960:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=$(n(83)),d=$(n(462)),f=n(223),c=n(114),p=$(n(4)),h=$(n(1)),y=n(6350),m=n(6349),v=n(6032),_=$(n(831)),E=$(n(5980)),g=$(n(6129)),S=$(n(35)),T=$(n(15)),I=$(n(154)),C=$(n(846)),N=$(n(6235)),A=$(n(128)),O=$(n(152)),b=$(n(306)),M=$(n(313)),R=$(n(444)),P=$(n(874)),L=$(n(225)),w=$(n(45)),D=$(n(477)),U=n(6239),k=$(n(6101)),G=$(n(5983)),x=$(n(6030)),F=$(n(6552)),j=$(n(6351)),B=$(n(6961)),H=$(n(6554)),V=$(n(6963)),Y=$(n(6964)),W=n(0),K=$(n(13)),z=$(n(5422));function $(e){return e&&e.__esModule?e:{default:e}}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var X=function(e){var t=e.message,n=e.urlParams,r=void 0===n?{}:n,o=e.analyticsContext;return l(f.Link,{className:z.default.viewAllGames,to:{pathname:W.Routes.APPLICATION_STORE_BROWSE,search:D.default.formatSearch(r),state:{scrollRestoration:!1,analyticsState:i({},o.location,{object:W.AnalyticsObjects.BUTTON_BROWSE})}}},void 0,l("span",{},void 0,t),l(b.default,{name:b.default.Names.CARET,className:z.default.viewAllIcon,direction:P.default.Directions.RIGHT}))};X.displayName="ViewLink";var Q=l(B.default,{}),J=l(d.default,{title:"Discord"}),Z=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=q(this,e.call.apply(e,[this].concat(a))),r.scrollerRef=u.createRef(),r.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=r.props.scrollTo)r.props.scrollTo(e,t);else{var n=r.scrollerRef.current;null!=n&&n.scrollTo(e,t)}},r.getScrollTop=function(){return null!=r.props.getScrollTop?r.props.getScrollTop():null!=r.scrollerRef.current?r.scrollerRef.current.getScrollData().scrollTop:0},r.goToPremiumSettings=function(){var e=r.props.location;_.default.open(W.UserSettingsSections.PREMIUM),w.default.replaceWith(e.pathname+e.search)},r.renderToolbar=function(){return Q},q(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.lastDirectoryScrollTop,n=e.location,r=e.directoryLayoutId,o=e.shouldFetchDirectoryLayout;(0,U.deepLinkRouteIfLandedAndNotAuthed)(W.RPCDeepLinks.STORE_HOME),n.hash===W.PREMIUM_ROUTE_HASH&&this.goToPremiumSettings(),null!=t&&this.scrollTo(t),o&&h.default.wait(function(){return(0,y.loadDirectory)(r)})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.directoryLayoutId,r=t.shouldFetchDirectoryLayout;location.hash===W.PREMIUM_ROUTE_HASH&&this.goToPremiumSettings(),r&&h.default.wait(function(){return(0,y.loadDirectory)(n)})},t.prototype.componentWillUnmount=function(){var e=this;h.default.wait(function(){(0,m.handleDirectoryUnmount)(e.getScrollTop(),W.DirectoryLocations.HOME),(0,v.muteStoreDirectory)()})},t.prototype.renderFeaturedPremiumListings=function(e){if(null==e.premiumSkuIds||0===e.premiumSkuIds.length)return null;var t=this.props,n=t.onSKUViewed,r=t.analyticsContext;return l(u.Fragment,{},void 0,l("div",{className:z.default.premiumApplicationsHeader},void 0,l("h3",{},void 0,K.default.Messages.APPLICATION_STORE_HOME_RECENTLY_ADDED),l(X,{message:K.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,analyticsContext:r})),l("div",{},void 0,l(H.default,{tileWidth:W.PREMIUM_HOME_TILE_WIDTH,tileMargin:W.PREMIUM_HOME_TILE_MARGIN},void 0,l(j.default,{analyticsIndexOffset:12,tileClassName:z.default.homeTile,skuIds:e.premiumSkuIds,onSKUViewed:n,maxTiles:12,wrap:!1}))))},t.prototype.renderCategories=function(e){if(null==e.categories||0===e.categories.length)return null;var t=this.props,n=t.onSKUViewed,r=t.analyticsContext,o=t.theme;return l(u.Fragment,{},void 0,e.categories.map(function(e,t){return l(u.Fragment,{},t,l("h3",{className:z.default.categoryHeader},void 0,e.name),l("div",{},void 0,l(H.default,{tileWidth:W.PREMIUM_HOME_TILE_WIDTH,tileMargin:W.PREMIUM_HOME_TILE_MARGIN},void 0,l(j.default,{tileClassName:z.default.homeTile,skuIds:e.skuIds,onSKUViewed:n,maxTiles:12,wrap:!1}))))}),l(O.default,{},void 0,l("div",{className:z.default.viewAllGamesButton},void 0,l(A.default.Link,{to:{pathname:W.Routes.APPLICATION_STORE_BROWSE,state:{scrollRestoration:!1,analyticsState:i({},r.location,{object:W.AnalyticsObjects.BUTTON_BROWSE})}},innerClassName:z.default.viewAllGamesButtonInner,look:A.default.Looks.OUTLINED,color:o===W.ThemeTypes.DARK?A.default.Colors.WHITE:A.default.Colors.BLACK},void 0,l("div",{},void 0,K.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS),l(b.default,{name:b.default.Names.CARET,className:z.default.viewAllIcon,direction:P.default.Directions.RIGHT})))))},t.prototype.renderPerkListings=function(){var e=this.props.onSKUViewed;return l("div",{className:z.default.perkListings},void 0,l("h3",{className:z.default.categoryHeader},void 0,K.default.Messages.APPLICATION_STORE_PREMIUM_PERKS_HEADER),l("div",{},void 0,l(H.default,{tileWidth:W.PREMIUM_HOME_TILE_WIDTH,tileMargin:W.PREMIUM_HOME_TILE_MARGIN},void 0,W.PERK_TILES.map(function(t,n){return l(F.default,{tileData:t,type:W.StoreDirectoryTileTypes.PERK,className:z.default.homeTile,onSKUViewed:e},n)}))))},t.prototype.renderRecommendedListings=function(e){return null==e.recommendedSkuIds||e.recommendedSkuIds.length<5?null:l(V.default,{recommendedSkuIds:e.recommendedSkuIds})},t.prototype.renderContent=function(){var e,t=this.props,n=t.directoryLayout,r=t.isWindowFocused,o=t.isUserPremium;return null==n?this.renderLoading():l(u.Fragment,{},void 0,l("div",{className:z.default.home},void 0,n.heroItems.length>0?l(G.default,{section:W.AnalyticsSections.HERO},void 0,l(Y.default,{className:z.default.heroCarousel,items:o?(e=n.heroItems,e.filter(function(e){return null==e.url||(0,c.parse)(e.url).hash!==W.PREMIUM_ROUTE_HASH})):n.heroItems,isWindowFocused:r})):null,l("div",{className:z.default.homeBody},void 0,l(G.default,{section:W.AnalyticsSections.BODY},void 0,this.renderPerkListings(),this.renderRecommendedListings(n),this.renderFeaturedPremiumListings(n),this.renderCategories(n)))),l("footer",{className:z.default.footer},void 0,l("h1",{className:z.default.footerMain},void 0,K.default.Messages.APPLICATION_STORE_HOME_FOOTER_MAIN),l("h2",{className:z.default.footerSub},void 0,K.default.Messages.APPLICATION_STORE_HOME_FOOTER_SUB)))},t.prototype.renderLoading=function(){return l(O.default,{align:O.default.Align.CENTER,justify:O.default.Justify.CENTER},void 0,l(R.default,{className:z.default.spinner}))},t.prototype.render=function(){var e=this.props.isAuthenticated,t=e?u.createElement(M.default,{ref:this.scrollerRef,track:!0,gutterStyle:M.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0},this.renderContent()):this.renderContent(),n=e?z.default.homeWrapperNormal:z.default.marketingWrapper;return l("div",{className:n},void 0,J,l(G.default,{section:W.AnalyticsSections.NAVIGATION},void 0,l(k.default,{title:K.default.Messages.PREMIUM,renderToolbar:this.renderToolbar,isAuthenticated:e,className:z.default.headerBar})),this.props.isFetchingDirectoryLayout?this.renderLoading():t)},t}(u.PureComponent);Z.displayName="ApplicationStoreHome";var ee=p.default.connectStores([N.default,S.default,I.default,T.default],function(e){var t=e.location,n=e.directoryLayoutId,r=N.default.lastHomeDirectoryView,o=s.default.parse(t.search.slice(1))[W.STORE_DIRECTORY_LAYOUT_ID_QUERY_OVERRIDE]||n;return{directoryLayoutId:o,directoryLayout:N.default.getDirectoryLayout(o),shouldFetchDirectoryLayout:N.default.shouldFetch(o),isFetchingDirectoryLayout:N.default.isFetching(o),lastDirectoryScrollTop:null!=r&&r.scrollTop,theme:S.default.theme,isWindowFocused:I.default.isFocused(),isUserPremium:L.default.isPremium(T.default.getNullableCurrentUser())}})((0,g.default)((0,E.default)(Z)));t.default=(0,x.default)((0,C.default)(W.Experiments.STORE_DIRECTORY_LAYOUT,"Store Directory layout IDS",["Control: "+W.STORE_DIRECTORY_LAYOUT_ID,"Treatment 1: "+W.StoreDirectoryExperimentLayoutIds.TREATMENT_1,"Treatment 2: "+W.StoreDirectoryExperimentLayoutIds.TREATMENT_2,"Treatment 3: "+W.StoreDirectoryExperimentLayoutIds.TREATMENT_3]),((o={})[W.ExperimentTypes.NONE]=function(e){return u.createElement(ee,i({},e,{directoryLayoutId:W.STORE_DIRECTORY_LAYOUT_ID}))},o[W.ExperimentTypes.USER]=((r={})[W.ExperimentBuckets.CONTROL]=function(e){return u.createElement(ee,i({},e,{directoryLayoutId:W.STORE_DIRECTORY_LAYOUT_ID}))},r[W.ExperimentBuckets.TREATMENT_1]=function(e){return u.createElement(ee,i({},e,{directoryLayoutId:W.StoreDirectoryExperimentLayoutIds.TREATMENT_1}))},r[W.ExperimentBuckets.TREATMENT_2]=function(e){return u.createElement(ee,i({},e,{directoryLayoutId:W.StoreDirectoryExperimentLayoutIds.TREATMENT_2}))},r[W.ExperimentBuckets.TREATMENT_3]=function(e){return u.createElement(ee,i({},e,{directoryLayoutId:W.StoreDirectoryExperimentLayoutIds.TREATMENT_3}))},r),o)),e.exports=t.default},6961:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=b(n(17)),s=b(n(4)),d=n(6350),f=b(n(830)),c=b(n(5980)),p=b(n(90)),h=b(n(838)),y=b(n(221)),m=b(n(306)),v=b(n(827)),_=b(n(828)),E=b(n(6034)),g=n(109),S=b(n(45)),T=b(n(477)),I=b(n(6545)),C=n(6962),N=n(0),A=b(n(13)),O=b(n(5567));function b(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=370,P=4;function L(e,t){(0,d.updateSearchTerm)(e),S.default.transitionTo(N.Routes.APPLICATION_STORE_BROWSE,{search:T.default.formatSearch({q:e}),state:t})}function w(e){return i(C.ApplicationResultsEmpty,{onViewAllGamesClick:function(){return L("",e)}})}w.displayName="renderNoResults";var D=s.default.connectStores([h.default],function(e){var t=e.sku;return{storeListing:h.default.getForSKU(t.id),inLibrary:p.default.hasApplication(t.applicationId,t.applicationId,!0)}})(C.ApplicationResult),U=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=M(this,e.call.apply(e,[this].concat(a))),r.popoutRef=l.createRef(),r.state={query:"",focused:!1,focusedIndex:-1,results:[]},r.inputRef=null,r.setInputRef=function(e){r.inputRef=e},r.focusInput=function(){var e=r.inputRef;null!=e&&e.focus()},r.reset=function(){r.setState({query:"",results:[]})},r.handleInputChange=function(e){var t=r.state,n=t.query,o=t.results,a=e.trim();""===a?o=[]:a!==n.trim()&&(o=E.default.querySKUs(a,P,!0)),r.setState({query:e,results:o})},r.handleSelect=function(e){var t,n,o=r.state,a=o.query,i=o.results[e];null==i?L(a,r.transitionState):(t=i.sku,n=r.transitionState,S.default.transitionTo(N.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),{state:n}))},r.handleHighlight=function(e){r.setState({focusedIndex:e})},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1})},r.handleKeyDown=function(e){var t=e.ctrlKey,n=e.altKey,o=e.metaKey,a=e.which,i=r,l=i.inputRef,u=i.state,s=u.query,d=u.focusedIndex,f=u.results;if(!(t||n||o))switch(e.stopPropagation(),a){case N.KeyboardKeys.ESCAPE:""!==s?r.reset():null!=l&&l.blur();break;case N.KeyboardKeys.ENTER:r.handleSelect(d),e.preventDefault();break;case N.KeyboardKeys.ARROW_UP:d=Math.max(d-1,-1),r.handleHighlight(d),e.preventDefault();break;case N.KeyboardKeys.ARROW_DOWN:d=Math.min(d+1,f.length-1),r.handleHighlight(d),e.preventDefault()}},r.renderPopoutResult=function(e){var t=r.state,n=t.results,o=t.focusedIndex,a=n[e];return null!=a?i(D,{sku:a.sku,focused:e===o,onSelect:function(){return r.handleSelect(e)},onHighlight:function(){return r.handleHighlight(e)}},a.sku.id):null},r.renderPopout=function(){var e=r.state,t=e.results,n=e.query,o=e.focusedIndex;return""!==n.trim()?i(I.default,{numResults:t.length,query:n,width:R,renderResult:r.renderPopoutResult,renderNoResults:function(){return w(r.transitionState)},focusedIndex:o,onSelectQuery:function(){return r.handleSelect(-1)},onHighlightQuery:function(){return r.handleHighlight(-1)}}):null},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){g.ComponentDispatch.subscribe(N.ComponentActions.FOCUS_SEARCH,this.focusInput)},t.prototype.componentDidUpdate=function(e,t){var n=this.popoutRef.current,r=this.state,o=r.focused,a=r.query,i=r.focusedIndex;a=a.trim(),o&&!t.focused?null!=n&&n.open():!o&&t.focused&&f.default.close("game-store-search"),a===t.query.trim()&&i===t.focusedIndex||f.default.rerender("game-store-search")},t.prototype.componentWillUnmount=function(){g.ComponentDispatch.unsubscribe(N.ComponentActions.FOCUS_SEARCH,this.focusInput),this.reset()},t.prototype.render=function(){var e,t,n=this.props.className,r=this.state.query;return l.createElement(v.default,{ref:this.popoutRef,offsetX:-156,uniqueId:"game-store-search",position:v.default.Positions.BOTTOM_LEFT,toggleClose:!1,render:this.renderPopout,animationType:v.default.Animations.NONE},i("div",{className:(0,u.default)(O.default.browseSearch,n)},void 0,i(_.default,{inputClassName:O.default.browseSearchInput,className:O.default.inputWrapper,inputRef:this.setInputRef,size:_.default.Sizes.MINI,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,name:"search",maxLength:100,value:r,placeholder:A.default.Messages.APPLICATION_STORE_BROWSE_SEARCH_PLACEHOLDER,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),i(m.default,{className:(0,u.default)(O.default.icon,(e={},e[O.default.iconVisible]=""===r,e)),name:m.default.Names.SEARCH}),i(y.default,{onMouseDown:function(e){e.preventDefault()},onClick:this.reset},void 0,i(m.default,{className:(0,u.default)(O.default.icon,O.default.clearIcon,(t={},t[O.default.iconVisible]=""!==r,t)),name:m.default.Names.CLEAR}))))},a(t,[{key:"transitionState",get:function(){var e=this.props.analyticsContext;return{analyticsSource:o({},e.location,{object:N.AnalyticsObjects.SEARCH})}}}]),t}(l.PureComponent);U.displayName="ApplicationStoreBrowseSearch",t.default=(0,c.default)(U),e.exports=t.default},6962:function(e,t,n){"use strict";t.__esModule=!0,t.ApplicationResultsEmpty=t.ApplicationResult=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(17))),i=h(n(221)),l=h(n(306)),u=h(n(45)),s=n(133),d=h(n(6044)),f=n(0),c=h(n(13)),p=h(n(5566));function h(e){return e&&e.__esModule?e:{default:e}}(t.ApplicationResult=function(e){var t,n=e.focused,r=e.sku,l=e.onSelect,u=e.onHighlight,f=e.storeListing,c=e.inLibrary,h=null;if(null!=f){var y=f.thumbnail;h=null!=y?(0,s.getAssetURL)(r.applicationId,y,128):null}return o(i.default,{className:(0,a.default)(p.default.result,(t={},t[p.default.focused]=n,t)),onMouseEnter:u,onClick:l},void 0,o("div",{className:p.default.resultAssetContainer},void 0,null!=h?o("img",{className:p.default.resultAsset,src:h,alt:""}):o("div",{className:p.default.resultAssetEmpty})),o("div",{className:p.default.resultContent},void 0,o("div",{className:p.default.resultName},void 0,r.name),o(d.default,{type:d.default.Types.DIRECTORY_SEARCH,sku:r,inLibrary:c,className:p.default.price,iconClass:p.default.iconClass})))}).displayName="ApplicationResult",(t.ApplicationResultsEmpty=function(e){var t=e.onViewAllGamesClick;return o("div",{className:p.default.empty},void 0,o("div",{className:p.default.emptyTitle},void 0,c.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),o("div",{className:p.default.emptyNote},void 0,c.default.Messages.APPLICATION_STORE_SEARCH_EMPTY.format({goToGuildDiscovery:function(){return u.default.transitionTo(f.Routes.GUILD_DISCOVERY)}})),o(i.default,{tag:"a",onClick:t,className:p.default.allGamesContainer},void 0,c.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,o(l.default,{name:l.default.Names.RIGHT_CARET,className:p.default.caret})))}).displayName="ApplicationResultsEmpty"},6963:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=y(n(846)),s=y(n(6030)),d=y(n(6351)),f=y(n(6554)),c=n(0),p=y(n(13)),h=y(n(5422));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.recommendedSkuIds,n=e.onSKUViewed;return i("div",{},void 0,i("h3",{className:h.default.categoryHeader},void 0,p.default.Messages.APPLICATION_STORE_RECOMMENDED_HEADER),i("div",{},void 0,i(f.default,{tileWidth:c.PREMIUM_HOME_TILE_WIDTH,tileMargin:c.PREMIUM_HOME_TILE_MARGIN},void 0,i(d.default,{tileClassName:h.default.homeTile,skuIds:t,onSKUViewed:n,maxTiles:10,wrap:!1}))))};m.displayName="RecommendedApplications",t.default=(0,s.default)((0,u.default)(c.Experiments.PREMIUM_HOME_RECOMMENDED_APPLICATIONS,"Show Recommended Listings",["Control: No recommended applications","Treatment 1: Recommended applications"]),((o={})[c.ExperimentTypes.NONE]=function(){return null},o[c.ExperimentTypes.USER]=((r={})[c.ExperimentBuckets.CONTROL]=function(){return null},r[c.ExperimentBuckets.TREATMENT_1]=function(e){return l.createElement(m,e)},r),o)),e.exports=t.default},6964:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=b(n(2)),l=O(n(17)),u=n(81),s=O(n(833)),d=n(6095),f=b(n(307)),c=O(n(5980));n(316),n(6077);var p=O(n(43)),h=O(n(179)),y=n(6182),m=O(y),v=O(n(18)),_=n(109),E=O(n(6050)),g=O(n(6965)),S=n(6966),T=O(S),I=O(n(6969)),C=O(n(6970)),N=n(0),A=O(n(5575));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return n=r=M(this,e.call.apply(e,[this].concat(s))),r.state={visibleIndex:0,isVisible:!0},r._nextTimeout=new u.Timeout,r.trackViewedItem=function(){var e=r.state.visibleIndex,t=r.props,n=t.items,o=t.analyticsContext,i=o.loadId,l=o.location,u=n[e];if(null!=u){var s={card_index:e,load_id:i,location:l};if(null==u.skuId)v.default.track(N.AnalyticEvents.STORE_DIRECTORY_HERO_VIEWED,a({},s));else{var d=h.default.get(u.skuId);if(null==d)return;var f=p.default.getGame(d.applicationId);if(null==f)return;v.default.track(N.AnalyticEvents.STORE_DIRECTORY_HERO_VIEWED,a({},s,{card_type:"application",application_id:f.id,sku_id:u.skuId}))}}},r.prevItem=function(){var e=r.state.visibleIndex,t=r.props.items;0===e?r.setState({visibleIndex:t.length-1}):r.setState({visibleIndex:e-1})},r.nextItem=function(){var e=r.props.items,t=r.state.visibleIndex;r.setState({visibleIndex:(t+1)%e.length})},r.handleSetItem=function(e){r.setState({visibleIndex:e})},r.handleVisibilityChange=function(e){r.setState({isVisible:e})},r.handleApplicationContextMenu=function(e,t){f.openContextMenu(e,function(e){return i.createElement(E.default,a({},e,{type:N.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},r.renderHero=function(e,t){var n=r.props,a=n.analyticsContext,i=n.isWindowFocused;return o(T.default,{backgroundOverride:e.background,media:null!=e.skuId||null!=e.fullVideo||null!=e.previewVideo||null!=e.thumbnail?o(I.default,{heroCarouselItem:e,forcePaused:!r.state.isVisible||!i,analyticsContext:a,onEnd:r.nextItem}):null,description:o(g.default,{heroCarouselItem:e,analyticsContext:a,onContextMenu:r.handleApplicationContextMenu}),skuId:e.skuId},e.skuId||t)},r.renderPaginationItem=function(e,t){var n=r.state.visibleIndex===t;return o(S.HeroCarouselPaginationItem,{selected:n,pagination:o(C.default,{skuId:e.skuId,customTitle:e.title,customPaginationImage:e.paginationImage})},e.skuId||t)},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.trackViewedItem(),this.maybeScheduleNextItem(),_.ComponentDispatch.subscribe(N.ComponentActions.CAROUSEL_PREV,this.prevItem),_.ComponentDispatch.subscribe(N.ComponentActions.CAROUSEL_NEXT,this.nextItem)},t.prototype.componentDidUpdate=function(e,t){this.state.visibleIndex!==t.visibleIndex&&(this.trackViewedItem(),this.maybeScheduleNextItem())},t.prototype.componentWillUnmount=function(){this._nextTimeout.stop(),_.ComponentDispatch.unsubscribe(N.ComponentActions.CAROUSEL_PREV,this.prevItem),_.ComponentDispatch.unsubscribe(N.ComponentActions.CAROUSEL_NEXT,this.nextItem)},t.prototype.maybeScheduleNextItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4,t=this.state.visibleIndex,n=this.props.items[t];null!=n&&null==n.skuId&&null==n.previewVideo?this._nextTimeout.start(e,this.nextItem):this._nextTimeout.stop()},t.prototype.renderPagination=function(){var e=this.props.items,t=this.state.visibleIndex;return o("div",{className:A.default.paginationContainer},void 0,o("div",{className:A.default.pagination},void 0,o(y.CarouselPrevious,{className:A.default.prevArrow,onClick:this.prevItem}),o(m.default,{renderItem:this.renderPaginationItem,items:e,selectedIndex:t,onSetItem:this.handleSetItem}),o(y.CarouselNext,{className:A.default.nextArrow,onClick:this.nextItem})))},t.prototype.render=function(){var e=this.props,t=e.className,n=e.items,r=this.state.visibleIndex;return o(d.VisibilitySensor,{onChange:this.handleVisibilityChange},void 0,o("div",{className:(0,l.default)(A.default.heroCarousel,t)},void 0,o(s.default,{className:A.default.carouselContainer},void 0,this.renderHero(n[r],r)),this.renderPagination()))},t}(i.PureComponent);R.displayName="HeroCarousel",t.default=(0,c.default)(R),e.exports=t.default},6965:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=T(n(5)),s=n(223),d=n(114),f=T(n(4));n(316),n(6077);var c=T(n(179)),p=T(n(838)),h=T(n(128)),y=T(n(18)),m=n(133),v=T(n(6024)),_=T(n(6044)),E=n(0),g=T(n(13)),S=T(n(5570));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=I(this,e.call.apply(e,[this].concat(i))),r.trackLinkClicked=function(){var e=r.props,t=e.sku,n=e.analyticsContext,o=e.heroCarouselItem.url;null!=t?y.default.track(E.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,a({},t.getAnalyticsData(),{is_hero:!0,load_id:n.loadId,location:r.analyticsLocation})):null!=o&&(0,d.parse)(o).hash===E.PREMIUM_ROUTE_HASH&&y.default.track(E.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:n.location})},r.getLocation=function(){var e=r.props,t=e.sku,n=e.heroCarouselItem.url,o=e.analyticsContext;if(null!=n){var a=(0,d.parse)(n);return{pathname:a.pathname,hash:a.hash,search:a.search,state:{analyticsSource:o.location}}}return null!=t?(0,m.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:r.analyticsLocation}):(console.error("Missing url or store listing location"),E.Routes.APPLICATION_STORE)},r.handleContextMenu=function(e){var t=r.props,n=t.sku,o=t.onContextMenu;null!=n&&null!=o&&o(e,n.applicationId)},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getHeader=function(e){return null==e?null:e.exclusive?g.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD:e.premium?g.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_PREMIUM_GAME:null!=e.releaseDate&&e.releaseDate.isAfter((0,u.default)().subtract(2,"weeks"))?g.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_NEW_RELEASE:g.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_GAME},t.prototype.render=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.heroCarouselItem,a=r.description,i=r.title,l=r.header,u=r.buttonLabel,d=this.getLocation();return o("div",{className:S.default.itemDescription},void 0,o("h2",{className:S.default.header},void 0,null!=l?l:this.getHeader(t)),o(s.Link,{to:d,onClick:this.trackLinkClicked,onContextMenu:this.handleContextMenu},void 0,o("h1",{className:S.default.title},void 0,i||(null!=t?t.name:null))),o("div",{className:S.default.tagline},void 0,a||(null!=n?n.tagline:"")),o("div",{className:null!=t&&t.isOnSale?S.default.actionsContainerSale:S.default.actionsContainerNormal},void 0,null!=t&&t.requiresPayment?o(_.default,{type:_.default.Types.DIRECTORY_HERO,sku:t,inLibrary:!1,className:S.default.price}):null!=t?o("div",{className:S.default.buyButtonWrapper},void 0,o(v.default,{skuId:t.id,applicationId:t.applicationId,size:h.default.Sizes.SMALL,onStoreListing:!0})):null,o(h.default.Link,{to:d,onClick:this.trackLinkClicked,look:h.default.Looks.OUTLINED,color:h.default.Colors.WHITE,className:null!=t&&t.isOnSale?S.default.learnMoreButtonSale:S.default.learnMoreButton},void 0,u||g.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_LEARN_MORE)))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return a({},e,{object:E.AnalyticsObjects.CAROUSEL})}}]),t}(l.PureComponent);C.displayName="HeroCarouselApplicationDescription",t.default=f.default.connectStores([p.default,c.default],function(e){var t=e.heroCarouselItem.skuId,n=null!=t?c.default.get(t):null;return{sku:n,storeListing:null!=n?p.default.getForSKU(n.id):null}})(C),e.exports=t.default},6966:function(e,t,n){"use strict";t.__esModule=!0,t.HeroCarouselPaginationItem=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(310));n(316);var u=c(n(221)),s=c(n(6967)),d=c(n(6968)),f=c(n(5572));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=300,v=l.default.Easing.bezier(.17,.67,.16,.99),_=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r._animatedItemContainer=new l.default.Value(1),r._animatedMedia=new l.default.Value(1),r.state={playing:!1,videoError:!1},r.componentWillEnter=function(e){r._animatedMedia.setValue(0),r._animatedItemContainer.setValue(0),l.default.parallel([l.default.timing(r._animatedMedia,{toValue:1,duration:400}),l.default.timing(r._animatedItemContainer,{toValue:1,delay:150,duration:350})]).start(e)},r.componentWillLeave=function(e){l.default.parallel([l.default.timing(r._animatedMedia,{toValue:0,delay:25,duration:m}),l.default.timing(r._animatedItemContainer,{toValue:0,duration:m})]).start(e)},h(r,n)}return y(t,e),t.prototype.getBackgroundStyle=function(){return l.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})},{scale:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[.98,1]})}]})},t.prototype.getDescriptionStyle=function(){return l.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}]})},t.prototype.getMediaStyle=function(){return l.default.accelerate({transform:[{scale:this._animatedMedia.interpolate({inputRange:[0,1],outputRange:[.8,1],easing:v})}],opacity:this._animatedMedia.interpolate({inputRange:[0,.4,1],outputRange:[0,0,1],easing:v})})},t.prototype.getContainerStyle=function(){return l.default.accelerate({opacity:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[0,1],easing:l.default.Easing.out(l.default.Easing.ease)})})},t.prototype.renderMedia=function(e){return o(l.default.div,{style:this.getMediaStyle(),className:f.default.itemMedia},void 0,o(s.default,{},void 0,e))},t.prototype.render=function(){var e=this.props,t=e.description,n=e.skuId,r=e.backgroundOverride,a=e.media;return o(l.default.div,{className:f.default.carouselItem,style:this.getContainerStyle()},void 0,o(l.default.div,{className:f.default.itemBackground,style:this.getBackgroundStyle()},void 0,o(d.default,{skuId:n,backgroundOverride:r})),o("div",{className:f.default.itemBody},void 0,o(l.default.div,{className:f.default.itemDescriptionContainer,style:this.getDescriptionStyle()},void 0,t),null!=a?o("div",{className:f.default.itemMediaContainer},void 0,this.renderMedia(a)):null))},t}(a.PureComponent);_.displayName="HeroCarouselItem",(t.HeroCarouselPaginationItem=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){var e,t=this.props,n=t.pagination,r=t.selected,a=t.onClick;return o(u.default,{onClick:a,className:(0,i.default)(f.default.paginationItemContainer,(e={},e[f.default.paginationSelected]=r,e))},void 0,n,r?o("div",{className:f.default.overlappingBorder}):null)},t}(a.PureComponent)).displayName="HeroCarouselPaginationItem",t.default=_},6967:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=n(99),s=n(310),d=(o=s)&&o.__esModule?o:{default:o},f=n(858);function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={WebkitFontSmoothing:"subpixel-antialiased",MozFontSmoothing:"subpixel-antialiased",fontSmoothing:"subpixel-antialiased",backfaceVisibility:"hidden"},h={tension:50,friction:7},y=i({},h,{friction:4}),m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.state={width:r.props.width||0,height:r.props.height||0},r.horizontalRotation=new d.default.Value(0),r.verticalRotation=new d.default.Value(0),r.scale=new d.default.Value(1),r.handleMouseEnter=function(){var e=r.props.hoverScale;r.animateTo({scaleValue:e})},r.handleMouseMove=function(e){var t=e.clientX,n=e.clientY,o=e.currentTarget,a=r.state,i=a.width,l=a.height,u=o.getBoundingClientRect(),s=u.top,d=-1*((t-u.left)/i*2-1),f=(n-s)/l*2-1;r.animateTo({horizontalValue:d,verticalValue:f})},r.handleMouseLeave=function(){r.animateTo({horizontalValue:0,verticalValue:0,scaleValue:1})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){if(0===this.state.width||0===this.state.height){var e=(0,u.findDOMNode)(this);if(e instanceof HTMLElement){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this.setState({width:n,height:r})}}},t.prototype.animateTo=function(e){var t=e.horizontalValue,n=e.verticalValue,r=e.scaleValue,o=this.horizontalRotation,a=this.verticalRotation,l=this.scale;null!=r&&d.default.spring(l,i({},y,{toValue:r})).start(),null!=t&&d.default.spring(o,i({},h,{toValue:t})).start(),null!=n&&d.default.spring(a,i({},h,{toValue:n})).start()},t.prototype.getAnimatedStyle=function(){var e=this.horizontalRotation,t=this.verticalRotation,n=this.scale,r=this.props.interpolateLengthToAngle,o=this.state,a=o.width,l=o.height;return d.default.accelerate(i({},p,{transform:[{rotateX:t.interpolate({inputRange:[0,1],outputRange:["0deg",r(l)+"deg"]})},{rotateY:e.interpolate({inputRange:[0,1],outputRange:["0deg",r(a)+"deg"]})},{scale:n}]}))},t.prototype.render=function(){var e=this.state,t=e.width,n=e.height,r=this.props.children;return f.isMobile||f.isTablet?r:a("div",{style:function(e){return i({transform:"perspective("+2*e+"px)",transformStyle:"preserve-3d"},p)}(Math.max(t,n)),onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,a(d.default.div,{style:this.getAnimatedStyle()},void 0,r))},t}(l.Component);m.defaultProps={hoverScale:1.015,interpolateLengthToAngle:function(e){return-.0030075188*e+6.8120300752}},m.displayName="HoverCard",t.default=m,e.exports=t.default},6968:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4));n(316);var l=p(n(179)),u=p(n(838)),s=n(6112),d=n(133),f=n(0),c=p(n(5571));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBackgroundStyle=function(){var e=this.props,t=e.backgroundOverride,n=e.applicationId,r=e.storeListing,o=void 0;return{backgroundImage:null!=(o=null!=t?(0,d.getAssetURL)(n||f.CustomDiscordApplicationId,t,1280):null!=r&&null!=r.heroBackground?(0,d.getAssetURL)(n,r.heroBackground,1280,"jpg"):(0,s.getApplicationBackground)(n))?"url("+o+")":null}},t.prototype.render=function(){return o("div",{className:c.default.itemBackground,style:this.getBackgroundStyle()})},t}(a.PureComponent);h.displayName="HeroCarouselBackground",t.default=i.default.connectStores([l.default,u.default],function(e){var t=e.skuId,n=null!=t?l.default.get(t):null;return{applicationId:null!=n?n.applicationId:null,storeListing:null!=n?u.default.getForSKU(n.id):null}})(h),e.exports=t.default},6969:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=g(n(4));n(316),n(6077);var u=g(n(179)),s=g(n(838)),d=g(n(221)),f=g(n(6145)),c=g(n(6033)),p=g(n(18)),h=n(6112),y=n(109),m=n(133),v=n(0),_=g(n(13)),E=g(n(5573));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=400,I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=S(this,e.call.apply(e,[this].concat(u))),r._trailerRef=i.createRef(),r._previewRef=i.createRef(),r.state={trailerPlaying:!1,trailerVideoError:!1,showTrailer:!1},r.handleTilePlaying=function(e){!e.muted&&r.state.trailerPlaying&&r.setState({trailerPlaying:!1})},r.handleUpdatePlayPreview=function(e){var t=r._previewRef.current;null!=t&&(e?t.play():t.pause())},r.handleUpdatePlayTrailer=function(e){var t=r._trailerRef.current;null!=t&&t.setPlay(e)},r.handleTrailerError=function(){r.setState({trailerVideoError:!0})},r.handlePlay=function(){r.setState({trailerPlaying:!0});var e=r.props,t=e.sku,n=e.analyticsContext;null!=t&&p.default.track(v.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,a({},t.getAnalyticsData(),{is_hero:!0,watch_trailer:!0,load_id:n.loadId,location:n.location}))},r.handlePause=function(){r.setState({trailerPlaying:!1})},r.getThumbnailAsset=function(){var e=r.props,t=e.heroCarouselItem.thumbnail,n=e.storeListing;return null!=t?t:null!=n&&null!=n.thumbnail?n.thumbnail:null},r.getPreviewVideoAsset=function(){var e=r.props,t=e.heroCarouselItem.previewVideo,n=e.storeListing;return null!=t?t:null!=n&&null!=n.previewVideo?n.previewVideo:null},r.getFullVideoUrl=function(e){var t=r.props,n=t.heroCarouselItem.fullVideo,o=t.storeListing;return null!=n?(0,m.getAssetURL)(e,n):null!=o&&null!=o.heroVideo?(0,m.getAssetURL)(e,o.heroVideo):(0,h.getApplicationTrailer)(e)},r.renderTrailer=function(e){var t=r.props.onEnd,n=r.getFullVideoUrl(e),o=r.getThumbnailAsset(),a=r.getPreviewVideoAsset();return i.createElement(f.default,{width:"100%",height:"100%",ref:r._trailerRef,className:E.default.itemTrailer,poster:o?(0,m.getAssetURL)(e,o,T):null,onError:r.handleTrailerError,src:r.state.trailerVideoError&&null!=a?(0,m.getAssetURL)(e,a):n,type:f.default.Types.VIDEO,onPlay:r.handlePlay,onPause:r.handlePause,onEnd:t})},r.renderPreview=function(e){var t=r.props,n=t.onEnd,a=t.forcePaused,l=r.getPreviewVideoAsset();return null==l?r.renderThumbnail(e):o("div",{className:E.default.itemPreviewContainer},void 0,o("div",{className:E.default.playContainer},void 0,o(c.default,{className:E.default.playPill,onPlay:r.showTrailer,playText:r.state.trailerVideoError?null:_.default.Messages.PLAY_FULL_VIDEO})),i.createElement("video",{ref:r._previewRef,className:E.default.itemPreview,muted:!0,autoPlay:!a,playsInline:!0,onEnded:n},o("source",{src:(0,m.getAssetURL)(e,l),type:"video/mp4"})))},r.renderThumbnail=function(e){var t=r.getThumbnailAsset();return null==t?null:o("div",{className:E.default.itemPreviewContainer},void 0,o("div",{className:E.default.itemPreview,style:{backgroundImage:"url("+(0,m.getAssetURL)(e,t,T)+")"}}))},r.showTrailer=function(e){e.preventDefault(),e.stopPropagation(),r.state.showTrailer||r.setState({showTrailer:!0,trailerPlaying:!0})},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){return t.showTrailer&&e.forcePaused&&t.trailerPlaying?{trailerPlaying:!1}:null},t.prototype.componentWillUnmount=function(){y.ComponentDispatch.unsubscribe(v.ComponentActions.STORE_VIDEO_PLAY,this.handleTilePlaying)},t.prototype.componentDidMount=function(){y.ComponentDispatch.subscribe(v.ComponentActions.STORE_VIDEO_PLAY,this.handleTilePlaying)},t.prototype.componentDidUpdate=function(e){var t=this.props.forcePaused;this.state.showTrailer&&this.handleUpdatePlayTrailer(this.state.trailerPlaying),this.props.forcePaused!==e.forcePaused&&this.handleUpdatePlayPreview(!t)},t.prototype.render=function(){var e=this.state.showTrailer,t=this.props,n=t.sku,r=null==t.heroCarouselItem.skuId?v.CustomDiscordApplicationId:null!=n?n.applicationId:null;return null==r?null:o(d.default,{className:E.default.applicationMedia,onClick:this.showTrailer},void 0,e?this.renderTrailer(r):null!=this.getPreviewVideoAsset()?this.renderPreview(r):this.renderThumbnail(r))},t}(i.Component);I.displayName="HeroCarouselMedia",t.default=l.default.connectStores([s.default,u.default],function(e){var t=e.heroCarouselItem.skuId,n=null!=t?u.default.get(t):null;return{sku:n,storeListing:null!=n?s.default.getForSKU(n.id):null}})(I),e.exports=t.default},6970:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),f(n(4)));n(316);var i=f(n(179)),l=f(n(838)),u=n(133),s=n(0),d=f(n(5574));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.sku,n=e.storeListing,r=e.customTitle,a=e.customPaginationImage,i=null!=r?r:null!=t?t.name:null,l=null!=t?t.applicationId:s.CustomDiscordApplicationId,f=null!=a?a:null!=n?n.thumbnail:null;return o("img",{className:d.default.paginationItem,src:null!=f?(0,u.getAssetURL)(l,f,80):null,alt:i})};c.displayName="HeroCarouselPagination",t.default=a.default.connectStores([l.default,i.default],function(e){var t=e.skuId,n=null!=t?i.default.get(t):null;return{sku:n,storeListing:null!=n?l.default.getForSKU(n.id):null}})(c),e.exports=t.default},6971:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));n(223);var i,l=n(839),u=n(6752),s=(i=u)&&i.__esModule?i:{default:i};n(6051);function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.fetchStoreListing=function(e){var t=r.props,n=t.storeListingId,o=t.skuId,a=t.applicationId,i=null!=e?e:o;null!=n?(0,l.fetchStoreListingById)(n):null!=i?(0,l.fetchStoreListingForSku)(i):null!=a&&(0,l.fetchStoreListingForApplication)(a)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.fetchStoreListing()},t.prototype.render=function(){var e=this.props,t=e.skuId,n=e.applicationId,r=e.slug,a=e.storeListingId,i=e.pageSize,l=e.location;return o(s.default,{inputSkuId:t,applicationId:n,fetchStoreListing:this.fetchStoreListing,slug:r,storeListingId:a,location:l,pageSize:i})},t}(a.Component);f.displayName="DirectoryStoreListing",t.default=f,e.exports=t.default},6972:function(e,t,n){"use strict";t.__esModule=!0,t.fetchStatisticsForApplication=void 0;t.fetchStatisticsForApplication=(r=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:u.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_START,applicationId:t}),e.prev=1,e.next=4,a.default.get(u.Endpoints.APPLICATION_ACTIVITY_STATISTICS(t));case 4:return n=e.sent,r=n.body,i.default.dispatch({type:u.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:r,applicationId:t}),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),i.default.dispatch({type:u.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL,applicationId:t}),new l.default(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return o.apply(this,arguments)});var r,o,a=s(n(8)),i=s(n(1)),l=s(n(192)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}},6973:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var u=Object.freeze({THING:"Thing",PERSON:"Person",PRODUCT:"Product",OFFER:"Offer",AGGREGATE_OFFER:"AggregateOffer",RATING:"Rating",AGGREGATE_RATING:"AggregateRating",ORGANIZATION:"Organization",ITEM_PAGE:"ItemPage",UNIT_PRICE_SPECIFICATION:"UnitPriceSpecification",QUANTITATIVE_VALUE:"QuantitativeValue"});function s(e){return function e(t){return Object.keys(t).forEach(function(n){null==t[n]?delete t[n]:"object"===i(t[n])?t[n]=e(t[n]):t[n]=t[n]}),t}(function(e){var t=void 0;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new Error("[JSONLD] Invalid object format")}return t}(e))}function d(e,t){return a({"@type":e},s(t))}function f(e){return d(u.THING,e)}var c=f;function p(e){return d(u.PRODUCT,e)}p.Image=function(e){if(null==e)return null;var t=e.filter(function(e){return null!=e&&""!==e});return 0===t.length?null:1===t.length?t[0]:t};var h=Object.freeze({DAMAGED:"http://schema.org/DamagedCondition",NEW:"http://schema.org/NewCondition",REFURBISHED:"http://schema.org/RefurbishedCondition",USED:"http://schema.org/UsedCondition"}),y=Object.freeze({DISCONTINUED:"http://schema.org/Discontinued",IN_STOCK:"http://schema.org/InStock",IN_STORE_ONLY:"http://schema.org/InStoreOnly",LIMITED_AVAILABILITY:"http://schema.org/LimitedAvailability",ONLINE_ONLY:"http://schema.org/OnlineOnly",OUT_OF_STOCK:"http://schema.org/OutOfStock",PREORDER:"http://schema.org/PreOrder",PRESALE:"http://schema.org/PreSale",SOLD_OUT:"http://schema.org/SoldOut"});function m(e){return d(u.OFFER,e)}m.ItemConditions=h,m.ItemAvailability=y;var v=Object.freeze({ANNUAL:"ANN",MONTHLY:"MON"});function _(e){return d(u.QUANTITATIVE_VALUE,e)}_.UnitCodes=v;var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.debug,e.data),n=JSON.stringify(a({"@context":"http://schema.org"},t));return o("script",{type:"application/ld+json"},void 0,n)},t}(l.Component);E.Thing=f,E.Brand=c,E.Person=function(e){return d(u.PERSON,e)},E.Organization=function(e){return d(u.ORGANIZATION,e)},E.ItemPage=function(e){return d(u.ITEM_PAGE,e)},E.Product=p,E.Offer=m,E.Rating=function(e){return d(u.RATING,e)},E.AggregateRating=function(e){return d(u.AGGREGATE_RATING,e)},E.AggregateOffer=function(e){return d(u.AGGREGATE_OFFER,e)},E.QuantitativeValue=_,E.UnitPriceSpecification=function(e){return d(u.UNIT_PRICE_SPECIFICATION,e)},E.displayName="JSONLD",t.default=E,e.exports=t.default},6974:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),n(5576)),l=(o=i)&&o.__esModule?o:{default:o};t.default=function(){return a("div",{className:l.default.divider})},e.exports=t.default},6975:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=(p(n(840)),p(n(6013))),u=p(n(6976)),s=p(n(152)),d=n(0),f=p(n(13)),c=p(n(5578));function p(e){return e&&e.__esModule?e:{default:e}}var h=((o={})[d.ContentRatingAgencies.ESRB]={1:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ALCOHOL_REFERENCE,2:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_BLOOD,3:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD,4:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD_AND_GORE,5:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CARTOON_VIOLENCE,6:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_COMIC_MISCHIEF,7:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CRUDE_HUMOR,8:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_DRUG_REFERENCE,9:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_FANTASY_VIOLENCE,10:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_INTENSE_VIOLENCE,11:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LANGUAGE,12:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LYRICS,13:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MATURE_HUMOR,14:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_NUDITY,15:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_PARTUAL_NUDITY,16:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_REAL_GAMBLING,17:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_CONTENT,18:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_THEMES,19:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_VIOLENCE,20:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SIMULATED_GAMBLING,21:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LANGUAGE,22:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LYRICS,23:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_SEXUAL_CONTENT,24:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SUGGESTIVE_THEMES,25:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_TOBACCO_REFERENCE,26:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_ALCOHOL,27:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_DRUGS,28:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_TOBACCO,29:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENCE,30:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENT_REFERENCES,31:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_IN_GAME_PURCHASES,32:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USERS_INTERACT,33:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SHARES_LOCATION,34:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_UNRESTRICTED_INTERNET},o[d.ContentRatingAgencies.PEGI]={1:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_VIOLENCE,2:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_BAD_LANGUAGE,3:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_FEAR,4:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_GAMBLING,5:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_SEX,6:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DRUGS,7:f.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DISCRIMINATION},o),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContentRatingImage=function(){var e=this.props.sku,t=e.contentRating,n=e.contentRatingAgency;return null==t||null==n?null:a(u.default,{className:c.default.rating,agency:n,rating:t.rating})},t.prototype.render=function(){var e=this.props,t=e.sku,n=t.contentRating,r=t.contentRatingAgency,o=e.className;if(null==n||null==r)return null;var i=n.descriptors.map(function(e){return h[r][e]}).join(", ");return a("div",{className:o},void 0,a(l.default,{},void 0,f.default.Messages.APPLICATION_STORE_SECTION_TITLE_RATINGS),a(s.default,{className:c.default.content},void 0,this.renderContentRatingImage(),a("div",{className:c.default.info},void 0,i)))},t}(i.PureComponent);y.displayName="ApplicationContentRating",t.default=y,e.exports=t.default},6976:function(e,t,n){"use strict";t.__esModule=!0,t.Categories=void 0;var r,o,a,i,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),f(n(17))),s=n(0),d=f(n(5577));function f(e){return e&&e.__esModule?e:{default:e}}var c=t.Categories={ESRB:{EVERYONE:"1",EVERYONE_TEN_PLUS:"2",TEEN:"3",MATURE:"4",ADULT:"5",RATING_PENDING:"6"},PEGI:{THREE:"1",SEVEN:"2",TWELVE:"3",SIXTEEN:"4",EIGHTEEN:"5"}},p=((i={})[s.ContentRatingAgencies.ESRB]=((o={})[c.ESRB.EVERYONE]=d.default.esrbEveryone,o[c.ESRB.EVERYONE_TEN_PLUS]=d.default.esrbEveryoneTenPlus,o[c.ESRB.TEEN]=d.default.esrbTeen,o[c.ESRB.MATURE]=d.default.esrbMature,o[c.ESRB.ADULT]=d.default.esrbAdult,o[c.ESRB.RATING_PENDING]=d.default.esrbRatingPending,o),i[s.ContentRatingAgencies.PEGI]=((a={})[c.PEGI.THREE]=d.default.pegiThree,a[c.PEGI.SEVEN]=d.default.pegiSeven,a[c.PEGI.TWELVE]=d.default.pegiTwelve,a[c.PEGI.SIXTEEN]=d.default.pegiSixteen,a[c.PEGI.EIGHTEEN]=d.default.pegiEighteen,a),i),h=function(e){var t=e.agency,n=e.rating,r=e.className,o=p[t][n];return null==o?null:l("div",{className:(0,u.default)(d.default.contentRating,o,r)})};h.displayName="ContentRating",t.default=h},6977:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(17)),u=y(n(189));n(316);var s=y(n(128)),d=y(n(6013)),f=y(n(6798)),c=n(133),p=y(n(13)),h=y(n(5579));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=/^!\[([^\]]*)\]\(asset:\/\/(\d+)\)/,_=a({},f.default.rules,{heading:a({},f.default.rules.heading,{react:function(e,t,n){var r="h"+Math.min(Math.max(2,e.level+1),4);return o(d.default,{tag:r},n.key,t(e.content,n))}}),assetImage:{order:5,match:function(e,t){var n=e.match(v);if(null!=n){var r=n[2],o=t.assets.find(function(e){return e.id===r});return null!=o&&[].concat(n,[o,t.applicationId])}return!1},parse:function(e){return{asset:e[3],alt:e[1],applicationId:e[4]}},react:function(e,t,n){return o("div",{className:h.default.assetWrapper},n.key,o("img",{alt:e.alt,src:(0,c.getAssetURL)(e.applicationId,e.asset,800),className:h.default.asset}))}}}),E=u.default.parserFor(_),g=u.default.ruleOutput(_,"react"),S=u.default.reactFor(g),T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.state={collapsed:!0,collapsable:!0},r.handleToggleCollapse=function(){r.setState({collapsed:!r.state.collapsed})},r.setContentContainerRef=function(e){r._container=e},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){if(null!=this._container){var e=this._container.getBoundingClientRect().height>400;this.setState({collapsable:e})}},t.prototype.render=function(){var e,t=this.props,n=t.applicationId,r=t.description,a=t.blurb,u=t.className,d=t.assets,c=this.state,y=c.collapsed,m=c.collapsable;return o("div",{className:u},void 0,o("div",{className:(0,l.default)((e={},e[h.default.collapsed]=m&&y,e))},void 0,i.createElement("div",{ref:this.setContentContainerRef},o("div",{className:h.default.blurb},void 0,a),o(f.default,{className:h.default.description,parser:E,output:S,state:{assets:d,applicationId:n}},void 0,r))),m?o(s.default,{className:h.default.toggleCollapseButton,onClick:this.handleToggleCollapse,color:s.default.Colors.PRIMARY},void 0,y?p.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_MORE:p.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_LESS):null)},t}(i.PureComponent);T.displayName="ApplicationDescription",t.default=T,e.exports=t.default},6978:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(6013)),l=c(n(306)),u=c(n(442)),s=n(0),d=c(n(13)),f=c(n(5580));function c(e){return e&&e.__esModule?e:{default:e}}var p=[{feature:s.SKUFeatureTypes.SINGLE_PLAYER,getText:function(){return d.default.Messages.APPLICATION_STORE_SINGLE_PLAYER},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_SINGLE_PLAYER_TOOLTIP},iconName:l.default.Names.PERSON},{feature:s.SKUFeatureTypes.LOCAL_MULTIPLAYER,getText:function(){return d.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_MULTIPLAYER,getText:function(){return d.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.PVP,getText:function(){return d.default.Messages.APPLICATION_STORE_PVP},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_PVP_TOOLTIP},iconName:l.default.Names.MODERATION},{feature:s.SKUFeatureTypes.LOCAL_COOP,getText:function(){return d.default.Messages.APPLICATION_STORE_LOCAL_COOP},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_LOCAL_COOP_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_COOP,getText:function(){return d.default.Messages.APPLICATION_STORE_ONLINE_COOP},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_ONLINE_COOP_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.CROSS_PLATFORM,getText:function(){return d.default.Messages.APPLICATION_STORE_CROSS_PLATFORM},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_CROSS_PLATFORM_TOOLTIP},iconName:l.default.Names.SYNCED},{feature:s.SKUFeatureTypes.RICH_PRESENCE,getText:function(){return d.default.Messages.APPLICATION_STORE_RICH_PRESENCE},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_RICH_PRESENCE_TOOLTIP},iconName:l.default.Names.RICH_ACTIVITY},{feature:s.SKUFeatureTypes.DISCORD_GAME_INVITES,getText:function(){return d.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES_TOOLTIP},iconName:l.default.Names.PLUS_CIRCLE_PLAY},{feature:s.SKUFeatureTypes.SPECTATOR_MODE,getText:function(){return d.default.Messages.APPLICATION_STORE_SPECTATOR_MODE},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_SPECTATOR_MODE_TOOLTIP},iconName:l.default.Names.VIDEO_CAMERA},{feature:s.SKUFeatureTypes.CONTROLLER_SUPPORT,getText:function(){return d.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT_TOOLTIP},iconName:l.default.Names.GAMEPAD},{feature:s.SKUFeatureTypes.CLOUD_SAVES,getText:function(){return d.default.Messages.APPLICATION_STORE_CLOUD_SAVES},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_CLOUD_SAVES_TOOLTIP},iconName:l.default.Names.CLOUD},{feature:s.SKUFeatureTypes.SECURE_NETWORKING,getText:function(){return d.default.Messages.APPLICATION_STORE_SECURE_NETWORKING},getTooltip:function(){return d.default.Messages.APPLICATION_STORE_SECURE_NETWORKING_TOOLTIP},iconName:l.default.Names.SECURE_NETWORKING}],h=function(e){var t=e.iconName,n=e.text,r=e.tooltip;return o("div",{className:f.default.row},void 0,o(u.default,{text:r},void 0,o(l.default,{name:t,className:f.default.featureIcon})),o("span",{className:f.default.featureText},void 0,n),o(l.default,{name:l.default.Names.CHECKMARK,className:f.default.checkmarkIcon}))};h.displayName="ApplicationFeature";var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.sku,t=p.filter(function(t){var n=t.feature;return e.features.has(n)}).map(function(e){var t=e.feature,n=e.iconName,r=e.getText,a=e.getTooltip;return o(h,{iconName:n,text:r(),tooltip:a()},t)});return 0===t.length?null:o("div",{className:f.default.features},void 0,o(i.default,{},void 0,d.default.Messages.APPLICATION_STORE_SECTION_TITLE_FEATURES),t)},t}(a.PureComponent);y.displayName="ApplicationFeatureFlags",t.default=y,e.exports=t.default},6979:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=(s(n(840)),s(n(6013))),l=s(n(13)),u=s(n(5581));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.sku;return null==n.legalNotice?null:o("div",{className:t},void 0,o(i.default,{},void 0,l.default.Messages.APPLICATION_STORE_SECTION_TITLE_COPYRIGHT),o("div",{className:u.default.content},void 0,n.legalNotice))},t}(a.PureComponent);d.displayName="ApplicationLegalInfo",t.default=d,e.exports=t.default},6980:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(4)),u=v(n(182)),s=v(n(80)),d=v(n(851)),f=v(n(6556)),c=v(n(128)),p=v(n(6013)),h=v(n(6981)),y=v(n(13)),m=v(n(5584));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r.handleViewAllClick=function(){var e=r.props.application;s.default.push(h.default,{application:e})},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isFetched,n=e.application;t||r(function(){return u.default.getGameNews([n.id])})},t.prototype.render=function(){var e=this.props,t=e.application,n=e.news,r=e.className,o=n.length>4;return 0===n.length?null:a("div",{className:r},void 0,a(p.default,{},void 0,y.default.Messages.APPLICATION_STORE_SECTION_TITLE_NEWS),n.slice(0,4).map(function(e,n){return a(f.default,{game:t,news:e,collapsed:0!==n},e.url)}),o?a(c.default,{className:m.default.viewAllButton,size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,onClick:this.handleViewAllClick},void 0,y.default.Messages.APPLICATION_STORE_VIEW_ALL_NEWS):null)},t}(i.Component);E.displayName="ApplicationNews",t.default=l.default.connectStores([d.default],function(e){var t=e.application;return{news:d.default.getByGameId(t.id),isFetched:d.default.isFetched(t.id)}})(E),e.exports=t.default}).call(this,n(29).setImmediate)},6981:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(4)),l=h(n(80)),u=h(n(851)),s=h(n(6556)),d=h(n(152)),f=h(n(222)),c=h(n(13)),p=h(n(5583));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.close=function(){l.default.pop()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.application,n=e.news;return o(f.default,{size:f.default.Sizes.LARGE,className:p.default.modal},void 0,o(f.default.Header,{justify:d.default.Justify.BETWEEN},void 0,o("div",{},void 0,o("div",{className:p.default.headerTitle},void 0,t.name),o("div",{className:p.default.headerSubtitle},void 0,c.default.Messages.APPLICATION_STORE_ALL_NEWS)),o(f.default.CloseButton,{onClick:this.close})),o(f.default.Content,{},void 0,n.map(function(e){return o(s.default,{game:t,news:e,collapsed:!1},e.url)})))},t}(a.PureComponent);m.displayName="ApplicationAllNewsModal",t.default=i.default.connectStores([u.default],function(e){var t=e.application;return{news:u.default.getByGameId(t.id)}})(m),e.exports=t.default},6982:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=c(n(80)),i=c(n(852)),l=c(n(6557)),u=c(n(6984)),s=c(n(6986)),d=n(0),f=n(6051);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var y=2048;function m(e){return e.split("?")[0]+"?size="+y}var v=function(e){var t=e.index,n=e.items,a=h(e,["index","items"]),i=n[t],l=0,s=[],f=n,c=Array.isArray(f),p=0;for(f=c?f:f[Symbol.iterator]();;){var y;if(c){if(p>=f.length)break;y=f[p++]}else{if((p=f.next()).done)break;y=p.value}var v=y;if(v.type===d.CarouselMediaTypes.IMG){var _=v.width,E=v.height,g=v.src;v===i&&(l=s.length),s.push({src:m(g),width:_,height:E})}}return o.createElement(u.default,r({},a,{items:s,startWith:l}))};v.displayName="ZoomedCarousel";var _=function(e){function t(){var n,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return n=l=p(this,e.call.apply(e,[this].concat(s))),l.handleCurrentItemClick=function(e,t){e.type!==d.CarouselMediaTypes.IMG||i.default.hasModalOpen()||a.default.push(function(e){return o.createElement(v,r({},e,{index:t,items:l.props.items}))})},p(l,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.pageSize,n=h(e,["pageSize"]),a=t===f.PageSizes.SMALL?s.default:l.default;return o.createElement(a,r({},n,{onCurrentItemClick:this.handleCurrentItemClick}))},t}(o.Component);_.displayName="ApplicationStoreListingCarousel",t.default=_,e.exports=t.default},6983:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselWithPreview=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.normalizeIndex=h;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=f(n(310)),s=f(n(5990)),d=f(n(5585));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={tension:7,friction:5,overshootClamping:!0};function h(e,t){return(e%t+t)%t}var y=t.CarouselWithPreview=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.animatedIndex=new u.default.Value(r.props.currentIndex),r.animatedOpacity=new u.default.Value(1),r.getItemStyle=function(){var e=r.props.itemSize,t=e.width;return{flexBasis:t,marginRight:e.margin,height:e.height,width:t}},r.interpolateValueForItem=function(e){return r.animatedIndex.interpolate({inputRange:[e-1,e,e+1],outputRange:[0,1,0],extrapolate:"clamp"})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.currentIndex,r=t.items,o=h(n,r.length),a=h(e.currentIndex,r.length);o===a&&r.length===e.items.length||this.updateAnimatedIndex(o,a)},t.prototype.getCarouselTranslate=function(){var e=this.props,t=e.width,n=e.itemSize,r=e.edgeItems,o=(t-n.width)/2;return r*(n.width+n.margin)-o},t.prototype.animateToIndex=function(e,t){var n=this.animatedIndex,r=this.props.items;0===e&&t===r.length-1?n.setValue(-1):0===t&&e===r.length-1&&r.length>2&&n.setValue(r.length),u.default.spring(n,a({},p,{toValue:e})).start()},t.prototype.updateAnimatedIndex=function(e,t){var n=this.animatedIndex,r=this.animatedOpacity;this.props.animate?this.animateToIndex(e,t):u.default.timing(r,{fromValue:1,toValue:0,duration:100}).start(function(){n.setValue(e),u.default.timing(r,{fromValue:0,toValue:1,duration:100}).start()})},t.prototype.renderSingleItem=function(){var e=this.props,t=e.renderItem,n=e.items,r=e.itemSize,a=e.className;return o("div",{className:(0,l.default)(d.default.singleItemWrapper,d.default.viewport,a)},void 0,o("div",{className:d.default.singleItem,style:{width:r.width,height:r.height}},void 0,t(n[0],0)))},t.prototype.renderCarouselItems=function(){var e=this,t=this.animatedIndex,n=this.animatedOpacity,r=this.props,a=r.renderItem,i=r.items,l=r.itemSize,s=r.edgeItems,f=l.margin,c=l.width,p=this.getCarouselTranslate(),h=this.getItemStyle(),y=[].concat(i.slice(-s),i,i.slice(0,s)).map(function(t,n){return o("div",{style:h,className:d.default.item},n,a(t,n-s,e.interpolateValueForItem(n-s)))});return o(u.default.div,{className:d.default.carousel,style:{opacity:n,left:t.interpolate({inputRange:[0,1],outputRange:[-p,-f-c-p]})}},void 0,y)},t.prototype.render=function(){var e=this.props,t=e.items,n=e.className;if(t.length<=0)throw new Error("Carousel has no items");return 1===t.length?this.renderSingleItem():o("div",{className:(0,l.default)(d.default.viewport,n)},void 0,this.renderCarouselItems())},t}(i.Component);y.defaultProps={animate:!0,edgeItems:2},y.displayName="CarouselWithPreview",t.default=(0,s.default)(y)},6984:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(6399)),u=v(n(310)),s=v(n(833)),d=v(n(6171)),f=n(6985),c=v(n(6014)),p=n(6182),h=n(233),y=n(0),m=v(n(5587));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S={friction:10,tension:100};function T(e,t){return(e%t+t)%t}var I=function(e){function t(){var n,r;_(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.state={translate:new u.default.Value(0),opacity:new u.default.Value(1)},E(r,n)}return g(t,e),t.prototype.componentWillEnter=function(e){var t=this.props.directionHistory,n=this.state,r=n.translate,o=n.opacity;r.setValue(t[t.length-1]),o.setValue(0),e(),u.default.parallel([u.default.timing(o,{toValue:1,easing:u.default.Easing.out(u.default.Easing.linear),duration:200}),u.default.spring(r,a({toValue:0},S))]).start()},t.prototype.componentWillLeave=function(e){var t=this.props.directionHistory,n=this.state,r=n.opacity,o=n.translate;u.default.parallel([u.default.timing(r,{toValue:0,easing:u.default.Easing.in(u.default.Easing.linear),duration:200}),u.default.spring(o,a({toValue:-1*t[t.length-1]},S))]).start(e)},t.prototype.getStyle=function(){var e=this.state,t=e.translate,n=e.opacity;return u.default.accelerate({opacity:n,transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0px","300px"]})}]})},t.prototype.render=function(){var e=this.props.item;return o(u.default.img,{src:e.src,alt:"",className:m.default.slide,style:this.getStyle()})},t}(i.Component);I.displayName="ModalCarouselItem";var C=function(e){function t(n){_(this,t);var r=E(this,e.call(this,n));return r.gotoNext=function(){var e=r.state.currentIndex;r.navigateTo(e+1)},r.gotoPrev=function(){var e=r.state.currentIndex;r.navigateTo(e-1)},r.state={currentIndex:n.startWith,directionHistory:[]},r}return g(t,e),t.prototype.componentDidMount=function(){this.preloadNextImages(),c.default.disable(),c.default.enableTemp(f.MODAL_CAROUSEL_LAYOUT)},t.prototype.componentWillUnmount=function(){c.default.disableTemp()},t.prototype.preloadNextImages=function(){var e=this.state.currentIndex,t=this.props.items,n=T(e+1,t.length),r=T(e-1,t.length);this.preloadImage(t[n]),this.preloadImage(t[r])},t.prototype.preloadImage=function(e){(0,h.loadImage)(e.src)},t.prototype.componentDidUpdate=function(e,t){this.state.currentIndex!==t.currentIndex&&this.preloadNextImages()},t.prototype.navigateTo=function(e){var t=this.state,n=t.directionHistory,r=t.currentIndex;n.push(e-r),e=T(e,this.props.items.length),this.setState({currentIndex:e,directionHistory:n})},t.prototype.render=function(){var e=this.props.onClose,t=this.state,n=t.currentIndex,r=t.directionHistory;return o(s.default,{component:"div",className:m.default.wrapper,onClick:e},void 0,o(p.CarouselPrevious,{className:m.default.navPrev,onClick:this.gotoPrev}),o(I,{item:this.props.items[n],directionHistory:r},this.props.items[n].src),o(p.CarouselNext,{className:m.default.navNext,onClick:this.gotoNext}))},t}(i.Component);C.defaultProps={startWith:0},C.displayName="ModalCarousel",t.default=(0,d.default)(function(e,t){var n;return(n={})[y.ComponentActions.MODAL_CAROUSEL_NEXT]=(0,l.default)(t.gotoNext,300),n[y.ComponentActions.MODAL_CAROUSEL_PREV]=(0,l.default)(t.gotoPrev,300),n})(C),e.exports=t.default},6985:function(e,t,n){"use strict";var r;t.__esModule=!0,t.MODAL_CAROUSEL_LAYOUT=void 0;var o=n(6551),a=n(0);t.MODAL_CAROUSEL_LAYOUT=((r={})[a.KeybindActions.MODAL_CAROUSEL_NEXT]=o.MODAL_CAROUSEL_NEXT,r[a.KeybindActions.MODAL_CAROUSEL_PREV]=o.MODAL_CAROUSEL_PREV,r)},6986:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=m(n(17)),u=m(n(6163)),s=m(n(221)),d=n(6075),f=m(n(6096)),c=n(6557),p=n(0),h=n(6051),y=m(n(5588));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){var t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return i.createElement(f.default,a({},n,{className:(0,l.default)(y.default.sizedToParent,t),mediaPlayerClassName:y.default.sizedToParent}))};_.displayName="CarouselVideo";var E={width:1280,height:720},g={width:640,height:360},S=function(e){var t=e.item,n=e.onPlay,r=e.volume,i=e.onVolumeChange,l=e.onMute,u=e.isMuted,s=void 0,f=void 0;if(t.type===p.CarouselMediaTypes.YOUTUBE_VIDEO)s=a({url:(0,p.YOUTUBE_PREVIEW_URL)(t.youtubeVideoId)},E),f=a({url:(0,p.YOUTUBE_EMBED_URL)(t.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},g);else{var m=null!=t.width?t.width:0,v=null!=t.height?t.height:0;s={url:t.thumbnailSrc,width:m,height:v},f={url:t.src,proxyURL:t.src,width:m,height:v}}return o("div",{className:y.default.embedContainer},void 0,o(d.EmbedVideo,{className:y.default.sizedToParent,href:null,thumbnail:s,VideoComponent:_,video:f,maxHeight:c.ItemSizes.SMALL.height,maxWidth:h.PageSizes.SMALL,onPlay:n,playable:!0,volume:r,onVolumeChange:i,autoMute:u,onMute:l,autoPlay:!0}))};S.displayName="Video";var T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=v(this,e.call.apply(e,[this].concat(i))),r.state={hasInteracted:!1,isVideoPlaying:!1,isMuted:!0,volume:1},r.handlePlay=function(e){r.setState({isVideoPlaying:!0,hasInteracted:!e})},r.handleVolumeChange=function(e){r.setState({volume:e,hasInteracted:!0})},r.handleMute=function(e){r.setState({isMuted:e,hasInteracted:!0})},r.handleChangeItem=function(){r.setState({isVideoPlaying:!1})},r.handleIntentionalChange=function(e,t,n,o){r.setState({hasInteracted:!0});var a=r.props.onIntentionalChange;null!=a&&a(e,t,n,o)},r.renderItem=function(e,t){var n=r.state,a=n.isMuted,i=n.volume,l=void 0;switch(e.type){case p.CarouselMediaTypes.YOUTUBE_VIDEO:case p.CarouselMediaTypes.VIDEO:l=o(S,{item:e,onPlay:r.handlePlay,isMuted:a,volume:i,onVolumeChange:r.handleVolumeChange,onMute:r.handleMute});break;case p.CarouselMediaTypes.IMG:l=o("img",{className:y.default.smallCarouselImage,src:e.src,alt:""});break;default:throw new Error("Unexpected MediaType")}return o(s.default,{className:y.default.smallCarouselItem,onClick:function(){return r.handleCurrentItemClick(e,t)}},void 0,l)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},t.prototype.render=function(){var e=this.props,t=e.items,n=e.autoplayInterval,r=e.paused,a=this.state.hasInteracted;return o(u.default,{items:t.slice(0,12),delay:n,paused:r||a,renderItem:this.renderItem,className:y.default.smallCarousel,onIntentionalChange:this.handleIntentionalChange,onChangeItem:this.handleChangeItem})},t}(i.PureComponent);T.defaultProps={paused:!1},T.displayName="SmallMediaCarousel",t.default=T,e.exports=t.default},6987:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(839),l=(d(n(112)),d(n(6403))),u=d(n(13)),s=d(n(5589));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleDisagree=function(){(0,i.matureDisagree)()},r.handleAgree=function(){(0,i.matureAgree)()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.game.name;return o("div",{className:s.default.matureListing},void 0,o(l.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:u.default.Messages.MATURE_LISTING_TITLE.format({name:e}),description:u.default.Messages.MATURE_LISTING_DESCRIPTION,agreement:u.default.Messages.MATURE_LISTING_ACCEPT,disagreement:u.default.Messages.MATURE_LISTING_DECLINE}))},t}(a.PureComponent);c.displayName="ApplicationStoreListingMature",t.default=c,e.exports=t.default},6988:function(e,t,n){"use strict";t.__esModule=!0,t.ApplicationStorePurchaseUnit=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=w(n(17)),l=n(223),u=w(n(4)),s=n(476),d=w(n(831));n(130);var f=w(n(90)),c=w(n(15)),p=w(n(862)),h=w(n(6989)),y=w(n(128)),m=w(n(152)),v=w(n(306)),_=w(n(225)),E=n(844),g=n(6004),S=w(n(6024)),T=w(n(6044)),I=w(n(6990)),C=w(n(6991)),N=w(n(6558)),A=w(n(6992)),O=n(6337),b=w(n(6993)),M=n(0),R=w(n(13)),P=w(n(5375)),L=w(n(5595));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var U=t.ApplicationStorePurchaseUnit=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=D(this,e.call.apply(e,[this].concat(i))),r._applicationBuyButtonRef=a.createRef(),r.handleViewLibrary=function(e){var t=r.props.libraryApplication;null!=t&&t.isHidden()&&(e.preventDefault(),d.default.open(M.UserSettingsSections.GAME_LIBRARY))},D(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isEntitled,n=e.isFetchingEntitlementsForApplication,r=e.sku,o=e.currentUser;null!=t||n||null==o||r.type===M.SKUTypes.GAME||(0,s.fetchUserEntitlementsForApplication)(r.applicationId)},t.prototype.getApplicationBuyButton=function(){return this._applicationBuyButtonRef.current},t.prototype.getActionText=function(){var e=this.props,t=e.sku,n=e.isEntitled,r=e.storeListing,o=function(e){switch(e.type){case M.SKUTypes.DLC:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_DLC,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_DLC,preorder:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_DLC,preorderEntitled:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.CONSUMABLE:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_CONSUMABLE,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_CONSUMABLE,preorder:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_CONSUMABLE,preorderEntitled:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.BUNDLE:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_BUNDLE,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_BUNDLE,preorder:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_BUNDLE,preorderEntitled:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.GAME:default:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_APPLICATION,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_APPLICATION,preorder:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_APPLICATION,preorderEntitled:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED}}}(t),a=null!=r.entitlementBranchId;return!t.available&&t.premium?R.default.Messages.APPLICATION_STORE_COMING_SOON:t.isPreorder()&&!a?n?o.preorderEntitled:o.preorder:t.requiresPayment&&!a?o.distribution:o.free},t.prototype.renderHeader=function(){var e=this.props,t=e.isEntitled,n=e.libraryApplication,r=e.sku,a=e.currentUser;if(!0===t){var i=null!=n&&n.isHidden();return o(l.Link,{className:L.default.entitledHeader,to:{pathname:M.Routes.APPLICATION_LIBRARY,state:{applicationId:null!=n?n.id:null}},onClick:this.handleViewLibrary},void 0,o(v.default,{name:v.default.Names.LIBRARY,className:L.default.entitledHeaderIcon}),o("div",{},void 0,i?R.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:R.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}return r.exclusive?o("div",{className:L.default.exclusiveHeader},void 0,o("div",{className:L.default.exclusiveHeaderExclusive},void 0,R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FIRST_ON),o(v.default,{name:v.default.Names.DISCORD_WORDMARK,className:L.default.exclusiveHeaderIcon})):r.premium?o("div",{className:L.default.premiumHeader},void 0,o(v.default,{name:v.default.Names.NITRO,className:L.default.premiumHeaderIcon}),_.default.canInstallPremiumApplications(a)?null:o("div",{className:L.default.premiumHeaderPrice},void 0,R.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,E.formatPrice)(M.SubscriptionPlanInfo[M.SubscriptionPlans.PREMIUM_MONTH_TIER_2].price,M.CurrencyCodes.USD)}))):null},t.prototype.renderAlternativeSkus=function(){var e=this.props,t=e.storeListing,n=e.sku,r=e.guildId,i=e.channelId;return null!=t.entitlementBranchId||0===t.alternativeSkuIds.length?null:o(a.Fragment,{},void 0,o("div",{className:L.default.actionText},void 0,R.default.Messages.APPLICATION_STORE_LISTING_SELECT_EDITION),o(I.default,{storeListing:t,selectedSkuId:n.id,className:L.default.alternativeSkus,guildId:r,channelId:i}))},t.prototype.renderAccuratePreorderInfo=function(){var e=this.props,t=e.isEntitled,n=e.sku,r=e.isFocused;return n.isPreorder()&&null!=n.preorderReleaseAt&&t?o("div",{className:L.default.countdownSection},void 0,o("div",{className:L.default.countdownHeader},void 0,R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_TIME_LEFT_UNTIL_RELEASE),o(h.default,{endTime:n.preorderReleaseAt.valueOf(),interval:r?1e3:6e4})):null},t.prototype.renderApproximatePreorderInfo=function(){var e=this.props,t=e.isEntitled,n=e.sku;if(!n.isPreorder()||null==n.preorderApproximateReleaseDate&&null!=n.preorderReleaseAt&&t)return null;var r=(0,g.getReadablePreorderReleaseDate)(n);return o("div",{className:L.default.releaseDate},void 0,R.default.Messages.APPLICATION_STORE_PURCHASE_AVAILABLE_DATE.format({releaseDate:r}))},t.prototype.renderPrice=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isEntitled;if(t.restricted)return o("div",{className:L.default.price},void 0,R.default.Messages.APPLICATION_STORE_RESTRICTED);var a=null!=n.entitlementBranchId;return t.available&&(t.premium||null!=t.getPrice())||a?o("div",{className:L.default.price},void 0,o(T.default,{type:T.default.Types.LISTING,inLibrary:!0===r,sku:t,hasEntitlementBranch:a}),this.renderApproximatePreorderInfo()):!t.available&&t.premium?o("div",{className:(0,i.default)(L.default.price,P.default.listingPrice)},void 0,R.default.Messages.APPLICATION_STORE_FREE_WITH_PREMIUM):o("div",{className:L.default.price},void 0,R.default.Messages.APPLICATION_STORE_COMING_SOON)},t.prototype.renderBody=function(){var e=this.props,t=e.sku,n=e.game,r=e.channelId,i=e.isEntitled,l=e.isUserPremium,u=e.storeListing,s=t.isGiftable(),d=null!=u.entitlementBranchId;return o(a.Fragment,{},void 0,this.renderAccuratePreorderInfo(),o(m.default,{justify:m.default.Justify.BETWEEN,align:m.default.Align.CENTER,className:L.default.headerBar},void 0,o("div",{className:L.default.actionText},void 0,this.getActionText()),o(O.OperatingSystemSection,{systems:t.supportedOperatingSystems})),this.renderPrice(),!0!==i||!s||d?o(a.Fragment,{},void 0,a.createElement(S.default,{ref:this._applicationBuyButtonRef,skuId:t.id,applicationId:n.id,channelId:r,entitlementBranchId:u.entitlementBranchId,fullWidth:!0,onStoreListing:!0}),t.premium&&!l&&t.isAvailableForDistribution()&&!d?o(S.default,{skuId:t.id,applicationId:n.id,channelId:r,color:y.default.Colors.PRIMARY,className:L.default.secondaryBuyButton,forceDistribution:!0,shouldRenderPrice:!0,fullWidth:!0,onStoreListing:!0}):null):null,s&&!d?o(S.default,{asGift:!0,className:L.default.secondaryBuyButton,skuId:t.id,applicationId:n.id,channelId:r,fullWidth:!0,onStoreListing:!0,color:!0===i?y.default.Colors.GREEN:y.default.Colors.PRIMARY,hover:y.default.Hovers.DEFAULT}):null,o(N.default,{className:L.default.purchaseError}),o(A.default,{className:L.default.warning,sku:t}))},t.prototype.render=function(){var e=this.props,t=e.game,n=e.storeListing,r=e.sku,a=e.guildId,i=e.channelId,l=e.fetchStoreListing,u=e.className;return o("div",{className:u},void 0,this.renderHeader(),o("div",{className:L.default.bodySection},void 0,this.renderAlternativeSkus(),this.renderBody()),null==n.entitlementBranchId?o("div",{className:L.default.bodySection},void 0,o(b.default,{storeListing:n,sku:r,guildId:a,channelId:i,fetchStoreListing:l})):null,o("div",{className:L.default.bodySection},void 0,o(C.default,{game:t,sku:r})))},t}(a.PureComponent);U.displayName="ApplicationStorePurchaseUnit",t.default=u.default.connectStores([c.default,p.default,f.default],function(e){var t=e.sku,n=e.game,r=e.storeListing,o=c.default.getNullableCurrentUser(),a=null!=r.entitlementBranchId?r.entitlementBranchId:n.id;return{isUserPremium:_.default.canInstallPremiumApplications(o),isEntitled:p.default.isEntitledToSku(o,t.id,n.id,a),isFetchingEntitlementsForApplication:p.default.applicationIdsFetching.has(t.applicationId),libraryApplication:f.default.getLibraryApplication(n.id,a),currentUser:o}})(U)},6989:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=n(81),u=n(5992),s=c(n(6332)),d=c(n(13)),f=c(n(5590));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={now:Date.now()},r.interval=new l.Interval,r.handleIntervalUpdate=function(){r.setState({now:Date.now()})},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.interval.start(this.props.interval,this.handleIntervalUpdate)},t.prototype.componentWillUnmount=function(){this.interval.stop()},t.prototype.componentDidUpdate=function(e){this.props.interval!==e.interval&&this.interval.start(this.props.interval,this.handleIntervalUpdate)},t.prototype.renderSection=function(e,t,n){return o("div",{className:n?f.default.unitClose:f.default.unitNormal},void 0,o(s.default,{className:f.default.duration,value:e,padStartLength:2,forcePosition:s.default.Positions.ABOVE}),o("div",{className:f.default.header},void 0,t))},t.prototype.render=function(){var e=this.props,t=e.endTime,n=e.className,r=(0,u.diffAsUnits)(this.state.now,t),a=r.days<1;return o("div",{className:(0,i.default)(f.default.countdown,n)},void 0,this.renderSection(r.days,d.default.Messages.APPLICATION_STORE_COUNTDOWN_DAYS,a),this.renderSection(r.hours,d.default.Messages.APPLICATION_STORE_COUNTDOWN_HOURS,a),this.renderSection(r.minutes,d.default.Messages.APPLICATION_STORE_COUNTDOWN_MINUTES,a),this.renderSection(r.seconds,d.default.Messages.APPLICATION_STORE_COUNTDOWN_SECONDS,a))},t}(a.Component);h.defaultProps={interval:1e3},h.displayName="ApplicationStoreCountdown",t.default=h,e.exports=t.default},6990:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=n(223),s=v(n(4)),d=v(n(5980));n(316);var f=v(n(179)),c=v(n(306)),p=v(n(442)),h=n(133),y=n(0),m=v(n(5591));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSku=function(e,t){var n=this.props,r=n.selectedSkuId,o=n.guildId,i=n.channelId,l=e.id===r;return a(p.default,{text:e.getDisplayPrice()},e.id,a(u.Link,{className:l?m.default.alternativeSkuSelected:m.default.alternativeSkuDefault,to:(0,h.getStoreListingLocation)(e.id,{guildId:o,channelId:i,slug:e.slug,analyticsSource:this.analyticsLocation})},void 0,l?a(c.default,{name:c.default.Names.CHECKMARK,className:m.default.selectedIcon}):null,t))},t.prototype.render=function(){var e=this,t=this.props,n=t.skus,r=t.className;return 0===n.length?null:a("div",{className:r},void 0,a("div",{className:m.default.alternativeSkus},void 0,n.map(function(t){return e.renderSku(t,t.name)})))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return o({},e,{object:y.AnalyticsObjects.ALTERNATIVE_SKU})}}]),t}(l.PureComponent);_.displayName="AlternativeSkus",t.default=s.default.connectStores([f.default],function(e){return{skus:e.storeListing.alternativeSkuIds.map(function(e){return f.default.get(e)}).filter(function(e){return null!=e})}})((0,d.default)(_)),e.exports=t.default},6991:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=m(n(2)),i=y(n(17)),l=n(223),u=y(n(5980)),s=(y(n(112)),y(n(840)),y(n(6013))),d=m(n(5992)),f=n(6004),c=n(0),p=y(n(13)),h=y(n(5592));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=function(e){var t=e.label,n=e.value;return o("div",{className:h.default.row},void 0,o("label",{className:h.default.label},void 0,t,":"),o("span",{className:h.default.info},void 0,n))};v.displayName="Row";var _=o("span",{},void 0,", "),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReleaseDate=function(){var e=this.props.sku;return null==e.releaseDate?null:o(v,{label:p.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,value:d.dateFormat(e.releaseDate,"LL")})},t.prototype.renderGenres=function(){var e=this.props,t=e.sku,n=e.analyticsContext.location;if(null==t.genres||0===t.genres.size)return null;var r=[];return t.genres.forEach(function(e){var i=(0,f.getGenreURLSlugFromId)(e),u=null!=i?"?genre="+i:"";r.push(o(a.Fragment,{},e,o(l.Link,{to:{pathname:c.Routes.APPLICATION_STORE_BROWSE,search:u,state:{scrollRestoration:!1,analyticsSource:n}},className:h.default.genre},void 0,(0,f.getGenreText)(e)),r.length<t.genres.size-1?_:null))}),o(v,{label:p.default.Messages.APPLICATION_STORE_DETAILS_GENRES,value:r})},t.prototype.renderDevelopers=function(){var e=this.props.game;if(0===e.developers.length)return null;var t=e.developers.map(function(e){return e.name}).join(", ");return o(v,{label:p.default.Messages.APPLICATION_STORE_DETAILS_DEVELOPER,value:t})},t.prototype.renderPublishers=function(){var e=this.props.game;if(0===e.publishers.length)return null;var t=e.publishers.map(function(e){return e.name}).join(", ");return o(v,{label:p.default.Messages.APPLICATION_STORE_DETAILS_PUBLISHER,value:t})},t.prototype.render=function(){var e=this.props.className;return o("div",{className:(0,i.default)(e,h.default.details)},void 0,o(s.default,{className:h.default.contentHeader},void 0,p.default.Messages.APPLICATION_STORE_SECTION_TITLE_DETAILS),this.renderReleaseDate(),this.renderGenres(),this.renderDevelopers(),this.renderPublishers())},t}(a.Component);E.displayName="ApplicationDetails",t.default=(0,u.default)(E),e.exports=t.default},6992:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=N(n(17)),l=n(223),u=N(n(4)),s=N(n(80)),d=n(321),f=N(n(35)),c=N(n(15)),p=N(n(862)),h=N(n(179)),y=N(n(221)),m=N(n(314)),v=n(9),_=N(v),E=n(133),g=n(858),S=N(n(456)),T=n(0),I=N(n(13)),C=N(n(5593));function N(e){return e&&e.__esModule?e:{default:e}}var A=Object.freeze({RESTRICTED_IN_REGION:1,REQUIRES_DESKTOP_APP:2,UNAVAILABLE_OPERATING_SYSTEM:3,DLC_REQUIRES_BASE_APPLICATION:4,EARLY_ACCESS:5,UNAVAILABLE_IN_LANGUAGE:6}),O=m.default.getArticleURL(T.HelpdeskArticles.APPLICATION_STORE_OVERVIEW),b=m.default.getArticleURL(T.HelpdeskArticles.APPLICATION_STORE_EARLY_ACCESS),M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.dependentSku;null!=t.dependentSkuId&&null==n&&(0,d.fetchSKU)(t.applicationId,t.dependentSkuId)},t.prototype.getTitle=function(e){switch(e){case A.RESTRICTED_IN_REGION:return I.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_TITLE;case A.REQUIRES_DESKTOP_APP:return I.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE;case A.UNAVAILABLE_OPERATING_SYSTEM:switch(_.default.getPlatform()){case v.PlatformTypes.WINDOWS:return I.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_WINDOWS_TITLE;case v.PlatformTypes.OSX:return I.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_MAC_OS_TITLE;case v.PlatformTypes.LINUX:return I.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_LINUX_TITLE;default:return I.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE}case A.DLC_REQUIRES_BASE_APPLICATION:return I.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_TITLE;case A.EARLY_ACCESS:return I.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_TITLE;case A.UNAVAILABLE_IN_LANGUAGE:return I.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_TITLE}},t.prototype.getDescription=function(e){var t=this;switch(e){case A.RESTRICTED_IN_REGION:return I.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_DESCRIPTION.format({helpArticle:O});case A.REQUIRES_DESKTOP_APP:return I.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_DESCRIPTION.format({downloadHook:function(e,n){return g.isMobile?e:o(y.default,{className:C.default.link,tag:"a",onClick:t.handleDownloadApps},n,e)}});case A.UNAVAILABLE_OPERATING_SYSTEM:return I.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_OS_DESCRIPTION;case A.DLC_REQUIRES_BASE_APPLICATION:var n=this.props.dependentSku;return null==n?null:I.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_DESCRIPTION.format({baseName:n.name,helpArticle:O,baseHook:function(e,t){return o(l.Link,{to:{pathname:T.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:T.AnalyticsLocations.APPLICATION_STORE_WARNING}}},t,e)}});case A.EARLY_ACCESS:return I.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_DESCRIPTION.format({helpArticle:b});case A.UNAVAILABLE_IN_LANGUAGE:return I.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_DESCRIPTION}},t.prototype.handleDownloadApps=function(){s.default.push(S.default,{source:T.AnalyticsLocations.APPLICATION_STORE_WARNING})},t.prototype.getColorClass=function(e){switch(e){case A.RESTRICTED_IN_REGION:return C.default.red;default:return C.default.yellow}},t.prototype.renderWarning=function(e){var t=this.getTitle(e),n=this.getDescription(e);return o("div",{className:(0,i.default)(C.default.warning,this.getColorClass(e))},e,o("div",{className:C.default.title},void 0,t),o("div",{className:C.default.description},void 0,n))},t.prototype.render=function(){var e=this.props,t=e.sku,n=e.dependentSku,r=e.isEntitledToDependentSku,a=e.className,i=[];return t.restricted&&i.push(this.renderWarning(A.RESTRICTED_IN_REGION)),_.default.isWeb()?i.push(this.renderWarning(A.REQUIRES_DESKTOP_APP)):t.supportedOperatingSystems.includes((0,E.nativePlatformTypeToSKUOperatingSystem)(_.default.getPlatform()))||i.push(this.renderWarning(A.UNAVAILABLE_OPERATING_SYSTEM)),null==n||r||i.push(this.renderWarning(A.DLC_REQUIRES_BASE_APPLICATION)),t.accessType===T.SKUAccessTypes.EARLY_ACCESS&&i.push(this.renderWarning(A.EARLY_ACCESS)),0===i.length?null:o("div",{className:a},void 0,i)},t}(a.PureComponent);M.displayName="ApplicationStoreWarning",t.default=u.default.connectStores([c.default,f.default,p.default],function(e){var t=e.sku,n=null!=t.dependentSkuId?h.default.get(t.dependentSkuId):null;return{locale:f.default.locale,dependentSku:n,isEntitledToDependentSku:null!=t.dependentSkuId&&!0===p.default.isEntitledToSku(c.default.getNullableCurrentUser(),t.dependentSkuId,t.applicationId)}})(M),e.exports=t.default},6993:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(223),l=_(n(4)),u=n(321),s=_(n(5980)),d=_(n(43)),f=_(n(179)),c=_(n(838)),p=_(n(128)),h=n(133),y=n(0),m=_(n(13)),v=_(n(5594));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e){var t=e.applicationId,n=(0,h.getPrimarySKUForApplication)(t,d.default,f.default);return null!=n?c.default.getForSKU(n.id):null}var S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.state={isCollapsed:!0},r.handleCollapsedToggle=function(){r.setState({isCollapsed:!r.state.isCollapsed})},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.relatedSkuIds,r=e.fetchStoreListing;if(null==g(t))r(t.id);else if(null!=n){var o=n,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var s=l;(0,u.fetchSKU)(t.applicationId,s)}}},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.sku,r=t.relatedSkuIds;if(null!=r&&r!==e.relatedSkuIds){var o=r,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var s=l;(0,u.fetchSKU)(n.applicationId,s)}}},t.prototype.renderSection=function(e,t,n){var r=this.props,l=r.sku,u=r.channelId,s=r.guildId,d=r.analyticsContext,f=this.state.isCollapsed,c=5===t.length?5:4,_=f?t.slice(0,c):t,E=_.map(function(e,t){return o(i.Link,{className:n&&t===_.length-1?v.default.skuLast:v.default.skuNormal,to:(0,h.getStoreListingLocation)(e.id,{guildId:s,channelId:u,slug:e.slug,analyticsSource:d.location})},e.id,o("div",{className:v.default.name},void 0,e.name),o("div",{className:v.default.price},void 0,null!=e.getPrice()?e.getDisplayPrice():null))});return 0===E.length?null:o(a.Fragment,{},void 0,o("div",{className:v.default.title},void 0,function(e,t){if(e===t)switch(e){case y.SKUTypes.GAME:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_SAME;case y.SKUTypes.DLC:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_SAME;case y.SKUTypes.CONSUMABLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_SAME;case y.SKUTypes.BUNDLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_SAME}else switch(e){case y.SKUTypes.GAME:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_DIFFERENT;case y.SKUTypes.DLC:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_DIFFERENT;case y.SKUTypes.CONSUMABLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_DIFFERENT;case y.SKUTypes.BUNDLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_DIFFERENT}}(e,l.type)),E,c<t.length&&f?o(p.default,{color:p.default.Colors.PRIMARY,size:p.default.Sizes.SMALL,onClick:this.handleCollapsedToggle,className:v.default.collapseButton},void 0,m.default.Messages.APPLICATION_STORE_EXPAND_DOWNLOADABLE_CONTENT):null)},t.prototype.render=function(){var e=this.props.relatedSKUs;if(0===e.length)return null;var t=e.filter(function(e){return e.type===y.SKUTypes.BUNDLE}),n=e.filter(function(e){return e.type===y.SKUTypes.DLC}),r=e.filter(function(e){return e.type===y.SKUTypes.CONSUMABLE});return o("div",{},void 0,this.renderSection(y.SKUTypes.BUNDLE,t,0===n.length&&0===r.length),this.renderSection(y.SKUTypes.DLC,n,0===r.length),this.renderSection(y.SKUTypes.CONSUMABLE,r,!0))},t}(a.PureComponent);S.displayName="RelatedContent",t.default=l.default.connectStores([c.default,f.default],function(e){var t=e.sku,n=g(t);return{relatedSkuIds:null!=n?n.childSkuIds:null,relatedSKUs:null!=n?n.childSkuIds.filter(function(e){return t.id!==e}).map(f.default.get):[]}})((0,s.default)(S)),e.exports=t.default},6994:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=S(n(17)),l=S(n(4)),u=S(n(6048)),s=S(n(6028)),d=S(n(15)),f=S(n(6555)),c=S(n(179)),p=S(n(838)),h=S(n(6559)),y=n(133),m=S(n(6995)),v=S(n(6996)),_=n(0),E=S(n(13)),g=S(n(5599));function S(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReasons=function(e,t){return 0===e.length&&0===t.length?null:o("div",{className:g.default.section},void 0,o("div",{className:g.default.sectionContent},void 0,e.map(function(e){return o("div",{className:g.default.unit},e.type,o(m.default,{reason:e}))}),t.map(function(e){return o("div",{className:g.default.unit},e.type,o(h.default,{reason:e}))})))},t.prototype.getReviewToRender=function(){var e=this.props,t=e.storeListing,n=e.nonSocialReasons;if(null!=t.staffNotes)return{type:v.default.Types.STAFF_NOTES,staffNotes:t.staffNotes};var r=n.find(function(e){return e.type===_.StoreRecommendationTypes.METACRITIC_SCORE&&null!=e.reviewAggregator.reviews&&e.reviewAggregator.reviews.length>0});if(null!=r){if(r.type!==_.StoreRecommendationTypes.METACRITIC_SCORE||null==r.reviewAggregator)throw new Error("Unexpected null reviewAggregator");return{type:v.default.Types.METACRITIC_REVIEW,reviewAggregator:r.reviewAggregator}}return null},t.prototype.render=function(){var e=this.props,t=e.socialReasons,n=e.nonSocialReasons,r=e.storeListing,a=e.className;if(0===t.length&&0===n.length&&null==r.staffNotes)return null;var l=n,u=this.getReviewToRender();return null!=u&&u.type===v.default.Types.METACRITIC_REVIEW&&(l=n.filter(function(e){return e.type!==_.StoreRecommendationTypes.METACRITIC_SCORE})),o("div",{className:(0,i.default)(g.default.root,a)},void 0,o("div",{className:g.default.header},void 0,E.default.Messages.APPLICATION_STORE_SECTION_TITLE_RECOMMENDATION),this.renderReasons(t,l),null!=u?o(v.default,{data:u,className:g.default.review}):null)},t}(a.Component);T.displayName="ApplicationWhyYouMightLikeIt",t.default=l.default.connectStores([c.default,d.default,p.default,u.default,s.default,f.default],function(e){var t=e.sku;return{socialReasons:(0,y.getSocialRecommendationReasons)(t.id,c.default,d.default,u.default,s.default,f.default),nonSocialReasons:(0,y.getNonSocialRecommendationReasons)(t.id,c.default,p.default)}})(T),e.exports=t.default},6995:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=_(n(17)),s=_(n(5979)),d=_(n(6012)),f=_(n(827)),c=_(n(6063)),p=_(n(442));n(133);var h=_(n(5353)),y=n(0),m=_(n(13)),v=_(n(5597));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=((o={})[y.StoreRecommendationTypes.NOW_PLAYING]={single:function(e,t){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})}},o[y.StoreRecommendationTypes.RECENTLY_PLAYED]={single:function(e,t){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})}},o[y.StoreRecommendationTypes.EVER_PLAYED]={single:function(e,t){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return m.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}},o),S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=Array(o),y=0;y<o;y++)c[y]=arguments[y];return n=r=E(this,e.call.apply(e,[this].concat(c))),r.renderUserPopout=function(e,t){return l.createElement(h.default,i({},t,{user:e}))},r.renderUserTooltip=function(e,t,n){return a("div",{className:v.default.tooltip},void 0,a("div",{},void 0,e.tag),a(d.default,{className:v.default.tooltipTimestamp,start:t,end:n,location:d.default.Locations.ACTIVITY_FEED}))},r.renderPlayer=function(e,t,n,o){var i,l=e;if(null==l)return null;var d=r.props.reason.userInfo.find(function(e){return e.user===l});return null==d?null:a(f.default,{render:function(e){return r.renderUserPopout(l,e)},position:f.default.Positions.RIGHT,closeOnScroll:!1},l.id,a(p.default,{text:r.renderUserTooltip(l,d.startTime,d.endTime)},void 0,a(s.default,{className:(0,u.default)(v.default.playerAvatar,(i={},i[v.default.avatarMasked]=!o,i)),src:l.getAvatarURL(),size:s.default.Sizes.SMALL})))},r.renderPlayerOverflow=function(e,t,n){return a("div",{className:v.default.playerOverflow},n,e)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(e,t){var n=this,r=g[e];return 1===t.length?r.single(t[0].user,function(e){return n.renderActivityDiscordTag(e)}):2===t.length?r.double(t[0].user,t[1].user,function(e){return n.renderActivityDiscordTag(e)}):r.other(t.length)},t.prototype.renderActivityDiscordTag=function(e){var t=this;return a(f.default,{render:function(n){return t.renderUserPopout(e,n)},position:f.default.Positions.RIGHT,closeOnScroll:!1},e.id,a("span",{className:v.default.username},void 0,e.username))},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className,r=t.type,o=t.userInfo;return 0===o.length?null:a("div",{className:(0,u.default)(v.default.recommendationActivity,n)},void 0,a(c.default,{className:v.default.players,users:o.map(function(e){return e.user}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),a("div",{className:v.default.description},void 0,this.renderDescription(r,o)))},t}(l.PureComponent);S.displayName="ApplicationRecommendationActivity",t.default=S,e.exports=t.default},6996:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),y(n(17))),i=y(n(4)),l=y(n(154)),u=y(n(311)),s=n(5979),d=y(n(6559)),f=y(n(5994)),c=n(0),p=y(n(13)),h=y(n(5598));function y(e){return e&&e.__esModule?e:{default:e}}var m=Object.freeze({STAFF_NOTES:1,METACRITIC_REVIEW:2}),v=function(e){var t=e.user,n=e.className,r=e.animate;return o("div",{className:(0,a.default)(h.default.staffReviewHeader,n)},void 0,o(f.default,{outerClassName:h.default.avatar,size:s.AvatarSizes.LARGE,user:t,animate:r}),o("div",{className:h.default.headerText},void 0,o("div",{className:h.default.label},void 0,p.default.Messages.APPLICATION_STORE_STAFF_PICK),o("div",{className:h.default.username},void 0,t.username)))};v.displayName="StaffReason";var _=i.default.connectStores([l.default],function(){return{animate:l.default.isFocused()}})(v),E=function(e){var t=e.data,n=e.className;if(t.type===m.STAFF_NOTES){if(null==t.staffNotes)return null;var r=t.staffNotes,a=r.user,i=r.content;return null==a?null:o("div",{className:n},void 0,o(_,{user:a,className:h.default.header}),o("div",{className:h.default.notes},void 0,i))}if(t.type===m.METACRITIC_REVIEW){var l=t.reviewAggregator;if(null==l.reviews)return null;for(var s=l.reviews[0],f=1;f<l.reviews.length;f++){var p=l.reviews[f];null!=p.score&&p.score>(null!=s.score?s.score:0)&&(s=p)}return o("div",{className:n},void 0,o(d.default,{reason:{type:c.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:t.reviewAggregator},className:h.default.header}),o("div",{className:h.default.notes},void 0,s.quote),o("div",{className:h.default.publisher},void 0,null!=s.url&&0!==s.url.length?o(u.default,{href:s.url,className:h.default.publisherAnchor},void 0,s.publisher):s.publisher))}throw new Error("Unknown type")};E.Types=m,t.default=E,e.exports=t.default},6997:function(e,t,n){"use strict";var r;t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=h;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var i=f(n(6013)),l=f(n(6998)),u=n(6560),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.review,n=e.className,r=(0,u.getRatingTier)(t);return null==r?null:a("div",{className:n},void 0,a(i.default,{},void 0,d.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC),a(l.default,{score:t.criticScore,scoreColor:r.color,icon:l.default.Icons.METACRITIC,url:t.url},void 0,a(l.default.Verdict,{},void 0,r.label),a("span",{},void 0,d.default.Messages.METACRITIC_NUM_CRITIC_RATINGS.format({numRatings:t.criticTotalRatings})),a("span",{},void 0,d.default.Messages.METACRITIC_USER_SCORE.format({score:t.secondaryScore,numRatings:t.secondaryTotalRatings}))))}c.displayName="MetacriticReviewScoreCard";var p=((r={})[s.ReviewAggregators.METACRITIC]=c,r);function h(e){var t=e.review,n=e.className,r=p[t.aggregator];if(null==r)throw new Error("unknown review aggregator "+t.aggregator);return a(r,{review:t,className:n})}h.displayName="ReviewScoreCardWrapper",e.exports=t.default},6998:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(221)),l=c(n(152)),u=n(306),s=c(u),d=c(n(129)),f=c(n(5600));function c(e){return e&&e.__esModule?e:{default:e}}var p=Object.freeze({METACRITIC:u.IconNames.METACRITIC});function h(e){var t=e.children;return o(d.default,{size:d.default.Sizes.MEDIUM,weight:d.default.Weights.SEMIBOLD,className:f.default.verdict},void 0,t)}h.displayName="ReviewScoreCardVerdict";var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderIcon=function(){var e=this.props.icon;return null==e?null:o(s.default,{name:e,width:100,height:100,className:f.default.icon})},t.prototype.renderCard=function(){var e=this.props,t=e.score,n=e.scoreColor,r=e.children;return o(l.default,{direction:l.default.Direction.HORIZONTAL,className:f.default.card},void 0,o(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,grow:0,shrink:0,className:f.default.score,style:{backgroundColor:n}},void 0,t),o(l.default,{direction:l.default.Direction.VERTICAL,className:f.default.body},void 0,this.renderIcon(),r))},t.prototype.render=function(){var e=this.props.url;return null==e?this.renderCard():o(i.default,{tag:"a",href:e,rel:"noreferrer noopener",target:"_blank",className:f.default.clickableWrapper},void 0,this.renderCard())},t}(a.PureComponent);y.Icons=p,y.Verdict=h,y.displayName="ReviewScoreCard",t.default=y,e.exports=t.default},6999:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=E(n(17)),s=E(n(128)),d=E(n(6013)),f=E(n(152)),c=n(866),p=n(9),h=E(p),y=n(0),m=E(n(13)),v=n(6051),_=E(n(5601));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=((o={})[y.OperatingSystems.WINDOWS]=m.default.Messages.WINDOWS,o[y.OperatingSystems.MACOS]=m.default.Messages.MACOS,o[y.OperatingSystems.LINUX]=m.default.Messages.LINUX,o),C=((a={})[y.OperatingSystems.WINDOWS]=p.PlatformTypes.WINDOWS,a[y.OperatingSystems.MACOS]=p.PlatformTypes.OSX,a[y.OperatingSystems.LINUX]=p.PlatformTypes.LINUX,a),N=function(e){function t(){return g(this,t),S(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.children,o=t.pageSize,a=t.onClick,l=o===v.PageSizes.LARGE;return i(s.default,{size:l?s.default.Sizes.MIN:s.default.Sizes.LARGE,fullWidth:!l,color:n?_.default.tabSelectedColor:_.default.tabNotSelectedColor,className:(0,u.default)((e={},e[_.default.tabPageLarge]=l,e[_.default.tabPageSmall]=!l,e[_.default.tabSelected]=n,e[_.default.tabNotSelected]=!n,e)),onClick:a},void 0,r)},t}(l.PureComponent);N.displayName="Tab";var A=function(e){function t(n){g(this,t);var r=S(this,e.call(this,n));r.handleSelectOperatingSystem=function(e){r.setState({selectedOperatingSystem:e})};var o=h.default.getPlatform(),a=Object.keys(n.systemRequirements),i=a[0],l=a,u=Array.isArray(l),s=0;for(l=u?l:l[Symbol.iterator]();;){var d;if(u){if(s>=l.length)break;d=l[s++]}else{if((s=l.next()).done)break;d=s.value}var f=d;C[f]===o&&(i=f)}return r.state={selectedOperatingSystem:i},r}return T(t,e),t.prototype.renderTabs=function(){var e=this,t=this.props,n=t.pageSize,r=t.systemRequirements,o=this.state.selectedOperatingSystem,a=Object.keys(r);return 1===a.length?null:i(f.default,{className:_.default.tabs},void 0,i("div",{className:_.default.separator}),a.map(function(t){return i(N,{active:t===o,onClick:function(){return e.handleSelectOperatingSystem(t)},pageSize:n},t,I[t])}))},t.prototype.renderRequirementsSection=function(e,t){if(null==e)return null;var n=function(e){return[{key:m.default.Messages.APPLICATION_STORE_SPECS_OS,value:e.operating_system_version},{key:m.default.Messages.APPLICATION_STORE_SPECS_CPU,value:e.cpu},{key:m.default.Messages.APPLICATION_STORE_SPECS_MEMORY,value:null!=e.ram?m.default.Messages.APPLICATION_STORE_SPECS_MEMORY_VALUE.format({size:(0,c.formatSize)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:m.default.Messages.APPLICATION_STORE_SPECS_VIDEO,value:e.gpu},{key:m.default.Messages.APPLICATION_STORE_SPECS_STORAGE,value:null!=e.disk?(0,c.formatSize)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:m.default.Messages.APPLICATION_STORE_SPECS_SOUND,value:e.sound_card},{key:m.default.Messages.APPLICATION_STORE_SPECS_NETWORK,value:e.network},{key:m.default.Messages.APPLICATION_STORE_SPECS_NOTES,value:e.notes}]}(e).map(function(e,t){var n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:i("div",{className:_.default.requirement},t,i("span",{className:_.default.requirementKey},void 0,e.key,":"),n)}).filter(function(e){return null!=e});return i("div",{className:_.default.requirements},void 0,i(d.default,{tag:"h4"},void 0,t),n)},t.prototype.renderBody=function(){var e=this.props.systemRequirements[this.state.selectedOperatingSystem],t=e.minimum,n=e.recommended;return i("div",{className:_.default.requirementsContainer},void 0,this.renderRequirementsSection(t,m.default.Messages.APPLICATION_STORE_SPECS_MINIMUM),this.renderRequirementsSection(n,m.default.Messages.APPLICATION_STORE_SPECS_RECOMMENDED))},t.prototype.render=function(){return i("div",{className:this.props.className},void 0,i(d.default,{},void 0,m.default.Messages.APPLICATION_STORE_SECTION_TITLE_SYSTEM_REQUIREMENTS),this.renderTabs(),this.renderBody())},t}(l.PureComponent);A.displayName="SystemRequirements",t.default=A,e.exports=t.default},7000:function(e,t,n){"use strict";t.__esModule=!0,t.TestModeStoreListingButtonEnums=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=m(n(2)),l=y(n(4)),u=m(n(307)),s=y(n(43)),d=y(n(90)),f=y(n(838)),c=y(n(5977)),p=y(n(6753)),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TestModeStoreListingButtonEnums={DropdownSizes:p.default.DropdownSizes,Sizes:p.default.Sizes,Colors:p.default.Colors,Looks:p.default.Looks};var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=v(this,e.call.apply(e,[this].concat(i))),r.renderContextMenu=function(e){var t=e.className,n=e.style,o=r.props,i=o.storeListings,l=o.onStoreListingSelect,s=o.currentStoreListingId,d=i.map(function(e){return e.id!==s?a(c.default,{label:e.id,action:function(){u.closeContextMenu(),l&&l(e)}},e.id):null});return a("div",{className:t,style:n},void 0,d)},r.handleContextMenu=function(e){e.stopPropagation(),u.openContextMenu(e,r.renderContextMenu)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.storeListings,n=e.primaryStoreListing,r=(e.skuId,e.onStoreListingSelect,e.currentStoreListingId,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["storeListings","primaryStoreListing","skuId","onStoreListingSelect","currentStoreListingId"])),a=null!=n?1:0;return(a+=t.length)<2?null:i.createElement(p.default,o({onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu},r),h.default.Messages.APPLICATION_TEST_MODE_VIEW_OTHER_LISTINGS)},t}(i.PureComponent);_.displayName="TestModeStoreListingButton",t.default=l.default.connectStores([f.default,d.default,s.default],function(e){var t=e.skuId;return{storeListings:f.default.getUnpublishedForSKU(t),primaryStoreListing:f.default.getForSKU(t)}})(_)},7001:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=N(n(17)),l=n(453),u=N(n(4)),s=N(n(832)),d=n(839),f=N(n(6129)),c=N(n(324)),p=N(n(232)),h=N(n(28)),y=N(n(128)),m=N(n(6013)),v=N(n(152)),_=N(n(6015)),E=N(n(306)),g=N(n(45)),S=n(0),T=N(n(13)),I=n(6051),C=N(n(5603));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O="Application Store Verified Guild Invite - Lurker",b=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=A(this,e.call.apply(e,[this].concat(a))),r.handleJoinOrView=function(){var e=r.props,t=e.guild,n=e.skuId,o=e.isInGuild,a=function(){return g.default.transitionTo(S.Routes.GUILD(t.id))};e.isLurking?(0,d.joinPublishedStoreListingSkuGuild)(n).then(a):o?a():s.default.joinGuild(t.id,!0,O).then(a)},r.handleLogin=function(){var e={redirect_to:S.Routes.APPLICATION_STORE_LISTING_SKU(r.props.skuId)};g.default.transitionTo(S.Routes.LOGIN,{search:(0,l.stringify)(e)})},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderMemberInfo=function(){var e=this.props.guild,t=e.approximateMemberCount,n=e.approximatePresenceCount;return null==t||null==n?null:o(v.default,{className:C.default.memberInfo,align:v.default.Align.CENTER},void 0,o("div",{className:C.default.dotOnline}),o("span",{className:C.default.memberText},void 0,T.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})),o("div",{className:C.default.dotOffline}),o("span",{className:C.default.memberText},void 0,T.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:t})))},t.prototype.render=function(){var e=this.props,t=e.guild,n=e.inChannel,r=e.isInGuild,a=e.isLurking,l=e.isAuthenticated,u=e.className,s=e.pageSize;if(n&&r)return null;var d=new c.default(t),f=T.default.Messages.LURKER_MODE_VIEW_GUILD,p=this.handleJoinOrView,h=y.default.Looks.FILLED,g=y.default.Colors.PRIMARY;return l?r?(h=y.default.Looks.OUTLINED,g=C.default.buttonColorInGuild,f=o(v.default,{align:v.default.Align.CENTER},void 0,o("div",{},void 0,T.default.Messages.JOINED_SERVER),o(E.default,{name:E.default.Names.CHECKMARK,className:C.default.joinedCheckmark}))):a&&n&&(f=T.default.Messages.JOIN_SERVER):(f=T.default.Messages.LOGIN,p=this.handleLogin),o("div",{className:(0,i.default)(u,s===I.PageSizes.SMALL?C.default.inviteSmall:C.default.inviteLarge)},void 0,o(m.default,{},void 0,T.default.Messages.APPLICATION_STORE_SECTION_TITLE_VERIFIED_GUILD),o("div",{className:C.default.content},void 0,o("div",{className:C.default.info},void 0,o(_.default,{guild:d,active:!0,size:_.default.Sizes.LARGE,className:C.default.guildIcon}),o("div",{className:C.default.infoText},void 0,o("div",{className:C.default.name},void 0,t.name),this.renderMemberInfo())),o(y.default,{size:y.default.Sizes.SMALL,className:C.default.actionButton,fullWidth:!0,color:g,look:h,onClick:p},void 0,f)))},t}(a.PureComponent);b.displayName="VerifiedGuildInvite",t.default=(0,f.default)(u.default.connectStores([h.default,p.default],function(e){var t=e.guild,n=p.default.isLurking(t.id);return{isInGuild:null!=h.default.getGuild(t.id)&&!n,isLurking:n}})(b)),e.exports=t.default},7002:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(307),u=y(n(5979)),s=y(n(152)),d=y(n(313)),f=y(n(6026)),c=y(n(5352)),p=n(0),h=y(n(5829));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleContextMenu=function(e,t){(0,l.openContextMenu)(e,function(e){return i.createElement(c.default,a({},e,{type:p.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.prototype.renderUser=function(e){var t=this;return null==e?null:o(s.default,{className:h.default.user,align:s.default.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)}},e.id,o(u.default,{src:e.getAvatarURL(),size:u.default.Sizes.XSMALL}),o(f.default,{user:e,className:h.default.tag,usernameClass:h.default.username,discriminatorClass:h.default.discriminator}))},t.prototype.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map(function(t){return e.renderUser(t)});return o("div",{className:h.default.userList},void 0,o("div",{className:h.default.header},void 0,r),o(d.default,{className:h.default.content,fade:!0,theme:d.default.Themes.GHOST_HAIRLINE},void 0,a))},t}(i.PureComponent);m.displayName="UserListPopout",t.default=m,e.exports=t.default},7003:function(e,t,n){"use strict";t.__esModule=!0,t.LinkButton=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=N(n(17)),u=n(223),s=N(n(310)),d=N(n(446)),f=n(307),c=N(n(80)),p=N(n(152)),h=N(n(306)),y=N(n(6055)),m=N(n(129)),v=n(224),_=N(n(5994)),E=N(n(7004)),g=N(n(5352)),S=N(n(447)),T=n(0),I=N(n(13)),C=N(n(5606));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t.LinkButton=function(e){function t(){return A(this,t),O(this,e.apply(this,arguments))}return b(t,e),t.prototype.render=function(){var e,t=this.props,n=t.route,r=t.selected,o=t.iconName,i=t.text,s=t.children,d=t.locationState;return a("div",{className:(0,l.default)((e={},e[C.default.channel]=!0,e[C.default.selected]=r,e))},void 0,a(u.Link,{to:{pathname:n,state:d}},void 0,a(h.default,{name:o,className:C.default.linkButtonIcon}),a("div",{className:C.default.name},void 0,i),s))},t}(i.Component)).displayName="LinkButton";var M=function(e){function t(){var n,r;A(this,t);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return n=r=O(this,e.call.apply(e,[this].concat(u))),r.state={animated:new s.default.Value(1)},r.handleClose=function(e){null!=e&&(e.preventDefault(),e.stopPropagation());var t=r.props.channel;d.default.closePrivateChannel(t.id,r.props.selected)},r.handleContextMenu=function(e){var t=r.props,n=t.channel,a=t.selected,l=t.user;n.type===T.ChannelTypes.GROUP_DM?(0,f.openContextMenu)(e,function(e){return i.createElement(E.default,o({},e,{channelId:n.id,selected:a}))},{noBlurEvent:!0}):(0,f.openContextMenu)(e,function(e){return i.createElement(g.default,o({},e,{type:T.ContextMenuTypes.USER_PRIVATE_CHANNELS,user:l,channelId:n.id,selected:a}))})},r.handleLeaveGroup=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.channel,n=t.toString(),l=I.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:n}),u=I.default.Messages.LEAVE_GROUP_DM_BODY.format({name:n});t.isManaged()&&(l=I.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:n}),u=I.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:n})),c.default.push(function(e){return i.createElement(S.default,o({header:l,confirmText:I.default.Messages.LEAVE_GROUP_DM,cancelText:I.default.Messages.CANCEL,onConfirm:r.handleClose},e),a(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,u))})},r.handleMouseDown=function(){d.default.preload(T.ME,r.props.channel.id)},O(r,n)}return b(t,e),t.prototype.componentWillEnter=function(e){this.state.animated.setValue(0),s.default.timing(this.state.animated,{toValue:1,duration:200}).start(e)},t.prototype.componentWillLeave=function(e){s.default.timing(this.state.animated,{toValue:0,duration:200}).start(e)},t.prototype.renderActivity=function(e){return a(p.default,{className:C.default.activity,align:p.default.Align.CENTER},void 0,a("div",{className:C.default.activityText},void 0,(0,v.renderActivity)(e)),(0,v.hasRichActivity)(e)&&a(h.default,{name:h.default.Names.RICH_ACTIVITY,className:C.default.activityIcon,foreground:C.default.activityIconForeground}))},t.prototype.renderChannelName=function(){var e=this.props,t=e.channel,n=e.activity,r=e.showMobileIndicator;if(t.type===T.ChannelTypes.GROUP_DM){var o=I.default.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1});return a("div",{className:C.default.name},void 0,t.toString(),a("div",{className:C.default.activity},void 0,o))}return null!=n?a("div",{className:C.default.name},void 0,a("span",{className:C.default.nameWithActivity},void 0,t.toString()),r?a(y.default,{className:C.default.mobileIndicator}):null,this.renderActivity(n)):a("div",{className:C.default.nameWrapper},void 0,a("span",{className:C.default.name},void 0,t.toString()),r?a(y.default,{className:C.default.mobileIndicator}):null)},t.prototype.renderAvatar=function(){var e=this.props,t=e.channel,n=e.user,r=e.status,o=e.activity,i=e.typing;return t.type===T.ChannelTypes.GROUP_DM?a(_.default,{channel:t,theme:T.ThemeTypes.DARK,outerClassName:C.default.avatar}):a(_.default,{user:n,status:r,streaming:(0,v.isStreaming)(o),typing:i,theme:T.ThemeTypes.DARK,outerClassName:C.default.avatar,statusClassName:C.default.status})},t.prototype.render=function(){var e,t=this.props,n=t.channel,r=t.selected,o=void 0;o=n.type===T.ChannelTypes.GROUP_DM?this.handleLeaveGroup:this.handleClose;var d={height:this.state.animated.interpolate({inputRange:[0,1],outputRange:[0,42]}),opacity:this.state.animated};return i.createElement(s.default.div,{className:(0,l.default)((e={},e[C.default.channel]=!0,e[C.default.selected]=r,e)),style:d,key:n.id,ref:n.id,onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown},a(u.Link,{to:T.Routes.CHANNEL(T.ME,n.id)},void 0,this.renderAvatar(),this.renderChannelName(),a("button",{className:C.default.close,onClick:o})))},t}(i.PureComponent);M.defaultProps={selected:!1},M.displayName="PrivateChannel",t.default=M},7004:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=I(n(4)),u=I(n(446)),s=n(307),d=I(n(80)),f=I(n(12)),c=I(n(22)),p=I(n(129)),h=I(n(6092)),y=I(n(5981)),m=I(n(5977)),v=I(n(447)),_=I(n(7005)),E=I(n(6103)),g=I(n(6011)),S=n(0),T=I(n(13));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e){function t(){var n,r;C(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=N(this,e.call.apply(e,[this].concat(l))),r.handleViewInstantInvites=function(){(0,s.closeContextMenu)(),d.default.push(function(e){return i.createElement(_.default,a({channelId:r.props.channel.id},e))})},N(r,n)}return A(t,e),t.prototype.render=function(){return this.props.channel.isOwner(f.default.getId())?o(m.default,{label:T.default.Messages.INSTANT_INVITES,action:this.handleViewInstantInvites}):null},t}(i.PureComponent);O.displayName="InstantInvites";var b=function(e){function t(){var n,r;C(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=N(this,e.call.apply(e,[this].concat(a))),r.handleChangeIcon=function(e){(0,s.closeContextMenu)(),u.default.setIcon(r.props.channel.id,e)},N(r,n)}return A(t,e),t.prototype.render=function(){return o(m.default,{label:T.default.Messages.CHANGE_ICON,styles:{position:"relative"}},void 0,o(h.default,{onChange:this.handleChangeIcon,size:S.AVATAR_MAX_SIZE}))},t}(i.PureComponent);b.displayName="ChangeIcon";var M=function(e){function t(){var n,r;C(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=N(this,e.call.apply(e,[this].concat(a))),r.handleRemoveIcon=function(){(0,s.closeContextMenu)(),u.default.setIcon(r.props.channel.id,null)},N(r,n)}return A(t,e),t.prototype.render=function(){return null!=this.props.channel.icon?o(m.default,{label:T.default.Messages.REMOVE_ICON,action:this.handleRemoveIcon}):null},t}(i.PureComponent);M.displayName="RemoveIcon";var R=function(e){function t(){var n,r;C(this,t);for(var l=arguments.length,f=Array(l),c=0;c<l;c++)f[c]=arguments[c];return n=r=N(this,e.call.apply(e,[this].concat(f))),r.handleConfirmLeave=function(){(0,s.closeContextMenu)();var e=r.props.channel,t=e.toString(),n=T.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:t}),l=T.default.Messages.LEAVE_GROUP_DM_BODY.format({name:t});e.isManaged()&&(n=T.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:t}),l=T.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:t})),d.default.push(function(e){return i.createElement(v.default,a({header:n,confirmText:T.default.Messages.LEAVE_GROUP_DM,cancelText:T.default.Messages.CANCEL,onConfirm:r.handleLeave},e),o(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,l))})},r.handleLeave=function(){var e=r.props,t=e.channel,n=e.selected;u.default.closePrivateChannel(t.id,n)},N(r,n)}return A(t,e),t.prototype.render=function(){return o(m.default,{label:T.default.Messages.LEAVE_GROUP_DM,action:this.handleConfirmLeave,danger:!0})},t}(i.PureComponent);R.displayName="LeaveGroup";var P=function(e){function t(){return C(this,t),N(this,e.apply(this,arguments))}return A(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,r=e.selected,a=e.channel;return null==a?null:a.isManaged()?null:o("div",{className:n,style:t},void 0,o(y.default,{},void 0,o(O,{channel:a}),o(b,{channel:a}),o(M,{channel:a})),o(y.default,{},void 0,o(E.default,{channel:a}),o(R,{channel:a,selected:r})),o(g.default,{id:a.id}))},t}(i.PureComponent);P.displayName="GroupDMContextMenu",t.default=l.default.connectStores([c.default],function(e){var t=e.channelId;return{channel:c.default.getChannel(t)}})(P),e.exports=t.default},7005:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=k(n(17)),u=k(n(6)),s=k(n(4)),d=k(n(8)),f=k(n(318)),c=k(n(6140)),p=k(n(135)),h=k(n(22)),y=k(n(312)),m=k(n(35)),v=k(n(128)),_=k(n(6346)),E=n(5996),g=k(E),S=k(n(152)),T=k(n(222)),I=k(n(6104)),C=k(n(444)),N=k(n(129)),A=n(829),O=k(n(18)),b=n(181),M=k(n(5994)),R=n(0),P=k(n(13)),L=k(n(5360)),w=k(n(5359)),D=k(n(5351)),U=k(n(5605));function k(e){return e&&e.__esModule?e:{default:e}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function(e){function t(){var n,r;G(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=x(this,e.call.apply(e,[this].concat(a))),r.handleRevokeInvite=function(){var e=r.props,t=e.onRevoke,n=e.invite;null!=t&&t(n)},x(r,n)}return F(t,e),t.prototype.render=function(){var e=this.props,t=e.invite,n=e.hideDiscriminator,r=e.hideInviteCode,o=new p.default(t.inviter);return a(S.default,{className:(0,l.default)(U.default.row,w.default.card)},void 0,a(S.default,{align:S.default.Align.CENTER,className:U.default.userColumn},void 0,a(M.default,{user:o,size:"xsmall",className:U.default.avatar}),a(I.default,{user:o,hideDiscriminator:n,usernameClass:U.default.username,discriminatorClass:U.default.discrimClass})),a(S.default,{align:S.default.Align.CENTER,grow:0,shrink:0,basis:100,className:U.default.boostZIndex},void 0,a(N.default,{family:N.default.Family.CODE,className:U.default.code},void 0,r?"...":t.code)),a(S.default,{basis:100,grow:0,shrink:0,align:S.default.Align.CENTER,justify:S.default.Justify.END,className:U.default.boostZIndex},void 0,a(N.default,{family:N.default.Family.CODE,className:U.default.alignRight},void 0,a(_.default,{deadline:t.getExpiresAt(),showDays:!1})),a("button",{className:(0,l.default)(U.default.revokeInvite,L.default.button),onClick:this.handleRevokeInvite})))},t}(i.PureComponent);j.displayName="InviteRow";var B=function(e){function t(){var n,r;G(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=x(this,e.call.apply(e,[this].concat(a))),r.state={loading:!0,invites:null},r.handleRevoke=function(e){f.default.revokeInvite(e.code),r.setState({invites:r.state.invites.filter(function(t){return t!==e})})},r.handleClose=function(){var e=r.props.onClose;e&&e()},x(r,n)}return F(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.channelId;d.default.get({url:R.Endpoints.INSTANT_INVITES(t),retries:3}).then(function(t){var n=t.body.map(function(e){return new c.default(o({},e,{maxUses:e.max_uses,maxAge:e.max_age,createdAt:e.created_at}))});e.setState({loading:!1,invites:n})}),O.default.track(R.AnalyticEvents.OPEN_MODAL,o({},(0,b.collectChannelAnalyticsMetadata)(h.default.getChannel(t)),{type:"Group DM Invites",source:"Group DM Menu"}))},t.prototype.renderContent=function(){var e=this.state,t=e.loading,n=e.invites;return t||null==n?a(C.default,{className:D.default.marginTop20,type:C.default.Type.SPINNING_CIRCLE}):u.default.isEmpty(n)?this.renderEmpty():a("div",{className:U.default.container},void 0,this.renderHeader(),this.renderInvites())},t.prototype.renderEmpty=function(){return a(g.default,{theme:this.props.theme},void 0,a(E.EmptyStateImage,{darkSrc:n(6562),lightSrc:n(6563),width:256,height:130,style:{marginBottom:0}}),a(E.EmptyStateText,{className:D.default.marginTop20},void 0,P.default.Messages.NO_INVITES_CAPTION))},t.prototype.renderHeader=function(){return a(S.default,{},void 0,a(S.default.Child,{wrap:!0},void 0,a(A.FormTitle,{},void 0,P.default.Messages.INSTANT_INVITE_INVITER)),a(S.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,a(A.FormTitle,{},void 0,P.default.Messages.INSTANT_INVITE_INVITE_CODE)),a(S.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,a(A.FormTitle,{className:U.default.alignRight},void 0,P.default.Messages.INSTANT_INVITE_EXPIRES)))},t.prototype.renderInvites=function(){var e=this,t=this.props,n=t.hideDiscriminators,r=t.hideInviteCodes;return(0,u.default)(this.state.invites).sortBy(function(e){return(e.inviter.username||"").toLocaleLowerCase()}).map(function(t){return a(j,{invite:t,hideDiscriminator:n,hideInviteCode:r,onRevoke:e.handleRevoke},t.code)}).value()},t.prototype.render=function(){return a(T.default,{size:T.default.Sizes.MEDIUM},void 0,a(T.default.Header,{direction:S.default.Direction.VERTICAL,align:S.default.Align.START},void 0,a(A.FormTitle,{tag:A.FormTitleTags.H2},void 0,P.default.Messages.INVITES),a(A.FormText,{type:A.FormTextTypes.DESCRIPTION},void 0,P.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE)),a(T.default.Content,{},void 0,this.renderContent()),a(T.default.Footer,{},void 0,a(v.default,{onClick:this.handleClose},void 0,P.default.Messages.DONE)))},t}(i.PureComponent);B.displayName="InviteSettingsModal",t.default=s.default.connectStores([y.default,m.default],function(){return{hideDiscriminators:y.default.hidePersonalInformation,hideInviteCodes:y.default.hideInstantInvites,theme:m.default.theme}})(B),e.exports=t.default},7006:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(6399)),u=v(n(328)),s=v(n(833)),d=v(n(6005)),f=v(n(132)),c=v(n(313)),p=v(n(181)),h=v(n(850)),y=n(0),m=v(n(5607));function v(e){return e&&e.__esModule?e:{default:e}}var _=42,E=100,g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.scrollerRef=i.createRef(),r.hasReportedAnalytics=!1,r.reportAnalytics=function(){if(!r.hasReportedAnalytics){var e=r.scrollerRef.current;if(null!=e){var t=r.props,n=t.privateChannelIds,o=t.channels;if(0!==n.length){var l=i.Children.count(r.props.children),u=_*l,s=e.getScrollData().offsetHeight,d=Math.round((s-u)/_),c=d>n.length?n.slice(0,d+1):n,h=c.map(function(e){return null!=o[e]?o[e].getRecipientId():null}),m={num_users_visible:c.length,num_users_visible_with_mobile_indicator:h.filter(function(e){return null!=e&&f.default.isMobileOnline(e)}).length};r.hasReportedAnalytics=!0,p.default.trackWithMetadata(y.AnalyticEvents.DM_LIST_VIEWED,a({},m))}}}},r.handleScroll=(0,l.default)(function(){var e=r.scrollerRef.current;if(null!=e){var t=e.getScrollerNode();null!=t&&d.default.updateChannelListScroll(y.ME,t.scrollTop)}},E),r.state={initialized:!1,preRenderedChildren:i.Children.count(n.children)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){return{preRenderedChildren:i.Children.count(e.children)}},t.prototype.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.homeLink;null!=t&&null!=n&&n.indexOf(t)>=0&&this.scrollToChannel(t),this.reportAnalytics()},t.prototype.shouldComponentUpdate=function(e){return!(0,u.default)(this.props,e,["channels","children"])},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.selectedChannelId,r=t.homeLink;null!=n&&n!==e.selectedChannelId?this.scrollToChannel(n):null==n&&r!==e.homeLink&&this.scrollToChannel(null),this.reportAnalytics()},t.prototype.scrollToChannel=function(e){var t=this.scrollerRef.current;if(null!=t){var n=this.props.padding,r=this.state.preRenderedChildren,o=this.props.privateChannelIds.indexOf(e),a=0;o<0||null==e?t.scrollTo(a):(a+=_*(o+r)+n,t.scrollIntoViewRect(Math.max(a-8,0),a+_+8,!1))}},t.prototype.render=function(){var e=this.props,t=e.selectedChannelId,n=e.privateChannelIds,r=e.renderChannel,l=e.padding,u=e.renderEmptyState,d=e.channels,f=i.Children.toArray(this.props.children),p=f.length;n.forEach(function(e){var n=d[e];null!=n&&f.push(r(n,t===e))});var m={theme:h.default.Themes.GHOST_HAIRLINE,backgroundColor:y.Colors.PRIMARY_DARK_630,fade:!0,ref:this.scrollerRef,onScroll:this.handleScroll};return f.length===p?(f.push(u("no-private-channels")),i.createElement(c.default,a({},m,{style:{paddingTop:l,paddingBottom:8}}),f)):f.length>30?i.createElement(h.default,a({},m,{elementHeight:_,batchEndMultiplier:1.3,track:!1,backgroundColor:y.Colors.PRIMARY_DARK_630,paddingTop:l,paddingBottom:8}),f):i.createElement(c.default,a({},m,{style:{paddingTop:l,paddingBottom:8}}),o(s.default,{transitionAppear:!1},void 0,f))},t}(i.Component);g.defaultProps={padding:20,renderEmptyState:function(e){return o("div",{className:m.default.empty},e)}},g.displayName="PrivateChannelsList",t.default=g,e.exports=t.default},7007:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(17)),l=n(0),u=s(n(5608));function s(e){return e&&e.__esModule?e:{default:e}}var d=Object.freeze({SMALL:1,MEDIUM:2,LARGE:4}),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.strokeSize;return null==t?null:a.cloneElement(t,{className:(0,i.default)(t.props.className,u.default.circleInner),style:{height:"calc(75% - "+n+"px)",width:"calc(75% - "+n+"px)"}})},t.prototype.renderCircle=function(){var e=this.props,t=e.strokeSize,n=e.percent,r=e.colorOverride,a=(24-t)/2,i=a*Math.PI*2;return o("svg",{viewBox:"0 0 24 24",className:u.default.circle},void 0,o("circle",{className:u.default.circleBackground,cx:12,cy:12,r:a,strokeWidth:t+"px"}),o("circle",{className:u.default.circleProgress,cx:12,cy:12,r:a,strokeWidth:t+"px",transform:"rotate(-90 12 12)",stroke:null!=r?r:l.Colors.LINK,style:{strokeDasharray:i,strokeDashoffset:(1-n/100)*i}}))},t.prototype.render=function(){var e=this.props.className;return o("div",{className:(0,i.default)(u.default.progressCircle,e)},void 0,this.renderCircle(),this.renderChildren())},t}(a.Component);f.StrokeSizes=d,f.defaultProps={strokeSize:d.MEDIUM},f.displayName="ProgressCircle",t.default=f,e.exports=t.default},7008:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(442)),s=c(n(7009)),d=n(0),f=c(n(5424));function c(e){return e&&e.__esModule?e:{default:e}}var p=((o={})[d.RTCConnectionQuality.UNKNOWN]=u.default.Colors.BLACK,o[d.RTCConnectionQuality.BAD]=u.default.Colors.RED,o[d.RTCConnectionQuality.AVERAGE]=u.default.Colors.YELLOW,o[d.RTCConnectionQuality.FINE]=u.default.Colors.GREEN,o),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.quality,r=t.lastPing,o=t.state,i=t.hasVideo,c=t.redesignedActivityPanel,h=void 0!==c&&c,y=t.className,m=t.children,v=void 0;o===d.RTCConnectionStates.RTC_CONNECTED&&(v=a("span",{className:(0,l.default)("ping",h?y:null)}),n!==d.RTCConnectionQuality.UNKNOWN&&null!=r&&(v=a(u.default,{text:r.toFixed(0)+" ms",color:p[n]},void 0,v)));var _=s.default.getStatus(o,i),E=_.connectionStatus,g=_.connectionStatusText;return a("div",{className:(0,l.default)("rtc-connection-status","rtc-connection-status-"+E,"rtc-connection-quality-"+n,h?"":y)},void 0,v,a("div",{className:(0,l.default)((e={},e[f.default.description]=h,e))},void 0,a("span",{className:(0,l.default)(h?y||"":null)},void 0,g),m))},t}(i.PureComponent);h.displayName="RTCConnectionStatus",t.default=h,e.exports=t.default},7009:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(0),a=n(13),i=(r=a)&&r.__esModule?r:{default:r};t.default={getStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,r=void 0;switch(e){case o.RTCConnectionStates.CONNECTING:n="connecting",r=i.default.Messages.CONNECTION_STATUS_CONNECTING;break;case o.RTCConnectionStates.AUTHENTICATING:n="connecting",r=i.default.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case o.RTCConnectionStates.AWAITING_ENDPOINT:n="connecting",r=i.default.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case o.RTCConnectionStates.RTC_CONNECTED:n="connected",r=t?i.default.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:i.default.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case o.RTCConnectionStates.RTC_CONNECTING:n="connecting",r=i.default.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case o.RTCConnectionStates.ICE_CHECKING:n="connecting",r=i.default.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case o.RTCConnectionStates.NO_ROUTE:n="error",r=i.default.Messages.CONNECTION_STATUS_NO_ROUTE;break;case o.RTCConnectionStates.RTC_DISCONNECTED:n="error",r=i.default.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break;case o.RTCConnectionStates.DISCONNECTED:default:n="error",r=i.default.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:n,connectionStatusText:r}}},e.exports=t.default},7010:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=m(n(2)),i=n(7011),l=n(57),u=m(n(6755)),s=y(n(46)),d=y(n(311)),f=y(n(314)),c=n(0),p=y(n(13)),h=y(n(5610));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=o(i.SparklinesLine,{}),E=o(i.SparklinesReferenceLine,{type:"mean"}),g=o("hr",{}),S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return n=r=v(this,e.call.apply(e,[this].concat(s))),r.openDebugPanel=function(){var e=r.props.onClose;e&&e(),u.open()},r.renderVoiceConnected=function(){var e=r.props,t=e.pings,n=e.hostname,l=e.averagePing,u=e.lastPing,s=e.outboundLossRate,d=null!=s?p.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_RATE:p.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED;return o(a.Fragment,{},void 0,o("div",{className:h.default.sparkline},void 0,o(i.Sparklines,{data:t,width:210,height:30},void 0,_,E)),d.format({hostname:n.split(".")[0],badPing:250,averagePing:l.toFixed(0),lastPing:(u||0).toFixed(0),outboundLossRate:(s||0).toFixed(1),badLossRate:10}))},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props.connectionState,n=(e={},e[c.RTCConnectionStates.AWAITING_ENDPOINT]=p.default.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:c.STATUS_PAGE_ENDPOINT}),e[c.RTCConnectionStates.CONNECTING]=p.default.Messages.RTC_CONNECTION_STATE_CONNECTING,e[c.RTCConnectionStates.AUTHENTICATING]=p.default.Messages.RTC_CONNECTION_STATE_AUTHENTICATING,e[c.RTCConnectionStates.DISCONNECTED]=p.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e[c.RTCConnectionStates.RTC_CONNECTING]=p.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING,e[c.RTCConnectionStates.ICE_CHECKING]=p.default.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:f.default.getArticleURL(c.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[c.RTCConnectionStates.RTC_CONNECTED]=this.renderVoiceConnected,e[c.RTCConnectionStates.NO_ROUTE]=p.default.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:f.default.getArticleURL(c.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[c.RTCConnectionStates.RTC_DISCONNECTED]=p.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e)[t];return o("div",{className:h.default.container},void 0,o("header",{},void 0,p.default.Messages.RTC_CONNECTION),o("section",{},void 0,"function"==typeof n?n():o("p",{},void 0,n),g,o("div",{className:h.default.popoutBottom},void 0,o("span",{className:h.default.secured},void 0,p.default.Messages.IP_ADDRESS_SECURED),s.default.supports(l.Features.DIAGNOSTICS)&&!__OVERLAY__&&o(d.default,{className:h.default.debugButton,onClick:this.openDebugPanel},void 0,p.default.Messages.DEBUG))))},t}(a.PureComponent);S.displayName="RTCConnectionPopout",t.default=S,e.exports=t.default},7012:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=m(n(2)),l=y(n(17)),u=y(n(5980)),s=n(859),d=y(n(6085)),f=y(n(6086)),c=y(n(827)),p=m(n(6021)),h=y(n(6084));n(0);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=v(this,e.call.apply(e,[this].concat(l))),r.handleGamePopoutOpen=function(){var e=r.props,t=e.game,n=e.source,o=e.onOpen,a=e.analyticsContext;null!=t&&(p.trackGamePopoutOpened(t,n,a.location),o&&o())},r.renderGamePopout=function(e){var t=r.props,n=t.game,o=t.source,l=t.analyticsContext;return i.createElement(h.default,a({},e,{game:n,source:o,analyticsContext:l}))},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.onClose,r=e.interactiveClassName,a=e.game;return null==a||a.id===s.SPOTIFY_APPLICATION_ID||a instanceof d.default||a instanceof f.default?t:o(c.default,{render:this.renderGamePopout,position:c.default.Positions.BOTTOM_LEFT,onOpen:this.handleGamePopoutOpen,onClose:n,closeOnScroll:!1,preventCloseFromModal:!0,preventCloseOnUnmount:!0},void 0,i.cloneElement(t,{className:(0,l.default)(t.props.className,r)}))},t}(i.PureComponent);_.displayName="GamePopoutOpener",t.default=(0,u.default)(_),e.exports=t.default},7013:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(17)),l=s(n(152)),u=s(n(5499));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.children,n=e.className,r=e.splashArtURL;return o(l.default,{className:(0,i.default)(u.default.header,n),align:l.default.Align.CENTER},void 0,o("div",{className:u.default.splashArt,style:null!=r?{backgroundImage:"url("+r+")"}:null}),t)};d.displayName="ActivityFeedCardHeader";var f=function(e){var t=e.children,n=e.className;return o("div",{className:(0,i.default)(u.default.body,n)},void 0,t)};f.displayName="ActivityFeedCardBody";var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave;return o("div",{className:(0,i.default)(u.default.card,n),onMouseEnter:r,onMouseLeave:a},void 0,t)},t}(a.PureComponent);c.Header=d,c.Body=f,c.displayName="ActivityFeedCard",t.default=c,e.exports=t.default},7014:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=c(n(6072)),u=c(n(5981)),s=c(n(5977)),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleGuildCreate=function(){(0,i.closeContextMenu)(),l.default.open(d.CreateGuildModalScreens.CreateGuild,"Guild List - ContextMenu")},r.handleGuildJoin=function(){(0,i.closeContextMenu)(),l.default.open(d.CreateGuildModalScreens.JoinGuild,"Guild List - ContextMenu")},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{},void 0,o(s.default,{label:f.default.Messages.JOIN_SERVER_BUTTON_CTA,action:this.handleGuildJoin}),o(s.default,{label:f.default.Messages.CREATE_SERVER_BUTTON_CTA,action:this.handleGuildCreate}))},t}(a.PureComponent);h.displayName="GuildCreateJoinGroup",t.default=h,e.exports=t.default},7015:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(4)),l=n(307),u=y(n(80)),s=y(n(153)),d=n(229),f=y(n(5977)),c=y(n(6019)),p=n(0),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.channel,n=e.guild;(0,l.closeContextMenu)(),u.default.push(c.default,{guild:n,channel:t,source:p.InstantInviteSources.GUILD_CONTEXT_MENU})},t.prototype.render=function(){return this.props.canCreateInvite?o(f.default,{label:h.default.Messages.INVITE_PEOPLE,action:this.handleClick,brand:!0}):null},t}(a.PureComponent);m.displayName="GuildInviteItem",t.default=i.default.connectStores([s.default],function(e){var t=e.channel,n=e.guild;return{canCreateInvite:(0,d.canViewInviteModal)(n,t)}})(m),e.exports=t.default},7016:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=g(n(308)),u=g(n(309)),s=g(n(443)),d=g(n(4)),f=n(307),c=g(n(5985)),p=g(n(80)),h=g(n(15)),y=g(n(129)),m=g(n(5981)),v=g(n(5977)),_=g(n(447)),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}var S=(0,l.default)({displayName:"GuildLeaveGroup",mixins:[d.default.StoreListenerMixin(h.default),s.default],propTypes:{guild:u.default.object.isRequired},getStateFromStores:function(){return{amOwner:this.props.guild.isOwner(h.default.getCurrentUser())}},render:function(){return this.state.amOwner?null:a(m.default,{},void 0,a(v.default,{label:E.default.Messages.LEAVE_SERVER,action:this.handleLeaveGuild,danger:!0}))},handleLeaveGuild:function(){var e=this;(0,f.closeContextMenu)(),p.default.push(function(t){return i.createElement(_.default,o({header:E.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.name}),confirmText:E.default.Messages.LEAVE_SERVER,cancelText:E.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),a(y.default,{size:y.default.Sizes.MEDIUM,color:y.default.Colors.PRIMARY},void 0,E.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.name})))})},handleConfirmLeaveGuild:function(){c.default.leaveGuild(this.props.guild.id)}});t.default=S,e.exports=t.default},7017:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(308))),i=h(n(309)),l=h(n(443)),u=h(n(4)),s=n(307),d=h(n(832)),f=h(n(6041)),c=h(n(5977)),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"GuildMarkReadItem",mixins:[u.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{guildId:i.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{hasUnread:f.default.getUnreadGuildsIgnoreMuted(this.props.guildId)}},render:function(){return o(c.default,{label:p.default.Messages.MARK_AS_READ,action:this.handleMarkAsRead,disabled:!this.state.hasUnread})},handleMarkAsRead:function(){(0,s.closeContextMenu)(),d.default.markGuildAsRead(this.props.guildId)}});t.default=y,e.exports=t.default},7018:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(308))),i=p(n(309)),l=p(n(443)),u=p(n(4)),s=p(n(6054)),d=p(n(226)),f=p(n(5982)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"GuildMuteItem",mixins:[u.default.LazyStoreListenerMixin(d.default),l.default],propTypes:{guildId:i.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{muted:d.default.isMuted(this.props.guildId)}},render:function(){return o(f.default,{label:c.default.Messages.SERVER_MUTE,action:this.handleServerMute,active:this.state.muted})},handleServerMute:function(){s.default.updateNotificationSettings(this.props.guildId,{muted:!this.state.muted})}});t.default=h,e.exports=t.default},7019:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=d(n(6054)),u=d(n(5977)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleShowNotificationSettings=function(){(0,i.closeContextMenu)(),l.default.open(r.props.guildId)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return __OVERLAY__?null:o(u.default,{label:s.default.Messages.NOTIFICATION_SETTINGS,action:this.handleShowNotificationSettings})},t}(a.PureComponent);c.displayName="GuildNotificationsItem",t.default=c,e.exports=t.default},7020:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(307),l=d(n(6566)),u=d(n(5977)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleOpenPrivacySettings=function(){(0,i.closeContextMenu)(),l.default.open(r.props.guildId)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return __OVERLAY__?null:o(u.default,{label:s.default.Messages.PRIVACY_SETTINGS,action:this.handleOpenPrivacySettings})},t}(a.PureComponent);c.displayName="GuildPrivacySettingsItem",t.default=c,e.exports=t.default},7021:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),v(n(308))),i=v(n(309)),l=v(n(443)),u=v(n(4)),s=n(307),d=v(n(5985)),f=v(n(153)),c=v(n(5977)),p=v(n(5998)),h=n(6758),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,a.default)({displayName:"GuildSettingsItem",mixins:[l.default],propTypes:{guild:i.default.object.isRequired},render:function(){var e=this;if(__OVERLAY__)return null;var t=this.props.guild;return f.default.can(y.Permissions.MANAGE_GUILD,t)||f.default.can(y.Permissions.MANAGE_ROLES,t)||f.default.can(y.Permissions.BAN_MEMBERS,t)||f.default.can(y.Permissions.MANAGE_NICKNAMES,t)||f.default.can(y.Permissions.MANAGE_EMOJIS,t)||f.default.can(y.Permissions.MANAGE_WEBHOOKS,t)||f.default.can(y.Permissions.VIEW_AUDIT_LOG,t)?o(p.default,{label:m.default.Messages.SERVER_SETTINGS,action:function(){return e.handleShowSettings()},render:this.renderSubMenuItems}):null},renderSubMenuItems:function(){var e=this,t=this.props.guild;return(0,h.getGuildSettingsSections)(t).map(function(t){var n=t.section,r=t.label;return n!==y.GuildSettingsSections.DELETE&&null!=r?o(c.default,{action:function(){return e.handleShowSettings(n)},label:r},n):null})},handleShowSettings:function(e){(0,s.closeContextMenu)(),d.default.open(this.props.guild.id,e)}});t.default=u.default.connectStores([f.default],function(e){var t=e.guild;return{permissionVerson:f.default.getGuildVersion(t.id)}})(_),e.exports=t.default},7022:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(128)),l=y(n(450)),u=y(n(222)),s=y(n(129)),d=y(n(828)),f=y(n(448)),c=y(n(110)),p=y(n(13)),h=y(n(5611));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={textVal:"",error:null},r.handleTextChange=r.handleTextChange.bind(r),r.handleSubmit=r.handleSubmit.bind(r),r.handleCancel=r.handleCancel.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.header,n=e.className,r=e.cancelText,y=e.confirmText,m=e.instructionText,v=e.children,_=this.state,E=_.error,g=_.textVal,S=a.Children.count(v)?o(l.default,{type:l.default.Types.WARNING,className:h.default.card},void 0,o(s.default,{color:s.default.Colors.WHITE,size:s.default.Sizes.MEDIUM},void 0,v)):null;return o(u.default,{tag:"form",onSubmit:this.handleSubmit,className:n},void 0,o(u.default.Header,{},void 0,o(c.default,{tag:c.default.Tags.H4},void 0,t)),o(u.default.Content,{},void 0,S,o(f.default,{title:m,className:h.default.spacing},void 0,o(d.default,{id:"text-entry-confirm",type:"text",value:g,autoComplete:"off",onChange:this.handleTextChange,autoFocus:!0}),E?o(s.default,{color:s.default.Colors.RED,size:s.default.Sizes.SMALL,className:h.default.error},void 0,E):null)),o(u.default.Footer,{},void 0,o(i.default,{type:"submit",color:i.default.Colors.RED},void 0,y||p.default.Messages.CONFIRM),o(i.default,{onClick:this.handleCancel,look:i.default.Looks.LINK,color:i.default.Colors.PRIMARY},void 0,r||p.default.Messages.CANCEL)))},t.prototype.handleSubmit=function(e){e.preventDefault();var t=this.state.textVal,n=this.props,r=n.onConfirm,o=n.validationText,a=n.errorText;t.toLowerCase()===o.toLowerCase()?(r&&r(),this.handleCancel()):this.setState({error:a})},t.prototype.handleCancel=function(){var e=this.props.onClose;e&&e()},t.prototype.handleTextChange=function(e){this.setState({textVal:e})},t}(a.PureComponent);m.key=function(){return"text-entry-confirm-modal"},m.displayName="TextEntryConfirm",t.default=m,e.exports=t.default},7023:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=q(n(2)),l=$(n(17)),u=$(n(6022)),s=$(n(6)),d=$(n(99)),f=$(n(4)),c=n(7024),p=n(307),h=$(n(830)),y=n(6354),m=($(y),$(n(135))),v=$(n(22)),_=$(n(235)),E=$(n(6353)),g=$(n(5991)),S=$(n(28)),T=$(n(312)),I=$(n(35)),C=$(n(15)),N=n(7025),A=$(N),O=$(n(5979)),b=$(n(128)),M=n(5996),R=$(M),P=$(n(152)),L=$(n(306)),w=$(n(313)),D=$(n(6440)),U=$(n(444)),k=n(829),G=q(n(6569)),x=$(n(6035)),F=$(n(6570)),j=$(n(6080)),B=$(n(7026)),H=$(n(5352)),V=n(0),Y=$(n(13)),W=$(n(5361)),K=$(n(5418)),z=$(n(5614));function $(e){return e&&e.__esModule?e:{default:e}}function q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Z="guild-settings-audit-logs-user-filter",ee="guild-settings-audit-logs-action-filter",te=function(e){function t(n){X(this,t);var r=Q(this,e.call(this,n));return r.handleHeaderClick=r.handleHeaderClick.bind(r),r.handleUserContextMenu=r.handleUserContextMenu.bind(r),r.handleChannelContextMenu=r.handleChannelContextMenu.bind(r),r.handleTargetContextMenu=r.handleTargetContextMenu.bind(r),r}return J(t,e),t.prototype.render=function(){var e=this.props,t=(e.onHeaderClick,e.guildId,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onHeaderClick","guildId"]));return i.createElement(A.default,a({},t,{onHeaderClick:this.handleHeaderClick,onUserContextMenu:this.handleUserContextMenu,onChannelContextMenu:this.handleChannelContextMenu,onTargetContextMenu:this.handleTargetContextMenu}))},t.prototype.handleHeaderClick=function(){var e=this.props,t=e.onHeaderClick,n=e.log;t&&t(n)},t.prototype.handleUserContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,p.openContextMenu)(e,function(e){return i.createElement(H.default,a({},e,{type:V.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:n.user}))})},t.prototype.handleChannelContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId,o=S.default.getGuild(r);null!=n.options.channel&&null!=o&&(0,p.openContextMenu)(e,function(e){return i.createElement(j.default,a({},e,{type:V.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:n.options.channel}))})},t.prototype.handleTargetContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,p.openContextMenu)(e,function(e){switch(n.targetType){case V.AuditLogTargetTypes.CHANNEL:var t=v.default.getChannel(n.targetId),o=S.default.getGuild(r);return null!=t&&null!=o?i.createElement(j.default,a({},e,{type:V.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:t})):i.createElement(B.default,a({},e,{id:n.targetId}));case V.AuditLogTargetTypes.USER:var l=C.default.getUser(n.targetId);if(null!=l)return i.createElement(H.default,a({},e,{type:V.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:l}))}return null})},t}(i.PureComponent);te.displayName="AuditLogClickWrap";var ne=o(x.default,{}),re=function(e){function t(n){X(this,t);var r=Q(this,e.call(this,n));return r._clickedInside=!1,r.state={expandedId:null,lastExpandedId:null,userFilterQuery:"",actionFilterQuery:""},s.default.bindAll(r,["renderActionQuickSelectItem","renderUserQuickSelectItem","renderHeaderDropdowns","handleFilterActionChange","handleFilterUserChange","handleHeaderClick","handleOutsideClick","handleContentClick","handleOnScroll","handleSetScrollerRef","handleUserFilterQueryChange","handleUserFilterQueryClear","handleActionFilterQueryChange","handleActionFilterQueryClear","handleSetExpandedRef","handleSetLastExpandedRef","handleFetchNextPage"]),r}return J(t,e),t.prototype.componentDidMount=function(){(0,c.fetchLogs)(this.props.guildId),document.addEventListener("click",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleOutsideClick)},t.prototype.UNSAFE_componentWillUpdate=function(e,t){this.state.expandedId!==t.expandedId&&(this._prevRects=this.getRects())},t.prototype.componentDidUpdate=function(e,t){this.state.expandedId!==t.expandedId&&this.fixScroll(),!this.props.showLoadMore&&this.props.logs.length!==e.logs.length&&null!=this._scrollerRef&&this.isScrollerAtBottom(this._scrollerRef)&&(0,c.fetchNextLogPage)(this.props.guildId,!0)},t.prototype.isScrollerAtBottom=function(e){var t=e.getScrollData(),n=t.offsetHeight,r=t.scrollHeight;return t.scrollTop+n>=r},t.prototype.fixScroll=function(){var e=this._scrollerRef;if(null!=e){var t=this.getRects(),n=this._prevRects;if(null!=t.expanded&&null!=t.lastExpanded&&null!=n.expanded&&!(t.expanded.top<t.lastExpanded.top)){var r=n.expanded.height-t.lastExpanded.height,o=e.getScrollData().scrollTop-r;e.scrollTo(o)}}},t.prototype.getRects=function(){var e={lastExpanded:null,expanded:null};if(null!=this._lastExpandedRef){var t=d.default.findDOMNode(this._lastExpandedRef);null!=t&&t instanceof Element&&(e.lastExpanded=t.getBoundingClientRect())}if(null!=this._expandedRef){var n=d.default.findDOMNode(this._expandedRef);null!=n&&n instanceof Element&&(e.expanded=n.getBoundingClientRect())}return e},t.prototype.renderActionQuickSelectItem=function(e,t){var n=this,r=(0,y.getActionType)(e.value),a=(0,y.getTargetType)(e.value);return o(D.default,{className:z.default.actionItem,selected:e.selected,onClick:function(){return n.handleFilterActionChange(e)}},t,o(N.AuditLogIcon,{themeOverride:e.selected?V.ThemeTypes.DARK:null,actionType:r,targetType:a,action:e.value}),o(P.default.Child,{},void 0,e.label))},t.prototype.renderUserQuickSelectItem=function(e,t){var n=this,r=null;if(e.label instanceof m.default){var a=e.label;r=[o(P.default.Child,{grow:0},"avatar",o(O.default,{size:O.default.Sizes.SMALL,src:a.getAvatarURL()})),o(P.default.Child,{className:z.default.userText},"user-text",o("span",{className:z.default.username},void 0,a.username),o("span",{className:z.default.discriminator},void 0,"#",a.discriminator))]}else r=[o(P.default.Child,{grow:0,shrink:0},"avatar",o(L.default,{name:L.default.Names.MEMBERS,width:30,height:30,foreground:"audit-log-members-icon-fg"})),o(P.default.Child,{},"user-text",e.label)];return o(D.default,{selected:e.selected,onClick:function(){return n.handleFilterUserChange(e)},style:{height:"auto"}},t,r)},t.prototype.renderUserQuickSelectValue=function(e){return e instanceof m.default?e.username:e.valueLabel||e.label},t.prototype.renderActionQuickSelectValue=function(e){return e.valueLabel||e.label},t.prototype.renderHeaderDropdowns=function(){var e=this.props,t=e.actionFilter,n=e.hide,r=e.userIdFilter,i=e.moderators,s=this.state,d=s.userFilterQuery,f=s.actionFilterQuery;if(n)return null;var c=G.ACTION_FILTER_ITEMS().map(function(e){return a({},e,{selected:e.value===t})}),p=c.filter(function(e){return(0,u.default)(f.toLowerCase(),e.label.toLowerCase())}),h=c.find(function(e){var n=e.value;return t===n}),y={query:f,onChange:this.handleActionFilterQueryChange,onClear:this.handleActionFilterQueryClear,placeholder:Y.default.Messages.SEARCH_ACTIONS},v={label:Y.default.Messages.GUILD_SETTINGS_FILTER_ALL_USERS,valueLabel:Y.default.Messages.GUILD_SETTINGS_FILTER_ALL,value:null,selected:null==r},_=[v].concat(i),E=_.filter(function(e){var t=d.toLowerCase();return e instanceof m.default?(0,u.default)(t,e.username.toLowerCase()):(0,u.default)(t,e.label)}).map(function(e){return e instanceof m.default?{label:e,value:e.id,selected:e.id===r}:e}),g=_.find(function(e){return e instanceof m.default?e.id===r:e.value===r})||v,S={query:d,onChange:this.handleUserFilterQueryChange,onClear:this.handleUserFilterQueryClear,placeholder:Y.default.Messages.SEARCH_MEMBERS};return[o(P.default.Child,{},"user-filter",o(F.default,{popoutId:Z,popoutClassName:(0,l.default)(z.default.guildSettingsAuditLogsUserFilterPopout,W.default.elevationBorderHigh),items:E,renderItem:this.renderUserQuickSelectItem,renderValue:this.renderUserQuickSelectValue,value:g,onChange:this.handleFilterUserChange,label:Y.default.Messages.GUILD_SETTINGS_FILTER_USER,searchProps:S,popoutProps:{preventInvert:!0,position:"bottom"}})),o(P.default.Child,{},"action-filter",o(F.default,{popoutId:ee,popoutClassName:(0,l.default)(z.default.guildSettingsAuditLogsUserFilterPopout,W.default.elevationBorderLow),items:p,renderItem:this.renderActionQuickSelectItem,renderValue:this.renderActionQuickSelectValue,value:h,onChange:this.handleFilterActionChange,label:Y.default.Messages.GUILD_SETTINGS_FILTER_ACTION,searchProps:y,popoutProps:{preventInvert:!0,position:"bottom"}}))]},t.prototype.renderHeader=function(){return o(P.default,{direction:P.default.Direction.VERTICAL,className:z.default.customHeader},void 0,o(P.default,{align:P.default.Align.CENTER},void 0,o(k.FormTitle,{tag:k.FormTitleTags.H2,className:z.default.marginReset},void 0,Y.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG),this.renderHeaderDropdowns()),o(k.FormDivider,{className:(0,l.default)(z.default.marginBottom20,z.default.marginTop20)}))},t.prototype.renderSpinner=function(){return o(U.default,{type:U.default.Type.SPINNING_CIRCLE})},t.prototype.renderContent=function(){var e=this,t=this.state,r=t.expandedId,a=t.lastExpandedId,l=this.props,u=l.logs,s=l.theme,d=l.hide,f=l.isInitialLoading,c=l.isLoading,p=l.hasError,h=l.guildId;if(d)return ne;if(c||f)return this.renderSpinner();if(0===u.length){var y=p?Y.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_BODY:Y.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_BODY,m=p?Y.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_TITLE:Y.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_TITLE;return o(R.default,{theme:s,className:z.default.marginTop40},void 0,o(M.EmptyStateImage,{darkSrc:n(7027),lightSrc:n(7028),width:272,height:130}),o(M.EmptyStateText,{note:y,style:{maxWidth:300}},void 0,m))}return u.map(function(t){var n=r===t.id,o=a===t.id,l=n?e.handleSetExpandedRef:o?e.handleSetLastExpandedRef:null;return i.createElement(te,{guildId:h,ref:l,className:z.default.marginBottom8,onHeaderClick:e.handleHeaderClick,onContentClick:e.handleContentClick,log:t,key:t.id,expanded:n})})},t.prototype.renderLoadMore=function(){var e=this.props,t=e.showLoadMore,n=e.hasOlderLogs,r=e.hide;if(t&&n&&!r)return o(b.default,{color:b.default.Colors.PRIMARY,className:z.default.marginTop20,onClick:this.handleFetchNextPage},void 0,Y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_LOAD_MORE)},t.prototype.render=function(){var e=this.props,t=e.isLoadingNextPage,n=e.hide,r=e.isLoading,a=e.theme===V.ThemeTypes.DARK?V.Colors.PRIMARY_DARK_600:V.Colors.WHITE;return o("div",{className:K.default.customColumn},void 0,o("div",{className:K.default.customContainer},void 0,i.createElement(w.default,{backgroundColor:a,track:!0,theme:w.default.Themes.GHOST,className:K.default.customScroller,onScroll:this.handleOnScroll,ref:this.handleSetScrollerRef},o(P.default,{direction:P.default.Direction.VERTICAL,style:{paddingBottom:60}},void 0,this.renderHeader(),this.renderContent(),this.renderLoadMore(),!t||n||r?null:this.renderSpinner()))))},t.prototype.handleFilterActionChange=function(e){var t=e.value;h.default.close(ee),(0,c.filterByAction)(t,this.props.guildId)},t.prototype.handleFilterUserChange=function(e){var t=e.value;h.default.close(Z),(0,c.filterByUserId)(t,this.props.guildId)},t.prototype.handleHeaderClick=function(e){var t=this.state.expandedId;t!==e.id?(this._clickedInside=!0,this.setState({expandedId:e.id,lastExpandedId:t})):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},t.prototype.handleOutsideClick=function(){null==this.state.expandedId||this._clickedInside?null!=this.state.expandedId&&(this._clickedInside=!1):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},t.prototype.handleContentClick=function(e){this._clickedInside=!0,e.stopPropagation()},t.prototype.handleSetScrollerRef=function(e){this._scrollerRef=e},t.prototype.handleOnScroll=function(e){this.isScrollerAtBottom(e)&&this.handleFetchNextPage()},t.prototype.handleFetchNextPage=function(){(0,c.fetchNextLogPage)(this.props.guildId)},t.prototype.handleUserFilterQueryChange=function(e){this.setState({userFilterQuery:e}),h.default.rerender(Z)},t.prototype.handleUserFilterQueryClear=function(){this.setState({userFilterQuery:""}),h.default.rerender(Z)},t.prototype.handleActionFilterQueryChange=function(e){this.setState({actionFilterQuery:e}),h.default.rerender(ee)},t.prototype.handleActionFilterQueryClear=function(){this.setState({actionFilterQuery:""}),h.default.rerender(ee)},t.prototype.handleSetExpandedRef=function(e){this._expandedRef=e},t.prototype.handleSetLastExpandedRef=function(e){this._lastExpandedRef=e},t}(i.PureComponent);re.displayName="GuildSettingsAuditLog",t.default=f.default.connectStores([g.default,E.default,S.default,v.default,C.default,_.default,I.default,T.default],function(){var e=g.default.getGuildId(),t=S.default.getGuild(e),n=E.default.logs;return{guildId:e,moderators:E.default.userIds.map(function(e){return C.default.getUser(e)}),isInitialLoading:E.default.isInitialLoading,isLoading:E.default.isLoading,isLoadingNextPage:E.default.isLoadingNextPage,showLoadMore:E.default.groupedFetchCount>2,hasError:E.default.hasError,hasOlderLogs:E.default.hasOlderLogs,logs:null!=n&&null!=t?G.transformLogs(n,t):[],actionFilter:E.default.actionFilter,userIdFilter:E.default.userIdFilter,theme:I.default.theme,hide:T.default.enabled}})(re),e.exports=t.default},7024:function(e,t,n){"use strict";t.__esModule=!0,t.fetchLogs=d,t.fetchNextLogPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a.default.hasOlderLogs||u())return;var n=a.default.logs,r=n[n.length-1],l=null;null!=r&&(l=r.id);return o.default.dirtyDispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_START,before:l,isGroupedFetch:t}),s(e,{before:l}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,a=t.webhooks;o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS,logs:n,users:r,webhooks:a})},function(){return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_FAIL})})},t.filterByAction=function(e,t){if(u())return;return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_ACTION,action:e}),d(t,null,e)},t.filterByUserId=function(e,t){if(u())return;return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_USER,userId:e}),d(t,e)};var r=l(n(8)),o=l(n(1)),a=l(n(6353)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return a.default.isLoading||a.default.isLoadingNextPage}function s(e,t){var n=function(e){var t=e.before,n=e.userId,r=e.action;n=n||a.default.userIdFilter,r=r||a.default.actionFilter;var o={};return o.limit=i.AUDIT_LOG_PAGE_LIMIT,null!=t&&(o.before=t),null!=n&&(o.user_id=n),null!=r&&(o.action_type=r),o}(t);return r.default.get({url:i.Endpoints.GUILD_AUDIT_LOG(e),query:n})}function d(e,t,n){if(!u())return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_START}),s(e,{userId:t,action:n}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,a=t.webhooks;o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_SUCCESS,logs:n,users:r,webhooks:a})},function(){return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_FAIL})})}},7025:function(e,t,n){"use strict";t.__esModule=!0,t.AuditLogIcon=void 0;var r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=v(n(2)),u=m(n(17)),s=(m(n(5)),v(n(6569))),d=n(325),f=n(5979),c=m(n(152)),p=m(n(306)),h=n(0),y=m(n(5612));function m(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){var n=s.NotRenderedChanges[e.targetType];return null!=n&&!0===n[t.key]}var T=((o={})[h.AuditLogActionTypes.CREATE]=y.default.typeCreate,o[h.AuditLogActionTypes.UPDATE]=y.default.typeUpdate,o[h.AuditLogActionTypes.DELETE]=y.default.typeDelete,o),I=t.AuditLogIcon=function(e){function t(){return _(this,t),E(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.actionType,n=e.targetType,r=e.action,o=e.themeOverride,a=null!=o?y.default["themeOverride"+(0,d.upperCaseFirstChar)(o)]:null,l=(0,u.default)(y.default.icon,T[t],function(e,t){var n;return t===h.AuditLogActions.MESSAGE_DELETE?y.default.targetMessage:(n={},n[h.AuditLogTargetTypes.ALL]=y.default.targetAll,n[h.AuditLogTargetTypes.GUILD]=y.default.targetGuild,n[h.AuditLogTargetTypes.CHANNEL]=y.default.targetChannel,n[h.AuditLogTargetTypes.USER]=y.default.targetMember,n[h.AuditLogTargetTypes.ROLE]=y.default.targetRole,n[h.AuditLogTargetTypes.INVITE]=y.default.targetInvite,n[h.AuditLogTargetTypes.WEBHOOK]=y.default.targetWebhook,n[h.AuditLogTargetTypes.EMOJI]=y.default.targetEmoji,n)[e]}(n,r),a);return i("div",{className:l})},t}(l.PureComponent);I.displayName="AuditLogIcon";var C=function(e){function t(){return _(this,t),E(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.onContextMenu;return i("span",{onContextMenu:n,className:y.default.userHook},void 0,i("span",{},void 0,t.username),i("span",{className:y.default.discrim},void 0,"#",t.discriminator))},t}(l.PureComponent);C.displayName="UserHook";var N=function(e){function t(){return _(this,t),E(this,e.apply(this,arguments))}return g(t,e),t.prototype.hasChangesToRender=function(){var e=this.props.log,t=e.changes;return(e.actionType!==h.AuditLogActionTypes.DELETE||e.action===h.AuditLogActions.MEMBER_BAN_ADD||e.action===h.AuditLogActions.MEMBER_KICK||e.action===h.AuditLogActions.MEMBER_PRUNE)&&(null!=t&&t.some(function(t){return!S(e,t)}))},t.prototype.renderTitle=function(){var e=this.props,t=e.log,n=e.onUserContextMenu,r=e.onTargetContextMenu,o=e.onChannelContextMenu,a=t.user,l=t.target,u=t.options,d=s.getChangeTitle(t);return null!=d?i("div",{className:y.default.overflowEllipsis},void 0,d.format({user:a,target:l,userHook:function(e,r){return i(C,{user:t.user,onContextMenu:n},r)},targetHook:function(e,n){return t.targetType===h.AuditLogTargetTypes.USER?i(C,{user:t.target,onContextMenu:r},n):i("span",{onContextMenu:r},n,e)},count:u.count,channel:u.channel?u.channel.toString(!0):null,channelHook:function(e,t){return i("span",{onContextMenu:o},t,e)}})):null},t.prototype.renderRoleUpdate=function(e){var t=e.newValue;return Array.isArray(t)?t.map(function(e){return i("div",{className:y.default.subListItem},e.id,e.name)}):null},t.prototype.renderPermissionUpdate=function(e){var t=this,n=e.newValue;return Array.isArray(n)?n.map(function(e){return i("div",{className:y.default.subListItem},e,s.getStringForPermission(e,t.props.log))}):null},t.prototype.renderChangeDetails=function(e){var t=this,n=this.props,r=n.log,o=n.onContentClick;if(null==r.changes)return null;var l=0,d=r.changes.map(function(n,o){var d=n.oldValue,f=n.newValue,p=null;r.action===h.AuditLogActions.MEMBER_ROLE_UPDATE?p=t.renderRoleUpdate(n):r.targetType!==h.AuditLogTargetTypes.ROLE&&r.action!==h.AuditLogActions.CHANNEL_OVERWRITE_CREATE&&r.action!==h.AuditLogActions.CHANNEL_OVERWRITE_UPDATE||(p=t.renderPermissionUpdate(n));var m=e[n.key];if(S(r,n))return null;if("function"==typeof m&&(m=m(n)),null!=m&&"object"===(void 0===m?"undefined":a(m))){if(null==m.format){var v=m[n.newValue];null==v&&null!=m[s.DEFAULT_FOR_STRINGS_KEY]?m=m[s.DEFAULT_FOR_STRINGS_KEY]:null!=v&&(m=v)}null!=m&&null!=m.format&&(m=m.format({user:r.user,target:r.target,oldValue:d,newValue:f,count:Array.isArray(f)?f.length:null,subtarget:r.options.subtarget?r.options.subtarget:null,newColorHook:function(e,t){return i("div",{className:y.default.colorHook,style:{backgroundColor:n.newValue}},t)},oldColorHook:function(e,t){return i("div",{className:y.default.colorHook,style:{backgroundColor:n.oldValue}},t)}}))}if(!m)return console.warn("No change string for",n),null;var _=(0,u.default)(y.default.prefix,T[r.actionType]);return l++,i(c.default,{className:y.default.detail,style:{position:"relative",top:1}},o,i(c.default,{className:_,grow:0},void 0,i("div",{className:y.default.number},void 0,l<10?"0":null,l),i("div",{className:y.default.dash},void 0,"—")),i(c.default,{className:y.default.change,direction:c.default.Direction.VERTICAL},void 0,i("div",{className:y.default.changeStr},void 0,m),null!=p?i("div",{},void 0,p):null))});return i(c.default,{onClick:o,className:y.default.changeDetails,direction:c.default.Direction.VERTICAL},void 0,d)},t.prototype.renderChangeSummary=function(){var e=this.props,t=e.expanded,n=e.log;if(t)switch(n.targetType){case h.AuditLogTargetTypes.GUILD:return this.renderChangeDetails(s.GuildChangeStrings());case h.AuditLogTargetTypes.CHANNEL:return this.renderChangeDetails(s.ChannelChangeStrings());case h.AuditLogTargetTypes.USER:return this.renderChangeDetails(s.UserChangeStrings());case h.AuditLogTargetTypes.ROLE:return this.renderChangeDetails(s.RoleChangeStrings());case h.AuditLogTargetTypes.INVITE:return this.renderChangeDetails(s.InviteChangeStrings());case h.AuditLogTargetTypes.WEBHOOK:return this.renderChangeDetails(s.WebhookChangeStrings());case h.AuditLogTargetTypes.EMOJI:return this.renderChangeDetails(s.EmojiChangeStrings())}return null},t.prototype.render=function(){var e=this.props,t=e.log,n=e.className,r=e.expanded,o=e.onHeaderClick,a=this.hasChangesToRender(),l=y.default.headerDefault;r?l=y.default.headerExpanded:a&&(l=y.default.headerClickable);var s=t.timestampStart.calendar(),d=t.timestampEnd.calendar(),m=void 0;m=s===d?i("div",{className:y.default.timestamp},void 0,s):i("div",{className:y.default.timestamp},void 0,s,"—",d);var v=a?o:h.NOOP;return i(c.default,{direction:c.default.Direction.VERTICAL,className:(0,u.default)(y.default.auditLog,n)},void 0,i(c.default,{className:l,direction:c.default.Direction.HORIZONTAL,align:c.default.Align.CENTER,onClick:v},void 0,i(I,{action:t.action,actionType:t.actionType,targetType:t.targetType}),i(f.AvatarImage,{className:y.default.avatar,src:t.user.getAvatarURL()}),i(c.default,{className:y.default.timeWrap,direction:c.default.Direction.VERTICAL},void 0,i(c.default.Child,{grow:1},void 0,this.renderTitle()),m),a?i(p.default,{name:p.default.Names.CARET,className:y.default.expand,foreground:y.default.expandForeground,expanded:r}):null),r?i("div",{className:y.default.divider}):null,this.renderChangeSummary())},t}(l.PureComponent);N.displayName="AuditLog",t.default=N},7026:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(6011),u=(o=l)&&o.__esModule?o:{default:o};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.id;return a("div",{className:t,style:n},void 0,a(u.default,{id:r}))},t}(i.PureComponent);s.displayName="DeveloperContextMenu",t.default=s,e.exports=t.default},7027:function(e,t,n){e.exports=n.p+"99253cefda98913b1e9f7d155ad81ed3.svg"},7028:function(e,t,n){e.exports=n.p+"0049cd2d5d8dad87fac3811fa651988e.svg"},7029:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=j(n(17)),u=j(n(6)),s=j(n(4)),d=n(307),f=j(n(832)),c=j(n(5985)),p=j(n(80)),h=j(n(5991)),y=j(n(312)),m=j(n(35)),v=j(n(15)),_=j(n(5979)),E=j(n(128)),g=n(5996),S=j(g),T=j(n(152)),I=j(n(222)),C=j(n(6117)),N=j(n(444)),A=j(n(129)),O=j(n(836)),b=j(n(837)),M=n(445),R=j(M),P=n(110),L=j(n(186)),w=n(6061),D=j(n(5352)),U=n(0),k=j(n(13)),G=j(n(5359)),x=j(n(5351)),F=j(n(5615));function j(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Y=function(e){function t(){return B(this,t),H(this,e.apply(this,arguments))}return V(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.ban,r=e.theme,o=e.onRevoke,i=e.onClose;return a(I.default,{className:F.default.bannedUserModal,theme:r},void 0,a(I.default.Content,{className:F.default.content},void 0,a("div",{},void 0,a(T.default,{justify:T.default.Justify.CENTER},void 0,a(A.default,{color:A.default.Colors.PRIMARY,className:F.default.userUsername},void 0,t.toString()),a(A.default,{className:F.default.userDiscrim},void 0,"#",t.discriminator)),a(A.default,{className:(0,l.default)(F.default.reasonHeader,x.default.marginTop40),size:A.default.Sizes.SMALL},void 0,k.default.Messages.BAN_REASON),a(A.default,{className:F.default.reason},void 0,n.reason||k.default.Messages.NO_BAN_REASON))),a(I.default.Footer,{className:F.default.footer},void 0,a(T.default,{justify:T.default.Justify.BETWEEN},void 0,a(E.default,{onClick:o,look:E.default.Looks.LINK,color:E.default.Colors.RED},void 0,k.default.Messages.REVOKE_BAN),a(E.default,{onClick:i},void 0,k.default.Messages.DONE))))},t}(i.PureComponent);Y.displayName="BannedUserModal";var W=s.default.connectStores([m.default],function(){return{theme:m.default.theme}})(Y),K=function(e){function t(){var n,r;B(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=H(this,e.call.apply(e,[this].concat(l))),r.handleShowModal=function(){var e=r.props,t=e.user,n=e.hideDiscriminator,a=e.ban;p.default.push(function(e){return i.createElement(W,o({},e,{ban:a,user:t,hideDiscriminator:n,onRevoke:r.handleRevokeBan,onClose:r.handleCloseModal}))})},r.handleRevokeBan=function(){var e=r.props,t=e.guild,n=e.user;f.default.unbanUser(t.id,n.id).then(p.default.pop)},r.handleContextMenu=function(e){(0,d.openContextMenu)(e,function(e){return i.createElement(D.default,o({},e,{type:U.ContextMenuTypes.USER_BANS,user:r.props.user}))})},H(r,n)}return V(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.hideDiscriminator;return a(T.default,{className:(0,l.default)(F.default.bannedUser,G.default.card),align:T.default.Align.CENTER,onClick:this.handleShowModal,onContextMenu:this.handleContextMenu},void 0,a(_.default,{className:F.default.bannedUserAvatar,src:t.getAvatarURL()}),a(T.default.Child,{basis:100,className:x.default.marginReset},void 0,a("div",{className:F.default.username},void 0,t.toString(),!n&&a("span",{className:F.default.discrim},void 0,"#",t.discriminator))))},t.prototype.handleCloseModal=function(){p.default.pop()},t}(i.PureComponent);K.displayName="BannedUser";var z=function(e){function t(){return B(this,t),H(this,e.apply(this,arguments))}return V(t,e),t.prototype.makeFilter=function(){var e=this.props.searchQuery;if(null==e||0===e.length)return function(){return!0};var t=new RegExp("^"+L.default.escape(e),"i");return function(e){return null!=e&&t.test(e.username)}},t.prototype.renderHeader=function(){var e=this.props,t=e.bans,r=e.theme,o=e.searchQuery,i=void 0;null==t?i=null:u.default.isEmpty(t)&&(i=a(S.default,{theme:r,className:x.default.marginTop40},void 0,a(g.EmptyStateImage,{darkSrc:n(7030),lightSrc:n(7031),width:256,height:212}),a(g.EmptyStateText,{note:k.default.Messages.BANS_NO_USERS_BANNED,style:{maxWidth:300}},void 0,k.default.Messages.NO_BANS)));var l=(0,u.default)(t||{}).keys().value().length;return a(b.default,{tag:P.Tags.H2,title:k.default.Messages.BANS_HEADER.format({bans:l})},void 0,a(T.default,{justify:T.default.Justify.BETWEEN},void 0,a(R.default,{type:M.Types.DESCRIPTION,className:x.default.marginBottom20},void 0,k.default.Messages.BANS_HINT.format({onModerationClick:this.handleModerationClick})),null==i&&a(C.default,{query:o,placeholder:k.default.Messages.BANS_SEARCH_PLACEHOLDER,onChange:this.handleQueryChange,onClear:this.handleQueryClear})),a(O.default,{style:{marginBottom:-1}}),i)},t.prototype.render=function(){var e=this.props,t=e.bans,n=e.guild,r=e.streamerMode,o=e.theme;if(null==n)return null;var i=void 0;return i=null==t?[a(N.default,{className:x.default.marginTop20,type:N.default.Type.SPINNING_CIRCLE},"spinner")]:(0,u.default)(t).keys().map(v.default.getUser).filter(this.makeFilter()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return a(K,{user:e,ban:t[e.id],hideDiscriminator:r,guild:n},e.id)}).value(),a(w.LazyContentScroller,{theme:o,header:this.renderHeader(),elementHeight:56},void 0,i)},t.prototype.handleModerationClick=function(){c.default.setSection(U.GuildSettingsSections.MODERATION)},t.prototype.handleQueryChange=function(e){c.default.setSearchQuery(e)},t.prototype.handleQueryClear=function(){c.default.setSearchQuery("")},t}(i.PureComponent);z.displayName="GuildSettingsBans";var $=s.default.connectStores([h.default,m.default],function(){var e=h.default.getProps(),t=e.bans,n=e.guild;return{searchQuery:e.searchQuery||"",bans:t,guild:n,theme:m.default.theme,streamerMode:y.default.enabled}})(z);t.default=$,e.exports=t.default},7030:function(e,t,n){e.exports=n.p+"789de85a973b1d974a21aa03c1e14323.svg"},7031:function(e,t,n){e.exports=n.p+"e3fb8fe698a871db1d0e34ededf8a954.svg"},7032:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=U(n(17)),l=U(n(6)),u=U(n(4)),s=U(n(183)),d=U(n(6330)),f=U(n(7033)),c=U(n(5991)),p=U(n(35)),h=U(n(5979)),y=U(n(128)),m=n(5996),v=U(m),_=U(n(152)),E=U(n(444)),g=U(n(828)),S=U(n(837)),T=n(445),I=U(T),C=n(110),N=U(C),A=U(n(82)),O=U(n(164)),b=U(n(6092)),M=n(0),R=U(n(13)),P=U(n(5360)),L=U(n(5359)),w=U(n(5351)),D=U(n(5616));function U(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=l.default.throttle(d.default.fetchEmoji,1e3),j=function(e){function t(n){k(this,t);var r=G(this,e.call(this,n));return r.handleNameKeyPress=r.handleNameKeyPress.bind(r),r.handleNameChange=r.handleNameChange.bind(r),r.handleNameBlur=r.handleNameBlur.bind(r),r.handleDeleteEmoji=r.handleDeleteEmoji.bind(r),r.state={name:n.emoji.name},r}return x(t,e),t.prototype.handleDeleteEmoji=function(){var e=this.props,t=e.guildId,n=e.emoji;d.default.deleteEmoji(t,n.id)},t.prototype.handleNameKeyPress=function(e){var t=e.currentTarget;13===e.which&&t.blur()},t.prototype.handleNameChange=function(e){this.setState({name:e})},t.prototype.handleNameBlur=function(){var e=this.props.emoji,t=this.state.name;if(t!==e.name){var n=this.props.guildId;d.default.updateEmoji(n,e.id,O.default.sanitizeEmojiName(t))}},t.prototype.renderEmoji=function(){var e=this.props.emoji,t=A.default.getEmojiURL({id:e.id,animated:e.animated});return o(_.default.Child,{basis:"40px",grow:0},void 0,o("div",{className:D.default.emojiImage,style:{backgroundImage:"url("+t+")"}}))},t.prototype.renderEmojiName=function(){var e=this.state.name;return o(_.default.Child,{basis:"50%"},void 0,o("div",{className:D.default.positionRelative},void 0,o(g.default,{className:D.default.emojiAliasInput,inputClassName:D.default.emojiInput,placeholder:R.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER,onKeyPress:this.handleNameKeyPress,onChange:this.handleNameChange,onBlur:this.handleNameBlur,size:g.default.Sizes.MINI,value:e,maxLength:M.EMOJI_MAX_LENGTH,style:{maxWidth:200}}),o("div",{className:D.default.emojiAliasPlaceholder},void 0,e.length>0?e:R.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER)))},t.prototype.renderUser=function(){var e=this.props.emoji;return o(_.default.Child,{basis:"50%",className:D.default.emojiUploader},void 0,o(h.default,{src:e.user.getAvatarURL(),size:h.default.Sizes.XSMALL}),o(I.default,{className:(0,i.default)(D.default.emojiRowText)},void 0,e.user.username))},t.prototype.renderDeleteButton=function(){return o("button",{className:(0,i.default)(P.default.button,D.default.emojiRemove),onClick:this.handleDeleteEmoji})},t.prototype.render=function(){return o(_.default,{className:(0,i.default)(D.default.emojiRow,L.default.card),align:_.default.Align.CENTER},void 0,this.renderEmoji(),this.renderEmojiName(),this.renderUser(),this.renderDeleteButton())},t}(a.PureComponent);j.displayName="EmojiRow";var B=function(e){function t(){var n,r;k(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=G(this,e.call.apply(e,[this].concat(a))),r.handleFileChange=function(e,t){var n=r.props.guild;if(null!=n){var o=O.default.sanitizeEmojiName(t.split(".")[0]);d.default.uploadEmoji(n.id,e,o).catch(function(e){var t=e.body,n=void 0;null!=t&&(t.code===M.AbortCodes.TOO_MANY_EMOJI?n=R.default.Messages.TOO_MANY_EMOJI:t.code===M.AbortCodes.TOO_MANY_ANIMATED_EMOJI?n=R.default.Messages.TOO_MANY_ANIMATED_EMOJI:null!=t.image&&(n=R.default.Messages.EMOJI_TOO_BIG.format({maxSize:M.EMOJI_MAX_FILESIZE_KB}))),null!=n&&s.default.show({body:n})})}},G(r,n)}return x(t,e),t.prototype.componentDidMount=function(){var e=this.props.guild;null!=e&&F(e.id)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.revision,r=t.guild;null!=r&&e.revision<n&&F(r.id)},t.prototype.getMaxSlots=function(){var e=this.props.guild;return null!=e&&e.hasFeature(M.GuildFeatures.MORE_EMOJI)?M.EMOJI_MAX_SLOTS_MORE:M.EMOJI_MAX_SLOTS},t.prototype.renderUploader=function(){var e=this.props,t=e.emojis,n=e.isUploading,r=t?t.filter(function(e){return!e.animated}).length:0,a=t?t.filter(function(e){return e.animated}).length:0,i=this.getMaxSlots(),l=i-r,u=Math.max(l,i-a),s=R.default.Messages.GUILD_SETTINGS_EMOJI_UPLOAD_TO_SERVER_MESSAGE;return o(S.default,{className:w.default.marginBottom40},void 0,o(_.default,{align:_.default.Align.START,className:w.default.marginBottom20},void 0,o(_.default.Child,{},void 0,o(I.default,{type:T.Types.DESCRIPTION},void 0,s.format({count:i,maxSize:M.EMOJI_MAX_FILESIZE_KB}))),o(_.default.Child,{wrap:!0,grow:0},void 0,o(y.default,{disabled:n||0===u,spinner:n},void 0,R.default.Messages.UPLOAD_EMOJI,u>0?o(b.default,{onChange:this.handleFileChange,multiple:!0}):null))))},t.prototype.renderTitle=function(e,t){var n=t.length,r=this.getMaxSlots()-n;return o(N.default,{tag:C.Tags.H5,className:w.default.marginBottom20},void 0,e,o("span",{},void 0," — ",R.default.Messages.EMOJI_SLOTS_AVAILABLE.format({count:r})))},t.prototype.renderEmojiTable=function(e,t){return 0===t.length?o(I.default,{type:T.Types.DESCRIPTION,className:w.default.marginBottom40},void 0,R.default.Messages.NO_EMOJI_BODY):o(S.default,{className:w.default.marginBottom40},void 0,o(_.default,{className:w.default.marginBottom4},void 0,o(_.default.Child,{basis:"40px",grow:0,wrap:!0},void 0,o(I.default,{type:I.default.Types.DESCRIPTION},void 0,R.default.Messages.EMOJI)),o(_.default.Child,{basis:"50%",wrap:!0},void 0,o(I.default,{type:I.default.Types.DESCRIPTION,className:D.default.emojiAliasOffset},void 0,R.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS)),o(_.default.Child,{basis:"50%",wrap:!0},void 0,o(I.default,{type:I.default.Types.DESCRIPTION},void 0,R.default.Messages.UPLOADED_BY))),t.reverse().map(function(t){return o(j,{guildId:e.id,emoji:t},t.id)}))},t.prototype.renderEmojis=function(){var e=this.props,t=e.emojis,r=e.theme,a=e.guild;if(null==t||null==a)return o(E.default,{className:w.default.marginTop40,type:E.default.Type.SPINNING_CIRCLE});if(0===t.length)return o(v.default,{theme:r,className:w.default.marginTop20},void 0,o(m.EmptyStateImage,{darkSrc:n(7035),lightSrc:n(7036),width:272,height:212}),o(m.EmptyStateText,{note:R.default.Messages.NO_EMOJI},void 0,R.default.Messages.NO_EMOJI_TITLE));var i=l.default.partition(t,function(e){return!e.animated}),u=i[0],s=i[1];return o("div",{},void 0,this.renderTitle(R.default.Messages.EMOJI,u),this.renderEmojiTable(a,u),this.renderTitle(R.default.Messages.ANIMATED_EMOJI,s),this.renderEmojiTable(a,s))},t.prototype.render=function(){return o(S.default,{},void 0,o(N.default,{tag:C.Tags.H2},void 0,R.default.Messages.SERVER_EMOJI),this.renderUploader(),this.renderEmojis())},t}(a.PureComponent);B.displayName="GuildSettingsEmoji",t.default=u.default.connectStores([p.default,f.default,c.default],function(){var e=c.default.getProps().guild;return{guild:e,emojis:null!=e?f.default.getEmojis(e.id):[],revision:null!=e?f.default.getEmojiRevision(e.id):null,isUploading:f.default.isUploadingEmoji(),theme:p.default.theme}})(B),e.exports=t.default},7033:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(1)),a=l(n(7034)),i=l(n(155));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={},s={},d=0;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t.prototype.isUploadingEmoji=function(){return d>0},t.prototype.getEmojiRevision=function(e){return u[e]||0},t.prototype.getEmojis=function(e){return s[e]},t}(r.default.Store);t.default=new f(o.default,{EMOJI_DELETE:function(e){var t=e.guildId,n=e.emojiId;s[t]=s[t].filter(function(e){return e.id!==n})},EMOJI_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.emojis;s[t]=n.map(function(e){return new a.default(e)})},EMOJI_FETCH_FAILURE:function(e){var t=e.guildId;s[t]=[]},EMOJI_UPLOAD_START:function(e){d++},EMOJI_UPLOAD_STOP:function(e){d--},GUILD_EMOJIS_UPDATE:function(e){var t=e.guildId;u[t]=(u[t]||0)+1}}),e.exports=t.default},7034:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(47)),o=a(n(135));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.id=e.id,this.name=e.name,this.managed=e.managed,this.roles=e.roles,this.requiredColons=e.requiredColons,this.user=new o.default(e.user),this.animated=e.animated},t}(r.default);t.default=i,e.exports=t.default},7035:function(e,t,n){e.exports=n.p+"a7371de3223292c6f31f8aeed62f17c1.svg"},7036:function(e,t,n){e.exports=n.p+"3236694e0c095adfbbd5334fc8dc7aa0.svg"},7037:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=w(n(17)),u=w(n(5)),s=w(n(4)),d=w(n(5985)),f=w(n(80)),c=w(n(831)),p=w(n(158)),h=w(n(235)),y=w(n(5991)),m=w(n(35)),v=w(n(311)),_=n(5996),E=w(_),g=w(n(152)),S=w(n(7038)),T=w(n(5995)),I=w(n(444)),C=w(n(6057)),N=w(n(442)),A=n(829),O=w(n(82)),b=w(n(460)),M=n(0),R=w(n(13)),P=w(n(5351)),L=w(n(5618));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G=function(e){function t(){var n,r;D(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=U(this,e.call.apply(e,[this].concat(l))),r.handleToggleEnabled=function(){var e=r.props,t=e.guild,n=e.integration;n.syncing||(n.enabled?f.default.push(function(e){var r=0===n.expire_behavior?R.default.Messages.REMOVE_SYNCED_ROLE:R.default.Messages.KICK_FROM_SERVER;return i.createElement(b.default,a({title:R.default.Messages.DISABLE_INTEGRATION_TITLE,body:"youtube"===n.type?R.default.Messages.DISABLE_INTEGRATION_YOUTUBE_BODY:R.default.Messages.DISABLE_INTEGRATION_TWITCH_BODY,confirmText:r,cancelText:R.default.Messages.CANCEL,onConfirm:function(){return d.default.disableIntegration(t.id,n.id)}},e))}):d.default.enableIntegration(t.id,n.type,n.id))},r.handleExpireBehaviorChange=function(e){var t=r.props,n=t.guild,o=t.integration;d.default.updateIntegration(n.id,o.id,parseInt(e.value),o.expire_grace_period,o.enable_emoticons)},r.handleExpireGracePeriodChange=function(e){var t=r.props,n=t.guild,o=t.integration;d.default.updateIntegration(n.id,o.id,o.expire_behavior,parseInt(e.value),o.enable_emoticons)},r.handleSync=function(){var e=r.props,t=e.guild,n=e.integration;d.default.syncIntegration(t.id,n.id)},r.handleShowRole=function(){var e=r.props.integration;d.default.setSection(M.GuildSettingsSections.ROLES),d.default.selectRole(e.role_id)},r.handleToggleEmotes=function(e){var t=r.props,n=t.guild,o=t.integration;d.default.updateIntegration(n.id,o.id,o.expire_behavior,o.expire_grace_period,e.currentTarget.checked)},U(r,n)}return k(t,e),t.prototype.renderTwitchEmoticons=function(e){var t=this.props,n=t.guild,r=t.integration,a=null,i=h.default.getGuildEmoji(n.id);if(r.enable_emoticons&&i){var u=Object.values(i).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(function(e){return e.roles&&e.roles.includes(r.role_id)}).map(function(e,t){return o(N.default,{text:e.name},t,o("img",{alt:R.default.Messages.IMG_ALT_EMOJI.format({name:e.name}),draggable:!1,className:"emoji jumboable",src:O.default.getEmojiURL({id:e.id,animated:e.animated})},e.name))});u.length>0&&(a=o("div",{className:(0,l.default)(L.default.twitchEmojis,P.default.marginTop8)},void 0,u))}return o("div",{},void 0,o(A.FormDivider,{className:(0,l.default)(P.default.marginTop20,P.default.marginBottom20)}),o(g.default,{className:(0,l.default)(L.default.emojiSync,P.default.marginBottom8)},void 0,o(g.default,{align:g.default.Align.CENTER},void 0,o(A.FormText,{},void 0,R.default.Messages.ENABLE_TWITCH_EMOJI_SYNC)),o(g.default.Child,{grow:0,shrink:0},void 0,o(C.default,{id:"enable_emoticons",value:r.enable_emoticons,onChange:this.handleToggleEmotes,disabled:r.syncing,fill:e.color}))),a)},t.prototype.renderSyncDetails=function(e,t){var n=this.props,r=n.guild,a=n.integration,i=r.getRole(a.role_id),s=void 0;s=null!=i?o(v.default,{className:L.default.syncedRoleLink,onClick:this.handleShowRole},void 0,i.name):R.default.Messages.NONE;var d=void 0;return d=a.revoked?R.default.Messages.SYNC_REVOKED.format({user:a.user,platformName:p.default.get(a.type).name}):R.default.Messages.LAST_SYNC.format({datetime:(0,u.default)(a.synced_at).calendar()}),o(g.default,{},void 0,o(g.default.Child,{basis:"50%"},void 0,o(A.FormTitle,{className:P.default.marginBottom8},void 0,R.default.Messages.FORM_LABEL_SYNCED_ROLE),o(A.FormText,{},void 0,s)),o(g.default.Child,{basis:"50%"},void 0,o("div",{className:L.default.syncWrapper},void 0,o(A.FormTitle,{className:P.default.marginBottom8},void 0,e),o(N.default,{text:R.default.Messages.FORCE_SYNC},void 0,o("button",{className:(0,l.default)(L.default.forceSync,a.syncing?L.default.forceSyncSyncing:null),disabled:a.syncing||a.revoked,onClick:this.handleSync}))),o(A.FormText,{},void 0,t.format({subscribers:a.subscriber_count})),o(A.FormText,{type:A.FormTextTypes.DESCRIPTION},void 0,d)))},t.prototype.renderExpireToggles=function(e){var t=this.props.integration;return o(g.default,{},void 0,o(g.default.Child,{basis:"50%"},void 0,o(A.FormTitle,{className:P.default.marginBottom8},void 0,e),o(T.default,{transparent:!0,value:""+t.expire_behavior,clearable:!1,searchable:!1,options:[{value:"0",label:R.default.Messages.REMOVE_SYNCED_ROLE},{value:"1",label:R.default.Messages.KICK_FROM_SERVER}],disabled:t.syncing,onChange:this.handleExpireBehaviorChange})),o(g.default.Child,{basis:"50%"},void 0,o(A.FormTitle,{className:P.default.marginBottom8},void 0,R.default.Messages.FORM_LABEL_EXPIRE_GRACE_PERIOD),o(T.default,{transparent:!0,value:""+t.expire_grace_period,clearable:!1,searchable:!1,options:[1,3,7,14,30].map(function(e){return{value:""+e,label:R.default.Messages.N_DAYS.format({days:e})}}),disabled:t.syncing,onChange:this.handleExpireGracePeriodChange})))},t.prototype.render=function(){var e=this.props,t=e.integration,n=e.theme,r=t.enabled,a=t.syncing,i=p.default.get(t.type),u=void 0,s=void 0,d=void 0,f=void 0,c=void 0,h=void 0;switch(t.type){case"youtube":u=t.account.name,s="youtube.com/channel/"+t.account.id,d=R.default.Messages.FORM_LABEL_MEMBERSHIP_EXPIRE_BEHAVIOR,f=R.default.Messages.FORM_LABEL_SYNCED_MEMBERS,c=R.default.Messages.NUM_MEMBERS,h=null;break;case"twitch":default:u=t.account.name,s="twitch.tv/"+t.account.name,d=R.default.Messages.FORM_LABEL_SUB_EXPIRE_BEHAVIOR,f=R.default.Messages.FORM_LABEL_SYNCED_SUBS,c=R.default.Messages.NUM_SUBSCRIBERS,h=this.renderTwitchEmoticons(i)}var y=void 0;return r&&(y=o("div",{className:L.default.integrationBody},void 0,this.renderSyncDetails(f,c),o(A.FormDivider,{className:(0,l.default)(P.default.marginTop20,P.default.marginBottom20)}),this.renderExpireToggles(d),h)),o(S.default,{name:t.user.toString(),label:u,labelUrl:"//"+s,color:i.color,icon:i.icon.white,enabled:r,syncing:a,theme:n,handleSyncToggle:this.handleToggleEnabled},void 0,y)},t}(i.PureComponent);G.displayName="IntegrationItem";var x=function(e){function t(){return D(this,t),U(this,e.apply(this,arguments))}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.guild,r=e.integrations,a=e.theme;if(null==t)return null;var i=void 0;return i=null==r?o(I.default,{className:P.default.marginTop40,type:I.default.Type.SPINNING_CIRCLE}):0===r.length?o(E.default,{theme:a,className:P.default.marginTop20},void 0,o(_.EmptyStateImage,{darkSrc:n(6610),lightSrc:n(6611),width:294,height:192}),o(_.EmptyStateText,{note:R.default.Messages.NO_INTEGRATIONS.format({onConnect:this.handleConnect})},void 0,R.default.Messages.NO_INTEGRATIONS_LABEL)):r.map(function(e,n){return o(G,{integration:e,guild:t,theme:a},n)}),o(A.FormSection,{tag:A.FormTitleTags.H2,title:R.default.Messages.INTEGRATIONS},void 0,o(A.FormText,{type:A.FormTextTypes.DESCRIPTION},void 0,R.default.Messages.INTEGRATIONS_PRO_TIP.format({streamkitURL:"https://discordapp.com/streamkit"})),o(A.FormDivider,{className:(0,l.default)(P.default.marginTop20,P.default.marginBottom20)}),i)},t.prototype.handleConnect=function(){c.default.open(M.UserSettingsSections.CONNECTIONS)},t}(i.PureComponent);x.displayName="GuildSettingsIntegrations",t.default=s.default.connectStores([y.default,m.default],function(){var e=y.default.getProps();return{guild:e.guild,integrations:e.integrations,theme:m.default.theme}})(x),e.exports=t.default},7038:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(311)),u=n(450),s=m(u),d=m(n(5999)),f=m(n(152)),c=m(n(445)),p=n(0),h=m(n(13)),y=m(n(5617));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderHeader=function(){var e,t=this.props,n=t.color,r=t.name,a=t.label,u=t.labelUrl,s=t.icon,p=t.enabled,m=t.syncing,v=t.handleSyncToggle,_=t.children,E=u&&a?o(l.default,{href:"//"+u,className:"url"},void 0,o(c.default,{className:y.default.headerText,type:c.default.Types.DESCRIPTION},void 0,a)):null;return o(f.default,{className:(0,i.default)(y.default.header,(e={},e[y.default.headerSimple]=null==_,e)),justify:f.default.Justify.BETWEEN,style:{backgroundColor:n}},void 0,o(f.default,{},void 0,o("img",{alt:"",className:y.default.headerIcon,src:s}),o("div",{},void 0,o(c.default,{className:y.default.headerText,type:c.default.Types.DEFAULT},void 0,r),E)),o(f.default,{align:f.default.Align.CENTER,grow:0},void 0,o(d.default,{color:n,value:p,disabled:m,onChange:v},void 0,o("span",{className:y.default.headerSync},void 0,h.default.Messages.SYNC))))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme;return o(s.default,{className:y.default.integration,type:u.Types.CUSTOM,style:{backgroundColor:n===p.ThemeTypes.DARK?p.Colors.PRIMARY_DARK_700:p.Colors.PRIMARY_DARK_100}},void 0,this.renderHeader(),o("div",{},void 0,t))},t}(a.PureComponent);v.defaultProps={name:"Twitch",color:p.Colors.TWITCH,icon:null},v.displayName="Integration",t.default=v,e.exports=t.default},7039:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(5991)),a=u(n(312)),i=u(n(35)),l=u(n(6759));function u(e){return e&&e.__esModule?e:{default:e}}var s=r.default.connectStores([o.default,i.default,a.default],function(){var e=o.default.getProps(),t=e.invites;return{guild:e.guild,invites:t,showChannel:!0,hide:a.default.hideInstantInvites,theme:i.default.theme}})(l.default);t.default=s,e.exports=t.default},7040:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=j(n(17)),u=j(n(6022)),s=j(n(6)),d=j(n(4)),f=n(307),c=j(n(5985)),p=j(n(830)),h=j(n(6760)),y=j(n(72)),m=j(n(5991)),v=j(n(153)),_=j(n(312)),E=j(n(35)),g=j(n(15)),S=j(n(311)),T=j(n(5979)),I=j(n(6083)),C=j(n(152)),N=j(n(306)),A=j(n(6144)),O=j(n(6117)),b=j(n(442)),M=n(829),R=j(n(6156)),P=j(n(6570)),L=n(6061),w=j(n(5352)),D=n(0),U=j(n(13)),k=j(n(5361)),G=j(n(5359)),x=j(n(5351)),F=j(n(5620));function j(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Y=o(I.default,{}),W=function(e){function t(n){B(this,t);var r=H(this,e.call(this,n));return r._isMounted=!1,r.state={overflowShown:!1},r.showOverflow=r.showOverflow.bind(r),r.handleOverflowClose=r.handleOverflowClose.bind(r),r}return V(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.showOverflow=function(e){var t=this.props,n=t.guild,r=t.user;this.setState({overflowShown:!0}),(0,f.openContextMenu)(e,function(e){return i.createElement(w.default,a({type:D.ContextMenuTypes.USER_GUILD_MEMBERS,user:r,guildId:n.id,channelId:n.id},e))},{onClose:this.handleOverflowClose})},t.prototype.renderOwnerHelpIcon=function(){var e=this.props,t=e.user,r=e.theme,a=e.guild;if(t.id!==a.ownerId)return null;var i=r===D.ThemeTypes.DARK?n(7041):n(7042);return o(b.default,{text:U.default.Messages.MEMBER_LIST_SERVER_OWNER_HELP},void 0,o(A.default,{size:A.default.Sizes.SMALL,src:i,className:F.default.ownerHelpIcon}))},t.prototype.render=function(){var e=this.props,t=e.user,n=e.member,r=e.streamerMode,a=e.guild,i=this.state.overflowShown,u={color:n.colorString};return o(C.default,{className:(0,l.default)(F.default.member,G.default.card,{active:i}),align:C.default.Align.CENTER,onContextMenu:this.showOverflow},void 0,o(T.default,{className:F.default.avatar,src:t.getAvatarURL()}),o(C.default,{className:F.default.nameTag,direction:C.default.Direction.VERTICAL,grow:0},void 0,o(C.default,{align:C.default.Align.CENTER},void 0,o(M.FormText,{className:F.default.name,style:u},void 0,n.nick||t.toString()),t.bot?Y:null,this.renderOwnerHelpIcon()),r?null:o(M.FormText,{className:F.default.tag},void 0,"@",t.tag)),o(C.default.Child,{className:F.default.roleWrapper},void 0,o("div",{},void 0,o(R.default,{user:t,guild:a,userRoles:n.roles,wrap:!1}))),o(C.default,{className:F.default.overflowButton,align:C.default.Align.CENTER,grow:0,onClick:this.showOverflow},void 0,o(N.default,{name:N.default.Names.OVERFLOW_MENU,className:F.default.overflowIcon,foreground:F.default.overflowIconFg})))},t.prototype.handleOverflowClose=function(){this._isMounted&&this.setState({overflowShown:!1})},t}(i.PureComponent);W.displayName="Member";var K=function(e){function t(n){B(this,t);var r=H(this,e.call(this,n));return r.state={roleFilterQuery:""},r.renderHeader=r.renderHeader.bind(r),r.renderPruneAction=r.renderPruneAction.bind(r),r.handleQueryChange=r.handleQueryChange.bind(r),r.handleQueryClear=r.handleQueryClear.bind(r),r.handlePruneClick=r.handlePruneClick.bind(r),r.handleRoleFilterQueryChange=r.handleRoleFilterQueryChange.bind(r),r.handleRoleFilterQueryClear=r.handleRoleFilterQueryClear.bind(r),r}return V(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.roleFilterQuery!==t.roleFilterQuery&&p.default.rerender("quick-roles--select")},t.prototype.handlePruneClick=function(){h.default.open(this.props.guild.id)},t.prototype.renderPruneAction=function(){return this.props.canPrune?o("span",{},void 0," — ",o(S.default,{onClick:this.handlePruneClick,className:F.default.pruneLink},void 0,U.default.Messages.PRUNE)):null},t.prototype.renderHeader=function(e){var t=this.state.roleFilterQuery,n=this.props,r=n.guild,a=n.searchQuery,i=n.selectedRoleId,d={},f=(0,s.default)(r.roles).sortBy(function(e){return-e.position}).filter(function(e){return e.id===i&&(d.label=e.name),(0,u.default)(t.toLowerCase(),e.name.toLowerCase())}).map(function(e){return{value:e.id,color:e.colorString,children:e.name,selected:e.id===i}}).value(),c={query:t,onChange:this.handleRoleFilterQueryChange,onClear:this.handleRoleFilterQueryClear,placeholder:U.default.Messages.SEARCH_ROLES};return o(M.FormSection,{},void 0,o(M.FormTitle,{tag:M.FormTitleTags.H2},void 0,U.default.Messages.GUILD_SETTINGS_MEMBERS_SERVER_MEMBERS),o(C.default,{className:F.default.membersHeader,align:C.default.Align.CENTER,style:{height:20}},void 0,o(C.default.Child,{},void 0,o(M.FormText,{type:M.FormTextTypes.DESCRIPTION,className:F.default.membersCount},void 0,U.default.Messages.MEMBERS_HEADER.format({members:e.length}),this.renderPruneAction())),o(C.default,{align:C.default.Align.CENTER,grow:0},void 0,o(P.default,{popoutClassName:(0,l.default)(F.default.membersFilterPopout,k.default.elevationBorderLow),popoutId:"quick-roles--select",items:f,label:U.default.Messages.GUILD_SETTINGS_MEMBERS_DISPLAY_ROLE,value:d,onChange:this.handleRoleChange,searchProps:c,popoutProps:{preventInvert:!0,position:"bottom"}}),o(O.default,{query:a,onChange:this.handleQueryChange,onClear:this.handleQueryClear}))),o(M.FormDivider,{className:x.default.marginTop20,style:{marginBottom:-1}}))},t.prototype.makeSearchFilter=function(){var e=this.props.searchQuery;return null==e||0===e.length?function(){return!0}:function(t){var n=t.user,r=t.member;e=e.toLowerCase();var o=n.username.toLowerCase(),a=null!=r.nick?r.nick.toLowerCase():null;return(0,u.default)(e,o)||null!=a&&(0,u.default)(e,a)}},t.prototype.makeRoleFilter=function(){var e=this.props,t=e.guild,n=e.selectedRoleId;return function(e){var r=e.member;return n===t.id||-1!==r.roles.indexOf(n)}},t.prototype.renderMembers=function(e){var t=this.props,n=t.guild,r=t.currentUser,a=t.streamerMode,i=t.theme;return(0,s.default)(e).sortBy(function(e){return e.comparator}).map(function(e){var t=e.member,l=e.user;return o(W,{currentUser:r,member:t,user:l,guild:n,theme:i,streamerMode:a},t.userId)}).value()},t.prototype.render=function(){var e=this.props.members,t=(0,s.default)(e).map(function(e){var t=g.default.getUser(e.userId);return{member:e,user:t,comparator:(null!=t?e.nick||t.username:"").toLowerCase()}}).filter(this.makeSearchFilter()).filter(this.makeRoleFilter()).value();return o(L.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(t),elementHeight:72},void 0,this.renderMembers(t))},t.prototype.handleQueryChange=function(e){c.default.setSearchQuery(e)},t.prototype.handleQueryClear=function(){c.default.setSearchQuery("")},t.prototype.handleRoleChange=function(e){var t=e.value;c.default.selectRole(t)},t.prototype.handleRoleFilterQueryChange=function(e){this.setState({roleFilterQuery:e})},t.prototype.handleRoleFilterQueryClear=function(){this.setState({roleFilterQuery:""})},t}(i.PureComponent);K.displayName="GuildSettingsMembers";var z=d.default.connectStores([m.default,E.default,y.default,_.default],function(){var e=m.default.getProps(),t=e.guild,n=e.searchQuery;return{guild:t,selectedRoleId:e.selectedRoleId,searchQuery:n||"",members:null!=t?y.default.getMembers(t.id):[],theme:E.default.theme,currentUser:g.default.getCurrentUser(),canPrune:null!=t&&v.default.can(D.Permissions.KICK_MEMBERS,t),streamerMode:_.default.enabled}})(K);t.default=z,e.exports=t.default},7041:function(e,t,n){e.exports=n.p+"1701e23d13cfedc5fdde3b53104215e7.svg"},7042:function(e,t,n){e.exports=n.p+"08a1ba9c05ff71f07dfb0aa35833d745.svg"},7043:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=A(n(17)),l=A(n(4)),u=A(n(5985)),s=A(n(12)),d=A(n(5991)),f=A(n(28)),c=A(n(153)),p=A(n(312)),h=A(n(6007)),y=A(n(836)),m=A(n(837)),v=n(445),_=A(v),E=n(110),g=n(6612),S=A(n(6035)),T=A(n(7044)),I=n(0),C=A(n(13)),N=A(n(5351));function A(e){return e&&e.__esModule?e:{default:e}}var O=o(S.default,{}),b=o(T.default,{}),M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleVerificationLevelChange=r.handleVerificationLevelChange.bind(r),r.handleExplicitContentFilterChange=r.handleExplicitContentFilterChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderVerificationLevelSection=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return o(m.default,{title:C.default.Messages.FORM_LABEL_VERIFICATION_LEVEL},void 0,o(_.default,{type:v.Types.DESCRIPTION,className:N.default.marginBottom20},void 0,C.default.Messages.FORM_HELP_VERIFICATION_LEVEL.format()),o(h.default,{value:n.verificationLevel,options:(0,g.generateVerificationLevelOptions)(),disabled:!t,onChange:this.handleVerificationLevelChange}))},t.prototype.renderExplicitContentFilter=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return o(m.default,{title:C.default.Messages.FORM_LABEL_EXPLICIT_CONTENT_FILTER},void 0,o(_.default,{type:v.Types.DESCRIPTION,className:N.default.marginBottom20},void 0,C.default.Messages.FORM_HELP_EXPLICIT_CONTENT_FILTER.format()),o(h.default,{value:n.explicitContentFilter,options:(0,g.generateContentFilterOptions)(),disabled:!t,onChange:this.handleExplicitContentFilterChange}))},t.prototype.render=function(){var e=this.props,t=e.hide,n=e.guild,r=e.currentUserId;if(t)return O;var a=!1;return r===n.ownerId&&(a=!0),o(m.default,{title:C.default.Messages.MODERATION,tag:E.Tags.H2},void 0,this.renderVerificationLevelSection(),o(y.default,{className:(0,i.default)(N.default.marginTop40,N.default.marginBottom40)}),this.renderExplicitContentFilter(),a&&o(y.default,{className:(0,i.default)(N.default.marginTop40,N.default.marginBottom40)}),a&&b)},t.prototype.handleVerificationLevelChange=function(e){var t=e.value;u.default.updateGuild({verificationLevel:t})},t.prototype.handleExplicitContentFilterChange=function(e){var t=e.value;u.default.updateGuild({explicitContentFilter:t})},t}(a.PureComponent);M.displayName="GuildSettingsModeration",t.default=l.default.connectStores([d.default,f.default,s.default,c.default,p.default],function(){var e=d.default.getProps().guild,t=!1;return null!=e&&(t=c.default.can(I.Permissions.MANAGE_GUILD,e)),{currentUserId:s.default.getId(),canManageGuild:t,guild:e,hide:p.default.enabled}})(M),e.exports=t.default},7044:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(4)),l=E(n(5985)),u=E(n(831)),s=E(n(5991)),d=E(n(15)),f=n(128),c=E(f),p=E(n(837)),h=n(445),y=E(h),m=n(0),v=E(n(13)),_=E(n(5351));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setMFAEnabled=r.setMFAEnabled.bind(r),r.handleEnableMFA=r.handleEnableMFA.bind(r),r.handleDisableMFA=r.handleDisableMFA.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderEnableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return o(c.default,{disabled:!r,look:f.ButtonLooks.OUTLINED,color:f.ButtonColors.PRIMARY,onClick:this.handleEnableMFA},void 0,v.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_ENABLE)},t.prototype.renderDisableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return o(c.default,{disabled:!r,look:f.ButtonLooks.OUTLINED,color:f.ButtonColors.RED,onClick:this.handleDisableMFA},void 0,v.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_DISABLE)},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.mfaLevel;return o(p.default,{title:v.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL},void 0,o(y.default,{type:h.Types.DESCRIPTION,className:_.default.marginBottom20},void 0,v.default.Messages.GUILD_SECURITY_REQ_MFA_BODY.format()," ",t.mfaEnabled?null:v.default.Messages.GUILD_SECURITY_REQ_MFA_ENABLE.format({onClick:this.openUserAccountModal})),n===m.MFALevels.ELEVATED?this.renderDisableButton():this.renderEnableButton())},t.prototype.setMFAEnabled=function(e){var t=this.props.guild;l.default.updateMFALevel({guildId:t.id,level:e?m.MFALevels.ELEVATED:m.MFALevels.NONE,isEnabled:!e})},t.prototype.handleEnableMFA=function(){this.setMFAEnabled(!0)},t.prototype.handleDisableMFA=function(){this.setMFAEnabled(!1)},t.prototype.openUserAccountModal=function(){u.default.open(m.UserSettingsSections.ACCOUNT)},t}(a.PureComponent);g.displayName="MFASettings",t.default=i.default.connectStores([d.default,s.default],function(){var e=s.default.getProps(),t=e.mfaLevel,n=e.guild;return{currentUser:d.default.getCurrentUser(),mfaLevel:t,guild:n}})(g),e.exports=t.default},7045:function(e,t,n){"use strict";t.__esModule=!0,t.GuildSettingsOverviewNotice=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=K(n(17)),u=K(n(6)),s=K(n(4)),d=K(n(5985)),f=K(n(80)),c=K(n(6238)),p=K(n(188)),h=K(n(22)),y=K(n(5991)),m=K(n(153)),v=K(n(6060)),_=n(128),E=K(_),g=K(n(152)),S=K(n(6007)),T=K(n(7046)),I=K(n(5995)),C=K(n(6045)),N=K(n(828)),A=K(n(836)),O=K(n(448)),b=K(n(837)),M=n(445),R=K(M),P=n(110),L=K(P),w=K(n(6761)),D=n(6029),U=K(n(82)),k=K(n(314)),G=K(n(6169)),x=K(n(6571)),F=K(n(6092)),j=n(6401),B=K(n(6183)),H=n(0),V=K(n(13)),Y=K(n(5351)),W=K(n(5624));function K(e){return e&&e.__esModule?e:{default:e}}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e){var t=e.label,n=e.channel,r=e.category,o=(0,D.getIconNameForChannel)(n),i=null!=r?r.toString():null;return a(w.default,{title:t,iconType:o,subtitle:i})}function q(e){return{value:e.id,label:e.toString(),channel:e,category:h.default.getChannel(e.parent_id)}}$.displayName="renderChannelOption";t.GuildSettingsOverviewNotice=s.default.connectStores([y.default],function(){var e=y.default.getProps(),t=e.guild,n=e.submitting;return{guild:t,submitting:n,onReset:function(){null!=t&&d.default.init(t.id)},onSave:function(){null!=t&&d.default.saveGuild(t.id,{name:t.name,region:t.region,icon:t.icon,splash:t.splash,afkChannelId:t.afkChannelId,afkTimeout:t.afkTimeout,systemChannelId:t.systemChannelId,verificationLevel:t.verificationLevel,defaultMessageNotifications:t.defaultMessageNotifications,explicitContentFilter:t.explicitContentFilter,description:t.description,banner:t.banner})}}})(B.default);var X=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=z(this,e.call.apply(e,[this].concat(l))),r.handleRegionSelectorClick=function(){var e=r.props.regions;if(null!=e){var t=e.filter(function(e){return!e.deprecated});f.default.push(function(e){return i.createElement(j.RegionSelectModal,o({regions:t,onChange:r.handleRegionChange},e))})}},z(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){null==this.props.regions&&c.default.fetchRegions(this.props.guild.id)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.guild.id!==e.guild.id&&(null==v.default.getRegions(e.guild.id)&&c.default.fetchRegions(e.guild.id))},t.prototype.handleNameChange=function(e){d.default.updateGuild({name:e})},t.prototype.handleIconChange=function(e){d.default.updateGuild({icon:e})},t.prototype.handleAFKChannelChange=function(e){var t=e.value;"NO_AFK_CHANNEL"===t&&(t=null),d.default.updateGuild({afkChannelId:t})},t.prototype.handleAFKTimeoutChange=function(e){var t=e.value;d.default.updateGuild({afkTimeout:parseInt(t,10)})},t.prototype.handleSystemChannelChange=function(e){var t=e.value;"NO_SYSTEM_CHANNEL"===t&&(t=null),d.default.updateGuild({systemChannelId:t})},t.prototype.handleDefaultMessageNotificationsChange=function(e){var t=e.value;d.default.updateGuild({defaultMessageNotifications:t})},t.prototype.handleSplashChange=function(e){d.default.updateGuild({splash:e})},t.prototype.handleRegionChange=function(e){var t=e.id;d.default.updateGuild({region:t})},t.prototype.handleChangeDescription=function(e){d.default.updateGuild({description:e})},t.prototype.handleBannerChange=function(e){d.default.updateGuild({banner:e})},t.prototype.renderBaseSettings=function(){var e,t=this.props,n=t.guild,r=t.region,o=t.regions,i=t.errors,u=t.canManageGuild,s=null==o||0===o.length;return a(g.default,{className:(0,l.default)(W.default.baseSection,Y.default.marginBottom40)},void 0,a(g.default,{basis:"50%",justify:g.default.Justify.BETWEEN},void 0,a(g.default.Child,{wrap:!0},void 0,a(x.default,{showIcon:!0,name:n.name,icon:n.icon,onChange:this.handleIconChange,disabled:!u,makeURL:function(e){return e&&U.default.getGuildIconURL({id:n.id,icon:e})},className:(0,l.default)((e={},e[W.default.avatarUploader]=u,e[W.default.avatarUploaderDisabled]=!u,e)),avatarClassName:W.default.avatarUploaderInner})),a(g.default,{direction:g.default.Direction.VERTICAL,align:g.default.Align.START,style:{maxWidth:180}},void 0,a(R.default,{type:M.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,V.default.Messages.GUILD_SETTINGS_ICON_RECOMMEND),a(E.default,{look:_.ButtonLooks.OUTLINED,color:_.ButtonColors.WHITE,disabled:!u,className:Y.default.marginTop8},void 0,V.default.Messages.UPLOAD_IMAGE,a(F.default,{onChange:this.handleIconChange,disabled:!u})))),a(g.default.Child,{basis:"50%"},void 0,a(O.default,{title:V.default.Messages.FORM_LABEL_SERVER_NAME,className:Y.default.marginBottom20},void 0,a(N.default,{type:"text",disabled:!u,value:n.name,maxLength:100,onChange:this.handleNameChange,error:i.name})),a(O.default,{title:V.default.Messages.FORM_LABEL_SERVER_REGION},void 0,a(T.default,{disabled:!u||s,region:r,onClick:this.handleRegionSelectorClick,error:null!=i.region}))))},t.prototype.renderAFKSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,o=null!=t.afkTimeout?""+t.afkTimeout:null,i=t.afkChannelId||"NO_AFK_CHANNEL",l=[{value:"60",label:V.default.Messages.DURATION_MINUTES.format({minutes:1})},{value:"300",label:V.default.Messages.DURATION_MINUTES.format({minutes:5})},{value:"900",label:V.default.Messages.DURATION_MINUTES.format({minutes:15})},{value:"1800",label:V.default.Messages.DURATION_MINUTES.format({minutes:30})},{value:"3600",label:V.default.Messages.DURATION_HOURS.format({hours:1})}],s=(0,u.default)(r).filter(function(e){return e.guild_id===t.id}).filter(function(e){return e.type===H.ChannelTypes.GUILD_VOICE}).map(function(e){return q(e)}).value();return s.unshift({value:"NO_AFK_CHANNEL",label:V.default.Messages.NO_AFK_CHANNEL}),a(b.default,{className:Y.default.marginBottom40},void 0,a(g.default,{},void 0,a(g.default.Child,{},void 0,a(O.default,{title:V.default.Messages.FORM_LABEL_AFK_CHANNEL},void 0,a(I.default,{value:i,clearable:!1,searchable:!1,options:s,disabled:!n,optionRenderer:$,valueRenderer:$,onChange:this.handleAFKChannelChange}))),a(g.default.Child,{},void 0,a(O.default,{title:V.default.Messages.FORM_LABEL_AFK_TIMEOUT},void 0,a(I.default,{value:o,clearable:!1,searchable:!1,options:l,disabled:"NO_AFK_CHANNEL"===i||!n,onChange:this.handleAFKTimeoutChange})))),a(R.default,{className:Y.default.marginTop8,type:M.Types.DESCRIPTION},void 0,V.default.Messages.FORM_HELP_AFK_CHANNEL))},t.prototype.renderJoinNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,o=t.systemChannelId||"NO_SYSTEM_CHANNEL",i=(0,u.default)(r).filter(function(e){return e.getGuildId()===t.id}).filter(function(e){return e.type===H.ChannelTypes.GUILD_TEXT}).map(function(e){return q(e)}).value();return i.unshift({value:"NO_SYSTEM_CHANNEL",label:V.default.Messages.NO_SYSTEM_CHANNEL}),a(b.default,{className:Y.default.marginBottom40},void 0,a(L.default,{},void 0,V.default.Messages.FORM_LABEL_SYSTEM_CHANNEL),a(I.default,{value:o,clearable:!1,searchable:!1,options:i,disabled:!n,optionRenderer:$,valueRenderer:$,onChange:this.handleSystemChannelChange}),a(R.default,{className:Y.default.marginTop8,type:M.Types.DESCRIPTION},void 0,V.default.Messages.FORM_HELP_SYSTEM_CHANNEL))},t.prototype.renderNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=[{name:V.default.Messages.FORM_LABEL_ALL_MESSAGES,value:H.UserNotificationSettings.ALL_MESSAGES},{name:V.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:H.UserNotificationSettings.ONLY_MENTIONS}];return a(b.default,{className:Y.default.marginBottom40},void 0,a(L.default,{},void 0,V.default.Messages.FORM_LABEL_DEFAULT_NOTIFICATION_SETTINGS),a(R.default,{type:M.Types.DESCRIPTION,className:Y.default.marginBottom20},void 0,V.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_INTRO),a(R.default,{type:M.Types.DESCRIPTION,className:Y.default.marginBottom20},void 0,V.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_PROTIP.format({videoURL:"https://www.youtube.com/watch?v=zGl796352RI"})),a(S.default,{options:r,value:t.defaultMessageNotifications,disabled:!n,onChange:this.handleDefaultMessageNotificationsChange}))},t.prototype.renderServerInviteBGSection=function(){var e,t=this.props,n=t.guild,r=t.canManageGuild;return a(b.default,{title:V.default.Messages.GUILD_SETTINGS_SERVER_INVITE_BACKGROUND,className:W.default.splashSection},void 0,a(g.default,{},void 0,a(g.default,{basis:"50%",direction:g.default.Direction.VERTICAL,align:g.default.Align.START},void 0,a(R.default,{type:M.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,V.default.Messages.GUILD_SETTINGS_SPLASH_RECOMMEND),a(E.default,{disabled:!r,look:_.ButtonLooks.OUTLINED,color:_.ButtonColors.PRIMARY,className:Y.default.marginTop8},void 0,V.default.Messages.UPLOAD_BACKGROUND,a(F.default,{disabled:!r,onChange:this.handleSplashChange}))),a(g.default.Child,{wrap:!0,basis:"50%"},void 0,a(G.default,{avatar:n.splash,size:null,makeURL:function(e){return e&&U.default.getGuildSplashURL({id:n.id,splash:e})},disabled:!r,onChange:this.handleSplashChange,hint:V.default.Messages.CHANGE_SPLASH,className:(0,l.default)((e={},e[W.default.avatarUploader]=r,e[W.default.avatarUploaderDisabled]=!r,e)),avatarClassName:W.default.avatarUploaderInner,hideSize:!0}))))},t.prototype.renderDescription=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.errors;return a(O.default,{title:V.default.Messages.FORM_LABEL_SERVER_DESCRIPTION},void 0,a(R.default,{type:M.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,V.default.Messages.FORM_HELP_SERVER_DESCRIPTION),a(C.default,{disabled:!n,placeholder:V.default.Messages.SERVER_DESCIPTION_EMPTY,value:p.default.translateSurrogatesToInlineEmoji(t.description||""),onChange:this.handleChangeDescription,error:r.name,maxLength:120,className:Y.default.marginTop8}))},t.prototype.renderBanner=function(){var e,t=this.props,n=t.guild,r=t.canManageGuild;return a(b.default,{title:V.default.Messages.FORM_LABEL_SERVER_BANNER,className:W.default.splashSection},void 0,a(g.default,{},void 0,a(g.default,{basis:"50%",direction:g.default.Direction.VERTICAL,align:g.default.Align.START},void 0,a(R.default,{type:M.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,V.default.Messages.FORM_HELP_SERVER_BANNER),a(R.default,{type:M.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,V.default.Messages.GUILD_SETTINGS_BANNER_RECOMMEND.format({articleURL:k.default.getDevArticleURL(H.DevHelpdeskArticles.SERVER_BANNERS)})),a(E.default,{disabled:!r,look:E.default.Looks.OUTLINED,color:E.default.Colors.PRIMARY,className:Y.default.marginTop8},void 0,V.default.Messages.UPLOAD_BACKGROUND,a(F.default,{disabled:!r,onChange:this.handleBannerChange}))),a(g.default.Child,{wrap:!0,basis:"50%"},void 0,a(G.default,{avatar:n.banner,size:null,makeURL:function(e){return e&&U.default.getGuildBannerURL({id:n.id,banner:e})},disabled:!r,onChange:this.handleBannerChange,hint:V.default.Messages.CHANGE_BANNER,className:(0,l.default)((e={},e[W.default.avatarUploader]=r,e[W.default.avatarUploaderDisabled]=!r,e)),avatarClassName:W.default.avatarUploaderInner,hideSize:!0}))))},t.prototype.render=function(){var e=this.props.guild.hasFeature(H.GuildFeatures.INVITE_SPLASH),t=this.props.guild.hasFeature(H.GuildFeatures.VERIFIED);return a(b.default,{title:V.default.Messages.SERVER_OVERVIEW,tag:P.Tags.H2},void 0,this.renderBaseSettings(),a(A.default,{className:Y.default.marginBottom40}),this.renderAFKSection(),a(A.default,{className:Y.default.marginBottom40}),this.renderJoinNotificationSection(),a(A.default,{className:Y.default.marginBottom40}),this.renderNotificationSection(),e&&a(A.default,{className:(0,l.default)(Y.default.marginTop40,Y.default.marginBottom20)}),e&&this.renderServerInviteBGSection(),t&&a(A.default,{className:(0,l.default)(Y.default.marginTop40,Y.default.marginBottom20)}),t&&this.renderDescription(),t&&a(A.default,{className:(0,l.default)(Y.default.marginTop40,Y.default.marginBottom20)}),t&&this.renderBanner())},t}(i.PureComponent);X.displayName="GuildSettingsOverview",t.default=s.default.connectStores([h.default,y.default,m.default,v.default],function(){var e=y.default.getProps(),t=e.guild,n=e.errors,r=e.submitting,o=null!=t?v.default.getRegions(t.id):null,a={id:"unknown",name:V.default.Messages.UNKNOWN_REGION,vip:!1};null!=o&&null!=t&&(a=o.find(function(e){return e.id===t.region})||a);var i=((null!=t&&m.default.getGuildPermissions(t.id)||0)&H.Permissions.MANAGE_GUILD)===H.Permissions.MANAGE_GUILD;return{channels:h.default.getChannels(),canManageGuild:i,regions:o,region:a,guild:t,errors:n,submitting:r}})(X)},7046:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=n(128),u=p(l),s=p(n(221)),d=p(n(152)),f=p(n(13)),c=p(n(5621));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,r=e.region,a=void 0;if("unknown"===r.id)a=n(6128);else{var l=r.id.replace(/^vip-/,"");try{a=n(6548)("./"+l+".png")}catch(e){a=n(6128)}}var u={backgroundImage:'url("'+a+'")'};return o("div",{className:(0,i.default)(c.default.flag,(t={},t[c.default.vip]=r.vip,t)),style:u})};h.displayName="RegionFlag";var y=function(e){var t=e.region.name.replace(/ \(VIP\)$/,"");return o("div",{className:c.default.name},void 0,t)};y.displayName="RegionName";var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleClick=function(){var e=r.props,t=e.onClick;e.disabled||t()},r.handleMouseLeave=function(){r.setState({hover:!1})},r.handleMouseEnter=function(){r.setState({hover:!0})},r.state={hover:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.region,r=t.error,a=t.disabled,p=this.state.hover,m=l.ButtonColors.GREY;return a||(p?m=l.ButtonColors.BRAND:!0===r&&(m=l.ButtonColors.RED)),o(s.default,{className:(0,i.default)(c.default.container,(e={},e[c.default.hover]=p,e[c.default.disabled]=a,e[c.default.error]=r,e)),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,o(d.default,{className:c.default.layout},void 0,o(d.default,{className:c.default.input,align:d.default.Align.CENTER},void 0,o(d.default.Child,{grow:0,shrink:0},void 0,o(h,{region:n})),o(d.default.Child,{},void 0,o(y,{region:n}))),o(d.default,{shrink:1,grow:0,style:{margin:0}},void 0,o(u.default,{className:c.default.button,onClick:function(){},size:l.ButtonSizes.MIN,color:m,disabled:a,look:l.ButtonLooks.GHOST},void 0,f.default.Messages.CHANGE))))},t}(a.PureComponent);m.defaultProps={disabled:!1},m.displayName="RegionSelector",t.default=m,e.exports=t.default},7047:function(e,t,n){"use strict";t.__esModule=!0,t.GuildSettingsRolesNotice=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=W(n(17)),u=n(7244),s=W(n(4)),d=W(n(183)),f=W(n(832)),c=W(n(5985)),p=n(7048),h=W(n(6567)),y=W(n(5991)),m=W(n(35)),v=W(n(15)),_=W(n(311)),E=W(n(128)),g=n(450),S=W(g),T=W(n(152)),I=W(n(306)),C=W(n(6762)),N=W(n(5987)),A=W(n(6043)),O=W(n(828)),b=W(n(442)),M=W(n(836)),R=W(n(448)),P=W(n(837)),L=n(445),w=W(L),D=n(110),U=W(D),k=W(n(314)),G=W(n(100)),x=W(n(7049)),F=W(n(6778)),j=W(n(6779)),B=W(n(6183)),H=n(0),V=W(n(13)),Y=W(n(5632));function W(e){return e&&e.__esModule?e:{default:e}}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q={paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"};function X(e,t){return a(b.default,{color:b.default.Colors.RED,delay:500,position:b.default.Positions.TOP,text:t},void 0,a("div",{className:Y.default.notAllowedCursor},void 0,e))}X.displayName="wrapTooltip";t.GuildSettingsRolesNotice=s.default.connectStores([y.default,h.default],function(){var e=y.default.getProps().guild,t=h.default.formState;return{guild:e,submitting:t===H.FormStates.SUBMITTING,onReset:function(){(0,p.init)()},onSave:function(){if(null!=e){var t=e.id,n=h.default.editedRoleIds.map(function(e){return h.default.getRole(e)}).filter(Boolean),r=h.default.getSortDeltas();(0,p.saveRoleSettings)(t,n,r)}}}})(B.default);var Q=(0,u.makeDragItem)("ITEM")(F.default),J=(0,u.makeDragList)("ITEM")(A.default),Z=function(e){function t(r){K(this,t);var a=z(this,e.call(this,r));return a.handleNameChange=function(e){var t=a.props.role.id;(0,p.updateRoleName)(t,e)},a.handleColorChange=function(e){var t=a.props.role,n=t.id;t.color===e||e===H.DEFAULT_ROLE_COLOR&&0===t.color||(e===H.DEFAULT_ROLE_COLOR&&(e=0),(0,p.updateRoleColor)(n,e))},a.handlePermissionChange=function(e,t){var n=a.props.role.id;(0,p.updateRolePermissions)(n,e,t)},a.handleDeleteRole=function(){var e=a.props,t=e.guild.id,r=e.role,o=r.id,i=r.name;d.default.show({title:V.default.Messages.SETTINGS_ROLES_DELETE_TITLE,body:V.default.Messages.SETTINGS_ROLES_DELETE_BODY.format({name:i}),cancelText:V.default.Messages.CANCEL,onConfirm:function(){return f.default.deleteRole(t,o)},iconUrl:n(6573)})},a.handlePermissionRender=function(e){var t,n=a.props,r=n.locked,i=n.guild,l=n.currentUser,u=n.everyone,s=n.role,d=G.default.getHighestRole(i,l.id);return r&&s===d?V.default.Messages.HELP_ROLE_LOCKED_MINE:r?V.default.Messages.HELP_ROLE_LOCKED:null==e&&u?V.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE:null==e||G.default.can(e,l,i)?null!=e&&!G.default.can(e,l,i,null,(t={},t[s.id]=o({},s,{permissions:s.permissions^s.permissions&e}),t))&&V.default.Messages.HELP_SINGULAR_PERMISSION:V.default.Messages.HELP_MISSING_PERMISSION},a.generalSpec=G.default.generateGuildGeneralPermissionSpec(),a.textSpec=G.default.generateGuildTextPermissionSpec(),a.voiceSpec=G.default.generateGuildVoicePermissionSpec(r.guild.id),a}return $(t,e),t.prototype.handleSettingChange=function(e,t){var n=t.currentTarget.checked,r=this.props.role,o=r.hoist,a=r.mentionable,i=r.id;"hoist"===e?o=n:a=n,(0,p.toggleRoleSettings)(i,o,a)},t.prototype.renderName=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone;return a(R.default,{title:V.default.Messages.FORM_LABEL_ROLE_NAME,className:Y.default.marginBottom20},void 0,a(O.default,{disabled:n||r,style:{color:t.colorString},value:t.name,onChange:this.handleNameChange}))},t.prototype.renderColorPicker=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone,o=a(x.default,{defaultColor:H.DEFAULT_ROLE_COLOR,colors:H.ROLE_COLORS,value:t.color,disabled:n||r,onChange:this.handleColorChange});return(n||r)&&(o=X(o,V.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE)),a(R.default,{title:V.default.Messages.FORM_LABEL_ROLE_COLOR,className:Y.default.marginBottom40},void 0,o)},t.prototype.renderDisabledIndicator=function(e){return a(b.default,{text:e,position:b.default.Positions.TOP,color:b.default.Colors.RED},void 0,a("span",{},void 0,a(I.default,{name:I.default.Names.NOT_ALLOWED,className:Y.default.notAllowedIcon,width:18,height:18})))},t.prototype.renderRoleSettings=function(){var e=this.props,t=e.role,n=e.locked,r=this.handlePermissionRender(),o=!(!n&&!r),i="string"==typeof r?this.renderDisabledIndicator(r):null,u=null!=i?Y.default.rolePermissionTitleDisabled:null;return a(P.default,{className:Y.default.marginBottom40},void 0,a(U.default,{tag:D.Tags.H5,className:Y.default.marginBottom20},void 0,V.default.Messages.FORM_LABEL_ROLE_SETTINGS),a(N.default,{className:(0,l.default)(Y.default.marginBottom20,{disabled:o}),disabled:o,onChange:this.handleSettingChange.bind(this,"hoist"),value:t.hoist},void 0,i,a("span",{className:u},void 0,V.default.Messages.FORM_LABEL_HOIST_DESCRIPTION)),a(N.default,{disabled:o,onChange:this.handleSettingChange.bind(this,"mentionable"),value:t.mentionable},void 0,i,a("span",{className:u},void 0,V.default.Messages.FORM_LABEL_MENTIONABLE.format())))},t.prototype.renderDeleteButton=function(){var e=this.props,t=e.locked,n=e.role,r=e.everyone;return t||n.managed||r?null:a(E.default,{look:E.default.Looks.OUTLINED,color:E.default.Colors.RED,onClick:this.handleDeleteRole},void 0,V.default.Messages.DELETE," ",n.name)},t.prototype.renderManagedNote=function(){if(this.props.role.managed)return a(S.default,{type:g.Types.WARNING,className:Y.default.managedNote},void 0,V.default.Messages.MANAGED_ROLE_EXPLAINATION)},t.prototype.render=function(){var e=this.props,t=e.locked,n=e.role.permissions;return a(P.default,{},void 0,this.renderManagedNote(),this.renderName(),this.renderColorPicker(),a(M.default,{className:Y.default.marginBottom40}),this.renderRoleSettings(),a(j.default,{spec:this.generalSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:Y.default.marginBottom40,permissionRender:this.handlePermissionRender}),a(j.default,{spec:this.textSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:Y.default.marginBottom40,permissionRender:this.handlePermissionRender}),a(j.default,{spec:this.voiceSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,permissionRender:this.handlePermissionRender}),this.renderDeleteButton())},t}(i.PureComponent);Z.displayName="GuildRoleSettings";var ee=function(){return a("div",{},void 0,a(A.default.Separator,{style:{marginTop:20,marginBottom:14}}),a(w.default,{type:L.Types.DESCRIPTION,className:Y.default.marginBottom20},void 0,V.default.Messages.FORM_LABEL_ROLES_PRO_TIP_DESCRIPTION),a(w.default,{type:L.Types.DESCRIPTION},void 0,a(_.default,{href:k.default.getArticleURL(H.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,V.default.Messages.PERMISSION_HELPDESK)))};ee.displayName="GuildRoleInfo";var te=a(ee,{}),ne=function(e){function t(){var n,r;K(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=z(this,e.call.apply(e,[this].concat(a))),r.state={dragging:null,roles:null},r.handleCreateRole=function(){f.default.createRole(r.props.guild.id)},r.handleSelectRole=function(e){c.default.selectRole(e)},r.handleDragStart=function(e){var t=r.props.roles;r.setState({dragging:e,roles:[].concat(t)})},r.handleDragLeave=function(){var e=r.props.roles;r.setState({roles:[].concat(e)})},r.handleDrop=function(){null!=r.state.roles&&((0,p.updateRoleSort)(r.state.roles.map(function(e){return e.id})),r.setState({dragging:null,roles:null}))},r.handleHover=function(e,t){if(null!=r.state.roles){var n=[].concat(r.state.roles),o=n.find(function(e){var n=e.id;return t===n}),a=n.find(function(t){var n=t.id;return e===n});if(null!=o&&null!=a){var i=n.indexOf(o),l=n.indexOf(a),u=l-i>0?1:0;n.splice(i,1),l=n.indexOf(a),n.splice(l+u,0,o),r.setState({roles:n})}}},r.handleCancel=function(){r.setState({dragging:null,roles:null})},z(r,n)}return $(t,e),t.prototype.getSelectedRole=function(){return h.default.getRole(this.props.selectedRoleId)},t.prototype.renderRoleList=function(){var e=this.props,t=e.currentUser,n=e.guild,r=e.selectedRoleId,o=e.theme,i=this.props.roles,l=G.default.getHighestRole(n,t.id);return this.state.roles&&(i=this.state.roles),i.map(function(e){var i=!G.default.isRoleHigher(n,t.id,l,e),u=i&&e===l,s=e.id,d=e.colorString,f=e.name,c=void 0;return u?c=V.default.Messages.HELP_ROLE_LOCKED_MINE:i&&(c=V.default.Messages.HELP_ROLE_LOCKED),i||u||s===n.id?a(F.default,{theme:o,id:s,locked:i,lockTooltip:c,color:d},r+"-"+s,f):a(Q,{theme:o,dragId:s,id:s,locked:i,lockTooltip:c,color:d},r+"-"+s,f)})},t.prototype.renderRoles=function(){var e=this.props,t=e.selectedRoleId,r=e.theme,i=this.state.dragging,l=this.props.theme===H.ThemeTypes.DARK?n(6781):n(6782);return a(C.default.Sidebar,{style:o({},q,{overflow:"hidden"}),scrollable:!0,theme:r},void 0,a(J,{onItemSelect:this.handleSelectRole,selectedItem:i||t,onDragStart:this.handleDragStart,onHover:this.handleHover,onDrop:this.handleDrop,onCancel:this.handleCancel,onDragLeave:this.handleDragLeave},void 0,a(A.default.Header,{},void 0,a(T.default,{className:Y.default.sidebarHeader,onClick:this.handleCreateRole,justify:T.default.Justify.BETWEEN},void 0,V.default.Messages.ROLES,a("img",{alt:"",className:Y.default.addRoleIcon,src:l}))),this.renderRoleList(),te))},t.prototype.renderRoleSettings=function(){var e=this.props,t=e.guild,n=e.currentUser,r=this.getSelectedRole();if(null==r)return null;var i=G.default.getHighestRole(t,n.id),l=!G.default.isRoleHigher(t,n.id,i,r),u=null!=r&&r.id===t.id;return a(C.default.Content,{style:o({},q,{paddingRight:0}),grow:0},void 0,a(Z,{guild:t,role:r,locked:l,everyone:u,currentUser:n}))},t.prototype.render=function(){return a(C.default,{},void 0,this.renderRoles(),this.renderRoleSettings())},t}(i.PureComponent);ne.displayName="GuildSettingsRoles",t.default=s.default.connectStores([y.default,v.default,m.default,h.default],function(){var e=y.default.getProps(),t=e.guild,n=e.selectedRoleId;return{currentUser:v.default.getCurrentUser(),guild:t,selectedRoleId:n,roles:h.default.roles,theme:m.default.theme}})(ne)},7048:function(e,t,n){"use strict";t.__esModule=!0,t.updateRoleSort=function(e){r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_SORT_UPDATE,roles:e})},t.init=function(){r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_INIT})},t.updateRolePermissions=function(e,t,n){r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS,id:e,flag:t,allow:n})},t.updateRoleName=function(e,t){r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_NAME,id:e,name:t})},t.updateRoleColor=function(e,t){r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_COLOR,id:e,color:t})},t.toggleRoleSettings=function(e,t,n){r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_SETTINGS,id:e,hoist:t,mentionable:n})},t.saveRoleSettings=function(e,t,n){return r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_SUBMITTING}),new Promise(function(r){var a=function n(){if(null==t||0===t.length)return r();var a=t.pop();if(null==a||""===a.name)return n();o.default.updateRole(e,a.id,a.name,a.permissions,a.color,a.hoist,a.mentionable).then(n,n)};null!=n&&n.length>0?o.default.batchRoleUpdate(e,n).then(a,a):a()}).then(function(){return r.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_SAVE_SUCCESS})})};var r=i(n(1)),o=i(n(832)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7049:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=p(n(830)),u=n(7050),s=p(u),d=p(n(827)),f=p(n(442)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={customColor:null},r.renderDefaultButton=r.renderDefaultButton.bind(r),r.renderCustomButton=r.renderCustomButton.bind(r),r.renderCustomColorPopout=r.renderCustomColorPopout.bind(r),r.handleOnChange=r.handleOnChange.bind(r),r.handleCustomOnChange=r.handleCustomOnChange.bind(r),r._removeEventListener=r._removeEventListener.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.value,n=e.defaultColor,r=e.colors;0===t||t===n||r.some(function(e){return e===t})?this.setState({customColor:null}):this.setState({customColor:t})},t.prototype._closeCustomColorPicker=function(){l.default.close("CUSTOM_COLOR_POPOUT_ID")},t.prototype._removeEventListener=function(){window.removeEventListener("wheel",this._closeCustomColorPicker)},t.prototype.renderCustomColorPopout=function(){return this._removeEventListener(),window.addEventListener("wheel",this._closeCustomColorPicker),a(u.CustomColorPicker,{onChange:this.handleCustomOnChange,value:this.state.customColor,onClose:this._removeEventListener})},t.prototype.renderCustomButton=function(e){var t=i.createElement(u.CustomColorButton,e);return e.disabled?t:a(d.default,{uniqueId:"CUSTOM_COLOR_POPOUT_ID",shadow:!1,render:this.renderCustomColorPopout,position:d.default.Positions.BOTTOM,zIndexBoost:1e3},void 0,a(f.default,{text:c.default.Messages.CUSTOM_COLOR,position:f.default.Positions.BOTTOM},void 0,a("div",{},void 0,t)))},t.prototype.renderDefaultButton=function(e){var t=i.createElement(u.DefaultColorButton,e);return this.props.disabled?t:a(f.default,{text:c.default.Messages.DEFAULT,position:f.default.Positions.BOTTOM},void 0,a("div",{},void 0,t))},t.prototype.render=function(){return i.createElement(s.default,o({},this.props,{renderDefaultButton:this.renderDefaultButton,renderCustomButton:this.renderCustomButton,customColor:this.state.customColor,onChange:this.handleOnChange}))},t.prototype.handleOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:null})},t.prototype.handleCustomOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:e})},t}(i.PureComponent);h.displayName="ColorPicker",t.default=h,e.exports=t.default},7050:function(e,t,n){"use strict";t.__esModule=!0,t.CustomColorPicker=t.CustomColorButton=t.DefaultColorButton=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(17)),u=n(231),s=v(n(7051)),d=v(n(152)),f=v(n(306)),c=v(n(828)),p=n(0),h=v(n(5351)),y=v(n(5627)),m=v(n(937));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(n){_(this,t);var r=E(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r}return g(t,e),t.prototype.renderCustomIcon=function(e){if(this.props.isCustom)return a(f.default,{className:y.default.colorPickerDropper,foreground:y.default.colorPickerDropperFg,name:f.default.Names.DROPPER,width:14,height:14,color:e?p.Colors.WHITE:p.Colors.BLACK})},t.prototype.renderSelected=function(e){var t=16,n=16;if((this.props.isCustom||this.props.isDefault)&&(t=32,n=24),this.props.isSelected)return a(f.default,{name:f.default.Names.CHECKMARK,width:t,height:n,color:e?p.Colors.WHITE:p.Colors.BLACK})},t.prototype.render=function(){var e,t=this.props,n=t.color,r=t.isDefault,i=t.isCustom,s=t.isSelected,d=t.disabled,f=t.style,c=null!=n?(0,u.int2hex)(n):f.backgroundColor,p=!1;i&&!s?p=!0:(i||s)&&(p=(0,u.getDarkness)(n)>.1);var h=(0,l.default)(y.default.colorPickerSwatch,((e={})[y.default.disabled]=d,e[y.default.default]=r,e[y.default.custom]=i,e[y.default.noColor]=null==n,e));return a("button",{className:h,disabled:d,onClick:this.handleClick,style:o({},f,{backgroundColor:c})},void 0,this.renderCustomIcon(p),this.renderSelected(p))},t.prototype.handleClick=function(){var e=this.props,t=e.color,n=e.onClick;n&&n(t)},t}(i.PureComponent);S.defaultProps={isDefault:!1,isCustom:!1,isSelected:!1,disabled:!1,style:{}},S.displayName="Swatch",(t.DefaultColorButton=function(e){function t(){return _(this,t),E(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.onChange,r=e.value,o=e.disabled;return a(S,{isDefault:!0,color:t,isSelected:t===r||0===r,onClick:n,disabled:o,style:{marginLeft:0}})},t}(i.PureComponent)).displayName="DefaultColorButton",(t.CustomColorButton=function(e){function t(){return _(this,t),E(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.customColor,n=e.value,r=e.disabled;return a(S,{isCustom:!0,color:t,isSelected:n===t,disabled:r,style:{marginLeft:10}})},t}(i.PureComponent)).displayName="CustomColorButton",(t.CustomColorPicker=function(e){function t(n){_(this,t);var r=E(this,e.call(this,n)),o=n.value,a=(0,u.int2hex)(null!=o?o:0);return r.state={color:a,validColor:a},r.handleHexChange=r.handleHexChange.bind(r),r.handleOnChange=r.handleOnChange.bind(r),r.handleOnChangeComplete=r.handleOnChangeComplete.bind(r),r}return g(t,e),t.prototype.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},t.prototype.render=function(){var e=this.state,t=e.color,n=e.validColor;return a(d.default,{direction:d.default.Direction.VERTICAL,className:y.default.colorPickerCustom},void 0,a(s.default,{onChangeComplete:this.handleOnChangeComplete,onChange:this.handleOnChange,color:n}),a(c.default,{className:(0,l.default)(y.default.customColorPickerInput,h.default.marginTop8),value:t,onChange:this.handleHexChange,maxLength:7}))},t.prototype.callOnChange=function(e){(0,this.props.onChange)((0,u.hex2int)(e))},t.prototype.handleHexChange=function(e){var t="#"===e[0]?e:"#"+e,n=(0,u.isValidHex)(t);this.setState({color:t,validColor:n?t:this.state.validColor}),n&&this.callOnChange(t)},t.prototype.handleOnChange=function(e){this.setState({color:e.hex,validColor:e.hex})},t.prototype.handleOnChangeComplete=function(e){this.callOnChange(e.hex)},t}(i.PureComponent)).displayName="CustomColorPicker";var T=function(e){function t(n){_(this,t);var r=E(this,e.call(this,n));return r.renderColor=r.renderColor.bind(r),r}return g(t,e),t.prototype.renderColor=function(e){var t=this.props,n=t.value,r=t.onChange,o=t.disabled;return a(S,{color:e,isSelected:e===n,onClick:r,disabled:o},e)},t.prototype.renderRow=function(e){var t=this;return a(d.default,{className:y.default.colorPickerRow,wrap:d.default.Wrap.WRAP},void 0,e.map(function(e){return t.renderColor(e)}))},t.prototype.render=function(){var e=this.props,t=e.defaultColor,n=e.customColor,r=e.colors,o=e.value,i=e.disabled,l=e.onChange,u=e.renderDefaultButton,s=e.renderCustomButton,f=r.slice(0,r.length/2),c=r.slice(r.length/2,r.length);return a(d.default,{},void 0,a(d.default.Child,{shrink:0,grow:0,className:h.default.marginReset,wrap:!0},void 0,u({value:o,color:t,onChange:l,disabled:i})),a(d.default.Child,{shrink:0,grow:0,className:h.default.marginReset,wrap:!0},void 0,s({value:o,customColor:n,disabled:i})),a(d.default,{direction:d.default.Direction.VERTICAL,className:m.default.flexMarginReset,grow:1},void 0,this.renderRow(f),this.renderRow(c)))},t}(i.PureComponent);T.displayName="ColorPicker",t.default=T},7051:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=n(7245),s=n(6002),d=n(5626),f=(o=d)&&o.__esModule?o:{default:o};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i("div",{className:f.default.wrapper},void 0,i("div",{className:f.default.saturation},void 0,l.createElement(s.Saturation,this.props)),i("div",{className:f.default.hue},void 0,l.createElement(s.Hue,a({},this.props,{direction:"horizontal"}))))},t}(l.PureComponent);c.displayName="ColorPickerControl",t.default=(0,u.CustomPicker)(c),e.exports=t.default},7073:function(e,t,n){e.exports=n.p+"959a1978f7be567071a1354a98b46ecd.svg"},7074:function(e,t,n){e.exports=n.p+"89c5bd0afd63d925ba6a8fcd18eeb530.svg"},7075:function(e,t,n){"use strict";t.__esModule=!0,t.PermissionOverrideTypes=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(152)),l=h(n(7076)),u=h(n(836)),s=n(445),d=h(s),f=n(110),c=h(f),p=h(n(5351));function h(e){return e&&e.__esModule?e:{default:e}}t.PermissionOverrideTypes=l.default.Types;var y=o(u.default,{}),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.onChange,r=e.disabled,a=e.hideBorder,u=e.children,h=e.className,m=e.note,v=e.style;return o(i.default,{style:v,className:h,direction:i.default.Direction.VERTICAL},void 0,o(i.default,{},void 0,o(i.default.Child,{},void 0,o(c.default,{className:p.default.marginReset,tag:f.Tags.H3,disabled:r},void 0,u)),o(i.default.Child,{grow:0,shrink:0},void 0,o(l.default,{value:t,onChange:n,disabled:r}))),m&&o(i.default.Child,{className:p.default.marginTop4},void 0,o(d.default,{type:s.Types.DESCRIPTION},void 0,m)),!a&&o(i.default.Child,{className:p.default.marginTop20},void 0,y))},t}(a.PureComponent);m.defaultProps={disabled:!1,hideBorder:!1,className:p.default.marginBottom20},m.Types=l.default.Types,m.displayName="PermissionOverrideItem",t.default=m},7076:function(e,t,n){"use strict";t.__esModule=!0,t.PermissionOverrideTypes=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(180),l=d(n(6780)),u=d(n(13)),s=d(n(5630));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.PermissionOverrideTypes={DENY:"DENY",PASSTHROUGH:"PASSTHROUGH",ALLOW:"ALLOW"},p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.keys=Object.keys(c),r.handleToggle=function(e){var t=r.props,n=t.value,o=t.onChange;n!==e&&o(e)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.value,a=t.disabled,d=this.keys.map(function(t){var a=r===t,l=void 0,d=void 0,f=void 0;switch(t){case c.DENY:f=u.default.Messages.PERMISSION_OVERRIDE_DENY,l=n(a?7077:7078),d=c.DENY;break;case c.ALLOW:f=u.default.Messages.PERMISSION_OVERRIDE_ALLOW,l=n(a?7079:7080),d=c.ALLOW;break;case c.PASSTHROUGH:default:f=u.default.Messages.PERMISSION_OVERRIDE_PASSTHROUGH,l=n(a?7081:7082),d=c.PASSTHROUGH}return{content:o("img",{alt:f,src:l,className:s.default.overrideItem}),className:(0,i.getClass)(s.default,d.toLowerCase(),a?"selected":""),onClick:e.handleToggle.bind(e,t)}});return o(l.default,{buttons:d,disabled:a})},t}(a.PureComponent);p.Types=c,p.defaultProps={value:c.PASSTHROUGH,disabled:!1},p.displayName="PermissionOverride",t.default=p},7077:function(e,t,n){e.exports=n.p+"46eac82bb5b3ccd5049e8b3a96910327.svg"},7078:function(e,t,n){e.exports=n.p+"132b1ce1c085ff84256f3b16943bc782.svg"},7079:function(e,t,n){e.exports=n.p+"7b5b950896ff4214b058f76ba0e84a7b.svg"},7080:function(e,t,n){e.exports=n.p+"ffeba954d48c1ac993679084cee38746.svg"},7081:function(e,t,n){e.exports=n.p+"f081fef9b7d9610309e65b5282bd0ca9.svg"},7082:function(e,t,n){e.exports=n.p+"bbc9e257da833d4b7d22c82a1de8a0a0.svg"},7083:function(e,t,n){"use strict";t.__esModule=!0,t.GuildSettingsVanityURLNotice=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=O(n(4)),l=n(7084),u=O(n(5991)),s=O(n(6568)),d=O(n(312)),f=O(n(128)),c=O(n(450)),p=O(n(7085)),h=O(n(444)),y=O(n(129)),m=O(n(837)),v=n(445),_=O(v),E=n(110),g=O(E),S=n(229),T=O(n(6035)),I=O(n(6183)),C=n(0),N=O(n(13)),A=O(n(5634));function O(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.GuildSettingsVanityURLNotice=i.default.connectStores([u.default,s.default],function(){var e=s.default.vanityURLCode,t=u.default.getGuildId();return{vanityURLCode:e,guildId:t,onReset:function(){(0,l.resetCode)()},onSave:function(){null!=t&&(0,l.saveCode)(t,e)}}})(I.default);var M=o(h.default,{}),R=o(T.default,{}),P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.state={isRemoving:!1},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){(0,l.close)()},t.prototype.renderEditCard=function(){var e=this.state.isRemoving,t=this.props,n=t.hasError,r=t.originalVanityURLCode,a=t.vanityURLCode;return null==a?M:o(c.default,{editable:!0,className:A.default.editVanityUrlCard},void 0,o(g.default,{},void 0,N.default.Messages.INVITE_URL),o(p.default,{prefix:C.INVITE_ENDPOINT+"/",value:a,onChange:this.handleInviteCodeChange,maxLength:25,autoFocus:!0,error:n}),null!=r&&r.length>0?o(f.default,{className:A.default.removeVanityUrlButton,onClick:this.handleRemoveVanityURL,submitting:e,look:f.default.Looks.LINK,size:f.default.Sizes.MIN,color:f.default.Colors.RED},void 0,N.default.Messages.REMOVE_VANITY_URL):null)},t.prototype.renderInfo=function(){var e=this.props,t=e.hasError,n=e.originalVanityURLCode;if(t)return o(y.default,{size:y.default.Sizes.MEDIUM,color:y.default.Colors.RED,className:A.default.marginTop20},void 0,N.default.Messages.CHANGE_VANITY_URL_ERROR);if(null!=n&&n.length>0){var r=(0,S.getInviteURL)(n);return o(_.default,{className:A.default.marginTop20,type:v.Types.LABEL_DESCRIPTOR},void 0,N.default.Messages.VANITY_URL_HELP_EXTENDED_LINK.format({urlText:r,urlValue:r}))}},t.prototype.handleRemoveVanityURL=function(){(0,l.setCode)("")},t.prototype.handleInviteCodeChange=function(e){(0,l.setCode)(e.replace(/ /g,"-"))},t.prototype.render=function(){return this.props.hide?R:o(m.default,{tag:E.Tags.H2,title:N.default.Messages.VANITY_URL},void 0,o(_.default,{type:v.Types.DESCRIPTION,className:A.default.marginBottom8},void 0,N.default.Messages.VANITY_URL_HELP),o(_.default,{type:v.Types.DESCRIPTION,className:A.default.marginBottom20},void 0,N.default.Messages.VANITY_URL_HELP_CONFLICT),this.renderEditCard(),this.renderInfo())},t}(a.PureComponent);P.displayName="GuildSettingsVanityURL",t.default=i.default.connectStores([u.default,s.default,d.default],function(){return{vanityURLCode:s.default.vanityURLCode,originalVanityURLCode:s.default.originalVanityURLCode,guildId:u.default.getGuildId(),hasError:s.default.hasError(),hide:d.default.hideInstantInvites}})(P)},7084:function(e,t,n){"use strict";t.__esModule=!0,t.close=function(){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_VANITY_URL_CLOSE})},t.resetCode=function(){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_VANITY_URL_RESET})},t.setCode=function(e){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_VANITY_URL_SET,code:e})},t.saveCode=function(e,t){return r.default.patch({url:a.Endpoints.GUILD_VANITY_URL(e),body:{code:t}}).then(function(e){var t=e.body;o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:t.code})},function(){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_VANITY_URL_ERROR})})};var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7085:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(152)),u=d(n(5351)),s=d(n(5633));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r.setInputRef=function(e){r._inputRef=e},r.handleChange=function(e){(0,r.props.onChange)(e.currentTarget.value)},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1})},r.handleFocusInput=function(){null!=r._inputRef&&r._inputRef.focus()};var o=r.props.autoFocus;return r.state={focused:null!=o&&o},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.state.focused,n=this.props,r=n.value,d=n.placeholder,f=n.error,c=n.className,p=n.maxLength,h=n.autoFocus,y=n.prefix;return o(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.START,className:(0,i.default)(s.default.prefixInput,c,(e={},e[s.default.focused]=t,e[s.default.error]=f,e)),onClick:this.handleFocusInput},void 0,o(l.default.Child,{grow:0,className:s.default.prefixInputPrefix},void 0,y),o(l.default.Child,{className:u.default.marginReset},void 0,a.createElement("input",{ref:this.setInputRef,className:s.default.prefixInputInput,value:r,placeholder:d,maxLength:p,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:h})))},t}(a.PureComponent);f.displayName="PrefixInput",t.default=f,e.exports=t.default},7086:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(5991)),a=i(n(6783));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.connectStores([o.default],function(){return{guild:o.default.getProps().guild}})(a.default),e.exports=t.default},7087:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(6)),a=u(n(4)),i=u(n(1)),l=u(n(6185));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={},d={},f=void 0;function c(e,t){return null==t&&(t="guild"),e+":"+t}function p(e){return null!=s[e]?s[e]:(s[e]={},s[e])}function h(e){var t=e.guildId,n=e.webhook;p(t)[n.id]=n}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isFetching=function(e,t){return null!=d[c(e,t)]},t.prototype.getWebhooksForGuild=function(e){return o.default.values(p(e))},t.prototype.getWebhooksForChannel=function(e,t){return(0,o.default)(p(e)).values().filter(function(e){return e.channel_id===t}).value()},r(t,[{key:"error",get:function(){return f}}]),t}(a.default.Store);t.default=new y(i.default,{WEBHOOKS_UPDATE:function(e){var t=e.guildId,n=e.channelId,r=e.webhooks,a=e.error;if(r){f=null;var i=[];n&&(i=(0,o.default)(p(t)).values().filter(function(e){return e.channel_id!==n}).value());var u=s[t]={};i.concat(r).forEach(function(e){return u[e.id]=e}),delete d[c(t,n)]}else null!=a?(f=a,delete d[c(t,n)]):null!=n&&null!=s[t]&&(f=null,l.default.fetchForChannel(t,n))},WEBHOOKS_FETCHING:function(e){var t=e.guildId,n=e.channelId;d[c(t,n)]=!0},WEBHOOK_CREATE:h,WEBHOOK_UPDATE:h,WEBHOOK_DELETE:function(e){var t=e.guildId,n=e.webhookId;delete p(t)[n]}}),e.exports=t.default},7088:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=M(n(17)),u=M(n(183)),s=M(n(80)),d=M(n(6185)),f=M(n(5979)),c=M(n(128)),p=M(n(450)),h=M(n(152)),y=M(n(129)),m=n(445),v=M(m),_=n(110),E=M(_),g=n(82),S=M(n(115)),T=M(n(447)),I=M(n(6574)),C=n(0),N=M(n(13)),A=M(n(5360)),O=M(n(5351)),b=M(n(5636));function M(e){return e&&e.__esModule?e:{default:e}}var R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleShowModal=r.handleShowModal.bind(r),r.handleRemoveWebhook=r.handleRemoveWebhook.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleRemoveWebhook=function(){var e=this.props.webhook,t=e.name;s.default.push(function(n){return i.createElement(T.default,o({},n,{header:N.default.Messages.WEBHOOK_DELETE_TITLE.format({name:t}),confirmText:N.default.Messages.WEBHOOK_DELETE,cancelText:N.default.Messages.WEBHOOK_CANCEL,onConfirm:function(){d.default.delete(e.guild_id,e.id).catch(function(){u.default.show({title:N.default.Messages.WEBHOOK_ERROR_DELETING_WEBHOOK,body:N.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}}),a(y.default,{size:y.default.Sizes.MEDIUM,color:y.default.Colors.PRIMARY},void 0,N.default.Messages.WEBHOOK_DELETE_BODY.format({name:t})))})},t.prototype.handleShowModal=function(){var e=this.props.webhook;s.default.push(function(t){return i.createElement(I.default,o({webhook:e},t))})},t.prototype.renderAvatar=function(){var e,t,n,r=this.props.webhook;return a(h.default.Child,{wrap:!0,grow:0},void 0,a(f.default,{src:(e=r,t=e.avatar,n=e.id,(0,g.getUserAvatarURL)({id:n,avatar:t,discriminator:C.NON_USER_BOT_DISCRIMINATOR})),size:"large"}))},t.prototype.renderInfo=function(){var e=this.props.webhook,t=e.id,n=e.name,r=e.user;return a(h.default,{direction:h.default.Direction.VERTICAL,justify:h.default.Justify.CENTER},void 0,a(E.default,{tag:_.Tags.H3,className:O.default.marginReset},void 0,n),a(v.default,{type:m.Types.DESCRIPTION},void 0,N.default.Messages.WEBHOOK_CREATED_ON.format({timestamp:S.default.extractTimestamp(t),username:r?r.username:""})))},t.prototype.renderEdit=function(){var e=this.props.theme;return a(h.default,{grow:0,align:h.default.Align.CENTER,justify:h.default.Justify.CENTER},void 0,a(c.default,{size:c.default.Sizes.SMALL,look:c.default.Looks.OUTLINED,color:e===C.ThemeTypes.DARK?c.default.Colors.WHITE:c.default.Colors.GREY,onClick:this.handleShowModal},void 0,N.default.Messages.EDIT))},t.prototype.render=function(){var e=this.props.className;return a(p.default,{editable:!0,className:(0,l.default)(b.default.webhookRow,e)},void 0,a(h.default,{},void 0,this.renderAvatar(),this.renderInfo(),this.renderEdit()),a("button",{className:(0,l.default)(b.default.removeWebhook,A.default.button),onClick:this.handleRemoveWebhook}))},t}(i.PureComponent);R.displayName="Webhook",t.default=R,e.exports=t.default},7089:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(128))),i=c(n(152)),l=n(445),u=c(l),s=c(n(314)),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.onCreate,n=e.disabled;return o(i.default,{},void 0,o(i.default.Child,{},void 0,o(u.default,{type:l.Types.DESCRIPTION},void 0,f.default.Messages.SETTINGS_WEBHOOKS_INTRO.format({articleURL:s.default.getArticleURL(d.HelpdeskArticles.WEBHOOKS_INTRODUCTION)}))),o(i.default.Child,{wrap:!0,grow:0},void 0,o(a.default,{disabled:n,onClick:t},void 0,f.default.Messages.WEBHOOK_CREATE)))};p.displayName="WebhooksIntro",t.default=p,e.exports=t.default},7090:function(e,t,n){e.exports=n.p+"97b178f31f0ec28b41387b78891d5b7a.svg"},7091:function(e,t,n){e.exports=n.p+"6fad2f9f24cb4f38202a81064da6f859.svg"},7092:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=O(n(17)),l=O(n(6)),u=O(n(4)),s=O(n(5985)),d=O(n(22)),f=O(n(5991)),c=O(n(312)),p=O(n(152)),h=O(n(5995)),y=O(n(5987)),m=O(n(836)),v=O(n(448)),_=O(n(837)),E=n(445),g=O(E),S=n(110),T=O(S),I=O(n(6035)),C=O(n(6393)),N=O(n(13)),A=O(n(5351));function O(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M="NO_INSTANT_INVITE",R=o(I.default,{}),P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=b(this,e.call.apply(e,[this].concat(i))),r.state={internalEnabled:r.props.widgetEnabled},r.renderToggle=function(){return o(y.default,{className:A.default.marginBottom40,value:r.state.internalEnabled,onChange:r.handleToggleWidget},void 0,N.default.Messages.GUILD_SETTINGS_WIDGET_ENABLE_WIDGET)},r.handleToggleWidget=function(e){var t=r.props,n=t.guild,o=t.widgetChannelId;if(null!=n){var a=e.currentTarget.checked;r.setState({internalEnabled:a}),s.default.updateEmbed(n.id,a,o)}},r.handleChannelSelect=function(e){var t=e.value,n=r.props,o=n.guild,a=n.widgetEnabled;null!=o&&(t===M&&(t=null),s.default.updateEmbed(o.id,a,t))},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.widgetEnabled!==this.state.internalEnabled&&this.setState({internalEnabled:e.widgetEnabled})},t.prototype.renderChannelSelect=function(e){var t=this.props,n=t.channels,r=t.widgetChannelId,a=(0,l.default)(n).filter(function(t){return t.guild_id===e.id}).map(function(e){return{value:e.id,label:e.toString(!0)}}).value(),i={value:M,label:N.default.Messages.NO_INSTANT_INVITE};a.unshift(i);var u=r||i;return o(v.default,{title:N.default.Messages.FORM_LABEL_INSTANT_INVITE_CHANNEL},void 0,o(h.default,{className:A.default.marginBottom20,options:a,value:u,onChange:this.handleChannelSelect,searchable:!1,clearable:!1}),o(g.default,{type:E.Types.DESCRIPTION},void 0,N.default.Messages.FORM_HELP_INSTANT_INVITE_CHANNEL))},t.prototype.renderAPIInfo=function(e){var t=""+location.protocol+window.GLOBAL_ENV.API_ENDPOINT+"/guilds/"+e.id+"/widget.json";return o(p.default,{},void 0,o(p.default.Child,{},void 0,o(v.default,{title:N.default.Messages.FORM_LABEL_SERVER_ID},void 0,o(C.default,{value:e.id}))),o(p.default.Child,{},void 0,o(v.default,{title:N.default.Messages.FORM_LABEL_JSON_API},void 0,o(C.default,{value:t}))))},t.prototype.renderWidget=function(e){var t='<iframe src="'+(""+location.protocol+window.GLOBAL_ENV.WIDGET_ENDPOINT+"?id="+e.id+"&theme=dark")+'" width="350" height="500" allowtransparency="true" frameborder="0"></iframe>';return o(p.default,{direction:p.default.Direction.VERTICAL},void 0,o(T.default,{},void 0,N.default.Messages.FORM_LABEL_PREMADE_WIDGET),o(p.default,{},void 0,o(p.default.Child,{basis:"50%"},void 0,o(v.default,{},void 0,o(C.default,{value:t}),o(g.default,{type:E.Types.DESCRIPTION},void 0,N.default.Messages.GUILD_SETTINGS_WIDGET_EMBED_HELP.format()))),o(p.default.Child,{basis:"50%"},void 0,o("img",{alt:"",src:n(7093)}))))},t.prototype.render=function(){var e=this.props.guild;return null==e?null:this.props.hide?R:o(_.default,{tag:S.Tags.H2,title:N.default.Messages.GUILD_SETTINGS_TITLE_SERVER_WIDGET},void 0,this.renderToggle(),this.renderChannelSelect(e),o(m.default,{className:(0,i.default)(A.default.marginTop40,A.default.marginBottom40)}),this.renderAPIInfo(e),o(m.default,{className:(0,i.default)(A.default.marginTop40,A.default.marginBottom40)}),this.renderWidget(e))},t}(a.PureComponent);P.displayName="GuildSettingsWidget",t.default=u.default.connectStores([f.default,c.default],function(){var e=f.default.getProps();return{guild:e.guild,widgetChannelId:e.embedChannelId,widgetEnabled:e.embedEnabled,channels:d.default.getChannels(),hide:c.default.enabled}})(P),e.exports=t.default},7093:function(e,t,n){e.exports=n.p+"5fb477ca84edd15d9a2888ac28365acd.svg"},7094:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(4)),l=f(n(6402)),u=f(n(226)),s=f(n(5982)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toggleMuted=function(){l.default.toggleCollapseGuild(this.props.guildId)},t.prototype.render=function(){var e=this,t=this.props.collapseMuted;return o(s.default,{label:d.default.Messages.HIDE_MUTED_CHANNELS,action:function(){return e.toggleMuted()},active:t})},t}(a.PureComponent);c.displayName="GuildToggleMutedChannels",t.default=i.default.connectStores([u.default],function(e){var t=e.guildId;return{collapseMuted:u.default.isGuildCollapsed(t)}})(c),e.exports=t.default},7095:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=L(n(17)),u=L(n(6)),s=L(n(6005)),d=n(131),f=L(n(860)),c=L(n(22)),p=n(111),h=L(n(153)),y=L(n(315)),m=L(n(226)),v=L(n(6207)),_=n(827),E=L(_),g=n(454),S=n(109),T=L(n(6617)),I=L(n(5353)),C=L(n(7096)),N=L(n(7098)),A=L(n(7099)),O=L(n(7100)),b=L(n(7101)),M=L(n(7105)),R=n(0),P=L(n(5648));function L(e){return e&&e.__esModule?e:{default:e}}u.default.memoize.Cache=WeakMap;var w={TEXT_CHANNELS:0,TOGGLE_MUTED_CHANNELS:1,VOICE_CHANNELS:2};function D(e,t){var n=0,r=0,o=c.default.getChannel(e);if(null==o)return null;null!=o.parent_id&&t._categories.find(function(e,t){return e.channel.id===o.parent_id&&(n=t,!0)});var a=t[String(o.parent_id)];return null==a?null:(a.find(function(e,t){return e.channel.id===o.id&&(r=t,!0)}),{section:n,row:r})}var U=u.default.memoize(function(e){var t=null;return e._categories.filter(function(e){return e.index>=0}).map(function(e){return e.channel.id}).some(function(n){return null!=(t=e[n].find(function(e){return e.channel.type===R.ChannelTypes.GUILD_VOICE}))}),t}),k=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return G.call(r),r.getTextRowHeight=r.getRowHeight.bind(r,w.TEXT_CHANNELS),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({initialized:!0}),S.ComponentDispatch.subscribe(R.ComponentActions.OVERLAY_GUILD_RESIZE,this.handleResize)},t.prototype.componentWillUnmount=function(){this.updateChannelListScroll.cancel(),S.ComponentDispatch.unsubscribe(R.ComponentActions.OVERLAY_GUILD_RESIZE,this.handleResize)},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.scrollToChannel,o=n.guildId,a=n.scrollTop,i=n.channels,l=n.selectedChannelId,u=this.state.initialized;r?(this.scrollToChannel(r),s.default.clearChannelListScrollTo(o)):o!==e.guildId?(a||0===a)&&this.scrollTo(a):0===e.channels[p.GUILD_SELECTABLE_CHANNELS_KEY].length&&i[p.GUILD_SELECTABLE_CHANNELS_KEY].length>0||l!==e.selectedChannelId?this.scrollToChannel(l):!t.initialized&&u&&this.scrollTo(a)},t.prototype.scrollTo=function(e){var t=this._list;null!=t&&t.scrollTo(e)},t.prototype.isUnreadVisible=function(){var e=this.props,t=e.mutedChannels,n=e.categories,r=this._list;return null!=r&&r.getItems().some(function(e){var o=e.section,a=e.row;if(null==a)return!1;var i=n._categories[o];if(null==i)return!1;var l=n[i.channel.id][a];if(null==l)return!1;var u=l.channel;if(!(0,d.isGuildTextChannelType)(u.type))return!1;var s=i.channel.id;return!(f.default.isCollapsed(s)&&m.default.isChannelMuted(u.getGuildId(),s)||t.has(u.id)||!r.isItemVisible(o,a))&&y.default.hasUnread(u.id)})},t.prototype.renderList=function(){var e=this.props,t=e.categories,n=e.guild,r=e.collapseMuted,o=e.mutedChannels,a=e.selectedChannelId,l=e.children,u=[];return t._categories.forEach(function(e){var i=e.channel,l=t[i.id].length;0===l&&null!=n&&h.default.can(R.Permissions.MANAGE_CHANNELS,i)&&h.default.can(R.Permissions.VIEW_CHANNEL,i)?l=1:!r||t[i.id].some(function(e){var t=e.channel;return t.id===a||!o.has(t.id)})||"null"!==i.id&&h.default.can(R.Permissions.MANAGE_CHANNELS,n)||(l=0),u.push(l)}),i.createElement(T.default,{key:"guild-channels",ref:this.setListRef,theme:T.default.Themes.GHOST_HAIRLINE_CHANNELS,backgroundColor:R.Colors.PRIMARY_DARK_630,className:P.default.scroller,fade:!0,sectionHeight:this.getSectionHeight,footerHeight:this.getFooterHeight,rowHeight:this.getRowHeight,paddingTop:null!=n&&null!=n.banner?78:0,paddingBottom:20,renderSection:this.renderSection,renderFooter:this.renderFooter,wrapSection:this.renderSectionContainer,renderRow:this.renderRow,onScroll:this.handleListScroll,sections:u,uniform:!1},l)},t.prototype.renderTopUnread=function(){var e,t=this.state,n=t.topMention,r=t.bottomUnread,o=t.bottomMention,i=t.isUnreadVisible,u=this.props,s=u.guildId,d=u.guild,f=null==n&&(i||null!=r||null!=o);return a("div",{className:P.default.positionedContainer},void 0,a(O.default,{hide:f,className:P.default.unreadTop,barClassName:(0,l.default)(P.default.unreadBar,(e={},e[P.default.banner]=null!=d&&null!=d.banner,e)),guildId:s,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate}))},t.prototype.renderBottomUnread=function(){var e=this.props.guildId,t=this.state,n=t.bottomMention,r=t.isUnreadVisible,o=null==n&&r;return a(O.default,{reverse:!0,hide:o,className:P.default.unreadBottom,barClassName:P.default.unreadBar,guildId:e,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate})},t.prototype.render=function(){return a(i.Fragment,{},void 0,this.renderTopUnread(),this.renderList(),this.renderBottomUnread())},t}(i.PureComponent),G=function(){var e=this;this.state={initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null},this.setListRef=function(t){e._list=t},this.scrollToChannel=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=e.props.categories,a=e._list,i=D(t,o);null!=i&&null!=a&&a.scrollToRow(i.section,i.row,n,r)},this.jumpToChannel=function(t,n){var r=n[0],o=n[1];return e.scrollToChannel(t,!0,null!=r&&null!=o?32:8)},this.isChannelVisible=function(t,n){var r=D(t,e.props.categories),o=e._list;if(null==o||null==r)return!1;var a=r.row,i=r.section,l=o.getScrollPosition(i,a),u=o.getScrollData();return null!=u&&(!!(n&&l.scrollTop+l.rowHeight<u.scrollTop+u.offsetHeight)||!n&&l.scrollTop>u.scrollTop)},this.handleResize=function(){if(e._list){e._list.forceUpdate();var t=e.isUnreadVisible();e.setState({isUnreadVisible:t})}},this.handleListScroll=function(){var t=e._list;if(null!=t){var n=t.getScrollData();if(null!=n){var r=n.scrollTop;null!=e.props.onScroll&&e.props.onScroll(n),e.updateChannelListScroll(r)}}},this.updateChannelListScroll=u.default.throttle(function(t){s.default.updateChannelListScroll(e.props.guildId,t)},100),this.handleUserClick=function(e,t,n){null!=n&&null!=t&&(0,_.openPopout)(n,{closeOnScroll:!1,position:E.default.Positions.BOTTOM_LEFT,render:function(e){return i.createElement(I.default,o({},e,{user:t}))},shadow:!1})},this.handleUnreadCalculate=function(t,n,r){var o=e.isUnreadVisible();r?e.setState({isUnreadVisible:o,bottomUnread:n,bottomMention:t}):e.setState({isUnreadVisible:o,topUnread:n,topMention:t})},this.getSectionHeight=function(t){var n=e.props,r=n.categories,o=n.channels[R.ChannelTypes.GUILD_CATEGORY][t].channel;return 0===t&&r[o.id].length>0?16:0===t?0:48},this.getFooterHeight=function(t){var n=e.props,r=n.categories,o=n.channels,a=n.voiceStates,i=n.selectedVoiceChannelId,l=o[R.ChannelTypes.GUILD_CATEGORY][t].channel;if(!f.default.isCollapsed(l.id))return 0;var u=r[l.id];return null==u||0===u.length?0:u.some(function(e){var t=e.channel,n=a[t.id];return i!==t.id&&null!=n&&n.length>0})?34:0},this.getRowHeight=function(t,n){var r=null!=n?n:0,o=e.props,a=o.channels,i=o.collapsedChannels,l=o.voiceStates,u=o.categories,s=34,d=a[R.ChannelTypes.GUILD_CATEGORY][t],f=d?u[d.channel.id][r]:u.null[r];if(null==f)return 0;var c=f.channel;if((0,g.isChannelCollapsed)(c))return 0;switch(c.type){case R.ChannelTypes.GUILD_VOICE:var p=l[c.id];if(null!=p&&p.length>0){var h=28*p.length;c&&i[c.id]&&(h=Math.ceil(h/6)),s+=h+8}}return s},this.renderSectionContainer=function(e,t){return a("div",{className:"container-"+e},"section-container-"+e,t)},this.renderSection=function(t){var n=e.props,r=n.categories,o=n.showSimplified,i=r._categories[t];if(-1===i.index)return r.null.length>0?a("div",{style:{height:16}},"spacer"):null;var l=i.channel,u=i.index;return a(C.default,{channel:l,position:u,showTutorial:0===i.index&&!o,hideManageIcons:o},l.id)},this.renderRow=function(t,n){var r=e.props,o=r.guild,i=r.selectedChannelId,l=r.selectedVoiceChannelId,u=r.mutedChannels,s=r.channels,d=r.categories,f=r.collapsedChannels,c=r.voiceStates,p=r.showSimplified,h=d[s[R.ChannelTypes.GUILD_CATEGORY][t].channel.id][n];if(null==h)return null;var y=h.channel;if((0,g.isChannelCollapsed)(y))return null;var m=h.index;switch(h.channel.type){case R.ChannelTypes.GUILD_NEWS:case R.ChannelTypes.GUILD_TEXT:var _=u.has(y.id);return a(A.default,{channel:y,guild:o,position:m,selected:i===y.id,muted:_,hideEditButton:p},y.id);case R.ChannelTypes.GUILD_VOICE:var E=U(e.props.categories),S=v.default.useNewTutorialLogic();return a(b.default,{channel:y,guild:o,position:m,selected:i===y.id,connected:l===y.id,collapsed:f[y.id],voiceStates:c[y.id],hideEditButton:p,showTutorial:S&&null!=E&&E.channel===y&&E.index===m},y.id);case R.ChannelTypes.GUILD_STORE:return a(N.default,{channel:y,guild:o,position:m,selected:i===y.id},y.id)}},this.renderFooter=function(t){var n=e.props,r=n.channels,o=n.categories,i=n.voiceStates,l=n.selectedVoiceChannelId,u=r[R.ChannelTypes.GUILD_CATEGORY][t].channel;return f.default.isCollapsed(u.id)?a(M.default,{channels:o[u.id],voiceStates:i,selectedChannel:l,onClick:e.handleUserClick},"footer-"+u.id):null}};k.displayName="Channels",t.default=k,e.exports=t.default},7096:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=M(n(4)),u=n(6053),s=n(307),d=M(n(6181)),f=n(6186),c=M(n(860)),p=M(n(58)),h=M(n(28)),y=M(n(153)),m=M(n(315)),v=M(n(226)),_=M(n(6207)),E=M(n(128)),g=M(n(306)),S=M(n(442)),T=M(n(7097)),I=n(6042),C=M(I),N=M(n(6080)),A=n(0),O=M(n(13)),b=M(n(5641));function M(e){return e&&e.__esModule?e:{default:e}}var R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleCreateChannel=r.handleCreateChannel.bind(r),r.handleContextMenu=r.handleContextMenu.bind(r),r.handleCollapseToggle=r.handleCollapseToggle.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleCreateChannel=function(){var e=this.props.channel,t=e.type===A.ChannelTypes.GUILD_CATEGORY?null:e.type;d.default.open(t,e.getGuildId(),"null"!==e.id?e.id:null,null)},t.prototype.handleCollapseToggle=function(){var e=this.props,t=e.collapsed,n=e.channel;t?(0,u.categoryExpand)(n.id):(0,u.categoryCollapse)(n.id)},t.prototype.handleContextMenu=function(e,t){var n=this.props,r=n.channel,o=n.unread;if("null"!==r.id){var l=h.default.getGuild(r.getGuildId());(0,s.openContextMenu)(t,function(e){return i.createElement(N.default,a({},e,{type:A.ContextMenuTypes.CHANNEL_CATEGORY,channel:r,guild:l,hasUnread:o}))})}},t.prototype.renderCreateChannel=function(){var e=this.props,t=e.canManageCategory,n=e.hideManageIcons;return t&&!n?o(S.default,{text:O.default.Messages.CREATE_CHANNEL},void 0,o(E.default,{look:E.default.Looks.BLANK,size:E.default.Sizes.NONE,className:b.default.addButton,onClick:this.handleCreateChannel},void 0,o(g.default,{name:g.default.Names.PLUS_ALT,color:A.Colors.WHITE,className:b.default.addButtonIcon}))):null},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.muted,r=e.connectChannelDragSource,a=e.connectChannelDropTarget,i=e.position,l=e.sortingPosition,u=e.collapsed,s=e.hideIcon,d=e.showTutorial,f=e.isTutorialFlowV2,c=void 0;c=null!=l?i>l?b.default.containerDragAfter:b.default.containerDragBefore:b.default.containerDefault;var p=o("div",{className:c},void 0,o(T.default,{channel:t,muted:n,onClick:this.handleCollapseToggle,onContextMenu:this.handleContextMenu,collapsed:u,hideIcon:s||!1},void 0,this.renderCreateChannel()));return d&&(p=o("div",{},void 0,o(C.default,{tutorialId:f?"organize-by-channel":"organize-by-topic",position:I.TutorialIndicatorPositions.RIGHT,offsetX:-35,offsetY:-5},void 0,p))),null!=a&&null!=r?a(r(p)):p},t}(i.PureComponent);R.displayName="Category",t.default=l.default.connectStores([y.default,c.default,m.default,v.default,p.default,_.default],function(e){var t=e.channel;return{unread:m.default.hasCategoryUnread(t.id),muted:v.default.isChannelMuted(t.getGuildId(),t.id),collapsed:c.default.isCollapsed(t.id),canManageCategory:y.default.can(A.Permissions.MANAGE_CHANNELS,t),isTutorialFlowV2:_.default.useNewTutorialLogic()}})((0,f.makeChannelSortable)(R)),e.exports=t.default},7097:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=n(180),u=c(n(152)),s=c(n(306)),d=c(n(5351)),f=c(n(5640));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){e.stopPropagation()}var h="Hovered",y="HoveredCollapsed",m="Unread",v="Collapsed",_="Muted",E="Default",g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.channel;n&&n(o,e)},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.channel;n&&n(o,e)},r.handleMouseEnter=function(e){var t=r.props,n=t.onMouseEnter,o=t.channel;r.setState({hovered:!0}),n&&n(e,o)},r.handleMouseLeave=function(e){var t=r.props,n=t.onMouseLeave,o=t.channel;r.setState({hovered:!1}),n&&n(e,o)},r.state={hovered:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMode=function(){var e=this.props,t=e.muted,n=e.collapsed,r=e.unread,o=this.state.hovered;return o&&n?y:o?h:t?_:!t&&n&&r?m:n?v:E},t.prototype.isClickable=function(){return null!=this.props.onClick},t.prototype.renderIcon=function(){return this.props.hideIcon?null:o(s.default,{expanded:!this.props.collapsed,name:s.default.Names.CARET,width:12,height:12,transition:f.default.iconTransition,className:(0,l.getClass)(f.default,"icon",this.getMode())})},t.prototype.renderName=function(){var e=this.props.channel.name,t=this.getMode();return o(u.default.Child,{className:(0,l.getClass)(f.default,"name",t)},void 0,e)},t.prototype.renderIcons=function(){var e=this.props.children;return 0===a.Children.count(e)?null:o(u.default,{grow:0,onClick:p,align:u.default.Align.CENTER,className:d.default.marginReset},void 0,e)},t.prototype.render=function(){var e,t=this.props,n=t.onClick,r=t.onContextMenu,a=this.getMode(),s=this.isClickable();return o(u.default,{className:(0,i.default)((0,l.getClass)(f.default,"wrapper",a),(e={},e[f.default.cursorPointer]=s,e[f.default.cursorDefault]=!s,e)),align:u.default.Align.START,onClick:n&&this.handleClick,onContextMenu:r&&this.handleContextMenu,onMouseEnter:n&&this.handleMouseEnter,onMouseLeave:n&&this.handleMouseLeave},void 0,this.renderIcon(),this.renderName(),this.renderIcons())},t}(a.PureComponent);g.displayName="ChannelCategoryItem",t.default=g,e.exports=t.default},7098:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=I(n(17)),u=I(n(4)),s=I(n(446)),d=n(307),f=n(6186),c=I(n(22)),p=I(n(111)),h=I(n(28)),y=I(n(153)),m=I(n(315)),v=I(n(6029)),_=I(n(45)),E=I(n(6080)),g=I(n(6359)),S=n(0),T=I(n(5366));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");_.default.transitionTo(S.Routes.CHANNEL(n,t.id),{state:{analyticsSource:{page:S.AnalyticsPages.GUILD_CHANNEL,section:S.AnalyticsSections.CHANNEL_LIST,object:S.AnalyticsObjects.CHANNEL}}})}function A(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");s.default.preload(n,t.id)}var O=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=C(this,e.call.apply(e,[this].concat(l))),r.handleContextMenu=function(e){var t=r.props,n=t.channel,o=t.selected,l=h.default.getGuild(n.getGuildId());(0,d.openContextMenu)(e,function(e){return i.createElement(E.default,a({},e,{type:S.ContextMenuTypes.CHANNEL_LIST_STORE,guild:l,channel:n,selected:o}))})},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.connectChannelDropTarget,i=t.connectChannelDragSource,u=t.connectDragPreview,s=t.canManageCategory,d=o("div",{className:(0,l.default)(this.getClassName(),(e={},e[T.default.disabled]=this.isDisabled(),e))},void 0,o(v.default,{channel:n,selected:r,onClick:N,onMouseDown:A,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,connectDragPreview:s?u:null},void 0,this.renderInviteButton(),this.renderEditButton()));return s?a(i(d)):d},t}(g.default);O.displayName="StoreChannel",t.default=u.default.connectStores([y.default,m.default,p.default],function(e){var t=e.channel,n=e.guild,r=c.default.getChannel(t.parent_id);return{canManageChannel:y.default.can(S.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?y.default.can(S.Permissions.MANAGE_CHANNELS,r):y.default.can(S.Permissions.MANAGE_CHANNELS,n),permissions:y.default.getChannelPermissions(t.id)}})((0,f.makeChannelSortable)(O)),e.exports=t.default},7099:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=C(n(17)),u=C(n(4)),s=C(n(446)),d=n(307),f=n(6186),c=C(n(22)),p=C(n(111)),h=C(n(28)),y=C(n(153)),m=C(n(315)),v=C(n(6065)),_=C(n(6029)),E=C(n(45)),g=C(n(6080)),S=C(n(6359)),T=n(0),I=C(n(5366));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");E.default.transitionTo(T.Routes.CHANNEL(n,t.id))}function A(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");s.default.preload(n,t.id)}var O=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleContextMenu=r.handleContextMenu.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleContextMenu=function(e){var t=this.props,n=t.channel,r=t.selected,o=t.unread,l=t.mentionCount,u=h.default.getGuild(n.getGuildId());(0,d.openContextMenu)(e,function(e){return i.createElement(g.default,a({},e,{type:T.ContextMenuTypes.CHANNEL_LIST_TEXT,guild:u,channel:n,selected:r,hasUnread:o,mentionCount:l}))})},t.prototype.renderMentionBadge=function(){var e=this.props.mentionCount;if(null!=e&&e>0)return o("div",{className:I.default.iconSpacing},void 0,o(v.default,{value:e}))},t.prototype.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.muted,i=t.unread,u=t.connectChannelDropTarget,s=t.connectChannelDragSource,d=t.connectDragPreview,f=t.canManageCategory,c=o("div",{className:(0,l.default)(this.getClassName(),(e={},e[I.default.disabled]=this.isDisabled(),e))},void 0,o(_.default,{channel:n,selected:r,muted:a,unread:i,onClick:N,onMouseDown:A,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,connectDragPreview:f?d:null},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderMentionBadge()));return f?u(s(c)):c},t}(S.default);O.displayName="TextChannel",t.default=u.default.connectStores([y.default,m.default,p.default],function(e){var t=e.channel,n=e.guild,r=p.default.getDefaultChannel(n.id),o=c.default.getChannel(t.parent_id);return{canManageChannel:y.default.can(T.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=o?y.default.can(T.Permissions.MANAGE_CHANNELS,o):y.default.can(T.Permissions.MANAGE_CHANNELS,n),permissions:y.default.getChannelPermissions(t.id),unread:m.default.hasUnread(t.id),mentionCount:m.default.getMentionCount(t.id),isDefaultChannel:t===r}})((0,f.makeChannelSortable)(O)),e.exports=t.default},7100:function(e,t,n){"use strict";t.__esModule=!0;var r=p(n(4)),o=n(131),a=p(n(22)),i=p(n(853)),l=p(n(315)),u=p(n(226)),s=p(n(154)),d=p(n(6576)),f=n(454),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=a.default.getChannel(e);return null!=t&&null!=t.getGuildId()&&(!u.default.isChannelMuted(t.getGuildId(),t.id)&&l.default.hasUnread(e))}function y(e){var t=a.default.getChannel(e);if(null==t||null==t.getGuildId())return!1;var n=u.default.isGuildCollapsed(t.getGuildId()),r=u.default.isChannelMuted(t.getGuildId(),t.id);return(!n||!r)&&l.default.getMentionCount(e)>0}t.default=r.default.connectStores([i.default,l.default,s.default],function(e){var t=e.guildId,n=i.default.getCategories(t);return{textUnread:c.default.Messages.NEW_UNREADS,textMention:c.default.Messages.NEW_MENTIONS,isUnread:h,isMentioned:y,items:(0,f.getFlattenedChannelList)(n._categories,n,function(e){var t=e.channel;return(0,o.isGuildTextChannelType)(t.type)&&!(0,f.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),animate:s.default.isFocused()}})(d.default),e.exports=t.default},7101:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=L(n(17)),u=L(n(4)),s=n(307),d=L(n(160)),f=n(6186),c=n(6577),p=L(n(5354)),h=L(n(860)),y=L(n(22)),m=L(n(111)),v=L(n(28)),_=L(n(153)),E=L(n(134)),g=L(n(6565)),S=L(n(6029)),T=L(n(7102)),I=n(454),C=L(n(45)),N=n(6042),A=L(N),O=L(n(6080)),b=L(n(6359)),M=L(n(7103)),R=n(0),P=L(n(5366));function L(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleVoiceConnect=r.handleVoiceConnect.bind(r),r.handleContextMenu=r.handleContextMenu.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleVoiceConnect=function(e){var t=this.props,n=t.locked,r=t.connected,o=t.channel,a=t.hasStream,i=t.inStream,l=v.default.getGuild(o.getGuildId());n||this.isFull()||null==l||r||d.default.selectVoiceChannel(l.id,o.id),r&&g.default.isAvailable(o.getGuildId())&&(!a||i)&&function(e,t){var n=t.getGuildId();if(null==n)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");C.default.transitionTo(R.Routes.CHANNEL(n,t.id))}(0,o)},t.prototype.handleContextMenu=function(e){var t=this.props.channel,n=v.default.getGuild(t.getGuildId());(0,s.openContextMenu)(e,function(e){return i.createElement(O.default,a({},e,{type:R.ContextMenuTypes.CHANNEL_LIST_VOICE,channel:t,guild:n}))})},t.prototype.getVoiceStatesCount=function(){var e=this.props.voiceStates;return null!=e?e.length:0},t.prototype.isFull=function(){var e=this.props,t=e.channel,n=e.bypassLimit,r=e.hasStream;return!n&&(0,I.isChannelFull)(t,this.getVoiceStatesCount())&&(!r||this.getVoiceStatesCount()>=10)},t.prototype.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?P.default.containerUserOver:null!=n?t>n?P.default.containerDragAfter:P.default.containerDragBefore:P.default.containerDefault},t.prototype.renderUserLimit=function(){var e=this.props,t=e.channel,n=e.locked,r=this.state.hovered;return r&&_.default.can(R.Permissions.MANAGE_CHANNELS,t)||r&&!n&&_.default.can(R.Permissions.CREATE_INSTANT_INVITE,t)?null:t.userLimit>0&&!n?o("div",{style:{marginLeft:-2}},void 0,o(T.default,{users:this.getVoiceStatesCount(),total:t.userLimit})):void 0},t.prototype.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.collapsed,a=e.categoryCollapsed;return o(M.default,{channel:t,voiceStates:n,collapsed:r||a})},t.prototype.render=function(){var e,t,n=this.props,r=n.channel,a=n.selected,i=n.connected,u=n.locked,s=n.video,d=n.hasStream,f=n.connectChannelDropTarget,c=n.connectChannelDragSource,p=n.connectUserDropTarget,h=n.connectDragPreview,y=n.canManageCategory,m=n.canMoveMembers,v=n.showTutorial,_=void 0!==v&&v,E=this.state.hovered,g=o(S.default,{channel:r,selected:a,connected:i,video:s,stream:d,locked:u,onClick:this.handleVoiceConnect,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,connectDragPreview:h},void 0,E&&this.renderInviteButton(),E&&this.renderEditButton(),this.renderUserLimit()),T=null;_?T=o("div",{className:(0,l.default)(this.getModeClass(),(e={},e[P.default.disabled]=this.isDisabled(),e))},void 0,o(A.default,{tutorialId:"voice-channels",position:N.TutorialIndicatorPositions.RIGHT,offsetX:-35,offsetY:-20},r.id,g),this.renderVoiceUsers()):T=o("div",{className:(0,l.default)(this.getModeClass(),(t={},t[P.default.disabled]=this.isDisabled(),t))},void 0,g,this.renderVoiceUsers());return m&&(T=p(T)),y&&(T=f(c(T))),T},t}(b.default);w.displayName="VoiceChannel";var D=u.default.connectStores([_.default,h.default,m.default,p.default],function(e){var t=e.channel,n=e.guild,r=y.default.getChannel(t.parent_id),o=p.default.getActiveStream();return{canManageChannel:n&&_.default.can(R.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?_.default.can(R.Permissions.MANAGE_CHANNELS,r):_.default.can(R.Permissions.MANAGE_CHANNELS,n),canMoveMembers:_.default.can(R.Permissions.MOVE_MEMBERS,t),locked:!_.default.can(R.Permissions.CONNECT,t),bypassLimit:_.default.can(R.Permissions.MOVE_MEMBERS,t),categoryCollapsed:h.default.isCollapsed(t.parent_id),video:E.default.hasVideo(t.guild_id,t.id),hasStream:p.default.getStreamsForChannel(t).length>0,inStream:null!=o&&o.channelId===t.id}})((0,f.makeChannelSortable)((0,c.makeVoiceUserDroppable)(w)));t.default=D,e.exports=t.default},7102:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(5643),u=(o=l)&&o.__esModule?o:{default:o};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.total,n=e.users;return a("div",{className:u.default.wrapper},void 0,n.toString().padStart(2,"0"),"/",t.toString().padStart(2,"0"))},t}(i.PureComponent);s.displayName="VoiceChannelUserLimit",t.default=s,e.exports=t.default},7103:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(4)),u=n(307),s=S(n(5354)),d=S(n(12)),f=S(n(46)),c=S(n(153)),p=S(n(472)),h=n(827),y=S(h),m=S(n(5352)),v=S(n(5353)),_=n(7104),E=S(_),g=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=l.default.connectStores([p.default,f.default,d.default,s.default],function(e){var t,n=e.mute,r=e.deaf,o=e.user.id,a=!1,i=!1;d.default.getId()===o?(a=!f.default.isEnabled()||f.default.isSelfMute()||f.default.isSelfMutedTemporarily(),i=f.default.isSelfDeaf()):a=f.default.isLocalMute(o),t=p.default.isPrioritySpeaker(o),f.default.isSupported()||(a=!0);var l=s.default.getStreamForUser(o),u=s.default.getActiveStream();return{mute:n||a,deaf:r||i,speaking:!a&&(p.default.isSpeaking(o)||p.default.isSoundSharing(o)),priority:t,isStreaming:null!=l,isWatching:null!=l&&null!=u&&l.ownerId===u.ownerId}})(E.default),C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=r=T(this,e.call.apply(e,[this].concat(l))),r.state={disablePreview:!1},r.handlePopoutClose=function(){r.setState({disablePreview:!1})},r.handleUserClick=function(e,t){var n=r.refs[t.id];if(null!=n){var o=r.props.channel;r.setState({disablePreview:!0}),(0,h.openPopout)(n,{closeOnScroll:!1,position:r.props.collapsed?y.default.Positions.BOTTOM_LEFT:y.default.Positions.RIGHT,onClose:r.handlePopoutClose,render:function(e){return i.createElement(v.default,a({},e,{user:t,guildId:o.getGuildId(),channelId:o.id}))},shadow:!1})}},r.handleUserContextMenu=function(e,t){var n=r.props.channel;(0,u.openContextMenu)(e,function(e){return i.createElement(m.default,a({},e,{type:g.ContextMenuTypes.USER_CHANNEL_VOICE,user:t,guildId:n.getGuildId(),channelId:n.id}))})},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderVoiceUsers=function(){var e=this,t=this.props,n=t.channel,r=t.voiceStates,o=t.collapsed,a=this.state.disablePreview;return null==r||0===r.length?null:r.map(function(t){var r=t.user,l=t.nick,u=t.voiceState;return i.createElement(I,{ref:r.id,key:r.id,user:r,nick:l,mute:u.mute||u.selfMute||u.suppress,deaf:u.deaf||u.selfDeaf,channel:n,collapsed:o,onClick:e.handleUserClick,onContextMenu:e.handleUserContextMenu,canDrag:c.default.can(g.Permissions.MOVE_MEMBERS,n),disablePreview:a})})},t.prototype.render=function(){var e=this.renderVoiceUsers();if(null==e)return null;var t=this.props,n=t.collapsed,r=t.className;return o(_.List,{className:r,collapsed:n},void 0,e)},t}(i.PureComponent);C.displayName="VoiceUsers",t.default=C,e.exports=t.default},7104:function(e,t,n){"use strict";t.__esModule=!0,t.List=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=N(n(4)),u=N(n(830)),s=N(n(160)),d=n(867),f=n(6577),c=N(n(43)),p=N(n(132)),h=N(n(128)),y=N(n(152)),m=N(n(306)),v=N(n(6788)),_=n(943),E=N(_),g=N(n(6003)),S=N(n(45)),T=n(0),I=N(n(13)),C=N(n(5646));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.List=v.default.List;var O=l.default.connectStores([p.default,c.default],function(e){var t=e.user,n=e.channel,r=p.default.getPrimaryActivity(t.id,n.guild_id);return{application:null!=r&&null!=r.application_id?c.default.getGame(r.application_id):null}})(function(e){var t=e.application,n=e.onWatch,r=null!=t?t.getSplashURL(400):null;return a("div",{className:C.default.streamPreview},void 0,a(y.default,{direction:y.default.Direction.VERTICAL,align:y.default.Align.CENTER},void 0,a("div",{className:C.default.previewImage,style:{backgroundImage:null!=r?"url("+r+")":null}},void 0,null!=t?a(g.default,{className:C.default.applicationName,color:g.default.Colors.NONE},void 0,t.name):null),a(h.default,{look:h.default.Looks.BLANK,className:C.default.watchButton,innerClassName:C.default.watchButtonInner,onClick:n},void 0,a(m.default,{name:m.default.Names.LIVE_STREAM,className:C.default.liveIcon}),I.default.Messages.WATCH_STREAM),a(g.default,{size:g.default.Sizes.SIZE_12,color:g.default.Colors.MUTED},void 0,I.default.Messages.WATCH_STREAM_TIP.format())))}),b=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=A(this,e.call.apply(e,[this].concat(a))),r.domElementRef=i.createRef(),r.state={shouldShowPreview:!1},r.handleMouseEnter=function(){r.setState({shouldShowPreview:r.props.isStreaming})},r.handleMouseLeave=function(){r.setState({shouldShowPreview:!1})},r.handleWatchStream=function(){var e=r.props,t=e.user,n=e.channel,o=e.isStreaming,a=e.isWatching;o&&!a&&(s.default.selectVoiceChannel(n.guild_id,n.id),S.default.transitionTo(T.Routes.CHANNEL(n.guild_id,n.id)),(0,d.watchStream)({ownerId:t.id,channelId:n.id,guildId:n.guild_id}),u.default.closeAll())},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.connectUserDragSource,n=e.canDrag,r=e.user,l=e.channel,u=e.disablePreview,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["connectUserDragSource","canDrag","user","channel","disablePreview"]),d=this.state.shouldShowPreview,f=this.domElementRef.current,c=i.createElement("div",{ref:this.domElementRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:C.default.draggable},i.createElement(v.default,o({onDoubleClick:this.handleWatchStream,user:r,channel:l},s)),d&&!u&&null!=f?a(E.default,{referenceElement:f,position:_.Positions.RIGHT,align:_.Align.CENTER,positionKey:r.id+":"+l.id},void 0,a(O,{user:r,channel:l,onWatch:this.handleWatchStream})):null);return n?t(a("div",{},void 0,c))||null:c},t}(i.PureComponent);b.displayName="VoiceUser",t.default=(0,f.makeVoiceUserDraggable)(b)},7105:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(32)),l=s(n(6063)),u=s(n(5647));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.channels,n=e.voiceStates,r=e.selectedChannel,a=e.onClick,s=[];return t.forEach(function(e){var t=e.channel,o=n[t.id];t.id!==r&&o&&o.forEach(function(e){return s.push(e)})}),0===s.length?null:o("div",{className:u.default.container},void 0,o(l.default,{className:u.default.voiceUserSummaryItem,icon:!0,users:s,max:"Gecko"===i.default.layout?9:10,onClick:a}))},t}(a.PureComponent);d.displayName="VoiceUserSummary",t.default=d,e.exports=t.default},7106:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=B(n(17)),u=B(n(6)),s=n(99),d=B(n(4)),f=B(n(328)),c=B(n(833)),p=n(307),h=B(n(6072)),y=B(n(6005)),m=B(n(80)),v=B(n(6326)),_=B(n(6041)),E=B(n(132)),g=B(n(315)),S=B(n(91)),T=B(n(51));n(455);var I=B(n(15)),C=B(n(6409)),N=B(n(154)),A=B(n(6058)),O=B(n(313)),b=B(n(6576)),M=B(n(9)),R=B(n(456)),P=B(n(6151)),L=n(6578),w=B(n(7107)),D=n(7108),U=B(D),k=B(n(7109)),G=n(7111),x=n(0),F=B(n(13)),j=B(n(5655));function B(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var V=60,Y=50+(M.default.isOSX()?0:18)+23+12,W={top:10,bottom:10};function K(e){var t=_.default.getMentionCounts();return null!=t[e]?t[e]>0:e===x.ViewHistoryKeys.SERVER_DISCOVERY_BADGE?!C.default.hasViewed(x.ViewHistoryKeys.SERVER_DISCOVERY_BADGE):g.default.getMentionCount(e)>0}function z(){return!1}var $=d.default.connectStores([g.default,_.default,N.default],function(){return{isUnread:z,textUnread:"",textMention:F.default.Messages.NEW,isMentioned:K,animate:N.default.isFocused()}})(b.default),q=d.default.connectStores([I.default,T.default,S.default,v.default,A.default],function(){return{user:I.default.getCurrentUser(),selectedChannelId:T.default.getChannelId(x.ME),badge:S.default.getPendingCount()+v.default.getSuggestionCount(),link:A.default.getHomeLink()}})(G.DefaultHomeButton),X=d.default.connectStores([E.default],function(){return{onlineFriendCount:E.default.getOnlineFriendCount()}})(L.FriendsOnline),Q=a(G.GuestHomeButton,{}),J=a(X,{}),Z=a(D.LurkingGuild,{}),ee=a(L.Separator,{}),te=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=H(this,e.call.apply(e,[this].concat(a))),r.initialized=!1,r.guildRefs={},r.guildDiscoveryRef=i.createRef(),r.handleJumpToGuild=function(e){r.scrollToGuild(e,!0)},r.handleScroll=u.default.debounce(function(){if(null!=r.scroller){var e=r.scroller.getScrollData().scrollTop;y.default.updateGuildListScrollTo(e)}},200),r.isItemVisible=function(e,t,n){var o=n.indexOf(e);if(o<0||null==r.scroller)return!1;var a=V*o+Y,i=r.scroller.getScrollData();return!!(!t&&a>i.scrollTop||t&&a+V<=i.scrollTop+i.offsetHeight)},r.setScrollerRef=function(e){r.scroller=e},H(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!!e.isVisible&&!(0,f.default)(e,this.props)},t.prototype.componentDidMount=function(){var e=this.props,t=e.guilds,n=e.scrollTop,r=e.isOnGuildDiscoveryRoute,o=this.initialized,a=this.scroller;!o&&t.length&&null!=a&&(r?this.scrollToGuild(null,!1):a.scrollTo(n,!1),this.initialized=!0)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=t.selectedGuildId,o=this.initialized;!o&&n.length?(this.scrollToGuild(r,!1),this.initialized=!0):o&&r!==e.selectedGuildId&&this.scrollToGuild(r,!1)},t.prototype.scrollToGuild=function(e,t){var n=this.scroller;if(null!=n){var r=null==e&&this.props.isOnGuildDiscoveryRoute||e===x.ViewHistoryKeys.SERVER_DISCOVERY_BADGE?this.guildDiscoveryRef.current:this.guildRefs[e],o=(0,s.findDOMNode)(r);null!=r&&null!=o&&o instanceof HTMLElement?n.scrollIntoView(o,t,W):n.scrollTo(0,t)}},t.prototype.render=function(){var e=this,t=this.props,n=t.guilds,r=t.channels,o=t.unreadGuilds,s=t.mentionCounts,d=t.selectedGuildId,f=t.selectedVoiceGuildId,p=t.selectedVoiceChannelId,y=t.selectedPrivateChannelId,v=t.totalUnavailableGuilds,_=t.mode,E=t.disableAppDownload,S=t.isOverlay,T=t.isGuest,C=t.className,N=t.isOnGuildDiscoveryRoute,A=t.isLurking,b=n.map(function(t){var n=t.guild,r=t.index,i=!1,l=!1;return f===n.id&&(i=_===x.ChannelModes.VOICE,l=_===x.ChannelModes.VIDEO),a(U.default,{setRef:function(t){return e.guildRefs[n.id]=t},guild:n,selected:d===n.id,audio:i,video:l,badge:s[n.id]||0,unread:o[n.id]||!1,index:r},n.id)}),M=[],P=void 0;if(P=s.null?(0,u.default)(r).filter(function(e){return e.isPrivate()&&e.id!==p}).map(function(e){return[e,g.default.getMentionCount(e.id)]}).filter(function(e){e[0];return e[1]>0}).map(function(e){var t=e[0],n=e[1];return M.push(t.id),a(w.default,{badge:n,channel:t},t.id)}).value():[],!f&&p){M.push(p);var D=r[p];null!=D&&P.unshift(a(w.default,{channel:D,selected:null===d&&y===p,badge:g.default.getMentionCount(D.id),audio:_===x.ChannelModes.VOICE,video:_===x.ChannelModes.VIDEO},D.id))}return n.forEach(function(e){var t=e.guild;return M.push(t.id)}),a("div",{className:(0,l.default)(j.default.wrapper,C)},void 0,a($,{items:M,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:j.default.unreadMentionsIndicatorTop,barClassName:j.default.unreadMentionsBar}),i.createElement(O.default,{className:j.default.scroller,outerClassName:j.default.scrollerWrap,ref:this.setScrollerRef,onScroll:this.handleScroll,theme:O.default.Themes.GHOST_HAIRLINE},T?Q:a(q,{selected:null==d&&!N,showDMsOnly:S}),T?null:J,a(c.default,{component:i.Fragment},void 0,P),Z,ee,b,a(L.UnavailableGuildsButton,{unavailableGuilds:v}),T||S?null:a(L.CreateJoinGuildButton,{disableTooltip:A,onContextMenu:this.handleContextMenu,isOwnerOfAny:u.default.some(this.props.guilds,function(e){return e.guild.isOwner(I.default.getCurrentUser())}),onClick:function(){return h.default.open(null,"Guild List")}},b.length+P.length),S?null:i.createElement(k.default,{ref:this.guildDiscoveryRef,selected:N}),a(L.AppDownloadButton,{disable:T||E,onClick:function(){m.default.push(R.default,{source:"Guilds"})}})),a($,{reverse:!0,items:M,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:j.default.unreadMentionsIndicatorBottom,barClassName:j.default.unreadMentionsBar}))},t.prototype.getRowHeight=function(){return V},t.prototype.getContainerHeight=function(){return null!=this.scroller?this.scroller.getScrollData().offsetHeight:0},t.prototype.handleContextMenu=function(e){(0,p.openContextMenu)(e,function(e){return i.createElement(P.default,o({},e,{type:x.ContextMenuTypes.GUILD_ICON_NEW}))})},t}(i.Component);te.defaultProps={isOverlay:!1,disableAppDownload:M.default.embedded,isVisible:!0,isOnGuildDiscoveryRoute:!1},te.displayName="Guilds",t.default=te,e.exports=t.default},7107:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=_(n(17)),u=_(n(310)),s=_(n(4)),d=_(n(15)),f=_(n(154)),c=_(n(6065)),p=_(n(442)),h=_(n(5994)),y=_(n(6360)),m=n(0),v=_(n(5651));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=u.default.Easing.inOut(u.default.Easing.cubic),S={friction:12,tension:450},T=s.default.connectStores([d.default],function(e){var t=e.channel;return{user:t.type===m.ChannelTypes.GROUP_DM?null:d.default.getUser(t.getRecipientId()),selectedChannelId:t.id}})(function(e){var t=e.user,n=e.selectedChannelId,r=e.channel;return a(p.default,{text:r.toString(),position:p.default.Positions.RIGHT},void 0,a(h.default,{to:m.Routes.CHANNEL(m.ME,n),user:t,channel:r,draggable:!1,outerClassName:v.default.avatar,className:v.default.inner}))}),I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.state={scale:new u.default.Value(0),height:new u.default.Value(0),opacity:new u.default.Value(0)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillEnter=function(e){var t=this.state,n=t.scale,r=t.height,a=t.opacity;e(),f.default.isFocused()?u.default.parallel([u.default.timing(r,{toValue:1,duration:150,eadin:g}),u.default.timing(a,{toValue:1,duration:150,eadin:g}),u.default.spring(n,o({toValue:1},S))]).start():(n.setValue(1),a.setValue(1),r.setValue(1))},t.prototype.componentWillAppear=function(e){var t=this.state,n=t.scale,r=t.height,o=t.opacity;n.setValue(1),o.setValue(1),r.setValue(1),e()},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.scale,r=t.height,o=t.opacity;f.default.isFocused()?u.default.parallel([u.default.timing(r,{toValue:0,duration:150,eadin:g}),u.default.timing(o,{toValue:0,duration:150,eadin:g}),u.default.timing(n,{toValue:0,duration:150,eadin:g})]).start(e):e()},t.prototype.getAnimatedStyle=function(){var e=this.state,t=e.scale;return{opacity:e.opacity,height:e.height.interpolate({inputRange:[0,1],outputRange:[0,60]}),transform:[{scale:t.interpolate({inputRange:[0,1],outputRange:[.5,1]})}]}},t.prototype.renderBadge=function(){var e=this.props,t=e.badge,n=e.selected;return t<=0||n?null:a(c.default,{className:v.default.badge,value:t})},t.prototype.render=function(){var e,t=this.props,n=t.channel,r=t.audio,o=t.video,i=t.selected,s=t.unread,d=t.active,f=(0,l.default)(((e={})[v.default.container]=!0,e[v.default.active]=d,e[v.default.unread]=s,e[v.default.audio]=r&&!o&&!i,e[v.default.video]=o&&!i,e));return a(u.default.div,{className:f,style:this.getAnimatedStyle()},void 0,a(y.default,{active:i},void 0,a(T,{channel:n})),this.renderBadge())},t}(i.PureComponent);I.defaultProps={selected:!1,badge:0,audio:!1,video:!1},I.displayName="DirectMessage",t.default=I,e.exports=t.default},7108:function(e,t,n){"use strict";t.__esModule=!0,t.LurkingGuild=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=O(n(17)),u=n(897),s=O(n(4)),d=O(n(328)),f=O(n(446)),c=n(307),p=O(n(832)),h=O(n(461)),y=O(n(6151)),m=O(n(845)),v=O(n(232)),_=O(n(28)),E=O(n(51)),g=O(n(455)),S=O(n(6065)),T=O(n(6015)),I=O(n(876)),C=O(n(6360)),N=n(0),A=O(n(5652));function O(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=b(this,e.call.apply(e,[this].concat(l))),r.handleMouseDown=function(){var e=r.props,t=e.guild,n=e.selectedChannelId;null!=n&&f.default.preload(t.id,n)},r.handleContextMenu=function(e){var t=r.props,n=t.guild,o=t.badge,l=t.selected,u=t.selectedChannelId,s=null!=u?N.Routes.CHANNEL(n.id,u):N.Routes.GUILD(n.id);(0,c.openContextMenu)(e,function(e){return i.createElement(y.default,a({},e,{type:N.ContextMenuTypes.GUILD_ICON_BAR,guild:n,badge:o,link:s,selected:l}))})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderBadge=function(){var e=this.props,t=e.badge,n=e.selected;return t<=0||n?null:o(S.default,{className:A.default.badge,value:this.props.badge})},t.prototype.render=function(){var e,t=this,n=this.props,r=n.selectedChannelId,u=n.guild,s=n.selected,d=n.unread,f=n.audio,c=n.video,p=n.setRef,h=n.draggable,y=n.dragging,m=n.connectDropTarget,v=n.connectDragSource;if(y)return o("div",{className:(0,l.default)(A.default.dragPlaceholder)});var _=this.renderBadge(),E=null!=r?N.Routes.CHANNEL(u.id,r):N.Routes.GUILD(u.id),g=((e={})[A.default.container]=!0,e[A.default.selected]=s,e[A.default.unread]=d,e[A.default.audio]=f&&!s,e[A.default.video]=c&&!s,e),S=o(I.default,{text:u.toString(),position:I.default.Positions.RIGHT},void 0,function(e){return o(C.default,{active:s,animateBackgroundColor:null==u.icon,onMouseDown:t.handleMouseDown,onContextMenu:t.handleContextMenu},void 0,i.createElement(T.default,a({},e,{guild:u,to:E,source:{page:N.AnalyticsPages.GUILD_CHANNEL,section:N.AnalyticsSections.CHANNEL_LIST,object:N.AnalyticsObjects.CHANNEL},className:A.default.guildIcon})))});return i.createElement("div",{className:(0,l.default)(g),ref:p},h?m(v(o("div",{className:A.default.dragfix},void 0,S))):S,_)},t}(i.PureComponent);M.defaultProps={selected:!1,unread:!1,audio:!1,video:!1,badge:0,draggable:!0},M.displayName="Guild";var R,P=(R=s.default.connectStores([E.default],function(e){var t=e.guild;return{selectedChannelId:E.default.getChannelId(t.id)}})(M),(0,u.DropTarget)("GUILD",{hover:function(e,t){var n=t.getItem().index,r=e.index;n!==r&&(p.default.move(n,r),t.getItem().index=r)}},function(e){return{connectDropTarget:e.dropTarget()}},{arePropsEqual:d.default})((0,u.DragSource)("GUILD",{beginDrag:function(e){return{guild:e.guild,index:e.index}},endDrag:function(){h.default.updateRemoteSettings({guildPositions:g.default.guildPositions})}},function(e,t){return{connectDragSource:e.dragSource(),dragging:t.isDragging()}},{arePropsEqual:d.default})(R)));t.LurkingGuild=s.default.connectStores([_.default,v.default,m.default],function(){var e=v.default.lurkingGuildId();return{lurkingGuild:null!=e?_.default.getGuild(e):null,selectedGuildId:m.default.getGuildId()}})(function(e){var t=e.lurkingGuild,n=e.selectedGuildId;return null!=t?o("div",{className:A.default.lurkingGuild},void 0,o(P,{guild:t,selected:n===t.id,draggable:!1})):null});t.default=P},7109:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(4)),l=_(n(12)),u=_(n(340)),s=_(n(6409)),d=_(n(7110)),f=_(n(306)),c=_(n(442)),p=_(n(45)),h=n(6578),y=n(0),m=_(n(13)),v=_(n(5653));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.selected;return e.shouldShow?o(c.default,{text:m.default.Messages.GUILD_DISCOVERY_TOOLTIP,position:c.default.Positions.RIGHT},void 0,o("div",{className:v.default.container},void 0,o(h.CircleIconButton,{onClick:function(){return p.default.transitionTo(y.Routes.GUILD_DISCOVERY)},selected:t},void 0,o(f.default,{name:f.default.Names.SEARCH,width:24,height:24})))):null},t}(a.PureComponent);E.defaultProps={selected:!1},E.displayName="GuildDiscovery",t.default=i.default.connectStores([d.default,s.default,l.default,u.default],function(){return{shouldShow:d.default.inExperiment()||l.default.isGuest()||u.default.wasGuest()}})(E),e.exports=t.default},7110:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=d(n(4)),i=d(n(1)),l=d(n(136)),u=d(n(58)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default],f)},t.prototype.getExperimentId=function(){return s.Experiments.SERVER_DISCOVERY},t.prototype.getMetaData=function(){return{title:"Verified Server Discovery",description:["Control: No verified server discovery","Treatment 1: Verified server discovery","Treatment 2: Verified server discovery with new badge","Treatment 3: Control take 2: no verified server discovery","Treatment 4: Treatment 2 take 2: with new badge"]}},t.prototype.getExperimentDescriptor=function(){return u.default.getOverrideExperimentDescriptor(this.getExperimentId())||u.default.getEligibleExperiment(this.getExperimentId())},t.prototype.inExperiment=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket!==s.ExperimentBuckets.NOT_ELIGIBLE&&(e.override||u.default.hasExperimentTriggered(e.type,e.name)||l.default.trigger(e),e.bucket===s.ExperimentBuckets.TREATMENT_1||e.bucket===s.ExperimentBuckets.TREATMENT_2||e.bucket===s.ExperimentBuckets.TREATMENT_4)},t}(a.default.Store))(i.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return e.experimentId===s.Experiments.SERVER_DISCOVERY},EXPERIMENT_OVERRIDE_TYPE:function(e){return e.experimentId===s.Experiments.SERVER_DISCOVERY}});l.default.register(c,((o={})[s.ExperimentTypes.USER]=((r={})[s.ExperimentBuckets.CONTROL]=function(){return null},r[s.ExperimentBuckets.TREATMENT_1]=function(){return null},r[s.ExperimentBuckets.TREATMENT_2]=function(){return null},r[s.ExperimentBuckets.TREATMENT_3]=function(){return null},r[s.ExperimentBuckets.TREATMENT_4]=function(){return null},r),o)),t.default=c,e.exports=t.default},7111:function(e,t,n){"use strict";t.__esModule=!0,t.DefaultHomeButton=t.GuestHomeButton=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(17)),l=n(223),u=n(6143),s=g(n(6065)),d=g(n(221)),f=g(n(306)),c=g(n(442)),p=n(6042),h=g(p),y=g(n(6754)),m=g(n(6360)),v=n(0),_=g(n(13)),E=g(n(5654));function g(e){return e&&e.__esModule?e:{default:e}}(t.GuestHomeButton=function(){return o(m.default,{className:E.default.container,active:!1,animateBackgroundColor:!0},void 0,o(c.default,{text:_.default.Messages.HOME,position:c.default.Positions.RIGHT},void 0,o(d.default,{className:E.default.homeButton,onClick:function(){return(0,u.open)(v.AnalyticsLocations.HOME_BUTTON)}},void 0,o(f.default,{name:f.default.Names.DISCORD,className:E.default.homeIcon}))))}).displayName="GuestHomeButton";var S=t.DefaultHomeButton=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.selected,r=t.user,a=t.link,u=t.badge,d=t.showDMsOnly,g=void 0!==d&&d;if(null==r)return null;var S=u>0&&!n?o(s.default,{className:E.default.badge,value:u}):null;return o(h.default,{tutorialId:"friends-list",position:p.TutorialIndicatorPositions.RIGHT,offsetX:-18,offsetY:-18},void 0,o("div",{className:E.default.container},void 0,o(m.default,{className:E.default.homeButton,active:n,animateBackgroundColor:!0},void 0,o(c.default,{text:g?_.default.Messages.DIRECT_MESSAGES:_.default.Messages.HOME,position:c.default.Positions.RIGHT},void 0,o(l.Link,{className:E.default.homeLink,to:{pathname:a,state:{analyticsSource:{page:v.AnalyticsPages.GUILD_CHANNEL,section:v.AnalyticsSections.NAVIGATION,object:v.AnalyticsObjects.BUTTON_HOME}}},draggable:!1},void 0,o(f.default,{name:f.default.Names.DISCORD,className:E.default.homeIcon})))),o(y.default,{className:(0,i.default)(E.default.downloadProgressCircle,(e={},e[E.default.hideGameUpdateProgressIndicator]=n,e))}),S))},t}(a.PureComponent);S.defaultProps={selected:!1,unread:!1},S.displayName="DefaultHomeButton"},7112:function(e,t,n){"use strict";t.__esModule=!0,t.valueRenderers=t.graphs=t.labelRenderers=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.Item=E;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=u(n(6329)),i=u(n(8112)),l=u(n(8113));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.labelRenderers={audioDetected:"Audio Detected",audioLevel:"Audio Level",availableOutgoingBitrate:"Available Outgoing Bitrate",averageDecodeTime:"Average Decode Time",averageEncodeTime:"Average Encode Time",bandwidthLimitedResolution:"Bandwidth Limited Resolution",bitrate:"Bitrate",bitratePreferred:"Bitrate (Preferred)",bitrateTarget:"Bitrate (Target)",bytesReceived:"Bytes Received",bytesSent:"Bytes Sent",codec:"Codec",cpuLimitedResolution:"CPU Limited Resolution",decodingCNG:"Decoding CNG",decodingMutedOutput:"Decoding Muted Output",decodingNormal:"Decoding Normal",decodingPLC:"Decoding PLC",decodingPLCCNG:"Decoding PLC CNG",decryptionFailures:"Decryption Failures",delayEstimate:"Delay Estimate",decoderImplementationName:"Decoder",encoderImplementationName:"Encoder",encodeUsage:"Encode Usage",firCount:"FIR",fractionLost:"Packet Loss",frameRateDecode:"Frame Rate (Decode)",frameRateEncode:"Frame Rate (Encode)",frameRateInput:"Frame Rate (Input)",frameRateNetwork:"Frame Rate (Network)",frameRateRender:"Frame Rate (Render)",framesDecoded:"Frames Decoded",framesDropped:"Frames Dropped",framesEncoded:"Frames Encoded",framesReceived:"Frames Received",framesSent:"Frames Sent",jitter:"Jitter",jitterBuffer:"Jitter Buffer",jitterBufferPreferred:"Jitter Buffer (Preferred)",nackCount:"NACK",packetsLost:"Packets Lost",packetsReceived:"Packets Received",packetsSent:"Packets Sent",ping:"Ping",pliCount:"PLI",qpSum:"qpSum",resolution:"Resolution",ssrc:"SSRC",localAddress:"Local Address",videohookFrames:"Videohook Frames",screenshareFrames:"WebRTC Frames",videohookBackend:"Videohook Backend",capturedFramesDropped:"Captured Frames Dropped",capturedFramesCount:"Captured Frames per Second",capturedFramesMean:"Captured Frames Mean (ms)",capturedFramesStdev:"Captured Frames Standard Deviation (ms)"};function d(e){return(e/1e3).toFixed(2)+" Kbps"}function f(e){return a.default.filesize(e)}function c(e){return e}function p(e){return e+" ms"}function h(e){return e.toFixed(0)+"%"}function y(e){return e?"Yes":"No"}var m=t.graphs={availableOutgoingBitrate:!0,bitrate:!0,bitratePreferred:!0,bitrateTarget:!0,bytesReceived:!0,bytesSent:!0,encodeUsage:!0,fractionLost:!0,frameRateDecode:!0,frameRateEncode:!0,frameRateInput:!0,frameRateNetwork:!0,frameRateRender:!0,packetsLost:!0,packetsReceived:!0,packetsSent:!0,ping:!0},v={audioDetected:y,audioLevel:function(e){return Math.max(e,0).toFixed(2)+" dB"},availableOutgoingBitrate:d,averageDecodeTime:p,averageEncodeTime:p,bandwidthLimitedResolution:y,bitrate:d,bitratePreferred:d,bitrateTarget:d,bytesReceived:f,bytesSent:f,codec:function(e){var t=e.id,n=e.name;return""+(n=n||"unknown")[0].toUpperCase()+n.slice(1)+" ("+t+")"},cpuLimitedResolution:y,delayEstimate:p,decoderImplementationName:c,encoderImplementationName:c,encodeUsage:h,fractionLost:h,jitter:p,jitterBuffer:p,jitterBufferPreferred:p,ping:p,resolution:function(e){return e.width+"x"+e.height},videohookBackend:function(e){var t=["N/A","Direct3D 9","Direct3D 10","Direct3D 11","Direct3D 12","OpenGL","Vulkan"];return e<t.length?t[e]:"Unknown"}};function _(e){return o(i.default,{datapoint:e})}function E(e){var t=e.label,n=e.value,r=e.section,a=v[t]||function(e){return e};return o(l.default,{label:t,value:n,valueRendered:a(n),section:r,renderGraph:m[t]&&_.bind(null,n)},void 0,s[t]||t)}t.valueRenderers=v,_.displayName="renderGraph",E.displayName="Item"},7113:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a.default.dispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})},t.close=function(e){a.default.dispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})},t.moveTo=function(e,t){a.default.dispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},7114:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(4)),i=s(n(23)),l=s(n(1)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d="PictureInPictureLocation",f=null,c=u.PictureInPicturePositions.BOTTOM_RIGHT;var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){c=i.default.get(d,u.PictureInPicturePositions.BOTTOM_RIGHT)},t.prototype.isOpen=function(e){return null!=f&&f.id===e},r(t,[{key:"window",get:function(){return f}}]),t}(a.default.Store);t.default=new p(l.default,{PICTURE_IN_PICTURE_OPEN:function(e){var t=e.id,n=e.component,r=e.props;f={id:t,component:n,position:c,props:r}},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(null==f||f.id!==t)return!1;f=null},PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;if(null==f||f.id!==t)return!1;f=o({},f,{position:n}),c=n,i.default.set(d,n)},LOGOUT:function(e){f=null}}),e.exports=t.default},7115:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=R(n(17)),s=R(n(308)),d=R(n(6)),f=R(n(443)),c=R(n(310)),p=R(n(4)),h=R(n(833)),y=R(n(6115)),m=n(6168),v=n(6791),_=n(7117),E=R(n(6014)),g=R(n(6324)),S=R(n(313)),T=n(109),I=n(470),C=R(n(7118)),N=R(n(6180)),A=n(0),O=R(n(13)),b=R(n(5658)),M=R(n(5363));function R(e){return e&&e.__esModule?e:{default:e}}var P=((o={})[A.Arrows.UP]=d.default.throttle(function(){return(0,I.playSound)("ddr-up")},100),o[A.Arrows.DOWN]=d.default.throttle(function(){return(0,I.playSound)("ddr-down")},100),o[A.Arrows.LEFT]=d.default.throttle(function(){return(0,I.playSound)("ddr-left")},100),o[A.Arrows.RIGHT]=d.default.throttle(function(){return(0,I.playSound)("ddr-right")},100),o),L=(0,s.default)({displayName:"HotkeyLayout",getInitialState:function(){return{UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new c.default.Value(1),scaleX:new c.default.Value(1),scaleY:new c.default.Value(0),animating:!1}},componentDidMount:function(){T.ComponentDispatch.subscribe(A.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),T.ComponentDispatch.subscribe(A.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),T.ComponentDispatch.subscribe(A.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),T.ComponentDispatch.subscribe(A.ComponentActions.DDR_ARROW_UP,this.arrowUp)},componentWillUnmount:function(){T.ComponentDispatch.unsubscribe(A.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),T.ComponentDispatch.unsubscribe(A.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),T.ComponentDispatch.unsubscribe(A.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),T.ComponentDispatch.unsubscribe(A.ComponentActions.DDR_ARROW_UP,this.arrowUp)},scrollPageUp:function(){var e=this.refs.scroller;e&&e.scrollPageUp(!0,!0)},scrollPageDown:function(){var e=this.refs.scroller;e&&e.scrollPageDown(!0,!0)},arrowUp:function(e){var t,n=e.direction;this.setState(((t={})[n]=!1,t))},arrowDown:function(e){var t,n=e.direction;P[n](),this.setState(((t={})[n]=!0,t))},componentWillLeave:function(e){this.setState({animating:!0}),this.state.opacity.setValue(1),this.state.scaleX.setValue(.5),this.state.scaleY.setValue(1),c.default.sequence([c.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),c.default.timing(this.state.opacity,{delay:300,toValue:.7,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),c.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),c.default.timing(this.state.scaleY,{delay:100,toValue:.005,duration:1e3/60*8,easing:c.default.Easing.in(c.default.Easing.ease)}),c.default.parallel([c.default.timing(this.state.scaleX,{toValue:1,duration:1e3/60*10,easing:c.default.Easing.out(c.default.Easing.ease)}),c.default.timing(this.state.opacity,{toValue:0,duration:200})])]).start(e)},toggleOpacity:function(){1===this.state.opacity._value?this.state.opacity.setValue(0):this.state.opacity.setValue(1)},getStyles:function(){return{opacity:this.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:this.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:this.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}},render:function(){var e,t,n,r,o=this.state,a=o.UP,s=o.DOWN,d=o.LEFT,f=o.RIGHT,p=this.generateContent();return i(c.default.div,{className:b.default.keyboardShortcutsModal,style:this.getStyles()},void 0,i("h1",{className:b.default.modalTitle},void 0,i("div",{className:b.default.content},void 0,O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE),i(N.default,{shortcut:"mod+/",className:(0,u.default)(M.default.dim,M.default.keyboardShortcuts)})),i("div",{className:b.default.modalSubtitle},void 0,O.default.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE),i("div",{className:b.default.ddrArrows},void 0,i("div",{className:(0,u.default)(b.default.arrow,b.default.left,(e={},e[b.default.active]=d,e))},void 0,"left"),i("div",{className:(0,u.default)(b.default.arrow,b.default.down,(t={},t[b.default.active]=s,t))},void 0,"down"),i("div",{className:(0,u.default)(b.default.arrow,b.default.up,(n={},n[b.default.active]=a,n))},void 0,"up"),i("div",{className:(0,u.default)(b.default.arrow,b.default.right,(r={},r[b.default.active]=f,r))},void 0,"right")),l.createElement(S.default,{ref:"scroller",fade:!0,outerClassName:b.default.scrollerWrap},i("div",{className:b.default.keyboardShortcutList},void 0,p)))},generateContent:function(){return this.props.content.map(function(e,t){var n;return i("div",{className:(0,u.default)(b.default.keybindGroup,(n={},n[b.default.groupEnd]=e.groupEnd,n))},t,i("div",{className:b.default.keybindDescription},void 0,e.description),i("div",{className:"keybind-shortcuts"},void 0,e.binds.map(function(e,t){return i(N.default,{shortcut:e},t)})))})}}),w=i(C.default,{},"raging-demo"),D=(0,s.default)({displayName:"KeyboardShortcuts",mixins:[f.default,p.default.LazyStoreListenerMixin(g.default)],statics:{modalConfig:{store:g.default}},getInitialState:function(){return a({content:__OVERLAY__?(0,v.getOverlayLayoutContent)():(0,m.getDefaultLayoutContent)()},g.default.getState())},getStateFromStores:function(){return g.default.getState()},UNSAFE_componentWillUpdate:function(e,t){!this.state.ragingDemon&&t.ragingDemon&&E.default.disable()},componentDidMount:function(){E.default.enableTemp(_.SHORTCUT_MODAL_LAYOUT)},componentWillUnmount:function(){E.default.disableTemp()},render:function(){var e=void 0;return e=this.state.ragingDemon?w:i(L,{content:this.state.content},"modal"),i(h.default,{component:"div"},void 0,e)},close:function(){y.default.hide()}});t.default=D,e.exports=t.default},7116:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r=n(6091);t.QUICKSWITCHER_SHOW={binds:["mod+k","mod+t"],global:!0,action:function(){return(0,r.show)("KEYBIND",""),!1}}},7117:function(e,t,n){"use strict";var r;t.__esModule=!0,t.SHORTCUT_MODAL_LAYOUT=void 0;var o,a=n(6115),i=(o=a)&&o.__esModule?o:{default:o},l=n(109),u=n(0);function s(e){return l.ComponentDispatch.dispatch(u.ComponentActions.DDR_ARROW_DOWN,{direction:e}),!1}function d(e){return l.ComponentDispatch.dispatch(u.ComponentActions.DDR_ARROW_UP,{direction:e}),!1}t.SHORTCUT_MODAL_LAYOUT=((r={})[u.Arrows.UP]={binds:["up"],keydown:s.bind(null,u.Arrows.UP),keyup:d.bind(null,u.Arrows.UP)},r[u.Arrows.DOWN]={binds:["down"],keydown:s.bind(null,u.Arrows.DOWN),keyup:d.bind(null,u.Arrows.DOWN)},r[u.Arrows.LEFT]={binds:["left"],keydown:s.bind(null,u.Arrows.LEFT),keyup:d.bind(null,u.Arrows.LEFT)},r[u.Arrows.RIGHT]={binds:["right"],keydown:s.bind(null,u.Arrows.RIGHT),keyup:d.bind(null,u.Arrows.RIGHT)},r.RAGING_DEMON={binds:["h h right n k"],action:function(){i.default.activateRagingDemon()}},r)},7118:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(17))),i=c(n(308)),l=c(n(6)),u=c(n(6115)),s=n(109),d=n(0),f=c(n(5657));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){return!0},h=function(){return!0},y=function(){return o("div",{className:f.default.symbol},"symbol",o("div",{className:f.default.symbolBackground}),o("img",{alt:"",src:n(7119)}))};y.displayName="_Symbol";var m=(0,i.default)({displayName:"Explosion",_renderSecondaryTimeout:null,_doneTimeout:null,getInitialState:function(){return{animating:!1,renderSecondary:!1,scale:l.default.random(.6,1,!0),offsetX:l.default.random(0,140,!1)-70,offsetY:l.default.random(0,140,!1)-70}},componentDidMount:function(){var e=this;this.setState({animating:!0}),this._renderSecondaryTimeout=setTimeout(function(){e.setState({renderSecondary:!0})},120),this._doneTimeout=setTimeout(this.done,1e3),p()},componentDidUpdate:function(e,t){this.state.renderSecondary&&!t.renderSecondary&&h()},componentWillUnmount:function(){clearTimeout(this._renderSecondaryTimeout),clearTimeout(this._doneTimeout)},done:function(){this.props.onAnimationComplete(this.props.componentId)},renderPrimary:function(){return o("div",{className:f.default.primaryExplosion},"primary-explosion",o("img",{alt:"",className:f.default.circleInner,src:n(7120),width:70,height:69}),o("img",{alt:"",className:f.default.circleOuter,src:n(7121),width:96,height:95}),o("img",{alt:"",className:f.default.linesSecondary,src:n(7122),width:183,height:104}),o("img",{alt:"",className:f.default.linesMain,src:n(7123),width:69,height:180}))},renderSecondary:function(e,t){return o("div",{className:f.default.secondaryExplosion,style:{top:t,left:e}},"secondary-explosion",o("img",{alt:"",className:f.default.circleInner,src:n(7124),width:61,height:58},"circle-inner"),o("img",{alt:"",className:f.default.circleOuter,src:n(7125),width:85,height:85},"circle-outer"),o("img",{alt:"",className:f.default.linesSecondary,src:n(7126),width:162,height:173},"lines-secondary"),o("img",{alt:"",className:f.default.linesMain,src:n(7127),width:156,height:306},"lines-main"))},render:function(){var e,t=this.state,n=t.renderSecondary,r=t.offsetX,i=t.offsetY,l=t.animating,u=t.scale,s=[this.renderPrimary()];return n&&s.push(this.renderSecondary(r,i)),o("div",{className:(0,a.default)(f.default.container,(e={},e[f.default.animate]=l,e)),style:{top:this.props.top,left:this.props.left,transform:"scale("+u+")"}},void 0,s)}}),v=o(y,{},"symbol"),_=(0,i.default)({displayName:"RagingDemon",_timeouts:[],setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=setTimeout.apply(void 0,arguments);return this._timeouts.push(e),e}),getInitialState:function(){return{explosions:0}},UNSAFE_componentWillMount:function(){this.children=[]},componentDidMount:function(){this.setTimeout(function(){return s.ComponentDispatch.dispatch(d.ComponentActions.SHAKE_APP,{duration:2400})},1800),this.setTimeout(this.createExplosion,1800)},removeExplosion:function(e){var t=this.children,n=t.find(function(t){return t.props.componentId===e}),r=t.indexOf(n);r>=0&&t.splice(r,1),this.forceUpdate()},createExplosion:function(){var e=this.children,t=window.innerWidth/2>>0,n=window.innerHeight/2>>0;if(this.state.explosions<8){var r="expl-"+this.state.explosions;e.push(o(m,{componentId:r,top:l.default.random(n-100,n+100,!1),left:l.default.random(t-200,t+200,!1),onAnimationComplete:this.removeExplosion},r)),this.setTimeout(this.createExplosion,240),this.setState({explosions:this.state.explosions+1})}else this.setTimeout(this.addSymbol,750)},addSymbol:function(){this.children=[v],this.forceUpdate(),this.setTimeout(this.delayedClose,3e3)},delayedClose:function(){u.default.hide()},componentWillUnmount:function(){this.children.length=0;var e=this._timeouts,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}clearTimeout(r)}},render:function(){return o("div",{className:f.default.ragingDemon},void 0,this.children)}});t.default=_,e.exports=t.default},7119:function(e,t,n){e.exports=n.p+"bb7f752540c7f4c7039c6dd6b5dd052e.svg"},7120:function(e,t,n){e.exports=n.p+"2fa100868d36281cf16e9b488d6783e6.png"},7121:function(e,t,n){e.exports=n.p+"343d87c6185c5a798189dbe0454338d2.png"},7122:function(e,t,n){e.exports=n.p+"8d32a8a24b95bbb21533636279d44c4c.png"},7123:function(e,t,n){e.exports=n.p+"d848be8a53ceaaf74385fa2240c277fe.png"},7124:function(e,t,n){e.exports=n.p+"156b50b1934142012e13cddb292be82f.png"},7125:function(e,t,n){e.exports=n.p+"37168b17cb52c41180fc7dc3464416e3.png"},7126:function(e,t,n){e.exports=n.p+"264c4f75df7b5cfca2445a01ac303e4c.png"},7127:function(e,t,n){e.exports=n.p+"b2609efe7eaf6066ccf83c63b831b9f5.png"},7128:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=I(n(2)),l=T(n(4)),u=T(n(182)),s=I(n(872));n(130);var d=T(n(43)),f=T(n(6146)),c=T(n(90)),p=T(n(6097)),h=T(n(179)),y=T(n(128)),m=T(n(5988)),v=T(n(222)),_=n(334),E=T(n(45)),g=n(0),S=T(n(5659));function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e){function t(){var n,r,o,a=this;C(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=N(this,e.call.apply(e,[this].concat(l))),r.state={error:null,accepted:!1},r.handleAccept=(o=regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.giftCode,o=t.channelContext,null!=n){e.next=3;break}throw new Error("GiftCode is null at acceptance.");case 3:return e.prev=3,e.next=6,s.redeemGiftCode(n.code,o);case 6:r.setState({accepted:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r.setState({error:e.t0});case 12:case"end":return e.stop()}},e,a,[[3,9]])}),function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})}),r.handleGoToPremiumApplications=function(){E.default.transitionTo(g.Routes.APPLICATION_STORE,{state:{analyticsSource:{}}}),r.props.onClose()},r.handleGoToLibrary=function(){var e=r.props,t=e.onClose,n=e.libraryApplication;E.default.transitionTo(g.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=n?n.id:null}}),t()},N(r,n)}return A(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.application,n=e.sku;null==t&&null!=n&&u.default.fetchApplication(n.applicationId)},t.prototype.render=function(){var e=this.props,t=e.application,n=e.accepting,r=e.onClose,a=e.giftCode;return o(v.default,{size:v.default.Sizes.SMALL,className:S.default.modal},void 0,o("div",{className:S.default.backSplash}),o(v.default.Content,{className:S.default.content},void 0,o(v.default.CloseButton,{onClick:r,className:S.default.closeButton}),o(m.default,{size:m.default.Sizes.LARGE,game:t,skuId:a.skuId}),o("h3",{className:S.default.header},void 0,this.headerText),o("p",{className:S.default.body},void 0,this.bodyText),o(y.default,{submitting:n,onClick:this.handleClick},void 0,this.buttonText)))},a(t,[{key:"step",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=e.giftCode,o=this.state,a=o.error,i=o.accepted;return(0,_.getStep)(t,r,a,i,n)}},{key:"buttonText",get:function(){return(0,_.getButtonText)(this.step,this.props.giftCode)}},{key:"headerText",get:function(){return null!=this.props.sku?(0,_.getHeaderText)(this.step,this.props.giftCode,this.props.sku):null}},{key:"bodyText",get:function(){var e=this.props,t=e.sku,n=e.accepting,r=e.libraryApplication,o=e.subscriptionPlan,a=this.state,i=a.error,l=a.accepted;return null!=t?(0,_.getBodyText)(this.step,t,r,i,l,n,this.handleGoToLibrary,o):null}},{key:"errorMessage",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=this.state,o=r.error,a=r.accepted;return(0,_.getErrorMessage)(t,o,a,n,this.handleGoToLibrary)}},{key:"handleClick",get:function(){var e=this.props,t=e.giftCode,n=e.onClose;switch(this.step){case g.GiftCodeModalStates.ERROR:return n;case g.GiftCodeModalStates.SUCCESS:return __OVERLAY__?n:null!=t.subscriptionPlanId?t.premiumSubscriptionType===g.PremiumTypes.TIER_2?this.handleGoToPremiumApplications:n:this.handleGoToLibrary;case g.GiftCodeModalStates.CONFIRM:default:return this.handleAccept}}}]),t}(i.Component);O.displayName="GiftCodeAccept";var b=l.default.connectStores([c.default,h.default,d.default,f.default,p.default],function(e){var t=e.giftCode,n=h.default.get(t.skuId),r=null!=n?d.default.getGame(n.applicationId):null;return{sku:n,libraryApplication:null!=n?(0,_.firstLibraryApplicationForGiftCode)(t,n,c.default):null,application:r,subscriptionPlan:null!=t.subscriptionPlanId?p.default.get(t.subscriptionPlanId):null,accepting:f.default.getIsAccepting(t.code)}})(O),M=function(e){function t(){return C(this,t),N(this,e.apply(this,arguments))}return A(t,e),t.prototype.handleClose=function(){s.closeGiftCodeAcceptModal()},t.prototype.render=function(){return o(b,{channelContext:this.props.channelContext,giftCode:this.props.giftCode,onClose:this.handleClose})},t}(i.PureComponent);M.modalConfig={store:f.default},M.displayName="GiftCodeAcceptModal",t.default=M,e.exports=t.default},7129:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=h(n(2)),i=p(n(4)),l=h(n(949)),u=p(n(15)),s=p(n(7130)),d=p(n(225)),f=p(n(6234));n(0);var c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var n,r;y(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.handlePurchasePremium=function(){l.closeModal(!0)},m(r,n)}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.onClose;return o(f.default,{},void 0,o(f.default.Header,{onClose:n},void 0,c.default.Messages.PREMIUM_REQUIRED),o(f.default.Content,{type:f.default.Types.UPGRADE},void 0,t.premiumType&&!d.default.canInstallPremiumApplications(t)?c.default.Messages.PREMIUM_UPGRADE_REQUIRED_BODY:c.default.Messages.PREMIUM_SUBSCRIPTION_REQUIRED_BODY),o(f.default.Footer,{primary:{onClick:this.handlePurchasePremium,label:c.default.Messages.PREMIUM_REQUIRED_GET_NITRO}}))},t}(a.Component);_.displayName="PremiumRequiredModalUnconnected";var E=i.default.connectStores([u.default],function(){return{user:u.default.getCurrentUser()}})(_),g=function(e){function t(){return y(this,t),m(this,e.apply(this,arguments))}return v(t,e),t.prototype.close=function(){l.closeModal(!1)},t.prototype.render=function(){return o(E,{onClose:this.close,context:this.props.appContext})},t}(a.Component);g.modalConfig={closable:!0,store:s.default},g.displayName="PremiumRequiredModal",t.default=g,e.exports=t.default},7130:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=null,s=void 0,d=void 0;function f(e){null!=s&&e?s():null!=d&&d(),s=null,d=null}function c(){u=a.FormStates.CLOSED,l=null}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){var e=__OVERLAY__?a.AppContext.OVERLAY:a.AppContext.APP;return l===e&&u===a.FormStates.OPEN},t}(r.default.Store);t.default=new p(o.default,{PREMIUM_REQUIRED_MODAL_OPEN:function(e){f(!1),u=a.FormStates.OPEN,l=e.context,s=e.resolve,d=e.reject},PREMIUM_REQUIRED_MODAL_CLOSE:function(e){f(e.shouldContinue),c()},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==l)return!1;c(),f(!1)}}),e.exports=t.default},7131:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(4)),l=n(904),u=n(321);n(316);var s=g(n(43)),d=g(n(7132)),f=g(n(179)),c=g(n(152)),p=g(n(222)),h=g(n(18)),y=g(n(6187)),m=g(n(6580)),v=n(0),_=g(n(5355)),E=g(n(5426));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=function(e){function t(){return S(this,t),T(this,e.apply(this,arguments))}return I(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.application,n=e.skuId,r=e.sku,o=e.onClose;null==r?(0,u.fetchSKU)(t.id,n).catch(function(e){return o(e.message)}):this.track(r)},t.prototype.componentDidUpdate=function(e){var t=this.props.sku;t!==e.sku&&null!=t&&this.track(t)},t.prototype.track=function(e){var t=this.props.analyticsSource;h.default.track(v.AnalyticEvents.OPEN_MODAL,{type:"Application Entitlement Confirmation",source:t,application_id:e.applicationId,sku_id:e.id})},t.prototype.render=function(){var e=this.props,t=e.sku,n=e.application,r=e.onClose,a=e.isIAP;return o(p.default,{size:p.default.Sizes.SMALL,className:_.default.modal},void 0,o(y.default,{application:n,splashSize:880}),o(p.default.Content,{className:_.default.content},void 0,o(c.default,{direction:c.default.Direction.VERTICAL,className:E.default.confirmContent},void 0,o(p.default.CloseButton,{onClick:function(){return r()},className:E.default.confirmCloseButton}),null!=t?o(m.default,{application:n,sku:t,isIAP:a,onClose:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r()})}):null)))},t}(a.Component);C.displayName="PurchaseConfirmationModal";var N=i.default.connectStores([s.default,f.default],function(e){var t=e.applicationId,n=e.skuId;return{application:s.default.getGame(t),sku:f.default.get(n)}})(C),A=function(e){function t(){return S(this,t),T(this,e.apply(this,arguments))}return I(t,e),t.prototype.close=function(e){(0,l.closePurchaseConfirmationModal)(e)},t.prototype.render=function(){var e=this.props,t=e.skuId,n=e.applicationId,r=e.analyticsSource,a=e.isIAP;return o(N,{skuId:t,applicationId:n,isIAP:a,analyticsSource:r,onClose:this.close})},t}(a.Component);A.modalConfig={closable:!0,store:d.default},A.displayName="PurchaseConfirmationModalWrapper",t.default=A,e.exports=t.default},7132:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=null,s=null,d=null,f=!1,c=null,p=void 0,h=void 0;function y(e){null!=p&&null!=d?p(d):null!=h&&h(e),p=null,h=null}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){var e=__OVERLAY__?a.AppContext.OVERLAY:a.AppContext.APP;return c===e&&f},t.prototype.getProps=function(){return{applicationId:l,skuId:u,analyticsSource:s,isIAP:c===a.AppContext.OVERLAY}},t}(r.default.Store);t.default=new m(o.default,{PURCHASE_CONFIRMATION_MODAL_OPEN:function(e){y(),f=!0,l=e.applicationId,u=e.skuId,s=e.analyticsSource,c=e.context,d=e.entitlements,p=e.resolve,h=e.reject},PURCHASE_CONFIRMATION_MODAL_CLOSE:function(e){var t=e.error;f=!1,c=null,y(t)},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==c)return!1;f=!1,c=null,y()}}),e.exports=t.default},7133:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=Y(n(2)),u=V(n(159)),s=V(n(161)),d=V(n(4)),f=V(n(1)),c=n(6032),p=Y(n(321)),h=Y(n(896)),y=(n(449),V(n(43))),m=V(n(15)),v=V(n(862)),_=V(n(6069)),E=V(n(179)),g=V(n(187)),S=V(n(6148)),T=V(n(152)),I=V(n(5988)),C=V(n(306)),N=V(n(222)),A=V(n(444)),O=n(829),b=V(n(18)),M=V(n(9)),R=n(6025),P=n(844),L=n(6004),w=n(133),D=V(n(6016)),U=V(n(6364)),k=V(n(6153)),G=V(n(6187)),x=V(n(6365)),F=V(n(6580)),j=n(0),B=V(n(13)),H=V(n(5426));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $=(0,u.default)({UNSUPPORTED_OS:null,TEST_MODE:null,GIFT_ONLY:null,PREORDER:null}),q=880,X=o(A.default,{}),Q=function(e){function t(){var n,r,i,u,d=this;W(this,t);for(var f=arguments.length,h=Array(f),y=0;y<f;y++)h[y]=arguments[y];return n=r=K(this,e.call.apply(e,[this].concat(h))),r.state={paymentSourceId:null,skuPrice:_.default.getPrice(r.props.skuId)},r._loadId=s.default.v4(),r._stepStartTime=Date.now(),r._flowStartTime=Date.now(),r._paymentModalRef=l.createRef(),r.handlePaymentSourceChange=function(e){var t=r.props,n=t.applicationId,o=t.skuId;null!=e?(p.fetchPurchasePreview(n,o,e.id),r.setState({paymentSourceId:e.id})):(p.fetchPurchasePreview(n,o,null),r.setState({paymentSourceId:null}))},r.handlePurchase=(i=regeneratorRuntime.mark(function e(t){var n,o,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props,o=n.applicationId,i=n.sku,l=r.getPrice(),u=null!=l?l.amount:0,null!=i){e.next=5;break}throw new Error("SKU is null during purchase");case 5:if(!_.default.isPurchasingSKU){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,b.default.track(j.AnalyticEvents.PAYMENT_FLOW_COMPLETED,a({},r.getBaseAnalyticsData(),{duration_ms:Date.now()-r._flowStartTime})),e.next=11,p.purchaseSKU(o,i.id,{expectedAmount:u,paymentSourceId:t.id,analyticsLoadId:r._loadId,isGift:r.isGift});case 11:(0,c.acceptPurchaseTerms)(),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(7),b.default.track(j.AnalyticEvents.PAYMENT_FLOW_FAILED,a({},r.getBaseAnalyticsData(),{payment_gateway:t.type===j.PaymentSourceTypes.CARD?j.PaymentGateways.STRIPE:j.PaymentGateways.BRAINTREE,payment_source_id:t.id,duration_ms:Date.now()-r._flowStartTime,payment_error_code:e.t0.code})),e.t0;case 18:case"end":return e.stop()}},e,d,[[7,14]])}),u=function(){var e=i.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return u.apply(this,arguments)}),r.handleClose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,r.props.onClose)(e)},r.handleStepChange=function(e,t){var n=Date.now();b.default.track(j.AnalyticEvents.PAYMENT_FLOW_STEP,a({},r.getBaseAnalyticsData(),{from_step:e,to_step:t,step_duration_ms:n-r._stepStartTime,flow_duration_ms:n-r._flowStartTime})),r._stepStartTime=n,t===R.Steps.CONFIRM&&p.showPurchaseConfirmationStep()},r.renderHeader=function(e,t,n){var a=r.props.application;switch(e){case R.Steps.CONFIRM:return o(G.default,{application:a,splashSize:q});default:return r.renderDefaultHeader(e,t,n)}},r.renderConfirmation=function(){var e=r.props,t=e.application,n=e.sku,a=e.isIAP,i=e.giftCode;if(null==n)throw new Error("No SKU for confirmation step!");return o("div",{className:H.default.confirmContent},void 0,o(T.default,{direction:T.default.Direction.VERTICAL},void 0,o(N.default.CloseButton,{onClick:function(){return r.handleClose()},className:H.default.confirmCloseButton}),null!=i?o(x.default,{giftCode:i,application:t,sku:n,onClose:function(){return r.handleClose()}}):o(F.default,{application:t,sku:n,isIAP:a,onClose:function(){return r.handleClose()}})))},K(r,n)}return z(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.sku,r=t.skuId,o=t.applicationId;null==n?p.fetchSKU(o,r).catch(function(t){return e.handleClose(t.message)}):b.default.track(j.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},t.prototype.componentDidUpdate=function(e,t){null==e.sku&&null!=this.props.sku&&b.default.track(j.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData()),this.checkPriceChange(t.skuPrice,this.state.skuPrice)},t.prototype.checkPriceChange=function(e,t){var n=this.props,r=n.sku,o=n.onClose;null!=e&&null!=t&&e.discount_percent_off!==t.discount_percent_off&&f.default.wait(function(){if(null==r)throw new Error("Unexpected null SKU");o(j.PaymentModalPriceChangedError)})},t.getDerivedStateFromProps=function(e,t){var n=_.default.getPrice(e.skuId,t.paymentSourceId);return t.skuPrice!==n?{skuPrice:n}:null},t.prototype.getPrice=function(){var e=this.props,t=e.sku,n=e.isFetchingSKU;if(null==t||n)return null;var r=this.state,o=r.skuPrice,a=r.paymentSourceId;if(null!=o)return{amount:o.amount,tax:o.tax,taxInclusive:o.tax_inclusive,currency:o.currency};if(null==a){var i=t.getPrice();if(null==i)throw new Error("Sku Price cannot be null");return{amount:i.amount,tax:0,currency:i.currency,taxInclusive:!1}}return null},t.prototype.getBaseAnalyticsData=function(){var e=this.props,t=e.sku,n=e.analyticsLocation,r=e.appContext,o=e.promotionId;if(null==t)return{};var i=this.getPrice();return a({},t.getAnalyticsData(),{load_id:this._loadId,payment_type:"sku",is_gift:this.isGift,client_event_source:r===j.AppContext.OVERLAY?j.AppContext.OVERLAY:null,location:n,price:null!=i?i.amount:null,currency:null!=i?i.currency:null,location_promotion_id:o})},t.prototype.getHeaderText=function(e,t){if(e)return B.default.Messages.APPLICATION_STORE_PURCHASE_IAP;switch(t){case j.SKUTypes.GAME:return B.default.Messages.APPLICATION_STORE_PURCHASE_APPLICATION;case j.SKUTypes.DLC:return B.default.Messages.APPLICATION_STORE_PURCHASE_DLC;case j.SKUTypes.CONSUMABLE:return B.default.Messages.APPLICATION_STORE_PURCHASE_CONSUMABLE;case j.SKUTypes.BUNDLE:return B.default.Messages.APPLICATION_STORE_PURCHASE_BUNDLE}},t.prototype.renderPurchaseWarning=function(){var e=this.props,t=e.sku,n=e.isInTestMode,r=e.isIAP,a=e.isUserEntitledToSku;if(null==t)return null;var i=(0,w.nativePlatformTypeToSKUOperatingSystem)(M.default.getPlatform()),u=[];if(!(null!=i&&t.supportedOperatingSystems.includes(i)||r)){if(1!==t.supportedOperatingSystems.length)throw new Error("Unexpected number of supported operating systems");u.push(o(k.default,{icon:C.default.Names.WARNING_BOX,iconSize:k.default.Sizes.SMALL,color:k.default.Colors.WARNING,className:H.default.errorBlock},$.UNSUPPORTED_OS,B.default.Messages.APPLICATION_STORE_PURCHASE_GAME_UNSUPPORTED_OS.format({operatingSystem:(0,w.skuOperatingSystemToText)(t.supportedOperatingSystems[0])})))}return n&&u.push(o(k.default,{icon:C.default.Names.WARNING_BOX,iconSize:k.default.Sizes.SMALL,color:k.default.Colors.WARNING,className:H.default.errorBlock},$.TEST_MODE,B.default.Messages.APPLICATION_STORE_PURCHASE_TEST_MODE)),!0===a&&this.isGiftable&&u.push(o(k.default,{icon:C.default.Names.WARNING_BOX,iconSize:k.default.Sizes.SMALL,color:k.default.Colors.PRIMARY,className:H.default.errorBlock},$.GIFT_ONLY,B.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY)),t.isPreorder()&&u.push(o(k.default,{icon:C.default.Names.WARNING_BOX,iconSize:k.default.Sizes.SMALL,color:k.default.Colors.PRIMARY,className:H.default.errorBlock},$.PREORDER,B.default.Messages.APPLICATION_STORE_PURCHASE_WARNING_PREORDER.format({date:(0,L.getReadablePreorderReleaseDate)(t)}))),o(l.Fragment,{},void 0,u)},t.prototype.renderGenericError=function(e,t){return null==e&&null==t?null:o(D.default,{className:H.default.errorBlock},void 0,null!=e?e.message:null!=t?t.message:null)},t.prototype.renderDefaultHeader=function(e,t,n){var r=this,a=this.props,i=a.isIAP,l=a.application,u=a.sku,s=a.purchaseError;if(null==u)return null;var d=this.getPrice();return o(N.default.Header,{direction:T.default.Direction.VERTICAL,align:T.default.Align.START,separator:!1},void 0,o(G.default,{application:l,splashSize:q}),o(T.default,{align:T.default.Align.CENTER,className:H.default.headerHeader},void 0,o(O.FormTitle,{tag:O.FormTitleTags.H4},void 0,this.getHeaderText(i,u.type)),o(N.default.CloseButton,{onClick:function(){return r.handleClose()}})),o(T.default,{align:T.default.Align.CENTER,className:H.default.headerContent},void 0,o(T.default,{align:T.default.Align.CENTER},void 0,o(I.default,{game:l}),o("div",{className:H.default.applicationName},void 0,u.name)),o("div",{className:H.default.price},void 0,null!=d?(0,P.formatPrice)(d.amount,d.currency):o(A.default,{type:A.default.Type.PULSING_ELLIPSIS,className:H.default.priceSpinner}))),this.renderPurchaseWarning(),this.renderGenericError(s,n),t.length>1?o(S.default,{activeId:e,breadcrumbs:t,className:H.default.breadcrumbs}):null)},t.prototype.render=function(){var e=this,t=this.props,n=t.sku,r=t.isFetchingSKU,o=t.isPurchasing,a=t.purchaseError,i=t.isUserEntitledToSku,u=t.forceConfirmationStepOnMount;return null==n||r?X:l.createElement(U.default,{ref:this._paymentModalRef,canSubmit:null!=this.state.skuPrice,needsToBeGift:n.type===j.SKUTypes.GAME&&!0===i,isGiftable:this.isGiftable,isPurchasing:o,purchaseError:a,price:this.getPrice(),size:H.default.modalSize,onPurchase:this.handlePurchase,onIsGiftUpdate:h.updateSKUPaymentIsGift,onPaymentSourceChange:this.handlePaymentSourceChange,onClose:function(){return e.handleClose()},onClearError:p.clearPurchaseError,renderHeader:this.renderHeader,renderConfirmationBody:this.renderConfirmation,submitButtonText:this.isGift?B.default.Messages.APPLICATION_STORE_BUY_GIFT:B.default.Messages.APPLICATION_STORE_BUY,initialStep:u?R.Steps.CONFIRM:null,onStepChange:this.handleStepChange,isGift:this.isGift})},i(t,[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"isGiftable",get:function(){var e=this.props.sku;return null!=e&&e.isGiftable(this.getPrice())}},{key:"isGift",get:function(){return this.props.isGift&&this.isGiftable}}]),t}(l.PureComponent);Q.displayName="SKUPayment";var J=d.default.connectStores([y.default,E.default,_.default,g.default,v.default,m.default],function(e){var t=e.applicationId,n=e.skuId,r=e.location;return{application:y.default.getGame(t),sku:E.default.get(n),location:r,skuId:n,applicationId:t,isFetchingSKU:E.default.isFetching(n),isPurchasing:_.default.isPurchasingSKU,purchaseError:_.default.error,analyticsLocation:_.default.analyticsLocation,promotionId:_.default.promotionId,isIAP:_.default.isIAP,giftCode:_.default.giftCode,isGift:_.default.isGift,forceConfirmationStepOnMount:_.default.forceConfirmationStepOnMount,isInTestMode:g.default.inTestModeForApplication(t),isUserEntitledToSku:v.default.isEntitledToSku(m.default.getNullableCurrentUser(),n,t)}})(Q),Z=function(e){function t(){var n,r;W(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=K(this,e.call.apply(e,[this].concat(a))),r._skuPaymentModalRef=l.createRef(),K(r,n)}return z(t,e),t.prototype.close=function(){null!=this._skuPaymentModalRef.current&&this._skuPaymentModalRef.current.closable&&this.handleClose()},t.prototype.handleClose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h.closeSKUPaymentModal(e)},t.prototype.render=function(){return l.createElement(J,a({},this.props,{ref:this._skuPaymentModalRef,onClose:this.handleClose}))},t}(l.PureComponent);Z.modalConfig={closable:!0,store:_.default},Z.displayName="SKUPaymentModal",t.default=Z,e.exports=t.default},7134:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=F(n(2)),i=x(n(159)),l=x(n(5)),u=x(n(4)),s=x(n(1)),d=F(n(834)),f=F(n(865)),c=F(n(928)),p=F(n(321)),h=x(n(6366)),y=x(n(7135)),m=x(n(35)),v=x(n(6099)),_=x(n(179)),E=x(n(128)),g=x(n(152)),S=x(n(222)),T=n(6367),I=x(n(6368)),C=n(829),N=x(n(18)),A=x(n(225)),O=n(844),b=x(n(45)),M=n(325),R=x(n(6016)),P=x(n(6176)),L=x(n(6369)),w=x(n(6370)),D=n(0),U=x(n(13)),k=x(n(899)),G=x(n(5661));function x(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=(0,M.cssValueToNumber)(k.default.innerPadding),Y=(0,i.default)({CONFIRM:null,DONE:null}),W=[Y.CONFIRM,Y.DONE];var K=function(e){function t(n){j(this,t);var r=B(this,e.call(this,n));z.call(r);var o=function(e,t){if(null==e.plan)return A.default.getPrice(t).amount;var n=A.default.calculateSubscriptionPeriod(e.plan,e.currentPeriodStart),r=n[0],o=n[1],a=(0,l.default)(o).diff(r,"seconds"),i=Math.max((0,l.default)(e.currentPeriodEnd).diff((0,l.default)(),"seconds"),0),u=null!=e.plan?A.default.getPrice(e.plan).amount:0;return A.default.getPrice(t).amount-i/a*u}(n.subscription,n.selectedPlan);return r.state={amount:o,playingAnimationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,step:Y.CONFIRM},r}return H(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.selectedPlan,n=e.followupSKUInfo,r=e.followupSKU,o=this.state.amount;if(null!=n&&null==r){var a=n.applicationId,i=n.id;p.fetchSKU(a,i).catch(D.NOOP_NULL)}N.default.track(D.AnalyticEvents.PREMIUM_UPGRADE_STARTED,{plan:t,price_shown:Math.round(o)})},t.prototype.componentWillUnmount=function(){s.default.wait(function(){return f.clearError()})},t.prototype.shouldShake=function(){var e=this.state,t=e.playingAnimationSceneTier1,n=e.playingAnimationSceneTier2;return T.ShakeScenes.has(t)||T.ShakeScenes.has(n)},t.prototype.renderError=function(){var e=this.props.paymentError;return null==e?null:o(R.default,{className:G.default.error},void 0,e.message)},t.prototype.renderConfirmBody=function(){var e=this.props,t=e.subscription,n=e.selectedPlan,r=this.state.amount,i=t.plan,l=A.default.getDisplayName(n);if(null==n||null==i||null==r)return null;var u=void 0,s=A.default.getInterval(n),d=(0,O.formatPrice)(r,D.CurrencyCodes.USD);if(function(e,t){var n=e!==D.SubscriptionPlans.PREMIUM_MONTH_TIER_2&&e!==D.SubscriptionPlans.PREMIUM_YEAR_TIER_2,r=t===D.SubscriptionPlans.PREMIUM_MONTH_TIER_2||t===D.SubscriptionPlans.PREMIUM_YEAR_TIER_2;return n&&r}(i,n)){var f=A.default.getInterval(i);u=s===D.SubscriptionIntervalTypes.YEAR?f===D.SubscriptionIntervalTypes.MONTH?U.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_YEAR.format({planPremiumType:A.default.getDisplayPremiumType(i),price:d}):U.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_YEAR_TIER_2_YEAR.format({planPremiumType:A.default.getDisplayPremiumType(i),price:d}):U.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_MONTH.format({planPremiumType:A.default.getDisplayPremiumType(i),price:d})}else u=U.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_YEAR.format({price:d});return o(a.Fragment,{},void 0,o(C.FormTitle,{tag:C.FormTitleTags.H4,className:G.default.title},void 0,U.default.Messages.PREMIUM_UPGRADE_CONFIRM_TITLE.format({plan:l})),this.renderError(),o("div",{className:G.default.message},void 0,u))},t.prototype.render=function(){var e=this.props,t=e.selectedPlan,n=e.theme,r=e.followupSKU,a=e.busy,i=this.state.step,l=this.shouldShake(),u=A.default.getPremiumType(t);return o(I.default,{isShaking:l,intensity:2},void 0,o(S.default,{className:G.default.modal},void 0,o(S.default.Header,{className:G.default.header,direction:g.default.Direction.VERTICAL,align:g.default.Align.START,separator:!1},void 0,o(w.default,{shouldShowPrice:!1,plan:t,isGift:!1,renderAnimation:this.renderAnimation,onClose:this.close})),o(S.default.Content,{},void 0,o(P.default,{step:i,steps:W,sideMargin:V},void 0,i===Y.CONFIRM?this.renderConfirmBody():o(L.default,{onClose:this.close,onViewGames:this.navigateToPremiumGames,premiumType:u,isUpgrade:!0,followupSKU:r,theme:n}))),i===Y.CONFIRM?o(S.default.Footer,{},void 0,o(g.default,{justify:g.default.Justify.END},void 0,o(E.default,{onClick:this.close,look:E.default.Looks.LINK,color:G.default.secondaryButton},void 0,U.default.Messages.NEVERMIND),o(E.default,{onClick:this.confirm,color:E.default.Colors.BRAND,disabled:a},void 0,U.default.Messages.PREMIUM_UPGRADE_CONFIRM_BUTTON))):null))},t}(a.Component),z=function(){var e,t=this;this.close=function(){var e=t.props.onClose;e&&e()},this.confirm=(e=regeneratorRuntime.mark(function e(){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.subscription,null!=(o=n.selectedPlan)){e.next=3;break}return e.abrupt("return");case 3:return t.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.BOOST_START}),e.prev=4,e.next=7,f.upgrade(r,o);case 7:t.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.BOOST_END,step:Y.DONE}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),t.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.ERROR});case 13:case"end":return e.stop()}},e,t,[[4,10]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}),this.navigateToPremiumGames=function(){b.default.transitionTo(D.Routes.APPLICATION_STORE_BROWSE),d.popLayer(),t.close()},this.handleAnimationScenePlayTier1=function(e){return t.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},this.handleAnimationScenePlayTier2=function(e){return t.setState({animationSceneTier2:T.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},this.renderAnimation=function(){var e=t.props.selectedPlan;return A.default.getPremiumType(e)===D.PremiumTypes.TIER_1?o(T.PremiumPaymentAnimationTier1,{className:G.default.headerAnimation,scene:t.state.animationSceneTier1,onScenePlay:t.handleAnimationScenePlayTier1}):o(T.PremiumPaymentAnimationTier2,{className:G.default.headerAnimation,scene:t.state.animationSceneTier2,onScenePlay:t.handleAnimationScenePlayTier2})}};K.displayName="UpgradeConfirm";var $=u.default.connectStores([h.default,m.default,v.default,_.default,y.default],function(){var e=y.default.followupSKUInfo;return{theme:m.default.theme,paymentError:h.default.paymentError,busy:v.default.isBusy,followupSKUInfo:e,followupSKU:null!=e?_.default.get(e.id):null,subscription:y.default.currentSubscription,paymentSource:y.default.paymentSource,selectedPlan:y.default.selectedPlan}})(K),q=function(e){function t(){return j(this,t),B(this,e.apply(this,arguments))}return H(t,e),t.prototype.close=function(){c.closeModal()},t.prototype.render=function(){return o($,{onClose:this.close})},t}(a.Component);q.modalConfig={store:y.default},q.displayName="UpgradeConfirmModal",t.default=q,e.exports=t.default},7135:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(4)),a=l(n(1)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=null,s=i.FormStates.CLOSED,d=null,f=!1,c=null,p=null,h=null,y=void 0,m=void 0;function v(){null!=y&&f?y():null!=m&&m(),y=null,m=null}function _(){u=null,p=null,f=!1,s=i.FormStates.CLOSED}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){var e=__OVERLAY__?i.AppContext.OVERLAY:i.AppContext.APP;return u===e&&s===i.FormStates.OPEN},r(t,[{key:"paymentSource",get:function(){return c}},{key:"selectedPlan",get:function(){return h}},{key:"currentSubscription",get:function(){return d}},{key:"followupSKUInfo",get:function(){return p}}]),t}(o.default.Store);t.default=new E(a.default,{PREMIUM_UPGRADE_MODAL_OPEN:function(e){null!=m&&m(),_(),u=e.context,h=e.selectedPlan,d=e.currentSubscription,c=e.paymentSource,p=e.followupSKUInfo,y=e.resolve,m=e.reject,s=i.FormStates.OPEN},PREMIUM_UPGRADE_MODAL_CLOSE:function(e){return v(),void _()},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:function(e){var t=e.subscription;null!=d&&t.plan_id!==d.planId&&(f=!0)},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==u)return!1;_(),v()}}),e.exports=t.default},7136:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={clearVADWarning:function(){a.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_VAD_WARNING})},clearSuppressWarning:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_SUPPRESS_WARNING,forever:e})},clearPTTAdminWarning:function(){a.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_PTT_ADMIN_WARNING})}},e.exports=t.default},7137:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=S(n(17)),l=n(505),u=S(n(7138)),s=n(5979),d=S(s),f=S(n(128)),c=S(n(306)),p=S(n(222)),h=S(n(110)),y=S(n(6040)),m=S(n(460)),v=n(0),_=S(n(13)),E=S(n(5351)),g=S(n(5662));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=44,A=function(e){var t=e.channel,n=e.categoryName,r=e.guildName,a=c.default.Names.CHANNEL_TEXT;return t.isRoleRequired?a=c.default.Names.CHANNEL_TEXT_LIMITED:t.isNSFW&&(a=c.default.Names.CHANNEL_TEXT_NSFW),o("div",{className:g.default.result},void 0,o(c.default,{name:a,className:g.default.resultIcon,background:g.default.resultIconBackground,width:16,height:16}),o("div",{className:g.default.resultText},void 0,o("span",{},void 0,t.name),o("span",{className:g.default.resultCategoryName},void 0,n)),o("div",{className:g.default.resultGuildName},void 0,r))};A.displayName="ResultTextChannel";var O=function(e){var t=e.channel;return o("div",{className:g.default.result},void 0,o(d.default,{src:t.getIconURL(),className:g.default.resultAvatar,size:s.AvatarSizes.SMALL}),o("div",{className:g.default.resultText},void 0,t.toString()))};O.displayName="ResultGroupDM";var b=function(e){var t=e.user,n=e.comparator,r=e.status,a=void 0;if(null!=n&&n===t.tag){var i=n.split("#");i.pop(),a=i.join("#")}else a=n||t.username;return o("div",{className:g.default.result},void 0,o(d.default,{src:t.avatarURL,className:g.default.resultAvatar,size:s.AvatarSizes.SMALL,status:r}),o("div",{className:g.default.resultText},void 0,o("span",{},void 0,a),o("span",{className:g.default.resultUsername},void 0,t.tag)))};b.displayName="ResultUser";var M=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props;(0,e.onInvite)(e.row)},r.handleMouseEnter=function(){var e=r.props;(0,e.onMouseEnter)(e.row)},I(r,n)}return C(t,e),t.prototype.render=function(){var e,t=void 0,n=this.props,r=n.result,a=n.selected,l=n.sending;switch(r.type){case v.AutocompleterResultTypes.GROUP_DM:t=o(O,{channel:r.data.record});break;case v.AutocompleterResultTypes.TEXT_CHANNEL:var u=r.categoryName,s=r.guildName;t=o(A,{channel:r.data.record,categoryName:u,guildName:s});break;case v.AutocompleterResultTypes.USER:var d=r.data,c=d.comparator,p=d.record,h=r.status;t=o(b,{comparator:c,user:p,status:h})}var y=void 0;return y=r.sent?o(f.default,{className:g.default.inviteButton,look:f.default.Looks.LINK,size:f.default.Sizes.SMALL,disabled:!0,color:f.default.Colors.GREY},void 0,_.default.Messages.ACTIVITY_INVITE_MODAL_SENT):o(f.default,{color:f.default.Colors.GREEN,look:a?f.default.Looks.FILLED:f.default.Looks.OUTLINED,className:g.default.inviteButton,size:f.default.Sizes.SMALL,submitting:l,onClick:this.handleClick},void 0,_.default.Messages.ACTIVITY_INVITE_MODAL_INVITE),o("div",{className:(0,i.default)(g.default.resultWrapper,(e={},e[g.default.resultWrapperSelected]=a,e)),onMouseEnter:this.handleMouseEnter},void 0,t,y)},t}(a.Component);M.displayName="Result";var R=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.state={query:"",selectedRow:0,sending:[]},r.close=function(){var e=r.props.onClose;(0,l.closeModal)(),null!=e&&e()},r.handleMouseEnter=function(e){r.setState({selectedRow:e})},r.handleInvite=function(e){var t=r.props.results[e],n=t.data,o=t.data.record.id,a=r.state.sending;if(null!=o&&!a.includes(o))switch(r.setState({sending:[].concat(a,[o])}),n.type){case v.AutocompleterResultTypes.GROUP_DM:case v.AutocompleterResultTypes.TEXT_CHANNEL:(0,l.inviteChannel)(n.record.id);break;case v.AutocompleterResultTypes.USER:(0,l.inviteUser)(n.record.id)}},r.handleSelect=function(e,t){null==t?r.handleClear():r.handleInvite(t)},r.handleSelectionChange=function(e,t){r.setState({selectedRow:t});var n=r.getScroller();null!=n&&n.scrollIntoViewRect(t*N,t*N+N)},r.handleQueryChange=function(e){r.setState({query:e,selectedRow:0},function(){return r.query()})},r.handleClear=function(){r.setState({query:"",selectedRow:0},function(){return r.query()})},r._handleModalRef=function(e){r._modal=e},I(r,n)}return C(t,e),t.prototype.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},t.prototype.query=function(){(0,l.updateQuery)(this.state.query)},t.prototype.render=function(){var e=this,t=this.props,n=t.activity,r=t.isPrivate,i=t.results,l=t.headerClassName,u=t.renderFooter,s=this.state,d=s.query,f=s.selectedRow,c=s.sending;return r?o(m.default,{title:_.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name}),body:_.default.Messages.ACTIVITY_INVITE_PRIVATE,confirmText:_.default.Messages.OKAY,onConfirm:this.close}):a.createElement(p.default,{className:g.default.wrapper,ref:this._handleModalRef},o(p.default.Header,{className:l},void 0,o(p.default.CloseButton,{className:g.default.closeButton,onClick:this.close}),o("div",{className:g.default.header},void 0,o(h.default,{tag:h.default.Tags.H2,className:E.default.marginBottom8},void 0,_.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name})),o(y.default,{query:d,selectedSection:0,selectedRow:f,sections:[i.length],className:E.default.marginTop4,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,light:!1,placeholder:_.default.Messages.ACTIVITY_INVITE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===i.length?o("div",{className:g.default.noResults}):o(p.default.LazyContent,{className:g.default.results,elementHeight:N,paddingBottom:14,keyboardScroll:!0},void 0,i.map(function(t,n){return o(M,{row:n,result:t,sending:null!=t.data.record.id&&c.includes(t.data.record.id),selected:n===f,onMouseEnter:e.handleMouseEnter,onInvite:e.handleInvite},t.data.record.id)})),u&&u())},t}(a.PureComponent);R.modalConfig={closable:!0,store:u.default},R.displayName="ActivityInviteModal",t.default=R,e.exports=t.default},7138:function(e,t,n){"use strict";t.__esModule=!0;var r=h(n(4)),o=h(n(1)),a=h(n(878)),i=h(n(6202)),l=h(n(22)),u=h(n(28)),s=h(n(191)),d=h(n(132)),f=h(n(15)),c=h(n(457)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=void 0,m=p.AppContext.APP,v=null,_=void 0,E=[],g=void 0;function S(){y=null,g=!1,null!=_&&(_.destroy(),_=null),null!=v&&v()}function T(){var e=null!=y&&null!=y.application_id?s.default.getApplicationActivity(y.application_id):null;if(null!=y&&(null==e||null==e.party||null==e.party.id))return S()}var I=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default)},t.prototype.isOpen=function(){if(null==y)return!1;var e=__OVERLAY__?p.AppContext.OVERLAY:p.AppContext.APP;return m===e},t.prototype.getProps=function(){if(null==y)throw new Error("Invalid activity.");return{activity:y,isPrivate:g,query:null!=_?_.query:"",results:null!=_?_.results.map(function(e){switch(e.type){case p.AutocompleterResultTypes.USER:var t=e.record;return{type:p.AutocompleterResultTypes.USER,sent:E.includes(t.id),status:d.default.getStatus(t.id),data:e};case p.AutocompleterResultTypes.TEXT_CHANNEL:var n=e.record,r=l.default.getChannel(n.parent_id),o=u.default.getGuild(n.guild_id);return{type:p.AutocompleterResultTypes.TEXT_CHANNEL,sent:E.includes(n.id),categoryName:null!=r?r.toString():"",guildName:null!=o?o.toString():"",data:e};case p.AutocompleterResultTypes.GROUP_DM:var a=e.record;return{type:p.AutocompleterResultTypes.GROUP_DM,sent:E.includes(a.id),data:e};default:throw new Error("Unknown Result Type: "+e.type)}}):[]}},t}(r.default.Store))(o.default,{ACTIVITY_INVITE_MODAL_OPEN:function(e){y=e.activity,m=e.context,v=e.resolve,g=e.isPrivate,E=[],null==_&&(_=new i.default(function(){return I.emitChange()},[p.AutocompleterResultTypes.TEXT_CHANNEL,p.AutocompleterResultTypes.GROUP_DM,p.AutocompleterResultTypes.USER],function(e){var t=[];return c.default.getPrivateChannelIds().forEach(function(n){var r=l.default.getChannel(n);if(null!=r)if(r.type===p.ChannelTypes.DM){var o=r.getRecipientId(),a=null!=o?f.default.getUser(o):null;null!=a&&t.push(e.createResult(p.AutocompleterResultTypes.USER,a))}else r.type===p.ChannelTypes.GROUP_DM&&t.push(e.createResult(p.AutocompleterResultTypes.GROUP_DM,r))}),t})),_.search("")},ACTIVITY_INVITE_MODAL_QUERY:function(e){var t=e.query;null!=_&&_.search(t)},ACTIVITY_INVITE_MODAL_SEND:function(e){null!=y&&(e.channelId?a.default.sendActivityInvite({channelId:e.channelId,type:p.ActivityActionTypes.JOIN,activity:y,location:"Channel Text Area - Invite to Join Modal"}).then(function(){E=[].concat(E,[e.channelId]),I.emitChange()}):e.userId&&a.default.sendActivityInviteUser({userId:e.userId,type:p.ActivityActionTypes.JOIN,activity:y,location:"Channel Text Area - Invite to Join Modal"}).then(function(){E=[].concat(E,[e.userId]),I.emitChange()}))},ACTIVITY_INVITE_MODAL_CLOSE:function(e){return S()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==y||(S(),0))},LOCAL_ACTIVITY_UPDATE:function(e){return T()},RPC_APP_DISCONNECTED:function(e){return T()}});t.default=I,e.exports=t.default},7139:function(e,t,n){var r={"./2017-11-16.mp4":8175,"./discriminator.mp4":8176,"./g250k-cl.mp4":8177,"./header.mp4":8178,"./league-rp-cl.mp4":8179,"./store.jpg":8180};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=7139},7140:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(6133)),l=_(n(12)),u=_(n(7141)),s=_(n(128)),d=_(n(450)),f=_(n(222)),c=_(n(129)),p=_(n(828)),h=_(n(448)),y=_(n(110)),m=_(n(13)),v=_(n(5663));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRef=function(e){r._input=e},r.renderWarning=function(){var e=r.props.user;return null==e||e.id===l.default.getId()?null:o(d.default,{type:d.default.Types.WARNING,className:v.default.card},void 0,o(c.default,{color:c.default.Colors.WHITE,size:c.default.Sizes.MEDIUM},void 0,m.default.Messages.CHANGE_NICKNAME_WARNING))},r.renderInput=function(){var e=r.props,t=e.user,n=e.errors,a=r.state.nick,i=void 0;return n.nick&&(i=o(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.RED,className:v.default.error},void 0,n.nick)),o(h.default,{title:m.default.Messages.NICKNAME,className:v.default.input},void 0,o(p.default,{inputRef:r.setRef,value:a,placeholder:null!=t?""+t.toString():"",onChange:r.handleNickChange,autoFocus:!0}),i)},r.renderReset=function(){return o(s.default,{look:s.default.Looks.LINK,size:s.default.Sizes.NONE,onClick:r.handleReset,color:c.default.Colors.PRIMARY,className:v.default.reset},void 0,m.default.Messages.RESET_NICKNAME)},r.renderHeader=function(){return o(f.default.Header,{},void 0,o(y.default,{tag:y.default.Tags.H4},void 0,m.default.Messages.CHANGE_NICKNAME))},r.renderFooter=function(){var e=r.props.submitting;return o(f.default.Footer,{},void 0,o(s.default,{type:"submit",disabled:e},void 0,m.default.Messages.SAVE),o(s.default,{onClick:r.close,look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY},void 0,m.default.Messages.CANCEL))},r.handleReset=function(){var e=r._input;r.setState({nick:""}),null!=e&&e.focus()},r.handleSubmit=function(e){e.preventDefault();var t=r.props,n=t.user,o=t.guildId;i.default.changeNickname(o,n.id,r.state.nick)},r.handleNickChange=function(e){r.setState({nick:e})},r.state={nick:n.nick||""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){i.default.close()},t.prototype.componentDidMount=function(){var e=this._input;null!=e&&e.select()},t.prototype.render=function(){return o(f.default,{tag:"form",onSubmit:this.handleSubmit},void 0,this.renderHeader(),o(f.default.Content,{},void 0,this.renderWarning(),this.renderInput(),this.renderReset()),this.renderFooter())},t}(a.PureComponent);E.modalConfig={store:u.default},E.displayName="ChangeNickname",t.default=E,e.exports=t.default},7141:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(1)),a=u(n(72)),i=u(n(15)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=l.FormStates.CLOSED,d=void 0,f=void 0,c=void 0,p={};function h(){s=l.FormStates.CLOSED,d=null,c=null,f=null,p={}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default)},t.prototype.isOpen=function(){return s!==l.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:s===l.FormStates.SUBMITTING,errors:p,guildId:d,nick:c,user:f}},t}(r.default.Store);t.default=new y(o.default,{CHANGE_NICKNAME_MODAL_OPEN:function(e){s=l.FormStates.OPEN,d=e.guildId,p={};var t=a.default.getMember(d,e.userId);f=i.default.getUser(e.userId),null==t||null==f?h():c=t.nick},CHANGE_NICKNAME_MODAL_SUBMIT:function(e){s=l.FormStates.SUBMITTING},CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE:function(e){s=l.FormStates.OPEN,p=e.errors||{}},CHANGE_NICKNAME_MODAL_CLOSE:function(e){return h()}}),e.exports=t.default},7142:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(4)),l=E(n(7143)),u=E(n(7144)),s=E(n(35)),d=E(n(152)),f=E(n(313)),c=n(6009),p=E(n(82)),h=E(n(9)),y=E(n(6154)),m=E(n(13)),v=E(n(5351)),_=E(n(5664));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=i.default.connectStores([s.default],function(){return{theme:s.default.theme}})(y.default),T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.acceptInvite=function(){var e=r.props.invite;l.default.acceptInvite(e)},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){__OVERLAY__||(h.default.isWindows()?h.default.minimize():h.default.restore(),h.default.focus())},t.prototype.close=function(){l.default.close()},t.prototype.render=function(){var e=this.props,t=e.invite,n=e.error,r=e.submitting;if(null==t||null==t.channel)return null;var a=t.guild,i=t.channel,l=t.inviter,u=null!=a,s=void 0,h=void 0;if(null!=a)s=a.name,h=p.default.getGuildSplashURL({id:a.id,splash:a.splash});else if((s=i.name)||null==l||(s=l.username),null==s)throw new Error("no name for group DM invite");return o("div",{className:_.default.container},void 0,o("div",{className:_.default.contentWrapper},void 0,o(f.default,{className:_.default.scroller,theme:f.default.Themes.GHOST_HAIRLINE},void 0,o(d.default,{className:_.default.inviteContent,direction:d.default.Direction.VERTICAL,justify:d.default.Justify.BETWEEN},void 0,o("div",{className:v.default.marginBottom20},void 0,o(S,{invite:t,disableUser:u,error:n})),o("div",{className:v.default.marginBottom20},void 0,o(c.Button,{size:c.Button.Sizes.LARGE,onClick:this.acceptInvite,submitting:r},void 0,m.default.Messages.INVITE_MODAL_BUTTON.format({guildName:s})),o(d.default,{justify:d.default.Justify.CENTER,className:v.default.marginTop8},void 0,o(c.Button,{look:c.Button.Looks.LINK,onClick:this.close},void 0,m.default.Messages.INIVTE_MODAL_NO_THANKS)))))),null!=h&&o("div",{className:_.default.inviteSplash,style:{backgroundImage:"url("+h+")"}}))},t}(a.PureComponent);T.modalConfig={closable:!0,store:u.default},T.displayName="Invite",t.default=T,e.exports=t.default},7143:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(1)),o=l(n(318)),a=n(0),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default={acceptInvite:function(e){var t=this,n=o.default.getInviteContext("Desktop Invite Modal",e);o.default.acceptInvite(e.code,n).then(function(e){null==e||null==e.guild||null==e.channel||__OVERLAY__||o.default.transitionToInvite(e),t.close()},function(e){r.default.dispatch({type:a.ActionTypes.INVITE_MODAL_ERROR,message:e.toString()||i.default.Messages.INVITE_MODAL_ERROR_DEFAULT})})},close:function(){r.default.dispatch({type:a.ActionTypes.INVITE_MODAL_CLOSE})}},e.exports=t.default},7144:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(4)),a=f(n(1)),i=f(n(324)),l=f(n(22)),u=f(n(28)),s=f(n(6059)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=d.AppContext.APP,p=!1,h=void 0,y=!1,m=[];function v(){p=!0}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,s.default)},t.prototype.isOpen=function(){var e=__OVERLAY__?d.AppContext.OVERLAY:d.AppContext.APP;return p&&m.length&&c===e},t.prototype.getProps=function(){return{invite:m.length>0?m[0][0]:null,error:h||null,submitting:y}},t}(o.default.Store);t.default=new _(a.default,{OVERLAY_INITIALIZE:function(e){return v()},CONNECTION_OPEN:function(e){return v()},CONNECTION_CLOSED:function(e){p=!1},INVITE_MODAL_OPEN:function(e){var t=e.invite;if(null==t)return!1;var n=t.channel,o=t.guild;if(null==n)return!1;if(n.type!==d.ChannelTypes.GROUP_DM){if(null==o)return!1;if(null!=u.default.getGuild(o.id))return!1}else if(null!=l.default.getChannel(n.id))return!1;if(m.some(function(e){return e[0].code===f}))return!1;var a=t.approximate_member_count,s=t.approximate_presence_count,f=t.code;c=e.context,y=!1;var p={code:f,approximate_member_count:a,approximate_presence_count:s,channel:r({},t.channel)};t.guild&&(p.guild=new i.default(o)),t.inviter&&(p.inviter=r({},t.inviter)),m.push([p,e.resolve])},INVITE_MODAL_CLOSE:function(e){return function(){if(h=null,y=!1,m.length>0){var e=m.shift()[1];null!=e&&e()}}()},INVITE_ACCEPT:function(e){y=!0},INVITE_MODAL_ERROR:function(e){var t=e.message;h=t,y=!1}}),e.exports=t.default},7145:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=R(n(17)),l=R(n(6)),u=R(n(32)),s=R(n(4)),d=n(6091),f=R(n(6014)),c=R(n(22)),p=R(n(6041)),h=R(n(28)),y=R(n(6201)),m=R(n(315)),v=R(n(6081)),_=R(n(311)),E=n(6615),g=n(109),S=R(n(314)),T=n(6313),I=R(n(7146)),C=R(n(6180)),N=R(n(850)),A=n(0),O=R(n(13)),b=R(n(5363)),M=R(n(5669));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D={top:15,bottom:10},U=function(){return o("div",{className:M.default.emptyState},void 0,o("div",{className:M.default.emptyStateNote},void 0,O.default.Messages.QUICKSWITCHER_EMPTY_TEXT),o("div",{className:M.default.emptyStateCTA},void 0,o(_.default,{href:S.default.getArticleURL(A.HelpdeskArticles.QUICK_SWITCHER_TUTORIAL)},void 0,O.default.Messages.QUICKSWITCHER_EMPTY_CTA)))};U.displayName="QuickSwitcherNoResults";var k=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=h.default.getGuild(this.props.channel.guild_id);return a.createElement(E.Channel,this.props,o("div",{className:M.default.miscContainer},void 0,null!=e?e.name:null))},t}(a.Component);k.defaultProps={unread:!1},k.displayName="ExtendedChannel";var G=s.default.connectStores([m.default],function(e){var t=e.channel;return{unread:m.default.hasUnread(t.id),mentions:m.default.getMentionCount(t.id),category:c.default.getChannel(t.parent_id)}})(k),x=s.default.connectStores([v.default],function(e){var t=e.channel;if(null==t.guild_id)throw new Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:v.default.getVoiceStates(t.guild_id)[t.id]}})(k),F=s.default.connectStores([p.default],function(e){var t=e.guild;return{unread:p.default.hasUnread(t.id)}})(E.Guild),j=s.default.connectStores([m.default],function(e){var t=e.channel;return{mentions:m.default.getMentionCount(t.id)}})(E.GroupDM),B=s.default.connectStores([m.default],function(e){var t=e.user,n=c.default.getDMFromUserId(t.id);return{mentions:null!=n?m.default.getMentionCount(n):0}})(E.User),H=o(U,{}),V=function(e){function t(n){P(this,t);var r=L(this,e.call(this,n));return l.default.bindAll(r,["handleKeyDown","handleInputChange","handleKeyDown","handleMouseMove","handleInputChange","focusResult","selectResult","setInputRef","setScrollerRef","forceFocus"]),r.state={query:n.query,needsScrollbar:"Blink"!==u.default.layout&&"WebKit"!==u.default.layout,mouseFocusDisabled:!0},r}return w(t,e),t.prototype.componentDidMount=function(){f.default.disable(),this.focus()},t.prototype.componentWillUnmount=function(){f.default.enable()},t.prototype.getScroller=function(){return this._scrollerRef},t.prototype.componentDidUpdate=function(){var e=this.state.mouseFocusDisabled,t=this.props.selectedIndex,n=this.getScroller();n&&e&&t>=0&&n.scrollIndexIntoView(t,!1,D)},t.prototype.getInput=function(){return this._inputRef},t.prototype.close=function(){(0,d.hide)()},t.prototype.search=function(e){this.setState({query:e}),(0,d.search)(e)},t.prototype.focus=function(){var e=this.getInput();null!=e&&e.focus()},t.prototype.handleInputChange=function(){var e=this.getInput();null!=e&&this.search(e.value)},t.prototype.handleMouseMove=function(){!1!==this.state.mouseFocusDisabled&&this.setState({mouseFocusDisabled:!1})},t.prototype.focusResult=function(e){this.state.mouseFocusDisabled||(0,d.selectResult)(this.props.results.indexOf(e))},t.prototype.selectResult=function(e){null!=e&&e.type!==A.AutocompleterResultTypes.HEADER&&(0,d.switchToResult)(e)},t.prototype.handleKeyDown=function(e){var t=this.state,n=t.mouseFocusDisabled,r=t.query,o=this.props.results;!1===n&&this.setState({mouseFocusDisabled:!0});var a=e.key.toLowerCase(),i=this.props.selectedIndex;switch(a){case"escape":return e.preventDefault(),e.stopPropagation(),void(r.length>0?this.search(""):(0,d.hide)());case"k":return void(!0!==e.ctrlKey&&!0!==e.metaKey||(e.preventDefault(),e.stopPropagation(),(0,d.hide)()));case"enter":if(-1===i)return;return e.preventDefault(),void this.selectResult(o[i]);case"arrowup":i=(0,T.findNextSelected)("up",i,o);break;case"arrowdown":i=(0,T.findNextSelected)("down",i,o);break;case"tab":i=e.shiftKey?(0,T.findNextSelected)("up",i,o):(0,T.findNextSelected)("down",i,o);break;case"n":if(!e.ctrlKey)return;i=(0,T.findNextSelected)("down",i,o);break;case"p":if(!e.ctrlKey)return;i=(0,T.findNextSelected)("up",i,o);break;default:return}e.preventDefault(),(0,d.selectResult)(i)},t.prototype.setScrollerRef=function(e){this._scrollerRef=e},t.prototype.setInputRef=function(e){this._inputRef=e},t.prototype.forceFocus=function(){this._inputRef&&this._inputRef.focus()},t.prototype.renderInput=function(){return a.createElement("input",{className:M.default.input,ref:this.setInputRef,type:"text",placeholder:O.default.Messages.QUICKSWITCHER_PLACEHOLDER,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onBlur:this.forceFocus,value:this.state.query})},t.prototype.renderResults=function(){var e=this.state,t=e.query,n=e.needsScrollbar,r=this.props,o=r.results,l=r.theme;return 0===o.length&&t.length>0?H:0===o.length?null:a.createElement(N.default,{ref:this.setScrollerRef,elementHeight:34,theme:N.default.Themes.GHOST,backgroundColor:l===A.ThemeTypes.LIGHT?A.Colors.PRIMARY_DARK_100:A.Colors.PRIMARY_DARK_630,paddingTop:D.top,paddingBottom:D.bottom,outerClassName:(0,i.default)(M.default.scrollerOuter,n?M.default.polyfilled:null),className:M.default.scroller},o.map(this.renderResult,this))},t.prototype.focusNode=function(e){g.ComponentDispatch.dispatch(A.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,{node:e})},t.prototype.renderResult=function(e,t){var n=this,r=this.props.selectedIndex;switch(e.type){case A.AutocompleterResultTypes.HEADER:return o(E.Header,{},e.type+"-"+e.record.id,e.record.text);case A.AutocompleterResultTypes.TEXT_CHANNEL:return o(G,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case A.AutocompleterResultTypes.VOICE_CHANNEL:return o(x,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case A.AutocompleterResultTypes.GUILD:return o(F,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,guild:e.record},e.type+"-"+e.record.id);case A.AutocompleterResultTypes.USER:return o(B,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,user:e.record,comparator:e.comparator},e.type+"-"+e.record.id);case A.AutocompleterResultTypes.GROUP_DM:return o(j,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case A.AutocompleterResultTypes.APPLICATION:return o(E.Application,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,application:e.record},e.type+"-"+e.record.id);default:return null}},t.prototype.renderHelp=function(){var e,t=this.props,n=t.results,r=t.theme===A.ThemeTypes.DARK?b.default.dark:b.default.dim;return o("div",{className:(0,i.default)((e={},e[M.default.tipsWithResults]=n.length>0,e[M.default.tipsWithoutResults]=0===n.length,e))},void 0,o("div",{className:M.default.tipsListNav},void 0,O.default.Messages.QUICKSWITCHER_TIP_NAV.format({shortcutHook:function(e,t){return o(C.default,{shortcut:e[0],className:(0,i.default)(r,b.default.keybindShortcutQuickSwitcher,b.default.keybindShortcutTipsNav)},t)}})),o("div",{className:M.default.tipsMiscControls},void 0,O.default.Messages.QUICKSWITCHER_TIP_SELECT.format({shortcutHook:function(e,t){return o(C.default,{shortcut:e[0],className:(0,i.default)(r,b.default.keybindShortcutQuickSwitcher,b.default.keybindShortcutTipsSelect)},t)}})))},t.prototype.renderTutorial=function(){var e=this.state.query,t=this.props,n=t.seenTutorial,r=t.results;return n?null:o(I.default,{hasQuery:e.length>0&&r.length>0})},t.prototype.render=function(){return o("div",{className:M.default.container},void 0,o("div",{className:M.default.quickswitcher,onMouseMove:this.handleMouseMove},void 0,this.renderInput(),this.renderResults(),this.renderHelp(),this.renderTutorial()))},t}(a.PureComponent);V.modalConfig={disableAnimation:!0,backdropInstant:!0,store:y.default},V.displayName="QuickSwitcher",t.default=V,e.exports=t.default},7146:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=p(n(17)),u=p(n(310)),s=n(109),d=n(0),f=p(n(13)),c=p(n(5668));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=118,m=9,v={friction:15,tension:100},_=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.state={shown:!1,translateY:new u.default.Value(0)},r.setRef=function(e){r.container=e},r.handleResultFocus=function(e){var t=e.node;setTimeout(function(){if(r.props.hasQuery&&null!=t){var e=r.container.getBoundingClientRect().top,n=t.getBoundingClientRect().top,o=Math.abs(e-n);r.springTo(o-y+m)}else r.springTo(0)},1)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({shown:!0}),s.ComponentDispatch.subscribe(d.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},t.prototype.componentWillUnmount=function(){s.ComponentDispatch.unsubscribe(d.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},t.prototype.componentDidUpdate=function(){this.props.hasQuery||this.springTo(0)},t.prototype.springTo=function(e){u.default.spring(this.state.translateY,a({toValue:Math.min(e,250)},v)).start()},t.prototype.renderArrowGroup=function(e){return o("div",{className:(0,l.default)(c.default.arrowGroup,e)},void 0,o(u.default.div,{className:(0,l.default)(c.default.arrowContainer,c.default.horizontal),style:this.getStyle()},void 0,o("img",{alt:"",src:n(7147),className:c.default.arrowIcon})),o("div",{className:(0,l.default)(c.default.arrowContainer,c.default.diag1)},void 0,o("img",{alt:"",src:n(7148),className:c.default.arrowIcon})),o("div",{className:(0,l.default)(c.default.arrowContainer,c.default.diag2)},void 0,o("img",{alt:"",src:n(7149),className:c.default.arrowIcon})))},t.prototype.renderContent=function(){return o("div",{className:c.default.tutorialMessages},void 0,o("div",{className:c.default.searchMessage},void 0,f.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH),o("div",{className:c.default.selectMessage},void 0,f.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT))},t.prototype.render=function(){var e,t=this.props.hasQuery,n=this.state.shown;return i.createElement("div",{ref:this.setRef,className:(0,l.default)(c.default.tutorial,(e={},e[c.default.shown]=n,e[c.default.hasQuery]=t,e))},this.renderContent(),this.renderArrowGroup(c.default.left),this.renderArrowGroup(c.default.right))},t.prototype.getStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","250px"]})},{translateZ:0}]}},t}(i.PureComponent);_.displayName="QuickSwitcherTutorial",t.default=_,e.exports=t.default},7147:function(e,t,n){e.exports=n.p+"85761f5edbfdfbeba087f67ced11fe8e.svg"},7148:function(e,t,n){e.exports=n.p+"86deade60ada88b092a0de67a3800ce8.svg"},7149:function(e,t,n){e.exports=n.p+"7c5e2c588b7325c8433db1ac2a03a6b6.svg"},7150:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=Z(n(17)),u=Z(n(4)),s=Z(n(446)),d=n(307),f=Z(n(182)),c=n(834),p=Z(n(848)),h=Z(n(861)),y=Z(n(831)),m=Z(n(158)),v=Z(n(6031)),_=Z(n(5354)),E=Z(n(43)),g=Z(n(132)),S=Z(n(312)),T=Z(n(7151)),I=Z(n(35)),C=Z(n(15)),N=Z(n(7152)),A=Z(n(311)),O=Z(n(5979)),b=Z(n(128)),M=Z(n(221)),R=Z(n(152)),P=Z(n(6015)),L=Z(n(306)),w=Z(n(313)),D=Z(n(444)),U=n(6043),k=Z(U),G=Z(n(442)),x=n(224),F=Z(n(18)),j=Z(n(82)),B=Z(n(45)),H=n(180),V=Z(n(5983)),Y=Z(n(6026)),W=Z(n(6157)),K=Z(n(6136)),z=Z(n(6151)),$=Z(n(5352)),q=n(0),X=Z(n(13)),Q=Z(n(843)),J=Z(n(5671));function Z(e){return e&&e.__esModule?e:{default:e}}function ee(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var oe=q.INVITE_ENDPOINT+"/discord-testers",ae=u.default.connectStores([S.default],function(){return{hide:S.default.hidePersonalInformation}})(function(e){function t(){return te(this,t),ne(this,e.apply(this,arguments))}return re(t,e),t.prototype.renderEmpty=function(){return a("div",{className:J.default.empty},void 0,a("div",{className:J.default.emptyIconStreamerMode}),a("div",{className:J.default.emptyText},void 0,X.default.Messages.STREAMER_MODE_ENABLED))},t.prototype.renderNote=function(){var e=this.props.user;return a("div",{className:J.default.userInfoSection},void 0,a("div",{className:J.default.userInfoSectionHeader},void 0,X.default.Messages.NOTE),a(W.default,{userId:e.id,autoFocus:!1,className:J.default.note}))},t.prototype.trackConnectedAccountViewed=function(e){F.default.track(q.AnalyticEvents.CONNECTED_ACCOUNT_VIEWED,{platform_type:e})},t.prototype.renderConnectedAccounts=function(){var e=this,t=this.props,n=t.connectedAccounts,r=t.theme;if(null!=n&&n.length>0){var o=n.map(function(t,n){var o=m.default.get(t.type),i=o.getPlatformUserUrl&&o.getPlatformUserUrl(t),l=void 0;i&&(l=a(A.default,{href:i,onClick:e.trackConnectedAccountViewed.bind(e,t.type)},void 0,a("div",{className:J.default.connectedAccountOpenIcon})));var u=void 0;return t.verified&&(u=a(G.default,{text:X.default.Messages.CONNECTION_VERIFIED},void 0,a(L.default,{className:J.default.connectedAccountVerifiedIcon,name:L.default.Names.VERIFIED,inner:r===q.ThemeTypes.LIGHT?q.Colors.STATUS_GREY_200:q.Colors.PRIMARY_DARK,checkmark:r===q.ThemeTypes.LIGHT?q.Colors.STATUS_GREY_500:q.Colors.WHITE,width:24}))),a(R.default,{align:R.default.Align.CENTER,grow:0,className:J.default.connectedAccount},n,a("img",{alt:X.default.Messages.IMG_ALT_LOGO.format({name:o.name}),className:J.default.connectedAccountIcon,src:o.icon.color}),a("div",{className:J.default.connectedAccountNameInner},void 0,a("div",{className:J.default.connectedAccountName},void 0,t.name),u),l)});return a("div",{className:J.default.userInfoSection},void 0,a("div",{className:J.default.connectedAccounts},void 0,o))}},t.prototype.render=function(){return this.props.hide?this.renderEmpty():a(w.default,{fade:!0},void 0,this.renderNote(),this.renderConnectedAccounts())},t}(i.PureComponent)),ie=function(e){var t=e.guild,n=e.nick,r=e.onSelect,o=e.onContextMenu,i=e.theme;return a(M.default,{className:J.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return o(e,t)}},void 0,a(P.default,{guild:t,showVerified:!0,className:(0,l.default)(J.default.listAvatar,null==t.icon?J.default.guildAvatarWithoutIcon:null),verifiedIconOuterColor:i===q.ThemeTypes.DARK?q.Colors.PRIMARY_DARK_600:null,size:P.default.Sizes.MEDIUM}),a("div",{className:J.default.listRowContent},void 0,a("div",{className:J.default.listName},void 0,t.toString()),a("div",{className:J.default.guildNick},void 0,n)))};ie.displayName="GuildRow";var le=function(e){function t(){var n,r;te(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=ne(this,e.call.apply(e,[this].concat(l))),r.handleSelect=function(e){B.default.transitionTo(q.Routes.GUILD(e)),h.default.close(),(0,c.popLayer)()},r.handleContextMenu=function(e,t){(0,d.openContextMenu)(e,function(e){return i.createElement(z.default,o({},e,{type:q.ContextMenuTypes.GUILD_PROFILE_MUTUAL,guild:t}))})},ne(r,n)}return re(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.mutualGuilds,r=t.theme,o=void 0;return o=0===n.length?a("div",{className:J.default.empty},void 0,a("div",{className:J.default.emptyIconGuilds}),a("div",{className:J.default.emptyText},void 0,X.default.Messages.NO_MUTUAL_GUILDS)):n.map(function(t){var n=t.guild,o=t.nick;return a(ie,{guild:n,nick:o,onSelect:e.handleSelect,onContextMenu:e.handleContextMenu,theme:r},n.id)}),a(w.default,{className:J.default.listScroller,fade:!0},void 0,o)},t}(i.Component);le.displayName="MutualGuilds";var ue=function(e){var t=e.user,n=e.status,r=e.onSelect,o=e.onContextMenu;return a(M.default,{className:J.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return o(e,t)}},void 0,a(O.default,{src:t.getAvatarURL(),size:O.default.Sizes.LARGE,status:n,className:J.default.listAvatar}),a(Y.default,{user:t,className:J.default.listName,discriminatorClass:J.default.listDiscriminator}))};ue.displayName="FriendRow";var se=a(D.default,{}),de=function(e){function t(){var n,r;te(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=ne(this,e.call.apply(e,[this].concat(l))),r.handleSelect=function(e){h.default.open(e)},r.handleContextMenu=function(e,t){(0,d.openContextMenu)(e,function(e){return i.createElement($.default,o({},e,{type:q.ContextMenuTypes.USER_PROFILE_MUTUAL,user:t}))})},ne(r,n)}return re(t,e),t.prototype.render=function(){var e=this,t=this.props.mutualFriends,n=void 0;return n=t?0===t.length?a("div",{className:J.default.empty},void 0,a("div",{className:J.default.emptyIconFriends}),a("div",{className:J.default.emptyText},void 0,X.default.Messages.NO_MUTUAL_FRIENDS)):t.map(function(t){return a(ue,{user:t.user,status:t.status,onSelect:e.handleSelect,onContextMenu:e.handleContextMenu},t.key)}):a("div",{className:J.default.empty},void 0,se),a(w.default,{className:J.default.listScroller,fade:!0},void 0,n)},t}(i.Component);function fe(e){var t=e.className,n=ee(e,["className"]);return i.createElement(b.default,o({},n,{look:b.default.Looks.INVERTED,size:b.default.Sizes.MEDIUM,color:J.default.buttonInvertedPurple,className:t}))}function ce(e){var t=e.mode,n=e.defaultColor,r=e.className,a=ee(e,["mode","defaultColor","className"]);if("Streaming"===t)return i.createElement(fe,o({},a,{className:r}));var u="Normal"===t?b.default.Looks.FILLED:b.default.Looks.INVERTED;return i.createElement(b.default,o({},a,{color:function(e,t){switch(e){case"Streaming":return b.default.Colors.PRIMARY;case"Spotify":case"Xbox":return b.default.Colors.GREEN;case"Playing":return b.default.Colors.BRAND;default:return t}}(t,n),look:u,size:b.default.Sizes.SMALL,className:(0,l.default)(J.default.actionButton,r)}))}de.displayName="MutualFriends",fe.displayName="InvertedPurpleButton",ce.displayName="RequestActionButton";var pe=function(e){var t=e.isCurrentUser,n=e.user,r=e.relationshipType,o=e.friendReqSent,i=e.handleAddFriend,l=e.handleIgnoreFriend,u=e.handleSendMessage,s=e.mode;return t||r===q.RelationshipTypes.BLOCKED?null:r===q.RelationshipTypes.FRIEND||n.bot?a(ce,{mode:s,defaultColor:b.default.Colors.GREEN,onClick:u},void 0,X.default.Messages.SEND_MESSAGE):o?a(ce,{mode:s,defaultColor:b.default.Colors.GREEN,disabled:!0},void 0,X.default.Messages.ADD_FRIEND_BUTTON_AFTER):r===q.RelationshipTypes.PENDING_INCOMING?a(R.default,{grow:0},void 0,a(ce,{mode:s,defaultColor:b.default.Colors.GREEN,onClick:i},void 0,X.default.Messages.FRIEND_REQUEST_ACCEPT),a(ce,{mode:s,defaultColor:b.default.Colors.GREY,onClick:l,className:J.default.actionRightButton},void 0,X.default.Messages.FRIEND_REQUEST_IGNORE)):a(ce,{mode:s,defaultColor:b.default.Colors.GREEN,onClick:i},void 0,X.default.Messages.ADD_FRIEND_BUTTON)};pe.displayName="RequestActions";var he=function(e){function t(){var n,r;te(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ne(this,e.call.apply(e,[this].concat(a))),r.performAction=function(e){e(),(0,d.closeContextMenu)()},ne(r,n)}return re(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.relationshipType,o=n.onRemoveFriend,i=n.onBlock,u=n.onMessage,s=n.className,d=n.style,f=[];switch(r){case q.RelationshipTypes.BLOCKED:f.push(a(M.default,{className:Q.default.item,onClick:function(){return e.performAction(o)}},"user-unblock",X.default.Messages.UNBLOCK));break;case q.RelationshipTypes.FRIEND:f.push(a(M.default,{className:(0,l.default)(Q.default.item,Q.default.danger),onClick:function(){return e.performAction(o)}},"user-remove",X.default.Messages.REMOVE_FRIEND)),f.push(a(M.default,{className:(0,l.default)(Q.default.item,Q.default.danger),onClick:function(){return e.performAction(i)}},"user-block",X.default.Messages.BLOCK));break;case q.RelationshipTypes.NONE:case q.RelationshipTypes.PENDING_INCOMING:default:f.push(a(M.default,{className:(0,l.default)(Q.default.item,Q.default.danger),onClick:function(){return e.performAction(i)}},"user-block",X.default.Messages.BLOCK))}return r!==q.RelationshipTypes.BLOCKED&&f.push(a(M.default,{className:Q.default.item,onClick:function(){return e.performAction(u)}},"user-message",X.default.Messages.USER_POPOUT_MESSAGE)),a("div",{className:s,style:{left:d.left+t.OFFSET_X,top:d.top+t.OFFSET_Y}},void 0,f)},t}(i.Component);he.OFFSET_X=-65,he.OFFSET_Y=20,he.displayName="ProfileActionsPopout";var ye=function(e){function t(){var n,r;te(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=ne(this,e.call.apply(e,[this].concat(l))),r.state={friendReqSent:!1},r.handleAdditionalActionClick=function(e){var t=r.props.relationshipType;(0,d.openContextMenu)(e,function(e){return i.createElement(he,o({},e,{relationshipType:t,onRemoveFriend:r.handleRemoveFriend,onBlock:r.handleBlock,onMessage:r.handleSendMessage}))})},r.handleSendMessage=function(){var e=r.props,t=e.user,n=e.currentUserId;s.default.openPrivateChannel(n,t.id),r.props.close(),(0,c.popLayer)()},r.handleBlock=function(){var e=r.props.user;p.default.addRelationship(e.id,{location:"User Profile"},q.RelationshipTypes.BLOCKED)},r.handleAddFriend=function(){p.default.addRelationship(r.props.user.id,{location:"User Profile"}),r.setState({friendReqSent:!0})},r.handleRemoveFriend=function(){p.default.removeRelationship(r.props.user.id,{location:"User Profile"}),r.setState({friendReqSent:!1})},r.handleSectionSelect=function(e){h.default.setSection(e)},r.openPremiumSettings=function(){F.default.track(q.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:q.AnalyticsSections.PROFILE_MODAL,location_object:q.AnalyticsObjects.TOOLTIP}),y.default.open(q.UserSettingsSections.PREMIUM),r.props.close()},ne(r,n)}return re(t,e),t.prototype.componentDidMount=function(){this.fetchApplication()},t.prototype.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},t.prototype.fetchApplication=function(){var e=this.props.activity;null!=e&&null!=e.application_id&&null==E.default.getGame(e.application_id)&&f.default.fetchApplication(e.application_id)},t.prototype.getMode=function(){var e=this.props.activity;return null==e?"Normal":(0,x.isStreaming)(e)?"Streaming":(0,x.isOnXbox)(e)?"Xbox":(0,x.isListeningOnSpotify)(e)?"Spotify":"Playing"},t.prototype.isCurrentUser=function(){var e=this.props,t=e.user,n=e.currentUserId;return t.id===n},t.prototype.renderBadges=function(){var e=this.props,t=e.user,n=e.premiumSince,r=e.hypeSquadKOHExperimentActive,o=[];return t.hasFlag(q.UserFlags.STAFF)&&o.push({tooltip:X.default.Messages.STAFF_BADGE_TOOLTIP,onClick:function(){return window.open(q.MarketingURLs.COMPANY,"_blank")},class:"staff"}),t.hasFlag(q.UserFlags.PARTNER)&&o.push({tooltip:X.default.Messages.PARTNER_BADGE_TOOLTIP,onClick:function(){return window.open(q.MarketingURLs.PARTNERS,"_blank")},class:"partner"}),t.hasFlag(q.UserFlags.HYPESQUAD)&&o.push({tooltip:X.default.Messages.HYPESQUAD_BADGE_TOOLTIP,onClick:function(){return window.open(q.MarketingURLs.HYPESQUAD,"_blank")},class:"hypesquad"}),t.hasFlag(q.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)&&o.push({tooltip:X.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:X.default.Messages.HYPESQUAD_HOUSE_1}),onClick:function(){return window.open(q.MarketingURLs.HYPESQUAD,"_blank")},class:"hypeSquadOnlineHouse1"}),t.hasFlag(q.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)&&o.push({tooltip:X.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:X.default.Messages.HYPESQUAD_HOUSE_2}),onClick:function(){return window.open(q.MarketingURLs.HYPESQUAD,"_blank")},class:"hypeSquadOnlineHouse2"}),t.hasFlag(q.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&o.push({tooltip:X.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:X.default.Messages.HYPESQUAD_HOUSE_3}),onClick:function(){return window.open(q.MarketingURLs.HYPESQUAD,"_blank")},class:r?"hypeSquadOnlineHouse3KOH":"hypeSquadOnlineHouse3"}),t.hasFlag(q.UserFlags.BUG_HUNTER)&&o.push({tooltip:X.default.Messages.BUG_HUNTER_BADGE_TOOLTIP,onClick:function(){return window.open(oe,"_blank")},class:"bugHunter"}),t.hasFlag(q.UserFlags.PREMIUM_EARLY_SUPPORTER)&&o.push({tooltip:X.default.Messages.EARLY_SUPPORTER_TOOLTIP,onClick:this.openPremiumSettings,class:"earlySupporter"}),null!=n&&o.push({tooltip:X.default.Messages.PREMIUM_BADGE_TOOLTIP.format({date:n}),onClick:this.openPremiumSettings,class:"premium"}),0===o.length?null:a(R.default,{className:J.default.profileBadges},void 0,o.map(function(e){return a("div",{className:J.default.profileBadgeWrapper},e.class,a(G.default,{position:G.default.Positions.TOP,text:e.tooltip},void 0,a(M.default,{onClick:e.onClick},void 0,a("div",{className:(0,H.getClass)(J.default,"profileBadge",e.class)}))))}))},t.prototype.renderMoreActions=function(){var e=this.props.user;if(!this.isCurrentUser()&&!e.isNonUserBot())return a(M.default,{onClick:this.handleAdditionalActionClick},void 0,a("div",{className:J.default.additionalActionsIcon}))},t.prototype.renderHeader=function(e){var t,n=this.props,r=n.user,o=n.status,i=n.relationshipType,u=n.showMobileIndicator,s=this.state.friendReqSent,d=j.default.hasAnimatedAvatar(r)?r.getAvatarURL("gif"):r.getAvatarURL();return a("header",{className:J.default.header},void 0,a(O.default,{src:d,size:O.default.Sizes.PROFILE,status:o,className:J.default.avatar}),a("div",{className:J.default.headerInfo},void 0,a(Y.default,{user:r,className:J.default.nameTag,usernameClass:J.default.username,discriminatorClass:J.default.discriminator,invertBotTagColor:"Playing"===e,botClass:J.default.botTag,showMobileIndicator:u,mobileIndicatorClassName:(0,l.default)(J.default.mobileIndicator,(t={},t[J.default.mobileIndicator]="Normal"===e,t[J.default.mobileIndicatorWhite]="Normal"!==e,t))}),this.renderBadges()),a(pe,{user:r,isCurrentUser:this.isCurrentUser(),relationshipType:i,friendReqSent:s,handleAddFriend:this.handleAddFriend,handleIgnoreFriend:this.handleRemoveFriend,handleSendMessage:this.handleSendMessage,mode:e}),this.renderMoreActions())},t.prototype.renderTabBar=function(){var e=this.props,t=e.user,n=e.section,r=e.theme===q.ThemeTypes.LIGHT?q.Colors.PRIMARY_DARK:q.Colors.WHITE;return this.isCurrentUser()||t.bot?null:a("div",{className:J.default.tabBarContainer},void 0,a(k.default,{selectedItem:n,type:U.Types.TOP,onItemSelect:this.handleSectionSelect,className:J.default.tabBar},void 0,a(U.Item,{color:r,className:J.default.tabBarItem,id:q.UserProfileSections.USER_INFO},void 0,X.default.Messages.USER_INFO),a(U.Item,{color:r,className:J.default.tabBarItem,id:q.UserProfileSections.MUTUAL_GUILDS},void 0,X.default.Messages.MUTUAL_GUILDS),a(U.Item,{color:r,className:J.default.tabBarItem,id:q.UserProfileSections.MUTUAL_FRIENDS},void 0,X.default.Messages.MUTUAL_FRIENDS)))},t.prototype.render=function(){var e,t=this.props,n=t.user,r=t.activity,o=t.mutualGuilds,i=t.mutualFriends,u=t.connectedAccounts,s=t.section,d=t.theme,f=this.getMode(),c=void 0;switch(s){case q.UserProfileSections.MUTUAL_GUILDS:c=a(le,{mutualGuilds:o||[],theme:d});break;case q.UserProfileSections.MUTUAL_FRIENDS:c=a(de,{mutualFriends:i,theme:d});break;case q.UserProfileSections.USER_INFO:default:c=a(ae,{user:n,connectedAccounts:u||[],activity:r,theme:d})}return a(V.default,{section:q.AnalyticsSections.PROFILE_MODAL},void 0,a(R.default,{direction:R.default.Direction.VERTICAL,className:J.default.root},void 0,a("div",{className:(0,H.getClass)(J.default,"topSection",f)},void 0,this.renderHeader(f),a("div",{className:(0,l.default)((e={},e[J.default.headerFill]=null!=r,e))},void 0,null!=this.props.activity?a(K.default,{type:K.default.Types.PROFILE,activity:this.props.activity,user:this.props.user,source:"Profile Modal",className:J.default.activity,onOpenConnections:h.default.close}):null,this.renderTabBar())),a("div",{className:J.default.body},void 0,c)))},t}(i.PureComponent);ye.displayName="UserProfileBody";var me=u.default.connectStores([I.default,C.default,g.default,N.default],function(e){var t=e.user,n=N.default.getExperimentDescriptor();return{theme:I.default.theme,currentUserId:C.default.getCurrentUser().id,status:g.default.getStatus(t.id),showMobileIndicator:g.default.isMobileOnline(t.id),activity:g.default.getPrimaryActivity(t.id),hypeSquadKOHExperimentActive:null!=n&&-1!==n.bucket,isApplicationStreaming:null!=_.default.getStreamForUser(t.id)}})((0,v.default)(function(e){var t,n=e.guildId,r=e.user;return(t={})[n]=[r.id],t})(ye)),ve=function(e){function t(){var n,r;te(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ne(this,e.call.apply(e,[this].concat(a))),r.close=function(){h.default.close()},ne(r,n)}return re(t,e),t.prototype.render=function(){return i.createElement(me,o({},this.props,{close:this.close}))},t}(i.PureComponent);ve.modalConfig={store:T.default},ve.displayName="UserProfile",t.default=ve,e.exports=t.default},7151:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=h(n(6)),a=h(n(4)),i=h(n(1)),l=h(n(861)),u=h(n(135)),s=h(n(28)),d=h(n(132)),f=h(n(91)),c=h(n(15)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=[];function m(e,t){var n=c.default.getUser(e);return null==n?null:{section:p.UserProfileSections.USER_INFO,user:n,relationshipType:f.default.getRelationshipType(e),guildId:t,mutualGuilds:[],mutualFriends:null,connectedAccounts:[],premiumSince:null}}function v(){if(0===y.length)return!1;y=y.reduce(function(e,t){var n=c.default.getUser(t.user.id);return null!=n&&e.push(r({},t,{user:n,relationshipType:f.default.getRelationshipType(t.user.id)})),e},[])}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([f.default,c.default],v)},t.prototype.isOpen=function(){return y.length>0},t.prototype.getProps=function(){return o.default.last(y)},t}(a.default.Store);t.default=new _(i.default,{USER_PROFILE_MODAL_OPEN:function(e){var t=m(e.userId,e.guildId);y=null==t?[]:[t]},USER_PROFILE_MODAL_CLOSE:function(e){y=[]},USER_PROFILE_MODAL_PUSH:function(e){var t=m(e.userId,e.guildId);null!=t&&(y=[].concat(y,[t]))},USER_PROFILE_MODAL_POP:function(e){y.pop()},USER_PROFILE_MODAL_SET_SECTION:function(e){var t=o.default.last(y);null!=t&&(e.section===p.UserProfileSections.MUTUAL_FRIENDS&&null==t.mutualFriends&&l.default.fetchMutualFriends(t.user.id),t.section=e.section,y=[].concat(y))},USER_PROFILE_MODAL_FETCH_SUCCESS:function(e){y=y.map(function(t){if(t.user.id===e.user.id){var n=[];e.mutual_guilds.forEach(function(e){var t=e.id,r=e.nick,o=s.default.getGuild(t);null!=o&&n.push({guild:o,nick:r})});var a=e.premium_since||null;n=o.default.sortBy(n,function(e){return e.guild.name.toLowerCase()});var i=t.user.set("flags",e.user.flags);return r({},t,{user:i,mutualGuilds:n,connectedAccounts:e.connected_accounts,premiumSince:null!=a?new Date(a):null})}return t})},LOAD_MUTUAL_FRIENDS:function(e){var t=o.default.findLast(y,function(t){return t.user.id===e.userId});null!=t&&(t.mutualFriends=(0,o.default)(e.mutualFriends).map(function(e){return{key:e.id,user:new u.default(e),status:d.default.getStatus(e.id),activity:d.default.getPrimaryActivity(e.id),mutualGuildsLength:t.mutualGuilds.length||0,mutualGuilds:t.mutualGuilds.slice(0,p.MAX_MUTUAL_GUILDS)}}).sortBy(function(e){return e.user.username.toLowerCase()}).value())}}),e.exports=t.default},7152:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(846),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default=(0,a.default)(i.Experiments.HYPESQUAD_KOH_WINNER_BADGES,"HypeSquad King of the Hat Badge","Displays a unique badge for House Balance members in honor of winning the King of the Hat competition"),e.exports=t.default},7153:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=b(n(6)),l=n(873),u=b(n(4)),s=b(n(452)),d=n(894),f=b(n(46)),c=b(n(7154)),p=b(n(152)),h=b(n(222)),y=b(n(6007)),m=b(n(5995)),v=b(n(6071)),_=b(n(6057)),E=b(n(129)),g=b(n(448)),S=n(110),T=b(S),I=b(n(6394)),C=n(0),N=b(n(13)),A=b(n(5351)),O=b(n(5672));function b(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=function(e){function t(){var n,r;M(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.handleAutoThresholdChange=function(e){var t=r.props,n=t.onThresholdChange,o=t.threshold;n&&n(o,e.currentTarget.checked)},r.handleSensitivityChange=function(e){var t=r.props,n=t.onThresholdChange,o=t.autoThreshold;n&&n(-1*(100-e),o)},R(r,n)}return P(t,e),t.prototype.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},t.prototype.renderAutomaticVADToggle=function(){var e=this,t=this.props.autoThreshold;return o(l.SmartUID,{},void 0,function(n){return o(p.default,{className:A.default.marginBottom4},void 0,o(T.default,{tag:S.Tags.H3},void 0,o("label",{htmlFor:n},void 0,N.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),o(_.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},t.prototype.renderSlider=function(){var e=this.props,t=e.autoThreshold,n=e.threshold;if(!t)return o(v.default,{defaultValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange})},t.prototype.render=function(){return o(g.default,{title:N.default.Messages.FORM_LABEL_INPUT_SENSITIVTY,className:A.default.marginBottom8},void 0,this.renderAutomaticVADToggle(),this.renderSlider())},t}(a.PureComponent);L.displayName="VoiceSensitivity";var w=function(e){var t=e.mediaEngineContext,n=e.inputMode,r=e.shortcut,l=e.delay,u=e.vadThreshold,d=e.vadAutoThreshold,f=e.inputDevices,c=e.inputDeviceId,p=e.inputVolume,h=e.outputDeviceId,_=e.outputDevices,E=e.outputVolume,S=e.speaking,T=i.default.first(f),O=null!=T&&T.disabled,b=i.default.first(_),M=null!=b&&b.disabled,R=[{value:C.InputModes.VOICE_ACTIVITY,name:N.default.Messages.INPUT_MODE_VAD},{value:C.InputModes.PUSH_TO_TALK,name:N.default.Messages.INPUT_MODE_PTT}],P=void 0;return P=n===C.InputModes.PUSH_TO_TALK?o(a.Fragment,{},void 0,o(g.default,{title:N.default.Messages.FORM_LABEL_SHORTCUT,className:A.default.marginBottom20},void 0,o(I.default,{defaultValue:r,onChange:function(e){return s.default.setMode(n,{shortcut:e},t)}})),o(g.default,{title:N.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY,className:A.default.marginBottom8},void 0,o(v.default,{defaultValue:l,onValueChange:function(e){return s.default.setMode(n,{delay:e},t)},onValueRender:function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+"ms"},maxValue:C.MAX_PTT_RELEASE_DELAY}))):o(L,{speaking:S,inputMode:n,threshold:u,autoThreshold:d,onThresholdChange:function(e,r){return s.default.setMode(n,{threshold:e,autoThreshold:r},t)}}),o(a.Fragment,{},void 0,o(g.default,{title:N.default.Messages.FORM_LABEL_INPUT_DEVICE,className:A.default.marginBottom20},void 0,o(m.default,{value:c,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return s.default.setInputDevice(t,"Voice Settings")},options:i.default.map(f,function(e){return{value:e.id,label:e.name}}),disabled:O})),o(g.default,{title:N.default.Messages.FORM_LABEL_INPUT_VOLUME,className:A.default.marginBottom20},void 0,o(v.default,{defaultValue:p,asValueChanges:function(e){return s.default.setInputVolume(e)}})),o(g.default,{title:N.default.Messages.FORM_LABEL_OUTPUT_DEVICE,className:A.default.marginBottom20},void 0,o(m.default,{value:h,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return s.default.setOutputDevice(t,"Voice Settings")},options:i.default.map(_,function(e){return{value:e.id,label:e.name}}),disabled:M})),o(g.default,{title:N.default.Messages.FORM_LABEL_OUTPUT_VOLUME,className:A.default.marginBottom20},void 0,o(v.default,{defaultValue:E/2,onValueRender:function(e){return(2*e).toFixed(0)+"%"},asValueChanges:function(e){return s.default.setOutputVolume(2*e)}})),o(g.default,{title:N.default.Messages.FORM_LABEL_INPUT_MODE,className:A.default.marginBottom20},void 0,o(y.default,{onChange:function(e){var n=e.value;return s.default.setMode(n,{},t)},options:R,value:n})),P)};w.displayName="Content";var D=u.default.connectStores([f.default],function(e){var t=e.mediaEngineContext;return{inputVolume:f.default.getInputVolume(),outputVolume:f.default.getOutputVolume(),inputDeviceId:f.default.getInputDeviceId(),inputDevices:f.default.getInputDevices(),outputDevices:f.default.getOutputDevices(),outputDeviceId:f.default.getOutputDeviceId(),inputMode:f.default.getMode(t),shortcut:f.default.getModeOptions(t).shortcut,vadThreshold:f.default.getModeOptions(t).threshold,vadAutoThreshold:f.default.getModeOptions(t).autoThreshold,delay:f.default.getModeOptions(t).delay}})(w),U=function(e){function t(){var n,r;M(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.close=function(){var e=r.props.onClose;(0,d.closeModal)(),null!=e&&e()},R(r,n)}return P(t,e),t.prototype.render=function(){var e=this.props,t=e.mediaEngineContext,n=e.title;return o(h.default,{},void 0,o(h.default.Header,{},void 0,o(p.default.Child,{},void 0,o(T.default,{tag:T.default.Tags.H2,className:A.default.marginReset},void 0,N.default.Messages.VOICE_SETTINGS),o(E.default,{size:E.default.Sizes.SMALL,color:E.default.Colors.PRIMARY,className:O.default.title},void 0,n)),o(p.default.Child,{grow:0},void 0,o(h.default.CloseButton,{onClick:this.close}))),o(h.default.Content,{},void 0,o(D,{mediaEngineContext:t})))},t}(a.PureComponent);U.modalConfig={closable:!0,store:c.default},U.displayName="VoiceSettingsModal",t.default=U,e.exports=t.default},7154:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=void 0,u=void 0,s=void 0,d=void 0;function f(){u=null,l=null,s=null,null!=d&&(d(),d=null)}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){var e=__OVERLAY__?a.AppContext.OVERLAY:a.AppContext.APP;return null!=u&&l===e},t.prototype.getProps=function(){return{mediaEngineContext:u,title:s}},t}(r.default.Store))(o.default,{VOICE_SETTINGS_MODAL_OPEN:function(e){u=e.mediaEngineContext,l=e.appContext,s=e.title,d=e.resolve},VOICE_SETTINGS_MODAL_CLOSE:function(e){return f()},RPC_APP_DISCONNECTED:function(e){return f()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==l||(f(),0))}});t.default=c,e.exports=t.default},7155:function(e,t,n){"use strict";t.__esModule=!0,t.MESSAGE_SOUND_VOLUME=t.MESSAGE_SOUND=void 0;var r=g(n(4)),o=g(n(1)),a=g(n(446)),i=g(n(480)),l=g(n(18)),u=g(n(9)),s=n(6412),d=g(n(947)),f=g(n(45)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(470)),p=g(n(22)),h=g(n(871)),y=g(n(51)),m=g(n(323)),v=g(n(15)),_=n(0),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var T=t.MESSAGE_SOUND="message1",I=t.MESSAGE_SOUND_VOLUME=.4,C="message2",N=.4,A=u.default.hasFocus(),O=new(function(){function e(){S(this,e),this._channels={}}return e.prototype.track=function(e,t){var n=this._channels[e];for(null==n&&(n=[],this._channels[e]=n),n.push(t);n.length>5;)n.shift().close()},e.prototype.clearChannel=function(e){var t=this._channels[e];null!=t&&(delete this._channels[e],t.forEach(function(e){return e.close()}))},e}());var b=function(e){function t(){return S(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(v.default,p.default,h.default)},t}(r.default.Store);t.default=new b(o.default,__OVERLAY__?{}:{NOTIFICATIONS_SET_PERMISSION_STATE:function(e){e.enabled!==_.NotificationPermissionTypes.ENABLED||u.default.embedded||d.default.showNotification(n(936),E.default.Messages.NOTIFICATION_TITLE_DISCORD,E.default.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{sound:T,volume:I,tag:"hello",onClick:function(){window.focus()}})},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,r=e.body,o=e.options;return h.default.getDesktopType()!==_.DesktopNotificationTypes.NEVER&&m.default.getStatus()!==_.StatusTypes.DND&&(d.default.showNotification(t,n,r,o),!1)},WINDOW_FOCUS:function(e){if(A=e.focused){var t=y.default.getChannelId();null!=t&&O.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,r=e.message,a=p.default.getChannel(t),u=v.default.getUser(r.author.id);if(null==a||null==u)return!1;if(!(0,s.shouldNotify)(r,t))return!1;var m=n(473),E=n(185);if(null!=m.getFocusedPID()&&E.getTextChatNotificationMode()===_.OverlayNotificationTextChatTypes.ENABLED)return!1;if(A&&t===y.default.getChannelId())return!1;var g=(0,s.makeTextChatNotification)(a,r,u),S=g.icon,C=g.title,N=g.body;o.default.dirtyDispatch({type:_.ActionTypes.RPC_NOTIFICATION_CREATE,channelId:a.id,message:r,icon:S,title:C,body:N});var b=!h.default.isSoundDisabled(T);if(h.default.getDesktopType()===_.DesktopNotificationTypes.NEVER)return b&&c.playSound(T,I),!1;var M=d.default.showNotification(S,C,N,{tag:a.id,sound:b?T:null,volume:I,onClick:function(){l.default.track(_.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:_.ActionTypes.MESSAGE_CREATE,notif_user_id:r.author.id,message_id:r.id,message_type:r.type,channel_id:a.id,channel_type:a.type,guild_id:a.guild_id}),f.default.transitionTo(_.Routes.CHANNEL(a.getGuildId()||_.ME,a.id)),i.default.clickedNotification()}});null!=M&&O.track(a.id,M)},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&O.clearChannel(t),!1},MESSAGE_ACK:function(e){var t=e.channelId;return O.clearChannel(t),!1},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(h.default.getDesktopType()===_.DesktopNotificationTypes.NEVER)return!1;if(m.default.getStatus()===_.StatusTypes.DND)return!1;switch(n.type){case _.ActivityTypes.PLAYING:var r=v.default.getUser(t);if(null==r)return!1;var o=r.toString(),i=n.name,u=r.getAvatarURL(),s=E.default.Messages.NOTIFICATION_TITLE_START_GAME,f=E.default.Messages.NOTIFICATION_BODY_START_GAME.format({username:o,gameName:i});return d.default.showNotification(u,s,f,{sound:C,playSoundIfDisabled:!1,volume:N,onClick:function(){l.default.track(_.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:_.ActionTypes.ACTIVITY_START,activity_type:_.ActivityTypes.PLAYING,notif_user_id:t,activity_name:i}),a.default.openPrivateChannel(v.default.getCurrentUser().id,t)}}),!1;default:return!1}}})},7181:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(4)),a=f(n(23)),i=f(n(1)),l=f(n(12)),u=f(n(22)),s=f(n(323)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c="IncomingCallStore",p={width:240,height:340},h=10,y=new Set,m=Object.freeze({}),v={},_=new Set,E=0,g=0,S=!1;function T(e){return null!=e&&(null!=v[e]&&(delete v[e],v=r({},v),void(_=new Set(_)).delete(e)))}function I(e){var t=e.channelId,n=e.ringing.includes(l.default.getId());if(!_.has(t)&&n){var o,a=u.default.getChannel(t);if(null==a)return!1;var i=h*_.size;v=r({},v,((o={})[t]={channel:a,x:E+i,y:g+i},o)),(_=new Set(_)).add(t)}else{if(!_.has(t)||n)return!1;T(t)}}function C(){S=s.default.getStatus()===d.StatusTypes.DND}!function(){var e=a.default.get(c);if(e)E=+e.x,g=+e.y;else{var t=n(154).windowSize();E=t.width/2-p.width/2,g=t.height/2-p.height/2}}();var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,s.default),this.syncWith([s.default],C)},t.prototype.getIncomingCalls=function(){return S?m:v},t.prototype.getIncomingCallChannelIds=function(){return S?y:_},t.prototype.getFirstIncomingCallId=function(){return S?null:_.values().next().value},t.prototype.hasIncomingCalls=function(){return!S&&_.size>0},t}(o.default.Store);t.default=new N(i.default,{CALL_CREATE:I,CALL_UPDATE:I,CALL_DELETE:function(e){return T(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return T(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;return E=t,g=n,a.default.set(c,{x:E,y:g}),!1},CHANNEL_DELETE:function(e){return T(e.channel.id)}}),e.exports=t.default},7182:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(8)),o=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return location.protocol+"//"+location.host+e};t.default={get:function(){return r.default.get(i("/__development/build_overrides")).then(function(e){return e.body||{}})},put:function(e){return r.default.put({url:i("/__development/build_overrides"),body:e,headers:{Authorization:o.default.getToken()||""}}).catch(function(e){return e})},clear:function(){return r.default.delete({url:i("/__development/build_overrides")})},getPublicLink:function(e){return r.default.post({url:i("/__development/create_build_override_link"),body:e,headers:{Authorization:o.default.getToken()||""}}).then(function(e){return{url:e.body.url,error:!1}},function(e){return 400===e.status?{url:!1,error:e.body}:{url:!1,error:"Error making API request ("+e.status+")"}})},shouldCheckForBuildOverride:function(){return-1!==window.document.cookie.indexOf("buildOverride=")},EXPIRATION_OPTIONS:[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}]},e.exports=t.default},7183:function(e,t,n){"use strict";t.__esModule=!0,t.StatusItem=t.PopoutMenuSeparator=t.PopoutMenuItemLabel=t.PopoutMenuItem=t.PopoutMenuIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(310)),s=n(6416),d=c(n(6436)),f=c(n(5746));function c(e){return e&&e.__esModule?e:{default:e}}(t.PopoutMenuIcon=function(e){var t=e.icon;return a("div",{className:f.default.icon,style:{backgroundImage:'url("'+t+'")'}})}).displayName="PopoutMenuIcon";var p=function(e){var t=e.children,n=e.type,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","type"]);return i.createElement("div",o({className:(0,l.default)(f.default.item,null!=n?f.default[n]:null)},r),t)};p.displayName="PopoutMenuItem",t.PopoutMenuItem=p,(t.PopoutMenuItemLabel=function(e){var t=e.children;return a("div",{className:f.default.label},void 0,t)}).displayName="PopoutMenuItemLabel",(t.PopoutMenuSeparator=function(){return a("div",{className:f.default.separator})}).displayName="PopoutMenuSeparator",(t.StatusItem=function(e){var t=e.status,n=e.children,r=e.onSelect;return a(p,{onClick:function(){return r(t)}},void 0,a("div",{className:f.default.statusIconText},void 0,a(d.default,{defaultStatus:t,style:{marginRight:14},hideTooltip:!0}),a("div",{},void 0,(0,s.humanizeStatus)(t))),a("div",{className:f.default.helper},void 0,n))}).displayName="StatusItem";var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.alt;return a(u.default.div,{className:(0,l.default)(n,f.default.menu,(e={},e[f.default.alt]=r,e))},void 0,this.props.children)},t}(i.PureComponent);h.displayName="PopoutMenu",t.default=h},7184:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getUserSettingsSections=function(){return Q().filter(function(e){var t=e.section;return t!==I.SectionTypes.HEADER&&t!==I.SectionTypes.CUSTOM&&t!==I.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=q(n(4)),u=q(n(849)),s=q(n(6817)),d=n(834),f=q(n(80)),c=q(n(831)),p=q(n(488)),h=q(n(46)),y=q(n(473)),m=q(n(7460)),v=q(n(35)),_=q(n(129)),E=q(n(181)),g=q(n(9)),S=q(n(5983)),T=q(n(6386)),I=n(6061),C=q(n(447)),N=q(n(7461)),A=q(n(7462)),O=q(n(7499)),b=q(n(7503)),M=q(n(7507)),R=q(n(7512)),P=q(n(7515)),L=q(n(7518)),w=q(n(7520)),D=q(n(7521)),U=q(n(7524)),k=q(n(7527)),G=q(n(7545)),x=q(n(7548)),F=q(n(7551)),j=q(n(7552)),B=q(n(7553)),H=q(n(7567)),V=q(n(7568)),Y=q(n(7570)),W=q(n(7571)),K=q(n(7581)),z=n(0),$=q(n(13));function q(e){return e&&e.__esModule?e:{default:e}}var X=K.default;function Q(){return[{section:I.SectionTypes.HEADER,label:$.default.Messages.USER_SETTINGS},{section:z.UserSettingsSections.ACCOUNT,label:$.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:A.default},{section:z.UserSettingsSections.PRIVACY_AND_SAFETY,label:$.default.Messages.PRIVACY_AND_SAFETY,element:H.default},{section:z.UserSettingsSections.AUTHORIZED_APPS,label:$.default.Messages.AUTHORIZED_APPS,element:M.default},{section:z.UserSettingsSections.CONNECTIONS,label:$.default.Messages.CONNECTIONS,element:P.default},{section:z.UserSettingsSections.BILLING,label:$.default.Messages.BILLING,element:R.default},{section:I.SectionTypes.DIVIDER},{section:z.UserSettingsSections.PREMIUM,label:$.default.Messages.PREMIUM_TITLE,element:B.default,color:z.Colors.BRAND},{section:z.UserSettingsSections.HYPESQUAD_ONLINE,label:$.default.Messages.USER_SETTINGS_HYPESQUAD,element:k.default},{section:I.SectionTypes.DIVIDER},{section:I.SectionTypes.HEADER,label:$.default.Messages.APP_SETTINGS},{section:z.UserSettingsSections.VOICE,label:$.default.Messages.VOICE_AND_VIDEO,element:W.default,predicate:function(){return h.default.isSupported()}},{section:z.UserSettingsSections.OVERLAY,label:$.default.Messages.OVERLAY,element:j.default,predicate:function(){return y.default.isSupported()}},{section:z.UserSettingsSections.NOTIFICATIONS,label:$.default.Messages.NOTIFICATIONS,element:F.default},{section:z.UserSettingsSections.KEYBINDS,label:$.default.Messages.KEYBINDS,element:G.default,predicate:function(){return g.default.embedded||!1}},{section:z.UserSettingsSections.GAME_ACTIVITY,label:$.default.Messages.USER_SETTINGS_GAME_ACTIVITY,element:D.default,predicate:function(){return g.default.embedded||!1}},{section:z.UserSettingsSections.ACTIVITY_FEED,label:$.default.Messages.USER_SETTINGS_ACTIVITY_FEED,element:O.default},{section:z.UserSettingsSections.GAME_LIBRARY,label:$.default.Messages.USER_SETTINGS_GAME_LIBRARY,element:U.default,predicate:function(){return g.default.isWindows()||!1}},{section:z.UserSettingsSections.TEXT,label:$.default.Messages.TEXT_AND_IMAGES,element:Y.default},{section:z.UserSettingsSections.APPEARANCE,label:$.default.Messages.APPEARANCE,element:b.default},{section:z.UserSettingsSections.STREAMER_MODE,label:$.default.Messages.STREAMER_MODE,element:V.default},{section:z.UserSettingsSections.LOCALE,label:$.default.Messages.LANGUAGE,element:x.default},{section:z.UserSettingsSections.WINDOWS,label:$.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:K.default,predicate:function(){return g.default.embedded&&g.default.isWindows()}},{section:z.UserSettingsSections.LINUX,label:$.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:X,predicate:function(){return g.default.embedded&&g.default.isLinux()}},{section:I.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return s.default.showChangeLog()},label:$.default.Messages.CHANGE_LOG},{section:z.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:w.default,predicate:function(){return p.default.isDeveloper}},{section:z.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:L.default,predicate:function(){return p.default.isDeveloper}},{section:I.SectionTypes.DIVIDER},{section:"logout",onClick:function(){f.default.push(function(e){return i.createElement(C.default,o({header:$.default.Messages.LOGOUT,confirmText:$.default.Messages.LOGOUT,cancelText:$.default.Messages.CANCEL,onConfirm:function(){return u.default.logout()}},e),a(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,$.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},label:$.default.Messages.LOGOUT,color:z.Colors.STATUS_RED},{section:I.SectionTypes.DIVIDER},{section:I.SectionTypes.CUSTOM,element:N.default}]}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;E.default.trackWithMetadata(z.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e})}t.default=l.default.connectStores([m.default,v.default],function(){return{theme:v.default.theme,section:m.default.getSection()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){J(this.props.section)},t.prototype.componentDidUpdate=function(e){var t=e.section,n=this.props.section;n!==t&&J(n,t)},t.prototype.generateSections=function(){return Q()},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section;return a(S.default,{root:!0,page:z.AnalyticsPages.USER_SETTINGS},void 0,a(T.default,{theme:t,section:n,onSetSection:c.default.setSection,onClose:d.popLayer,sections:this.generateSections()}))},t}(i.PureComponent))},7185:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(4)),a=u(n(1)),i=u(n(15)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={avatar:null,discriminator:"",username:"",email:"",password:"",newPassword:null},d=l.FormStates.CLOSED,f=null,c=null,p=r({},s),h=!1,y=null,m=null,v=null;function _(){d=l.FormStates.OPEN,f={},c=i.default.getCurrentUser(),p=r({},s),h=null!=c.email,y=c.verified,v=!1,h?m=!1:E({isEditingProfile:!0})}function E(e){(m=e.isEditingProfile)&&null!=c?p={avatar:c.avatar,discriminator:c.discriminator,username:c.username,email:c.email,password:"",newPassword:null}:(d=l.FormStates.OPEN,p=r({},s),f={},v=!1)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return{formState:d,errors:f,user:c,accountInfo:p,claimed:h,verified:y,isEditingProfile:m,isEditingPassword:v}},t}(o.default.Store);t.default=new g(a.default,{USER_SETTINGS_ACCOUNT_INIT:function(e){return _()},USER_SETTINGS_MODAL_INIT:function(e){return _()},USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS:function(e){return _()},USER_SETTINGS_MODAL_SET_SECTION:function(e){return e.section===l.UserSettingsSections.ACCOUNT&&_()},USER_SETTINGS_ACCOUNT_CLOSE:function(e){return d=l.FormStates.CLOSED,f=null,c=null,p=r({},s),h=!1,y=null,m=null,void(v=null)},USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PROFILE:E,USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PASSWORD:function(e){var t=null;(v=e.isEditingPassword)&&(t=""),p=r({},p,{newPassword:t})},USER_SETTINGS_ACCOUNT_UPDATE_INFO:function(e){var t=e.update;p=r({},p,t)},USER_SETTINGS_ACCOUNT_SUBMIT:function(e){return d=l.FormStates.SUBMITTING,void(f={})},USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE:function(e){if(d!==l.FormStates.SUBMITTING)return!1;d=l.FormStates.OPEN,f=e.errors||{}},CURRENT_USER_UPDATE:function(e){var t=e.user;h=null!=t.email;var n=!y;y=t.verified,n&&y&&E({isEditingProfile:!1})}}),e.exports=t.default},7191:function(e,t,n){"use strict";t.__esModule=!0,t.hasCrypto=void 0,t.generateTotpSecret=function(){return e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return i.getRandomValues(new Uint8Array(e))}(),a.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e},t.encodeTotpSecret=l,t.encodeTotpSecretAsUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Discord";return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+l(t)+"&issuer="+encodeURIComponent(n)};var r,o=n(7485),a=(r=o)&&r.__esModule?r:{default:r};var i=window&&window.crypto||window.msCrypto;t.hasCrypto=i&&"getRandomValues"in i&&"Uint8Array"in window;function l(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},7192:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=n(7487),a=l(n(92)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFileContents=function(){var e=this.props.fileContents;return"function"==typeof e&&(e=e()),e},t.prototype.handleFileDownload=function(e){e.preventDefault();var t=this.getFileContents(),n=this.props.fileName;i.default.embedded?this.downloadNative(t,n):this.downloadHtml5(t,n)},t.prototype.downloadNative=function(e,t){a.default.fileManager.saveWithDialog(e,t)},t.prototype.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,o.saveAs)(n,t)},t.prototype.render=function(){var e=this.props.children,t=r.Children.only(e);return r.cloneElement(t,{onClick:this.handleFileDownload.bind(this)})},t}(r.Component);u.displayName="FileDownloader",t.default=u,e.exports=t.default},7194:function(e,t,n){e.exports=n.p+"0694f38cb0b10cc3b5b89366a0893768.svg"},7196:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=s(n(17)),u=s(n(5762));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.children,r=e.hoverText,s=e.className,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["tag","children","hoverText","className"]);return i.createElement("div",o({},d,{className:(0,l.default)(s,u.default.hoverRoll)}),a(t,{className:u.default.default},void 0,n),a(t,{className:u.default.hovered},void 0,r))},t}(i.PureComponent);d.defaultProps={tag:"div"},d.displayName="HoverRoll",t.default=d,e.exports=t.default},7197:function(e,t,n){"use strict";var r;t.__esModule=!0;var o=u(n(8)),a=u(n(1)),i=n(449),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[l.HypeSquadHouses.HOUSE_1]=1,r[l.HypeSquadHouses.HOUSE_2]=2,r[l.HypeSquadHouses.HOUSE_3]=3,r);t.default={joinHypeSquadOnline:function(e){return o.default.post({url:l.Endpoints.HYPESQUAD_ONLINE,body:{house_id:s[e.houseID]}}).then(function(){return a.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})}).catch(function(e){throw new i.APIError(e)})},leaveHypeSquadOnline:function(){return o.default.delete({url:l.Endpoints.HYPESQUAD_ONLINE}).then(function(){return a.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})}).catch(function(e){throw new i.APIError(e)})}},e.exports=t.default},7198:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={addKeybind:function(){a.default.dispatch({type:i.ActionTypes.KEYBINDS_ADD_KEYBIND})},setKeybind:function(e){a.default.dispatch({type:i.ActionTypes.KEYBINDS_SET_KEYBIND,keybind:e})},deleteKeybind:function(e){a.default.dispatch({type:i.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){a.default.dirtyDispatch({type:i.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}},e.exports=t.default},7199:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(128)),l=s(n(6234)),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.cancel=function(){var e=r.props.onClose;e&&e()},r.confirm=function(){var e=r.props,t=e.onConfirm,n=e.onClose;n&&n(),t()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(l.default,{},void 0,o(l.default.Header,{},void 0,u.default.Messages.PREMIUM_GRANDFATHERED_WARNING_TITLE),o(l.default.Content,{type:l.default.Types.GRANDFATHERED},void 0,u.default.Messages.PREMIUM_GRANDFATHERED_WARNING.format()),o(l.default.Footer,{secondary:{onClick:this.cancel,label:u.default.Messages.NEVERMIND},primaryRenderer:o(i.default,{color:i.default.Colors.RED,onClick:this.confirm},void 0,u.default.Messages.PREMIUM_GRANDFATHERED_WARNING_CONFIRM)}))},t}(a.Component);f.displayName="GrandfatheredWarningModal",t.default=f,e.exports=t.default},7200:function(e,t,n){"use strict";t.__esModule=!0,t.getSanitizedRestrictedGuilds=function(){var e=a.default.restrictedGuilds;0===r.default.totalUnavailableGuilds&&(e=e.filter(function(e){return null!=o.default.getGuild(e)}));return e},t.computeFlags=function(){var e,t,n=a.default.friendSourceFlags;return n[l.FriendSourceFlagKeys.ALL]?((t={})[l.FriendSourceFlagKeys.ALL]=!0,t[l.FriendSourceFlagKeys.FRIENDS]=!0,t[l.FriendSourceFlagKeys.GUILDS]=!0,t):((e={})[l.FriendSourceFlagKeys.ALL]=!1,e[l.FriendSourceFlagKeys.FRIENDS]=!!n[l.FriendSourceFlagKeys.FRIENDS],e[l.FriendSourceFlagKeys.GUILDS]=!!n[l.FriendSourceFlagKeys.GUILDS],e)},t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()},t.trackPaneViewed=function(e){i.default.track(l.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",destination_pane:e})};var r=u(n(241)),o=u(n(28)),a=u(n(35)),i=u(n(18)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=864e5*l.REQUEST_DATA_LIMIT_DAYS},7201:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(846),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);var l=(0,a.default)(i.Experiments.AUDIO_ISSUE_NOTICE_MIC_TESTER,"Audio Issue Notice - Mic Tester","Modifies the no audio detected nag bar to link to user settings voice as well as adding a mic tester in user settings voice.");t.default=l,e.exports=t.default},7202:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(846),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);var l=(0,a.default)(i.Experiments.AUDIO_ISSUE_NOTICE_MIC_TESTER_WEB,"Audio Issue Notice - Mic Tester - Web","Modifies the no audio detected nag bar to link to user settings voice as well as adding a mic tester in user settings voice.");t.default=l,e.exports=t.default},7203:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(4)),l=f(n(1)),u=f(n(136)),s=f(n(58)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([s.default],function(){return!0})},t.prototype.getExperimentId=function(){return d.Experiments.ACTIVITY_PANEL},t.prototype.getMetaData=function(){return{title:"Activity Panel",description:["Activity Panel","Control: No Activity Panel","Treatment 1: Activity Panel (RP games only)"]}},t.prototype.getExperimentDescriptor=function(){return s.default.getEligibleExperiment(this.getExperimentId())},a(t,[{key:"inExperiment",get:function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===d.ExperimentBuckets.TREATMENT_1}}]),t}(i.default.Store))(l.default);u.default.register(c,((o={})[d.ExperimentTypes.USER]=((r={})[d.ExperimentBuckets.CONTROL]=function(){return null},r[d.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o)),t.default=c,e.exports=t.default},7204:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=S(n(6202)),l=S(n(22)),u=S(n(28)),s=S(n(35)),d=S(n(15)),f=S(n(457)),c=S(n(222)),p=n(6615),h=S(n(444)),y=S(n(110)),m=S(n(6040)),v=n(0),_=S(n(13)),E=S(n(5351)),g=S(n(5796));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e){var t=[];return f.default.getPrivateChannelIds().forEach(function(n){var r=l.default.getChannel(n);if(null!=r)if(r.type===v.ChannelTypes.DM){var o=r.getRecipientId(),a=null!=o?d.default.getUser(o):null;null!=a&&t.push(e.createResult(v.AutocompleterResultTypes.USER,a))}else r.type===v.ChannelTypes.GROUP_DM&&t.push(e.createResult(v.AutocompleterResultTypes.GROUP_DM,r))}),t}var C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={autocompleter:null,results:[],query:"",selectedRow:0,sendingRecordId:null,keyboardMode:!0},r.close=function(){var e=r.props.onClose;null!=e&&e()},r.handleKeyDown=function(){r.state.keyboardMode||r.setState({keyboardMode:!0})},r.disableKeyboardMode=function(){r.setState({keyboardMode:!1})},r.handleMouseEnter=function(e){r.state.keyboardMode||r.setState({selectedRow:e})},r.handleSend=function(e){var t=r.props,n=t.sendToChannel,o=t.sendToUser,a=r.state.results[e],i=null!=a?a.record:null,l=r.state.sendingRecordId;if(null!=i&&null!=i.id&&null!=a&&null==l)switch(r.setState({sendingRecordId:i.id}),a.type){case v.AutocompleterResultTypes.GROUP_DM:case v.AutocompleterResultTypes.TEXT_CHANNEL:n(a);break;case v.AutocompleterResultTypes.USER:o(a)}},r.handleSelect=function(e,t){null==t?r.handleClear():r.handleSend(t)},r.handleSelectionChange=function(e,t){r.setState({selectedRow:t})},r.handleQueryChange=function(e){r.query(e)},r.handleClear=function(){r.query("")},r._handleModalRef=function(e){r._modal=e},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=new i.default(function(t){var n=t.results;e.setState(function(){return{results:n}})},[v.AutocompleterResultTypes.TEXT_CHANNEL,v.AutocompleterResultTypes.GROUP_DM,v.AutocompleterResultTypes.USER],I);t.search("");var n=t.results;this.setState(function(){return{autocompleter:t,results:n}})},t.prototype.componentDidUpdate=function(e,t){var n=this.state.query,r=this.getScroller();n!==t.query&&null!=r&&r.scrollTo(0,!1)},t.prototype.componentWillUnmount=function(){var e=this.state.autocompleter;null!=e&&e.destroy()},t.prototype.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},t.prototype.query=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=this.state,n=t.results,r=t.autocompleter;null!=r&&(r.search(e),n=r.results),this.setState({query:e,selectedRow:0,results:n})}),t.prototype.scrollIntoView=function(e){var t=this.state.keyboardMode,n=this.getScroller();t&&null!=n&&n.scrollIntoViewRect(34*e-10,34*e+34+10)},t.prototype.renderResult=function(e,t){var n=this,r=this.state,a=r.selectedRow,i=r.sendingRecordId;switch(e.type){case v.AutocompleterResultTypes.TEXT_CHANNEL:var l=u.default.getGuild(e.record.guild_id);return o(p.Channel,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record},e.type+"-"+e.record.id,o("div",{className:g.default.miscContainer},void 0,i===e.record.id?o(h.default,{type:h.default.Type.PULSING_ELLIPSIS}):null!=l?l.name:null));case v.AutocompleterResultTypes.GROUP_DM:return o(p.GroupDM,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record,mentions:0},e.type+"-"+e.record.id,i===e.record.id?o(h.default,{type:h.default.Type.PULSING_ELLIPSIS}):null);case v.AutocompleterResultTypes.USER:return o(p.User,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},user:e.record,mentions:0,comparator:e.comparator},e.type+"-"+e.record.id,i===e.record.id?o(h.default,{type:h.default.Type.PULSING_ELLIPSIS}):null)}},t.prototype.render=function(){var e=this.props,t=e.className,n=e.renderFooter,r=e.title,i=this.state,l=i.query,u=i.selectedRow,d=i.results,f=i.keyboardMode;return o("div",{className:g.default.wrapper,onMouseMove:f?this.disableKeyboardMode:null},void 0,a.createElement(c.default,{size:g.default.modalSize,ref:this._handleModalRef,className:t},o(c.default.Header,{},void 0,o(c.default.CloseButton,{className:g.default.closeButton,onClick:this.close}),o("div",{className:g.default.header},void 0,o(y.default,{tag:y.default.Tags.H2,className:E.default.marginBottom8},void 0,r),o(m.default,{query:l,selectedSection:0,selectedRow:u,sections:[d.length],className:g.default.queryInput,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onKeyDown:this.handleKeyDown,light:s.default.theme===v.ThemeTypes.LIGHT,placeholder:_.default.Messages.ACTIVITY_FEED_SHARE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===d.length?o("div",{className:g.default.noResults}):o(c.default.LazyContent,{elementHeight:34,paddingBottom:20,keyboardScroll:!0},void 0,d.map(this.renderResult,this)),null!=n?n():null))},t}(a.PureComponent);C.displayName="ChannelSelectModal",t.default=C,e.exports=t.default},7206:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=v(n(17)),u=n(224),s=n(5979),d=v(s),f=v(n(152)),c=v(n(306)),p=v(n(6104)),h=v(n(7594)),y=n(0),m=v(n(5800));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderActivity=function(){var e=this.props.activity;return null==e?null:a(f.default,{className:m.default.activity,align:f.default.Align.CENTER},void 0,a("div",{className:m.default.activityText},void 0,(0,u.renderActivity)(e)),(0,u.hasRichActivity)(e)?a(c.default,{name:c.default.Names.RICH_ACTIVITY,className:m.default.activityIcon,foreground:m.default.activityIconForeground}):null)},t.prototype.render=function(){var e,t=this.props,n=t.user,r=t.nick,f=t.colorString,c=t.className,v=t.darkenColor,_=t.status,E=t.isTyping,g=t.isOwner,S=t.ownerTooltipText,T=t.activity,I=t.shouldAnimateTypingIndicator,C=t.showMobileIndicator,N=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["user","nick","colorString","className","darkenColor","status","isTyping","isOwner","ownerTooltipText","activity","shouldAnimateTypingIndicator","showMobileIndicator"]);if(null==n)return a(h.default,{avatarSize:s.AvatarSizes.SMALL,className:m.default.placeholder});var A={};null!=f&&(A.color=f);var O=_===y.StatusTypes.OFFLINE,b=O?m.default.avatarOffline:null,M=O?m.default.memberOffline:m.default.memberOnline,R=O?m.default.usernameOffline:m.default.usernameOnline,P=(0,u.isStreaming)(T)?d.default.Statuses.STREAMING:_;return P=O?null:P,i.createElement("div",o({},N,{className:(0,l.default)(M,c)}),a("div",{className:m.default.content},void 0,a("span",{className:m.default.avatarWrapper},void 0,a(d.default,{size:d.default.Sizes.SMALL,src:n.getAvatarURL(),className:b,status:P,statusClassName:I?m.default.statusAnimated:m.default.statusStatic,isTyping:E,shouldAnimateTypingIndicator:I})),a("div",{className:m.default.memberInner},void 0,a(p.default,{className:(0,l.default)(m.default.nameTag,(e={},e[m.default.darken]=null!=f&&v,e)),usernameClass:R,hideDiscriminator:!0,nick:r,isOwner:g,ownerTooltipText:S,ownerIconClass:m.default.ownerIcon,user:n,style:A,showMobileIndicator:C,mobileIndicatorClassName:m.default.mobileIndicator}),this.renderActivity())))},t}(i.PureComponent);_.defaultProps={shouldAnimateTypingIndicator:!0},_.displayName="MemberListItem",t.default=_,e.exports=t.default},7233:function(e,t,n){var r={"./af":6627,"./af.js":6627,"./ar":6628,"./ar-dz":6629,"./ar-dz.js":6629,"./ar-kw":6630,"./ar-kw.js":6630,"./ar-ly":6631,"./ar-ly.js":6631,"./ar-ma":6632,"./ar-ma.js":6632,"./ar-sa":6633,"./ar-sa.js":6633,"./ar-tn":6634,"./ar-tn.js":6634,"./ar.js":6628,"./az":6635,"./az.js":6635,"./be":6636,"./be.js":6636,"./bg":6637,"./bg.js":6637,"./bm":6638,"./bm.js":6638,"./bn":6639,"./bn.js":6639,"./bo":6640,"./bo.js":6640,"./br":6641,"./br.js":6641,"./bs":6642,"./bs.js":6642,"./ca":6643,"./ca.js":6643,"./cs":6644,"./cs.js":6644,"./cv":6645,"./cv.js":6645,"./cy":6646,"./cy.js":6646,"./da":6647,"./da.js":6647,"./de":6648,"./de-at":6649,"./de-at.js":6649,"./de-ch":6650,"./de-ch.js":6650,"./de.js":6648,"./dv":6651,"./dv.js":6651,"./el":6652,"./el.js":6652,"./en-au":6653,"./en-au.js":6653,"./en-ca":6654,"./en-ca.js":6654,"./en-gb":6655,"./en-gb.js":6655,"./en-ie":6656,"./en-ie.js":6656,"./en-il":6657,"./en-il.js":6657,"./en-nz":6658,"./en-nz.js":6658,"./eo":6659,"./eo.js":6659,"./es":6660,"./es-do":6661,"./es-do.js":6661,"./es-us":6662,"./es-us.js":6662,"./es.js":6660,"./et":6663,"./et.js":6663,"./eu":6664,"./eu.js":6664,"./fa":6665,"./fa.js":6665,"./fi":6666,"./fi.js":6666,"./fo":6667,"./fo.js":6667,"./fr":6668,"./fr-ca":6669,"./fr-ca.js":6669,"./fr-ch":6670,"./fr-ch.js":6670,"./fr.js":6668,"./fy":6671,"./fy.js":6671,"./gd":6672,"./gd.js":6672,"./gl":6673,"./gl.js":6673,"./gom-latn":6674,"./gom-latn.js":6674,"./gu":6675,"./gu.js":6675,"./he":6676,"./he.js":6676,"./hi":6677,"./hi.js":6677,"./hr":6678,"./hr.js":6678,"./hu":6679,"./hu.js":6679,"./hy-am":6680,"./hy-am.js":6680,"./id":6681,"./id.js":6681,"./is":6682,"./is.js":6682,"./it":6683,"./it.js":6683,"./ja":6684,"./ja.js":6684,"./jv":6685,"./jv.js":6685,"./ka":6686,"./ka.js":6686,"./kk":6687,"./kk.js":6687,"./km":6688,"./km.js":6688,"./kn":6689,"./kn.js":6689,"./ko":6690,"./ko.js":6690,"./ky":6691,"./ky.js":6691,"./lb":6692,"./lb.js":6692,"./lo":6693,"./lo.js":6693,"./lt":6694,"./lt.js":6694,"./lv":6695,"./lv.js":6695,"./me":6696,"./me.js":6696,"./mi":6697,"./mi.js":6697,"./mk":6698,"./mk.js":6698,"./ml":6699,"./ml.js":6699,"./mn":6700,"./mn.js":6700,"./mr":6701,"./mr.js":6701,"./ms":6702,"./ms-my":6703,"./ms-my.js":6703,"./ms.js":6702,"./mt":6704,"./mt.js":6704,"./my":6705,"./my.js":6705,"./nb":6706,"./nb.js":6706,"./ne":6707,"./ne.js":6707,"./nl":6708,"./nl-be":6709,"./nl-be.js":6709,"./nl.js":6708,"./nn":6710,"./nn.js":6710,"./pa-in":6711,"./pa-in.js":6711,"./pl":6712,"./pl.js":6712,"./pt":6713,"./pt-br":6714,"./pt-br.js":6714,"./pt.js":6713,"./ro":6715,"./ro.js":6715,"./ru":6716,"./ru.js":6716,"./sd":6717,"./sd.js":6717,"./se":6718,"./se.js":6718,"./si":6719,"./si.js":6719,"./sk":6720,"./sk.js":6720,"./sl":6721,"./sl.js":6721,"./sq":6722,"./sq.js":6722,"./sr":6723,"./sr-cyrl":6724,"./sr-cyrl.js":6724,"./sr.js":6723,"./ss":6725,"./ss.js":6725,"./sv":6726,"./sv.js":6726,"./sw":6727,"./sw.js":6727,"./ta":6728,"./ta.js":6728,"./te":6729,"./te.js":6729,"./tet":6730,"./tet.js":6730,"./tg":6731,"./tg.js":6731,"./th":6732,"./th.js":6732,"./tl-ph":6733,"./tl-ph.js":6733,"./tlh":6734,"./tlh.js":6734,"./tr":6735,"./tr.js":6735,"./tzl":6736,"./tzl.js":6736,"./tzm":6737,"./tzm-latn":6738,"./tzm-latn.js":6738,"./tzm.js":6737,"./ug-cn":6739,"./ug-cn.js":6739,"./uk":6740,"./uk.js":6740,"./ur":6741,"./ur.js":6741,"./uz":6742,"./uz-latn":6743,"./uz-latn.js":6743,"./uz.js":6742,"./vi":6744,"./vi.js":6744,"./x-pseudo":6745,"./x-pseudo.js":6745,"./yo":6746,"./yo.js":6746,"./zh-cn":6747,"./zh-cn.js":6747,"./zh-hk":6748,"./zh-hk.js":6748,"./zh-tw":6749,"./zh-tw.js":6749};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=7233},7234:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=q(n(17)),u=q(n(4)),s=q(n(335)),d=q(n(446)),f=q(n(318)),c=q(n(7683)),p=q(n(848)),h=q(n(337)),y=q(n(6167)),m=q(n(847)),v=q(n(132)),_=q(n(7684)),E=q(n(91)),g=q(n(312)),S=q(n(35)),T=q(n(15)),I=q(n(128)),C=q(n(5999)),N=q(n(221)),A=q(n(152)),O=q(n(6236)),b=q(n(306)),M=q(n(222)),R=q(n(6104)),P=q(n(827)),L=q(n(129)),w=q(n(828)),D=q(n(442)),U=n(829),k=q(n(18)),G=n(181),x=n(5989),F=n(229),j=q(n(5994)),B=q(n(850)),H=q(n(6040)),V=n(0),Y=q(n(13)),W=q(n(967)),K=q(n(5351)),z=q(n(880)),$=q(n(5801));function q(e){return e&&e.__esModule?e:{default:e}}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Z=42;function ee(e){var t=e.className,n=e.children;return a(A.default,{align:A.default.Align.CENTER,justify:A.default.Justify.CENTER,direction:A.default.Direction.VERTICAL,className:(0,l.default)($.default.errorState,t)},void 0,a("div",{className:(0,l.default)($.default.errorStateIcon,K.default.marginBottom20)}),n)}ee.displayName="ErrorState";var te=function(e){function t(){var n,r;X(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Q(this,e.call.apply(e,[this].concat(a))),r.handleMouseEnter=function(){var e=r.props,t=e.onMouseEnter,n=e.row;null!=t&&t(n)},r.handleClick=function(){var e=r.props,t=e.onClick,n=e.user;null!=t&&t(n.id)},Q(r,n)}return J(t,e),t.prototype.getDisplayName=function(){var e=this.props,t=e.user,n=e.comparator;return null!=n&&n===t.tag?t.username:n||t.username},t.prototype.render=function(){var e,t=this.props,n=t.user,r=t.hideDiscriminator,o=t.selected,i=t.checked;return a(N.default,{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,className:$.default.friendWrapper},void 0,a(A.default,{align:A.default.Align.CENTER,className:(0,l.default)($.default.friend,(e={},e[$.default.friendSelected]=o,e))},void 0,a(j.default,{user:n,status:v.default.getStatus(n.id),outerClassName:$.default.avatar,statusClassName:$.default.status}),a(A.default,{className:$.default.match,align:A.default.Align.BASELINE},void 0,a(L.default,{weight:L.default.Weights.MEDIUM,className:$.default.nickname},void 0,this.getDisplayName()),a(R.default,{user:n,hideDiscriminator:r,className:$.default.discordTag,usernameClass:W.default.weightMedium,discriminatorClass:W.default.weightMedium})),a(C.default,{color:V.Colors.PRIMARY_DARK,size:22,value:i})))},t}(i.PureComponent);te.displayName="UserRow";var ne=function(e){function t(){var n,r;X(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=Q(this,e.call.apply(e,[this].concat(l))),r.state={separator:!1,copied:!1},r.scrollerRef=i.createRef(),r.searchBarRef=i.createRef(),r.renderRow=function(e,t){var n=e.user,o=e.comparator,i=r.props,l=i.selectedUsers,u=i.selectedRow,s=i.hideDiscriminator,d=l.has(n.id);return a(te,{row:t,user:n,hideDiscriminator:s,comparator:o,checked:d,selected:t===u,onClick:r.handleClick,onMouseEnter:r.focusResult},n.id)},r.forceFocus=function(){var e=r.searchBarRef.current;e&&e.focus()},r.focusResult=function(e){c.default.select(e)},r.handleSelect=function(e,t){var n=r.props.results;null==t?c.default.clear():null!=n&&r.handleClick(n[t].user.id)},r.handleSelectionChange=function(e,t){c.default.select(t);var n=r.scrollerRef.current;null!=n&&n.scrollIntoViewRect(t*Z,t*Z+Z)},r.handleRemoveUser=function(e){var t=Array.from(r.props.selectedUsers);c.default.removeUser(t[e]),r.forceFocus()},r.handleClick=function(e){var t=r.props,n=t.selectedUsers,o=t.query;!n.has(e)?(c.default.addUser(e),o.length>0&&c.default.clear()):c.default.removeUser(e),r.forceFocus()},r.handleScroll=function(){var e=r.scrollerRef.current;null!=e&&r.setState({separator:0!==e.getScrollTop()})},r.handleInviteUsers=function(){var e=r.props,t=e.channel,n=e.selectedUsers,o=e.onClose,a=Array.from(n);if(null!=t){var i=h.default.isCallActive(t.id);d.default.addRecipients(t.id,a,"Add Friends to DM").then(function(e){i&&s.default.ring(e,a)})}else d.default.openPrivateChannel(T.default.getCurrentUser().id,a,!1,!1,"New Group DM");o()},r.handleCopyInvite=function(e){var t=r.props,n=t.channel,o=t.invite;null!=o&&(0,x.copy)(e),null!=r.copyTimeout&&clearTimeout(r.copyTimeout),r.setState({copied:!0}),r.copyTimeout=setTimeout(function(){r.setState({copied:!1})},1e3),k.default.track(V.AnalyticEvents.COPY_INSTANT_INVITE,{server:null,channel:null!=n?n.id:null,channel_type:null!=n?n.type:null,location:"Add Friends to DM",code:null!=o?o.code:null})},Q(r,n)}return J(t,e),t.prototype.componentDidMount=function(){var e=this.props.channel,t=(0,G.collectChannelAnalyticsMetadata)(e);null!=e?e.isDM()?k.default.track(V.AnalyticEvents.OPEN_POPOUT,o({},t,{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):k.default.track(V.AnalyticEvents.OPEN_POPOUT,o({},t,{type:"Add Friends to DM",source:"Group DM"})):k.default.track(V.AnalyticEvents.OPEN_POPOUT,o({},t,{type:"New Group DM",source:"Friends List"}))},t.prototype.componentWillUnmount=function(){null!=this.copyTimeout&&clearTimeout(this.copyTimeout)},t.prototype.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM");return!E.default.isFriend(t)},t.prototype.createInvite=function(){var e=this.props.channel;null!=e&&e.isGroupDM()&&!this.isPartyFull()&&f.default.createInvite(e.id,{max_age:10800},"Group DM Invite Create")},t.prototype.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()},t.prototype.getMaxParticipants=function(){return V.MAX_GROUP_DM_PARTICIPANTS},t.prototype.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-r},t.prototype.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=this.getRemaining(),o=null!=t&&0===n.size||r<0;return a(I.default,{fullWidth:!0,disabled:o,onClick:this.handleInviteUsers},void 0,Y.default.Messages.CREATE_GROUP_DM)},t.prototype.renderAddUsersButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var r=this.getRemaining(),o=0===n.size||r<0;return a("div",{className:$.default.addButton},void 0,a(I.default,{size:I.default.Sizes.SMALL,disabled:o,onClick:this.handleInviteUsers},void 0,Y.default.Messages.ADD))}},t.prototype.renderSubtitle=function(){var e;if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var t=this.getRemaining(),n=t<=0?Y.default.Messages.GROUP_DM_INVITE_FULL_SUB:Y.default.Messages.GROUP_DM_INVITE_REMAINING.format({number:t});return a(L.default,{size:L.default.Sizes.SMALL,className:(0,l.default)($.default.subtitle,(e={},e[$.default.subtitleWarning]=t<0,e),K.default.marginTop4)},void 0,n)},t.prototype.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,r=e.results,o=e.selectedRow,u=e.selectedUsers,s=S.default.theme;if(!n||this.isNotFriends())return null;var d=[];return u.forEach(function(e){var t=T.default.getUser(e);null!=t&&d.push(t.username)}),a(A.default,{className:(0,l.default)($.default.searchBar,K.default.marginTop20)},void 0,i.createElement(H.default,{ref:this.searchBarRef,query:t,selectedSection:0,selectedRow:o,sections:[r?r.length:0],tags:d,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,light:s===V.ThemeTypes.LIGHT,placeholder:0===u.size?Y.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER:null,disabled:this.isPartyFull(),className:$.default.searchBarComponent,autoFocus:!0}),this.renderAddUsersButton())},t.prototype.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?Y.default.Messages.GROUP_DM_ADD_FRIENDS:Y.default.Messages.GROUP_DM_HEADER;return a(M.default.Header,{direction:A.default.Direction.VERTICAL,align:A.default.Align.STRETCH,className:$.default.header,separator:e},void 0,a(U.FormTitle,{tag:U.FormTitle.Tags.H4},void 0,t),this.renderSubtitle(),this.renderSearchBar())},t.prototype.renderBody=function(){var e=this,t=this.props,n=t.channel,r=t.hasFriends,o=t.results;if(this.isNotFriends()){var u=null!=n?n.getRecipientId():null;if(null==u)throw new Error("no recipient in DM");var s=T.default.getUser(u),d=null!=s?s.username:"";return a(ee,{className:$.default.notFriends},void 0,a("div",{},void 0,Y.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:d})),a(I.default,{size:I.default.Sizes.SMALL,onClick:function(){return s?e.handleAddFriend(s):null},className:K.default.marginTop20},void 0,Y.default.Messages.ADD_FRIEND_BUTTON))}if(!r)return a(ee,{className:$.default.noFriends},void 0,a("div",{},void 0,Y.default.Messages.GROUP_DM_INVITE_NO_FRIENDS));if(this.isPartyFull())return a(ee,{className:$.default.partyFull},void 0,a("div",{},void 0,Y.default.Messages.GROUP_DM_INVITE_FULL_MAIN),a("div",{},void 0,Y.default.Messages.GROUP_DM_INVITE_FULL_SUB));if(0===o.length)return a(ee,{className:(0,l.default)($.default.noResults,K.default.marginBottom20)},void 0,a("div",{},void 0,Y.default.Messages.GROUP_DM_INVITE_EMPTY));var f=S.default.theme,c=o.map(this.renderRow);return i.createElement(B.default,{ref:this.scrollerRef,className:$.default.scroller,elementHeight:Z,theme:B.default.Themes.GHOST_HAIRLINE,backgroundColor:f===V.ThemeTypes.LIGHT?void 0:V.Colors.PRIMARY_DARK_630,onUpdate:this.handleScroll,onScroll:this.handleScroll,keyboardScroll:!0,track:!1,paddingTop:0,paddingBottom:14,fade:!0},c)},t.prototype.renderInviteLink=function(){var e,t=this,n=this.props,r=n.channel,o=n.invite,u=n.hideInstantInvites,s=this.state.copied;if(null==r||!r.isGroupDM()||this.isPartyFull())return null;var d=null!=o?(0,F.getInviteURL)(o.code):"";return a(i.Fragment,{},void 0,a(U.FormTitle,{tag:U.FormTitle.Tags.H5,className:K.default.marginBottom8},void 0,Y.default.Messages.GROUP_DM_INVITE_LINK_TITLE),a(A.default,{className:(0,l.default)(z.default.input,(e={},e[z.default.success]=s,e)),justify:A.default.Justify.BETWEEN,align:A.default.Align.CENTER},void 0,d.length>0?a(w.default,{className:$.default.copyInput,name:"invite",value:u?Y.default.Messages.INSTANT_INVITE_HIDDEN:d,editable:!1,inputClassName:$.default.noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}):a(w.default,{className:$.default.copyInput,name:"invite",value:d,placeholder:(0,F.getInviteURL)(Y.default.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),editable:!1,inputClassName:$.default.noBorder,spellCheck:"false",onClick:function(){return t.createInvite()}}),x.SUPPORTS_COPY&&d.length>0?a(I.default,{size:I.default.Sizes.SMALL,color:s?I.default.Colors.GREEN:I.default.Colors.BRAND,className:$.default.copyButton,onClick:function(){return t.handleCopyInvite(d)}},void 0,s?Y.default.Messages.INVITE_COPIED:Y.default.Messages.COPY):null,0===d.length?a(I.default,{size:I.default.Sizes.SMALL,color:I.default.Colors.BRAND,className:$.default.copyButton,onClick:function(){return t.createInvite()}},void 0,Y.default.Messages.GROUP_DM_INVITE_LINK_CREATE):null),d.length>0?a(L.default,{size:L.default.Sizes.SMALL,className:(0,l.default)(K.default.marginTop8,$.default.footerText)},void 0,Y.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:"3"})):null)},t.prototype.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var r=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=r?a(i.Fragment,{},void 0,a("div",{className:$.default.footerSeparator}),a(A.default,{direction:A.default.Direction.VERTICAL,className:$.default.footer},void 0,r)):void 0},t.prototype.render=function(){return a(M.default,{className:$.default.popout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},t.prototype.handleAddFriend=function(e){this.props.onClose(),p.default.sendRequest(e.tag,{location:"Group DM"})},t.prototype.handleQueryChange=function(e){c.default.search(e)},t}(i.PureComponent);ne.displayName="PrivateChannelRecipientsInvitePopout";var re=u.default.connectStores([_.default,y.default,g.default],function(e){var t=e.channel,n=void 0;return null!=t&&null!=(n=y.default.getInvite(t.id))&&n.isExpired()&&(n=null),o({},_.default.getState(),{invite:n,hideDiscriminator:g.default.hidePersonalInformation,hideInstantInvites:g.default.hideInstantInvites})})(ne),oe=function(e){function t(){var n,r;X(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=Q(this,e.call.apply(e,[this].concat(l))),r.popoutRef=i.createRef(),r.renderPopout=function(e){return i.createElement(re,o({},e,{channel:r.props.channel}))},Q(r,n)}return J(t,e),t.prototype.componentDidMount=function(){this.maybeForceOpen()},t.prototype.componentDidUpdate=function(e){e.channel!==this.props.channel&&this.maybeForceOpen()},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.tooltip;return i.createElement(P.default,{ref:this.popoutRef,closeOnScroll:!1,render:this.renderPopout,position:P.default.Positions.TOP_RIGHT,shadow:!1,offsetX:5,uniqueId:V.NEW_GROUP_DM_POPOUT_ID,animationType:P.default.Animations.NONE,subscribeTo:V.ComponentActions.TOGGLE_DM_CREATE},a(D.default,{text:n,position:D.default.Positions.BOTTOM},void 0,a(O.default.Icon,{name:null==t?b.default.Names.COMPOSE:b.default.Names.PERSON_PLUS})))},t.prototype.maybeForceOpen=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&0===e.recipients.length&&!m.default.isOpen(V.NEW_GROUP_DM_POPOUT_ID)){var t=this.popoutRef.current;null!=t&&t.open()}},t}(i.Component);oe.displayName="PrivateChannelRecipientsInviteButton",t.default=oe,e.exports=t.default},7235:function(e,t,n){"use strict";t.__esModule=!0,t.BackgroundTransition=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(17)),u=y(n(6)),s=y(n(310)),d=n(81),f=y(n(833)),c=y(n(152)),p=n(0),h=y(n(5806));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=((o={})[p.ChannelLayouts.NORMAL]=h.default.normal,o[p.ChannelLayouts.MINIMUM]=h.default.minimum,o[p.ChannelLayouts.NO_CHAT]=h.default.noChat,o[p.ChannelLayouts.FULL_SCREEN]=h.default.fullScreen,o),g=t.BackgroundTransition=function(e){function t(n){m(this,t);var r=v(this,e.call(this,n));return r.state={animation:new s.default.Value(0)},r}return _(t,e),t.prototype.componentDidAppear=function(){this.state.animation.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0),s.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)},t.prototype.componentWillLeave=function(e){s.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)},t.prototype.render=function(){return a(s.default.div,{className:h.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)},t}(i.PureComponent);g.displayName="BackgroundTransition";var S=function(e){function t(n){m(this,t);var r=v(this,e.call(this,n));return r._timeout=new d.Timeout,r.state={idle:!1,backgroundAnimation:new s.default.Value(0)},u.default.bindAll(r,["handleMouseEvent"]),r}return _(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0),document.addEventListener("mousemove",this.handleMouseEvent,!0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0),document.removeEventListener("mousemove",this.handleMouseEvent,!0),this._timeout.stop()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.layout!==e.layout&&(this._timeout.stop(),this.state.idle&&this.setState({idle:!1}))},t.prototype.handleMouseEvent=function(){var e=this,t=this.props.layout;t!==p.ChannelLayouts.FULL_SCREEN&&t!==p.ChannelLayouts.NO_CHAT||(this._timeout.start(3e3,function(){return e.setState({idle:!0})}),this.state.idle&&this.setState({idle:!1}))},t.prototype.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(n||"");return a(f.default,{className:h.default.videoBackground,component:"div"},void 0,a(g,{},r,t))},t.prototype.renderContents=function(){var e,t,n=this.props,r=n.top,o=n.center,i=n.bottom,u=n.layout,s=n.focused,d=this.state.idle;return a(c.default,{className:(0,l.default)(h.default.video,E[u],(e={},e[h.default.idle]=d,e)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,a(c.default,{className:h.default.videoWrapper,direction:c.default.Direction.VERTICAL},void 0,this.renderBackground(),a(c.default,{className:(0,l.default)(h.default.videoInner,(t={},t[h.default.focused]=s,t)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,a(c.default,{className:h.default.videoTop,grow:0},void 0,r),a(c.default,{className:h.default.videoCenter},void 0,o),a(c.default,{className:h.default.videoBottom,grow:0},void 0,i))))},t.prototype.render=function(){var e,t=this.props,n=t.layout,r=t.className,o=t.animated;return a("div",{className:(0,l.default)(h.default.videoHeight,E[n],r,(e={},e[h.default.animated]=o,e))},void 0,this.renderContents())},t}(i.PureComponent);S.defaultProps={layout:p.ChannelLayouts.MINIMUM,animated:!0},S.displayName="Video",t.default=S},7236:function(e,t,n){"use strict";t.__esModule=!0,t.CALL_AVATAR_VIDEO_RATIO=t.CallAvatarPixelSizes=t.CallAvatarSizes=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(17)),u=y(n(221)),s=y(n(152)),d=y(n(306)),f=y(n(6750)),c=y(n(442)),p=n(0),h=y(n(5812));function y(e){return e&&e.__esModule?e:{default:e}}var m=t.CallAvatarSizes={XXLARGE:"xxlarge",XLARGE:"xlarge",LARGE:"large",SMALL:"small"},v=(t.CallAvatarPixelSizes=((o={})[m.XXLARGE]=100,o[m.XLARGE]=60,o[m.LARGE]=40,o[m.SMALL]=30,o),t.CALL_AVATAR_VIDEO_RATIO=1.78,function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.selected,r=e.streamId,o=e.hasVideo,i=e.mirror,l=e.videoComponent,u=e.disabled,c=e.poorConnection;if(u)return null;if(t===p.ChannelModes.VIDEO&&(n||c)){var y=void 0;return y=a(d.default,c?{className:h.default.poorConnectionIcon,width:24,height:24,color:p.Colors.WHITE,name:d.default.Names.CAMERA_OFF}:{width:36,height:36,className:h.default.cameraIcon,color:p.Colors.WHITE,name:d.default.Names.VIDEO_CAMERA}),a(s.default,{className:h.default.callAvatarOverlay,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,direction:s.default.Direction.VERTICAL},void 0,y)}return t===p.ChannelModes.VIDEO&&o&&null!=l?a(f.default,{className:h.default.callAvatarVideo,mirror:i,streamId:r,videoComponent:l,fit:f.default.Fit.COVER}):null},t.prototype.renderRipples=function(){return this.props.ringing?[a("div",{className:(0,l.default)(h.default.ripple,h.default.ripple0)},"ripple-0"),a("div",{className:(0,l.default)(h.default.ripple,h.default.ripple1)},"ripple-1"),a("div",{className:(0,l.default)(h.default.ripple,h.default.ripple2)},"ripple-2")]:null},t.prototype.renderTopLayer=function(){var e,t=this.props,n=t.mode,r=t.speaking,o=t.soundsharing,i=t.selected,u=t.muted,s=t.deafen,f=t.disabled,c=r&&!f,y=o&&!f,m=i&&!f,v=u&&!f,_=s&&!f,E=a("div",{className:(0,l.default)(h.default.callAvatarBorder,h.default[n],(e={},e[h.default.selected]=m,e[h.default.soundsharing]=y,e[h.default.speaking]=c,e))},"border"),g=n===p.ChannelModes.VOICE,S=void 0;if(v||_){var T=g?24:20;S=a(d.default,{className:h.default.callAvatarStatus,width:T,height:T,color:p.Colors.WHITE,name:_?d.default.Names.DEAFENED:d.default.Names.MUTED},"status")}return g?[E,S]:[S,E]},t.prototype.render=function(){var e,t,n=this.props,r=n.src,o=n.mode,i=n.size,s=n.id,d=n.onClick,f=n.onContextMenu,y=n.className,m=n.disabled,v=n.name,_={backgroundImage:"url('"+r+"')"},E=a("div",{className:(0,l.default)(h.default.callAvatarWrapper,h.default[o],h.default[i],(e={},e[h.default.disabled]=m,e),y)},void 0,this.renderRipples(),a(u.default,{className:(0,l.default)(h.default.callAvatar,h.default[o],(t={},t[h.default.disabled]=m,t)),style:_,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d&&d(s,e)}),onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return f&&f(e,s)})},void 0,this.renderContent(),this.renderTopLayer()));return o===p.ChannelModes.VOICE||m?E:a(c.default,{text:v,position:c.default.Positions.LEFT},void 0,E)},t}(i.PureComponent));v.defaultProps={mode:p.ChannelModes.VOICE,size:m.XXLARGE,selected:!1,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,poorConnection:!1},v.displayName="CallAvatar",t.default=v},7237:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(152)),u=d(n(222)),s=d(n(5817));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRef=r.setRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.getScrollerNode=function(){var e=this._scroller;return e?e.getScrollerNode():null},t.prototype.render=function(){var e=this.props,t=e.renderFooter,n=e.selectable,r=e.renderHeader,d=e.className,f=e.onClose,c=e.children,p=e.onScroll,h=void 0;return t&&(h=o(u.default.Footer,{direction:l.default.Direction.HORIZONTAL},void 0,t())),a.createElement(u.default,{className:s.default.modal,size:s.default.size,ref:this.setRef,onScroll:p},o(u.default.Header,{},void 0,r(),o(l.default.Child,{grow:0},void 0,o(u.default.CloseButton,{onClick:f}))),o(u.default.Content,{className:(0,i.default)(d,s.default.content,{selectable:n})},void 0,c),h)},t}(a.PureComponent);f.defaultProps={selectable:!1},f.displayName="Markdown",t.default=f,e.exports=t.default},7238:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Z(n(2)),u=J(n(17)),s=J(n(38)),d=J(n(6)),f=J(n(4)),c=n(57),p=n(81),h=n(307),y=Z(n(6132)),m=J(n(5990)),v=J(n(5354)),_=J(n(12)),E=J(n(43)),g=J(n(46)),S=J(n(909)),T=J(n(132)),I=J(n(7239)),C=J(n(15)),N=J(n(502)),A=J(n(154)),O=J(n(5979)),b=J(n(128)),M=J(n(152)),R=J(n(306)),P=n(876),L=J(P),w=J(n(6750)),D=J(n(6023)),U=J(n(6003)),k=J(n(9)),G=J(n(458)),x=Z(n(6052)),F=J(n(6951)),j=J(n(5983)),B=J(n(5352)),H=J(n(7722)),V=J(n(7723)),Y=J(n(7724)),W=J(n(7725)),K=J(n(7726)),z=J(n(7727)),$=J(n(7728)),q=n(0),X=J(n(13)),Q=J(n(5824));function J(e){return e&&e.__esModule?e:{default:e}}function Z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var re=1800,oe=854,ae=480;function ie(e){var t=e.user,n=e.application,r=e.channel,o=e.nickname,a=e.compact,u=void 0!==a&&a;return i("div",{className:Q.default.title},void 0,u?null:i(O.default,{className:Q.default.titleAvatar,size:O.default.Sizes.SMALL,src:t.getAvatarURL()}),i("div",{className:Q.default.titleText},void 0,o||t.username,u||null==n?null:i(l.Fragment,{},void 0,i("div",{className:Q.default.titleDivider}),i(U.default,{size:U.default.Sizes.SIZE_14,className:Q.default.titleSubtext},void 0,X.default.Messages.STREAM_PLAYING.format({game:n.name,channel:r.name})))))}ie.displayName="Title";var le=function(e){function t(){var n,r;ee(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=te(this,e.call.apply(e,[this].concat(i))),r.state={popoutStaysOpen:!1},r.keepPopoutOpen=function(){r.setState({popoutStaysOpen:!0})},r.closePopout=function(){r.setState({popoutStaysOpen:!1})},r.handleUserContextMenu=function(e,t){r.keepPopoutOpen(),(0,h.openContextMenu)(e,function(e){return l.createElement(B.default,a({},e,{type:q.ContextMenuTypes.USER_GENERIC_LIST,user:t}))},{onClose:r.closePopout})},te(r,n)}return ne(t,e),t.prototype.renderOverflow=function(e){return i("div",{className:Q.default.overflow},"overflow","+",e)},t.prototype.renderAvatar=function(e){return i(O.default,{src:e.avatarURL,size:O.default.Sizes.SMALL,className:Q.default.viewer},e.id)},t.prototype.renderCompact=function(){var e=this.props.viewers;return i(P.TooltipContainer,{text:X.default.Messages.LIVE_VIEWERS.format({viewers:e.length})},void 0,i("div",{className:Q.default.viewers},void 0,i(R.default,{className:Q.default.viewersIcon,name:R.default.Names.EYE}),e.length))},t.prototype.render=function(){var e=this,t=this.props,n=t.viewers,r=t.compact,o=this.state.popoutStaysOpen;if(0===n.length)return null;if(r)return this.renderCompact();var a=(0,d.default)(n).take(3).map(this.renderAvatar).value();return n.length>3&&(a[a.length-1]=this.renderOverflow(n.length-3+1)),i("div",{className:Q.default.viewers},void 0,i(j.default,{section:q.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,i("div",{className:(0,u.default)(Q.default.popout,o?Q.default.keepOpen:Q.default.hideOnMouseLeave)},void 0,i(D.default,{size:D.default.Sizes.SIZE_12,className:Q.default.memberListHeader},void 0,X.default.Messages.SPECTATORS.format({numViewers:n.length})),i("div",{},void 0,n.map(function(t){return i(F.default,{user:t,onContextMenu:function(n){return e.handleUserContextMenu(n,t)},onPopoutOpen:e.keepPopoutOpen,onPopoutClose:e.closePopout},t.id)})))),a)},t}(l.PureComponent);le.defaultProps={compact:!1},le.displayName="Viewers";var ue=function(e){function t(){var n,r;ee(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=te(this,e.call.apply(e,[this].concat(a))),r._rootRef=l.createRef(),r.state={idle:!1,errorDismissed:!1},r._idleDelayedCall=new p.DelayedCall(re,function(){return r.setState({idle:!0})}),r.handleStopStream=function(){var e=r.props.stream;x.stopStreaming(e)},r.handleMouseEvent=function(){r.state.idle&&r.setState({idle:!1}),r._idleDelayedCall.delay()},r.handleDismissError=function(){r.setState({errorDismissed:!0})},r.handleOpenPopout=function(){var e=r.props,t=e.channel,n=e.streamer;(0,s.default)(null!=n,"Streaming user should not be null"),y.open(q.PopoutWindowKeys.STREAM_POPOUT,function(){return i(H.default,{windowKey:q.PopoutWindowKeys.STREAM_POPOUT,title:X.default.Messages.USERNAME_LIVE.format({username:n.username})},void 0,i(se,{channel:t,appContext:q.AppContext.POPOUT}))},{defaultWidth:oe,defaultHeight:ae})},r.handleClosePopout=function(){y.close(q.PopoutWindowKeys.STREAM_POPOUT)},r.handleStayOnTop=function(e){k.default.setAlwaysOnTop(q.PopoutWindowKeys.STREAM_POPOUT,e)},r.renderCloseButton=function(){return i(P.TooltipContainer,{text:X.default.Messages.STOP_WATCHING},void 0,i(b.default,{onClick:r.handleStopStream,look:b.default.Looks.BLANK,size:b.default.Sizes.NONE},void 0,i(R.default,{className:Q.default.controlButton,name:R.default.Names.CLOSE})))},te(r,n)}return ne(t,e),t.prototype.componentDidMount=function(){this._idleDelayedCall.delay()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.streamQuality,r=t.reconnecting,o=this.state.errorDismissed,a=e.streamQuality!==q.RTCConnectionQuality.BAD&&n===q.RTCConnectionQuality.BAD,i=!e.reconnecting&&r;(a||i)&&o&&this.setState({errorDismissed:!1})},t.prototype.componentWillUnmount=function(){this._idleDelayedCall.cancel()},t.prototype.renderTitle=function(){var e=this.props,t=e.streamer,n=e.streamerNickname,r=e.channel,o=e.application;return null==t?null:i(M.default,{justify:M.default.Justify.BETWEEN,align:M.default.Align.CENTER},void 0,i(ie,{user:t,nickname:n,compact:this.isMiniPlayer,application:o,channel:r}),this.isMiniPlayer?null:i(P.TooltipContainer,{text:X.default.Messages.LIVE_BETA_DESCRIPTION,position:L.default.Positions.BOTTOM},void 0,i("div",{className:Q.default.liveBeta},void 0,i(K.default,{className:Q.default.liveIcon}),i("div",{className:Q.default.beta},void 0,X.default.Messages.BETA))),this.isMiniPlayer&&!this.isSelfStream?this.renderCloseButton():null)},t.prototype.renderMainControlButtons=function(e){if(e.id===_.default.getId())return i(b.default,{size:b.default.Sizes.SMALL,color:b.default.Colors.PRIMARY,onClick:this.handleStopStream},void 0,X.default.Messages.STOP_STREAMING);var t=this.props.popoutWindow;return i(l.Fragment,{},void 0,i($.default,{userId:e.id,currentWindow:this.inPopout&&null!=t?t:void 0,mediaEngineContext:c.MediaEngineContextTypes.STREAM,iconClassName:Q.default.trayButton,sliderClassName:Q.default.volumeSlider}),i(b.default,{size:b.default.Sizes.SMALL,color:b.default.Colors.PRIMARY,onClick:this.handleStopStream},void 0,X.default.Messages.STOP_WATCHING),i(z.default,{className:Q.default.trayButton}))},t.prototype.renderEmpty=function(){return i(M.default,{className:Q.default.empty,justify:M.default.Justify.CENTER,align:M.default.Align.CENTER,direction:M.default.Direction.VERTICAL},void 0,i("span",{className:Q.default.emptyText},void 0,X.default.Messages.STREAM_ENDED),i(b.default,{size:b.default.Sizes.SMALL,color:b.default.Colors.GREY,onClick:this.props.onClose},void 0,X.default.Messages.CLOSE_WINDOW))},t.prototype.renderPopoutButton=function(){var e=this.inPopout,t=e?X.default.Messages.POPOUT_RETURN:X.default.Messages.POPOUT_PLAYER,n=e?this.handleClosePopout:this.handleOpenPopout,r=e?R.default.Names.WINDOW_RETURN:R.default.Names.EXTERNAL_LINK,o=e?Q.default.rightTrayButtonNoPadding:Q.default.rightTrayButton;return i(P.TooltipContainer,{text:t},void 0,i(b.default,{onClick:n,look:b.default.Looks.BLANK,size:b.default.Sizes.NONE},void 0,i(R.default,{className:o,name:r})))},t.prototype.renderStayOnTop=function(){var e,t=this,n=this.props.popoutWindowAlwaysOnTop;return i(P.TooltipContainer,{text:n?X.default.Messages.POPOUT_REMOVE_FROM_TOP:X.default.Messages.POPOUT_STAY_ON_TOP},void 0,i(b.default,{onClick:function(){return t.handleStayOnTop(!n)},look:b.default.Looks.BLANK,size:b.default.Sizes.NONE},void 0,i(R.default,{className:(0,u.default)(Q.default.rightTrayButtonNoPadding,(e={},e[Q.default.activeButton]=n,e)),name:R.default.Names.STAY_ON_TOP})))},t.prototype.renderStopStreamButton=function(){return i(P.TooltipContainer,{text:X.default.Messages.STOP_STREAMING},void 0,i(b.default,{onClick:this.handleStopStream,look:b.default.Looks.BLANK,size:b.default.Sizes.NONE},void 0,i(R.default,{className:Q.default.rightTrayButton,name:R.default.Names.STOP_STREAM})))},t.prototype.renderBottomRightControls=function(){var e=this.props.popoutWindow,t=!this.isMiniPlayer&&this.popoutWindowSupported,n=this.inPopout&&this.nativePopoutSupported&&!this.isMiniPlayer,r=this.isSelfStream&&this.isMiniPlayer;return i(l.Fragment,{},void 0,t?this.renderPopoutButton():null,n?this.renderStayOnTop():null,r?this.renderStopStreamButton():null,this.isMiniPlayer?null:i(Y.default,{className:Q.default.fullscreenButton,node:this._rootRef.current,guestWindow:this.inPopout?e:null}))},t.prototype.renderBottomLeftControls=function(){var e=this.props,t=e.stream,n=e.viewers;return i(l.Fragment,{},void 0,i(W.default,{stream:t,className:Q.default.inviteButton}),i(le,{viewers:n,compact:this.isMiniPlayer}))},t.prototype.render=function(){var e,t=this.props,n=t.streamId,r=t.stream,o=t.streamer,a=t.isWindowFocused,s=this.state,d=s.idle,f=s.errorDismissed,c=g.default.getMediaEngine().Video;if(null==r||null==o)return this.renderEmpty();var p=!this.inPopout&&this.popoutOpen,h=this.isSelfStream&&!a&&!this.inPopout,y=p||h;return l.createElement("div",{className:(0,u.default)(Q.default.root,(e={},e[Q.default.miniPlayer]=this.isMiniPlayer,e[Q.default.idle]=d,e)),onMouseMove:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,ref:this._rootRef},i(w.default,{className:Q.default.video,streamId:n,videoComponent:c,paused:y}),y?i(M.default,{className:Q.default.paused,justify:M.default.Justify.CENTER,align:M.default.Align.CENTER},void 0,i(U.default,{className:Q.default.pausedText},void 0,p?X.default.Messages.POPOUT_PLAYER_OPENED:X.default.Messages.STREAM_PAUSED)):null,i("div",{className:Q.default.videoControls},void 0,i("div",{className:Q.default.topControls},void 0,this.renderTitle()),i("div",{className:Q.default.rightControls}),i("div",{className:Q.default.bottomControls},void 0,i(M.default,{grow:0,shrink:1,basis:"50%",align:M.default.Align.CENTER},void 0,this.renderBottomLeftControls()),i(M.default,{grow:1,justify:M.default.Justify.CENTER,align:M.default.Align.CENTER},void 0,this.isMiniPlayer?null:this.renderMainControlButtons(o)),i(M.default,{grow:0,shrink:1,justify:M.default.Justify.END,basis:"50%",align:M.default.Align.CENTER},void 0,this.renderBottomRightControls()))),this.isMiniPlayer&&d?i(K.default,{className:Q.default.liveIconMiniPlayer}):null,this.errorMessage&&!f?i(V.default,{onClose:this.handleDismissError,className:Q.default.error},void 0,this.errorMessage):null)},o(t,[{key:"inPopout",get:function(){return this.props.appContext===q.AppContext.POPOUT}},{key:"isMiniPlayer",get:function(){var e=this.props,t=e.width,n=e.height;return t<=320||n<=180}},{key:"errorMessage",get:function(){var e=this.props,t=e.streamQuality;return e.reconnecting?X.default.Messages.STREAM_RECONNECTING_ERROR:t===q.RTCConnectionQuality.BAD?X.default.Messages.STREAM_NETWORK_QUALITY_ERROR:void 0}},{key:"nativePopoutSupported",get:function(){return k.default.embedded&&k.default.supportsFeature(q.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"popoutWindowSupported",get:function(){return!k.default.embedded||this.nativePopoutSupported}},{key:"isSelfStream",get:function(){var e=this.props.streamer;return(0,s.default)(null!=e,"Streaming user should not be null"),e.id===_.default.getId()}}]),t}(l.Component);ue.defaultProps={appContext:q.AppContext.APP},ue.displayName="StreamVideoPlayer";var se=f.default.connectStores([C.default,v.default,N.default,T.default,E.default,I.default,S.default,A.default],function(){var e=v.default.getActiveStream(),t=I.default.getActiveStreamKey(),n=null!=e?T.default.getPrimaryActivity(e.ownerId,e.guildId):null,r=null!=n&&null!=n.application_id?E.default.getGame(n.application_id):null,o=null!=t?v.default.getViewerIds(t):[],a=null!=e?C.default.getUser(e.ownerId):null;return{streamer:a,streamerNickname:null!=e?G.default.getNickname(e.guildId,e.channelId,a):null,stream:e,reconnecting:v.default.getIsReconnecting(),streamId:null!=e?N.default.getStreamId(e.ownerId):null,application:r,popoutWindow:S.default.getWindow(q.PopoutWindowKeys.STREAM_POPOUT),popoutWindowAlwaysOnTop:S.default.getIsAlwaysOnTop(q.PopoutWindowKeys.STREAM_POPOUT),streamQuality:I.default.getQuality(),viewers:(0,d.default)(o).map(function(e){return C.default.getUser(e)}).filter(function(e){return null!=e}).value(),isWindowFocused:A.default.isFocused()}})((0,m.default)(ue));t.default=se,e.exports=t.default},7239:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(6)),a=p(n(4)),i=n(57),l=p(n(1)),u=p(n(356)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6052)),d=p(n(12)),f=p(n(46)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=void 0,y=void 0,m={};function v(){o.default.forEach(m,function(e,t){e.destroy(),delete m[t]})}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getActiveStreamKey=function(){return y},t.prototype.getQuality=function(){var e=this.getActiveStreamKey(),t=null!=e?m[e]:null;return null!=t?t.quality:c.RTCConnectionQuality.UNKNOWN},t.prototype.isStreamOwner=function(e){if(null==e)return!1;var t=s.decodeStreamKey(e).ownerId;return d.default.getId()===t},t}(a.default.Store);t.default=new _(l.default,f.default.isSupported()?{CONNECTION_OPEN:function(e){h=e.sessionId,y=null,v()},CONNECTION_CLOSED:function(e){return h=null,y=null,void v()},RTC_CONNECTION_STATE:function(e){return!0},RTC_CONNECTION_PING:function(e){return!0},RTC_CONNECTION_LOSS_RATE:function(e){return!0},STREAM_CREATE:function(e){y=e.streamKey;var t=m[y];null==t&&null!=e.rtcServerId&&(t=function(e,t){if(null==h)throw new Error("Creating RTCConnection without session.");var n=new u.default(d.default.getId(),h,null,t,i.MediaEngineContextTypes.STREAM);return n.on("state",function(t,n,o){l.default.dirtyDispatch(r({type:c.ActionTypes.RTC_CONNECTION_STATE,state:t,hostname:n},o,{streamKey:e}))}),n.on("video",function(e,t,n,r){l.default.dispatch({type:c.ActionTypes.RTC_CONNECTION_VIDEO,guildId:e,channelId:t,userId:n,streamId:r,quality:c.RTCReceivedVideoQuality.FULL})}),f.default.isSelfMute(i.MediaEngineContextTypes.STREAM)||l.default.dirtyDispatch({type:c.ActionTypes.AUDIO_TOGGLE_SELF_MUTE,context:i.MediaEngineContextTypes.STREAM}),n}(y,e.rtcServerId),m[e.streamKey]=t)},STREAM_SERVER_UPDATE:function(e){var t=m[e.streamKey];if(null==t)return!1;t.connect(e.endpoint,e.token)},STREAM_DELETE:function(e){var t=m[e.streamKey];if(null==t)return!1;e.streamKey===y&&(y=null),t.destroy(),delete m[e.streamKey]}}:{}),e.exports=t.default},7240:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(6)),i=m(n(4)),l=m(n(1)),u=m(n(848)),s=m(n(47)),d=m(n(72)),f=m(n(28)),c=m(n(132)),p=m(n(91)),h=m(n(15)),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e){var t=h.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function S(e){return{status:c.default.getStatus(e),activity:c.default.getPrimaryActivity(e)}}var T=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.initialize=function(e){this.key=e.key,this.type=e.type,this.status=e.status,this.activity=e.activity,this.user=e.user,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds},o(t,[{key:"comparator",get:function(){return[this.type,this.usernameLower]}}]),t}(s.default),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,e),this._rows=t}return e.prototype.reset=function(){return new e(a.default.map(p.default.getRelationships(),function(e,t){return new T(r({key:t,type:e},g(t),S(t),function(e){var t=[];return(0,a.default)(d.default.memberOf(e)).map(f.default.getGuild).sortBy(function(e){return null!=e?e.name.toLowerCase():null}).forEach(function(e){null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,y.MAX_MUTUAL_GUILDS)}}(t)))}))},e.prototype.clone=function(){return new e(this._rows)},e.prototype.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],o=r.merge(e(r.key));t=t||o!==r,this._rows[n]=o}return t},e.prototype.filter=function(e){return(0,a.default)(this._rows).filter(function(e){return null!=e.user}).filter(function(t){switch(e){case y.FriendsSections.ONLINE:return t.type===y.RelationshipTypes.FRIEND&&t.status!==y.StatusTypes.OFFLINE;case y.FriendsSections.PENDING:return t.type===y.RelationshipTypes.PENDING_INCOMING||t.type===y.RelationshipTypes.PENDING_OUTGOING;case y.FriendsSections.BLOCKED:return t.type===y.RelationshipTypes.BLOCKED;case y.FriendsSections.ALL:default:return t.type===y.RelationshipTypes.FRIEND}}).sortBy(function(e){return e.comparator}).value()},e.prototype.getRelationshipCounts=function(){var e,t=((e={})[y.RelationshipTypes.FRIEND]=0,e[y.RelationshipTypes.PENDING_INCOMING]=0,e[y.RelationshipTypes.PENDING_OUTGOING]=0,e[y.RelationshipTypes.BLOCKED]=0,e);return this._rows.forEach(function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}),t},e}(),C=!0,N=!1,A=y.FriendsSections.ONLINE,O=new I,b=!0;function M(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C&&(e||A!==y.FriendsSections.ONLINE&&A!==y.FriendsSections.ADD_FRIEND)&&!N&&(C=!1,N=!0,u.default.fetchRelationships())}function R(){O=b?new I:O.reset()}function P(e){return function(){return!b&&(!!O.update(e)&&(O=O.clone(),!0))}}var L=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.initialize=function(){this.waitFor(p.default,c.default,h.default,f.default,d.default),this.syncWith([p.default],R),this.syncWith([h.default],P(g)),this.syncWith([c.default],P(S))},t.prototype.getState=function(){return{fetching:N,section:A,pendingCount:p.default.getPendingCount(),rows:O}},t}(i.default.Store);t.default=new L(l.default,{CONNECTION_OPEN:function(e){return function(){C=!0,b?N=!1:M();var e=(O=O.reset()).getRelationshipCounts();0===e[y.RelationshipTypes.FRIEND]&&(A=0!==e[y.RelationshipTypes.PENDING_INCOMING]?y.FriendsSections.PENDING:y.FriendsSections.ADD_FRIEND)}()},FRIENDS_SET_SECTION:function(e){A=e.section,M()},CHANNEL_SELECT:function(e){var t=e.channelId;return b=null!=t,R()},LOAD_RELATIONSHIPS_SUCCESS:function(e){N=!1},LOAD_RELATIONSHIPS_FAILURE:function(e){return C=!0,void(N=!0)}}),e.exports=t.default},7241:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=I(n(17)),s=I(n(5)),d=I(n(310)),f=I(n(6039)),c=I(n(7012)),p=I(n(5980)),h=n(5992),y=n(233),m=I(n(311)),v=I(n(128)),_=I(n(5988)),E=n(0),g=I(n(13)),S=I(n(5367)),T=I(n(5837));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={hasVideoError:!1,hasVideoEnded:!1,isMouseOver:!1},r._animatedBackground=new d.default.Value(0),r._animatedText=new d.default.Value(0),r._zIndex=new d.default.Value(1),r.promotionVideoRef=l.createRef(),r.componentWillEnter=function(e){var t=r.props.getDirection();r._zIndex.setValue(1===t?2:1),1===t&&(r._animatedBackground.setValue(-1),d.default.timing(r._animatedBackground,{toValue:0,duration:250,delay:100}).start()),r._animatedText.setValue(-t),d.default.timing(r._animatedText,{toValue:0,delay:300,duration:200}).start(e)},r.handleVideoError=function(){r.setState({hasVideoError:!0})},r.handlePromotionBuyClick=function(e){var t=r.props.onPromotionBuyClick;null!=t&&t(e),e.stopPropagation()},r.handlePromotionViewInStoreClick=function(e){var t=r.props.onOpen;null!=t&&t(e),e.stopPropagation()},r.handlePromotionVideoEnd=function(){r.setState({hasVideoEnded:!0}),r.state.isMouseOver&&null!=r.promotionVideoRef.current&&r.promotionVideoRef.current.play()},r.handleMouseEnter=function(){r.setState({isMouseOver:!0}),r.state.hasVideoEnded&&null!=r.promotionVideoRef.current&&(r.promotionVideoRef.current.currentTime=0,r.promotionVideoRef.current.play())},r.handleMouseLeave=function(){r.setState({isMouseOver:!1})},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){this.props.forcePauseVideo!==e.forcePauseVideo&&null!=this.promotionVideoRef.current&&(this.props.forcePauseVideo?this.promotionVideoRef.current.pause():this.state.hasVideoEnded||this.promotionVideoRef.current.play())},t.prototype.componentWillLeave=function(e){var t=this.props.getDirection();this._zIndex.setValue(1===t?1:2),d.default.timing(this._animatedText,{toValue:t,duration:200}).start(),1===t?setTimeout(e,350):d.default.timing(this._animatedBackground,{toValue:-1,delay:200,duration:200}).start(e)},t.prototype.getRootStyle=function(){var e=this.props.horizontal?{translateX:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})};return d.default.accelerate({transform:[{scale:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[1.015,1,1.015]})},e],opacity:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:d.default.Easing.out(d.default.Easing.ease)}),zIndex:this._zIndex})},t.prototype.getTextStyle=function(){return{transform:[this.props.horizontal?{translateX:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})}],opacity:this._animatedText.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:d.default.Easing.in(d.default.Easing.ease)}),zIndex:1}},t.prototype.renderBackground=function(){var e,t,n=this.props,r=n.item,o=n.application,i=n.itemHeight,s=n.simple,d=n.forcePauseVideo,f=this.state,c=f.hasVideoError,p=f.hasVideoEnded,h=f.isMouseOver,m=void 0;r.type===E.FeedCarouselItemTypes.PROMOTION&&null!=r.promotion.videoUrl&&(m=l.createElement("video",{className:(0,u.default)(T.default.backgroundVideo,(t={},t[T.default.backgroundVideoInvisible]=(c||p)&&!h,t)),onEnded:this.handlePromotionVideoEnd,muted:!0,autoPlay:!d,ref:this.promotionVideoRef,onError:this.handleVideoError},a("source",{src:r.promotion.videoUrl,type:"video/mp4"})));var v=void 0,_=void 0,g=void 0,S=void 0;if(r.type===E.FeedCarouselItemTypes.APPLICATION_NEWS){var I=r.news.thumbnail;null!=I&&(_=I.proxy_url||I.url,g=s&&null!=i?2*i:I.height,S=I.width)}else r.type===E.FeedCarouselItemTypes.PROMOTION&&null!=r.promotion.imageUrl&&(_=r.promotion.imageUrl,g=E.PROMOTION_ASSET_HEIGHT,S=E.PROMOTION_ASSET_WIDTH);if(null!=_&&null!=g&&null!=S){var C=800*(g/S);v=(0,y.getSizedImageSrc)(_,800,C,"png")}else null!=o&&(v=o.getSplashURL(800));return a("div",{className:T.default.background},void 0,a("div",{className:(0,u.default)(T.default.backgroundImage,null==v?T.default.backgroundBackup:null,(e={},e[T.default.backgroundImageInvisible]=null!=m&&!p&&!c,e)),style:null!=v?{backgroundImage:"url("+v+")"}:null}),m)},t.prototype.renderApplicationIcon=function(){var e=this.props,t=e.application,n=e.item,r=e.onGamePopoutOpen,o=e.onGamePopoutClose;if(null==t||n.type===E.FeedCarouselItemTypes.PROMOTION)return null;var i=a(c.default,{game:t,onOpen:r,onClose:o,source:E.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:S.default.iconHover},void 0,a(_.default,{game:t}));return a("div",{className:T.default.applicationArea},void 0,i)},t.prototype.renderExclusive=function(){var e=this.props.item;return e.type===E.FeedCarouselItemTypes.PROMOTION&&e.promotion.destination.type===E.PromotionTypes.GAME&&e.promotion.destination.sku.exclusive?a("span",{className:T.default.exclusive},void 0,"First on Discord"):null},t.prototype.renderPromotionActionButton=function(){var e=this.props,t=e.item,n=e.application,r=e.simple;return t.type!==E.FeedCarouselItemTypes.PROMOTION?null:t.promotion.destination.type===E.PromotionTypes.GENERAL?t.promotion.destination.linkUrl.startsWith(E.Routes.APPLICATION_STORE)||null!=t.promotion.ctaButtonLabel?a("div",{className:r?T.default.promotionActionButtonSimple:T.default.promotionActionButtonStandard},void 0,a(v.default,{size:v.default.Sizes.SMALL,color:v.default.Colors.GREEN},void 0,t.promotion.ctaButtonLabel||g.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK)):null:null==n?null:a("div",{className:r?T.default.promotionActionButtonSimple:T.default.promotionActionButtonStandard},void 0,a(f.default,{application:n,size:v.default.Sizes.SMALL,onClick:this.handlePromotionBuyClick,source:E.AnalyticsLocations.CAROUSEL_PROMOTION_UNIT,storeListingAnalyticsProperties:{promotionId:t.promotion.id}}))},t.prototype.render=function(){var e=this.props,t=e.item,n=e.onOpen,r=e.className,o=e.simple,i=void 0,l=void 0,f=void 0,c=void 0;t.type===E.FeedCarouselItemTypes.APPLICATION_NEWS?(i=t.news.url,l=t.news.title,f=t.news.description,c=t.news.timestamp):(l=t.promotion.title,f=t.promotion.description,t.promotion.destination.type===E.PromotionTypes.GENERAL&&(i=t.promotion.destination.linkUrl));var p=null!=i&&i.startsWith("/");return a(m.default,{href:i,target:p?"":"_blank",onClick:n},void 0,a(d.default.div,{style:this.getRootStyle(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:(0,u.default)(o?T.default.articleSimple:T.default.articleStandard,r)},void 0,this.renderBackground(),a(d.default.div,{style:this.getTextStyle()},void 0,this.renderApplicationIcon(),this.renderExclusive(),!0===o?a("div",{className:T.default.titleRowSimple},void 0,a("div",{className:T.default.titleStandard},void 0,l),this.renderPromotionActionButton()):a("div",{className:T.default.details},void 0,a("div",{className:T.default.titleStandard},void 0,l),null!=f?a("div",{className:T.default.description},void 0,f):null,null!=c?a("div",{className:T.default.timestamp},void 0,(0,h.dateFormat)((0,s.default)(c),"LL")):null,a("div",{},void 0,this.renderPromotionActionButton())))))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return o({},e,{object:E.AnalyticsObjects.BUTTON_CTA})}}]),t}(l.PureComponent);N.displayName="ActivityFeedCarouselItem",t.default=(0,p.default)(N),e.exports=t.default},7242:function(e,t,n){"use strict";t.__esModule=!0,t.GameCardTypes=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=B(n(2)),l=j(n(4)),u=j(n(320)),s=j(n(156)),d=j(n(43)),f=j(n(90)),c=j(n(132)),p=j(n(179)),h=j(n(6038)),y=j(n(7013)),m=j(n(6195)),v=j(n(5979)),_=j(n(128)),E=j(n(152)),g=j(n(5988)),S=j(n(6012)),T=j(n(827)),I=j(n(6063)),C=j(n(442)),N=j(n(18)),A=n(322),O=B(n(6021)),b=j(n(6026)),M=j(n(7012)),R=j(n(7002)),P=j(n(5353)),L=j(n(6039)),w=j(n(7243)),D=j(n(6352)),U=n(0),k=j(n(13)),G=j(n(5499)),x=j(n(5367)),F=j(n(5843));function j(e){return e&&e.__esModule?e:{default:e}}function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=function(e){function t(){return H(this,t),V(this,e.apply(this,arguments))}return Y(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.status,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["user","status"]);return i.createElement(v.default,a({},r,{src:t.getAvatarURL(),status:n}))},t}(i.PureComponent);W.displayName="GameCardAvatar";var K=l.default.connectStores([c.default],function(e){var t=e.user;return{status:c.default.getStatus(t.id)}})(W),z=t.GameCardTypes=Object.freeze({NOW_PLAYING:"1",RECENTLY_PLAYED:"2"}),$=function(e){function t(){var n,r;H(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=V(this,e.call.apply(e,[this].concat(u))),r.state={hoveredUserId:null,isMouseOver:!1},r.handleMouseEnter=function(){r.setState({isMouseOver:!0})},r.handleMouseLeave=function(){r.setState({isMouseOver:!1})},r.renderUserPopout=function(e,t){return i.createElement(P.default,a({},t,{user:e}))},r.renderUserTooltip=function(e){var t=e.user,n=e.startedPlaying,r=e.stoppedPlaying;return o("div",{className:F.default.soloAvatarTooltip},void 0,o("div",{},void 0,t.tag),o(S.default,{className:F.default.soloAvatarTooltipTimestamp,start:n,end:r,location:S.default.Locations.ACTIVITY_FEED}))},r.renderOverflowPlayer=function(e,t,n,a){if(null!=e){var i=e.user;return o(T.default,{render:function(e){return r.renderUserPopout(i,e)},position:T.default.Positions.LEFT,closeOnScroll:!1,shadow:!1},n,o(C.default,{text:r.renderUserTooltip(e)},void 0,o(v.default,{onContextMenu:function(e){return r.props.onUserContextMenu(e,i)},src:i.getAvatarURL(),size:v.default.Sizes.SMALL,className:F.default.soloAvatar})))}},r.renderOverflowPlayerOverflow=function(e,t,n,a){if(null==a)throw new Error("player overflow number cannot be null");var i=r.props.players.map(function(e){return e.user});return o(T.default,{render:function(){return o(R.default,{party:i,header:k.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:i.length})})}},"overflow",o(C.default,{text:k.default.Messages.GAME_FEED_USER_OVERFLOW.format({overflow:a})},void 0,o("div",{className:F.default.overflowUserOverflow},void 0,e)))},r.setActivityFeedCardRef=function(e){var t=r.props.setActivityFeedCardRef;null!=t&&t(e)},r.handleMouseEnterUser=function(e){r.setState({hoveredUserId:e})},r.handleMouseLeaveUser=function(){r.setState({hoveredUserId:null})},r.handleUserPopoutOpen=function(e,t){N.default.track(U.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,a({},r.getMetadata(),{popout_user_id:e.id,avatar_position:t}))},r.handleMessage=function(e,t){var n=r.props,o=n.loadId,a=n.index,i=n.game;(0,n.onMessageUser)(e,t).then(function(e){O.trackUserMessaged(t,e,i,null,{loadId:o,index:a,type:U.ActivityCardTypes.GAME})})},r.handleNewsClick=function(e){var t=r.props,n=t.game,o=t.index;O.trackGameNewsOpened(U.AnalyticsLocations.ACTIVITY_FEED,e,null,n,{loadId:h.default.loadId,index:o,type:U.ActivityCardTypes.GAME})},V(r,n)}return Y(t,e),t.prototype.renderPlayer=function(e,t){var n=this,r=this.props.onUserContextMenu,a=e.user,i=e.startedPlaying,l=e.stoppedPlaying;return o("div",{className:F.default.player,onMouseEnter:function(){return n.handleMouseEnterUser(a.id)},onMouseLeave:this.handleMouseLeaveUser,onContextMenu:function(e){return r(e,a)}},a.id,o(E.default,{},void 0,o(T.default,{render:function(e){return n.renderUserPopout(a,e)},position:T.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(a,t)},closeOnScroll:!1},void 0,o(K,{user:a,className:F.default.avatar})),o("div",{className:F.default.info},void 0,o(T.default,{render:function(e){return n.renderUserPopout(a,e)},position:T.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(a,t)},closeOnScroll:!1},void 0,o(b.default,{user:a,className:F.default.tag,usernameClass:F.default.username,discriminatorClass:F.default.discriminator})),o(S.default,{className:F.default.playTime,start:i,end:l,location:S.default.Locations.ACTIVITY_FEED})),this.state.hoveredUserId===a.id?o(_.default,{color:_.default.Colors.PRIMARY,hover:_.default.Hovers.BRAND,onClick:function(e){return n.handleMessage(e,a)}},void 0,k.default.Messages.GAME_FEED_ACTION_MESSAGE):null))},t.prototype.getMaxToShowWithoutOverflow=function(){var e=this.props.players;return null==e?0:e.length>4?3:4},t.prototype.getMaxOverflowUsers=function(){return Math.floor((this.props.width-40-28)/38)+1},t.prototype.getMetadata=function(){var e=this.props,t=e.game,n=e.index;return{load_id:h.default.loadId,card_index:n,card_type:U.ActivityCardTypes.GAME,game_id:t.id,game_name:t.name,af_news:null!=h.default.news}},t.prototype.renderPlayers=function(){var e=this,t=this.props.players;if(null==t||0===t.length)return null;var n=this.getMaxToShowWithoutOverflow(),r=t.slice(0,n).map(function(t,n){return e.renderPlayer(t,n)});return o(w.default,{},void 0,r)},t.prototype.renderPlayersOverflow=function(){var e=this.props,t=e.type,n=e.players,r=this.getMaxToShowWithoutOverflow();if(null==n||n.length<=r)return null;var a=t===z.NOW_PLAYING?k.default.Messages.GAME_FEED_ACTIVITY_MORE_PLAYING_COUNT.format({count:n.length-r}):k.default.Messages.GAME_FEED_ACTIVITY_MORE_RECENTLY_PLAYED_COUNT.format({count:n.length-r}),i=o(I.default,{users:n.slice(r),max:this.getMaxOverflowUsers(),className:F.default.overflownPlayers,renderUser:this.renderOverflowPlayer,renderMoreUsers:this.renderOverflowPlayerOverflow});return o(w.default,{className:F.default.playerBottomPadding,title:a},void 0,i)},t.prototype.renderNews=function(){var e=this,t=this.props,n=t.game,r=t.news,a=t.onVideoPlay;if(null!=r)return o(w.default,{className:F.default.sectionBottomPadding,title:k.default.Messages.GAME_FEED_ARTICLE_TYPE_NEWS},void 0,o(m.default,{news:r,game:n,onClick:function(){return e.handleNewsClick(r)},onVideoPlay:a,className:F.default.news}))},t.prototype.renderHeaderActions=function(){var e=this.props,t=e.game,n=e.isDiscordStoreApplication,r=e.hasLibraryApplication,a=!n||r;return o(L.default,{className:a?F.default.headerButtonHide:null,source:U.AnalyticsLocations.ACTIVITY_FEED,application:t,size:_.default.Sizes.SMALL,color:G.default.headerButtonColor,pauseAnimation:!this.state.isMouseOver})},t.prototype.render=function(){var e=this.props,t=e.game,n=e.onApplicationContextMenu;return i.createElement(y.default,{className:F.default.card,ref:this.setActivityFeedCardRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o(y.default.Header,{className:F.default.cardHeader,splashArtURL:t.getSplashURL(512)},void 0,o("div",{className:F.default.headerContent,onContextMenu:function(e){return n(e,t)}},void 0,o(M.default,{game:t,source:U.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:x.default.iconHover},void 0,o(g.default,{game:t,onContextMenu:function(e){return n(e,t)}})),o(M.default,{game:t,source:U.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:x.default.textHover},void 0,o("div",{className:F.default.headerTitle},void 0,t.name))),this.renderHeaderActions()),o(y.default.Body,{className:F.default.cardBody},void 0,this.renderPlayers(),this.renderPlayersOverflow(),this.renderNews()))},t}(i.PureComponent);$.displayName="GameCard",t.default=l.default.connectStores([d.default,s.default,f.default,u.default,s.default,p.default],function(e){var t=e.game,n=f.default.getActiveLibraryApplication(t.id),r=null!=n?n.branchId:null,o=t.primarySkuId;return{hasLibraryApplication:null!=n,isDiscordStoreApplication:null!=o&&!p.default.didFetchingSkuFail(o),canPlay:(0,A.isLaunchable)(f.default,d.default,s.default,u.default,t.id,r)}})((0,D.default)($))},7243:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(152)),l=u(n(5841));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.title,n=e.children,r=e.className;return o("div",{className:(0,a.default)(l.default.section,r)},void 0,null!=t?o(i.default,{align:i.default.Align.CENTER},void 0,o("div",{className:l.default.sectionTitle},void 0,t),o("div",{className:l.default.sectionLine})):null,n)};s.displayName="Section",t.default=s,e.exports=t.default},7293:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(6)),u=y(n(5980)),s=y(n(5979)),d=y(n(306)),f=y(n(827)),c=y(n(5353)),p=n(0),h=y(n(5853));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.member,n=e.empty,r=e.analyticsContext;if(n)return a("div",{className:h.default.partyMemberEmpty});if(null==t)return a("div",{className:h.default.partyMemberUnknown},void 0,a(d.default,{name:d.default.Names.UNKNOWN_USER,className:h.default.partyMemberUnknownIcon}));var l={location:o({},r.location,{object:p.AnalyticsObjects.AVATAR})};return a("div",{className:h.default.partyMemberKnown},void 0,a(f.default,{render:function(e){return i.createElement(c.default,o({},e,{user:t,analyticsParams:l}))},position:f.default.Positions.LEFT,closeOnScroll:!1},void 0,a(s.default,{src:t.getAvatarURL(),imageClassName:h.default.partyMember})))};m.displayName="PartyMember";var v=(0,u.default)(m),_=function(e){var t=e.partySize,n=e.members,r=e.maxAvatarsShown,o=void 0===r?2:r,i=t.unknownSize,u=t.totalSize,s=t.knownSize;if(0===u)return null;for(var d=(0,l.default)(n).filter(function(e){return null!=e}).take(o).map(function(e){return a(v,{member:e},e.id)}).value(),f=0;f<i&&d.length<o;f++)d.push(a(v,{},"unknown-member-"+f));for(var c=u-s-i,p=0;p<c&&d.length<o;p++)d.push(a(v,{empty:!0},"empty-member-"+p));var y=Math.max(Math.min(u-d.length,99),0);if(1===y){var m=n[o];d.push(a(v,{member:m},m.id))}return a("div",{className:h.default.wrapper},void 0,a("div",{className:h.default.partyMembers},void 0,d,y>1?a("div",{className:h.default.partyMemberOverflow},void 0,"+",y):null))};_.displayName="PartyAvatars",t.default=_,e.exports=t.default},7294:function(e,t,n){e.exports=n.p+"213acc14046cd858588e10b2e35ab7da.svg"},7295:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getDataFromRecentlyPlayed=x,t.getSortedApplicationIds=F,t.getSortedItemsFromData=j;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=w(n(17)),u=w(n(4)),s=n(81),d=(w(n(135)),w(n(43))),f=w(n(6048)),c=w(n(6028)),p=w(n(451)),h=w(n(15)),y=w(n(881)),m=w(n(6038)),v=w(n(221)),_=w(n(6121)),E=w(n(110)),g=w(n(6023)),S=w(n(6003)),T=w(n(18)),I=w(n(5983)),C=w(n(6352)),N=w(n(6785)),A=w(n(7293)),O=w(n(8039)),b=n(6225),M=n(0),R=w(n(13)),P=w(n(5637)),L=w(n(5861));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G=500;function x(e){var t={};for(var n in e)if(p.default.isOnFeed(n)&&h.default.getUser(n))for(var r in e[n]){if(null!=d.default.getGame(r)){var o=f.default.getUserGame(n);if(null==o||o.gameId!==r){var a=c.default.gamesByUser[n][r].date;null==t[r]?t[r]={players:[{userId:n,stoppedPlaying:a}],mostRecentStoppedPlaying:a}:(t[r].players.push({userId:n,stoppedPlaying:a}),t[r].mostRecentStoppedPlaying<a&&(t[r].mostRecentStoppedPlaying=a))}}}return t}function F(e){return Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).sort(function(t,n){return e[n].players.length-e[t].players.length})}function j(e,t){return e.reduce(function(e,n){var r=d.default.getGame(n);if(null==r)return e;var o={applicationId:n,application:r,players:t[n].players.reduce(function(e,t){var n=t.userId,r=t.stoppedPlaying,o=h.default.getUser(n);return o&&e.push({user:o,stoppedPlaying:r}),e},[]).sort(function(e,t){return t.stoppedPlaying-e.stoppedPlaying})};return o.players.length>0&&e.push(o),e},[])}var B=function(e){function t(n){D(this,t);var r=U(this,e.call(this,n));return r.state={popoutStaysOpen:!1},r.trackHover=function(){var e=r.props,t=e.loadId,n=e.analyticsContext,o=r.props.applicationInfo.players;T.default.track(M.AnalyticEvents.HOVER_MENU_OPENED,{location:a({},n.location,{object:M.AnalyticsObjects.HOVER_MENU}),load_id:t,num_users:o.length})},r.handleMouseEnter=function(){r.hoverTimeout.start(G,r.trackHover)},r.handleMouseLeave=function(){r.hoverTimeout.stop()},r.keepPopoutOpen=function(){r.setState({popoutStaysOpen:!0})},r.closePopout=function(){r.setState({popoutStaysOpen:!1})},r.hoverTimeout=new s.Timeout,r}return k(t,e),t.prototype.componentWillUnmount=function(){this.hoverTimeout.stop()},t.prototype.renderPlayerCountText=function(){var e=this.props.applicationInfo.players;switch(e.length){case 1:return e[0].user.username;default:return R.default.Messages.ACTIVITY_FEED_RECENTLY_PLAYED_HEADER_MULTIPLE.format({user1:e[0].user.username,extra:e.length-1})}},t.prototype.render=function(){var e=this.props.onApplicationContextMenu,t=this.props.analyticsContext.location,n=this.props.applicationInfo,r=n.application,a=n.players,i=this.state.popoutStaysOpen,u={knownSize:a.length,totalSize:a.length,unknownSize:0},s=a.map(function(e){return e.user});return o("div",{className:(0,l.default)(L.default.itemContainer,P.default.popoutContainer),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,o(v.default,{className:L.default.applicationIconContainer,onClick:function(e){return(0,b.toggleGamePopout)(e,r,t)},onContextMenu:function(t){return e(t,r)}},void 0,o("img",{src:r.getIconURL(64),className:L.default.applicationIcon,alt:r.name})),o("div",{className:L.default.infoSection},void 0,o(g.default,{className:L.default.applicationName,size:g.default.Sizes.SIZE_16},void 0,r.name),o(S.default,{className:L.default.applicationPlayers},void 0,this.renderPlayerCountText())),o(A.default,{partySize:u,members:s}),o(I.default,{section:M.AnalyticsSections.ACTIVITY_FEED_RECENTLY_PLAYED_HOVER_POPOUT},void 0,o(O.default,{title:R.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:s.length}),className:P.default.popout,members:s,closeOnLeave:this.closePopout,visibleOnMouseLeave:i,keepOpen:this.keepPopoutOpen})))},t}(i.PureComponent);B.displayName="RecentlyPlayedItem";var H=(0,C.default)(B),V=function(e){function t(){return D(this,t),U(this,e.apply(this,arguments))}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.layout,r=e.className,a=e.isWrapped,u=e.loadId,s=t.slice(0,6),d=s.map(function(e,t){return o(i.Fragment,{},e.application.id,o(H,{applicationInfo:e,layout:n,loadId:u}),t!==s.length-1?o(N.default.Separator,{className:L.default.separator}):null)});return 0===d.length?null:a?o(_.default,{padded:!1},void 0,o("div",{className:(0,l.default)(r,L.default.recentlyPlayedContainer)},void 0,o(g.default,{size:g.default.Sizes.SIZE_16,className:L.default.formTitleInCard},void 0,R.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),d)):o(i.Fragment,{},void 0,o(E.default,{},void 0,R.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),o("div",{className:(0,l.default)(r,L.default.recentlyPlayedContainer)},void 0,d))},t}(i.PureComponent);V.displayName="RecentlyPlayed",t.default=u.default.connectStores([c.default,f.default,d.default,p.default,m.default,y.default],function(e){var t=e.isWrapped,n=x(c.default.gamesByUser),r=F(n);return{loadId:m.default.loadId,items:j(r,n),isWrapped:t||null!=y.default.getGuildsCardAndTrigger()}})(V)},7296:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.startLurking=F;var a=D(n(2)),i=w(n(17)),l=w(n(6)),u=w(n(462)),s=w(n(161)),d=w(n(310)),f=w(n(4)),c=w(n(1)),p=w(n(832)),h=n(900),y=n(6339),m=n(8045),v=w(n(232)),_=w(n(28)),E=w(n(35)),g=w(n(8046)),S=w(n(313)),T=w(n(6441)),I=w(n(444)),C=w(n(18)),N=w(n(82)),A=D(n(8047)),O=w(n(45)),b=n(0),M=w(n(13)),R=w(n(5864)),P=w(n(8048)),L=w(n(8049));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=Object.freeze({SEARCH:"Search",RECOMMENDED:"Recommended",POPULAR:"Popular"});function F(e,t){var n=_.default.getGuild(e),r={state:{analyticsSource:t}};null!=n&&null!=n.joinedAt?O.default.transitionTo(b.Routes.GUILD(e),r):p.default.joinGuild(e,!0).then(function(){p.default.transitionToGuildSync(e,r)})}function j(){return s.default.v4().replace(/-/g,"")}var B=l.default.throttle(function(e){C.default.track(b.AnalyticEvents.SEARCH_RESULT_VIEWED,e)},1e3),H=function(e){function t(){var n,r;U(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=k(this,e.call.apply(e,[this].concat(i))),r.handleViewGuild=function(e){var t=r.props,n=t.guilds,o=t.analyticsContext,a=t.onViewGuild,i=n.findIndex(function(t){return t.id===e});a(e,i,o)},r.renderGuild=function(e){var t=r.props.loadingGuildId,n=N.default.getGuildSplashURL({id:e.id,splash:e.splash,size:1024}),a=N.default.getGuildIconURL({id:e.id,icon:e.icon}),i=e.features.has(b.GuildFeatures.VERIFIED);return null==n||null==a?null:o(g.default,{guildId:e.id,name:e.name,splashUrl:n,avatarUrl:a,presenceCount:e.presenceCount,isVerified:i,isLoadingGuild:e.id===t,onView:r.handleViewGuild,className:R.default.guildCard},e.id)},k(r,n)}return G(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.guilds;return o("div",{},void 0,o("h3",{className:R.default.sectionHeader},void 0,t),o("div",{className:R.default.guildList},void 0,n.map(this.renderGuild)))},t}(a.Component);H.displayName="GuildList";var V=o(u.default,{title:"Discord"}),Y=function(e){function t(){var n,r;U(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=k(this,e.call.apply(e,[this].concat(a))),r.state={query:"",animatedValue:new d.default.Value(0),searchId:null,loadingGuildId:null},r.loadId=j(),r.trackDiscoveryViewed=function(){var e=r.props.guilds,t=e.gamesYouPlay,n=e.all,o=t.length,a=n.length;C.default.track(b.AnalyticEvents.GUILD_DISCOVERY_VIEWED,{load_id:r.loadId,num_guilds:o+a,num_guilds_recommended:o,num_guilds_popular:a,recommended_guild_ids:t.map(function(e){return e.id})})},r.handleChangeSearch=function(e){var t=r.state.query;r.setState({query:e}),0===t.length&&e.length>0&&(r.setState({searchId:j()}),C.default.track(b.AnalyticEvents.SEARCH_STARTED,{search_type:b.SearchTypes.GUILD_DISCOVERY,load_id:r.loadId}))},r.handleClearSearch=function(){r.setState({query:""})},r.handleScroll=function(e){var t=r.state.animatedValue,n=e.getScrollData().scrollTop;t.setValue(Math.min(1,n/200))},r.handleViewGuild=function(e,t,n){if(e!==r.state.loadingGuildId&&(r.setState({loadingGuildId:e}),F(e,{page:b.AnalyticsPages.GUILD_DISCOVERY,section:n,object:b.AnalyticsObjects.CARD}),C.default.track(b.AnalyticEvents.GUILD_DISCOVERY_GUILD_SELECTED,{location:b.AnalyticsPages.GUILD_DISCOVERY,location_page:b.AnalyticsPages.GUILD_DISCOVERY,location_section:n,location_object:"Card",guild_id:e,load_id:r.loadId,card_index:t}),n===x.SEARCH)){var o=r.state,a=o.query,i=o.searchId,l=A.search(r.props.guilds.all,a);C.default.track(b.AnalyticEvents.SEARCH_RESULT_SELECTED,{search_type:b.SearchTypes.GUILD_DISCOVERY,load_id:r.loadId,search_id:i,total_results:l.length,index_num:t})}},k(r,n)}return G(t,e),t.prototype.componentDidMount=function(){var e=this.props.isFetching;(0,y.fetchActivityStatistics)(),(0,h.fetchGuildDiscoveryMetadata)(),c.default.wait(function(){return(0,m.markView)(b.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}),e||this.trackDiscoveryViewed()},t.prototype.componentDidUpdate=function(e){var t=this.props.isFetching;e.isFetching&&!t&&this.trackDiscoveryViewed()},t.prototype.getAssetStyle=function(){var e=this.state.animatedValue;return{opacity:e.interpolate({inputRange:[0,1],outputRange:[1,0]}),transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%","-10%"]})}]}},t.prototype.renderLoading=function(){return o(I.default,{className:R.default.spinner})},t.prototype.renderSearch=function(){var e=this.state.query;return o("div",{className:R.default.search},void 0,o("h2",{className:R.default.mainHeader},void 0,M.default.Messages.GUILD_DISCOVERY_SEARCH_HEADER),o(T.default,{searchTerm:e,className:R.default.searchBox,inputClassName:R.default.searchBoxInput,label:M.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:M.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER,onChange:this.handleChangeSearch,onClear:this.handleClearSearch,autoFocus:!0}))},t.prototype.renderSearchResults=function(e){return o(H,{title:M.default.Messages.GUILD_DISCOVERY_HEADER_SEARCH_RESULTS,guilds:e,loadingGuildId:this.state.loadingGuildId,analyticsContext:x.SEARCH,onViewGuild:this.handleViewGuild})},t.prototype.renderEmptySearchResults=function(){return o("div",{className:R.default.emptySearchResults},void 0,o("div",{className:R.default.emptySearchImage}),o("h1",{className:R.default.emptySearchTitle},void 0,M.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_TITLE),o("div",{className:R.default.emptySearchDescription},void 0,M.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_DESCRIPTION))},t.prototype.renderGamesYouPlay=function(){var e=this.props.guilds.gamesYouPlay;return null==e||0===e.length?null:o(H,{title:M.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guilds:e,loadingGuildId:this.state.loadingGuildId,analyticsContext:x.RECOMMENDED,onViewGuild:this.handleViewGuild})},t.prototype.renderAll=function(){var e=this.props.guilds.all;return null==e?null:o(H,{title:M.default.Messages.GUILD_DISCOVERY_HEADER_POPULAR_SERVERS,guilds:e.filter(function(e){return null!=e.presenceCount&&e.presenceCount>=250}),loadingGuildId:this.state.loadingGuildId,analyticsContext:x.POPULAR,onViewGuild:this.handleViewGuild})},t.prototype.renderListings=function(){var e=this.props,t=e.guilds.all,n=e.theme,r=this.state,l=r.query,u=r.searchId,s=l.length>=3,f=s?A.search(t,l):[],c=s&&0===f.length,p=n===b.ThemeTypes.LIGHT?L.default:P.default;return s&&B({search_type:b.SearchTypes.GUILD_DISCOVERY,load_id:this.loadId,search_id:u,total_results:f.length}),o(a.Fragment,{},void 0,o(d.default.img,{className:R.default.bg,style:this.getAssetStyle(),src:p}),o(S.default,{track:!0,onScroll:this.handleScroll},void 0,o("div",{className:(0,i.default)(R.default.pageHeader,R.default.pageHeaderDrag)}),o("div",{className:R.default.body},void 0,this.renderSearch(),s&&!c?this.renderSearchResults(f):null,s&&c?this.renderEmptySearchResults():null,s?null:this.renderGamesYouPlay(),s&&c?null:this.renderAll())))},t.prototype.render=function(){var e=this.props.isFetching;return o("div",{className:R.default.pageWrapper},void 0,V,e?this.renderLoading():this.renderListings())},t}(a.PureComponent);Y.displayName="GuildDiscovery",t.default=f.default.connectStores([v.default],function(){return{isFetching:v.default.isFetching(),guilds:v.default.getDiscoverableGuilds(),theme:E.default.theme}})(Y)},7297:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=h(n(5980)),u=h(n(6043)),s=h(n(45)),d=h(n(6101)),f=n(0),c=h(n(13)),p=h(n(5870));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=y(this,e.call.apply(e,[this].concat(i))),r.handleItemSelect=function(e){var t=r.props,n=t.analyticsContext;e!==t.currentRoute&&s.default.transitionTo(e,{state:{analyticsSource:a({},n.location,{section:f.AnalyticsSections.TABS,object:f.AnalyticsObjects.NAVIGATION_LINK})}})},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.renderToolbar,n=e.currentRoute;return o(d.default,{className:p.default.libraryHeader,renderToolbar:t},void 0,o(u.default,{type:u.default.Types.TOP_PILL,selectedItem:n,onItemSelect:this.handleItemSelect},void 0,o(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY},void 0,c.default.Messages.APPLICATION_LIBRARY_MY_GAMES),o(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,c.default.Messages.APPLICATION_LIBRARY_INVENTORY)))},t}(i.PureComponent);m.displayName="ApplicationLibraryHeader",t.default=(0,l.default)(m),e.exports=t.default},7298:function(e,t,n){"use strict";t.__esModule=!0,t.sortList=function(e,t){a.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})},t.updateLibraryFilter=function(e){a.default.dispatch({type:i.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})},t.updateActiveRowKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},7299:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(221)),s=c(n(306)),d=n(0),f=c(n(5876));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){return a("div",{className:e.className},void 0,e.children)};h.displayName="RowHeader";var y=function(e){return a("div",{className:e.className},void 0,e.children)};y.displayName="Row";var m=function(e){return a("div",{className:e.className},void 0,e.children)};m.displayName="Cell";var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleSort=function(e){var t=r.props,n=t.sortKey,o=t.sortDirection,a=t.onSort;null!=a&&a(e,n===e&&o===d.TableSortDirections.ASCENDING?d.TableSortDirections.DESCENDING:d.TableSortDirections.ASCENDING)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSortable=function(e){return null!=e.sort&&!1!==e.sort},t.prototype.getDefaultSort=function(e){return function(t,n){var r=t[e],o=n[e];return null!=r&&null!=o?r===o?0:r<o?-1:1:0}},t.prototype.renderHeader=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.props,o=r.columns,i=r.data,c=r.sortDirection,p=r.sortKey,y=r.headerCellClassName,m=r.headerClassName,v=r.sortedHeaderCellClassName,_=r.stickyHeader,E=o.map(function(e){var n,r=null!=e.renderHeader?e.renderHeader(e,i):e.key;return a(u.default,{className:(0,l.default)(f.default.headerCell,y,e.headerCellClassName,e.cellClassName,(n={},n[v||f.default.sortedHeaderCell]=p===e.key,n[f.default.clickable]=t.isSortable(e),n)),onClick:t.isSortable(e)?function(){return t.handleSort(e.key)}:null},e.key,a("div",{className:f.default.headerCellContent},void 0,r,t.isSortable(e)&&p===e.key?a(s.default,{name:c===d.TableSortDirections.ASCENDING?s.default.Names.ARROW_DROP_UP:s.default.Names.ARROW_DROP_DOWN,className:f.default.sortIcon}):null))});return a(h,{className:(0,l.default)(m,f.default.row,(e={},e[f.default.stickyHeader]=_&&!n,e[f.default.spacerHeader]=_&&n,e))},void 0,E)},t.prototype.renderBody=function(){var e=this.props,t=e.columns,n=e.data,r=e.sortData,a=e.sortKey,u=e.sortDirection,s=e.bodyCellClassName,c=e.rowClassName,p=e.cellProps,h=e.rowProps,y=e.rowComponent,m=e.cellComponent,v=n;if(r){var _=null!=a?t.find(function(e){return e.key===a}):null,E=[].concat(n),g=null!=_&&_.sort,S=null!=_&&null!=a&&this.isSortable(_)?E.sort("function"==typeof g?function(e,t){return g(e,t,u)}:this.getDefaultSort(a)):E;v=null!=_&&u===d.TableSortDirections.DESCENDING?S.reverse():S}return v.map(function(e,n){var r=t.map(function(t){return i.createElement(m,o({},p,{key:t.key,item:e,className:(0,l.default)(s,t.bodyCellClassName,t.cellClassName)}),null!=t.render?t.render(e,p,n):e[t.key])});return i.createElement(y,o({},h,{key:e.key,item:e,className:(0,l.default)(f.default.row,c)}),r)})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.hasHeader,r=e.stickyHeader;return a("div",{className:t},void 0,n?this.renderHeader():null,n&&r?this.renderHeader(!0):null,this.renderBody())},t}(i.PureComponent);v.SortDirection=d.TableSortDirections,v.defaultProps={initialSortDirection:d.TableSortDirections.ASCENDING,rowHeaderComponent:h,rowComponent:y,cellComponent:m,hasHeader:!0,sortData:!0,stickyHeader:!1},v.displayName="Table",t.default=v,e.exports=t.default},7300:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(4)),a=s(n(23)),i=s(n(1)),l=s(n(181)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d="channelNotices",f="lastHiddenChannelNotice",c={},p=0,h=!1,y=0;function m(){a.default.set(d,c),a.default.set(f,p)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=a.default.get("showInviteNotice"),t=a.default.get(d)||{};p=a.default.get(f)||0,Object.keys(u.ChannelNoticeTypes).forEach(function(e){return c[e]=!0}),Object.keys(t).forEach(function(e){c[e]&&"boolean"==typeof t[e]&&(c[e]=t[e])}),null!=e&&(a.default.remove("showInviteNotice"),"boolean"==typeof e&&(c.INVITE=e)),m()},t.prototype.getState=function(){return h?{noticeStates:c,lastHidden:p}:{noticeStates:{},lastHidden:0}},t.prototype.shouldShowInviteNotice=function(){return a.default.get("showInviteNotice")||!1},t.prototype.getVersion=function(){return y},t}(o.default.Store);t.default=new v(i.default,{CONNECTION_OPEN:function(e){return h=!0,void(y+=1)},CONNECTION_CLOSED:function(e){return h=!1,void(y+=1)},CHANNEL_NOTICE_HIDE:function(e){var t=e.noticeType;c[t]=!1,c=r({},c),t!==u.ChannelNoticeTypes.MFA_WARNING&&(p=Date.now()),m(),l.default.trackWithMetadata(u.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:t}),y+=1}}),e.exports=t.default},7301:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(6)),i=c(n(4)),l=c(n(1)),u=c(n(100)),s=c(n(6410)),d=c(n(22)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=new Set,h=f.FormStates.CLOSED,y=!1,m=void 0,v=void 0,_=null,E=null,g=null,S=null,T=null,I=null;function C(){if(g=s.default.getChannel(),S=s.default.getCategory(),null==g)return!1;var e=g.getGuildId();E=_=function(e){var t=e.getGuildId(),n=o({},e.permissionOverwrites);return null!=t&&null==n[t]&&(n[t]=u.default.makeEveryoneOverwrite(t)),n}(g),null==_[T]&&(T=e),v=null!=S,m=u.default.areChannelsLocked(g,S),I=null,y=!1,h=f.FormStates.CLOSED,p.clear()}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,d.default)},t.prototype.hasChanges=function(){return y},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getPermissionOverwrite=function(e){return _&&_[e]},r(t,[{key:"editedPermissionIds",get:function(){return Array.from(p)}},{key:"permissionOverwrites",get:function(){return _}},{key:"selectedOverwriteId",get:function(){return T}},{key:"formState",get:function(){return h}},{key:"isLockable",get:function(){return v}},{key:"locked",get:function(){return m}},{key:"channel",get:function(){return g}},{key:"category",get:function(){return S}}]),t}(i.default.Store);t.default=new N(l.default,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=g||t!==f.ChannelSettingsSections.PERMISSIONS)return!1;C()},CHANNEL_SETTINGS_PERMISSIONS_INIT:function(e){return C()},CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t,n=e.id,r=e.allow,i=e.deny,l=_&&_[n];if(null==l||null==g)return!1;l=o({},l,{allow:r,deny:i}),_=o({},_,((t={})[n]=l,t)),p.add(n),h=f.FormStates.OPEN,y=!a.default.isEqual(_,E),m=u.default.areChannelsLocked(g,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=_&&null!=_[t])T=t;else{if(null==g)return!1;I=t}},CHANNEL_SETTINGS_CLOSE:function(e){return h=f.FormStates.CLOSED,_=null,E=null,g=null,S=null,y=!1,p.clear(),T=null,void(I=null)},CHANNEL_UPDATE:function(e){return function(e){if(null==g||g.id!==e)return!1;if(null==(g=d.default.getChannel(e)))return!1;S=s.default.getCategory();var t=g.getGuildId();if(null==t)return!1;var n={};p.forEach(function(e){null!=_&&(n[e]=_[e])}),null==n[t]&&null==g.permissionOverwrites[t]&&(n[t]=u.default.makeEveryoneOverwrite(t)),null==(_=o({},g.permissionOverwrites,n))[T]?T=t:I&&_[I]&&(T=I,I=null),m=u.default.areChannelsLocked(g,S)}(e.channel.id)},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(e){h=f.FormStates.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){return h=f.FormStates.CLOSED,void C()}}),e.exports=t.default},7302:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={open:function(){a.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_OPEN})},close:function(){a.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_CLOSE})}},e.exports=t.default},7303:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(17)),u=y(n(18)),s=y(n(128)),d=y(n(152)),f=y(n(827)),c=n(0),p=y(n(13)),h=y(n(5897));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=Object.freeze({WAVES:"waves",SHAPES:"shapes"}),g=Object.freeze({CENTER:"center",LEFT:"left"}),S=function(e){function t(){var n,r;m(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.state={confirmed:!1},r.handleDismiss=function(){var e=r.props.onClickComplete;r.setState({confirmed:!0},function(){return e&&e()})},v(r,n)}return _(t,e),t.prototype.componentDidMount=function(){var e=this.props.uniqueId;u.default.track(c.AnalyticEvents.SHOW_TUTORIAL,{tutorial:e})},t.prototype.componentWillUnmount=function(){u.default.track(c.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})},t.prototype.render=function(){var e,t,n=this.props,r=n.background,o=n.renderMedia,u=n.textAlign,f=n.isLongText,y=n.title,m=n.body,v=n.forceTheme,_=n.onClickSkipAll,S=function(e){switch(e){case E.SHAPES:return A;case E.WAVES:default:return b}}(r),T="string"==typeof m?"p":"div",I=u===g.LEFT||f,C=u===g.CENTER||!I;return a(i.Fragment,{},void 0,a(S,{width:f?400:340}),null!=o&&a(d.default,{className:h.default.mediaContainer,justify:I?d.default.Justify.START:d.default.Justify.CENTER},void 0,o()),a("h4",{className:(0,l.default)((e={},e[h.default.titleCenter]=C,e[h.default.titleLeft]=I,e))},void 0,y),a(T,{className:(0,l.default)((t={},t[h.default.bodyCenter]=C,t[h.default.bodyLeft]=I,t))},void 0,m),a(d.default,{className:h.default.buttonContainer,justify:I?d.default.Justify.BETWEEN:d.default.Justify.CENTER},void 0,a(s.default,{onClick:this.handleDismiss},void 0,p.default.Messages.TUTORIAL_CLOSE),a(s.default,{look:s.default.Looks.BLANK,onClick:_,color:v===c.ThemeTypes.LIGHT?s.default.Colors.PRIMARY:s.default.Colors.WHITE,className:I?h.default.buttonSkipLeftAlign:h.default.buttonSkipCenterAlign},void 0,p.default.Messages.SKIP_ALL_TIPS)))},t}(i.PureComponent);S.displayName="TutorialPopoutContent";var T=function(e){function t(){var n,r;m(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=r=v(this,e.call.apply(e,[this].concat(l))),r.popoutRef=i.createRef(),r.onClickComplete=function(){r.popoutRef.current&&r.popoutRef.current.close(),r.props.onComplete()},r.onClickSkipAll=function(){var e=r.props,t=e.onSkipAll,n=e.uniqueId;r.popoutRef.current&&r.popoutRef.current.close(),t(),u.default.track(c.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:n})},r.renderChildren=function(){return i.createElement(S,o({},r.props,{onClickComplete:r.onClickComplete,onClickSkipAll:r.onClickSkipAll}))},v(r,n)}return _(t,e),t.prototype.render=function(){var e,t=this.props,n=(t.background,t.renderMedia),r=(t.textAlign,t.onComplete,t.onSkipAll,t.isLongText),a=(t.title,t.body,t.forceTheme),u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["background","renderMedia","textAlign","onComplete","onSkipAll","isLongText","title","body","forceTheme"]),s=null!=n;return i.createElement(f.default,o({forceTheme:a,ref:this.popoutRef},u,{render:this.renderChildren,containerClass:(0,l.default)((e={},e[h.default.topArrow]=u.position===f.default.Positions.BOTTOM,e[h.default.contentNarrowNoMedia]=!r&&!s,e[h.default.contentNarrowWithMedia]=!r&&s,e[h.default.contentWideNoMedia]=r&&!s,e[h.default.contentWideWithMedia]=r&&s,e[h.default.leftArrow]=u.position===f.default.Positions.RIGHT,e[h.default.rightArrow]=u.position===f.default.Positions.LEFT,e))}))},t}(i.PureComponent);T.Backgrounds=E,T.TextAlignments=g,T.defaultProps={background:E.WAVES,textAlign:g.LEFT},T.displayName="TutorialPopout",t.default=T;var I=a("ellipse",{cx:"247.455621",cy:"59",rx:"12.0710059",ry:"12"}),C=a("path",{d:"M23.258803 91.8945393v63.2274477H.106085V91.8945393zM55.3254436 73l15.0887576 14.9990739-15.0887576 14.9990741-15.0887572-14.9990741zM301.830473 108.016525l19.167752 19.053824-19.167752 19.053824-19.167751-19.053824zM310.106491 12.7308797L347.250401 0l73.222972 211.677377-37.14391 12.73088c-5.669616 1.943231-11.84832-1.056472-13.800527-6.700024-1.105801-3.19672-.64499-6.724348 1.245323-9.53328 7.52592-11.183222 4.519219-26.321932-6.715649-33.813255-1.853129-1.235653-3.86719-2.21346-5.986296-2.90629l-1.266377-.414034c-11.577042-3.78505-17.879527-16.195341-14.076994-27.719162.763673-2.314364 1.908841-4.486137 3.388596-6.426376 7.368113-9.660951 5.473231-23.438275-4.23234-30.772514-1.949201-1.472958-4.131001-2.61286-6.456051-3.373023l-2.532755-.828069c-11.577041-3.7850497-17.879527-16.1953414-14.076994-27.7191616.763673-2.3143643 1.908841-4.4861373 3.388602-6.4263759 7.368107-9.6609513 5.473225-23.4382753-4.232346-30.7725142-1.949195-1.4729574-4.131001-2.61286-6.456051-3.3730228l-1.266377-.4140345c-5.696874-1.8625623-8.798225-7.9694667-6.927065-13.6401535 1.059897-3.2120905 3.568845-5.7453686 6.780329-6.8460878z"}),N=a("g",{transform:"translate(21.12426 38)"},void 0,a("ellipse",{cx:"43.7573964",cy:"2.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"29.6745562",cy:"2.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"16.5976331",cy:"2.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"2.5147929",cy:"2.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"56.8343195",cy:"2.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"70.9171598",cy:"2.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"83.9940828",cy:"2.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"43.7573964",cy:"15.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"29.6745562",cy:"15.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"16.5976331",cy:"15.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"2.5147929",cy:"15.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"56.8343195",cy:"15.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"70.9171598",cy:"15.5",rx:"2.5147929",ry:"2.5"}),a("ellipse",{cx:"83.9940828",cy:"15.5",rx:"2.5147929",ry:"2.5"})),A=function(e){var t=e.width,n=void 0===t?340:t;return a("svg",{width:n,height:127*n/340,xmlns:"http://www.w3.org/2000/svg",className:h.default.background,viewBox:"0 0 340 127"},void 0,a("g",{transform:"translate(-7.04142 -38)",fill:"currentColor",fillRule:"evenodd",opacity:".05",viewBox:"0 0 340 127"},void 0,I,C,N))};A.displayName="BackgroundShapes";var O=a("g",{fill:"currentColor",fillRule:"evenodd",opacity:".05"},void 0,a("path",{d:"M280.695615-49.9359481l36.925416-12.73087973L390.41328 149.01055l-36.925417 12.730879c-5.636265 1.943231-11.778624-1.056472-13.719347-6.700024-1.099296-3.19672-.641196-6.724348 1.237998-9.53328 7.481649-11.183222 4.492635-26.321932-6.676146-33.813255-1.842228-1.235652-3.844441-2.21346-5.951082-2.90629l-1.258928-.414034c-11.508941-3.78505-17.774353-16.195341-13.994188-27.719162.759181-2.314364 1.897613-4.486137 3.368664-6.426376 7.32477-9.660951 5.441035-23.438275-4.207445-30.772514-1.937735-1.472957-4.106701-2.61286-6.418074-3.373023l-2.517856-.828069c-11.508941-3.78505-17.774353-16.1953413-13.994188-27.7191614.75918-2.3143643 1.897612-4.4861373 3.368669-6.4263759 7.324765-9.6609514 5.441029-23.4382753-4.20745-30.7725142-1.937729-1.4729574-4.106701-2.61286-6.418075-3.3730229l-1.258928-.4140344c-5.663362-1.8625623-8.74647-7.9694667-6.886317-13.6401535 1.053663-3.2120906 3.547852-5.7453687 6.740445-6.8460878zM-68.01869077 79.49585842l-20.12990526-33.47160903L103.76876345-69.18751479l20.1299054 33.47160828c3.07261115 5.10907886 1.4155271 11.7408859-3.70119977 14.81255967-2.89830828 1.7399104-6.44409251 2.02525587-9.582349.77113657-12.49436526-4.9930352-26.68080717 1.07817647-31.68630566 13.56042624-.82563028 2.0588776-1.36578616 4.22063593-1.60548107 6.42528824l-.1432415 1.31750012C75.87059765 13.2154035 65.0341537 21.92414581 52.97621631 20.62252338c-2.42163296-.26140655-4.78264084-.92342409-6.98632868-1.95893093-10.97274225-5.15608238-24.05734793-.4490438-29.22528443 10.51346677-1.03789209 2.20163593-1.70193171 4.5602038-1.96492152 6.97911517l-.28648198 2.63500013C13.20370582 50.83557372 2.36726115 59.54431607-9.69067645 58.24269359c-2.42163243-.26140738-4.78264026-.92342472-6.98632986-1.95893691-10.97274063-5.1560767-24.05734639-.4490385-29.22528288 10.51347247-1.03789322 2.20163034-1.70193166 4.56020379-1.9649215 6.97911506l-.14324096 1.31750011c-.64438158 5.92685282-5.9768212 10.21228442-11.91033757 9.57178193-3.36096731-.362806-6.35745842-2.27579363-8.09790155-5.16976783z"})),b=function(e){var t=e.width,n=void 0===t?340:t;return a("svg",{width:n,height:156*n/340,xmlns:"http://www.w3.org/2000/svg",className:h.default.background,viewBox:"0 0 340 156"},void 0,O)};b.displayName="BackgroundWaves",e.exports=t.default},7304:function(e,t,n){"use strict";t.__esModule=!0,t.nextStep=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_NEXT,isSkip:e,autoAdvance:t})},t.dismiss=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_DISMISS,isSkip:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},7305:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(8367),u=n(6196),s=(o=u)&&o.__esModule?o:{default:o};var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.machine={},r.transition=function(e,t){var n=r.state.currentState;if(null==n.nextEvents||n.nextEvents.includes(e)){var o=r.machine.transition(n,e);r.invokeActions(o),"final"!==r.machine.states[o.value].type&&r.setState({currentState:o,direction:null!=t?t.direction:r.state.direction})}},r.getDirection=function(){return r.state.direction},r.initializeStateMachine(n.stateChart),r.state={currentState:r.machine.initialState,direction:1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initializeStateMachine=function(e){this.machine=(0,l.Machine)(e)},t.prototype.componentDidMount=function(){this.invokeActions(this.state.currentState)},t.prototype.componentDidUpdate=function(e){this.props.stateChart!==e.stateChart&&(this.initializeStateMachine(this.props.stateChart),this.machine.initialState.value!==this.state.currentState.value&&this.setState({currentState:this.machine.initialState,direction:1}))},t.prototype.invokeActions=function(e){var t=e.value,n=e.actions,r=this.props.slideActions;null!=r&&0!==n.length&&n.forEach(function(e){return"function"==typeof r[e]&&r[e](t)})},t.prototype.renderCurrentSlide=function(){var e=this.props,t=e.slideStates,n=e.extState;return(0,t[this.state.currentState.value])(this.transition,n)},t.prototype.render=function(){var e=this.props.className,t=this.state.currentState;return a(s.default,{className:e,step:t.value,getDirection:this.getDirection},void 0,this.renderCurrentSlide())},t}(i.PureComponent);d.displayName="SlideManager",t.default=d,e.exports=t.default},7306:function(e,t,n){"use strict";t.__esModule=!0,t.LHeading=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=I(n(17)),u=I(n(5)),s=I(n(6817)),d=I(n(7307)),f=n(6075),c=I(n(152)),p=I(n(129)),h=I(n(110)),y=I(n(18)),m=I(n(8173)),v=I(n(6100)),_=I(n(244)),E=I(n(7237)),g=n(0),S=I(n(13)),T=I(n(5910));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=_.default.parserFor(m.default.getDefaultRules()),A=(t.LHeading=function(e){var t,n=e.level,r=e.children,o=e.className;return i.createElement("h"+n,{className:l.default.apply(void 0,(t=o,null==t?[]:t.split(" ").map(function(e){return T.default[e]})))},r)},function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.getScrollerRef=function(e){r._scrollerNode=null!=e?e._scroller:null},r.handleScroll=function(){if(null!=r._scrollerNode){var e=r._scrollerNode.getScrollData(),t=e.offsetHeight,n=e.scrollHeight,o=e.scrollTop/(n-t);r.maxScrolledPercentage=Math.max(r.maxScrolledPercentage,o)}},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){s.default.hideChangeLog()},t.prototype.track=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d.default.changeLog;if(r){var o=r.id,i=r.date,l=r.revision,u=a({change_log_id:(o||i)+":"+l},t);n||(u=a({seconds_open:Math.round((Date.now()-this.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(this.maxScrolledPercentage.toPrecision(4),10)},u)),y.default.track(e,u)}},t.prototype.joinEligibleExperiment=function(){var e=d.default.changeLog;null!=e&&e.experiment_names&&v.default.triggerFirstEligibleUserExperiment(e.experiment_names)},t.prototype.componentDidMount=function(){if(null==d.default.changeLog)return this.close();this.mountedAt=Date.now(),this.maxScrolledPercentage=0,this.joinEligibleExperiment(),this.track(g.AnalyticEvents.CHANGE_LOG_OPENED,{},!0)},t.prototype.componentWillUnmount=function(){this.track(g.AnalyticEvents.CHANGE_LOG_CLOSED)},t.prototype.renderHeader=function(){var e=d.default.changeLog;return null==e?null:o(c.default.Child,{grow:1,shrink:1},void 0,o(h.default,{tag:h.default.Tags.H4},void 0,S.default.Messages.WHATS_NEW),o(p.default,{size:p.default.Sizes.SMALL,color:p.default.Colors.PRIMARY,className:T.default.date},void 0,S.default.Messages.WHATS_NEW_DATE.format({date:e.date?(0,u.default)(e.date).toDate():new Date})))},t.prototype.renderFooter=function(){return o(p.default,{size:p.default.Sizes.SMALL,color:p.default.Colors.PRIMARY},void 0,S.default.Messages.MISSED_AN_UPDATE.format({link:"https://blog.discordapp.com/tagged/changelog"}))},t.prototype.renderVideo=function(){var e=d.default.changeLog;if(null==e)return null;var t=e.youtube_video_id,r=e.video,a=e.image;if(t)return o(f.EmbedVideo,{className:T.default.video,allowFullScreen:!1,href:"https://youtu.be/"+t,thumbnail:{url:"https://i.ytimg.com/vi/"+t+"/maxresdefault.jpg",width:451,height:254},video:{url:"https://www.youtube.com/embed/"+t+"?vq=large&rel=0&controls=0&showinfo=0",width:451,height:254},maxWidth:451,maxHeight:254});if(r){var i=n(7139)("./"+r);return o("video",{src:i,width:451,height:254,loop:!0,muted:!0,autoPlay:!0,className:T.default.video})}if(a){var l=n(7139)("./"+a);return o("img",{alt:"",src:l,width:451,height:254})}return null},t.prototype.render=function(){var e=d.default.changeLog||{};return i.createElement(E.default,{className:T.default.container,ref:this.getScrollerRef,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},this.renderVideo(),N(e.body,!1,{changeLog:this}))},t}(i.PureComponent));A.modalConfig={store:d.default,center:!0},A.displayName="ChangeLog",t.default=A},7307:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=h(n(483)),i=h(n(4)),l=h(n(23)),u=h(n(1)),s=h(n(6100)),d=h(n(58)),f=h(n(35)),c=h(n(15)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y="lastChangeLog",m="shouldShowChangeLog",v="en-us",_={},E={},g={},S=void 0,T=!1,I=void 0,C=!1;function N(e){return e.locale||v}if(n(8172).replace(/\r\n/g,"\n").split("---changelog---\n").slice(1).forEach(function(e){var t=!1,n={},r=e.split("\n").filter(function(e){if("---"===e)return t=!0,!1;if(!t){var r=e.split(": "),o=r.shift(),a=r.join(": ");n[o]=JSON.parse(a)}return t}).join("\n");if(null==n.date||null==n.revision)throw new Error("ChangeLogStore: A changelog does not contain a date or revision property");var a=o({},n,{date:n.date,revision:n.revision,locale:null!=n.locale?n.locale.toLowerCase():v,body:r});if(null!=n.experiment_names&&n.experiment_names.length>0)n.experiment_names.forEach(function(e){var t=E[e]||(E[e]={}),n=a.experiment_bucket||(a.experiment_bucket=p.ExperimentBuckets.CONTROL),r=t[String(n)]||(t[String(n)]={}),o=N(a);if(null!=r[o])throw new Error("ChangeLogStore: Locale ("+o+") already defined for "+e);r[o]=a});else if(n.hypesquad){var i=N(a);if(null!=g[i])throw new Error("ChangeLogStore: Locale ("+i+") already defined for HypeSquad changelogs");g[i]=a}else{var l=N(a);if(null!=_[l])throw new Error("ChangeLogStore: Locale ("+l+") already defined for default changelogs");_[l]=a}}),null==_[v])throw new Error("ChangeLogStore: No default changeLog");function A(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null!=E?Object.keys(E):[],n=f.default.locale.toLowerCase(),r=null;if(!e&&t.length>0){var o=s.default.getFirstEligibleUserExperiment(t);if(null!=o){var a=o.name;if(null==a||null==E[a])throw new Error("ChangeLogStore: This changelog experiment has not been registered");var i=String(o.bucket);null!=E[o.name][i]&&(r=E[o.name][i][n]||E[o.name][i][v])}}if(null==r){var l=c.default.getCurrentUser();if(null!=l&&(l.hasFlag(p.UserFlags.HYPESQUAD)||l.hasFlag(p.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)||l.hasFlag(p.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)||l.hasFlag(p.UserFlags.HYPESQUAD_ONLINE_HOUSE_3))){var u=g[n]||g[v];if(null!=u)return u}}return null==r&&(r=_[n]||_[v]),r}function O(){var e=function(e){if(!e)return null;var t=e.date,n=e.revision,r=e.experiment_names;return a.default.v3(JSON.stringify({date:t,revision:n,experiment_names:r}))}(S=A());I!==e&&c.default.getCurrentUser().isClaimed()&&(C=null!=I,I=e,l.default.set(y,I),l.default.set(m,C)),T=!0}S=A(!0);var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){I=l.default.get(y)||I,C=l.default.get(m)||C,this.waitFor(c.default,d.default,f.default)},t.prototype.isOpen=function(){return T&&C},r(t,[{key:"changeLog",get:function(){return S}}]),t}(i.default.Store);t.default=new b(u.default,{CHANGE_LOG_OPEN:function(e){return C=!0,void l.default.set(m,C)},CHANGE_LOG_CLOSE:function(e){return C=!1,void l.default.set(m,C)},CONNECTION_OPEN:function(e){return O()},CONNECTION_CLOSED:function(e){T=!1},USER_SETTINGS_UPDATE:function(e){return function(e){if(null==e.locale)return!1;S=A()}(e.settings)}}),e.exports=t.default},7308:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(8)),o=l(n(1)),a=n(883),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.default={setStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_SET_STEP,step:e})},updateTemporaryGuild:function(e){o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_UPDATE,guild:e})},createGuild:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED}),r.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){return o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,errors:e.body})})},createGuildPromise:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){throw e.body})},claimAccount:function(e){return o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUBMITTED}),t=e,(0,a.saveAccountRequest)(t).then(function(){o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUCCESS})},function(e){return o.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_FAILURE,errors:e.body}),Promise.reject(e)});var t}},e.exports=t.default},7309:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=h(n(4)),a=h(n(23)),i=h(n(1)),l=h(n(18)),u=h(n(9)),s=h(n(241)),d=h(n(6060)),f=h(n(6073)),c=h(n(6586)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=0,m=2,v="newUserModalStep",_="nuo_transition",E="NUX_WEB_WELCOME",g=0,S=y,T=!1,I={},C=void 0,N={name:"",icon:null,region:null};function A(e){if(b.isOpen()){var t=Date.now();g||(g=t);var n,o,a=(o=e,0===(n=S)&&0===o?{from_step:"INITIAL",to_step:"WELCOME",skip:!1}:0===n&&1===o?{from_step:"WELCOME",to_step:"CREATE_GUILD",skip:!1}:0===n&&-1===o?{from_step:"WELCOME",to_step:"DISABLED",skip:!0}:1===n&&-1===o?{from_step:"CREATE_GUILD",to_step:"DISABLED",skip:!0}:1===n&&2===o?{from_step:"CREATE_GUILD",to_step:"CREATE_GUILD_SUCCESS"}:void 0);null!=a&&(l.default.track(_,r({},a,{flow_type:E,seconds_on_from_step:(t-g)/1e3})),S=e)}}function O(e){var t=e.step;A(t),S=t,a.default.set(v,t)}var b=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){S=a.default.get(v)||S,this.waitFor(s.default,d.default,f.default,c.default)},t.prototype.getNewUserModalStep=function(){return S},t.prototype.isOpen=function(){if(null!=f.default.getAction())return!1;var e=c.default.getExperimentDescriptor();return(!e||e.bucket===p.ExperimentBuckets.CONTROL)&&((0!==S||!(s.default.totalGuilds>0||u.default.embedded))&&(T&&S>=0&&S<m))},t.prototype.getProps=function(){return{step:S,errors:I,guildSubmitting:C===p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED,guild:N}},t}(o.default.Store))(i.default,{NEW_USER_FLOW_SET_STEP:O,NEW_USER_FLOW_GUILD_UPDATE:function(e){N=r({},N,e.guild)},NEW_USER_FLOW_GUILD_CREATED:function(e){return C=p.ActionTypes.NEW_USER_FLOW_GUILD_CREATED,void O({step:m})},NEW_USER_FLOW_GUILD_FAILURE:function(e){C=p.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,I=e.errors},NEW_USER_FLOW_GUILD_SUBMITTED:function(e){C=p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED},CONNECTION_OPEN:function(e){return T=!0,void A(0)},CONNECTION_CLOSED:function(e){T=!1},LOAD_REGIONS:function(e){null==e.guildId&&(N=r({},N,{region:N.region||d.default.getOptimalRegionId()}))},REGISTER:function(e){return g=0,void(S=y)},LOGOUT:function(e){return a.default.remove(v),void(T=!1)},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=b,e.exports=t.default},7310:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(17)),l=s(n(152)),u=s(n(5923));function s(e){return e&&e.__esModule?e:{default:e}}var d={WRAP:"wrap",STACK:"stack"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.layout,r=e.columns,a=void 0;switch(n){case d.STACK:a="100%";break;case d.WRAP:a=1/r*100+"%"}return t.map(function(e,t){return o(l.default.Child,{className:u.default.tile,basis:a,grow:0},t,e)})},t.prototype.render=function(){var e=this.props.className;return o(l.default,{className:(0,i.default)(e,u.default.grid),wrap:l.default.Wrap.WRAP},void 0,this.renderChildren())},t}(a.PureComponent);f.defaultProps={children:[],layout:d.WRAP,columns:4},f.displayName="Grid",f.Layout=d,t.default=f,e.exports=t.default},7423:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=A(n(17)),l=A(n(4)),u=A(n(6168)),s=A(n(6014)),d=A(n(35)),f=n(109),c=A(n(7452)),p=A(n(7454)),h=A(n(7455)),y=A(n(8091)),m=A(n(8092)),v=A(n(8096)),_=A(n(8119)),E=A(n(8129)),g=A(n(8130)),S=A(n(8139)),T=A(n(8140)),I=n(0),C=A(n(317)),N=A(n(986));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=o(S.default,{}),M=o(c.default,{}),R=o(p.default,{}),P=o(E.default,{}),L=o(y.default,{}),w=o(_.default,{}),D=o(g.default,{}),U=o(m.default,{}),k=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=O(this,e.call.apply(e,[this].concat(a))),r.shake=function(e){var t=e.duration,n=e.intensity;r.refs.shakeable&&r.refs.shakeable.shake(t,n)},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.ComponentDispatch.subscribe(I.ComponentActions.SHAKE_APP,this.shake),s.default.setLayout(u.default),s.default.enable()},t.prototype.componentWillUnmount=function(){f.ComponentDispatch.unsubscribe(I.ComponentActions.SHAKE_APP,this.shake),s.default.disable()},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.match;return a.createElement(T.default,{ref:"shakeable",className:(0,i.default)(N.default.app,C.default.vertical,"theme-"+t)},o(v.default,{className:(0,i.default)(C.default.vertical,C.default.spacer)},void 0,o(h.default,{match:n})),b,M,R,P,L,w,D,U)},t}(a.Component);k.displayName="Chat",t.default=l.default.connectStores([d.default],function(){return{theme:d.default.theme}})(k),e.exports=t.default},7452:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=h(n(7453)),a=h(n(32)),i=h(n(4)),l=h(n(6326)),u=h(n(6041)),s=h(n(7181)),d=h(n(871)),f=h(n(91)),c=h(n(9)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=new Set(["Blink","Gecko","WebKit"]),v=p.NOOP;if(c.default.embedded)v=function(e){return c.default.setBadge(e)};else if(m.has(a.default.layout)){var _=new o.default({animation:"none"});v=function(e){try{_.badge(-1===e?"•":e)}catch(e){}}}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.cancelBounce=null,y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;v(t),n&&!this.cancelBounce?this.cancelBounce=c.default.bounceDock("critical"):!n&&this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.componentWillUnmount=function(){v(0),this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.render=function(){return null},t}(r.PureComponent);E.displayName="AppBadge";var g=function(){return null};v!==p.NOOP&&(g=i.default.connectStores([u.default,s.default,f.default,l.default,d.default],function(){var e=u.default.getTotalMentionCount(),t=f.default.getPendingCount(),n=l.default.getSuggestionCount(),r=u.default.hasAnyUnread(),o=d.default.getDisableUnreadBadge(),a=e+t+n;return 0===a&&r&&!o&&(a=-1),{badge:a,hasIncomingCalls:s.default.hasIncomingCalls()}})(E)),t.default=g,e.exports=t.default},7454:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=v(n(159)),a=v(n(4)),i=v(n(452)),l=v(n(831)),u=v(n(6326)),s=v(n(6041)),d=v(n(46)),f=v(n(871)),c=v(n(184)),p=v(n(91)),h=v(n(472)),y=v(n(9)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,o.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),E=y.default.isOSX(),g=y.default.isLinux(),S=E?null:_.DEFAULT,T=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={icon:S},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._updateIcon=function(e){var t=e.deafened,n=e.muted,r=e.speaking,o=e.connected,a=e.unread,i=S;if(!E||o){if(g||!o)return a&&(i=_.UNREAD),void this.setState({icon:i});i=t?_.DEAFENED:n?_.MUTED:r?_.SPEAKING:_.CONNECTED,this.setState({icon:i})}else this.setState({icon:i})},t.prototype.componentDidMount=function(){this._updateIcon(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._updateIcon(e)},t.prototype.componentDidUpdate=function(){y.default.setSystemTrayIcon(this.state.icon)},t.prototype.componentWillUnmount=function(){y.default.setSystemTrayIcon(E?null:S)},t.prototype.render=function(){return null},t}(r.PureComponent);T.displayName="AppTray";var I=function(){return null};y.default.embedded&&(y.default.on("SYSTEM_TRAY_TOGGLE_MUTE",i.default.toggleSelfMute),y.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",i.default.toggleSelfDeaf),y.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",function(){l.default.open(m.UserSettingsSections.VOICE)}),I=a.default.connectStores([c.default,d.default,h.default,s.default,p.default,u.default,f.default],function(){var e=s.default.getTotalMentionCount(),t=s.default.hasAnyUnread(),n=p.default.getPendingCount(),r=u.default.getSuggestionCount(),o=!f.default.getDisableUnreadBadge()&&!!(t||e+n+r>0);return{connected:c.default.isConnected(),speaking:h.default.isCurrentUserSpeaking(),muted:!d.default.isEnabled()||d.default.isSelfMute()||d.default.isSelfMutedTemporarily(),deafened:d.default.isSelfDeaf(),unread:o}})(T)),t.default=I,e.exports=t.default},7455:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=J(n(2)),s=Q(n(17)),d=n(223),f=Q(n(4)),c=J(n(6017)),p=J(n(6327)),h=J(n(6143)),y=Q(n(12)),m=Q(n(841)),v=Q(n(22)),_=Q(n(845)),E=Q(n(479)),g=Q(n(58)),S=Q(n(241)),T=Q(n(232)),I=Q(n(6041)),C=Q(n(184)),N=Q(n(51)),A=Q(n(455)),O=Q(n(906)),b=Q(n(6058)),M=Q(n(152)),R=Q(n(7456)),P=Q(n(9)),L=Q(n(7457)),w=Q(n(7588)),D=Q(n(7591)),U=Q(n(7733)),k=Q(n(7734)),G=Q(n(7749)),x=Q(n(7751)),F=Q(n(7759)),j=Q(n(7760)),B=Q(n(6030)),H=Q(n(7761)),V=Q(n(8017)),Y=Q(n(8057)),W=Q(n(985)),K=Q(n(7296)),z=Q(n(8070)),$=Q(n(7106)),q=n(0),X=Q(n(5886));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ne=f.default.connectStores([v.default,N.default],function(){var e=N.default.getChannelId();return{channel:v.default.getChannel(e)}})(function(e){var t=e.channel,n=e.match.params.messageId;return null!=t&&t.type===q.ChannelTypes.GUILD_STORE?u.createElement(U.default,l({},e,{key:t.id,inputSkuId:n})):u.createElement(D.default,e)}),re=f.default.connectStores([I.default,A.default,S.default,v.default,C.default,_.default,E.default,m.default,T.default,y.default],function(){var e=C.default.isDisabled()?null:C.default.getChannelId(),t=m.default.getMode(e);return{guilds:A.default.getSortedGuilds(),channels:v.default.getChannels(),selectedGuildId:_.default.getGuildId(),selectedVoiceGuildId:C.default.isDisabled()?null:C.default.getGuildId(),selectedVoiceChannelId:e,selectedPrivateChannelId:N.default.getChannelId(q.ME),unreadGuilds:I.default.getUnreadGuilds(),mentionCounts:I.default.getMentionCounts(),totalUnavailableGuilds:S.default.totalUnavailableGuilds,scrollTop:E.default.getGuildListDimensions().scrollTop,mode:t,isLurking:null!=T.default.lurkingGuildId(),isGuest:y.default.isGuest()}})($.default),oe=(0,B.default)(O.default,((a={})[q.ExperimentTypes.NONE]=function(e){return u.createElement(H.default,e)},a[q.ExperimentTypes.USER]=((o={})[q.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return u.createElement(H.default,e)},o[q.ExperimentBuckets.CONTROL]=function(e){return u.createElement(H.default,e)},o[q.ExperimentBuckets.TREATMENT_1]=function(e){return u.createElement(V.default,e)},o),a));function ae(){return window.location.pathname.startsWith(q.Routes.APPLICATION_STORE)}function ie(){return window.location.pathname.startsWith(q.Routes.GUILD_DISCOVERY)}var le=i(F.default,{}),ue=i(G.default,{}),se=i(j.default,{}),de=i(L.default,{}),fe=i(x.default,{}),ce=i(oe,{}),pe=i(K.default,{}),he=f.default.connectStores([_.default,y.default],function(){return{selectedGuildId:_.default.getGuildId(),isGuest:y.default.isGuest()}})(function(e){function t(){return Z(this,t),ee(this,e.apply(this,arguments))}return te(t,e),t.prototype.handleLogin=function(){p.open()},t.prototype.handleRegister=function(){h.open()},t.prototype.renderChannelSidebar=function(){var e=this.props,t=e.selectedGuildId,n=e.isGuest,r=ae()?X.default.hiddenOnMobileStore:null;return ie()?null:i("div",{className:(0,s.default)(X.default.channels,r)},void 0,t?i(z.default,{guildId:t}):le,ue,se,i(w.default,{guildId:t}),n?null:de)},t.prototype.renderGuestGuard=function(){return this.props.isGuest?i(R.default,{onLogin:this.handleLogin,onRegister:this.handleRegister}):null},t.prototype.render=function(){var e=ae()?X.default.hiddenOnMobileStore:null;return i(M.default,{className:X.default.container},void 0,i(re,{className:e,isOnGuildDiscoveryRoute:ie()}),i(M.default,{direction:M.default.Direction.VERTICAL,className:X.default.base,style:{marginLeft:0}},void 0,i(M.default.Child,{wrap:!0,grow:0,shrink:0,className:e},void 0,fe),i(M.default,{className:X.default.spacer},void 0,this.renderChannelSidebar(),i(d.Switch,{},void 0,i(d.Route,{path:q.Routes.ACTIVITY,render:function(){return ce}}),i(d.Route,{path:q.Routes.APPLICATION_LIBRARY,component:Y.default}),i(d.Route,{path:q.Routes.APPLICATION_STORE,component:W.default}),i(d.Route,{path:q.Routes.ME,exact:!0,component:k.default}),i(d.Route,{path:q.Routes.CHANNEL(q.ME,":channelId"),render:function(e){return u.createElement(ne,e)}}),i(d.Route,{path:q.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),render:function(e){return u.createElement(ne,e)}}),i(d.Route,{path:q.Routes.GUILD_DISCOVERY,render:function(){return pe}})),this.renderGuestGuard())))},t}(u.PureComponent));t.default=f.default.connectStores([g.default,b.default],function(){return{hasLoadedExperiments:g.default.hasLoadedExperiments,hasHandledRedirect:b.default.hasHandledRedirect}})(function(e){function t(){return Z(this,t),ee(this,e.apply(this,arguments))}return te(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.hasLoadedExperiments,n=e.hasHandledRedirect,r=e.match;!P.default.isDesktop()||t||n||r.url!==q.Routes.FRIENDS||c.handleRedirect()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){P.default.isDesktop()&&e.hasLoadedExperiments&&!this.props.hasLoadedExperiments&&!this.props.hasHandledRedirect&&this.props.match.url===q.Routes.FRIENDS&&c.handleRedirect()},t.prototype.render=function(){return u.createElement(he,this.props)},t}(u.PureComponent)),e.exports=t.default},7456:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(128))),i=s(n(129)),l=s(n(13)),u=s(n(5433));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.onLogin,r=e.onRegister;return o("div",{className:u.default.wrapper},void 0,o("div",{className:u.default.content},void 0,o("img",{alt:"",src:n(6435),className:u.default.image}),o("div",{},void 0,o(i.default,{className:u.default.header},void 0,l.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),o(i.default,{className:u.default.subHeader},void 0,l.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY))),o("div",{className:u.default.buttonContainer},void 0,o(a.default,{className:u.default.button,size:a.default.Sizes.MEDIUM,onClick:t,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE},void 0,l.default.Messages.LOGIN),o(a.default,{className:u.default.button,size:a.default.Sizes.MEDIUM,onClick:r},void 0,l.default.Messages.REGISTER)))};d.displayName="GuestLurkerGuard",t.default=d,e.exports=t.default},7457:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(99),l=P(n(4)),u=P(n(452)),s=n(307),d=P(n(831)),f=P(n(46)),c=P(n(323)),p=P(n(15)),h=P(n(128)),y=P(n(152)),m=P(n(306)),v=P(n(6144)),_=P(n(827)),E=P(n(6599)),g=P(n(442)),S=P(n(7182)),T=P(n(7458)),I=P(n(5994)),C=P(n(6026)),N=n(6042),A=P(N),O=P(n(7459)),b=n(0),M=P(n(13)),R=P(n(5534));function P(e){return e&&e.__esModule?e:{default:e}}function L(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}var w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={webBuildOverride:null},r.getDOMNode=r.getDOMNode.bind(r),r.handleToggleSelfMute=r.handleToggleSelfMute.bind(r),r.handleToggleSelfDeaf=r.handleToggleSelfDeaf.bind(r),r.handleOpenSettings=r.handleOpenSettings.bind(r),r.handleOpenSettingsContextMenu=r.handleOpenSettingsContextMenu.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=L(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.default.shouldCheckForBuildOverride()){e.next=5;break}return e.next=3,S.default.get();case 3:t=e.sent,this.setState({webBuildOverride:t.discord_web});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.fetchWebBuildOverrides=function(){var e=L(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.default.getActiveWebOverride();case 2:t=e.sent,this.setState({webBuildOverride:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.getDOMNode=function(){return(0,i.findDOMNode)(this)},t.prototype.handleToggleSelfMute=function(){u.default.toggleSelfMute()},t.prototype.handleToggleSelfDeaf=function(){u.default.toggleSelfDeaf()},t.prototype.handleOpenSettings=function(){d.default.open(b.UserSettingsSections.ACCOUNT)},t.prototype.handleOpenSettingsContextMenu=function(e){(0,s.openContextMenu)(e,function(e){return a.createElement(O.default,e)})},t.prototype.render=function(){var e=this.props,t=e.currentUser,r=e.mute,i=e.deaf,l=e.streaming,u=e.status;if(null==t)return null;var s=this.state.webBuildOverride,d=r?M.default.Messages.UNMUTE:M.default.Messages.MUTE,f=i?M.default.Messages.UNDEAFEN:M.default.Messages.DEAFEN;return o("div",{className:R.default.container},void 0,o(_.default,{animationType:_.default.Animations.SPRING,render:function(e){return a.createElement(T.default,e)},position:_.default.Positions.TOP_LEFT,target:this.getDOMNode},void 0,o(I.default,{user:t,status:u,streaming:l,outerClassName:R.default.avatar,statusClassName:R.default.status})),o(C.default,{user:t,className:R.default.accountDetails}),o(y.default,{grow:0},void 0,o(g.default,{text:d},void 0,o("div",{},void 0,o(E.default,{className:R.default.button,size:v.default.Sizes.SMALL,value:r,inactiveSrc:n(6613),activeSrc:n(6614),onChange:this.handleToggleSelfMute,"aria-label":d}))),o(A.default,{tutorialId:"voice-conversations",position:N.TutorialIndicatorPositions.TOP,offsetY:-38,offsetX:-18},void 0,o(g.default,{text:f},void 0,o("div",{},void 0,o(E.default,{className:R.default.button,size:v.default.Sizes.SMALL,value:i,inactiveSrc:n(6869),activeSrc:n(6870),onChange:this.handleToggleSelfDeaf,"aria-label":f})))),o(g.default,{text:null!=s?M.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:s.id}):M.default.Messages.USER_SETTINGS},void 0,o(h.default,{"aria-label":M.default.Messages.USER_SETTINGS,look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,className:R.default.button,innerClassName:R.default.buttonInner,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu},void 0,o(m.default,{name:m.default.Names.GEAR,width:18,height:18}),null!=s?o(m.default,{name:m.default.Names.INFO,width:9,height:9,className:R.default.hasBuildOverride}):null))))},t}(a.PureComponent);w.displayName="Account",t.default=l.default.connectStores([p.default,f.default,c.default],function(){var e=c.default.getPrimaryActivity();return{currentUser:p.default.getCurrentUser(),mute:!f.default.isEnabled()||f.default.isSelfMute()||f.default.isSelfMutedTemporarily(),deaf:f.default.isSelfDeaf(),status:c.default.getStatus(),streaming:null!=e&&e.type===b.ActivityTypes.STREAMING}})(w),e.exports=t.default},7458:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(461)),u=n(7183),s=c(u),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=a(u.PopoutMenuSeparator,{}),y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleSelect=function(e){l.default.updateRemoteSettings({status:e}),r.props.onClose()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return i.createElement(s.default,o({alt:!0},e),a(u.StatusItem,{status:d.StatusTypes.ONLINE,onSelect:this.handleSelect}),h,a(u.StatusItem,{status:d.StatusTypes.IDLE,onSelect:this.handleSelect}),a(u.StatusItem,{status:d.StatusTypes.DND,onSelect:this.handleSelect},void 0,f.default.Messages.STATUS_DND_HELP),a(u.StatusItem,{status:d.StatusTypes.INVISIBLE,onSelect:this.handleSelect},void 0,f.default.Messages.STATUS_INVISIBLE_HELPER))},t}(i.PureComponent);y.displayName="StatusPickerPopout",t.default=y,e.exports=t.default},7459:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(307),u=S(n(831)),s=S(n(58)),d=S(n(5981)),f=S(n(5977)),c=S(n(5998)),p=n(7184),h=S(n(7582)),y=S(n(7583)),m=S(n(7584)),v=S(n(7585)),_=S(n(7586)),E=S(n(7587)),g=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=o(v.default,{},"streamer-mode"),C=o(y.default,{},"theme"),N=o(h.default,{},"messages"),A=o(_.default,{},"inputMode"),O=o(d.default,{},"volume",o(E.default,{type:"input"}),o(E.default,{type:"output"})),b=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,p=Array(d),h=0;h<d;h++)p[h]=arguments[h];return n=r=T(this,e.call.apply(e,[this].concat(p))),r.renderMenuItem=function(e){var t=e.section,n=e.label,u=e.onClick,d={key:t,label:n,action:u?function(){(0,l.closeContextMenu)(),u()}:function(){return r.handleAction(t)}};switch(t){case g.UserSettingsSections.STREAMER_MODE:return i.createElement(c.default,a({},d,{render:function(){return[I]}}));case g.UserSettingsSections.APPEARANCE:return i.createElement(c.default,a({},d,{render:function(){return[C,N]}}));case g.UserSettingsSections.VOICE:return i.createElement(c.default,a({},d,{render:function(){return[A,O]}}));case g.UserSettingsSections.EXPERIMENTS:var p=s.default.getRegisteredExperiments(),h=Object.keys(p).map(function(e){return o(m.default,{id:e},e)});return i.createElement(c.default,a({invertChildY:!0},d,{render:function(){return h}}));case"logout":return null;default:return i.createElement(f.default,d)}},r.handleAction=function(e){(0,l.closeContextMenu)(),u.default.open(e)},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return o("div",{className:n,style:t},void 0,(0,p.getUserSettingsSections)().map(this.renderMenuItem))},t}(i.PureComponent);b.displayName="UserSettingsCogContextMenu",t.default=b,e.exports=t.default},7460:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(6)),a=s(n(4)),i=s(n(1)),l=s(n(15)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=u.FormStates.CLOSED,f=void 0,c={},p={},h=void 0,y=void 0,m=!1;function v(e){var t,n=l.default.getCurrentUser();if(null==n)return _();f=e.section||f,e.subsection&&null!=f&&(c[f]=e.subsection),d=u.FormStates.OPEN,p={},(t={})[u.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},y=r({},h=t)}function _(){d=u.FormStates.CLOSED,m=!1,h=null,y=null,f=null,c={}}function E(){d=u.FormStates.OPEN,p={}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.hasChanges=function(){return null!=y&&null!=h&&(!!this.isOpen()&&!o.default.isEqual(y,h))},t.prototype.isOpen=function(){return m},t.prototype.getSection=function(){return f},t.prototype.getProps=function(){return{submitting:d===u.FormStates.SUBMITTING,section:f,subsection:null!=c&&null!=f?c[f]:null,settings:y,errors:p,hasChanges:this.hasChanges()}},t}(a.default.Store);t.default=new g(i.default,{USER_SETTINGS_MODAL_OPEN:function(e){m=!0,v(e)},USER_SETTINGS_MODAL_INIT:v,USER_SETTINGS_MODAL_CLOSE:function(e){return _()},LOGOUT:function(e){return _()},USER_SETTINGS_MODAL_SUBMIT:function(e){d=u.FormStates.SUBMITTING},USER_SETTINGS_MODAL_SUBMIT_FAILURE:function(e){if(d!==u.FormStates.SUBMITTING)return!1;d=u.FormStates.OPEN,f=u.UserSettingsSections.ACCOUNT,p=e.errors||{}},USER_SETTINGS_MODAL_SET_SECTION:function(e){f=e.section,e.subsection&&(c[f]=e.subsection)},USER_SETTINGS_MODAL_UPDATE_ACCOUNT:function(e){var t=e.settings;null==y&&(y={});var n=y[u.UserSettingsSections.ACCOUNT];y[u.UserSettingsSections.ACCOUNT]=r({},n,t)},USER_SETTINGS_MODAL_SUBMIT_COMPLETE:function(e){return E()},USER_SETTINGS_MODAL_RESET:function(e){return n=l.default.getCurrentUser(),E(),void(n&&((t={})[u.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},y=r({},h=t)));var t,n}}),e.exports=t.default},7461:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(311))),i=s(n(306)),l=n(0),u=s(n(5747));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return o("div",{className:u.default.socialLinks},void 0,o(a.default,{target:"_blank",rel:"author",title:"Twitter",href:l.SOCIAL_LINKS.TWITTER_URL,className:u.default.link},void 0,o(i.default,{name:i.default.Names.TWITTER,foreground:u.default.foreground})),o(a.default,{target:"_blank",rel:"author",title:"Facebook",href:l.SOCIAL_LINKS.FACEBOOK_URL,className:u.default.link},void 0,o(i.default,{name:i.default.Names.FACEBOOK,foreground:u.default.foreground})),o(a.default,{target:"_blank",rel:"author",title:"Instagram",href:l.SOCIAL_LINKS.INSTAGRAM_URL,className:u.default.link},void 0,o(i.default,{name:i.default.Names.INSTAGRAM,foreground:u.default.foreground})))},e.exports=t.default},7462:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=z(n(17)),u=z(n(6208)),s=z(n(4)),d=n(475),f=z(n(6602)),c=z(n(80)),p=n(883),h=z(n(831)),y=z(n(28)),m=z(n(6820)),v=z(n(312)),_=z(n(7185)),E=z(n(35)),g=z(n(15)),S=n(128),T=z(S),I=z(n(450)),C=z(n(221)),N=z(n(152)),A=n(306),O=z(A),b=z(n(129)),M=z(n(828)),R=z(n(442)),P=n(829),L=z(n(18)),w=z(n(82)),D=z(n(225)),U=z(n(6035)),k=z(n(5994)),G=z(n(6169)),x=z(n(447)),F=z(n(6823)),j=z(n(6824)),B=z(n(7484)),H=n(0),V=z(n(13)),Y=z(n(5351)),W=z(n(880)),K=z(n(5523));function z(e){return e&&e.__esModule?e:{default:e}}var $=a(U.default,{}),q=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return X.call(r),r.state={multiInputFocused:!0,discriminatorError:null,passwordError:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){f.default.clearBackupCodes(),(0,p.accountDetailsClose)()},t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.renderPasswordChanger=function(){var e=this.props,t=e.isEditingPassword,n=e.accountInfo;return t?a(P.FormItem,{className:Y.default.marginTop20,title:V.default.Messages.FORM_LABEL_NEW_PASSWORD,required:!0},void 0,a(M.default,{name:"newPassword",type:"password",value:null!=n?n.newPassword:"",onChange:this.handleChangeProfileField,error:this.getError("new_password")})):a(P.FormItem,{className:Y.default.marginTop20},void 0,a(T.default,{onClick:this.startEditingPassword,color:S.ButtonColors.PRIMARY,look:S.ButtonLooks.LINK,size:S.ButtonSizes.MIN},void 0,V.default.Messages.CHANGE_PASSWORD_LINK))},t.prototype.renderUsernameDiscriminator=function(){var e,t=this,n=this.props,r=n.currentUser,o=n.accountInfo,i=this.state.discriminatorError,u=this.getError("username");return i=i||this.getError("discriminator"),a(P.FormItem,{title:V.default.Messages.FORM_LABEL_USERNAME,className:Y.default.marginBottom20,required:!0},void 0,a("div",{className:W.default.inputWrapper},void 0,a("div",{className:(0,l.default)(W.default.input,K.default.multiInput,(e={},e[W.default.error]=u||i,e[W.default.focused]=this.state.multiInputFocused,e))},void 0,a(M.default,{name:"username",value:o.username||"",onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},autoFocus:!0,className:K.default.multiInputFirst,inputClassName:K.default.multiInputField}),a(M.default,{name:"discriminator",maxLength:4,value:o.discriminator,onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},inputPrefix:"#",disabled:!D.default.canEditDiscriminator(r),className:K.default.multiInputLast,inputClassName:K.default.multiInputField}),D.default.canEditDiscriminator(r)?null:a(R.default,{text:V.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_TOOLTIP,position:"bottom"},void 0,a(C.default,{tag:"span",className:K.default.questionMark,onClick:this.onEditDiscriminator},void 0,a(O.default,{name:A.IconNames.QUESTION_MARK,className:K.default.icon})))),u?a("div",{className:W.default.errorMessage},void 0,u):null,i?a("div",{className:W.default.errorMessage},void 0,i):null))},t.prototype.renderEditing=function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,o=r.formState,i=r.accountInfo,u=r.claimed,s=r.verified,d=r.currentUser,f=this.state.passwordError,c=s&&n?this.renderPasswordChanger():null;return a(I.default,{className:(0,l.default)(K.default.userInfoEditing,(e={},e[K.default.danger]=!u,e[K.default.warning]=!s,e)),editable:!0},void 0,a(N.default,{},void 0,a(N.default.Child,{grow:0,className:K.default.avatarColumn},void 0,a(G.default,{showIcon:!0,avatar:i.avatar,size:H.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,avatarClassName:K.default.avatarUploaderInner,makeURL:function(e){var t={id:d.id,avatar:e,discriminator:d.discriminator},n=w.default.hasAnimatedAvatar(t)?"gif":"png";return w.default.getUserAvatarURL(t,n)}}),a(b.default,{color:b.default.Colors.RED,className:Y.default.marginTop8},void 0,this.getError("avatar"))),a(N.default.Child,{},void 0,this.renderUsernameDiscriminator(),a(P.FormItem,{title:V.default.Messages.FORM_LABEL_EMAIL,className:Y.default.marginBottom20,required:!0},void 0,a(M.default,{name:"email",value:i.email||"",onChange:this.handleChangeProfileField,error:this.getError("email")})),a(P.FormItem,{title:V.default.Messages.FORM_LABEL_CURRENT_PASSWORD,required:!0},void 0,a(M.default,{name:"password",type:"password",value:i.password||"",onChange:this.handleChangeProfileField,error:f||this.getError("password")})),c)),a(P.FormDivider,{className:(0,l.default)(Y.default.marginTop20,Y.default.marginBottom20)}),a(N.default,{justify:N.default.Justify.END,align:N.default.Align.CENTER},void 0,a(N.default.Child,{wrap:!0,grow:0},void 0,a(T.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!0)}},void 0,V.default.Messages.DELETE_ACCOUNT)),a(N.default,{grow:1},void 0,u?a(T.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!1)}},void 0,V.default.Messages.DISABLE_ACCOUNT):null),a(N.default.Child,{wrap:!0,grow:0},void 0,a("div",{},void 0,u?a(T.default,{look:S.ButtonLooks.LINK,color:S.ButtonColors.PRIMARY,size:S.ButtonSizes.MIN,onClick:this.handleCancelEditing},void 0,V.default.Messages.CANCEL):null)),a(N.default.Child,{wrap:!0,grow:0},void 0,a(T.default,{color:S.ButtonColors.GREEN,size:S.ButtonSizes.SMALL,onClick:this.handleSaveProfile,submitting:o===H.FormStates.SUBMITTING},void 0,V.default.Messages.USER_SETTINGS_SAVE))))},t.prototype.renderViewing=function(){var e,t=this.props,n=t.currentUser,r=t.verified;return a(I.default,{className:(0,l.default)(K.default.userInfoViewing,(e={},e[K.default.warning]=!r,e))},void 0,a(N.default,{},void 0,a(N.default.Child,{grow:0},void 0,a("div",{},void 0,a(k.default,{user:n,size:"xxlarge",animate:!0}))),a(N.default.Child,{},void 0,a(P.FormItem,{className:Y.default.marginBottom20},void 0,a(P.FormTitle,{faded:!0,className:Y.default.marginBottom4},void 0,V.default.Messages.FORM_LABEL_USERNAME),a(b.default,{className:K.default.viewBody,selectable:!0},void 0,n.toString(),a("span",{style:{opacity:.5}},void 0,"#",n.discriminator))),a(P.FormItem,{},void 0,a(P.FormTitle,{faded:!0,className:Y.default.marginBottom4},void 0,V.default.Messages.FORM_LABEL_EMAIL),a(b.default,{className:K.default.viewBody,selectable:!0},void 0,n.email)))),a(T.default,{className:K.default.userInfoViewingButton,size:S.ButtonSizes.SMALL,onClick:this.startEditingProfile},void 0,V.default.Messages.EDIT))},t.prototype.renderAccountSettings=function(){var e=this.props,t=e.verified,r=e.claimed,o=e.isEditingProfile,i=void 0,l=void 0;if(r){if(!t){var u=a("section",{},void 0,a("div",{className:Y.default.marginBottom8},void 0,V.default.Messages.USER_SETTINGS_UNVERIFIED_ACCOUNT_BODY),a(j.default,{look:S.ButtonLooks.INVERTED,size:S.ButtonSizes.SMALL,color:T.default.Colors.YELLOW}));l=a(P.FormNotice,{type:P.FormNotice.Types.WARNING,className:Y.default.marginBottom8,imageData:{src:n(7194),width:60,height:60},title:V.default.Messages.UNVERIFIED_ACCOUNT_TITLE,body:u})}}else l=a(P.FormNotice,{className:Y.default.marginBottom8,imageData:{src:n(7194),width:60,height:60},title:V.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:V.default.Messages.UNCLAIMED_ACCOUNT_BODY.format()}),i=this.renderEditing(!1);return null==i&&(i=o?this.renderEditing():this.renderViewing()),a(P.FormSection,{tag:P.FormTitleTags.H2,title:V.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:K.default.userSettingsAccount},void 0,l,i)},t.prototype.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,r=e.currentUser,o=e.theme===H.ThemeTypes.DARK?n(7497):n(7498);return a(P.FormSection,{className:(0,l.default)(K.default.userSettingsSecurity,Y.default.marginTop60),title:V.default.Messages.TWO_FA,tag:P.FormTitle.Tags.H2},void 0,a(N.default,{align:N.default.Align.STRETCH},void 0,a(N.default.Child,{wrap:!0},void 0,a(B.default,{backupCodes:t})),r.mfaEnabled?null:a(N.default,{align:N.default.Align.CENTER,basis:"323px",grow:0},void 0,a("img",{src:o,className:K.default.userSettingsSecurityImage,alt:""}))))},t.prototype.render=function(){return this.props.hide?$:a("div",{},void 0,this.renderAccountSettings(),this.renderSecuritySettings())},t.prototype.startEditingProfile=function(){(0,p.toggleEditingProfile)(!0)},t.prototype.startEditingPassword=function(){(0,p.toggleEditingPassword)(!0)},t.prototype.handleChangeProfileField=function(e,t){var n;("discriminator"===t&&(e=e.replace(/[^0-9]/,"")),null!=t)&&(0,p.updateAccountInfo)(((n={})[t]=e,n))},t.prototype.handleAvatarChange=function(e){(0,p.updateAccountInfo)({avatar:e})},t.prototype.handleCancelEditing=function(){(0,p.toggleEditingProfile)(!1)},t.prototype.saveAccount=function(){var e=this.props,t=e.claimed,n=e.currentUser,r=e.accountInfo,o=r.username,a=r.email,i=r.password,l=r.newPassword,u=r.avatar,s=r.discriminator;(0,p.saveAccountChanges)(o,a,i,u,l,D.default.canEditDiscriminator(n)?s:null).then(function(e){t||null==e||(0,d.claimSuccess)(e)})},t.prototype.handleDisableAccountError=function(e){return new Promise(function(t,n){if(e.body.code===H.AbortCodes.INVALID_PASSWORD)return n(e);c.default.push(function(n){return i.createElement(x.default,o({header:V.default.Messages.DELETE_ACCOUNT_ERROR,onConfirm:t,confirmText:V.default.Messages.OKAY,red:!1},n),a(b.default,{size:b.default.Sizes.MEDIUM,color:b.default.Colors.PRIMARY},void 0,e.body.message))})})},t.prototype.handleSubmitDisableAccount=function(e,t){return(0,p.disableAccount)(e,t).then(H.NOOP,this.handleDisableAccountError)},t.prototype.handleDisableAccount=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.currentUser,r=y.default.getGuilds();Object.keys(r).filter(function(e){return r[e].ownerId===n.id}).length>0?c.default.push(function(e){return i.createElement(x.default,o({header:V.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:V.default.Messages.OKAY,red:!1},e),a(b.default,{size:b.default.Sizes.MEDIUM,color:b.default.Colors.PRIMARY},void 0,V.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}):n.isClaimed()?c.default.push(function(n){return i.createElement(F.default,o({},n,{handleSubmit:function(n){return e.handleSubmitDisableAccount(n,t)},title:t?V.default.Messages.DELETE_ACCOUNT:V.default.Messages.DISABLE_ACCOUNT,actionText:t?V.default.Messages.DELETE_ACCOUNT:V.default.Messages.DISABLE_ACCOUNT}),t?V.default.Messages.DELETE_ACCOUNT_BODY:V.default.Messages.DISABLE_ACCOUNT_BODY)}):c.default.push(function(e){return i.createElement(x.default,o({header:V.default.Messages.DELETE_ACCOUNT,confirmText:V.default.Messages.DELETE_ACCOUNT,cancelText:V.default.Messages.CANCEL,onConfirm:function(){return(0,p.disableAccount)("",!1)}},e),a(b.default,{size:b.default.Sizes.MEDIUM,color:b.default.Colors.PRIMARY},void 0,V.default.Messages.DELETE_ACCOUNT_BODY))})},t}(i.PureComponent),X=function(){var e=this;this.onEditDiscriminator=function(){L.default.track(H.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:H.AnalyticsPages.USER_SETTINGS,location_section:H.AnalyticsSections.SETTINGS_ACCOUNT,location_object:H.AnalyticsObjects.TOOLTIP}),h.default.setSection(H.UserSettingsSections.PREMIUM)},this.handleSaveProfile=function(){var t=e.props,n=t.currentUser,r=t.accountInfo,l=r.discriminator,u=r.password,s=!1;if(D.default.canEditDiscriminator(n)&&n.discriminator!==l){if(4!==l.length?(e.setState({discriminatorError:V.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_LENGTH_ERROR}),s=!0):0===parseInt(l,10)?(e.setState({discriminatorError:V.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_ZERO_ERROR}),s=!0):e.setState({discriminatorError:null}),0===u.length?(e.setState({passwordError:V.default.Messages.PASSWORD_REQUIRED}),s=!0):e.setState({passwordError:null}),s)return;c.default.push(function(t){return i.createElement(x.default,o({header:V.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_HEADER,cancelText:V.default.Messages.CANCEL,confirmText:V.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_CONFIRM,red:!1,onConfirm:function(){return e.saveAccount()}},t),a(b.default,{size:b.default.Sizes.MEDIUM,color:b.default.Colors.PRIMARY},void 0,V.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_BODY))})}else null==e.state.discriminatorError&&null==e.state.passwordError||e.setState({discriminatorError:null,passwordError:null}),e.saveAccount()},this.debounceFocusBlur=(0,u.default)(function(t){return e.setState({multiInputFocused:t})},50)};q.displayName="UserSettingsAccount",t.default=s.default.connectStores([g.default,v.default,_.default,E.default,m.default],function(){return o({},_.default.getState(),{currentUser:g.default.getCurrentUser(),backupCodes:m.default.getBackupCodes(),hide:v.default.hidePersonalInformation,theme:E.default.theme})})(q),e.exports=t.default},7484:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=R(n(17)),u=R(n(4)),s=R(n(6602)),d=R(n(80)),f=R(n(6438)),c=R(n(6820)),p=R(n(15)),h=R(n(311)),y=n(128),m=R(y),v=R(n(5999)),_=R(n(152)),E=n(829),g=n(7191),S=R(n(7192)),T=R(n(7489)),I=R(n(7495)),C=R(n(6823)),N=R(n(6387)),A=n(0),O=R(n(13)),b=R(n(5351)),M=R(n(5523));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=P(this,e.call.apply(e,[this].concat(l))),r.state={revealed:!1},r.togglePhoneNumberVisibility=function(e){e.preventDefault(),r.setState({revealed:!r.state.revealed})},r.handleEnableMFA=function(){d.default.push(function(e){var t=e.onClose,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onClose"]);return i.createElement(T.default,a({},n,{onClose:function(){null!=t&&t(),r.handleEnableMFASuccess()}}))})},r.handleEnableMFASuccess=function(){d.default.push(function(e){return i.createElement(I.default,e)})},r.handleDisableMFA=function(){s.default.disable()},r.generateBackupCodes=function(){d.default.push(function(e){return i.createElement(C.default,a({},e,{handleSubmit:function(e){return s.default.viewBackupCodes(e,!0)},title:O.default.Messages.TWO_FA_GENERATE_CODES,actionText:O.default.Messages.TWO_FA_GENERATE_CODES}),O.default.Messages.TWO_FA_GENERATE_CODES_CONFIRM_TEXT)})},r.viewBackupCodes=function(){d.default.push(function(e){return i.createElement(C.default,a({},e,{handleSubmit:function(e){return s.default.viewBackupCodes(e)},title:O.default.Messages.TWO_FA_VIEW_BACKUP_CODES,actionText:O.default.Messages.TWO_FA_VIEW_CODES}))})},r.getDownloadFileContents=function(){var e=r.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")}).join("\r\n");return O.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:r.props.currentUser.email})+"\r\n\r\n"+e},r.handleChangePhoneNumber=function(){r.openPhoneVerificationModal()},r.handleEnableSMS=function(){var e=function(){d.default.push(function(e){return i.createElement(C.default,a({},e,{handleSubmit:s.default.enableSMS,title:O.default.Messages.MFA_SMS_ENABLE}))})};null==r.props.currentUser.phone?r.openPhoneVerificationModal({onAddedPhone:e}):e()},r.handleDisableSMS=function(){d.default.push(function(e){return i.createElement(C.default,a({},e,{handleSubmit:s.default.disableSMS,title:O.default.Messages.MFA_SMS_REMOVE}),O.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)})},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)},t.prototype.renderMFASMS=function(){var e=this.state.revealed,t=this.props,n=t.currentUser,r=t.togglingSMS,a=null!=n.phone,i=n.hasFlag(A.UserFlags.MFA_SMS),u=void 0,s=void 0;if(a||i){var d=e?n.phone:this.maskPhoneNumber(n.phone);s=o(E.FormText,{type:E.FormText.Types.DESCRIPTION,className:b.default.marginBottom8},void 0,O.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:d}),o(h.default,{onClick:this.togglePhoneNumberVisibility,className:M.default.phoneRevealer},void 0,e?O.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:O.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(i)u=o(_.default,{className:a?"":b.default.marginTop8},void 0,o(m.default,{color:m.default.Colors.RED,look:m.default.Looks.OUTLINED,size:m.default.Sizes.SMALL,submitting:r,onClick:this.handleDisableSMS},void 0,O.default.Messages.MFA_SMS_REMOVE));else{var f=n.hasFlag(A.UserFlags.STAFF)||n.hasFlag(A.UserFlags.PARTNER);u=o(_.default,{className:a?"":b.default.marginTop8},void 0,o(m.default,{onClick:this.handleEnableSMS,size:m.default.Sizes.SMALL,submitting:r,disabled:f},void 0,f?O.default.Messages.MFA_SMS_DISABLED_PARTNER:O.default.Messages.MFA_SMS_ENABLE),a?o(m.default,{onClick:this.handleChangePhoneNumber,color:m.default.Colors.PRIMARY,size:m.default.Sizes.SMALL,look:m.default.Looks.LINK},void 0,O.default.Messages.CHANGE_PHONE_NUMBER):null)}return o(E.FormSection,{className:(0,l.default)(b.default.marginBottom40,b.default.marginTop40),title:O.default.Messages.MFA_SMS_AUTH},void 0,o(E.FormText,{type:E.FormText.Types.DESCRIPTION},void 0,O.default.Messages.MFA_SMS_AUTH_SALES_PITCH),s,u)},t.prototype.renderEnabled=function(){var e=this.props.backupCodes,t=o(m.default,{onClick:this.viewBackupCodes,size:m.default.Sizes.SMALL},void 0,O.default.Messages.TWO_FA_VIEW_BACKUP_CODES),r=void 0;if(e.length){t=o(S.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",className:(0,l.default)(M.default.btn,M.default.btnPrimary)},void 0,o(m.default,{size:m.default.Sizes.SMALL},void 0,O.default.Messages.TWO_FA_DOWNLOAD_CODES));var a=function(e){return e.map(function(e){var t=e.consumed,n=e.code;return o("li",{className:b.default.marginBottom20},n,o(v.default,{readOnly:!0,className:M.default.codeCheckbox,value:t},void 0,o("span",{className:M.default.code},void 0,n.substr(0,4)+"-"+n.substr(4))))})};r=o(E.FormSection,{title:O.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,o(E.FormText,{type:E.FormText.Types.DESCRIPTION,className:b.default.marginBottom20},void 0,O.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),o(_.default,{},void 0,o(_.default.Child,{},void 0,o("ul",{className:M.default.checkboxGroup},void 0,a(e.slice(0,e.length/2)))),o(_.default.Child,{},void 0,o("ul",{className:M.default.checkboxGroup},void 0,a(e.slice(e.length/2))))),o("div",{},void 0,o(m.default,{onClick:this.generateBackupCodes,look:y.ButtonLooks.LINK,size:y.ButtonSizes.MIN},void 0,O.default.Messages.TWO_FA_GENERATE_CODES)),o(E.FormDivider,{className:b.default.marginTop20}))}return o(E.FormSection,{},void 0,o(E.FormTitle,{className:(0,l.default)(M.default.isEnabled,b.default.marginTop4,b.default.marginBottom8)},void 0,o("img",{alt:"",className:(0,l.default)(M.default.lockIcon),src:n(7496)}),O.default.Messages.TWO_FA_ENABLED),o(_.default,{justify:_.default.Justify.START,className:b.default.marginBottom20},void 0,o(_.default.Child,{wrap:!0,grow:0},void 0,t),o(_.default.Child,{wrap:!0},void 0,o(m.default,{onClick:this.handleDisableMFA,size:m.default.Sizes.SMALL,color:y.ButtonColors.RED,look:y.ButtonLooks.OUTLINED},void 0,O.default.Messages.TWO_FA_REMOVE))),r,this.renderMFASMS())},t.prototype.renderDisabled=function(){return o(E.FormSection,{},void 0,o(E.FormText,{type:E.FormText.Types.DESCRIPTION,className:b.default.marginBottom20},void 0,O.default.Messages.TWO_FA_SALES_PITCH),o(E.FormItem,{},void 0,o(m.default,{onClick:this.handleEnableMFA,size:y.ButtonSizes.SMALL},void 0,O.default.Messages.TWO_FA_ENABLE)))},t.prototype.render=function(){var e=this.props.currentUser;return g.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():o(E.FormText,{type:E.FormText.Types.DESCRIPTION},void 0,O.default.Messages.TWO_FA_NOT_VERIFIED):o(E.FormText,{type:E.FormText.Types.DESCRIPTION},void 0,O.default.Messages.TWO_FA_USE_DESKTOP_APP)},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f.default.reset(),d.default.push(function(t){return i.createElement(N.default,a({},t,e))})},t}(i.PureComponent);L.displayName="TwoFactorAuth",t.default=u.default.connectStores([p.default,c.default],function(){return{currentUser:p.default.getCurrentUser(),togglingSMS:c.default.togglingSMS}})(L),e.exports=t.default},7489:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=S(n(6602)),l=S(n(80)),u=S(n(15)),s=S(n(128)),d=S(n(152)),f=S(n(222)),c=S(n(129)),p=S(n(828)),h=S(n(836)),y=S(n(445)),m=S(n(110)),v=n(7191),_=S(n(7490)),E=S(n(13)),g=S(n(5749));function S(e){return e&&e.__esModule?e:{default:e}}var T=function(e){var t=e.image,n=e.label,r=e.text,a=e.children;return o(d.default,{className:g.default.spacing},void 0,o(d.default,{grow:0,shrink:0,basis:"156px",justify:d.default.Justify.CENTER,className:g.default.image},void 0,t),o(d.default,{direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER},void 0,o("div",{},void 0,o(m.default,{tag:m.default.Tags.H5,className:g.default.headerSpacing},void 0,n),o(y.default,{type:y.default.Types.DESCRIPTION},void 0,r),a)))};T.displayName="ModalSection";var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleActivateSuccess=function(){var e=r.props.onClose;null!=e&&e()},r.handleActivate=r.handleActivate.bind(r),r.handleCodeChange=r.handleCodeChange.bind(r),r.state={code:"",totpSecret:(0,v.generateTotpSecret)(),error:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.totpSecret,r=e.code,a=u.default.getCurrentUser().email,i=(0,v.encodeTotpSecretAsUrl)(a,t),y=o(d.default,{className:g.default.inputContainer,align:d.default.Align.START},void 0,o(p.default,{value:r,className:g.default.input,placeholder:"000 000",maxLength:7,autoComplete:"off",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),o(d.default.Child,{grow:0,shrink:0},void 0,o(s.default,{onClick:this.handleActivate},void 0,E.default.Messages.TWO_FA_ACTIVATE)));return o(f.default,{size:g.default.customWidth},void 0,o(f.default.Header,{},void 0,o(d.default.Child,{grow:1,shrink:1},void 0,o(m.default,{tag:m.default.Tags.H4},void 0,E.default.Messages.TWO_FA_ENABLE),o(c.default,{size:c.default.Sizes.SMALL,className:g.default.subHeader},void 0,E.default.Messages.TWO_FA_ENABLE_SUBHEADER)),o(d.default.Child,{grow:0},void 0,o(f.default.CloseButton,{onClick:l.default.pop}))),o(f.default.Content,{},void 0,o(T,{image:o("img",{alt:"",src:n(7493),width:100,height:100}),label:E.default.Messages.TWO_FA_DOWNLOAD_APP_LABEL,text:E.default.Messages.TWO_FA_DOWNLOAD_APP_BODY.format({googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),o(h.default,{className:g.default.divider}),o(T,{image:o(_.default,{text:i}),label:E.default.Messages.TWO_FA_QR_LABEL,text:E.default.Messages.TWO_FA_QR_BODY},void 0,o("div",{className:g.default.topSpacing},void 0,o(m.default,{tag:m.default.Tags.H5,className:g.default.headerSpacing},void 0,E.default.Messages.TWO_FA_KEY),o(c.default,{color:c.default.Colors.PRIMARY,size:c.default.Sizes.MEDIUM,family:c.default.Family.CODE,selectable:!0},void 0,t))),o(h.default,{className:g.default.divider}),o(T,{image:o("img",{alt:"",src:n(7494)}),label:E.default.Messages.TWO_FA_LOGIN_LABEL,text:E.default.Messages.TWO_FA_LOGIN_BODY},void 0,y)))},t.prototype.handleCodeChange=function(e){this.setState({code:e})},t.prototype.handleActivate=function(){var e=this,t=this.state,n=t.totpSecret,r=t.code;i.default.enable({code:r,secret:(0,v.encodeTotpSecret)(n)}).then(this.handleActivateSuccess,function(t){return e.setState({error:t.body.message})})},t}(a.PureComponent);I.key=function(){return"mfa-enable-modal"},I.displayName="MFAEnable",t.default=I,e.exports=t.default},7490:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(7491),i=(r=a)&&r.__esModule?r:{default:r};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.componentDidUpdate=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.render=function(){return o.createElement("div",{ref:"QR_REF",style:{padding:8,borderRadius:4,background:this.props.colorLight}})},t}(o.PureComponent);l.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000",correctLevel:a.CorrectLevel.M},l.displayName="QRCode",t.default=l,e.exports=t.default},7493:function(e,t,n){e.exports=n.p+"0b8465d21b4c248c18f7e0a44fda86cc.png"},7494:function(e,t,n){e.exports=n.p+"cdec1a78913423b428eb0013e9678244.svg"},7495:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(4)),u=A(n(6602)),s=A(n(80)),d=A(n(6438)),f=A(n(6820)),c=A(n(15)),p=A(n(128)),h=A(n(152)),y=A(n(222)),m=A(n(129)),v=A(n(836)),_=A(n(110)),E=A(n(244)),g=A(n(7192)),S=A(n(6387)),T=A(n(6823)),I=n(0),C=A(n(13)),N=A(n(5750));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){var t=e.label,n=e.text,r=e.children,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","text","children"]);return i.createElement(h.default,o({direction:h.default.Direction.VERTICAL},l),a(_.default,{tag:_.default.Tags.H2},void 0,t),null!=n?a(m.default,{size:m.default.Sizes.MEDIUM,className:N.default.sectionBody},void 0,n):null,a(h.default.Child,{wrap:!0},void 0,r))};b.displayName="ModalSection";var M=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return n=r=O(this,e.call.apply(e,[this].concat(l))),r.getDownloadFileContents=function(){var e=r.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"("+C.default.Messages.TWO_FA_BACKUP_CODE_USED+")":"")}).join("\r\n");return C.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:r.props.currentUser.email})+"\r\n\r\n"+e},r.handleChangePhoneNumber=function(){r.openPhoneVerificationModal()},r.handleEnableSMS=function(){var e=function(){s.default.push(function(e){return i.createElement(T.default,o({},e,{handleSubmit:function(e){return u.default.enableSMS(e)},title:C.default.Messages.MFA_SMS_ENABLE}))})};null==r.props.currentUser.phone?r.openPhoneVerificationModal({onAddedPhone:e}):e()},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSMSSection=function(){var e=this.props.currentUser,t=null!=this.props.currentUser.phone,n=e.hasFlag(I.UserFlags.MFA_SMS),r=e.hasFlag(I.UserFlags.PARTNER)||e.hasFlag(I.UserFlags.STAFF);return t?a(b,{label:C.default.Messages.MFA_SMS_ENABLE,text:C.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,a(m.default,{size:m.default.Sizes.MEDIUM,className:N.default.sectionBody},void 0,a("strong",{className:N.default.phoneNumber},void 0,C.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:e.phone})),a(p.default,{look:p.default.Looks.LINK,color:p.default.Colors.LINK,size:p.default.Sizes.MIN,className:N.default.linkButton,onClick:this.handleChangePhoneNumber},void 0,C.default.Messages.CHANGE_PHONE_NUMBER)),a(p.default,{onClick:this.handleEnableSMS,disabled:n||r,color:p.default.Colors.GREEN,size:p.default.Sizes.SMALL},void 0,r?C.default.Messages.MFA_SMS_DISABLED_PARTNER:n?C.default.Messages.MFA_SMS_ALREADY_ENABLED:C.default.Messages.MFA_SMS_ENABLE)):a(b,{label:C.default.Messages.MFA_SMS_ENABLE,text:C.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,a(p.default,{onClick:this.handleEnableSMS,color:p.default.Colors.GREEN,size:p.default.Sizes.SMALL,disabled:r},void 0,r?C.default.Messages.MFA_SMS_DISABLED_PARTNER:C.default.Messages.MFA_SMS_ADD_PHONE))},t.prototype.renderBackupCodesSection=function(){return a(b,{label:C.default.Messages.TWO_FA_DOWNLOAD_CODES,text:C.default.Messages.TWO_FA_BACKUP_CODES_SALES_PITCH},void 0,a(g.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,a(p.default,{color:p.default.Colors.GREEN,size:p.default.Sizes.SMALL},void 0,C.default.Messages.TWO_FA_DOWNLOAD_CODES)))},t.prototype.renderHeader=function(){return a(y.default.Header,{},void 0,a(h.default.Child,{grow:1,shrink:1},void 0,a(_.default,{tag:_.default.Tags.H4,className:N.default.header},void 0,E.default.parse(C.default.Messages.TWO_FA_SUCCESS_HEADER)),a(m.default,{size:m.default.Sizes.SMALL,className:N.default.subHeader},void 0,C.default.Messages.MFA_SMS_ENABLE_SUBHEADER)),a(h.default.Child,{grow:0},void 0,a(y.default.CloseButton,{onClick:s.default.pop})))},t.prototype.render=function(){return a(y.default,{className:N.default.modal},void 0,this.renderHeader(),a(y.default.Content,{className:N.default.modalInner},void 0,this.renderSMSSection(),a(v.default,{className:N.default.divider}),this.renderBackupCodesSection()))},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.default.reset(),s.default.push(function(t){return i.createElement(S.default,o({},t,e))})},t}(i.PureComponent);M.displayName="MFAEnableSuccess",t.default=l.default.connectStores([c.default],function(){return{currentUser:c.default.getCurrentUser(),backupCodes:f.default.getBackupCodes()}})(M),e.exports=t.default},7496:function(e,t,n){e.exports=n.p+"b73a63cb14a22dd24f0f8da07b186335.svg"},7497:function(e,t,n){e.exports=n.p+"cdea41ede63f61153e4a3c0531fa3873.svg"},7498:function(e,t,n){e.exports=n.p+"f8696a3854655998a24c219403420867.svg"},7499:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=w(n(17)),l=w(n(4)),u=n(6017),s=n(6603),d=n(6107),f=w(n(831)),c=w(n(474)),p=w(n(43)),h=w(n(312)),y=w(n(451)),m=w(n(15)),v=w(n(5979)),_=w(n(128)),E=w(n(450)),g=w(n(306)),S=w(n(836)),T=w(n(837)),I=w(n(445)),C=n(110),N=w(C),A=w(n(6003)),O=w(n(6035)),b=w(n(7500)),M=n(0),R=w(n(13)),P=w(n(5351)),L=w(n(5752));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function G(e,t){var n=e.getIconURL(t);return null!=n?o("img",{className:L.default.itemIcon,style:{width:t,height:t},src:n,alt:e.name}):o(g.default,{width:t,height:t,name:g.default.Names.ACTIVITY_FILLED,color:M.Colors.PRIMARY_DARK_300})}var x=function(e){function t(){return D(this,t),U(this,e.apply(this,arguments))}return k(t,e),t.prototype.render=function(){var e,t=this.props,n=t.application,r=t.selected,a=G(n,24);return o("div",{className:(0,i.default)(L.default.searchOption,(e={},e[L.default.selected]=r,e))},void 0,o("div",{className:L.default.searchInfo},void 0,a,o(A.default,{className:L.default.searchLabel,size:A.default.Sizes.SIZE_14},void 0,n.name)),r?o(A.default,{className:L.default.searchSelect,size:A.default.Sizes.SIZE_12},void 0,R.default.Messages.USER_SETTINGS_AF_SEARCH_CTA):null)},t}(a.PureComponent);x.displayName="SearchResult";var F=function(e){function t(){return D(this,t),U(this,e.apply(this,arguments))}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.name,r=e.buttonText,a=e.onButtonClick;return o("div",{className:L.default.itemContainer},void 0,t,o(A.default,{className:L.default.itemName,size:A.default.Sizes.SIZE_14},void 0,n),o(_.default,{className:L.default.unfollowButton,onClick:a,size:_.default.Sizes.MIN},void 0,r))},t}(a.PureComponent);F.displayName="Item";var j=o(O.default,{}),B=function(e){function t(){var n,r;D(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=U(this,e.call.apply(e,[this].concat(i))),r.handleClickPrivacy=function(){f.default.open(M.UserSettingsSections.PRIVACY_AND_SAFETY)},r.handleConsent=function(){(0,s.setConsents)([M.Consents.PERSONALIZATION],[])},r.renderResult=function(e,t){return o(x,{application:e,selected:t})},U(r,n)}return k(t,e),t.prototype.componentDidMount=function(){(0,d.fetchSettings)({includeAutosubscribedGames:!0}),(0,d.fetchUnknownUnsubscribedUsers)()},t.prototype.renderEmptyApplications=function(){return o(E.default,{className:L.default.emptyApplications,type:E.default.Types.CUSTOM},void 0,o("div",{className:L.default.emptyApplicationsImage}),o(A.default,{className:L.default.emptyApplicationsTitle,size:A.default.Sizes.SIZE_16},void 0,R.default.Messages.USER_SETTINGS_AF_APPLICATIONS_EMPTY_TITLE),o(A.default,{className:L.default.emptyApplicationsBody,size:A.default.Sizes.SIZE_14},void 0,R.default.Messages.USER_SETTINGS_AF_APPLICATIONS_EMPTY_BODY))},t.prototype.renderApplications=function(){var e=this.props.applications;if(0===e.length)return this.renderEmptyApplications();var t=[];return e.forEach(function(n,r){var i=G(n,32);t.push(o(a.Fragment,{},n.id,o(F,{icon:i,name:n.name,buttonText:R.default.Messages.USER_SETTINGS_AF_UNFOLLOW,onButtonClick:function(){return(0,u.removeGamesFromFeed)([n.id])}}),r!==e.length-1?o(S.default,{className:L.default.divider}):null))}),t},t.prototype.renderApplicationSection=function(){return o("div",{className:L.default.sectionContainer},void 0,o(N.default,{tag:C.Tags.H5,className:P.default.marginBottom8},void 0,R.default.Messages.USER_SETTINGS_AF_FOLLOWING_APPLICATIONS),o(I.default,{type:I.default.Types.DESCRIPTION,className:P.default.marginBottom20},void 0,R.default.Messages.USER_SETTINGS_AF_FOLLOWING_APPLICATIONS_DESCRIPTION),o(b.default,{renderResult:this.renderResult}),this.renderApplications())},t.prototype.renderEmptyUsers=function(){return o(E.default,{className:L.default.emptyUsers,type:E.default.Types.CUSTOM},void 0,o(A.default,{size:A.default.Sizes.SIZE_14},void 0,R.default.Messages.USER_SETTINGS_AF_HIDDEN_EMPTY))},t.prototype.renderUsers=function(){var e=this.props.unsubscribedUsers;if(0===e.length)return this.renderEmptyUsers();var t=[];return e.forEach(function(n,r){var i=o(v.default,{src:n.avatarURL});t.push(o(a.Fragment,{},n.id,o(F,{icon:i,name:n.username,buttonText:R.default.Messages.USER_SETTINGS_AF_UNBLOCK,onButtonClick:function(){return(0,u.addMembersToFeed)([n.id])}}),r!==e.length-1?o(S.default,{className:L.default.divider}):null))}),t},t.prototype.renderUserSection=function(){return o("div",{className:L.default.sectionContainer},void 0,o(N.default,{tag:C.Tags.H5,className:(0,i.default)(P.default.marginBottom8,P.default.marginTop40)},void 0,R.default.Messages.USER_SETTINGS_AF_BLOCKED_USERS),o(I.default,{type:I.default.Types.DESCRIPTION,className:P.default.marginBottom20},void 0,R.default.Messages.USER_SETTINGS_AF_BLOCKED_USERS_DESCRIPTION),this.renderUsers())},t.prototype.renderConsentCard=function(){return o(T.default,{tag:N.default.Tags.H2,title:R.default.Messages.USER_SETTINGS_ACTIVITY_FEED},void 0,o(E.default,{className:L.default.consent,type:E.default.Types.CUSTOM},void 0,o("div",{className:L.default.consentImage}),o(A.default,{className:L.default.consentTitle,size:A.default.Sizes.SIZE_16,color:A.default.Colors.NONE},void 0,R.default.Messages.ACTIVITY_FEED_CARD_GDPR_HEADER),o(A.default,{className:L.default.consentBody,size:A.default.Sizes.SIZE_14,color:A.default.Colors.NONE},void 0,R.default.Messages.ACTIVITY_FEED_CARD_GDPR_BODY.format({onClickPrivacy:this.handleClickPrivacy})),o(_.default,{className:L.default.consentButton,onClick:this.handleConsent,size:_.default.Sizes.SMALL,look:_.default.Looks.INVERTED},void 0,R.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES)))},t.prototype.render=function(){var e=this.props,t=e.hide,n=e.consented;return t?j:n?o(T.default,{tag:N.default.Tags.H2,title:R.default.Messages.USER_SETTINGS_ACTIVITY_FEED},void 0,this.renderApplicationSection(),this.renderUserSection()):this.renderConsentCard()},t}(a.PureComponent);B.displayName="UserSettingsActivityFeed",t.default=l.default.connectStores([y.default,c.default,m.default],function(){return{applications:Array.from(y.default.gameIDsToShow,function(e){return p.default.getGame(e)}).filter(function(e){return null!=e}).sort(function(e,t){return e.name.localeCompare(t.name)}),unsubscribedUsers:Array.from(y.default.unsubscribedUserIds,function(e){return m.default.getUser(e)}).filter(function(e){return null!=e}).sort(function(e,t){return e.username.localeCompare(t.username)}),hide:h.default.hidePersonalInformation,consented:c.default.hasConsented(M.Consents.PERSONALIZATION)}})(B),e.exports=t.default},7500:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=_(n(918)),u=_(n(4)),s=n(6017),d=_(n(7501)),f=_(n(7502)),c=_(n(451)),p=_(n(221)),h=_(n(6441)),y=_(n(850)),m=_(n(13)),v=_(n(5751));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r._scrollerRef=null,r.state={selectedIndex:-1},r.setScrollerRef=function(e){r._scrollerRef=e},r.onKeyDown=function(e){switch(e.keyCode){case l.default.codes.up:e.preventDefault(),r.setSelectedIndex(r.state.selectedIndex-1);break;case l.default.codes.down:e.preventDefault(),r.setSelectedIndex(r.state.selectedIndex+1);break;case l.default.codes.enter:e.preventDefault();var t=r.props.results;r.state.selectedIndex>=0&&t.length>0&&r.handleGameAdd(t[r.state.selectedIndex])}},r.setSelectedIndex=function(e){e>=0&&e<r.props.results.length&&r.setState({selectedIndex:e})},r.ensureSelectedInView=function(){null!=r._scrollerRef&&r._scrollerRef.scrollIndexIntoView(r.state.selectedIndex,!1)},r.handleGameAdd=function(e){(0,s.addGamesToFeed)([e.id]),r.handleClear()},r.handleQueryChange=function(e){d.default.setQuery(e)},r.handleClear=function(){d.default.setQuery(""),r.setState({selectedIndex:-1})},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.query,r=t.results;e.query!==n&&r.length>0?this.setSelectedIndex(0):0===r.length&&this.setSelectedIndex(-1),this.ensureSelectedInView()},t.prototype.renderResult=function(e,t){var n=this,r=this.props.renderResult;return o(p.default,{onClick:function(){return n.handleGameAdd(e)},onMouseOver:function(){return n.setSelectedIndex(t)},onFocus:function(){return n.setSelectedIndex(t)}},e.id,r(e,t===this.state.selectedIndex))},t.prototype.renderSearchResults=function(){var e,t=this,n=this.props,r=n.query,l=n.results;return o("div",{className:(0,i.default)(v.default.searchResultsContainer,(e={},e[v.default.resultsHidden]=""===r||0===l.length,e))},void 0,a.createElement(y.default,{ref:this.setScrollerRef,className:v.default.autocompleteScroller,paddingTop:4,paddingBottom:4,elementHeight:32,track:!1},l.map(function(e,n){return t.renderResult(e,n)})))},t.prototype.render=function(){var e=this.props.query;return o("div",{className:v.default.container,onKeyDown:this.onKeyDown},void 0,o(h.default,{className:v.default.search,inputClassName:v.default.searchInput,iconClassName:v.default.searchIcon,placeholder:m.default.Messages.USER_SETTINGS_AF_SEARCH_PLACEHOLDER,searchTerm:e,onChange:this.handleQueryChange,onClear:this.handleClear}),this.renderSearchResults())},t}(a.PureComponent);g.displayName="GameSearch",t.default=u.default.connectStores([f.default,c.default],function(){var e=f.default.query,t=f.default.results(),n=c.default.subscribedGameIds;return{query:e,results:""!==e?t.filter(function(e){return!n.has(e.id)}):[]}})(g),e.exports=t.default},7501:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={setQuery:function(e){a.default.dispatch({type:i.ActionTypes.GAME_AUTOCOMPLETE_QUERY,query:e})}},e.exports=t.default},7502:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(6)),a=u(n(4)),i=u(n(1)),l=(u(n(112)),u(n(43)));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s="";var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.results=function(){return(0,o.default)(l.default.games).filter(function(e){return e.name.toLowerCase().startsWith(s.toLowerCase())}).sort(function(e,t){return e.name.localeCompare(t.name)}).value()},r(t,[{key:"query",get:function(){return s}}]),t}(a.default.Store);t.default=new d(i.default,{GAME_AUTOCOMPLETE_QUERY:function(e){var t=e.query;s=t}}),e.exports=t.default},7503:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=x(n(2)),l=G(n(17)),u=G(n(4)),s=n(907),d=G(n(80)),f=x(n(919)),c=G(n(461)),p=G(n(6014)),h=G(n(131)),y=G(n(330)),m=G(n(869)),v=G(n(35)),_=G(n(963)),E=G(n(187)),g=G(n(450)),S=G(n(152)),T=G(n(6007)),I=G(n(6071)),C=G(n(5987)),N=G(n(129)),A=n(829),O=n(5989),b=G(n(319)),M=G(n(9)),R=G(n(6118)),P=G(n(447)),L=G(n(7506)),w=n(0),D=G(n(13)),U=G(n(5351)),k=G(n(5754));function G(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var F={COZY:"cozy",COMPACT:"compact"},j=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r.hardwareAccelerationEnabled=M.default.getEnableHardwareAcceleration(),r.handleThemeChange=function(e){var t=e.value;t!==r.props.theme&&c.default.updateRemoteSettings({theme:t})},r.handleMessageDisplayModeChange=function(e){var t=e.value;t!==r.props.messageDisplayCompact&&c.default.updateRemoteSettings({messageDisplayCompact:t===F.COMPACT})},r.handleTestModeChecked=function(e){e.currentTarget.checked?d.default.push(L.default):f.reset()};var o=0;return r.channel=new h.default({id:"1337"}),r.messages=[y.default.create(a({},b.default.createMessage(r.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1),{state:w.MessageStates.SENT,id:""+o++})),y.default.create(a({},b.default.createMessage(r.channel.id,r.getPreviewMessage(n.theme)),{state:w.MessageStates.SENT,id:""+o++})),y.default.create(a({},b.default.createMessage(r.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3),{state:w.MessageStates.SENT,id:""+o++})),y.default.create(a({},b.default.createMessage(r.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4),{state:w.MessageStates.SENT,id:""+o++})),y.default.create(a({},b.default.createMessage(r.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5),{state:w.MessageStates.SENT,id:""+o}))],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPreviewMessage=function(e){return e===w.ThemeTypes.DARK?D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT},t.prototype.UNSAFE_componentWillUpdate=function(e){this.props.theme!==e.theme&&(this.messages[1]=y.default.create(a({},b.default.createMessage(this.channel.id,this.getPreviewMessage(e.theme)),{state:"SENT"})))},t.prototype.renderZoomSlider=function(){return M.default.embedded?o(A.FormItem,{title:D.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL,className:U.default.marginTop20},void 0,o(I.default,{className:(0,l.default)(U.default.marginTop20,U.default.marginBottom4),defaultValue:this.props.zoom,markers:w.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender}),o(A.FormText,{type:A.FormText.Types.DESCRIPTION},void 0,D.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:p.default.modKey}))):null},t.prototype.renderFontScaleSlider=function(){return o(A.FormItem,{title:D.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL,className:U.default.marginTop40},void 0,o(S.default,{align:S.default.Align.CENTER},void 0,o(S.default.Child,{className:k.default.fontScaleSmall},void 0,"Aa"),o(S.default.Child,{},void 0,o(I.default,{className:U.default.marginTop4,defaultValue:this.props.fontScale,markers:w.Accessibility.FONT_SCALES,stickToMarkers:!0,equidistant:!0,onValueChange:this.handleFontScaleChange,onValueRender:this.handleSliderRender,onMarkerRender:this.handleRenderFontScale})),o(S.default.Child,{className:k.default.fontScaleLarge},void 0,"Aa")))},t.prototype.renderPreview=function(){var e,t=this,n=this.props.messageDisplayCompact;return o(g.default,{className:k.default.preview,outline:!0},void 0,o("div",{className:(0,l.default)(k.default.previewInner,(e={},e[k.default.previewCompact]=n,e))},void 0,this.messages.map(function(e){return o(R.default,{channel:t.channel,messages:[e],enableInteraction:!1,compact:n},e.id)})))},t.prototype.renderThemePicker=function(){return this.props.disableThemeing?null:o(A.FormItem,{title:D.default.Messages.THEME,className:U.default.marginTop40},void 0,o(T.default,{options:[{name:D.default.Messages.THEME_LIGHT,value:w.ThemeTypes.LIGHT},{name:D.default.Messages.THEME_DARK,value:w.ThemeTypes.DARK}],onChange:this.handleThemeChange,value:this.props.theme}))},t.prototype.renderDisplayMode=function(){return o(A.FormItem,{title:D.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:U.default.marginTop40},void 0,o(T.default,{options:[{name:D.default.Messages.COZY_MODE,value:F.COZY},{name:D.default.Messages.COMPACT_MODE,value:F.COMPACT}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?F.COMPACT:F.COZY}))},t.prototype.renderColorblindMode=function(){return o(A.FormItem,{title:D.default.Messages.USER_SETTINGS_APPEARANCE_COLORS,className:U.default.marginTop40},void 0,o(C.default,{onChange:s.toggleColorblindMode,value:this.props.colorblindMode,note:D.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_DESCRIPTION},void 0,D.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_TITLE))},t.prototype.renderDeveloperMode=function(){if(O.SUPPORTS_COPY)return o(C.default,{value:this.props.developerMode,onChange:this.handleDeveloperModeChecked,note:D.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:w.MarketingURLs.API_DOCS})},void 0,D.default.Messages.DEVELOPER_MODE)},t.prototype.renderHardwareAcceleration=function(){if(M.default.embedded)return o(C.default,{value:this.hardwareAccelerationEnabled,onChange:this.handleHardwareAccelerationChecked,note:D.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,D.default.Messages.HARDWARE_ACCELERATION)},t.prototype.renderDisableGamesTab=function(){var e=this.props.disableGamesTab;return o(C.default,{value:!e,note:D.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB_NOTE,onChange:this.handleDisableGamesTabChecked},void 0,D.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB)},t.prototype.renderTestMode=function(){var e=this.props,t=e.developerMode,n=e.testModeApplicationId;return t?o(C.default,{value:null!=n,note:D.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:this.handleTestModeChecked},void 0,D.default.Messages.DEVELOPER_APPLICATION_TEST_MODE):null},t.prototype.render=function(){return o(A.FormSection,{className:k.default.container,tag:A.FormTitleTags.H2,title:D.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderThemePicker(),this.renderDisplayMode(),this.renderFontScaleSlider(),this.renderZoomSlider(),this.renderColorblindMode(),o(A.FormTitle,{tag:A.FormTitleTags.H2,className:(0,l.default)(U.default.marginTop60,U.default.marginBottom20)},void 0,D.default.Messages.SETTINGS_ADVANCED),this.renderDeveloperMode(),this.renderHardwareAcceleration(),this.renderDisableGamesTab(),this.renderTestMode())},t.prototype.handleDeveloperModeChecked=function(e){c.default.updateRemoteSettings({developerMode:e.currentTarget.checked})},t.prototype.handleHardwareAccelerationChecked=function(e){var t=e.currentTarget.checked;d.default.push(function(e){return i.createElement(P.default,a({header:D.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:D.default.Messages.OKAY,cancelText:D.default.Messages.CANCEL,onConfirm:function(){return M.default.setEnableHardwareAcceleration(t)},red:!0},e),o(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,D.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))})},t.prototype.handleDisableGamesTabChecked=function(e){c.default.updateRemoteSettings({disableGamesTab:!e.currentTarget.checked})},t.prototype.handleRenderFontScale=function(e){return 82===e?e=80:92===e&&(e=90),""+e.toFixed(0)},t.prototype.handleSliderRender=function(e){return e.toFixed(0)+"%"},t.prototype.handleFontScaleChange=function(e){(0,s.fontScaleTo)(Math.round(e))},t.prototype.handleZoomChange=function(e){(0,s.zoomTo)(e)},t}(i.Component);j.displayName="UserSettingsAppearance",t.default=u.default.connectStores([m.default,v.default,E.default,_.default],function(){return{disableThemeing:_.default.inExperiment,theme:v.default.theme,messageDisplayCompact:v.default.messageDisplayCompact,developerMode:v.default.developerMode,fontScale:m.default.fontScale,zoom:m.default.zoom,colorblindMode:m.default.colorblindMode,disableGamesTab:v.default.disableGamesTab,testModeApplicationId:E.default.testModeApplicationId}})(j),e.exports=t.default},7506:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=S(n(2)),i=g(n(4)),l=g(n(1)),u=g(n(80)),s=S(n(919)),d=g(n(187)),f=g(n(128)),c=g(n(152)),p=g(n(222)),h=g(n(828)),y=g(n(445)),m=g(n(110)),v=g(n(13)),_=g(n(5351)),E=g(n(5753));function g(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=/^\d+$|^$/,C=function(e){function t(){var n,r,o,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=T(this,e.call.apply(e,[this].concat(l))),r.state={applicationId:r.props.authorizedApplicationId||"",isValid:!0},r.handleSave=(o=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.authorizeAndSetTestModeApplication(r.state.applicationId);case 2:e.sent&&r.handleClose();case 4:case"end":return e.stop()}},e,a)}),function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})}),r.handleClear=function(){s.reset(),r.setState({applicationId:""})},r.handleInputChange=function(e){s.resetError(),r.setState({applicationId:e,isValid:I.test(e)})},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){l.default.wait(function(){return s.resetError()})},t.prototype.handleClose=function(){l.default.wait(function(){return u.default.pop()})},t.prototype.render=function(){var e=this.props,t=e.authorizedApplicationId,n=e.authorizationError,r=e.authorizing,a=this.state,i=a.applicationId,l=a.isValid,u=null!=t&&t===i,s=u?this.handleClear:this.handleSave,d=null;return n?d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_AUTHORIZATION_ERROR:l||(d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID),o(p.default,{},void 0,o(p.default.Header,{},void 0,o(c.default,{align:c.default.Align.CENTER},void 0,o(m.default,{tag:m.default.Tags.H2,className:_.default.marginReset},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),o(p.default.CloseButton,{onClick:this.handleClose}))),o(p.default.Content,{className:E.default.modalContent},void 0,o(y.default,{className:_.default.marginBottom20,type:y.default.Types.DESCRIPTION},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),o("form",{onSubmit:function(e){e.preventDefault(),s()}},void 0,o(c.default,{align:c.default.Align.START},void 0,o("div",{className:E.default.inputWrapper},void 0,o(h.default,{value:i,maxLength:19,error:d,onChange:this.handleInputChange,disabled:r,placeholder:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER})),o(f.default,{submitting:r,type:"submit",disabled:!l||0===i.length,color:u?f.default.Colors.RED:f.default.Colors.GREEN},void 0,u?v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))},t}(a.PureComponent);C.displayName="TestModeModal",t.default=i.default.connectStores([d.default],function(){return{authorizedApplicationId:d.default.testModeApplicationId,authorizationError:d.default.error,authorizing:d.default.isFetchingAuthorization}})(C),e.exports=t.default},7507:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=P(n(17)),u=P(n(6)),s=P(n(4)),d=P(n(7508)),f=P(n(80)),c=P(n(7509)),p=P(n(312)),h=P(n(35)),y=n(128),m=P(y),v=n(450),_=P(v),E=n(5996),g=P(E),S=P(n(152)),T=P(n(444)),I=n(829),C=P(n(82)),N=P(n(6035)),A=P(n(460)),O=n(0),b=P(n(13)),M=P(n(5351)),R=P(n(5755));function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=s.default.connectStores([h.default],function(){return{theme:h.default.theme}})(g.default),k=function(e){function t(){var n,r;L(this,t);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return n=r=w(this,e.call.apply(e,[this].concat(s))),r.renderPermissions=function(){var e=r.props.scopes.map(function(e){var t=void 0;switch(e){case O.OAuth2Scopes.IDENTIFY:t=b.default.Messages.SCOPE_IDENTIFY;break;case O.OAuth2Scopes.EMAIL:t=b.default.Messages.SCOPE_EMAIL;break;case O.OAuth2Scopes.CONNECTIONS:t=b.default.Messages.SCOPE_CONNECTIONS;break;case O.OAuth2Scopes.GUILDS:t=b.default.Messages.SCOPE_GUILDS;break;case O.OAuth2Scopes.GUILDS_JOIN:t=b.default.Messages.SCOPE_GUILDS_JOIN;break;case O.OAuth2Scopes.GDM_JOIN:t=b.default.Messages.SCOPE_GDM_JOIN;break;case O.OAuth2Scopes.BOT:t=b.default.Messages.SCOPE_BOT;break;case O.OAuth2Scopes.RPC:t=b.default.Messages.SCOPE_RPC;break;case O.OAuth2Scopes.RPC_API:t=b.default.Messages.SCOPE_RPC_API;break;case O.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=b.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case O.OAuth2Scopes.MESSAGES_READ:t=b.default.Messages.SCOPE_MESSAGES_READ;break;case O.OAuth2Scopes.APPLICATIONS_BUILDS_UPLOAD:t=b.default.Messages.SCOPE_APPLICATIONS_BUILDS_UPLOAD;break;case O.OAuth2Scopes.APPLICATIONS_BUILDS_READ:t=b.default.Messages.SCOPE_APPLICATIONS_BUILDS_READ;break;case O.OAuth2Scopes.APPLICATIONS_STORE_UPDATE:t=b.default.Messages.SCOPE_APPLICATIONS_STORE_UPDATE;break;case O.OAuth2Scopes.APPLICATIONS_ENTITLEMENTS:t=b.default.Messages.SCOPE_APPLICATIONS_ENTITLEMENTS;break;default:t=e}return a("li",{className:(0,l.default)(R.default.permission,M.default.marginTop8)},e,a("i",{className:R.default.permissionCheckmark}),a(I.FormText,{},void 0,t))});if(e.length)return a(I.FormItem,{faded:!0,title:b.default.Messages.PERMISSIONS,className:M.default.marginTop20},void 0,a("ul",{},void 0,e))},r.renderHeader=function(){var e=r.props.application,t=C.default.getApplicationIconURL({id:e.id,icon:e.icon}),n=t?a(S.default.Child,{className:R.default.appAvatar,grow:0},void 0,a("img",{src:t,alt:""})):null;return a(S.default,{className:(0,l.default)(R.default.header,M.default.marginBottom20)},void 0,a(S.default,{className:R.default.headerInfo},void 0,n,a(S.default.Child,{},void 0,a(I.FormText,{type:I.FormTextTypes.LABEL_BOLD},void 0,a("span",{},void 0,e.name)))),a(S.default.Child,{wrap:!0,grow:0},void 0,a(m.default,{className:R.default.deleteApp,color:y.ButtonColors.RED,look:y.ButtonLooks.OUTLINED,size:y.ButtonSizes.SMALL,onClick:r.handleDeleteApp},void 0,b.default.Messages.DEAUTHORIZE)))},r.handleDeleteApp=function(){f.default.push(function(e){return i.createElement(A.default,o({title:b.default.Messages.DEAUTHORIZE_APP,body:b.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:b.default.Messages.DEAUTHORIZE,cancelText:b.default.Messages.CANCEL,onConfirm:r.props.onDelete},e))})},w(r,n)}return D(t,e),t.prototype.renderDescription=function(){var e=this.props.application;if(e.description)return a(I.FormItem,{faded:!0,title:b.default.Messages.ABOUT_THIS_APP},void 0,a(I.FormText,{},void 0,e.description))},t.prototype.render=function(){return a(_.default,{className:(0,l.default)(R.default.authedApp,M.default.marginBottom8),outline:!0},void 0,this.renderHeader(),this.renderDescription(),this.renderPermissions())},t}(i.PureComponent);k.displayName="AuthorizedApp";var G=a(N.default,{}),x=function(e){function t(n){L(this,t);var r=w(this,e.call(this,n));return u.default.bindAll(r,["handleDelete"]),r}return D(t,e),t.prototype.componentDidMount=function(){d.default.fetch()},t.prototype.handleDelete=function(e){var t=e.id;d.default.delete(t)},t.prototype.renderEmpty=function(){return a(U,{className:R.default.marginTop20},void 0,a(E.EmptyStateImage,{darkSrc:n(7510),lightSrc:n(7511),width:380,height:282}),a(E.EmptyStateText,{note:b.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,b.default.Messages.NO_AUTHORIZED_APPS))},t.prototype.renderContent=function(){var e=this,t=this.props.applications;return t?0===t.length?this.renderEmpty():t.filter(function(e){return!e.scopes.includes(O.OAuth2Scopes.RPC)}).map(function(t){return i.createElement(k,o({key:t.id,onDelete:e.handleDelete.bind(e,t)},t))}):a(T.default,{className:M.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE})},t.prototype.render=function(){return this.props.hide?G:a(I.FormSection,{tag:I.FormTitleTags.H2,title:b.default.Messages.AUTHORIZED_APPS},void 0,a(I.FormNotice,{className:M.default.marginBottom40,type:v.Types.PRIMARY,title:b.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:b.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),this.renderContent())},t}(i.PureComponent);x.displayName="UserSettingsAuthedApps",t.default=s.default.connectStores([c.default,p.default],function(){return{hide:p.default.hidePersonalInformation,applications:c.default.getApps()}})(x),e.exports=t.default},7508:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(8)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetch:function(){r.default.get(a.Endpoints.OAUTH2_TOKENS).then(function(e){return o.default.dispatch({type:a.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})},function(){return o.default.dispatch({type:a.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})})},delete:function(e){var t=this;r.default.delete(a.Endpoints.OAUTH2_TOKEN(e)).then(function(){t.fetch()})}},e.exports=t.default},7509:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=c(n(6)),a=c(n(4)),i=c(n(1)),l=c(n(446)),u=c(n(115)),s=c(n(22)),d=c(n(320)),f=c(n(228));n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=864e5,h=null;function y(){var e=Date.now()-p;(0,o.default)(s.default.getManagedChannels()).filter(function(t){return u.default.extractTimestamp(t.id)<e}).forEach(function(e){return l.default.closePrivateChannel(e.id)})}setInterval(function(){return y()},36e5);var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,d.default,f.default)},t.prototype.getApps=function(){return h},t}(a.default.Store);t.default=new m(i.default,{CONNECTION_OPEN:function(e){return r(y),!1},USER_AUTHORIZED_APPS_UPDATE:function(e){h=e.apps}}),e.exports=t.default}).call(this,n(29).setImmediate)},7510:function(e,t,n){e.exports=n.p+"b47564b3086d0d8d941aae95a4b7b78c.svg"},7511:function(e,t,n){e.exports=n.p+"68b37187aee175514a1402d4088cf90b.svg"},7512:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=b(n(2)),i=O(n(4)),l=O(n(1)),u=b(n(234)),s=n(834),d=O(n(312)),f=O(n(35)),c=O(n(15)),p=O(n(6099)),h=O(n(236)),y=O(n(466)),m=O(n(450)),v=O(n(152)),_=O(n(444)),E=O(n(110)),g=O(n(45)),S=O(n(6035)),T=O(n(6833)),I=O(n(7513)),C=n(0),N=O(n(13)),A=O(n(5758));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var M=o(S.default,{}),R=o(_.default,{}),P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.default.wait(function(){u.fetchPaymentSources(),u.fetchSubscriptions()})},t.prototype.handleRedemptionRedirect=function(){(0,s.popLayer)(),g.default.transitionTo(C.Routes.APPLICATION_LIBRARY_INVENTORY)},t.prototype.render=function(){var e=this.props,t=e.syncing,n=e.hide,r=e.paymentSources,a=e.defaultPaymentSourceId,i=e.locale,l=e.premiumSubscription,u=e.isRemovingPaymentSource,s=e.isUpdatingPaymentSource;return n?M:o("div",{className:A.default.userSettingsBilling},void 0,t&&0===r.length?o("div",{className:A.default.syncing},void 0,R):o(I.default,{paymentSources:r,defaultPaymentSourceId:a,premiumSubscriptionPaymentSourceId:null!=l&&l.status!==C.SubscriptionStatusTypes.CANCELED?l.paymentSourceId:null,locale:i,removing:u,submitting:s}),o("div",{className:A.default.paymentHistory},void 0,o(E.default,{tag:E.default.Tags.H2},void 0,o(v.default,{align:v.default.Align.CENTER},void 0,N.default.Messages.BILLING_PAYMENT_HISTORY)),o(T.default,{locale:i})),o(m.default,{className:A.default.codeRedemptionRedirect,type:m.default.Types.CUSTOM},void 0,N.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))},t}(a.PureComponent);P.displayName="UserSettingsBilling",t.default=i.default.connectStores([f.default,p.default,h.default,c.default,d.default,y.default],function(){var e=y.default.getPremiumSubscription(),t=c.default.getCurrentUser();return{locale:f.default.locale,hide:d.default.enabled,isClaimed:t.email,isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:h.default.defaultPaymentSourceId,paymentSources:h.default.paymentSources,syncing:p.default.isSyncing,isRemovingPaymentSource:p.default.isRemovingPaymentSource,isUpdatingPaymentSource:p.default.isUpdatingPaymentSource}})(P),e.exports=t.default},7513:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=C(n(2)),l=I(n(6)),u=C(n(234)),s=I(n(80)),d=I(n(6605)),f=(I(n(842)),I(n(128))),c=I(n(152)),p=n(306),h=I(p),y=I(n(129)),m=I(n(442)),v=I(n(836)),_=I(n(110)),E=I(n(7514)),g=I(n(6530)),S=I(n(13)),T=I(n(5757));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e){function t(){var n,r;A(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=O(this,e.call.apply(e,[this].concat(a))),r.handleEditClick=function(){r.props.onEditClick(r.props.paymentSource.id)},O(r,n)}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,r=e.isEditing,l=e.index,u=e.hideDivider,s=(e.onEditClick,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["paymentSource","isDefault","isEditing","index","hideDivider","onEditClick"]));return r?i.createElement(E.default,a({},s,{paymentSource:t,isDefault:n})):o("div",{className:T.default.paymentSourceItem},void 0,l>0&&!u?o(v.default,{className:T.default.sourceDivider}):null,o(c.default,{align:c.default.Align.CENTER,justify:c.default.Justify.BETWEEN,className:T.default.paymentSourceRow},void 0,i.createElement(g.default,a({},this.props,{showSubtext:!0})),r?null:o(f.default,{color:f.default.Colors.PRIMARY,onClick:this.handleEditClick,size:f.default.Sizes.SMALL},void 0,S.default.Messages.EDIT)))},t}(i.PureComponent);M.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}},M.displayName="PaymentSourceItem";var R=function(e){function t(){var n,r,o,a,i=this;A(this,t);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return n=r=O(this,e.call.apply(e,[this].concat(s))),r.state={editingPayment:null},r.handleEditClick=function(e){r.setState({editingPayment:e})},r.handleCancel=function(){r.setState({editingPayment:null})},r.handleDelete=(a=N(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.deletePaymentSource(t);case 3:r.setState({editingPayment:null}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,i,[[0,6]])})),function(e){return a.apply(this,arguments)}),r.handleSubmit=(o=N(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=9;break}return e.prev=1,e.next=4,u.updatePaymentSource(t,n);case 4:r.setState({editingPayment:null}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,i,[[1,7]])})),function(e,t){return o.apply(this,arguments)}),O(r,n)}return b(t,e),t.prototype.handleAddPaymentMethod=function(){s.default.push(function(e){return i.createElement(d.default,e)})},t.prototype.renderFooter=function(){var e=this.props.paymentSources;return o(c.default,{justify:c.default.Justify.END,className:T.default.footer},void 0,0===Object.keys(e).length?o(c.default.Child,{},void 0,o(y.default,{color:y.default.Colors.PRIMARY},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD),o("div",{className:T.default.subText},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,o(f.default,{onClick:this.handleAddPaymentMethod},void 0,S.default.Messages.BILLING_ADD_PAYMENT_METHOD))},t.prototype.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,r=t.paymentSources,a=t.locale,i=t.removing,u=t.submitting,s=t.premiumSubscriptionPaymentSourceId,d=l.default.values(r).sort(function(e,t){return e.id===n?-1:t.id===n?1:e.id>t.id?1:-1}),f=this.state.editingPayment,y=d.findIndex(function(e){return e.id===f}),E=d.map(function(t,r){return o(M,{locale:a,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isPremium:t.id===s,hideDivider:y===r-1,onSubmit:e.handleSubmit,index:r,submitting:u,removing:i,isEditing:f===t.id,onEditClick:e.handleEditClick},t.id)});return o("div",{},void 0,o(_.default,{tag:_.default.Tags.H2},void 0,o(c.default,{align:c.default.Align.CENTER},void 0,o(m.default,{position:m.default.Positions.LEFT,text:S.default.Messages.BILLING_SECURE_TOOLTIP},void 0,o(h.default,{name:p.IconNames.SECURE_LOCK,className:T.default.lockIcon})),S.default.Messages.BILLING_PAYMENT_SOURCES)),E,y!==d.length-1?o(v.default,{className:T.default.sourceDivider}):null,this.renderFooter())},t}(i.PureComponent);R.displayName="PaymentMethods",t.default=R,e.exports=t.default},7514:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(17)),u=A(n(4)),s=A(n(1)),d=n(234),f=(n(449),n(842)),c=(A(f),A(n(6099))),p=A(n(128)),h=A(n(450)),y=A(n(5999)),m=A(n(152)),v=A(n(129)),_=A(n(442)),E=n(829),g=A(n(6230)),S=A(n(6016)),T=A(n(6530)),I=n(0),C=A(n(13)),N=A(n(5756));function A(e){return e&&e.__esModule?e:{default:e}}var O="isDefault",b=a(E.FormDivider,{}),M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));R.call(r);var o=n.paymentSource,a=n.isDefault,i=o.billingAddress;return r.state={billingAddress:{name:i.name||"",line1:i.line1||"",line2:i.line2||"",country:i.country||"",state:i.state||"",city:i.city||"",postalCode:i.postalCode||""},billingAddressValid:!1,isDefault:a,dirtyFields:{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){s.default.wait(function(){(0,d.clearUpdatePaymentSourceError)(),(0,d.clearRemovePaymentSourceError)()})},t.prototype.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?a(S.default,{className:N.default.formError},void 0,n.message):null:a(S.default,{className:N.default.formError},void 0,t.message)},t.prototype.renderBillingAddressSection=function(){var e=this.state.billingAddress;return a("div",{className:N.default.addressSection},void 0,a(v.default,{color:v.default.Colors.PRIMARY,className:N.default.sectionHeader},void 0,C.default.Messages.BILLING_ADDRESS),i.createElement(g.default,o({},e,{mode:g.default.Modes.EDIT,layout:g.default.Layouts.SETTINGS,onBillingAddressChange:this.handleAddressUpdate,error:this.props.updateError})))},t.prototype.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,r=e.isPremium,o=this.state.billingAddressValid;return a(m.default,{justify:m.default.Justify.BETWEEN,className:N.default.formActions},void 0,a("div",{className:N.default.disabledTooltipWrapper},void 0,r?a(_.default,{text:C.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,a("div",{"aria-hidden":!0,className:N.default.disabledTooltipTarget})):null,a(p.default,{type:"button",disabled:r||t,submitting:n,onClick:this.handleDelete,look:p.default.Looks.OUTLINED,color:p.default.Colors.RED},void 0,C.default.Messages.PAYMENT_SOURCE_DELETE)),a(m.default,{grow:0},void 0,a(p.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:p.default.Looks.LINK,color:p.default.Colors.PRIMARY},void 0,C.default.Messages.CANCEL),a(p.default,{submitting:t,disabled:!o||n,type:"submit",color:p.default.Colors.GREEN},void 0,C.default.Messages.SAVE)))},t.prototype.render=function(){var e=this,t=this.props,n=t.paymentSource,r=t.isDefault,o=t.locale,i=t.className,u=t.isPremium,s=this.state.isDefault,d=n instanceof f.CreditCardSourceRecord;return a(h.default,{editable:!0,className:(0,l.default)(N.default.card,i)},void 0,a("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),a("div",{className:N.default.paymentSection},void 0,a(T.default,{paymentSource:n,isDefault:r,isPremium:u,locale:o}),n.invalid?a("div",{className:N.default.errorSubText},void 0,C.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,a("div",{className:N.default.subText},void 0,d?C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD:C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:I.PAYPAL_URL}))),this.renderBillingAddressSection(),a(y.default,{name:O,value:s,onChange:function(t,n){return e.handleFieldChange(n,O)},type:y.default.Types.INVERTED,className:N.default.defaultSection},void 0,a(v.default,{className:N.default.defaultCheckboxLabel,color:v.default.Colors.PRIMARY},void 0,C.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),b,this.renderActions()))},t}(i.PureComponent);M.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var R=function(){var e=this;this.handleSubmit=function(t){if(t.preventDefault(),t.stopPropagation(),0===Object.values(e.state.dirtyFields).filter(Boolean).length)e.props.onCancel();else{var n=e.state,r=n.billingAddress,o=n.isDefault;e.props.onSubmit(e.props.paymentSource.id,{billingAddress:r,isDefault:o})}},this.handleCancel=function(){e.props.onCancel()},this.handleDelete=function(){var t=e.props;(0,t.onDelete)(t.paymentSource.id)},this.handleAddressUpdate=function(t,n,r){e.setState({billingAddress:t,billingAddressValid:n,dirtyFields:o({},e.state.dirtyFields,{billingAddress:r})})},this.handleFieldChange=function(t,n){var r,a;null!=n&&e.setState(((a={})[n]=t,a.dirtyFields=o({},e.state.dirtyFields,((r={})[n]=!0,r)),a))}};M.displayName="EditPaymentSourceForm",t.default=u.default.connectStores([c.default],function(){return{updateError:c.default.editSourceError,removeError:c.default.removeSourceError}})(M),e.exports=t.default},7515:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=j(n(17)),u=j(n(308)),s=j(n(443)),d=j(n(4)),f=j(n(336)),c=j(n(80)),p=j(n(461)),h=j(n(158)),y=(j(n(971)),j(n(464))),m=j(n(6089)),v=j(n(28)),_=j(n(312)),E=j(n(35)),g=j(n(311)),S=n(128),T=j(S),I=j(n(450)),C=j(n(221)),N=n(5996),A=j(N),O=j(n(6015)),b=j(n(444)),M=j(n(5987)),R=n(829),P=j(n(9)),L=j(n(6035)),w=n(6138),D=j(w),U=j(n(460)),k=n(0),G=j(n(13)),x=j(n(5351)),F=j(n(5759));function j(e){return e&&e.__esModule?e:{default:e}}var B=d.default.connectStores([E.default],function(){return{theme:E.default.theme}})(A.default),H=(0,u.default)({displayName:"Integration",mixins:[s.default,d.default.LazyStoreListenerMixin(v.default,y.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props.integration;return{isJoining:y.default.isJoining(e.id),isMember:v.default.getGuild(e.guild.id)}},render:function(){var e=this.state,t=e.isMember,n=e.isJoining,r=this.props.integration,o=void 0;t||(o=a(T.default,{size:S.ButtonSizes.SMALL,look:S.ButtonLooks.GHOST,color:S.ButtonColors.WHITE,onClick:this.handleJoinGuild,disabled:n},void 0,a("span",{},void 0,n?G.default.Messages.JOINING_SERVER:G.default.Messages.JOIN_SERVER)));var i=void 0,l=void 0;switch(r.type){case"youtube":i=r.account.name,l="gaming.youtube.com/channel/"+r.account.id;break;case"twitch":default:i=l="twitch.tv/"+r.account.name}return a("div",{className:F.default.integration},void 0,a("div",{},void 0,a(O.default,{size:O.default.Sizes.SMALL,guild:r.guild,className:F.default.guildIcon}),a("div",{className:F.default.integrationInner},void 0,a(R.FormText,{className:F.default.integrationName},void 0,r.guild.toString()),a(g.default,{className:F.default.channelLink,href:"//"+l},void 0,i))),o)},handleJoinGuild:function(){f.default.joinServer(this.props.integration.id)}}),V=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));Y.call(r);var o=n.account,a=o.friendSync,i=o.visibility,l=o.verified,u=o.showActivity;return r.state={friendSync:a,visibility:i,verified:l,showActivity:u},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.account,n=t.friendSync,r=t.visibility,o=t.verified,a=t.showActivity;!this.state.verified&&o&&this.handleInProgressVisibilityChange(),this.setState({friendSync:n,visibility:r,verified:o,showActivity:a})},t.prototype.renderHeader=function(e){var t=this.props.account;return a("div",{className:F.default.connectionHeader},void 0,a("img",{alt:"",className:F.default.connectionIcon,src:e.icon.white}),a("div",{},void 0,a(R.FormText,{className:F.default.connectionAccountValue},void 0,t.name),a(R.FormText,{className:F.default.connectionAccountLabel,type:R.FormTextTypes.DESCRIPTION,style:{color:k.Colors.WHITE}},void 0,G.default.Messages.ACCOUNT_NAME)),a(C.default,{className:F.default.connectionDelete,onClick:this.handleDisconnect},void 0,a("span",{},void 0,G.default.Messages.SERVICE_CONNECTIONS_DISCONNECT)))},t.prototype.renderConnectionOptions=function(e){var t=this.state,n=t.visibility,r=t.friendSync,o=t.showActivity,i=this.props.account,l=void 0;k.FRIEND_SYNC_PLATFORM_TYPES.has(i.type)&&(l=a(M.default,{className:F.default.connectionOptionSwitch,theme:M.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:r,onChange:this.handleFriendSyncChange},void 0,G.default.Messages.SYNC_FRIENDS));var u=void 0;return k.ACTIVITY_PLATFORM_TYPES.has(i.type)&&(u=a(M.default,{className:F.default.connectionOptionSwitch,theme:M.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:o,onChange:this.handleShowActivityChange},void 0,G.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))),a("div",{className:F.default.connectionOptionsWrapper},void 0,a("div",{className:F.default.connectionOptions},void 0,a(M.default,{className:F.default.connectionOptionSwitch,theme:M.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:1===n,onChange:this.handleVisibilityChange},void 0,G.default.Messages.DISPLAY_ON_PROFILE),u,l))},t.prototype.renderIntegrations=function(e){var t=this.props.account,n=e.name.toUpperCase().replace(/\./g,"");return t.revoked?a(R.FormItem,{className:F.default.integrationsWrapper},void 0,a(R.FormTitle,{tag:R.FormTitleTags.H5},void 0,a("span",{style:{color:k.Colors[n+"_200"]}},void 0,G.default.Messages.SUB_ENABLED_SERVERS)),a(R.FormText,{},void 0,G.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):t.integrations.length>0?a(R.FormItem,{className:F.default.integrationsWrapper},void 0,a(R.FormTitle,{tag:R.FormTitleTags.H5},void 0,a("span",{style:{color:k.Colors[n+"_200"]}},void 0,G.default.Messages.SUB_ENABLED_SERVERS)),a("div",{},void 0,t.integrations.map(function(t){return a(H,{integration:t,color:e.color},t.id)}))):void 0},t.prototype.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return a(R.FormDivider,{className:F.default.connectedAccountSeparator})},t.prototype.render=function(){var e=this.props.account,t=h.default.get(e.type);return a("div",{className:F.default.connection,style:{borderColor:t.color,backgroundColor:t.color}},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations(t))},t}(i.PureComponent),Y=function(){var e=this;this.handleReconnect=function(){(0,w.authorize)(e.props.account.type,"User Settings")},this.handleDisconnect=function(){if(k.UNSAFE_PLATFORM_TYPES.has(e.props.account.type))e.props.onDisconnect();else{var t=h.default.get(e.props.account.type);c.default.push(function(n){return i.createElement(U.default,o({title:G.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:t.name}),body:G.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:G.default.Messages.DISCONNECT_ACCOUNT,cancelText:G.default.Messages.CANCEL,onConfirm:e.props.onDisconnect},n))})}},this.handleVisibilityChange=function(t){var n=e.props.account,r=t.currentTarget.checked?1:0;if(k.SAFE_PLATFORM_TYPES.has(n.type)&&!e.state.verified)return e._inProgressVisibility=r,void(0,w.authorize)(n.type);e.setState({visibility:r}),f.default.setVisibility(n.type,n.id,r)},this.handleInProgressVisibilityChange=function(){if(null!=e._inProgressVisibility){var t=e.props.account;f.default.setVisibility(t.type,t.id,e._inProgressVisibility),e._inProgressVisibility=null}},this.handleFriendSyncChange=function(t){var n=e.props.account,r=t.currentTarget.checked;e.setState({friendSync:r}),f.default.setFriendSync(n.type,n.id,r)},this.handleShowActivityChange=function(t){var n=e.props.account,r=t.currentTarget.checked;e.setState({showActivity:r}),f.default.setShowActivity(n.type,n.id,r)}};V.displayName="ConnectedAccount";var W=a(L.default,{}),K=(0,u.default)({displayName:"UserSettingsConnections",mixins:[s.default,d.default.LazyStoreListenerMixin(y.default,m.default,E.default,_.default)],getInitialState:function(){return o({descriptionWarning:!1},this.getStateFromStores())},getStateFromStores:function(){return{hide:_.default.hidePersonalInformation,fetching:y.default.isFetching(),accounts:y.default.getAccounts(),notDetectedPlatformTypes:m.default.getNotDetectedPlatformTypes(),detectPlatformAccounts:E.default.detectPlatformAccounts}},componentDidUpdate:function(e,t){var n=this.state.notDetectedPlatformTypes;t.notDetectedPlatformTypes!==n&&this.setState({descriptionWarning:!0})},componentDidMount:function(){f.default.fetch()},handleDisconnect:function(e){var t=e.type,n=e.id;f.default.disconnect(t,n)},handleDetectPlatformAccounts:function(e){p.default.updateRemoteSettings({detectPlatformAccounts:e.currentTarget.checked})},renderConnectCard:function(){var e,t=this.state.descriptionWarning,n=G.default.Messages.CONNECT_ACCOUNT_DESCRIPTION;return t&&(n=a("div",{className:F.default.warning},void 0,G.default.Messages.CONNECT_ACCOUNT_NONE_DETECTED)),a(I.default,{className:(0,l.default)(F.default.accountList,(e={},e[x.default.marginBottom20]=!P.default.embedded,e))},void 0,a(R.FormTitle,{faded:!0,className:x.default.marginBottom4},void 0,G.default.Messages.CONNECT_ACCOUNT_TITLE),a(R.FormText,{className:x.default.marginBottom8},void 0,n),a("div",{className:F.default.connectedAccounts},void 0,h.default.filter(function(e){return e.enabled}).map(function(e){return a(D.default,{type:e.type,location:"User Settings",className:F.default.accountBtn,innerClassName:F.default.accountBtnInner},e.type)})))},renderDetectPlatformAccounts:function(){var e=this.state.detectPlatformAccounts;if(P.default.embedded)return a(M.default,{value:e,onChange:this.handleDetectPlatformAccounts,className:(0,l.default)(x.default.marginTop20,x.default.marginBottom20)},void 0,G.default.Messages.DETECT_PLATFORM_ACCOUNTS)},renderConnectionList:function(){var e=this,t=this.state,r=t.fetching,o=t.accounts,i=void 0;return i=r?a(b.default,{className:x.default.marginTop20,type:b.default.Type.SPINNING_CIRCLE}):0===o.length?a(B,{className:x.default.marginTop40},void 0,a(N.EmptyStateImage,{darkSrc:n(7516),lightSrc:n(7517),width:230,height:220}),a(N.EmptyStateText,{note:G.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,G.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):o.map(function(t,n){return a(V,{account:t,onDisconnect:e.handleDisconnect.bind(e,t)},n)}),a(R.FormItem,{},void 0,i)},render:function(){return this.state.hide?W:a(R.FormSection,{className:F.default.connections,tag:R.FormTitleTags.H2,title:G.default.Messages.CONNECTIONS},void 0,this.renderConnectCard(),this.renderDetectPlatformAccounts(),this.renderConnectionList())}});t.default=K,e.exports=t.default},7516:function(e,t,n){e.exports=n.p+"e9aaf1824f17126a7992e5ad98752389.svg"},7517:function(e,t,n){e.exports=n.p+"fffa18d6d66a76c08c500c56afe68a62.svg"},7518:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=k(n(17)),u=k(n(941)),s=k(n(6)),d=k(n(4)),f=n(7519),c=k(n(80)),p=k(n(247)),h=k(n(35)),y=n(128),m=k(y),v=k(n(450)),_=n(5996),E=k(_),g=k(n(152)),S=k(n(222)),T=k(n(5995)),I=k(n(444)),C=k(n(5987)),N=k(n(129)),A=k(n(828)),O=n(829),b=k(n(7182)),M=k(n(6393)),R=n(0),P=k(n(5360)),L=k(n(5359)),w=k(n(5351)),D=k(n(877)),U=k(n(5760));function k(e){return e&&e.__esModule?e:{default:e}}function G(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=["discord_web","discord_marketing"],H=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function V(e){var t=this;return new Promise(function(n){c.default.push(function(r){var o=function(e){r.onClose(),n(e)};return i.createElement(S.default,r,a(S.default.Header,{},void 0,a(O.FormTitle,{tag:O.FormTitle.Tags.H4},void 0,"Choose A Project to Override")),a(S.default.Content,{},void 0,a(g.default,{},void 0,e.map(function(e){return a(g.default.Child,{grow:0},e,a(m.default,{value:e,look:m.default.Looks.GHOST,color:m.default.Colors.GREEN,onClick:o.bind(t,e)},void 0,e))}))),a(S.default.Footer,{},void 0,a(m.default,{color:m.default.Colors.PRIMARY,look:m.default.Looks.LINK,onClick:o.bind(t,null)},void 0,"Nevermind")))})})}var Y=function(e){function t(){var n,r;x(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=F(this,e.call.apply(e,[this].concat(a))),r.handleRemoveBuildOverride=function(){r.props.onBuildOverrideRemoved(r.props.project)},r.handleOverrideIdChanged=function(e){r.props.onBuildOverrideUpdated(r.props.project,{id:e})},r.handleOverrideTypeChanged=function(e){r.props.onBuildOverrideUpdated(r.props.project,{type:e.value,id:""})},F(r,n)}return j(t,e),t.prototype.render=function(){var e,t=this.props,n=t.project,r=t.overrideType,o=t.overrideId,i=t.disabled,u=t.error,s="branch"===r?"Branch Name":"Build ID";return a(g.default,{direction:g.default.Direction.VERTICAL,className:(0,l.default)(U.default.buildOverrideGroup,w.default.marginBottom20,L.default.card,U.default.row)},void 0,a("button",{className:(0,l.default)(P.default.button,U.default.removeBuildOverride,(e={},e[U.default.removeBuildOverrideDisabled]=i,e)),onClick:i?null:this.handleRemoveBuildOverride},void 0,"Remove Build Override"),a(g.default,{className:w.default.marginBottom8},void 0,a(g.default.Child,{basis:"50%"},void 0,a(O.FormItem,{title:"Override Type",className:U.default.item},void 0,a(T.default,{options:H,onChange:this.handleOverrideTypeChanged,value:r,disabled:i,clearable:!1,searchable:!1}))),a(g.default.Child,{basis:"50%"},void 0,a(O.FormItem,{title:s,className:U.default.item},void 0,a(A.default,{value:o,onChange:this.handleOverrideIdChanged,disabled:i})))),a(g.default.Child,{},void 0,u&&a(O.FormText,{className:U.default.item,style:{color:R.Colors.STATUS_RED},type:O.FormText.Types.DESCRIPTION},void 0,u),a(O.FormText,{className:U.default.item,type:O.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",a("code",{},void 0,n)," project.")))},t}(i.Component);Y.displayName="BuildOverride";var W=a(_.EmptyStateText,{},void 0,"You have no build overrides configured."),K=a(O.FormDivider,{}),z=function(e){function t(){var n,r,a=this;x(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=r=F(this,e.call.apply(e,[this].concat(u))),r.state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1},r.handleAddBuildOverride=G(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(r.getAvailableProjects());case 2:if(null!=(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:i=o({},r.state.buildOverrides,((t={})[n]={type:"branch",id:""},t)),r.setState({buildOverrides:i});case 7:case"end":return e.stop()}},e,a)})),r.handleBuildOverrideUpdated=function(e,t){var n,a=r.state.buildOverrides[e]||{},i=o({},a,t),l=o({},r.state.buildOverrides,((n={})[e]=i,n));r.setState({buildOverrides:l})},r.handleBuildOverrideRemoved=function(e){var t=o({},r.state.buildOverrides);delete t[e],r.setState({buildOverrides:t})},r.handleDiscardChanges=function(){r.setState({buildOverrides:s.default.cloneDeep(r.state.loadedBuildOverrides),errors:{},didSave:!1})},r.handleSaveChanges=G(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({saving:!0}),e.next=3,b.default.put(r.state.buildOverrides);case 3:200===(t=e.sent).status?r.setState({buildOverrides:t.body,loadedBuildOverrides:s.default.cloneDeep(t.body),errors:{},didSave:!0,saving:!1}):400===t.status?r.setState({errors:t.body,saving:!1,didSave:!1}):r.setState({saving:!1,didSave:!1});case 5:case"end":return e.stop()}},e,a)})),r.handleLinkGeneration=function(){var e=r.state.buildOverrides;c.default.push(function(t){return i.createElement($,o({},t,{buildOverrides:e}))})},F(r,n)}return j(t,e),t.prototype.refreshBuildOverrides=function(){var e=G(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,b.default.get();case 3:t=e.sent,this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:s.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!s.default.isEqual(t,n)},t.prototype.componentDidMount=function(){this.refreshBuildOverrides()},t.prototype.getAvailableProjects=function(){var e=Object.keys(this.state.buildOverrides);return s.default.without.apply(s.default,[B].concat(e))},t.prototype.renderEmpty=function(){return a(E.default,{theme:h.default.theme,className:(0,l.default)(w.default.marginTop40,w.default.marginBottom20)},void 0,a(_.EmptyStateImage,{darkSrc:n(6610),lightSrc:n(6611),width:294,height:192}),W)},t.prototype.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,r=t.saving,o=t.errors;return s.default.map(n,function(t,n){return a(Y,{project:n,overrideType:t.type,overrideId:t.id,disabled:r,error:o[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)})},t.prototype.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:a(g.default,{grow:0,direction:g.default.Direction.HORIZONTAL_REVERSE},void 0,a(g.default.Child,{grow:0},void 0,a(m.default,{onClick:function(){return location.reload()},look:m.default.Looks.GHOST,color:m.default.Colors.PRIMARY},void 0,"Reload App")))},t.prototype.renderLinkButton=function(){var e=this.state.buildOverrides;return 0===Object.keys(e).length?null:a(g.default,{grow:0,direction:g.default.Direction.HORIZONTAL_REVERSE},void 0,a(g.default.Child,{grow:0},void 0,a(m.default,{onClick:this.handleLinkGeneration,look:m.default.Looks.GHOST,color:m.default.Colors.BRAND},void 0,"Generate Public Link")))},t.prototype.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state.saving;return a(g.default,{grow:0,direction:g.default.Direction.HORIZONTAL_REVERSE},void 0,a(g.default.Child,{grow:0},void 0,a(m.default,{onClick:this.handleSaveChanges,submitting:e,look:m.default.Looks.GHOST,color:m.default.Colors.GREEN},void 0,"Save Build Overrides")),a(g.default.Child,{grow:0},void 0,a(m.default,{onClick:this.handleDiscardChanges,disabled:e,look:m.default.Looks.GHOST,color:m.default.Colors.RED},void 0,"Discard Changes")))},t.prototype.render=function(){var e=this.state,t=e.loading,n=e.saving,r=e.buildOverrides,o=void 0;o=t?a(I.default,{className:w.default.marginTop20}):0===Object.keys(r).length?this.renderEmpty():this.renderItems();var i=!n&&!t&&this.getAvailableProjects().length>0;return a(O.FormSection,{className:w.default.marginTop60},void 0,a(g.default,{className:w.default.marginBottom20},void 0,a(g.default.Child,{},void 0,a(O.FormTitle,{tag:O.FormTitleTags.H2},void 0,"Build Overrides")),a(g.default.Child,{grow:0},void 0,a(m.default,{size:y.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!i},void 0,"Add Build Override"))),K,a(g.default,{direction:g.default.Direction.VERTICAL},void 0,o,a(g.default,{grow:0,direction:g.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))},t}(i.Component);z.displayName="BuildOverrides";var $=function(e){function t(){var n,r,o=this;x(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=F(this,e.call.apply(e,[this].concat(i))),r.state={ttlSeconds:3600,userIds:[],userIdEntry:"",removeUserIdEntry:"",publicLink:" ",userIdEntryError:null,statusText:null,statusTextColor:N.default.Colors.RED},r.setUserEntryError=function(e){r.setState({userIdEntryError:e})},r.setStatusMessage=function(e,t){r.setState({statusText:e,statusTextColor:t||N.default.Colors.RED})},r.handleUserIDEntry=function(e){if(e=e.trim(),!/^\d+$/.test(e))return r.setUserEntryError("User IDs are numbers!");r.setState({userIdEntry:e})},r.handleRemoveUserIDEntry=function(e){r.setState({removeUserIdEntry:e})},r.handleUserEnter=function(e){e.charCode===R.KeyboardKeys.ENTER&&r.handleAddUser()},r.handleAddUser=function(){var e=r.state,t=e.userIds,n=e.userIdEntry;return 0===n.length?r.setUserEntryError("Enter a valid user ID!"):t.indexOf(n)>=0?r.setUserEntryError("You already added that user!"):void r.setState({userIds:[].concat(t,[n]),userIdEntry:""})},r.handleRemoveUser=function(e){var t=r.state.userIds;t=t.filter(function(t){return t!==e.value}),r.setState({userIds:t})},r.handleExpirationChange=function(e){r.setState({ttlSeconds:e.value})},r.generatePayload=function(){return{overrides:r.props.buildOverrides,meta:{release_channel:window.GLOBAL_ENV.RELEASE_CHANNEL,ttl_seconds:r.state.ttlSeconds,user_ids:r.state.userIds}}},r.handleGenerateLink=G(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setStatusMessage(null),t=r.generatePayload(),e.next=4,b.default.getPublicLink(t);case 4:!1!==(n=e.sent).error?r.setStatusMessage(n.error.toString(),N.default.Colors.RED):(r.setState({publicLink:n.url.toString()}),0===t.meta.user_ids.length&&r.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",N.default.Colors.YELLOW));case 6:case"end":return e.stop()}},e,o)})),F(r,n)}return j(t,e),t.prototype.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,r=t.userIdEntry,o=t.userIdEntryError,i=t.userIds,l=b.default.EXPIRATION_OPTIONS.find(function(e){return e.value===n}),u=i.map(function(e){return{label:e,value:e}});return a(g.default,{direction:g.default.Direction.VERTICAL},void 0,a(O.FormItem,{title:"Expire After",className:w.default.marginBottom20},void 0,a(T.default,{value:l,clearable:!1,searchable:!1,options:b.default.EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),a(O.FormItem,{title:"Add User ID (optional)",className:w.default.marginBottom20},void 0,a(g.default,{direction:g.default.Direction.HORIZONTAL},void 0,a(g.default.Child,{wrap:!0,basis:"90%"},void 0,a(A.default,{autoFocus:!0,value:r,onKeyPress:this.handleUserEnter,error:o,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),a(m.default,{className:y.ButtonLooks.GHOST,onClick:this.handleAddUser},void 0,"Add"))),a(O.FormItem,{title:"Remove User ID",className:w.default.marginBottom20},void 0,a(T.default,{options:u,onChange:this.handleRemoveUser,disabled:0===i.length})))},t.prototype.renderPayloadBlock=function(){var e=this.generatePayload(),t=u.default.highlight("json",JSON.stringify(e,null,2),!0);return a(v.default,{},void 0,a("pre",{},void 0,a("code",{className:"hljs scroller "+t.language+" "+D.default.scrollbarGhost+" "+U.default.codebox,dangerouslySetInnerHTML:{__html:t.value}})))},t.prototype.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,r=e.publicLink;return a("div",{},void 0,a(O.FormItem,{title:"Signed Link"},void 0,a(g.default,{},void 0,a(g.default.Child,{wrap:!0,basis:"75%"},void 0,a(M.default,{value:r})),a(m.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),a(N.default,{color:t,className:w.default.marginBottom8+" "+w.default.marginTop8},void 0,!1!==n?n:""))},t.prototype.render=function(){return a(S.default,{size:S.default.Sizes.LARGE},void 0,a(S.default.Header,{},void 0,a(O.FormTitle,{tag:O.FormTitle.Tags.H4},void 0,"Generate Public Build Override Link"),a(S.default.CloseButton,{onClick:this.props.onClose})),a(S.default.Content,{},void 0,a(g.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))},t}(i.Component);$.displayName="BuildOverrideLinkModal";var q=d.default.connectStores([p.default],function(){return{isTracingRequests:p.default.isTracingRequests,isForcedCanary:p.default.isForcedCanary,isLoggingGatewayEvents:p.default.isLoggingGatewayEvents,isLoggingOverlayEvents:p.default.isLoggingOverlayEvents,isValidatingAnalyticsTrack:p.default.isValidatingAnalyticsTrack}})(function(e){var t=e.isTracingRequests,n=e.isForcedCanary,r=e.isLoggingGatewayEvents,o=e.isLoggingOverlayEvents,i=e.isValidatingAnalyticsTrack;return a(O.FormSection,{title:"Developer Flags",tag:O.FormTitleTags.H2},void 0,a(C.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){var t=e.currentTarget;return(0,f.setDeveloperOptionSettings)({trace:t.checked})}},void 0,"Enable Tracing Requests"),a(C.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){var t=e.currentTarget;return(0,f.setDeveloperOptionSettings)({canary:t.checked})}},void 0,"Enable Forced Canary"),a(C.default,{value:r,note:"Logs all incoming and outgoing gateway events to the developer console",onChange:function(e){var t=e.currentTarget;return(0,f.setDeveloperOptionSettings)({logGatewayEvents:t.checked})}},void 0,"Enable Logging of Gateway Events to Console"),a(C.default,{value:o,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){var t=e.currentTarget;return(0,f.setDeveloperOptionSettings)({logOverlayEvents:t.checked})}},void 0,"Enable Logging of Overlay RPC Events & Commands"),a(C.default,{value:i,note:"Validates analytics track calls",onChange:function(e){var t=e.currentTarget;return(0,f.setDeveloperOptionSettings)({validateAnalyticsTrack:t.checked})}},void 0,"Enable Validation of Analytics.track calls"))}),X=a(i.Fragment,{},void 0,a(q,{}),a(z,{})),Q=function(e){function t(){return x(this,t),F(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){return X},t}(i.PureComponent);Q.displayName="UserSettingsModalDeveloperOptions",t.default=Q,e.exports=t.default},7519:function(e,t,n){"use strict";t.__esModule=!0,t.setDeveloperOptionSettings=function(e){a.default.dispatch({type:i.ActionTypes.DEVELOPER_OPTIONS_UPDATE_SETTINGS,settings:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},7520:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(4)),l=y(n(136)),u=y(n(58)),s=y(n(152)),d=y(n(5995)),f=n(829),c=y(n(6100)),p=y(n(5351)),h=y(n(5761));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){var n,r;m(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.state={open:r.props.open},r.handleToggleVisibility=function(){r.setState({open:!r.state.open})},v(r,n)}return _(t,e),t.prototype.render=function(){var e=this.state.open,t=this.props,n=t.title,r=t.children;return o("div",{className:h.default.group},void 0,o(f.FormSection,{},void 0,o(f.FormTitle,{tag:f.FormTitleTags.H3,className:h.default.title,onClick:this.handleToggleVisibility},void 0,n),e?r:null),o(f.FormDivider,{className:p.default.marginTop20}))},t}(a.Component);E.displayName="ExperimentGroup";var g=o(f.FormSection,{},void 0,o(f.FormText,{},void 0,"No Experiments are currently running")),S=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return _(t,e),t.prototype.renderExperimentGroup=function(e,t){var n=this.props.experiments[e];if(null==n)return null;var r=n.description;return Array.isArray(r)||(r=[r]),r=r.map(function(e,t){return o(f.FormText,{type:f.FormTextTypes.DESCRIPTION},t,e)}),o(E,{title:n.title,open:null!=this.props.overrides[e]},t,o("div",{},void 0,this.renderExperimentTypes(e,n.experiments),o("div",{className:p.default.marginTop4},void 0,r)))},t.prototype.renderExperimentTypes=function(e,t){var n=Object.keys(t),r=this.props.overrides[e];return o(s.default,{},void 0,o(s.default.Child,{},void 0,o(f.FormItem,{title:"Type Override"},void 0,o(d.default,{value:r?r.type:"",clearable:!0,searchable:!1,options:this.getExperimentTypes(n),onChange:function(t){return l.default.overrideType(e,t&&t.value)}}))),o(s.default.Child,{},void 0,o(f.FormItem,{title:"Bucket Override"},void 0,o(d.default,{value:r?r.bucket:"",disabled:!r||!r.type,clearable:!0,searchable:!1,options:this.getExperimentBuckets(t[r?r.type:""]),onChange:function(t){return l.default.overrideBucket(e,t&&t.value)}}))))},t.prototype.getExperimentTypes=function(e){return e.map(function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}})},t.prototype.getExperimentBuckets=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{label:c.default.getExperimentBucketName(e),value:e}})},t.prototype.renderEmpty=function(){return g},t.prototype.render=function(){var e=Object.keys(this.props.experiments),t=void 0;return t=e.length?e.map(this.renderExperimentGroup,this):this.renderEmpty(),o(f.FormSection,{tag:f.FormTitleTags.H2,title:"Experiments"},void 0,t)},t}(a.Component);S.displayName="UserSettingsExperiments",t.default=i.default.connectStores([u.default],function(){return{experiments:u.default.getRegisteredExperiments(),overrides:u.default.getExperimentOverrides()}})(S),e.exports=t.default},7521:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=L(n(17)),l=L(n(4)),u=L(n(182)),s=L(n(461)),d=L(n(64)),f=L(n(35)),c=n(128),p=L(c),h=L(n(221)),y=n(5996),m=L(y),v=L(n(7196)),_=L(n(306)),E=L(n(827)),g=L(n(5995)),S=L(n(5987)),T=L(n(442)),I=n(829),C=L(n(9)),N=L(n(13)),A=L(n(5360)),O=L(n(5361)),b=L(n(317)),M=L(n(5359)),R=L(n(5351)),P=L(n(5763));function L(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=l.default.connectStores([f.default],function(){return{theme:f.default.theme}})(m.default),G=C.default.isWindows(),x=function(e){function t(){var n,r;w(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=D(this,e.call.apply(e,[this].concat(a))),r.state={selectedValue:null},r.handleGameChange=function(e){r.setState({selectedValue:e})},r.handleAdd=function(){var e=r.state.selectedValue;null!=e&&(u.default.addGame(e.value),(0,r.props.onClose)())},r.handleClose=function(){(0,r.props.onClose)()},D(r,n)}return U(t,e),t.prototype.render=function(){var e=this.props.candidates,t=this.state.selectedValue,n=e.map(function(e){return{value:e.pid,label:e.name}});return o("div",{className:(0,i.default)(P.default.addGamePopout,O.default.elevationBorderHigh)},void 0,o(g.default,{clearable:!1,options:n,onChange:this.handleGameChange,value:t}),o(I.FormDivider,{className:(0,i.default)(R.default.marginTop8,R.default.marginBottom8)}),o("div",{className:(0,i.default)(P.default.actions,b.default.horizontal)},void 0,o(p.default,{className:P.default.cancelButton,look:c.ButtonLooks.LINK,color:c.ButtonColors.GREY,onClick:this.handleClose},void 0,N.default.Messages.CANCEL),o(p.default,{disabled:null==t,onClick:this.handleAdd},void 0,N.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))},t}(a.PureComponent);x.displayName="AddGamePopout";var F=l.default.connectStores([d.default],function(){return{candidates:d.default.getCandidateGames()}})(x),j=function(e){function t(){var n,r;w(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=D(this,e.call.apply(e,[this].concat(a))),r.state={editingName:null!=r.props.game&&r.props.game.name||""},r.handleRemoveClick=function(){var e=r.props.game;null!=e&&u.default.deleteEntry(e)},r.handleNameEdit=function(){var e=r.props.game,t=r.state.editingName;null!=e&&e.name!==t&&u.default.editName(e,t)},r.handleNameChange=function(e){r.setState({editingName:e.target.value})},r.handleOverlayToggle=function(){var e=r.props.game;null!=e&&u.default.toggleOverlay(e)},D(r,n)}return U(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.nowPlaying&&e.game&&e.game.name!==this.state.editingName&&this.setState({editingName:e.game.name})},t.prototype.renderName=function(){var e=this.props.game;return null==e?o("div",{className:P.default.gameName},void 0,N.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):e.verified?o("div",{className:b.default.horizontal},void 0,o("div",{className:P.default.gameName},void 0,e.name),o(T.default,{text:N.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,o("i",{className:P.default.gameVerifiedIcon}))):o("input",{className:(0,i.default)(P.default.gameName,P.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})},t.prototype.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return o("div",{className:P.default.lastPlayed},void 0,N.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var r=t.played,a=t.exePath,i=void 0;return n?i=N.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:r&&(i=N.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:r})),o("div",{className:P.default.lastPlayed},void 0,o(v.default,{hoverText:a?a.toUpperCase():""},void 0,i))},t.prototype.renderOverlayToggle=function(){var e=this.props.game;if(!G||null==e)return null;var t=e.overlay,n=e.overlayWarn,r=t?N.default.Messages.SETTINGS_GAMES_OVERLAY_ON:N.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,a=o(_.default,t?{name:_.default.Names.OVERLAY_ON,className:P.default.overlayToggleIconOn,foreground:P.default.fill}:{name:_.default.Names.OVERLAY_OFF,className:P.default.overlayToggleIconOff,foreground:P.default.fill}),l=n?o(T.default,{text:N.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,o("i",{className:P.default.overlayWarningIcon})):null;return o("div",{className:(0,i.default)(b.default.flexCenter,b.default.noWrap,b.default.justifyBetween)},void 0,l,o("div",{className:P.default.overlayStatusText},void 0,r),o(T.default,{text:N.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,o(h.default,{className:P.default.overlayToggleIcon,onClick:this.handleOverlayToggle},void 0,a)))},t.prototype.renderRemove=function(){return o(h.default,{className:(0,i.default)(A.default.button,P.default.removeGame),onClick:this.handleRemoveClick},void 0,N.default.Messages.REMOVE_KEYBIND)},t.prototype.render=function(){var e,t=this.props,n=t.nowPlaying,r=null!=t.game,a=(0,i.default)(b.default.flexCenter,((e={})[P.default.game]=!n,e[M.default.card]=!n,e[P.default.nowPlaying]=r&&n,e[P.default.notDetected]=!r&&n,e));return o("div",{className:a},void 0,o("div",{className:(0,i.default)(P.default.gameNameLastPlayed,b.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),!n&&r?this.renderRemove():null)},t.prototype.handleEnterKey=function(e){13===e.keyCode&&(e.target.blur(),e.preventDefault())},t}(a.PureComponent);j.defaultProps={nowPlaying:!1},j.displayName="Game";var B=function(e){function t(){return w(this,t),D(this,e.apply(this,arguments))}return U(t,e),t.prototype.componentDidMount=function(){d.default.watchCandidateGames(!0)},t.prototype.componentWillUnmount=function(){d.default.watchCandidateGames(!1)},t.prototype.handleToggleShowCurrentGame=function(e){s.default.updateRemoteSettings({showCurrentGame:e.currentTarget.checked})},t.prototype.renderPopout=function(e){return a.createElement(F,e)},t.prototype.renderGameList=function(){var e=this.props.gameHistory;return e.length?o(I.FormSection,{className:R.default.marginTop40},void 0,o(I.FormTitle,{className:R.default.marginBottom4},void 0,N.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),e.map(function(e){return o(j,{game:e},e.exePath)})):o(k,{className:R.default.marginTop40},void 0,o(y.EmptyStateImage,{darkSrc:n(7522),lightSrc:n(7523),width:430,height:250}),o(y.EmptyStateText,{},void 0,N.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER))},t.prototype.render=function(){var e=this.props,t=e.runningGame,n=e.showCurrentGame;return o(a.Fragment,{},void 0,o(I.FormSection,{tag:I.FormTitle.Tags.H2,title:N.default.Messages.USER_SETTINGS_GAME_ACTIVITY},void 0,o(j,{game:t,nowPlaying:!0}),o("div",{className:(0,i.default)(P.default.nowPlayingAdd,R.default.marginReset,R.default.marginTop8,R.default.marginBottom20)},void 0,o("span",{},void 0,N.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),o(E.default,{closeOnScroll:!1,render:this.renderPopout,shadow:!1,position:E.default.Positions.BOTTOM},void 0,o(p.default,{look:c.ButtonLooks.LINK,size:c.ButtonSizes.MIN,color:c.ButtonColors.LINK},void 0,N.default.Messages.SETTINGS_GAMES_ADD_GAME))),o(S.default,{value:n,onChange:this.handleToggleShowCurrentGame},void 0,N.default.Messages.SHOW_CURRENT_GAME),this.renderGameList()))},t}(a.PureComponent);B.displayName="UserSettingsGameActivity",t.default=l.default.connectStores([f.default,d.default],function(){return{showCurrentGame:f.default.showCurrentGame,gameHistory:d.default.getGamesSeen(!0),runningGame:d.default.getSettingsGame()}})(B),e.exports=t.default},7522:function(e,t,n){e.exports=n.p+"d01c53acda73318e5b39676ef8242eb7.svg"},7523:function(e,t,n){e.exports=n.p+"bb8e02d970950bdadb649d765f3b8488.svg"},7524:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=O(n(2)),l=A(n(4)),u=O(n(326)),s=O(n(857)),d=A(n(461)),f=n(130),c=A(n(35)),p=A(n(6049)),h=A(n(221)),y=A(n(152)),m=A(n(306)),v=A(n(5987)),_=n(829),E=A(n(18)),g=O(n(162)),S=A(n(9)),T=A(n(7525)),I=n(0),C=A(n(13)),N=A(n(5766));function A(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map(function(e){var t=e.libraryApplication.getDistributor();return a("div",{className:N.default.hiddenLibraryApplication},e.key,a(y.default,{direction:y.default.Direction.VERTICAL,className:N.default.hiddenLibraryApplicationContent},void 0,a("div",{className:N.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?a("div",{className:N.default.applicationSubText},void 0,I.DistributorNames[t]):null),a(h.default,{className:N.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,a(m.default,{name:m.default.Names.CLOSE,className:N.default.restoreIcon})))});return a(_.FormSection,{className:N.default.hiddenLibraryApplications},void 0,a(_.FormTitle,{className:N.default.hiddenLibraryApplicationsTitle},void 0,C.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}M.displayName="HiddenLibraryApplications";var R=a(T.default,{}),P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.handleRestoreHiddenLibraryApplication=function(e){var t=g.toggleFlag(e.getFlags(),I.LibraryApplicationFlags.HIDDEN);e instanceof f.LocalApplicationRecord?s.updateFlags(e.id,t):u.updateFlags(e.id,e.branchId,t),r.trackRestoreApplication(e,g.hasFlag(t,I.LibraryApplicationFlags.HIDDEN))},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleToggleImportGames=function(e){var t=e.currentTarget.checked;d.default.updateLocalSettings({importGamesEnabled:t}),E.default.track(I.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:t})},t.prototype.handleToggleShortcutDesktop=function(e){var t=e.currentTarget.checked;d.default.updateLocalSettings({installShortcutDesktop:t})},t.prototype.handleToggleShortcutStartMenu=function(e){var t=e.currentTarget.checked;d.default.updateLocalSettings({installShortcutStartMenu:t})},t.prototype.trackRestoreApplication=function(e,t){E.default.track(I.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,o({hidden_enabled:t},e.getAnalyticsData()))},t.prototype.render=function(){var e=this.props,t=e.importGamesEnabled,n=e.hiddenLibraryApplicationViewItems,r=e.installShortcutDesktop,o=e.installShortcutStartMenu,l=S.default.isWindows();return a(i.Fragment,{},void 0,a(_.FormSection,{tag:_.FormTitleTags.H2,title:C.default.Messages.USER_SETTINGS_GAME_LIBRARY},void 0,l?a(i.Fragment,{},void 0,a(v.default,{value:!0===t,onChange:this.handleToggleImportGames,note:C.default.Messages.SETTINGS_GAMES_IMPORT_EXPLANATION},void 0,C.default.Messages.SETTINGS_GAMES_IMPORT_LABEL),a(v.default,{value:r,onChange:this.handleToggleShortcutDesktop,note:C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),a(v.default,{value:o,onChange:this.handleToggleShortcutStartMenu,note:C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),R):null,a(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:n})))},t}(i.PureComponent);P.displayName="UserSettingsGameLibrary",t.default=l.default.connectStores([c.default,p.default],function(){return{importGamesEnabled:c.default.importGamesEnabled,hiddenLibraryApplicationViewItems:p.default.hiddenLibraryApplicationViewItems,installShortcutDesktop:c.default.installShortcutDesktop,installShortcutStartMenu:c.default.installShortcutStartMenu}})(P),e.exports=t.default},7525:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(4)),u=n(6194),s=A(n(80)),d=A(n(333)),f=A(n(128)),c=A(n(450)),p=A(n(5999)),h=A(n(7526)),y=A(n(152)),m=A(n(7196)),v=A(n(129)),_=A(n(828)),E=n(829),g=n(866),S=A(n(9)),T=A(n(447)),I=A(n(13)),C=A(n(5351)),N=A(n(5765));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){function t(){var n,r;O(this,t);for(var l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];return n=r=b(this,e.call.apply(e,[this].concat(d))),r.state={label:null,isDefault:null},r.handleStartEditing=function(){var e=r.props,t=e.path,n=e.label,o=e.isDefault;(0,e.onToggleEditing)(t),r.setState({label:n,isDefault:o})},r.handleStopEditing=function(){(0,r.props.onToggleEditing)(null),r.setState({label:null,isDefault:null})},r.handleRemoveLocation=function(){s.default.push(function(e){return i.createElement(T.default,o({},e,{header:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:I.default.Messages.CANCEL,onConfirm:function(){r.handleStopEditing(),(0,u.removeInstallLocation)(r.props.path)}}),a(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,I.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))})},r.handleSaveChanges=function(){(0,u.updateInstallLocation)(r.props.path,{label:null!=r.state.label?r.state.label:r.props.label,isDefault:null!=r.state.isDefault?r.state.isDefault:r.props.isDefault}),r.handleStopEditing()},r.handleLabelChange=function(e){r.setState({label:e})},r.handleToggleDefault=function(){r.setState({isDefault:!r.state.isDefault})},b(r,n)}return M(t,e),t.prototype.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?a(h.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null},t.prototype.renderViewing=function(){var e=this.props,t=e.path,n=e.label,r=e.editingPath,o=e.isDefault,i=e.metadata,l=void 0,u=void 0;return null!=i&&(l=null!=i.availableKB?(0,g.formatSize)(i.availableKB,{useKibibytes:!0}):null,u=null!=i.totalKB?(0,g.formatSize)(i.totalKB,{useKibibytes:!0}):null),a(y.default,{className:N.default.installationPath,align:y.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),a(y.default,{direction:y.default.Direction.VERTICAL,className:N.default.descriptionWrapper},void 0,a(y.default,{align:y.default.Align.CENTER},void 0,a(v.default,{className:N.default.rowTitle,size:v.default.Sizes.MEDIUM},void 0,null!=n?n:d.default.getLabelFromPath(t)),o?a("span",{className:N.default.defaultIndicator},void 0,I.default.Messages.DEFAULT):null),null!=i&&null!=l&&null!=u?a(m.default,{className:N.default.rowBody,hoverText:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:l,total:u})},void 0,t):a(v.default,{className:N.default.rowBody,size:v.default.Sizes.SMALL},void 0,t)),a(f.default,{size:f.default.Sizes.SMALL,disabled:null!=r,color:f.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,I.default.Messages.EDIT))},t.prototype.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,o=r.label,i=r.isDefault;return a(c.default,{editable:!0,className:N.default.installationPathEditing},void 0,a(y.default,{},void 0,this.renderDiskUsageCircle(),a(y.default.Child,{},void 0,a(E.FormItem,{title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,a(_.default,{value:o,placeholder:d.default.getLabelFromPath(t),onChange:this.handleLabelChange})),a(E.FormItem,{title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:C.default.marginTop20},void 0,a(_.default,{disabled:!0,value:t})),a(p.default,{type:p.default.Types.INVERTED,value:null!=i?i:this.props.isDefault,disabled:this.props.isDefault,className:N.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),a("hr",{className:N.default.separator}),a(y.default,{},void 0,a(f.default,{disabled:n||this.props.isDefault,size:f.default.Sizes.SMALL,color:f.default.Colors.RED,look:f.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),a(y.default,{justify:y.default.Justify.END},void 0,a(f.default,{size:f.default.Sizes.SMALL,color:f.default.Colors.PRIMARY,look:f.default.Looks.LINK,onClick:this.handleStopEditing},void 0,I.default.Messages.CANCEL),a(f.default,{disabled:t===this.props.path&&o===this.props.label&&i===this.props.isDefault,size:f.default.Sizes.SMALL,color:f.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,I.default.Messages.SAVE))))))},t.prototype.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()},t}(i.PureComponent);R.displayName="PathItem";var P=function(e){function t(){var n,r;O(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.state={editingPath:null},r.handleAddInstallationLocation=function(){S.default.showOpenDialog(["openDirectory"]).then(function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,u.addInstallLocation)(e[0])})},r.handleToggleEditing=function(e){r.setState({editingPath:e})},b(r,n)}return M(t,e),t.prototype.componentDidMount=function(){(0,u.fetchMetadata)(this.props.installationPaths.map(function(e){return e.path}))},t.prototype.render=function(){var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,o=t.defaultInstallationPath,i=this.state.editingPath;return a(E.FormSection,{className:N.default.wrapper,title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map(function(t){var n=t.path,l=t.label;return a(R,{path:n,label:l,metadata:r[n],isDefault:o===n,editingPath:i,hasGamesInstalledInPath:d.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)}),a("div",{className:N.default.buttonRowWrapper},void 0,a(f.default,{disabled:!S.default.embedded,onClick:this.handleAddInstallationLocation,size:f.default.Sizes.SMALL},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))},t}(i.PureComponent);P.displayName="GameInstallLocations",t.default=l.default.connectStores([d.default],function(){return{installationPaths:d.default.installationPaths,installationPathsMetadata:d.default.installationPathsMetadata,defaultInstallationPath:d.default.defaultInstallationPath}})(P),e.exports=t.default},7526:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(442))),i=u(n(13)),l=u(n(5764));function u(e){return e&&e.__esModule?e:{default:e}}var s=Math.ceil(2*Math.PI*20);var d=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),u=Math.floor(100*r)+"%";return o(a.default,{text:i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:u})},void 0,o("div",{className:l.default.wrapper,role:"progressbar","aria-label":i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:u})},void 0,o("svg",{viewBox:"25 25 50 50",className:l.default.svg,"aria-hidden":!0},void 0,o("circle",{className:l.default.background,cx:"50",cy:"50",r:20}),o("circle",{className:l.default.foreground,cx:"50",cy:"50",r:20,stroke:function(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}(r),strokeDasharray:function(e){return Math.floor(s*e)+", "+s}(r)})),o("aside",{className:l.default.usageInfo,"aria-hidden":!0},void 0,u)))};d.displayName="DiskSpaceCircle",t.default=d,e.exports=t.default},7527:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(4)),l=_(n(7528)),u=_(n(35)),s=_(n(15)),d=_(n(450)),f=_(n(7529)),c=_(n(7532)),p=_(n(7543)),h=_(n(7544)),y=n(0),m=_(n(13)),v=_(n(5776));function _(e){return e&&e.__esModule?e:{default:e}}var E=o(f.default,{}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderIntroHeader=function(){return null==this.props.houseMembership?m.default.Messages.HYPESQUAD_HEADING:m.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER},t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;return o(a.Fragment,{},void 0,o("div",{className:v.default.intro},void 0,o("div",{className:v.default.introHeader},void 0,this.renderIntroHeader()),o("div",{className:v.default.introBlurb},void 0,m.default.Messages.HYPESQUAD_SUBHEADING)),o(h.default,{className:v.default.verificationNotice,unclaimedNotice:m.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:m.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),o(c.default,{houseMembership:t,isClaimed:n,isVerified:r}),E,o(p.default,{isHypeSquadOnlineMember:null!=t}),o(d.default,{className:v.default.attendeeCTA},void 0,m.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:y.MarketingURLs.HYPESQUAD})))},t}(a.PureComponent);g.displayName="UserSettingsHypeSquad",t.default=i.default.connectStores([l.default,u.default,s.default],function(){var e=s.default.getCurrentUser();return{houseMembership:l.default.getHouseMembership(),isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(g),e.exports=t.default},7528:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(1)),a=l(n(15)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=null;var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getHouseMembership=function(){return u},t}(r.default.Store);t.default=new s(o.default,{CONNECTION_OPEN:function(e){var t;(t=a.default.getCurrentUser()).hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?u=i.HypeSquadHouses.HOUSE_1:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?u=i.HypeSquadHouses.HOUSE_2:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(u=i.HypeSquadHouses.HOUSE_3)},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(e){u=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){u=e.houseID}}),e.exports=t.default},7529:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(129)),l=f(n(7530)),u=f(n(7531)),s=f(n(13)),d=f(n(5769));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o("div",{className:d.default.features},void 0,o(u.default,{className:d.default.video,videoID:"SWzB1mx2o5k"}),o(i.default,{className:d.default.perksHeading,color:i.default.Colors.PRIMARY,weight:i.default.Weights.BOLD},void 0,s.default.Messages.HYPESQUAD_PERKS_HEADING),o(l.default,{features:[{icon:d.default.perkNewsletter,title:s.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:s.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:d.default.perkBadge,title:s.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:s.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:d.default.perkChallenges,title:s.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:s.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))},t}(a.Component);c.displayName="HypeSquadPerks",t.default=c,e.exports=t.default},7530:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(152)),u=d(n(5351)),s=d(n(5767));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.features,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["features"]);return t.map(function(e,t){var r;return null==e.predicate||e.predicate(n)?o(l.default,{align:l.default.Align.CENTER,className:(0,i.default)(u.default.marginTop20,s.default.feature,(r={},r[s.default.featureBorder]=0!==t,r))},t,null!=e.icon?o("div",{className:(0,i.default)(s.default.icon,e.icon)}):null,o("div",{},void 0,null!=e.title?o("div",{className:(0,i.default)(u.default.marginBottom8,s.default.title)},void 0,e.title):null,o("div",{className:s.default.description},void 0,e.description))):null})},t}(a.Component);f.displayName="FeatureList",t.default=f,e.exports=t.default},7531:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(17)),l=u(n(5768));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID;return o("div",{className:(0,i.default)(t,l.default.videoWrapper)},void 0,o("iframe",{type:"text/html",className:l.default.video,src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://discordapp.com"}))},t}(a.Component);s.displayName="PromoVideo",t.default=s,e.exports=t.default},7532:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=E(n(17)),d=E(n(80)),f=E(n(128)),c=E(n(221)),p=E(n(152)),h=E(n(129)),y=E(n(7533)),m=n(0),v=E(n(13)),_=E(n(5773));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=((o={})[m.HypeSquadHouses.HOUSE_1]=_.default.membershipDialogHouse1,o[m.HypeSquadHouses.HOUSE_2]=_.default.membershipDialogHouse2,o[m.HypeSquadHouses.HOUSE_3]=_.default.membershipDialogHouse3,o),T=((a={})[m.HypeSquadHouses.HOUSE_1]=_.default.houseLogoHouse1,a[m.HypeSquadHouses.HOUSE_2]=_.default.houseLogoHouse2,a[m.HypeSquadHouses.HOUSE_3]=_.default.houseLogoHouse3,a),I=((i={})[m.HypeSquadHouses.HOUSE_1]=n(7540),i[m.HypeSquadHouses.HOUSE_2]=n(7541),i[m.HypeSquadHouses.HOUSE_3]=n(7542),i),C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.handleJoinHypeSquadClick=function(){d.default.push(function(e){return u.createElement(y.default,e)})},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;if(!n||!r)return null;if(null!=t){var o=v.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:v.default.Messages["HYPESQUAD_"+t]});return l("div",{className:(0,s.default)(_.default.membershipDialog,S[t])},void 0,l("div",{className:_.default.membershipDialogContent},void 0,l(p.default,{},void 0,l(p.default.Child,{grow:1,shrink:1},void 0,l(h.default,{className:_.default.membershipDialogHeading,color:h.default.Colors.WHITE,size:h.default.Sizes.SMALL},void 0,v.default.Messages.HYPESQUAD_YOUR_HOUSE),l(h.default,{className:_.default.membershipDialogHouseName,color:h.default.Colors.WHITE,weight:h.default.Weights.SEMIBOLD},void 0,o),l(h.default,{className:_.default.membershipDialogHouseDescription,color:h.default.Colors.WHITE,size:h.default.Sizes.MEDIUM},void 0,v.default.Messages["HYPESQUAD_DESCRIPTION_"+t])),l(p.default.Child,{className:_.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,l("img",{className:(0,s.default)(_.default.houseLogo,T[t]),src:I[t],alt:o}))),l(h.default,{className:_.default.membershipDialogSwitchHouses,color:h.default.Colors.WHITE,size:h.default.Sizes.MEDIUM},void 0,v.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,l(c.default,{className:_.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,v.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return l("div",{className:_.default.joinCTAWrapper},void 0,l(p.default,{className:_.default.joinCTA,align:p.default.Align.CENTER,justify:p.default.Justify.CENTER,direction:p.default.Direction.HORIZONTAL},void 0,l(p.default.Child,{grow:0,shrink:0},void 0,l(h.default,{color:h.default.Colors.PRIMARY},void 0,v.default.Messages.HYPESQUAD_READY_TO_REP)),l(p.default.Child,{grow:0,shrink:0},void 0,l(f.default,{onClick:this.handleJoinHypeSquadClick},void 0,v.default.Messages.HYPESQUAD_JOIN))),l(h.default,{className:_.default.newsletterWarning,color:h.default.Colors.PRIMARY},void 0,v.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t}(u.Component);C.displayName="JoinHypeSquadCTA",t.default=C,e.exports=t.default},7533:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=I(n(17)),d=I(n(833)),f=I(n(7197)),c=I(n(128)),p=I(n(222)),h=I(n(129)),y=I(n(110)),m=n(7534),v=I(n(7535)),_=I(n(7536)),E=n(0),g=I(n(13)),S=I(n(5351)),T=I(n(5772));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){return l("div",{className:T.default.innerContentWrapper},void 0,e.children)};N.displayName="innerContentWrapper";var A=((r={})[E.HypeSquadHouses.HOUSE_1]=n(7537),r[E.HypeSquadHouses.HOUSE_2]=n(7538),r[E.HypeSquadHouses.HOUSE_3]=n(7539),r),O=((o={})[E.HypeSquadHouses.HOUSE_1]=T.default.quizResultLogoWrapperHouse1,o[E.HypeSquadHouses.HOUSE_2]=T.default.quizResultLogoWrapperHouse2,o[E.HypeSquadHouses.HOUSE_3]=T.default.quizResultLogoWrapperHouse3,o),b=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={currentStep:0,hasSubmittedHouse:!1,hasUnknownError:!1,isRequestPending:!1,questions:(0,m.getQuestions)(),responses:{},selectedHouse:null},r.handleQuestionSelect=function(e){r.setState(function(t){var n;return{responses:i({},t.responses,(n={},n[t.currentStep]=e,n))}})},r.handleSubmitButtonClick=function(){var e=r.getSelectedHouseID();r.setState({isRequestPending:!0},function(){f.default.joinHypeSquadOnline({houseID:e}).then(function(){r.setState({hasUnknownError:!1,hasSubmittedHouse:!0,isRequestPending:!1,selectedHouse:e})}).catch(function(){r.setState({hasUnknownError:!0,hasSubmittedHouse:!1,isRequestPending:!1})})})},r.handleKeyDown=function(e){e.keyCode===E.KeyboardKeys.ENTER&&r.handleSubmitButtonClick()},r.handleNextQuestionButtonClick=function(){r.setState(function(e){return{currentStep:e.currentStep+1}})},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSelectedHouseID=function(){var e=this.state.responses,t={},n=void 0,r=0;return Object.keys(e).forEach(function(o){var a=e[o];null==t[a]&&(t[a]=0),t[a]++,t[a]>r&&(n=a,r=t[a])}),null==n||n===E.RANDOM_HYPESQUAD_HOUSE?(0,m.getRandomHouse)():n},t.prototype.renderUnknownErrorMessage=function(){return l(v.default,{},"error",l(u.Fragment,{},void 0,l(h.default,{className:T.default.quizResultHeading,color:h.default.Colors.PRIMARY,size:h.default.Sizes.LARGE,weight:h.default.Weights.SEMIBOLD},void 0,g.default.Messages.HYPESQUAD_ERROR_HEADING),l(h.default,{color:h.default.Colors.PRIMARY},void 0,g.default.Messages.HYPESQUAD_ERROR_BODY.format({emailAddress:"hypesquad@discordapp.com",emailAddressLink:"mailto:hypesquad@discordapp.com"}))))},t.prototype.renderQuizResult=function(){var e=this.state.selectedHouse;if(null==e)return null;var t,n,r=g.default.Messages.HYPESQUAD_QUIZ_TITLE.format({house:g.default.Messages["HYPESQUAD_"+e]});return l(v.default,{},"submit-step",l(u.Fragment,{},void 0,l("div",{className:(0,s.default)(T.default.quizResultLogoWrapper,O[e],S.default.marginBottom20)},void 0,l("img",{alt:r,className:T.default.quizResultLogo,src:A[e]})),l(h.default,{className:T.default.quizResultHeading,color:h.default.Colors.PRIMARY,size:h.default.Sizes.LARGE,weight:h.default.Weights.SEMIBOLD},void 0,r),l(h.default,{className:T.default.quizResultBody,color:h.default.Colors.PRIMARY},void 0,(t=e,((n={})[E.HypeSquadHouses.HOUSE_1]=g.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_1,n[E.HypeSquadHouses.HOUSE_2]=g.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_2,n[E.HypeSquadHouses.HOUSE_3]=g.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_3,n)[t]))))},t.prototype.renderContent=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,r=e.hasSubmittedHouse,o=e.questions;if(n)return this.renderUnknownErrorMessage();if(r)return this.renderQuizResult();var a=o[t];return l(v.default,{},t,l(_.default,{onSelect:this.handleQuestionSelect,options:a.options,prompt:a.prompt},t))},t.prototype.renderHeaderCopy=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,r=e.hasSubmittedHouse,o=e.questions;return n?g.default.Messages.HYPESQUAD_QUIZ_ERROR_MODAL_TITLE:r?g.default.Messages.HYPESQUAD_QUIZ_COMPLETED_MODAL_TITLE:g.default.Messages.HYPESQUAD_QUIZ_ONGOING_MODAL_TITLE.format({currentQuestion:t+1,questionCount:o.length})},t.prototype.renderNewsletterWarning=function(){return l(v.default,{},void 0,l(h.default,{className:T.default.nameFormPreface,color:h.default.Colors.PRIMARY,size:h.default.Sizes.MEDIUM},void 0,g.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t.prototype.renderPrimaryAction=function(){var e=this.state,t=e.currentStep,n=e.responses,r=e.hasUnknownError,o=e.hasSubmittedHouse,a=e.isRequestPending,i=e.questions,u=null==n[t];return r?l(c.default,{type:"submit",color:c.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:a},void 0,g.default.Messages.HYPESQUAD_QUIZ_RETRY):o?l(c.default,{type:"submit",color:c.default.Colors.BRAND,onClick:this.props.onClose},void 0,g.default.Messages.HYPESQUAD_QUIZ_CLOSE):t===i.length-1?l(c.default,{disabled:u,type:"submit",color:c.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:a},void 0,g.default.Messages.HYPESQUAD_QUIZ_SHOW_MY_HOUSE):l(c.default,{disabled:u,type:"submit",color:c.default.Colors.BRAND,onClick:this.handleNextQuestionButtonClick},void 0,g.default.Messages.HYPESQUAD_QUIZ_NEXT_QUESTION)},t.prototype.renderSecondaryAction=function(){return this.state.hasSubmittedHouse?null:l(c.default,{type:"button",look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY,onClick:this.props.onClose},void 0,g.default.Messages.HYPESQUAD_QUIZ_CANCEL)},t.prototype.render=function(){var e=this.state.selectedHouse;return l(p.default,{size:null==e?p.default.Sizes.MEDIUM:p.default.Sizes.SMALL},void 0,l(p.default.Header,{separator:!1},void 0,l(y.default,{tag:y.default.Tags.H4},void 0,this.renderHeaderCopy())),l("div",{className:T.default.outerContentWrapper},void 0,l(d.default,{component:N},void 0,this.renderContent())),l(p.default.Footer,{},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))},t}(u.Component);b.displayName="HouseSelectionModal",t.default=b,e.exports=t.default},7534:function(e,t,n){"use strict";t.__esModule=!0,t.getQuestions=t.getRandomHouse=void 0;var r,o=n(0),a=n(13),i=(r=a)&&r.__esModule?r:{default:r};t.getRandomHouse=function(){var e=Object.keys(o.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]},t.getQuestions=function(){return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map(function(e){return{prompt:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_PROMPT"],options:[{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_A"],house:o.HypeSquadHouses.HOUSE_1},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_B"],house:o.HypeSquadHouses.HOUSE_2},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_C"],house:o.HypeSquadHouses.HOUSE_3},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_D"],house:o.RANDOM_HYPESQUAD_HOUSE}]}})}},7535:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(310)),l=s(n(222)),u=s(n(5770));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.state={isExiting:!1,offset:new i.default.Value(0),selectedValue:null},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillEnter=function(e){var t=this.state.offset;t.setValue(1),i.default.spring(t,{toValue:0,duration:75}).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state.offset;t.setValue(0),this.setState({isExiting:!0},function(){i.default.spring(t,{toValue:-1,duration:75}).start(e)})},t.prototype.render=function(){var e=this.state,t=e.isExiting,n=e.offset;return o(i.default.div,{className:u.default.wrapper,style:{left:0,position:t?"absolute":"relative",top:0,transform:[{translateX:n.interpolate({inputRange:[-1,1],outputRange:["-100%","100%"]})}]}},void 0,o(l.default.Content,{className:u.default.contentWrapper},void 0,this.props.children))},t}(a.Component);f.displayName="HouseSelectionContent",t.default=f,e.exports=t.default},7536:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(6007)),l=d(n(129)),u=d(n(13)),s=d(n(5771));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.state={selectedValue:null},r.handleOptionChange=function(e){var t=r.props.onSelect;r.setState({selectedValue:e.value}),t(e.value)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getQuestionOptions=function(){return this.props.options.map(function(e){return{name:e.copy,value:e.house}})},t.prototype.render=function(){var e=this.state.selectedValue;return o(a.Fragment,{},void 0,o(l.default,{className:s.default.prompt,size:l.default.Sizes.MEDIUM,weight:l.default.Weights.SEMIBOLD},void 0,this.props.prompt),o("hr",{className:s.default.separator}),o(l.default,{className:s.default.selectYourAnswer,size:l.default.Sizes.SMALL},void 0,u.default.Messages.HYPESQUAD_QUIZ_SELECT_ANSWER),o(i.default,{options:this.getQuestionOptions(),onChange:this.handleOptionChange,value:e}))},t}(a.Component);c.displayName="QuestionGroup",t.default=c,e.exports=t.default},7537:function(e,t,n){e.exports=n.p+"a359371246d6353de6bc32715e092eba.svg"},7538:function(e,t,n){e.exports=n.p+"8c59bddd746488fe8acf23d8d36c1a60.svg"},7539:function(e,t,n){e.exports=n.p+"07ed671b6c823a6cae5be39860ac8bf0.svg"},7540:function(e,t,n){e.exports=n.p+"59419b0683ef50f5e8ecd8748ecbcfeb.svg"},7541:function(e,t,n){e.exports=n.p+"0f1eadc1ec3616e0b1c9ce515ee5683a.svg"},7542:function(e,t,n){e.exports=n.p+"ac89ab7dd6f700d02b0ac958b98a3309.svg"},7543:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(7197)),l=f(n(128)),u=f(n(129)),s=f(n(13)),d=f(n(5774));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.state={isRequestPending:!1,hasError:!1},r.handleLeaveHypeSquadError=function(){r.setState({hasError:!0})},r.handleLeaveHypeSquadClick=function(){r.setState({isRequestPending:!0},function(){i.default.leaveHypeSquadOnline().then(function(){r.setState({isRequestPending:!1})}).catch(function(){r.setState({hasError:!0,isRequestPending:!1})})})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderErrorMessage=function(){return this.state.hasError?o("div",{className:d.default.error},void 0,s.default.Messages.HYPESQUAD_LEAVE_ERROR):null},t.prototype.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?o("div",{className:d.default.leaveActionWrapper},void 0,this.renderErrorMessage(),o(u.default,{className:d.default.leaveActionCopy,color:u.default.Colors.PRIMARY},void 0,s.default.Messages.HYPESQUAD_LEAVE_PROMPT,o(l.default,{className:d.default.leaveButton,color:l.default.Colors.LINK,look:l.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:l.default.Sizes.NONE,submitting:e},void 0,s.default.Messages.HYPESQUAD_LEAVE_ACTION))):null},t}(a.PureComponent);p.displayName="UserSettingsHypeSquad",t.default=p,e.exports=t.default},7544:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(17)),l=E(n(4)),u=n(883),s=E(n(831)),d=E(n(15)),f=E(n(128)),c=E(n(450)),p=E(n(152)),h=E(n(129)),y=E(n(6824)),m=n(0),v=E(n(13)),_=E(n(5775));function E(e){return e&&e.__esModule?e:{default:e}}var g=o(p.default.Child,{grow:0,shrink:0},void 0,o(y.default,{})),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?r:n},t.prototype.renderPrimaryAction=function(){return this.props.isClaimed?g:o(p.default.Child,{grow:0,shrink:0},void 0,o(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND,onClick:this.routeToEmailSettings},void 0,v.default.Messages.CLAIM_ACCOUNT))},t.prototype.renderSecondaryAction=function(){return this.props.isClaimed?o(p.default.Child,{grow:0,shrink:0},void 0,o(f.default,{color:f.default.Colors.GREY,look:f.default.Looks.LINK,onClick:this.routeToEmailSettings},void 0,v.default.Messages.CHANGE_EMAIL_SHORT)):null},t.prototype.routeToEmailSettings=function(){s.default.setSection(m.UserSettingsSections.ACCOUNT),(0,u.toggleEditingProfile)(!0)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.isClaimed,r=e.isVerified;return n&&r?null:o(c.default,{className:(0,i.default)(_.default.wrapper,t)},void 0,o(p.default,{align:p.default.Align.CENTER},void 0,o(p.default.Child,{className:_.default.image,grow:0,shrink:0}),o(p.default.Child,{},void 0,o(h.default,{color:h.default.Colors.PRIMARY},void 0,this.renderNotice()),o(p.default,{justify:p.default.Justify.CENTER,className:_.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))},t}(a.Component);S.defaultProps={unclaimedNotice:v.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,unverifiedNotice:v.default.Messages.NOTICE_UNVERIFIED_ACCOUNT},S.displayName="EmailNotice",t.default=l.default.connectStores([d.default],function(){var e=d.default.getCurrentUser();return{isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(S),e.exports=t.default},7545:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=k(n(2)),u=U(n(17)),s=U(n(6)),d=U(n(4)),f=U(n(7198)),c=U(n(6014)),p=U(n(6116)),h=U(n(473)),y=U(n(35)),m=n(128),v=U(m),_=U(n(221)),E=n(5996),g=U(E),S=U(n(152)),T=U(n(5995)),I=n(829),C=n(445),N=U(C),A=k(n(240)),O=U(n(6394)),b=n(0),M=U(n(13)),R=U(n(5360)),P=U(n(5359)),L=U(n(5351)),w=U(n(5368)),D=U(n(5777));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=d.default.connectStores([y.default],function(){return{theme:y.default.theme}})(g.default),B=((o={})[b.KeybindCustomActions.UNASSIGNED]=M.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,o[b.KeybindCustomActions.PUSH_TO_MUTE]=M.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,o[b.KeybindCustomActions.PUSH_TO_TALK]=M.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,o[b.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]=M.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,o[b.KeybindCustomActions.TOGGLE_MUTE]=M.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,o[b.KeybindCustomActions.TOGGLE_DEAFEN]=M.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,o[b.KeybindCustomActions.TOGGLE_VOICE_MODE]=M.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,o[b.KeybindCustomActions.TOGGLE_STREAMER_MODE]=M.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,o),H=[{value:b.KeybindCustomActions.UNASSIGNED,label:M.default.Messages.KEYBIND_UNASSIGNED},{value:b.KeybindCustomActions.PUSH_TO_TALK,label:M.default.Messages.KEYBIND_PUSH_TO_TALK},{value:b.KeybindCustomActions.PUSH_TO_TALK_PRIORITY,label:M.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:b.KeybindCustomActions.PUSH_TO_MUTE,label:M.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:b.KeybindCustomActions.TOGGLE_MUTE,label:M.default.Messages.KEYBIND_TOGGLE_MUTE},{value:b.KeybindCustomActions.TOGGLE_DEAFEN,label:M.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:b.KeybindCustomActions.TOGGLE_VOICE_MODE,label:M.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:b.KeybindCustomActions.TOGGLE_STREAMER_MODE,label:M.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}],V=function(e){function t(){var n,r;G(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=x(this,e.call.apply(e,[this].concat(a))),r.handleActionChanged=function(e){f.default.setKeybind(i({},r.props.keybind,{action:e.value}))},r.handleShortcutChange=function(e){f.default.setKeybind(i({},r.props.keybind,{shortcut:e}))},r.handleDeleteKeybind=function(){f.default.deleteKeybind(r.props.keybind.id)},x(r,n)}return F(t,e),t.prototype.renderMessage=function(){var e=this.props.keybind;return c.default.hasBind(A.toString(e.shortcut))?a(N.default,{className:D.default.keybindMessage,type:C.Types.DESCRIPTION,style:{color:b.Colors.STATUS_RED}},void 0,M.default.Messages.KEYBIND_CONFLICT):a(N.default,{className:D.default.keybindMessage,type:C.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])},t.prototype.render=function(){var e=this.props.keybind.managed;return a(S.default,{direction:S.default.Direction.VERTICAL,className:(0,u.default)(D.default.keybindGroup,P.default.card)},void 0,!e&&a(_.default,{className:(0,u.default)(R.default.button,D.default.removeKeybind),onClick:this.handleDeleteKeybind},void 0,M.default.Messages.REMOVE_KEYBIND),a(S.default,{className:L.default.marginBottom8},void 0,a(S.default.Child,{basis:"50%"},void 0,a(I.FormItem,{title:M.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:D.default.item},void 0,a(T.default,{options:this.props.keybindActionTypes,onChange:this.handleActionChanged,value:this.props.keybind.action,clearable:!1,searchable:!1,disabled:e}))),a(S.default.Child,{basis:"50%"},void 0,a(I.FormItem,{title:M.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:D.default.item},void 0,a(O.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),a(S.default.Child,{},void 0,this.renderMessage()))},t}(l.PureComponent);V.displayName="KeybindEntry";var Y=a(I.FormDivider,{}),W=function(e){function t(n){G(this,t);var r=x(this,e.call(this,n));r.handleAddKeybind=function(){f.default.addKeybind()};var o=i({},B),a=[].concat(H);return h.default.isSupported()&&(o[b.KeybindCustomActions.TOGGLE_OVERLAY]=M.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY,a.push({value:b.KeybindCustomActions.TOGGLE_OVERLAY,label:M.default.Messages.KEYBIND_TOGGLE_OVERLAY}),o[b.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]=M.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK,a.push({value:b.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,label:M.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK}),a.push({value:b.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:M.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})),r.state={keybindDescriptions:o,keybindActionTypes:a},r}return F(t,e),t.prototype.renderKeybinds=function(e){var t=this;return e.map(function(e){return a("div",{className:D.default.row},e.id,a(V,{keybind:e,keybindDescriptions:t.state.keybindDescriptions,keybindActionTypes:t.state.keybindActionTypes},e.id))})},t.prototype.renderEmpty=function(e){if(0===e.length)return a(j,{className:L.default.marginTop60},void 0,a(E.EmptyStateImage,{darkSrc:n(7546),lightSrc:n(7547),width:320,height:170}))},t.prototype.render=function(){var e=(0,s.default)(this.props.keybinds).reject(function(e){return e.managed&&e.action!==b.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET}).sortBy(function(e){return e.id}).sortBy(function(e){return!0===e.managed?-1:0}).value();return a(I.FormSection,{tag:I.FormTitleTags.H2,title:M.default.Messages.KEYBINDS},void 0,a(S.default,{justify:S.default.Justify.BETWEEN,className:L.default.marginBottom20},void 0,a(S.default.Child,{grow:0},void 0,a("div",{className:(0,u.default)(D.default.ghostPill,w.default.cursorDefault)},void 0,M.default.Messages.ADD_KEYBIND_WARNING)),a(S.default.Child,{wrap:!0,grow:0},void 0,a(v.default,{size:m.ButtonSizes.SMALL,onClick:this.handleAddKeybind},void 0,M.default.Messages.ADD_KEYBIND))),Y,a(I.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e)))},t}(l.PureComponent);W.displayName="UserSettingsKeybinds",t.default=d.default.connectStores([p.default],function(){return{keybinds:p.default.getState()}})(W),e.exports=t.default},7546:function(e,t,n){e.exports=n.p+"f3bb89a27e9d102f748da035cd7e5df7.svg"},7547:function(e,t,n){e.exports=n.p+"21b610d45d1f2175431413ad53258aa6.svg"},7548:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=y(n(4)),s=y(n(461)),d=y(n(35)),f=y(n(7549)),c=n(829),p=y(n(13)),h=y(n(5351));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o));return a.handleLocaleChange=function(e){var t=e.value;a.setState({currentLocale:t},function(){return r.nextTick(function(){return s.default.updateRemoteSettings({locale:t})})})},a.state={currentLocale:o.currentLocale,locales:p.default.getAvailableLocales().map(function(e){var t=void 0;try{t=n(6838)("./"+e.value+".png")}catch(e){t=n(7550)}return i({},e,{image:t})})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.currentLocale,n=e.locales;return a(c.FormSection,{tag:c.FormTitleTags.H2,title:p.default.Messages.LANGUAGE},void 0,a(c.FormSection,{},void 0,a(c.FormTitle,{className:h.default.marginReset},void 0,p.default.Messages.LANGUAGE_SELECT),a(f.default,{options:n,value:t,onChange:this.handleLocaleChange})))},t}(l.Component);m.displayName="UserSettingsLocale",t.default=u.default.connectStores([d.default],function(){return{currentLocale:d.default.locale}})(m),e.exports=t.default}).call(this,n(52))},7549:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(5999)),u=c(n(152)),s=n(829),d=n(0),f=c(n(5778));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){return r.props.onClick(r.props.option)},h(r,n)}return y(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isChecked,r=t.option;return o(u.default,{className:(0,i.default)(f.default.item,(e={},e[f.default.selected]=n,e)),justify:u.default.Justify.BETWEEN,align:u.default.Align.CENTER,onClick:this.handleClick},void 0,o(u.default,{grow:0,className:f.default.label,justify:u.default.Justify.START},void 0,o(u.default.Child,{},void 0,o(l.default,{readOnly:!0,value:n,shape:l.default.Shapes.ROUND,color:d.Colors.STATUS_GREEN,type:l.default.Types.INVERTED,className:f.default.checkbox})),o(u.default.Child,{className:f.default.marginReset},void 0,o(s.FormTitle,{className:f.default.labelText,tag:s.FormTitleTags.H3},void 0,r.name))),o(u.default,{grow:0},void 0,o(u.default.Child,{className:f.default.marginReset},void 0,o(s.FormText,{type:s.FormText.Types.DESCRIPTION},void 0,r.localizedName)),r.image?o(u.default.Child,{},void 0,o("img",{alt:"",src:r.image,className:f.default.image})):null))},t}(a.PureComponent);m.displayName="RadioItem";var v=function(e){function t(){var n,r;p(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.renderRadio=function(e,t){var n=r.props.value===e.value;return o(m,{isChecked:n,option:e,onClick:r.props.onChange},t)},h(r,n)}return y(t,e),t.prototype.render=function(){return o("div",{},void 0,this.props.options.map(this.renderRadio))},t}(a.PureComponent);v.defaultProps={options:[],onChange:d.NOOP,value:null},v.displayName="RadioList",t.default=v,e.exports=t.default},7550:function(e,t,n){e.exports=n.p+"1a7544e1a27a25e87075c01e3fa130e3.png"},7551:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=R(n(2)),i=M(n(17)),l=M(n(6)),u=n(873),s=M(n(4)),d=M(n(480)),f=M(n(461)),c=M(n(912)),p=M(n(871)),h=M(n(35)),y=M(n(938)),m=M(n(152)),v=M(n(6007)),_=M(n(5995)),E=M(n(6057)),g=M(n(5987)),S=M(n(129)),T=n(829),I=M(n(9)),C=R(n(470)),N=n(0),A=M(n(13)),O=M(n(5351)),b=M(n(5779));function M(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var P=o("i",{}),L=o(T.FormDivider,{}),w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return l.default.bindAll(r,["handlePreviewSound","handleSoundChange","handleToggleShowUnreadBadge","handleToggleShowFlash","renderSounds","renderTTS","handleAFKTimeoutChange"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePreviewSound=function(e,t){t.stopPropagation(),null!=this._currentPlayingSound&&this._currentPlayingSound.stop(),this._currentPlayingSound=C.playSound(e)},t.prototype.handleSoundChange=function(e,t){var n=this.props.disabledSounds.filter(function(t){return t!==e});t.currentTarget.checked||n.push(e),d.default.setDisabledSounds(n)},t.prototype.handleDesktopChange=function(e){var t=e.currentTarget.checked?N.DesktopNotificationTypes.ALL:N.DesktopNotificationTypes.NEVER;t!==N.DesktopNotificationTypes.NEVER?d.default.requestPermission("UserSettingsModal"):d.default.setDesktopType(t)},t.prototype.handleTTSChange=function(e){var t=e.value;d.default.setTTSType(t)},t.prototype.handleAFKTimeoutChange=function(e){var t=e.value;f.default.updateRemoteSettings({afkTimeout:t})},t.prototype.handleToggleShowUnreadBadge=function(){d.default.setDisableUnreadBadge(!this.props.disableUnreadBadge)},t.prototype.handleToggleShowFlash=function(){d.default.setTaskbarFlash(!this.props.taskbarFlash)},t.prototype.renderSounds=function(){var e=this,t=[{label:A.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:A.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:A.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:A.default.Messages.MUTE,sound:"mute"},{label:A.default.Messages.UNMUTE,sound:"unmute"},{label:A.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:A.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:A.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:A.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:A.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:A.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:A.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:A.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"}];this.props.goLiveEnabled&&(t.push({label:A.default.Messages.SOUND_STREAM_STARTED,sound:"user_join"}),t.push({label:A.default.Messages.SOUND_STREAM_STOPPED,sound:"user_leave"}));var n=t.map(function(t){var n=t.label,r=t.sound;return o(u.SmartUID,{},r,function(t){return o(m.default,{className:b.default.notificationsSound,justify:m.default.Justify.BETWEEN,align:m.default.Align.CENTER,onClick:e.handlePreviewSound.bind(e,r)},void 0,o(m.default,{className:b.default.notificationsSoundLabel,grow:0},void 0,o(m.default.Child,{className:b.default.notificationsSoundIcon},void 0,P),o(m.default.Child,{},void 0,o(S.default,{tag:"label",htmlFor:t,className:b.default.sound,size:S.default.Sizes.MEDIUM},void 0,n))),o(m.default.Child,{wrap:!0,grow:0},void 0,o(E.default,{id:t,value:-1===e.props.disabledSounds.indexOf(r),onChange:e.handleSoundChange.bind(e,r)})))})});return o(T.FormSection,{title:A.default.Messages.SOUNDS},void 0,n)},t.prototype.renderTTS=function(){if(!c.default.supported)return null;var e=[{name:A.default.Messages.TTS_ALLS,value:N.TTSNotificationTypes.ALL_CHANNELS},{name:A.default.Messages.TTS_CURRENT,value:N.TTSNotificationTypes.SELECTED_CHANNEL},{name:A.default.Messages.TTS_NEVER,value:N.TTSNotificationTypes.NEVER}];return o(T.FormItem,{title:A.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,o(T.FormText,{type:T.FormTextTypes.DESCRIPTION,className:O.default.marginBottom8},void 0,A.default.Messages.FORM_DESCRIPTION_TTS),o(v.default,{options:e,onChange:this.handleTTSChange,value:this.props.ttsType}))},t.prototype.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,r=e.disableUnreadBadge,a=e.taskbarFlash,u=I.default.embedded&&I.default.isWindows(),s=l.default.range(1,11).map(function(e){return{value:60*e,label:A.default.Messages.DURATION_MINUTES.format({minutes:e})}});return o(T.FormSection,{tag:T.FormTitleTags.H2,title:A.default.Messages.NOTIFICATIONS},void 0,o(g.default,{className:O.default.marginBottom20,value:t!==N.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:A.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,A.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),o(g.default,{className:u?O.default.marginBottom20:O.default.marginBottom40,value:!r,note:A.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge},void 0,A.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),u?o(g.default,{className:O.default.marginBottom40,value:a,note:A.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,A.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,o(T.FormItem,{title:A.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,o(_.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleAFKTimeoutChange,options:s}),o(T.FormText,{type:T.FormTextTypes.DESCRIPTION,className:O.default.marginTop8},void 0,A.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),o(T.FormDivider,{className:(0,i.default)(O.default.marginTop40,O.default.marginBottom40)})),this.renderTTS(),o(T.FormDivider,{className:(0,i.default)(O.default.marginTop40,O.default.marginBottom40)}),o(T.FormItem,{},void 0,this.renderSounds()),L)},t}(a.PureComponent);w.displayName="UserSettingsNotifications",t.default=s.default.connectStores([p.default,h.default,y.default],function(){return{disableUnreadBadge:p.default.getDisableUnreadBadge(),taskbarFlash:p.default.taskbarFlash,disabledSounds:p.default.getDisabledSounds(),desktopType:p.default.getDesktopType(),ttsType:p.default.getTTSType(),afkTimeout:h.default.afkTimeout,goLiveEnabled:y.default.inExperiment()}})(w),e.exports=t.default},7552:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(4)),u=A(n(7198)),s=A(n(327)),d=A(n(6116)),f=A(n(473)),c=A(n(185)),p=A(n(152)),h=A(n(6007)),y=A(n(5987)),m=n(829),v=A(n(448)),_=A(n(6868)),E=A(n(18)),g=(A(n(314)),n(240)),S=A(n(6394)),T=n(0),I=A(n(13)),C=A(n(5351)),N=A(n(5780));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(){var e=c.default.getNotificationPositionMode(),t=e!==T.OverlayNotificationPositions.DISABLED,n=d.default.getOverlayKeybind(),r=d.default.getOverlayChatKeybind();E.default.track(T.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:f.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:c.default.getTextChatNotificationMode(),hotkey:null!=n?(0,g.toString)(n.shortcut):null,text_activation_hotkey:null!=r?(0,g.toString)(r.shortcut):null,text_opacity_slider:c.default.getTextWidgetOpacity()})}var M=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=O(this,e.call.apply(e,[this].concat(i))),r.handleChangeEnabled=function(e){s.default.setEnabled(e.currentTarget.checked),b(),E.default.track(T.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e.currentTarget.checked,setting_type:"overlay toggled - global"})},r.handleChangeDisplayNameMode=function(e){var t=e.value;s.default.setDisplayNameMode(t)},r.handleChangeAvatarSizeMode=function(e){var t=e.value;s.default.setAvatarSizeMode(t)},r.handleChangeDisplayUserMode=function(e){var t=e.value;s.default.setDisplayUserMode(t)},r.handleChangeTextNotificationMode=function(){var e=T.OverlayNotificationTextChatTypes.ENABLED,t=T.OverlayNotificationTextChatTypes.DISABLED,n=r.props.textChatNotificationMode===e?t:e;s.default.setTextChatNotificationMode(n),b()},r.handleChangeNotificationPositionMode=function(e,t){s.default.setNotificationPositionMode(t),b()},r.handleInputLockShortcutChange=function(e){u.default.setKeybind(a({},r.props.inputLockKeybind,{shortcut:e})),b()},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderExplanation=function(){return null},t.prototype.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind;return o(p.default,{className:C.default.marginBottom20},void 0,o(p.default.Child,{basis:"50%"},void 0,o(v.default,{},void 0,o(m.FormTitle,{tag:m.FormTitleTags.H5},void 0,I.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),o(y.default,{className:C.default.marginBottom20,style:{marginTop:16},value:t,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,I.default.Messages.ENABLE_INGAME_OVERLAY))),o(p.default.Child,{basis:"50%"},void 0,o(v.default,{title:I.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,o(S.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))},t.prototype.renderAvatarSize=function(){return o(p.default,{className:C.default.marginBottom20},void 0,o(p.default.Child,{},void 0,o(v.default,{title:I.default.Messages.FORM_LABEL_AVATAR_SIZE},void 0,o(h.default,{options:[{name:I.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:T.OverlayAvatarSizes.LARGE},{name:I.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:T.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))},t.prototype.renderDisplayNames=function(){return o(p.default,{className:C.default.marginBottom20},void 0,o(p.default.Child,{},void 0,o(v.default,{title:I.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,o(h.default,{options:[{name:I.default.Messages.DISPLAY_OPTION_ALWAYS,value:T.OverlayDisplayNames.ALWAYS},{name:I.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:T.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:I.default.Messages.DISPLAY_OPTION_NEVER,value:T.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))},t.prototype.renderDisplayUsers=function(){return o(p.default,{className:C.default.marginBottom20},void 0,o(p.default.Child,{},void 0,o(v.default,{title:I.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,o(h.default,{options:[{name:I.default.Messages.DISPLAY_OPTION_ALWAYS,value:T.OverlayDisplayUsers.ALWAYS},{name:I.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:T.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))},t.prototype.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==T.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===T.OverlayNotificationTextChatTypes.ENABLED;return o(p.default,{className:C.default.marginBottom20},void 0,o(p.default.Child,{},void 0,o(v.default,{},void 0,o(y.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,I.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))},t.prototype.renderNotificationPosition=function(){return o(p.default,{className:C.default.marginBottom20},void 0,o(p.default.Child,{},void 0,o(v.default,{title:I.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,o("div",{className:N.default.notificationSettings},void 0,o(_.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))},t.prototype.render=function(){return o(i.Fragment,{},void 0,o(m.FormSection,{tag:m.FormTitleTags.H2,title:I.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),o(m.FormSection,{tag:m.FormTitleTags.H2,title:I.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:C.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))},t}(i.PureComponent);M.displayName="UserSettingsOverlay",t.default=l.default.connectStores([f.default,c.default,d.default],function(){return{enabled:f.default.enabled,avatarSizeMode:c.default.getAvatarSizeMode(),displayNameMode:c.default.getDisplayNameMode(),displayUserMode:c.default.getDisplayUserMode(),notificationPositionMode:c.default.getNotificationPositionMode(),textChatNotificationMode:c.default.getTextChatNotificationMode(),inputLockKeybind:d.default.getOverlayKeybind()}})(M),e.exports=t.default},7553:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=K(n(2)),s=W(n(17)),d=W(n(4)),f=W(n(1)),c=K(n(234)),p=W(n(80)),h=K(n(865)),y=K(n(928)),m=K(n(7554)),v=(W(n(903)),W(n(312))),_=W(n(35)),E=W(n(15)),g=W(n(6099)),S=W(n(236)),T=W(n(6604)),I=W(n(466)),C=W(n(7555)),N=W(n(846)),A=W(n(128)),O=W(n(306)),b=W(n(6018)),M=W(n(444)),R=W(n(442)),P=n(829),L=W(n(225)),w=n(844),D=W(n(6035)),U=W(n(6030)),k=W(n(7199)),G=W(n(7556)),x=W(n(7561)),F=W(n(7565)),j=W(n(7566)),B=n(0),H=W(n(13)),V=W(n(5351)),Y=W(n(5789));function W(e){return e&&e.__esModule?e:{default:e}}function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{page:B.AnalyticsPages.USER_SETTINGS,section:B.AnalyticsSections.SETTINGS_PREMIUM,object:B.AnalyticsObjects.BUTTON_CTA,objectType:e}}var q=function(e){var t=e.handlePremiumTrial,n=e.handleGift;return l("div",{className:Y.default.tier2TrialButtons},void 0,l(b.default,{color:A.default.Colors.GREEN,size:A.default.Sizes.LARGE,onClick:t,className:Y.default.trialButton,innerClassName:Y.default.trialButtonInner},void 0,l(O.default,{name:O.default.Names.NITRO_WHEEL,className:Y.default.trialButtonIcon}),H.default.Messages.PREMIUM_TRIAL_BUTTON),l(A.default,{look:A.default.Looks.LINK,color:A.default.Colors.PRIMARY,size:A.default.Sizes.MEDIUM,className:Y.default.giftButton,onClick:n},void 0,H.default.Messages.BILLING_PREMIUM_GIFT_FRIEND))};q.displayName="PremiumTier2ButtonsWithTrial";var X=function(e){var t=e.renderPlanOption;return l("div",{className:Y.default.horizontalButtons},void 0,l("div",{className:Y.default.horizontalButton},void 0,t(B.SubscriptionPlans.PREMIUM_YEAR_TIER_2,A.default.Sizes.LARGE)),l("div",{className:Y.default.horizontalButton},void 0,t(B.SubscriptionPlans.PREMIUM_MONTH_TIER_2,A.default.Sizes.LARGE)))};X.displayName="PremiumTier2ButtonsWithoutTrial";var Q=(0,U.default)((0,N.default)(B.Experiments.PREMIUM_TRIAL,"Premium Trial Experiment",["Premium subscription trial","Control: No trial","Treatment 1: With trial"]),((o={})[B.ExperimentTypes.NONE]=function(e){return u.createElement(X,e)},o[B.ExperimentTypes.USER]=((r={})[B.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return u.createElement(X,e)},r[B.ExperimentBuckets.CONTROL]=function(e){return u.createElement(X,e)},r[B.ExperimentBuckets.TREATMENT_1]=function(e){return u.createElement(q,i({},e,{withPremiumTrial:!0}))},r),o)),J=l(D.default,{}),Z=l(M.default,{}),ee=l(G.default,{}),te=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=z(this,e.call.apply(e,[this].concat(a))),r.renderPlanOption=function(e,t){var n,o=r.props,a=o.premiumSubscription,i=o.upgradeEligibilities,u=L.default.getInterval(e),d=L.default.getPrice(e),f=null!=a&&a.isPurchasedViaApple?e===a.plan:!i.has(e)||null!=a&&null!=a.trialEndsAt,c=null!=a&&!f,p=u===B.SubscriptionIntervalTypes.MONTH?r.renderMonthly(e,d,f,c,a,t):r.renderYearly(e,d,f,c,a,t);return l("div",{className:(0,s.default)(Y.default.planOption,(n={},n[Y.default.newSubscriptionButton]=!c,n[Y.default.upgradeSubscriptionButton]=c,n))},void 0,p)},z(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){c.fetchSubscriptions(),f.default.wait(function(){return c.fetchPaymentSources()}),null==this.props.isUserEligibleForPremiumTrial&&m.fetchUserTrialEligibility(B.PREMIUM_SUBSCRIPTION_TRIAL_ID)},t.prototype.handleUpgrade=function(e){var t=this,n=this.props,r=n.premiumSubscription,o=n.paymentSource,a=n.isClaimed,l=n.isVerified;a?l?null!=r&&r.isPurchasedViaApple?window.open(B.AppleBillingUrls.SUBSCRIPTION_MANAGEMENT):null!=o&&null!=r?null!=r.plan&&L.default.isGrandfathered(r.plan)?p.default.push(function(n){return u.createElement(k.default,i({},n,{onConfirm:function(){return t.showUpgradeModal(e)}}))}):this.showUpgradeModal(e):h.openModal({mode:B.PremiumPaymentSubscriptionModes.NEW,skuId:B.SubscriptionPlanInfo[e].skuId,plan:e,analyticsLocation:$(B.AnalyticsObjectTypes.BUY)}).catch(B.NOOP_NULL):p.default.push(function(e){return u.createElement(j.default,e)}):p.default.push(function(e){return u.createElement(F.default,e)})},t.prototype.handlePremiumTrial=function(){h.openModal({mode:B.PremiumPaymentSubscriptionModes.NEW,skuId:B.PremiumSubscriptionSKUs.TIER_2,trialId:B.PREMIUM_SUBSCRIPTION_TRIAL_ID,analyticsLocation:$()}).catch(B.NOOP_NULL)},t.prototype.handleGiftWithPlan=function(e){h.openModal({mode:B.PremiumPaymentSubscriptionModes.NEW,skuId:B.SubscriptionPlanInfo[e].skuId,plan:e,isGift:!0,analyticsLocation:$(B.AnalyticsObjectTypes.GIFT)}).catch(B.NOOP_NULL)},t.prototype.handleGiftWithSku=function(e){h.openModal({mode:B.PremiumPaymentSubscriptionModes.NEW,skuId:e,isGift:!0,analyticsLocation:$(B.AnalyticsObjectTypes.GIFT)}).catch(B.NOOP_NULL)},t.prototype.showUpgradeModal=function(e){var t=this.props,n=t.premiumSubscription,r=t.paymentSource;y.openModal({selectedPlan:e,paymentSource:r,currentSubscription:n})},t.prototype.renderMonthly=function(e,t,n,r,o,a){var i=this;return l(u.Fragment,{},void 0,this.renderButtonTooltip(l(A.default,{look:A.default.Looks.FILLED,color:A.default.Colors.PRIMARY,size:a,className:Y.default.subscribeButton,onClick:function(){return i.handleUpgrade(e)},disabled:n},void 0,r?H.default.Messages.BILLING_PRICE_PER_MONTH_UPGRADE.format({price:(0,w.formatPrice)(t.amount,t.currency)}):H.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,w.formatPrice)(t.amount,t.currency)})),e,o,n),l(A.default,{look:A.default.Looks.LINK,color:A.default.Colors.PRIMARY,size:a,className:Y.default.giftButton,onClick:function(){return i.handleGiftWithPlan(e)}},void 0,H.default.Messages.BILLING_PREMIUM_GIFT_MONTH))},t.prototype.renderYearly=function(e,t,n,r,o,a){var i=this;return l(u.Fragment,{},void 0,this.renderButtonTooltip(l(A.default,{look:A.default.Looks.FILLED,color:A.default.Colors.GREEN,size:a,onClick:function(){return i.handleUpgrade(e)},className:Y.default.subscribeButton,innerClassName:Y.default.yearlyButtonInner,disabled:n},void 0,r?H.default.Messages.BILLING_PRICE_PER_YEAR_UPGRADE.format({price:(0,w.formatPrice)(t.amount,t.currency)}):H.default.Messages.BILLING_PRICE_PER_YEAR.format({price:(0,w.formatPrice)(t.amount,t.currency)}),l("div",{className:Y.default.yearlyButtonDiscount},void 0,"-16%")),e,o,n),l(A.default,{look:A.default.Looks.LINK,color:A.default.Colors.PRIMARY,size:a,className:Y.default.giftButton,onClick:function(){return i.handleGiftWithPlan(e)}},void 0,H.default.Messages.BILLING_PREMIUM_GIFT_YEAR))},t.prototype.renderButtonTooltip=function(e,t,n,r){var o=void 0;return r&&(o=null!=n?n.plan===t||n.plan===B.SubscriptionPlans.PREMIUM_MONTH_LEGACY&&t===B.SubscriptionPlans.PREMIUM_MONTH_TIER_2||n.plan===B.SubscriptionPlans.PREMIUM_YEAR_LEGACY&&t===B.SubscriptionPlans.PREMIUM_YEAR_TIER_2?H.default.Messages.PREMIUM_UPGRADE_DISABLED_CURRENT_TOOLTIP:t===B.SubscriptionPlans.PREMIUM_YEAR_TIER_2&&null!=n.trialEndsAt?H.default.Messages.PREMIUM_UPGRADE_DISABLED_IN_TRIAL:H.default.Messages.PREMIUM_UPGRADE_DISABLED_LOWER_TIER_TOOLTIP:H.default.Messages.PREMIUM_UPGRADE_DISABLED_ALREADY_PREMIUM),null!=o?l("div",{className:Y.default.disabledButtonWrapper},void 0,e,l(R.default,{text:o},void 0,l("div",{className:Y.default.disabledButtonOverlay}))):e},t.prototype.renderTier2Subscription=function(){var e=this,t=this.props,n=t.premiumSubscription,r=t.isUserEligibleForPremiumTrial;return l("section",{className:Y.default.sectionTier2},void 0,l("div",{className:Y.default.title},void 0,H.default.Messages.PREMIUM_APPLICATIONS_TITLE),l("div",{className:Y.default.subtitle},void 0,H.default.Messages.PREMIUM_APPLICATIONS_SUBTITLE),null!=n||!0!==r?l(X,{renderPlanOption:this.renderPlanOption}):l(Q,{handlePremiumTrial:function(){return e.handlePremiumTrial()},handleGift:function(){return e.handleGiftWithSku(B.PremiumSubscriptionSKUs.TIER_2)},renderPlanOption:this.renderPlanOption}))},t.prototype.renderTier1Subscription=function(){return l("section",{className:Y.default.sectionTier1},void 0,l("h3",{className:Y.default.sectionHeader},void 0,H.default.Messages.PREMIUM_CHAT_PERKS_ONLY_TITLE),l("div",{className:Y.default.tier1Banner},void 0,l("div",{className:Y.default.tier1Image}),l("div",{className:Y.default.planInfo},void 0,l(O.default,{name:O.default.Names.NITRO_CLASSIC,className:Y.default.headerIcon}),l("div",{className:Y.default.planDescription},void 0,H.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION,l("div",{className:Y.default.planFeatures},void 0,l("div",{className:(0,s.default)(Y.default.planFeature,Y.default.featureNotIncluded)},void 0,l(O.default,{name:O.default.Names.CLOSE,className:(0,s.default)(Y.default.planFeatureIcon)}),H.default.Messages.PREMIUM_FEATURES_PREMIUM_APPLICATIONS),l("div",{className:(0,s.default)(Y.default.planFeature)},void 0,l(O.default,{name:O.default.Names.CHECKMARK,className:(0,s.default)(Y.default.planFeatureIcon,Y.default.iconIncluded)}),H.default.Messages.PREMIUM_FEATURES_CHAT_PERKS)))),l("div",{className:Y.default.verticalButtons},void 0,this.renderPlanOption(B.SubscriptionPlans.PREMIUM_YEAR_TIER_1,A.default.Sizes.SMALL),this.renderPlanOption(B.SubscriptionPlans.PREMIUM_MONTH_TIER_1,A.default.Sizes.SMALL))))},t.prototype.render=function(){var e=this.props,t=e.hide,n=e.syncing,r=e.premiumSubscription,o=e.busy,a=e.paymentSource;return t?J:n?l("div",{className:(0,s.default)(Y.default.container,Y.default.loading)},void 0,Z):l("div",{className:Y.default.container},void 0,l("div",{className:Y.default.background}),l("div",{className:Y.default.content},void 0,null!=r?l(u.Fragment,{},void 0,l(x.default,{subscription:r,paymentSource:a,busy:o}),l(P.FormDivider,{className:(0,s.default)(V.default.marginBottom20,V.default.marginTop20)})):null,this.renderTier2Subscription(),ee,this.renderTier1Subscription()))},t}(u.PureComponent);te.displayName="UserSettingsPremium",t.default=d.default.connectStores([I.default,g.default,T.default,S.default,E.default,v.default,_.default,C.default],function(){var e=I.default.getPremiumSubscription(),t=E.default.getCurrentUser(),n=null!=e?new Set(L.default.getUpgradeEligibilities(e.plan)):new Set(L.default.getUpgradeEligibilities(null));return{locale:_.default.locale,hide:v.default.enabled,isClaimed:null!=t.email&&""!==t.email,isVerified:t.verified,syncing:g.default.isSyncing,busy:g.default.isBusy,premiumSubscription:e,paymentSource:null!=e&&null!=e.paymentSourceId?S.default.getPaymentSource(e.paymentSourceId):null,upgradeEligibilities:n,isUserEligibleForPremiumTrial:C.default.isUserEligible(B.PREMIUM_SUBSCRIPTION_TRIAL_ID)}})(te),e.exports=t.default},7554:function(e,t,n){"use strict";t.__esModule=!0,t.fetchUserTrialEligibility=void 0;t.fetchUserTrialEligibility=(r=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.default.get(l.Endpoints.USER_TRIAL_ELIGIBILITY(t));case 3:i.default.dispatch({type:l.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),404===e.t0.status&&i.default.dispatch({type:l.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!1});case 9:case"end":return e.stop()}},e,this,[[0,6]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return o.apply(this,arguments)});var r,o,a=u(n(8)),i=u(n(1)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}},7555:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i={};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isUserEligible=function(e){return i[e]},t}(r.default.Store);t.default=new l(o.default,{BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS:function(e){var t=e.trialId,n=e.eligible;i[t]=n},LOGOUT:function(e){i={}}}),e.exports=t.default},7556:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=E(n(2)),i=_(n(4)),l=E(n(839)),u=_(n(43)),s=_(n(6235)),d=_(n(179)),f=_(n(838)),c=n(133),p=_(n(7557)),h=_(n(7558)),y=_(n(7559)),m=_(n(13)),v=_(n(5785));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=["363414030188150801","425777385103949834","425442388270645248","467979045179752448","451541581778911262","360541292578471937","363412675650125825","425470408322449418"],S=o(y.default,{}),T=o(h.default,{}),I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.applicationIds;l.fetchStoreListingsForApplications(e)},t.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,r=e.skuMap,a=e.storeListingMap;return o("section",{className:v.default.section},void 0,S,o("div",{className:v.default.subsection},void 0,o(p.default,{isFetching:t,applicationIds:n,skuMap:r,storeListingMap:a})),o("div",{className:v.default.subsection},void 0,o("h4",{className:v.default.subsectionHeader},void 0,m.default.Messages.PREMIUM_FEATURE_NEW_CHAT_PERKS_HEADER),T))},t}(a.PureComponent);I.displayName="PremiumFeatures",t.default=i.default.connectStores([s.default,u.default,d.default,f.default],function(){var e=!0,t={},n={},r=g,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i,s=(0,c.getPrimarySKUForApplication)(l,u.default,d.default);if(null==s){e=!1;break}var p=f.default.getForSKU(s.id);if(null==p){e=!1;break}t[l]=s,n[l]=p}return{skuMap:t,storeListingMap:n,applicationIds:g,isFetching:!e}})(I),e.exports=t.default},7557:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(17)),l=n(223),u=n(834),s=_(n(5980)),d=_(n(128)),f=_(n(306)),c=_(n(444)),p=_(n(874)),h=n(133),y=n(0),m=_(n(13)),v=_(n(5781));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,r=e.skuMap,s=e.storeListingMap,_=e.analyticsContext.location;return o(a.Fragment,{},void 0,o("div",{className:v.default.applications},void 0,t?o(c.default,{className:v.default.loading}):null,t?Array.from(Array(n.length)).map(function(e,t){return o("div",{className:(0,i.default)(v.default.thumbnailContainer,v.default.loadingThumbnail)},t)}):n.map(function(e){var t=s[e],n=r[e];return null==t.thumbnail?null:o(l.Link,{to:{pathname:y.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:_}},onClick:u.popLayer,className:v.default.thumbnailContainer},e,o("img",{src:(0,h.getAssetURL)(e,t.thumbnail,200),alt:n.name,className:v.default.thumbnail}))})),o("div",{className:v.default.viewAllButton},void 0,o(d.default.Link,{look:d.default.Looks.OUTLINED,color:d.default.Colors.TRANSPARENT,innerClassName:v.default.viewAllButtonInner,to:{pathname:y.Routes.APPLICATION_STORE_BROWSE,state:{analyticsSource:_}},onClick:u.popLayer},void 0,o("div",{},void 0,m.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS),o(f.default,{name:f.default.Names.CARET,className:v.default.viewAllIcon,direction:p.default.Directions.RIGHT}))))},t}(a.PureComponent);E.displayName="PremiumApplicationsPerk",t.default=(0,s.default)(E),e.exports=t.default},7558:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=c;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=d(n(17)),i=d(n(152)),l=n(829),u=d(n(13)),s=d(n(5782));function d(e){return e&&e.__esModule?e:{default:e}}var f=[{icon:s.default.discriminatorIcon,title:u.default.Messages.PREMIUM_CHAT_PERKS_TITLE_DISCRIMINATOR,description:u.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_DISCRIMINATOR},{icon:s.default.animatedIcon,title:u.default.Messages.PREMIUM_CHAT_PERKS_TITLE_ANIMATED_AVATAR_AND_EMOJI,description:u.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_ANIMATED_AVATAR_AND_EMOJI},{icon:s.default.screenshareIcon,title:u.default.Messages.PREMIUM_CHAT_PERKS_TITLE_SCREENSHARE,description:u.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_SCREENSHARE},{icon:s.default.emojiIcon,title:u.default.Messages.PREMIUM_CHAT_PERKS_TITLE_CUSTOM_EMOJI,description:u.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_CUSTOM_EMOJI},{icon:s.default.uploadIcon,title:u.default.Messages.PREMIUM_CHAT_PERKS_TITLE_UPLOAD_LIMIT,description:u.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_UPLOAD_LIMIT.format({maxUploadStandard:u.default.Messages.FILE_UPLOAD_LIMIT_STANDARD,maxUploadPremium:u.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM})},{icon:s.default.badgeIcon,title:u.default.Messages.PREMIUM_CHAT_PERKS_TITLE_BADGE,description:u.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_BADGE}];function c(){return o("div",{className:s.default.container},void 0,f.map(function(e,t){return o(i.default,{align:i.default.Align.CENTER,className:s.default.feature},t,o("div",{className:(0,a.default)(e.icon)}),o("div",{},void 0,o(l.FormTitle,{className:s.default.title},void 0,e.title),o("div",{className:s.default.description},void 0,e.description)))}))}c.displayName="PremiumFeatureList",e.exports=t.default},7559:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(17))),i=c(n(306)),l=c(n(7560)),u=n(844),s=n(0),d=c(n(13)),f=c(n(5784));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.className;return o("div",{className:(0,a.default)(f.default.premiumFeaturesHeader,t)},void 0,o("h4",{className:f.default.sectionHeader},void 0,o(i.default,{name:i.default.Names.DISCORD_NITRO,className:f.default.premiumPlanName})),o("h4",{className:f.default.subsectionHeader},void 0,d.default.Messages.PREMIUM_FEATURE_NEW_PREMIUM_APPLICATIONS_HEADER.format({gamesPrice:(0,u.formatPrice)(1e5,s.CurrencyCodes.USD,{minimumFractionDigits:0,maximumFractionDigits:0})})),o(l.default,{className:f.default.mechaWumpus}))};p.displayName="PremiumFeaturesHeader",t.default=p,e.exports=t.default},7560:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5783));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.className;return o("div",{className:(0,a.default)(i.default.mechaWumpus,t)})};u.displayName="MechaWumpus",t.default=u,e.exports=t.default},7561:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(903),l=v(n(306)),u=v(n(129)),s=n(829),d=v(n(225)),f=n(844),c=v(n(7562)),p=v(n(7564)),h=n(0),y=v(n(13)),m=v(n(5788));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderGrandfathered=function(){var e=this.props.subscription.plan;if(null==e)return null;var t=d.default.getGrandfatheredEndDate(e),n=y.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_YEARLY.format({date:t}),r=y.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_MONTHLY.format({date:t});return o("div",{className:m.default.grandfatheredMessage},void 0,o(l.default,{name:l.default.Names.NITRO_WHEEL,className:m.default.grandfatheredIcon}),o("span",{},void 0,d.default.getInterval(e)===h.SubscriptionIntervalTypes.YEAR?n:r))},t.prototype.renderPremiumCodeSub=function(){var e=this.props.subscription;return o("div",{className:m.default.headerOnlySection},void 0,o("div",{className:m.default.details},void 0,o(c.default,{subscription:e,paymentSource:null,busy:!1})))},t.prototype.renderFinePrint=function(){var e=this.props.subscription,t=e.plan;if(null==t||e.status===h.SubscriptionStatusTypes.CANCELED||e.isPurchasedViaApple)return null;var n=d.default.getInterval(t)===h.SubscriptionIntervalTypes.YEAR,r=d.default.getPrice(t),a=(0,f.formatPrice)(r.amount,r.currency),i=d.default.getDisplayPremiumType(t);return o(u.default,{className:m.default.finePrint,size:u.default.Sizes.SMALL},void 0,n?y.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_YEARLY.format({price:a,url:h.MarketingURLs.TERMS,planPremiumType:i}):y.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_MONTHLY.format({price:a,url:h.MarketingURLs.TERMS,planPremiumType:i}))},t.prototype.render=function(){var e=this.props,t=e.subscription,n=e.paymentSource,r=e.busy,a=t.plan;if(t.id===i.PREMIUM_CODE_SUBSCRIPTION_ID)return this.renderPremiumCodeSub();if(null==a)return null;var l=d.default.isGrandfathered(a);return o("div",{className:m.default.section},void 0,o(s.FormTitle,{tag:s.FormTitle.Tags.H2},void 0,y.default.Messages.BILLING_PAYMENT_PREMIUM),l?this.renderGrandfathered():null,o("div",{className:m.default.details},void 0,o(c.default,{subscription:t,paymentSource:n,busy:r}),o(p.default,{subscription:t})),this.renderFinePrint())},t}(a.Component);_.displayName="SubscriptionDetails",t.default=_,e.exports=t.default},7562:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=N(n(2)),l=C(n(17)),u=C(n(5)),s=C(n(80)),d=N(n(865)),f=n(903),c=C(n(311)),p=n(128),h=C(p),y=C(n(306)),m=n(5992),v=C(n(225)),_=n(844),E=C(n(7563)),g=C(n(7199)),S=n(0),T=C(n(13)),I=C(n(5786));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=A(this,e.call.apply(e,[this].concat(l))),r.unsubscribe=function(){var e=r.props.subscription,t=null!=e.plan&&v.default.isGrandfathered(e.plan);e.status===S.SubscriptionStatusTypes.ACTIVE&&(t?s.default.push(function(e){return i.createElement(g.default,a({},e,{onConfirm:r.showCancelModal}))}):r.showCancelModal())},r.showCancelModal=function(){var e=r.props.subscription;s.default.push(function(t){return i.createElement(E.default,a({},t,{subscription:e}))})},r.resubscribe=function(){var e=r.props,t=e.paymentSource,n=e.subscription;if(null!=n){if(null==t){if(null==n.plan)throw new Error("Unexpected missing plan");return d.openModal({mode:S.PremiumPaymentSubscriptionModes.RESUBSCRIBE,skuId:S.SubscriptionPlanInfo[n.plan].skuId,plan:n.plan,analyticsLocation:{page:S.AnalyticsPages.USER_SETTINGS,section:S.AnalyticsSections.SETTINGS_PREMIUM,object:S.AnalyticsObjects.BUTTON_CTA}})}d.resubscribe(n,t)}},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSubscriptionInfo=function(){var e=this.props.subscription,t=e.plan,n=e.currentPeriodStart,r=e.currentPeriodEnd,o=e.status;if(null==t)return null;if(o===S.SubscriptionStatusTypes.PAST_DUE)return T.default.Messages.PREMIUM_PAST_DUE.format({date:(0,u.default)(n).add(3,"days")});if(o===S.SubscriptionStatusTypes.CANCELED||null==e.paymentSourceId)return T.default.Messages.PREMIUM_CANCELED.format({date:r});var a=v.default.getPrice(t),i=(0,_.formatPrice)(a.amount,a.currency);return v.default.getInterval(t)===S.SubscriptionIntervalTypes.YEAR?T.default.Messages.PREMIUM_INFO_YEARLY.format({price:i,date:r}):T.default.Messages.PREMIUM_INFO_MONTHLY.format({price:i,date:r})},t.prototype.renderButtons=function(){var e=this.props,t=e.busy,n=e.subscription,r=n.status;return n.isPurchasedViaApple&&S.SubscriptionStatusTypes.ACTIVE?o(c.default,{href:S.AppleBillingUrls.SUBSCRIPTION_MANAGEMENT,useDefaultUnderlineStyles:!1},void 0,o(h.default,{className:(0,l.default)(I.default.toolsButton,I.default.appleButton),size:h.default.Sizes.SMALL,look:p.ButtonLooks.OUTLINED,color:p.ButtonColors.WHITE,submitting:t},void 0,T.default.Messages.BILLING_MANAGE_SUBSCRIPTION)):r===S.SubscriptionStatusTypes.CANCELED?o(h.default,{className:I.default.toolsButton,size:h.default.Sizes.SMALL,look:p.ButtonLooks.INVERTED,color:p.ButtonColors.YELLOW,submitting:t,onClick:this.resubscribe},void 0,T.default.Messages.RESUBSCRIBE):r===S.SubscriptionStatusTypes.ACTIVE?o(h.default,{className:I.default.toolsButton,size:h.default.Sizes.SMALL,look:p.ButtonLooks.OUTLINED,color:p.ButtonColors.WHITE,submitting:t,onClick:this.unsubscribe},void 0,T.default.Messages.CANCEL):void 0},t.prototype.renderPremiumCodeSub=function(){var e=this.props.subscription,t=T.default.Messages.PREMIUM_CODE_ACTIVE_UNTIL.format({date:(0,m.dateFormat)((0,u.default)(e.currentPeriodEnd),"LL")});return o("div",{className:(0,l.default)(I.default.banner,I.default.premiumCodeBanner,I.default.tier2)},void 0,o("div",{className:(0,l.default)(I.default.image,I.default.tier2)}),o("div",{className:I.default.details},void 0,o(y.default,{name:y.default.Names.NITRO,className:(0,l.default)(I.default.planName,I.default.tier2)}),o("div",{className:I.default.periodInfo},void 0,t)))},t.prototype.render=function(){var e,t=this.props.subscription,n=t.status,r=t.plan;if(t.id===f.PREMIUM_CODE_SUBSCRIPTION_ID)return this.renderPremiumCodeSub();if(null==r)return null;var a=n===S.SubscriptionStatusTypes.UNPAID||n===S.SubscriptionStatusTypes.ACTIVE,i=v.default.getPremiumType(r),u=v.default.isGrandfathered(r),s=((e={})[I.default.tierGrandfathered]=a&&u,e[I.default.tier1]=a&&!u&&i===S.PremiumTypes.TIER_1,e[I.default.tier2]=a&&!u&&i===S.PremiumTypes.TIER_2,e[I.default.canceled]=n===S.SubscriptionStatusTypes.CANCELED,e[I.default.pastDue]=n===S.SubscriptionStatusTypes.PAST_DUE,e);return o("div",{className:(0,l.default)(I.default.banner,s)},void 0,o("div",{className:(0,l.default)(I.default.image,s)}),o("div",{className:I.default.details},void 0,i===S.PremiumTypes.TIER_2||u?o(y.default,{name:y.default.Names.NITRO,className:(0,l.default)(I.default.planName,s)}):o(y.default,{name:y.default.Names.NITRO_CLASSIC,className:(0,l.default)(I.default.planName,s)}),o("div",{className:I.default.periodInfo},void 0,this.renderSubscriptionInfo())),o("div",{className:I.default.buttons},void 0,this.renderButtons()))},t}(i.Component);O.displayName="SubscriptionHeader",t.default=O,e.exports=t.default},7563:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=c(n(2)),i=c(n(865)),l=f(n(225)),u=f(n(6234)),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.abort=function(){var e=r.props.onClose;e&&e()},r.continue=function(){var e=r.props,t=e.subscription,n=e.onClose;i.cancel(t.id),n&&n()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.subscription,t=e.plan;if(null==t)return null;var n=l.default.getDisplayPremiumType(t),r=l.default.getPremiumType(t);return o(u.default,{},void 0,o(u.default.Header,{},void 0,d.default.Messages.PREMIUM_CANCEL_CONFIRM_TITLE.format({planPremiumType:n})),o(u.default.Content,{type:u.default.Types.CANCEL},void 0,r===s.PremiumTypes.TIER_1?d.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_1.format({date:e.currentPeriodEnd}):d.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_2.format({date:e.currentPeriodEnd})),o(u.default.Footer,{secondary:{onClick:this.abort,label:d.default.Messages.NEVERMIND},primary:{onClick:this.continue,label:d.default.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:n})}}))},t}(a.Component);h.displayName="CancelConfirmModal",t.default=h,e.exports=t.default},7564:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=T(n(2)),l=S(n(4)),u=S(n(80)),s=T(n(865)),d=(S(n(842)),S(n(903)),S(n(312))),f=S(n(236)),c=S(n(466)),p=S(n(311)),h=S(n(128)),y=n(829),m=S(n(6605)),v=S(n(6395)),_=n(0),E=S(n(13)),g=S(n(5787));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return n=r=I(this,e.call.apply(e,[this].concat(l))),r.setSubscriptionPaymentSource=function(e){var t=r.props,n=t.subscription,o=t.paymentSources;if(null!=n){var a=o.find(function(t){return t.id===e});null!=a&&s.changePaymentSource(n,a)}},r.handlePaymentSourceChange=function(e,t){var n=e.value;t?u.default.push(function(e){return i.createElement(m.default,a({},e,{onAddPaymentSource:r.handlePaymentSourceAdded}))}):r.setSubscriptionPaymentSource(n)},r.handlePaymentSourceAdded=function(e){var t=e.id;r.setSubscriptionPaymentSource(t)},r.handleAddPaymentSource=function(){u.default.push(function(e){return i.createElement(m.default,e)})},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDropdown=function(){var e=this.props,t=e.paymentSources,n=e.hidePersonalInformation,r=e.defaultPaymentSourceId,a=e.premiumSubscriptionPaymentSourceId;return o(i.Fragment,{},void 0,o(y.FormTitle,{},void 0,E.default.Messages.BILLING_PAY_FOR_IT_WITH),o("div",{className:g.default.dropdown},void 0,o(v.default,{showEmptyPromptOption:!0,paymentSources:t,hidePersonalInformation:n,selectedPaymentSourceId:a,defaultPaymentSourceId:r,onChange:this.handlePaymentSourceChange})))},t.prototype.renderAddButton=function(){return o(h.default,{look:h.default.Looks.FILLED,color:h.default.Colors.PRIMARY,onClick:this.handleAddPaymentSource},void 0,E.default.Messages.BILLING_ADD_PAYMENT_METHOD)},t.prototype.renderManagedByApple=function(){return o("div",{className:g.default.appleContainer},void 0,o("div",{className:g.default.appleHeader},void 0,E.default.Messages.BILLING_MANAGED_BY_APPLE),o(p.default,{href:_.AppleBillingUrls.BILLING_MANAGEMENT,useDefaultUnderlineStyles:!1},void 0,o(h.default,{look:h.default.Looks.FILLED,color:h.default.Colors.PRIMARY},void 0,E.default.Messages.BILLING_MANAGE_BILLING)))},t.prototype.render=function(){var e=this.props,t=e.paymentSources,n=e.subscription;return o("div",{className:g.default.container},void 0,n.isPurchasedViaApple?this.renderManagedByApple():t.length>0?this.renderDropdown():this.renderAddButton())},t}(i.Component);C.displayName="SubscriptionPaymentSource",t.default=l.default.connectStores([d.default,f.default,c.default],function(){var e=c.default.getPremiumSubscription(),t=null!=e?e.paymentSourceId:null;return{paymentSources:Object.values(f.default.paymentSources).filter(function(e){return!e.invalid}),hidePersonalInformation:d.default.hidePersonalInformation,premiumSubscriptionPaymentSourceId:t,defaultPaymentSourceId:f.default.defaultPaymentSourceId}})(C),e.exports=t.default},7565:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(883),l=f(n(831)),u=f(n(6234)),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.cancel=function(){var e=r.props.onClose;e&&e()},r.claimAccount=function(){var e=r.props.onClose;e&&e(),l.default.setSection(s.UserSettingsSections.ACCOUNT),(0,i.toggleEditingProfile)(!0)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{},void 0,o(u.default.Header,{},void 0,d.default.Messages.PREMIUM_NOT_CLAIMED),o(u.default.Content,{type:u.default.Types.UNCLAIMED},void 0,d.default.Messages.PREMIUM_NOT_CLAIMED_BODY),o(u.default.Footer,{secondary:{onClick:this.cancel,label:d.default.Messages.NEVERMIND},primary:{onClick:this.claimAccount,label:d.default.Messages.CLAIM_ACCOUNT}}))},t}(a.Component);p.displayName="UnclaimedAccountModal",t.default=p,e.exports=t.default},7566:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(883),l=p(n(831)),u=p(n(128)),s=p(n(6824)),d=p(n(6234)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.changeEmail=function(){var e=r.props.onClose;e&&e(),l.default.setSection(f.UserSettingsSections.ACCOUNT),(0,i.toggleEditingProfile)(!0)},r.closeModal=function(){var e=r.props.onClose;e&&e()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(d.default,{},void 0,o(d.default.Header,{},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED),o(d.default.Content,{type:d.default.Types.UNVERIFIED},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED_BODY),o(d.default.Footer,{secondary:{onClick:this.changeEmail,label:c.default.Messages.CHANGE_EMAIL_SHORT},primaryRenderer:o(s.default,{color:u.default.Colors.BRAND,onClick:this.closeModal})}))},t}(a.Component);y.displayName="UnverifiedEmailModal",t.default=y,e.exports=t.default},7567:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=H(n(17)),u=H(n(5)),s=H(n(4)),d=H(n(183)),f=n(6603),c=H(n(80)),p=n(883),h=H(n(461)),y=H(n(831)),m=H(n(474)),v=H(n(28)),_=H(n(35)),E=H(n(15)),g=H(n(128)),S=H(n(450)),T=H(n(152)),I=H(n(6007)),C=H(n(5987)),N=H(n(129)),A=H(n(442)),O=H(n(836)),b=H(n(948)),M=H(n(837)),R=n(445),P=H(R),L=n(110),w=H(L),D=H(n(314)),U=n(6612),k=n(7200),G=H(n(447)),x=n(0),F=H(n(13)),j=H(n(5351)),B=H(n(5790));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){var t=e.body,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["body"]);c.default.push(function(e){return i.createElement(G.default,o({},e,n),a(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,t))})}function Y(e){var t=e.message;V({header:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:F.default.Messages.OKAY,red:!0,body:t})}var W=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r.handleUsageStatisticsChange=function(){!r.props.usageStatistics?(0,f.setConsents)([x.Consents.USAGE_STATISTICS],[]).catch(Y):V({header:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,f.setConsents)([],[x.Consents.USAGE_STATISTICS]).catch(Y)}})},r.handlePersonalizationChange=function(){!r.props.personalization?(0,f.setConsents)([x.Consents.PERSONALIZATION],[]).catch(Y):V({header:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,f.setConsents)([],[x.Consents.PERSONALIZATION]).catch(Y)},body:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})},r.handleDataDownloadRequest=function(){V({header:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){r.setState({requestingHarvest:!0},function(){(0,p.requestHarvest)().then(function(e){null!=e&&null!=e.body?(r.setState({currentHarvestRequest:e.body}),d.default.show({body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})):d.default.show({title:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})},function(){return d.default.show({title:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}).finally(function(){return r.setState({requestingHarvest:!1})})})}})},r.handleChangeDefaultGuildsRestricted=r.handleChangeDefaultGuildsRestricted.bind(r);var o=n.defaultGuildsRestricted;return r.state={defaultGuildsRestricted:o,currentHarvestRequest:null,requestingHarvest:!0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,f.fetchConsents)(),(0,p.getHarvestStatus)().then(function(t){console.log("getHarvestStatus",t);var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)},function(t){console.log("getHarvestStatus error",t),e.setState({requestingHarvest:!1})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.defaultGuildsRestricted;t!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:t})},t.prototype.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(x.FriendSourceFlagKeys.ALL)||n(e)},t.prototype.onFieldChange=function(e,t){var n,r,a=this.props.friendSourceFlags,i=void 0;if(e===x.FriendSourceFlagKeys.ALL)t?((n={})[x.FriendSourceFlagKeys.ALL]=!0,n[x.FriendSourceFlagKeys.FRIENDS]=!0,n[x.FriendSourceFlagKeys.GUILDS]=!0,i=n):((r={})[x.FriendSourceFlagKeys.ALL]=!1,r[x.FriendSourceFlagKeys.FRIENDS]=!0,r[x.FriendSourceFlagKeys.GUILDS]=!0,i=r);else if(t){var l,u=!1;switch(e){case x.FriendSourceFlagKeys.FRIENDS:u=!0===a[x.FriendSourceFlagKeys.GUILDS];break;default:u=!0===a[x.FriendSourceFlagKeys.FRIENDS]}i=o({},a,((l={})[x.FriendSourceFlagKeys.ALL]=u,l[e]=!0,l))}else{var s;i=o({},a,((s={})[x.FriendSourceFlagKeys.ALL]=!1,s[e]=!1,s))}this.updatePermittedFriendSourceFlags(i)},t.prototype.updatePermittedFriendSourceFlags=function(e){h.default.updateRemoteSettings({friendSourceFlags:e})},t.prototype.handleExplicitContentFilterChange=function(e){var t=e.value;h.default.updateRemoteSettings({explicitContentFilter:t})},t.prototype.handleChangeDefaultGuildsRestricted=function(e){var t=this,n=e.currentTarget.checked;n=!n,this.setState({defaultGuildsRestricted:n},function(){return t.showGuildRestrictionModal(n)})},t.prototype.showGuildRestrictionModal=function(e){V({header:F.default.Messages.USER_DM_SETTINGS,body:F.default.Messages.USER_DM_SETTINGS_QUESTION,confirmText:F.default.Messages.YES_TEXT,cancelText:F.default.Messages.NO_TEXT,onConfirm:function(){h.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(v.default.getGuilds()):[]})},onCancel:function(){h.default.updateRemoteSettings({defaultGuildsRestricted:e})}})},t.prototype.renderFriendSettings=function(){var e=this;return a(M.default,{title:F.default.Messages.FRIEND_PERMITTED_SOURCE,className:j.default.marginBottom40},void 0,a(C.default,{className:(0,l.default)(j.default.marginTop8,j.default.marginBottom20),value:this.hasPermittedSourceFlag(x.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(x.FriendSourceFlagKeys.ALL,t.currentTarget.checked)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),a(C.default,{value:this.hasPermittedSourceFlag(x.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(x.FriendSourceFlagKeys.FRIENDS,t.currentTarget.checked)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),a(C.default,{className:j.default.marginReset,value:this.hasPermittedSourceFlag(x.FriendSourceFlagKeys.GUILDS),onChange:function(t){return e.onFieldChange(x.FriendSourceFlagKeys.GUILDS,t.currentTarget.checked)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))},t.prototype.renderDMSafety=function(){return a(M.default,{className:j.default.marginBottom40},void 0,a(w.default,{tag:L.Tags.H5,className:j.default.marginBottom4},void 0,F.default.Messages.USER_EXPLICIT_CONTENT_FILTER),a(P.default,{type:R.Types.DESCRIPTION,className:j.default.marginBottom8},void 0,F.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),a(I.default,{value:this.props.explicitContentFilter,options:(0,U.generateDMSafetyOptions)(),onChange:this.handleExplicitContentFilterChange}))},t.prototype.renderServerPrivacy=function(){return a(M.default,{className:j.default.marginBottom40},void 0,a(w.default,{tag:L.Tags.H5,className:j.default.marginBottom8},void 0,F.default.Messages.USER_DM_SETTINGS),a(C.default,{className:j.default.marginReset,value:!this.state.defaultGuildsRestricted,note:F.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,F.default.Messages.NEW_GUILDS_DM_ALLOWED))},t.prototype.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization;return a(M.default,{className:j.default.marginBottom40},void 0,a(w.default,{tag:L.Tags.H5,className:j.default.marginBottom8},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS),a(C.default,{value:t,note:F.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE,onChange:this.handleUsageStatisticsChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),a(C.default,{value:n,note:F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:D.default.getArticleURL(x.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handlePersonalizationChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),a(w.default,{tag:L.Tags.H3,className:(0,l.default)(j.default.marginTop20,j.default.marginBottom8)},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),a(P.default,{type:R.Types.DESCRIPTION,className:j.default.marginBottom20},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){y.default.setSection(x.UserSettingsSections.ACCOUNT),(0,p.toggleEditingProfile)(!0)}})),this.renderHarvestRequest())},t.prototype.renderHarvestRequest=function(){var e=this.props.currentUser,t=this.state,n=t.requestingHarvest,r=t.currentHarvestRequest,o=(0,k.harvestDisabled)(r,e),l=a(g.default,{disabled:o,onClick:this.handleDataDownloadRequest,look:g.default.Looks.OUTLINED,color:g.default.Colors.BRAND,submitting:n},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD);e.verified||(l=a(A.default,{text:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,l));var s=void 0;return o&&null!=r&&(s=a(S.default,{className:B.default.card},void 0,a(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,F.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,u.default)(r.created_at).add(x.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")}))),l=null),null!=l&&(l=a(T.default,{},void 0,l)),a(i.Fragment,{},void 0,a(O.default,{className:j.default.marginBottom20}),a(w.default,{tag:L.Tags.H3},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),a(P.default,{type:R.Types.DESCRIPTION,className:j.default.marginBottom20},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:D.default.getArticleURL(x.HelpdeskArticles.GDPR_REQUEST_DATA)})),s,l)},t.prototype.renderPrivacyAndTermsNote=function(){return a(M.default,{className:j.default.marginBottom40},void 0,a(b.default,{type:b.default.Types.PRIMARY,body:F.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:x.MarketingURLs.TERMS,privacyLink:x.MarketingURLs.PRIVACY})}))},t.prototype.render=function(){var e=this.props.fetchedConsents;return a(M.default,{tag:L.Tags.H2,title:F.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())},t}(i.PureComponent);W.displayName="UserSettingsPrivacySafety",t.default=s.default.connectStores([_.default,E.default,m.default],function(){return{currentUser:E.default.getCurrentUser(),friendSourceFlags:(0,k.computeFlags)(),explicitContentFilter:_.default.explicitContentFilter,defaultGuildsRestricted:_.default.defaultGuildsRestricted,fetchedConsents:m.default.fetchedConsents,usageStatistics:m.default.hasConsented(x.Consents.USAGE_STATISTICS),personalization:m.default.hasConsented(x.Consents.PERSONALIZATION)}})(W),e.exports=t.default},7568:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=g(n(17)),u=g(n(4)),s=g(n(6206)),d=g(n(831)),f=g(n(312)),c=g(n(35)),p=g(n(5987)),h=n(829),y=g(n(9)),m=n(0),v=g(n(13)),_=g(n(5351)),E=g(n(5791));function g(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){return a(h.FormNotice,{className:_.default.marginBottom40,iconClassName:E.default.noticeIcon,type:h.FormNoticeTypes.PRIMARY,imageData:{src:n(7569),width:184,height:110,position:h.FormNoticeImagePositions.RIGHT},title:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:"https://discordapp.com/streamkit"})})},t.prototype.renderAutoToggle=function(){if(y.default.embedded)return a(p.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)},t.prototype.render=function(){return a(h.FormSection,{className:E.default.container,tag:h.FormTitleTags.H2,title:v.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),a(p.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:v.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,v.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),a(h.FormTitle,{className:(0,l.default)(_.default.marginTop40,_.default.marginBottom8)},void 0,v.default.Messages.OPTIONS),a(p.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:v.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,v.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),a(p.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:v.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,v.default.Messages.HIDE_INSTANT_INVITES_LABEL),a(p.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:v.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,v.default.Messages.DISABLE_SOUNDS_LABEL),a(p.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:v.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,v.default.Messages.DISABLE_NOTIFICATIONS_LABEL))},t.prototype.handleChange=function(e,t){var n;s.default.update(((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleGotoKeybinds=function(){d.default.setSection(m.UserSettingsSections.KEYBINDS)},t}(i.PureComponent);S.displayName="UserSettingsModalStreamerMode",t.default=u.default.connectStores([c.default,f.default],function(){return o({},f.default.getSettings(),{theme:c.default.theme})})(S),e.exports=t.default},7569:function(e,t,n){e.exports=n.p+"616e078b351d0df460971441949c53a3.svg"},7570:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=T(n(17)),l=T(n(4)),u=T(n(461)),s=T(n(912)),d=T(n(35)),f=T(n(6007)),c=T(n(5987)),p=T(n(448)),h=T(n(837)),y=T(n(445)),m=n(110),v=T(m),_=T(n(244)),E=n(0),g=T(n(13)),S=T(n(5351));function T(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onFieldChange=function(e,t){var n;u.default.updateRemoteSettings(((n={})[e]=t,n))},t.prototype.onLocalFieldChanged=function(e,t){var n;u.default.updateLocalSettings(((n={})[e]=t,n))},t.prototype.renderTTSControl=function(){var e=this;if(s.default.supported)return o(h.default,{className:S.default.marginBottom40},void 0,o(v.default,{className:S.default.marginBottom8},void 0,g.default.Messages.FORM_LABEL_TTS),o(c.default,{className:S.default.marginTop8,value:this.props.enableTTSCommand,onChange:function(t){return e.onFieldChange("enableTTSCommand",t.currentTarget.checked)}},void 0,g.default.Messages.ALLOW_TTS_COMMAND))},t.prototype.renderSpoilerSettings=function(){var e=this;return o(p.default,{title:g.default.Messages.SHOW_SPOILER_CONTENT},void 0,o(y.default,{type:y.default.Types.DESCRIPTION,className:S.default.marginBottom8},void 0,g.default.Messages.SHOW_SPOILER_CONTENT_HELP),o(f.default,{options:[{name:g.default.Messages.SHOW_SPOILER_ON_CLICK,value:E.SpoilerRenderSetting.ON_CLICK},{name:g.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:E.SpoilerRenderSetting.IF_MODERATOR},{name:g.default.Messages.SHOW_SPOILER_ALWAYS,value:E.SpoilerRenderSetting.ALWAYS}],onChange:function(t){return e.onLocalFieldChanged("renderSpoilers",t.value)},value:this.props.renderSpoilers}))},t.prototype.render=function(){var e=this,t=this.props,n=t.inlineEmbedMedia,r=t.inlineAttachmentMedia,a=t.gifAutoPlay,l=t.renderEmbeds,u=t.renderReactions,s=t.animateEmoji,d=t.convertEmoticons;return o(h.default,{tag:m.Tags.H2,title:g.default.Messages.TEXT_AND_IMAGES},void 0,o(v.default,{className:S.default.marginBottom8},void 0,g.default.Messages.INLINE_MEDIA_LABEL),o(c.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:n,onChange:function(t){return e.onFieldChange("inlineEmbedMedia",t.currentTarget.checked)}},void 0,g.default.Messages.INLINE_EMBED_MEDIA),o(c.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:r,note:g.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:function(t){return e.onFieldChange("inlineAttachmentMedia",t.currentTarget.checked)}},void 0,g.default.Messages.INLINE_ATTACHMENT_MEDIA),o(c.default,{className:S.default.marginBottom40,value:a,onChange:function(t){return e.onFieldChange("gifAutoPlay",t.currentTarget.checked)}},void 0,g.default.Messages.GIF_AUTO_PLAY_LABEL),o(v.default,{className:S.default.marginBottom8},void 0,g.default.Messages.RENDER_EMBEDS_LABEL),o(c.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom40),value:l,onChange:function(t){return e.onFieldChange("renderEmbeds",t.currentTarget.checked)}},void 0,g.default.Messages.RENDER_EMBEDS),o(v.default,{className:S.default.marginBottom8},void 0,g.default.Messages.EMOJI),o(c.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:u,onChange:function(t){return e.onFieldChange("renderReactions",t.currentTarget.checked)}},void 0,g.default.Messages.RENDER_REACTIONS),o(c.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:s,note:g.default.Messages.ANIMATE_EMOJI_NOTE,onChange:function(t){return e.onFieldChange("animateEmoji",t.currentTarget.checked)}},void 0,g.default.Messages.ANIMATE_EMOJI),o(c.default,{className:S.default.marginBottom40,value:d,note:_.default.parse(g.default.Messages.CONVERT_EMOTICONS_HELP),onChange:function(t){return e.onFieldChange("convertEmoticons",t.currentTarget.checked)}},void 0,g.default.Messages.CONVERT_EMOTICONS),this.renderTTSControl(),this.renderSpoilerSettings())},t}(a.PureComponent);I.displayName="UserSettingsTextImages",t.default=l.default.connectStores([d.default],function(){return{inlineAttachmentMedia:d.default.inlineAttachmentMedia,inlineEmbedMedia:d.default.inlineEmbedMedia,gifAutoPlay:d.default.gifAutoPlay,renderEmbeds:d.default.renderEmbeds,renderReactions:d.default.renderReactions,animateEmoji:d.default.animateEmoji,enableTTSCommand:d.default.enableTTSCommand,convertEmoticons:d.default.convertEmoticons,renderSpoilers:d.default.renderSpoilers}})(I),e.exports=t.default},7571:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=X(n(17)),u=X(n(6)),s=n(873),d=X(n(4)),f=n(57),c=n(81),p=X(n(452)),h=X(n(80)),y=X(n(831)),m=X(n(485)),v=X(n(46)),_=X(n(472)),E=X(n(35)),g=n(128),S=X(g),T=n(450),I=X(n(152)),C=X(n(6007)),N=X(n(5995)),A=X(n(6071)),O=X(n(6057)),b=X(n(5987)),M=X(n(129)),R=X(n(836)),P=X(n(448)),L=n(948),w=X(L),D=X(n(837)),U=X(n(445)),k=n(110),G=X(k),x=X(n(9)),F=X(n(456)),j=X(n(6394)),B=X(n(460)),H=X(n(447)),V=X(n(7572)),Y=n(0),W=X(n(13)),K=X(n(317)),z=X(n(5351)),$=X(n(5373)),q=X(n(5794));function X(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=a("div",{className:"grow"}),te=function(e){function t(){var n,r;Q(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,e.call.apply(e,[this].concat(a))),r._timeout=new c.Timeout,r.state={volume:-100,speaking:!1},r.setupVoiceActivity=function(){v.default.getMediaEngine().on("voiceactivity",r.handleVoiceActivity),r._timeout.stop()},r.handleVoiceActivity=function(e,t){r.setState({volume:e,speaking:(t&f.SpeakingFlags.VOICE)===f.SpeakingFlags.VOICE})},r.handleAutoThresholdChange=function(e){var t=r.props,n=t.onThresholdChange,o=t.threshold;n&&n(o,e.currentTarget.checked)},r.handleSensitivityChange=function(e){var t=r.props,n=t.onThresholdChange,o=t.auto;n&&n(-1*(100-e),o)},J(r,n)}return Z(t,e),t.prototype.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)},t.prototype.componentWillUnmount=function(){v.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},t.prototype.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},t.prototype.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if(v.default.supports(f.Features.AUTOMATIC_VAD))return a(s.SmartUID,{},void 0,function(n){return a("div",{className:(0,l.default)(K.default.horizontal,z.default.marginBottom4)},void 0,a(G.default,{tag:k.Tags.H3,className:z.default.marginReset},void 0,a("label",{htmlFor:n},void 0,W.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),a(O.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},t.prototype.renderSlider=function(){var e,t=this.props,n=t.auto,r=t.threshold,o=this.state.speaking;return n?a("section",{className:q.default.inputSensitivityToggle},void 0,a("div",{className:$.default.slider},void 0,a("div",{className:(0,l.default)($.default.bar,q.default.sliderBar,(e={},e[q.default.speaking]=o||this.state.speaking,e))})),a(U.default,{type:U.default.Types.DESCRIPTION,className:z.default.marginBottom8},void 0,W.default.Messages.FORM_HELP_AUTOMATIC_VAD)):a("section",{className:(0,l.default)(q.default.inputSensitivityToggle,q.default.manual)},void 0,a(A.default,{defaultValue:r+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:Y.Colors.STATUS_GREEN_400},fillStyles:{background:Y.Colors.STATUS_YELLOW_400}},void 0,a("div",{className:(0,l.default)(q.default.sliderBar,q.default.microphone,$.default.bar)},void 0,a("div",{className:(0,l.default)(q.default.fill,$.default.barFill),style:{width:this.state.volume+100+"%"}}),ee)))},t.prototype.renderInputDisabledWarning=function(){if(!v.default.isEnabled())return a(U.default,{type:U.default.Types.DESCRIPTION,className:(0,l.default)(q.default.inputDisabledWarning,z.default.marginBottom8)},void 0,W.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:p.default.enable}))},t.prototype.render=function(){return a(P.default,{className:q.default.sensitivity},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),a("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())},t}(i.PureComponent);te.displayName="VoiceSensitivity";var ne=d.default.connectStores([_.default],function(){return{speaking:_.default.isCurrentUserSpeaking()}})(te),re=a(V.default,{}),oe=function(e){function t(){var r,l;Q(this,t);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return r=l=J(this,e.call.apply(e,[this].concat(s))),l.state={showCamera:!1},l.handleInputModeChange=function(e){var t=e.value;t===Y.InputModes.PUSH_TO_TALK&&l.props.usePTTLimited&&h.default.push(function(e){return i.createElement(B.default,o({title:W.default.Messages.PTT_LIMITED_TITLE,confirmText:W.default.Messages.DOWNLOAD,cancelText:W.default.Messages.OKAY,onConfirm:l.handleDownload.bind(l,"PTT Limited Modal"),body:W.default.Messages.PTT_LIMITED_BODY,iconUrl:n(7574)},e))}),p.default.setMode(t)},l.handleDelayChange=function(e){p.default.setMode(l.props.inputMode,{delay:e})},l.handleThresholdChange=function(e,t){p.default.setMode(l.props.inputMode,{threshold:e,autoThreshold:t})},l.handleDebugLoggingChange=function(e){var t=e.currentTarget.checked;h.default.push(function(e){return i.createElement(H.default,o({header:W.default.Messages.SET_DEBUG_LOGGING,confirmText:W.default.Messages.OKAY,cancelText:W.default.Messages.CANCEL,onConfirm:function(){return p.default.setDebugLogging(t)},red:!0},e),a(M.default,{size:M.default.Sizes.MEDIUM,color:M.default.Colors.PRIMARY},void 0,W.default.Messages.SET_DEBUG_LOGGING_BODY))})},l.handleAttenuationChange=function(e){p.default.setAttenuation(e,l.props.attenuateWhileSpeakingSelf,l.props.attenuateWhileSpeakingOthers)},l.handleAttenuateSelfChanged=function(e){var t=e.currentTarget.checked;p.default.setAttenuation(l.props.attenuation,t,l.props.attenuateWhileSpeakingOthers)},l.handleAttenuateOthersChanged=function(e){var t=e.currentTarget.checked,n=l.props,r=n.attenuation,o=n.attenuateWhileSpeakingSelf;p.default.setAttenuation(r,o,t)},l.handleShortcutChange=function(e){p.default.setMode(l.props.inputMode,{shortcut:e})},l.handleShowCamera=function(){l.setState({showCamera:!0})},l.renderDevice=function(e){var t=e.label,r=e.value,o=void 0;if(m.default.isCertified(r)){var i=l.props.theme===Y.ThemeTypes.LIGHT?n(7575):n(7576);o=a("img",{src:i,alt:"Certified",className:q.default.deviceOptionCertified})}return a("span",{className:q.default.deviceOption},r,a("span",{className:q.default.deviceOptionLabel},void 0,m.default.getCertifiedDeviceName(r,t)),o)},J(l,r)}return Z(t,e),t.prototype.handleInputDeviceChange=function(e){var t=e.value;p.default.setInputDevice(t,"Settings")},t.prototype.handleOutputDeviceChange=function(e){var t=e.value;p.default.setOutputDevice(t,"Settings")},t.prototype.handleDownload=function(e){h.default.push(F.default,{source:e})},t.prototype.handleInputVolumeChange=function(e){p.default.setInputVolume(e)},t.prototype.handleOutputVolumeChange=function(e){var t=2*e;p.default.setOutputVolume(t)},t.prototype.handleOutputRender=function(e){return(2*e).toFixed(0)+"%"},t.prototype.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"},t.prototype.handleVideoDeviceChange=function(e){var t=e.value;p.default.setVideoDevice(t,"Settings")},t.prototype.handleEchoCancellationChange=function(e){var t=e.currentTarget.checked;p.default.setEchoCancellation(t)},t.prototype.handleNoiseSuppressionChange=function(e){var t=e.currentTarget.checked;p.default.setNoiseSuppression(t)},t.prototype.handleAutomaticGainControlChange=function(e){var t=e.currentTarget.checked;p.default.setAutomaticGainControl(t)},t.prototype.handleLoopbackChange=function(e){var t=e.currentTarget.checked;p.default.setLoopback(t)},t.prototype.handleSilenceWarningChange=function(e){var t=e.currentTarget.checked;p.default.setSilenceWarning(t)},t.prototype.handleVideoHookChange=function(e){var t=e.currentTarget.checked;p.default.setVideoHook(t)},t.prototype.handleQoSChanged=function(e){var t=e.currentTarget.checked;p.default.setQoS(t)},t.prototype.handleVoiceReset=function(){h.default.push(function(e){return i.createElement(H.default,o({header:W.default.Messages.RESET_VOICE_SETTINGS,confirmText:W.default.Messages.OKAY,cancelText:W.default.Messages.CANCEL,onConfirm:p.default.reset,red:!0},e),a(M.default,{size:M.default.Sizes.MEDIUM,color:M.default.Colors.PRIMARY},void 0,W.default.Messages.RESET_VOICE_SETTINGS_BODY))})},t.prototype.handleAudioSubsystemChanged=function(e){var t=e.value;h.default.push(function(e){return i.createElement(H.default,o({header:W.default.Messages.SWITCH_SUBSYSTEM,confirmText:W.default.Messages.OKAY,cancelText:W.default.Messages.CANCEL,onConfirm:function(){return p.default.setAudioSubsystem(t)},red:!0},e),a(M.default,{size:M.default.Sizes.MEDIUM,color:M.default.Colors.PRIMARY},void 0,W.default.Messages.SWITCH_SUBSYSTEM_BODY))})},t.prototype.renderDevices=function(){var e=this.props,t=e.inputDevices,n=e.inputDeviceId,r=e.outputDeviceId,o=e.outputDevices,i=e.canSetInputDevice,l=e.canSetOutputDevice,s=void 0;i||(s=a(U.default,{type:U.default.Types.DESCRIPTION,className:z.default.marginTop8},void 0,W.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));var d=void 0;l||(d=a(U.default,{type:U.default.Types.DESCRIPTION,className:z.default.marginTop8},void 0,W.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var f=(0,u.default)(t).values().first(),c=null!=f?f.disabled:null!=s,p=(0,u.default)(o).values().first(),h=null!=p?p.disabled:null!=d;return a(I.default,{className:z.default.marginBottom20},void 0,a(I.default.Child,{basis:"50%"},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_INPUT_DEVICE),a(N.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleInputDeviceChange,options:u.default.map(t,function(e){return{value:e.id,label:e.name}}),disabled:c,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),s),a(I.default.Child,{basis:"50%"},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_OUTPUT_DEVICE),a(N.default,{value:r,clearable:!1,searchable:!1,onChange:this.handleOutputDeviceChange,options:u.default.map(o,function(e){return{value:e.id,label:e.name}}),disabled:h,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),d))},t.prototype.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return a(I.default,{className:"volume"},void 0,a(I.default.Child,{basis:"50%"},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom4},void 0,W.default.Messages.FORM_LABEL_INPUT_VOLUME),a(A.default,{defaultValue:t,asValueChanges:this.handleInputVolumeChange})),a(I.default.Child,{basis:"50%"},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom4},void 0,W.default.Messages.FORM_LABEL_OUTPUT_VOLUME),a(A.default,{defaultValue:n/2,onValueRender:this.handleOutputRender,asValueChanges:this.handleOutputVolumeChange})))},t.prototype.renderMicTest=function(){return v.default.supports(f.Features.LOOPBACK)?re:null},t.prototype.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,r=[{value:Y.InputModes.VOICE_ACTIVITY,name:W.default.Messages.INPUT_MODE_VAD},{value:Y.InputModes.PUSH_TO_TALK,name:t?W.default.Messages.INPUT_MODE_PTT_LIMITED:W.default.Messages.INPUT_MODE_PTT}];return a(P.default,{title:W.default.Messages.FORM_LABEL_INPUT_MODE,className:z.default.marginBottom20},void 0,a(C.default,{onChange:this.handleInputModeChange,options:r,value:n}))},t.prototype.renderPTTTools=function(){var e=this.props,t=e.inputMode,n=e.delay,r=e.shortcut;if(t!==Y.InputModes.PUSH_TO_TALK)return null;var o=void 0;return o=x.default.embedded||t!==Y.InputModes.PUSH_TO_TALK?a(U.default,{type:U.default.Types.DESCRIPTION,className:(0,l.default)(q.default.pttToolsMessage,z.default.marginBottom8)},void 0,W.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return y.default.setSection(Y.UserSettingsSections.KEYBINDS)}})):a(U.default,{type:U.default.Types.DESCRIPTION,className:(0,l.default)(q.default.pttToolsMessage,q.default.pttToolsWarning,z.default.marginBottom8)},void 0,W.default.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")})),a("div",{className:q.default.pttTools},void 0,a(I.default,{},void 0,a(I.default.Child,{basis:"50%"},void 0,a(P.default,{title:W.default.Messages.FORM_LABEL_SHORTCUT},void 0,a(j.default,{defaultValue:r,onChange:this.handleShortcutChange}))),a(I.default.Child,{basis:"50%"},void 0,a(P.default,{title:W.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY},void 0,a(A.default,{defaultValue:n,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:Y.MAX_PTT_RELEASE_DELAY})))),o)},t.prototype.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,r=e.vadAutoThreshold;return t!==Y.InputModes.VOICE_ACTIVITY?null:a(ne,{inputMode:t,threshold:n,auto:r,onThresholdChange:this.handleThresholdChange})},t.prototype.renderVideoDevices=function(){var e,t,r=this.props,o=r.videoDevices,i=r.videoDeviceId,s=r.theme,d=void 0;v.default.isEnabled()||(d=a(U.default,{type:U.default.Types.DESCRIPTION,className:z.default.marginTop8},void 0,W.default.Messages.FORM_WARNING_VIDEO_PREVIEW.format({onEnableClick:p.default.enable})));var f=(0,u.default)(o).values().first(),c=null!=f?f.disabled:null!=d,h=v.default.getMediaEngine().Camera,y=s===Y.ThemeTypes.LIGHT?n(7577):n(7578);return a(I.default,{},void 0,a(I.default.Child,{basis:"50%"},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_VIDEO_DEVICE),a(N.default,{value:i,clearable:!1,searchable:!1,disabled:c,onChange:this.handleVideoDeviceChange,options:u.default.map(o,function(e){return{value:e.id,label:e.name}}),valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),d),a(I.default.Child,{basis:"50%"},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_VIDEO_PREVIEW),a("div",{className:q.default.previewContainer},void 0,a(h,{deviceId:i,disabled:!this.state.showCamera||c}),a(I.default,{className:(0,l.default)(q.default.previewOverlay,(e={},e[q.default.dismiss]=this.state.showCamera,e))},void 0,a(I.default,{className:(0,l.default)(q.default.previewOverlayInner,(t={},t[q.default.dismiss]=this.state.showCamera,t)),direction:I.default.Direction.VERTICAL,justify:I.default.Justify.CENTER,align:I.default.Align.CENTER},void 0,a("img",{className:z.default.marginBottom20,alt:"",src:y}),a(S.default,{onClick:this.handleShowCamera,disabled:c},void 0,W.default.Messages.TEST_VIDEO))))))},t.prototype.renderVideoWarnings=function(){return a(w.default,{type:T.Types.PRIMARY,title:W.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:W.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:a(S.default,{size:S.default.Sizes.SMALL,className:z.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,W.default.Messages.DOWNLOAD_APP)})},t.prototype.renderCodec=function(){var e=void 0;return e=this.props.theme===Y.ThemeTypes.LIGHT?n(7579):n(7580),a(w.default,{className:z.default.marginBottom40,type:L.Types.PRIMARY,imageData:{src:e,width:70,height:40},title:W.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,body:W.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})},t.prototype.renderVoiceProcessing=function(){if(!v.default.supports(f.Features.VOICE_PROCESSING))return null;var e=this.props,t=e.noiseSuppression,n=e.echoCancellation,r=e.automaticGainControl,o=e.inputDeviceId,i=m.default.hasEchoCancellation(o),u=m.default.hasNoiseSuppression(o),s=m.default.hasAutomaticGainControl(o),d=void 0;return(i||i||s)&&(d=a(U.default,{className:z.default.marginBottom20,type:U.default.Types.DESCRIPTION},void 0,W.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING)),a(D.default,{className:z.default.marginBottom40,title:W.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,d,a(b.default,{className:(0,l.default)(z.default.marginTop8,z.default.marginBottom20),value:n,onChange:this.handleEchoCancellationChange,disabled:i},void 0,W.default.Messages.ECHO_CANCELLATION),a(b.default,{value:t,onChange:this.handleNoiseSuppressionChange,disabled:u},void 0,W.default.Messages.NOISE_SUPPRESSION),a(b.default,{className:"",value:r,onChange:this.handleAutomaticGainControlChange,disabled:s},void 0,W.default.Messages.AUTOMATIC_GAIN_CONTROL))},t.prototype.renderQoS=function(){if(!v.default.supports(f.Features.QOS))return null;var e=this.props.qosEnabled;return a(D.default,{className:z.default.marginBottom40,title:W.default.Messages.FORM_LABEL_QOS},void 0,a(b.default,{className:"",value:e,onChange:this.handleQoSChanged,note:W.default.Messages.FORM_HELP_QOS},void 0,W.default.Messages.FORM_CHECKBOX_QOS))},t.prototype.renderAttenutation=function(){if(!v.default.supports(f.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,r=e.attenuateWhileSpeakingOthers;return a(D.default,{className:z.default.marginBottom40,title:W.default.Messages.FORM_LABEL_ATTENUATION},void 0,a(A.default,{defaultValue:t,onValueRender:this.handleOutputRender,onValueChange:this.handleAttenuationChange}),a(U.default,{className:z.default.marginBottom20,type:U.default.Types.DESCRIPTION},void 0,W.default.Messages.FORM_HELP_ATTENUATION),a(R.default,{lineOnly:!0,className:z.default.marginBottom20}),a(b.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,W.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),a(b.default,{className:"",value:r,onChange:this.handleAttenuateOthersChanged},void 0,W.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))},t.prototype.renderAudioSubsystem=function(){if(!v.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&!v.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:f.AudioSubsystems.STANDARD,label:"Standard"}];v.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.LEGACY,label:"Legacy"}),v.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props,n=t.audioSubsystem,r=t.disableAudioSubsystem;return a(I.default,{className:z.default.marginBottom20},void 0,a(I.default.Child,{},void 0,a(G.default,{tag:k.Tags.H5,className:z.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_SUBSYSTEM),a(N.default,{value:n,disabled:r,clearable:!1,searchable:!1,options:e,onChange:this.handleAudioSubsystemChanged})))},t.prototype.renderDiagnostics=function(){if(!x.default.embedded)return null;var e=this.props,t=e.silenceWarning,n=e.debugLogging,r=e.videoHook,o=void 0;v.default.supports(f.Features.DEBUG_LOGGING)&&(o=a(i.Fragment,{},void 0,a(R.default,{lineOnly:!0,className:z.default.marginBottom20}),a(b.default,{value:n,onChange:this.handleDebugLoggingChange,note:W.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,W.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING)));var l=void 0;return v.default.supports(f.Features.VIDEO_HOOK)&&(l=a(b.default,{value:r,onChange:this.handleVideoHookChange},void 0,W.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL)),a(D.default,{className:z.default.marginBottom40,title:W.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,a(b.default,{className:"",value:t,onChange:this.handleSilenceWarningChange},void 0,W.default.Messages.DISPLAY_SILENCE_WARNING),o,l)},t.prototype.renderResetVoiceSettings=function(){return a(P.default,{},void 0,a(S.default,{look:g.ButtonLooks.OUTLINED,color:g.ButtonColors.RED,onClick:this.handleVoiceReset,size:g.ButtonSizes.SMALL},void 0,W.default.Messages.RESET_VOICE_SETTINGS))},t.prototype.renderVideoSettings=function(){var e=v.default.supports(f.Features.VIDEO);return a("div",{},void 0,a(G.default,{tag:k.Tags.H2,className:z.default.marginBottom20},void 0,W.default.Messages.VIDEO_SETTINGS),e?this.renderVideoDevices():this.renderVideoWarnings(),a(R.default,{className:(0,l.default)(z.default.marginBottom40,z.default.marginTop40)}))},t.prototype.render=function(){return a(D.default,{className:q.default.userSettingsVoice,tag:k.Tags.H2,title:W.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),a(R.default,{className:(0,l.default)(z.default.marginTop8,z.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),a(R.default,{className:z.default.marginBottom40}),this.renderVideoSettings(),a(G.default,{tag:k.Tags.H2,className:z.default.marginBottom20},void 0,W.default.Messages.SETTINGS_ADVANCED),this.renderCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderDiagnostics(),this.renderResetVoiceSettings())},t}(i.PureComponent);oe.displayName="UserSettingsVoice",t.default=d.default.connectStores([E.default,v.default,m.default],function(){return{theme:E.default.theme,canSetInputDevice:v.default.supports(f.Features.AUDIO_INPUT_DEVICE),canSetOutputDevice:v.default.supports(f.Features.AUDIO_OUTPUT_DEVICE),inputVolume:v.default.getInputVolume(),outputVolume:v.default.getOutputVolume(),inputDeviceId:v.default.getInputDeviceId(),inputDevices:v.default.getInputDevices(),outputDevices:v.default.getOutputDevices(),outputDeviceId:v.default.getOutputDeviceId(),videoDevices:v.default.getVideoDevices(),videoDeviceId:v.default.getVideoDeviceId(),echoCancellation:v.default.getEchoCancellation(),loopback:v.default.getLoopback(),noiseSuppression:v.default.getNoiseSuppression(),automaticGainControl:v.default.getAutomaticGainControl(),inputMode:v.default.getMode(),shortcut:v.default.getModeOptions().shortcut,vadThreshold:v.default.getModeOptions().threshold,vadAutoThreshold:v.default.getModeOptions().autoThreshold,delay:v.default.getModeOptions().delay,usePTTLimited:!x.default.embedded,attenuation:v.default.getAttenuation(),attenuateWhileSpeakingSelf:v.default.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:v.default.getAttenuateWhileSpeakingOthers(),silenceWarning:v.default.getEnableSilenceWarning(),debugLogging:v.default.getDebugLogging(),qosEnabled:v.default.getQoS(),audioSubsystem:v.default.getAudioSubsystem(),disableAudioSubsystem:v.default.getDisableAudioSubsystem(),certifiedDeviceRevision:m.default.getRevision(),videoHook:v.default.getVideoHook()}})(oe),e.exports=t.default},7572:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=D(n(17)),s=D(n(6)),d=D(n(4)),f=n(57),c=n(81),p=D(n(452)),h=D(n(46)),y=D(n(184)),m=D(n(7201)),v=D(n(7202)),_=D(n(311)),E=D(n(128)),g=D(n(152)),S=D(n(7573)),T=D(n(442)),I=D(n(445)),C=n(110),N=D(C),A=D(n(18)),O=D(n(314)),b=D(n(9)),M=D(n(6030)),R=n(0),P=D(n(13)),L=D(n(5351)),w=D(n(5793));function D(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=2e3,G=-100,x=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=U(this,e.call.apply(e,[this].concat(a))),r._initTimeout=new c.Timeout,r._silenceTimeout=new c.Timeout,r._messageTimeout=new c.Timeout,r.state={volume:G,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1},r.setupVoiceActivity=function(){h.default.getMediaEngine().on("voiceactivity",r.handleVoiceActivity)},r.handleVoiceActivity=function(e){if(r.state.isMicTesting&&e<=G)return r._silenceTimeout.isStarted()||r._silenceTimeout.start(k,function(){r.setState({isDetectingInput:!1})}),void r.setState({volume:G});r._silenceTimeout.stop(),r.setState({volume:e,isDetectingInput:!0})},r.handleToggleMicTest=function(){r.state.isMicTesting?r._micTestStop():r._micTestStart()},U(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)},t.prototype.componentWillUnmount=function(){this._initTimeout.stop(),this._micTestStop(),h.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)},t.prototype._micTestStart=function(){var e=this.props,t=e.isDeafened,n=e.isVoiceConnected,r=e.inputDeviceName,o=e.inputVolume,a=e.outputDeviceName,i=e.outputVolume,l=e.inputMode,u=e.vadAutoThreshold,s=e.vadThreshold;h.default.isEnabled()||p.default.enable();var d=!1;n&&!t&&(p.default.toggleSelfDeaf(f.MediaEngineContextTypes.DEFAULT),d=!0),p.default.setLoopback(!0),this._micTestStartTime=Date.now(),this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:d}),A.default.track(R.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:r,input_device_volume:o,output_device_name:a,output_device_volume:i,input_mode:l,input_sensitivity_is_automatic:u,input_sensitivity_threshold:Math.round(s)})},t.prototype._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,o=r.isDeafened,a=r.isVoiceConnected;n&&(a&&o&&t&&p.default.toggleSelfDeaf(f.MediaEngineContextTypes.DEFAULT),p.default.setLoopback(!1),this.setState({isMicTesting:!1,didDeafenUser:!1}),A.default.track(R.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)}))},t.prototype.renderCaption=function(){var e=this.state,t=e.isMicTesting,n=e.isDetectingInput,r=void 0;return t&&(r=n?P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION:i(l.Fragment,{},void 0,P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,i(_.default,{className:w.default.micTestHelpLink,href:O.default.getArticleURL(R.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,P.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))),i(I.default,{className:w.default.micTestCaption,type:I.default.Types.DESCRIPTION},void 0,r)},t.prototype.render=function(){var e=this.props.isVoiceConnected,t=this.state,n=t.isMicTesting,r=t.volume,o=e&&!n?P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CHANNEL_WARNING:"";return i(g.default,{direction:g.default.Direction.VERTICAL},void 0,i(N.default,{tag:C.Tags.H5,className:(0,u.default)(L.default.marginBottom4,L.default.marginTop8)},void 0,P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE),i(I.default,{type:I.default.Types.DESCRIPTION,className:L.default.marginBottom8},void 0,P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION),i(g.default,{className:w.default.micTest,align:g.default.Align.CENTER},void 0,i(T.default,{text:o},void 0,i(E.default,{grow:!1,onClick:this.handleToggleMicTest,size:E.default.Sizes.SMALL,className:w.default.micTestButton,color:E.default.Colors.BRAND},void 0,n?P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE:P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE)),i(S.default,{progress:n?r+100:0}),this.renderCaption()))},t}(l.PureComponent);x.displayName="MicTester";var F=d.default.connectStores([y.default],function(){var e=h.default.getInputDeviceId(),t=h.default.getInputDevices(),n=s.default.find(t,function(t){return t.id===e}),r=h.default.getOutputDeviceId(),o=h.default.getOutputDevices(),a=s.default.find(o,function(e){return e.id===r}),i=h.default.getModeOptions();return{isVoiceConnected:y.default.isConnected(),isDeafened:h.default.isSelfDeaf(),inputVolume:h.default.getInputVolume(),outputVolume:h.default.getOutputVolume(),inputMode:h.default.getMode(),vadThreshold:i.threshold,vadAutoThreshold:i.autoThreshold,inputDeviceName:null!=n?n.name:null,outputDeviceName:null!=a?a.name:null}})(x),j=i(F,{});t.default=(0,M.default)(b.default.embedded?m.default:v.default,((o={})[R.ExperimentTypes.NONE]=R.NOOP_NULL,o[R.ExperimentTypes.USER]=((r={})[R.ExperimentBuckets.NOT_ELIGIBLE]=R.NOOP_NULL,r[R.ExperimentBuckets.CONTROL]=R.NOOP_NULL,r[R.ExperimentBuckets.TREATMENT_1]=function(){return j},r),o)),e.exports=t.default},7573:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=n(325),u=n(0),s=d(n(5792));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=(0,l.cssValueToNumber)(s.default.notchWidth),p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.state={barWidth:0},r.sizerRef=a.createRef(),r.computeBars=function(){var e=r.sizerRef.current;r.setState({barWidth:null!=e?r.roundToNearestStep(e.clientWidth):0})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.computeBars(),window.addEventListener("resize",this.computeBars)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)},t.prototype.roundToNearestStep=function(e){return Math.round(e/c)*c},t.prototype.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,o=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(o-n)+"px)"}},t.prototype.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}},t.prototype.render=function(){var e=this.props.className;return a.createElement("div",{className:s.default.wrapper,ref:this.sizerRef},o("div",{className:(0,i.default)(s.default.container,e),style:this.getGradientStyles()},void 0,o("div",{className:s.default.progress,style:this.getProgressStyles()}),o("div",{className:s.default.notches})))},t}(a.Component);p.defaultProps={gradientStart:u.Colors.STATUS_YELLOW_400,gradientEnd:u.Colors.STATUS_GREEN},p.displayName="GradientProgress",t.default=p,e.exports=t.default},7574:function(e,t,n){e.exports=n.p+"d630d71d5d2a19c1a81607b7b77f8717.svg"},7575:function(e,t,n){e.exports=n.p+"799da7cb8e1aa0bf9588a2d789c03926.svg"},7576:function(e,t,n){e.exports=n.p+"f98fe1aef65b144ddb4dbc7eedfac860.svg"},7577:function(e,t,n){e.exports=n.p+"baf6cccc846651d5ca897296163227f5.svg"},7578:function(e,t,n){e.exports=n.p+"aba3ec7874f7f01fe9a8275a3e5c21a0.svg"},7579:function(e,t,n){e.exports=n.p+"8c49c7d4a59675bb6ceaee1bb80b5803.png"},7580:function(e,t,n){e.exports=n.p+"e8b66317ab0dc9ba3bf8d41a4f3ec914.png"},7581:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(5987)),u=h(n(837)),s=n(110),d=h(s),f=h(n(9)),c=h(n(13)),p=h(n(5351));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r.handleToggleOpenOnStartup=function(){var e=!r.state.openOnStartup;r.setState({openOnStartup:e}),f.default.send("TOGGLE_OPEN_ON_STARTUP",e)},r.handleToggleStartMinimized=function(){var e=!r.state.startMinimized;r.setState({startMinimized:e}),f.default.send("TOGGLE_START_MINIMIZED",e)},r.handleToggleMinimizeToTray=function(){var e=!r.state.minimizeToTray;r.setState({minimizeToTray:e}),f.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};var o=f.default.getGlobal("appSettings");return r.state={openOnStartup:o.get("OPEN_ON_STARTUP",!0),startMinimized:o.get("START_MINIMIZED",!1),minimizeToTray:o.get("MINIMIZE_TO_TRAY",!0)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,r=e.minimizeToTray,a=f.default.isLinux()?c.default.Messages.USER_SETTINGS_LINUX_SETTINGS:c.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return o(u.default,{tag:s.Tags.H2,title:a},void 0,o(d.default,{},void 0,c.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),o(l.default,{className:p.default.marginBottom20,value:t,note:c.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,c.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),f.default.isWindows()?o(l.default,{disabled:!t,className:(0,i.default)(p.default.marginTop8,p.default.marginBottom20),value:!!t&&n,note:c.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,c.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,o(d.default,{className:(0,i.default)(p.default.marginTop20,p.default.marginBottom8)},void 0,c.default.Messages.USER_SETTINGS_CLOSE_BUTTON),o(l.default,{className:p.default.marginBottom20,value:r,note:c.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,c.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))},t}(a.PureComponent);y.displayName="UserSettingsWindows",t.default=y,e.exports=t.default},7582:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(308))),i=c(n(443)),l=c(n(4)),u=c(n(461)),s=c(n(35)),d=c(n(5977)),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)({displayName:"AppearanceMessageDisplayMenuItem",mixins:[l.default.LazyStoreListenerMixin(s.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCompact:s.default.messageDisplayCompact}},render:function(){return o(d.default,{label:this.state.isCompact?f.default.Messages.SWITCH_TO_COZY_MODE:f.default.Messages.SWITCH_TO_COMPACT_MODE,action:this.handleAction})},handleAction:function(){u.default.updateRemoteSettings({messageDisplayCompact:!this.state.isCompact})}});t.default=p,e.exports=t.default},7583:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(308))),i=p(n(443)),l=p(n(4)),u=p(n(461)),s=p(n(35)),d=p(n(5977)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"AppearanceThemeMenuItem",mixins:[l.default.StoreListenerMixin(s.default),i.default],getStateFromStores:function(){return{theme:s.default.theme}},render:function(){return o(d.default,{label:this.state.theme===f.ThemeTypes.LIGHT?c.default.Messages.SWITCH_TO_DARK_THEME:c.default.Messages.SWITCH_TO_LIGHT_THEME,action:this.handleAction})},handleAction:function(){u.default.updateRemoteSettings({theme:this.state.theme===f.ThemeTypes.LIGHT?f.ThemeTypes.DARK:f.ThemeTypes.LIGHT})}});t.default=h,e.exports=t.default},7584:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(4)),l=c(n(136)),u=c(n(58)),s=c(n(6100)),d=c(n(5998)),f=c(n(5982));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=p(this,e.call.apply(e,[this].concat(i))),r.renderBuckets=function(e,t){var n=r.props,a=n.currentBucket,i=n.currentType;return t.map(function(t){var n=s.default.getExperimentBucketName(t);return o(f.default,{label:n,action:function(){return r.handleOverrideSelect(e,t)},active:e===i&&t===a},t)})},r.renderOverrideTypes=function(){var e=r.props.experiment;return Object.keys(e.experiments).map(function(t){var n=e.experiments[t];return o(d.default,{invertChildY:!0,label:t,render:function(){return r.renderBuckets(t,n)}},t)})},r.handleOverrideSelect=function(e,t){var n=r.props.id;l.default.overrideType(n,e),l.default.overrideBucket(n,t)},r.handleResetOverride=function(){var e=r.props.id;l.default.overrideType(e,null),l.default.overrideBucket(e,null)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.experiment;return o(d.default,{invertChildY:!0,label:e.title,render:this.renderOverrideTypes,action:this.handleResetOverride})},t}(a.PureComponent);h.displayName="ExperimentSettingsItem",t.default=i.default.connectStores([u.default],function(e){var t=e.id,n=u.default.getExperimentOverrides()[t],r=-1,o="";return n&&(r=n.bucket,o=n.type),{experiment:u.default.getRegisteredExperiments()[t],bucket:u.default.getExperimentBucket(t),currentBucket:r,currentType:o}})(h),e.exports=t.default},7585:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(308))),i=c(n(443)),l=c(n(4)),u=c(n(6206)),s=c(n(312)),d=c(n(5982)),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)({displayName:"StreamerModeToggleItem",mixins:[l.default.LazyStoreListenerMixin(s.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{enabled:s.default.enabled}},render:function(){return o(d.default,{label:f.default.Messages.ENABLE_STREAMER_MODE_LABEL,action:this.handleToggle,active:this.state.enabled})},handleToggle:function(){u.default.setEnabled(!this.state.enabled)}});t.default=p,e.exports=t.default},7586:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(308))),i=p(n(443)),l=p(n(4)),u=p(n(452)),s=p(n(46)),d=p(n(5977)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"VoiceSettingsInputModeItem",mixins:[l.default.StoreListenerMixin(s.default),i.default],getStateFromStores:function(){return{inputMode:s.default.getMode()}},render:function(){return o(d.default,{label:this.state.inputMode===f.InputModes.PUSH_TO_TALK?c.default.Messages.SWITCH_TO_VOICE_ACTIVITY:c.default.Messages.SWITCH_TO_PUSH_TO_TALK,action:this.handleAction})},handleAction:function(){u.default.setMode(this.state.inputMode===f.InputModes.PUSH_TO_TALK?f.InputModes.VOICE_ACTIVITY:f.InputModes.PUSH_TO_TALK)}});t.default=h,e.exports=t.default},7587:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(308))),i=p(n(309)),l=p(n(443)),u=p(n(4)),s=p(n(452)),d=p(n(46)),f=p(n(6166)),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"VoiceSettingsVolumeItem",mixins:[u.default.LazyStoreListenerMixin(d.default),l.default],propTypes:{type:i.default.oneOf(["input","output"])},getVolume:function(){switch(this.props.type){case"input":return d.default.getInputVolume();case"output":return d.default.getOutputVolume()/2;default:return 0}},setVolume:function(e){switch(this.props.type){case"input":s.default.setInputVolume(e);break;case"output":s.default.setOutputVolume(2*e)}},renderVolume:function(e){switch(this.props.type){case"input":return e.toFixed(0)+"%";case"output":return(2*e).toFixed(0)+"%";default:return""}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{volume:this.getVolume()}},render:function(){return o(f.default,{label:"input"===this.props.type?c.default.Messages.FORM_LABEL_INPUT_VOLUME:c.default.Messages.FORM_LABEL_OUTPUT_VOLUME,defaultValue:this.state.volume,onValueChange:this.setVolume,onValueRender:this.renderVolume})}});t.default=h,e.exports=t.default},7588:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=G(n(2)),i=k(n(38)),l=k(n(4)),u=k(n(136)),s=k(n(80)),d=k(n(5354)),f=k(n(12)),c=k(n(22)),p=k(n(43)),h=k(n(111)),y=k(n(153)),m=k(n(132)),v=k(n(184)),_=k(n(64)),E=k(n(7203)),g=k(n(938)),S=k(n(128)),T=k(n(152)),I=k(n(5988)),C=k(n(306)),N=k(n(129)),A=k(n(442)),O=n(224),b=k(n(18)),M=k(n(9)),R=G(n(6052)),P=k(n(7589)),L=k(n(7590)),w=n(0),D=k(n(13)),U=k(n(5798));function k(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var F=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=x(this,e.call.apply(e,[this].concat(l))),r.handleClickGoLiveButton=function(){var e=r.props.guildId;r.modalKey=s.default.push(function(){return o(P.default,{guildId:e,onClose:r.handleCloseModal})})},r.handleClickStopStreamingButton=function(){var e=r.props.stream;R.stopStreaming(e)},r.handleClickInviteButton=function(){var e=r.props.activity;(0,i.default)(null!=e,"Received null activity"),b.default.track(w.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:w.AnalyticsSections.ACTIVITY_PANEL}),r.modalKey=s.default.push(function(){return o(L.default,{activity:e,onClose:r.handleCloseModal})})},r.handleCloseModal=function(){null!=r.modalKey?s.default.popWithKey(r.modalKey):s.default.pop()},x(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.triggerExperiment()},t.prototype.componentDidUpdate=function(){this.triggerExperiment()},t.prototype.triggerExperiment=function(){if(this.isJoinableActivity()){var e=E.default.getExperimentDescriptor();if(null==e||e.override)return null;u.default.trigger(e)}},t.prototype.isJoinableActivity=function(){var e=this.props,t=e.application,n=e.activity;return null!=t&&null!=n&&n.application_id===t.id&&n.type===w.ActivityTypes.PLAYING&&(0,O.hasFlag)(n,w.ActivityFlags.JOIN)},t.prototype.renderGoLiveButton=function(){var e=this.props,t=e.inGoLiveExperiment,n=e.guildId,r=e.isStreaming,a=e.inVoiceChannel,i=e.canStream;if(!t)return null;if(!M.default.embedded)return null;var l=void 0,u=void 0,s=void 0,d=void 0;return r?(l=!1,u=this.handleClickStopStreamingButton,s=C.default.Names.STOP_STREAM,d=D.default.Messages.STOP_STREAMING):i?(l=!1,u=this.handleClickGoLiveButton,s=C.default.Names.LIVE_STREAM,d=D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP):(l=!0,u=null,s=C.default.Names.LIVE_STREAM,d=a?D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE:null!=n?D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD:D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD),o(A.default,{text:d},void 0,o(S.default,{"aria-label":d,disabled:l,onClick:u,look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,className:U.default.iconButton,innerClassName:U.default.buttonInner},void 0,o(C.default,{name:s,color:w.Colors.WHITE,className:U.default.actionIcon})))},t.prototype.renderInviteButton=function(){return this.isJoinableActivity()?o(A.default,{text:D.default.Messages.INVITE_EMBED_INVITE_TO_JOIN},void 0,o(S.default,{"aria-label":D.default.Messages.INVITE_EMBED_INVITE_TO_JOIN,look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,className:U.default.iconButton,innerClassName:U.default.buttonInner,onClick:this.handleClickInviteButton},void 0,o(C.default,{name:C.default.Names.INVITE,color:w.Colors.WHITE,className:U.default.actionIcon}))):null},t.prototype.renderActions=function(){var e=this.renderGoLiveButton(),t=this.renderInviteButton();return null==e&&null==t?null:o(T.default,{grow:0,align:T.default.Align.STRETCH,direction:T.default.Direction.HORIZONTAL,className:U.default.actions},void 0,e,t)},t.prototype.render=function(){var e=this.props,t=e.inActivityPanelExperiment,n=e.inGoLiveExperiment,r=e.settingsGame,a=e.application;if(!(t&&this.isJoinableActivity()||n))return null;if(null==r)return null;var i=r.name;return o("div",{className:U.default.panel},void 0,o("div",{className:U.default.body},void 0,o(I.default,{className:U.default.gameIcon,game:a}),o("div",{className:U.default.gameNameWrapper},void 0,o(N.default,{title:i,weight:N.default.Weights.MEDIUM,className:U.default.gameName},void 0,i)),this.renderActions()))},t}(a.PureComponent);F.displayName="ActivityPanelGameCard",t.default=l.default.connectStores([E.default,d.default,f.default,p.default,g.default,h.default,y.default,m.default,v.default,_.default],function(e){var t=e.guildId,n=f.default.getId(),r=_.default.getSettingsGame(),o=c.default.getChannel(v.default.getChannelId()),a=d.default.getActiveStream(),i=!1;if(null!=o)i=R.canStreamInChannel(n,o,!1);else if(null!=t){i=R.getStreamEligibleChannels(n,h.default.getChannels(t)).length>0}return{inActivityPanelExperiment:E.default.inExperiment,inGoLiveExperiment:g.default.inExperiment(t),settingsGame:r,application:null!=r?p.default.getGameBySettingGame(r):null,activity:null!=n?m.default.getPrimaryActivity(n):null,isStreaming:null!=a&&a.ownerId===n,inVoiceChannel:null!=o,canStream:i,stream:a}})(F),e.exports=t.default},7589:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=j(n(17)),l=j(n(38)),u=j(n(6)),s=j(n(4)),d=n(57),f=j(n(452)),c=j(n(160)),p=n(867),h=j(n(22)),y=j(n(43)),m=j(n(111)),v=j(n(184)),_=j(n(64)),E=j(n(15)),g=j(n(134)),S=n(5979),T=n(128),I=j(T),C=j(n(450)),N=j(n(152)),A=j(n(5988)),O=j(n(306)),b=j(n(222)),M=j(n(6007)),R=j(n(313)),P=j(n(129)),L=j(n(6063)),w=n(829),D=n(863),U=j(n(9)),k=n(6052),G=j(n(13)),x=j(n(899)),F=j(n(5795));function j(e){return e&&e.__esModule?e:{default:e}}var B=(0,D.cachedFunction)(function(e,t){var n={};return(0,u.default)(e).forEach(function(e){var r=e.channelId,o=e.userId;if(null!=r){var a=n[r];null==a?n[r]=[o]:o===t?a.unshift(o):a.push(o)}}),n});function H(e){var t=e.children;return o(C.default,{editable:!0,className:F.default.card},void 0,t)}function V(e){var t,n=e.channel,r=e.users,a=e.selected,l=void 0!==a&&a,u=null!=r&&r.length>0?o(L.default,{users:r.map(function(e){return E.default.getUser(e)}),max:5,size:S.AvatarSizes.ACTIVITY_FEED_24,className:F.default.voiceUserList}):null;return o("div",{className:(0,i.default)(F.default.channelInfo,(t={},t[F.default.selected]=l,t))},void 0,o(O.default,{name:n.getTitleIcon(),className:F.default.channelIcon}),o("div",{className:F.default.channelName},void 0,n.name),u)}H.displayName="RowCard",V.displayName="RadioItem";var Y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r.close=function(){(0,r.props.onClose)()},r.handleScroll=function(e){r.setState({topSeparator:e.getScrollbarOffset()>0,bottomSeparator:!e.isScrolledToBottom()})},r.handleSelectChannel=function(e){var t=e.value;r.setState({selectedChannelId:t})},r.handleGoLive=function(){var e=r.props,t=e.settingsGame,n=e.guildId,o=e.currentVoiceChannel;(0,l.default)(null!=t,"Received null settingsGame");var a=r.getTargetChannelID();(0,l.default)(null!=a,"Received null target channel ID");var i=n;if(null==i){var u=h.default.getChannel(a);null!=u&&(i=u.getGuildId())}(0,l.default)(null!=i,"Could not find guild ID for channel"),null==o&&c.default.selectVoiceChannel(i,a);var s=U.default.getDesktopSourceFromPid(t.pid);f.default.setDesktopSource(s,720,30,!0,d.MediaEngineContextTypes.STREAM),(0,p.startStream)(i,a),r.close()};var o=n.voiceChannels;return r.state={selectedChannelId:o.length>0?o[0].id:null,topSeparator:!1,bottomSeparator:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getTargetChannelID=function(){var e=this.props.currentVoiceChannel,t=this.state.selectedChannelId;return null!=e?e.id:t},t.prototype.renderGame=function(){var e=this.props,t=e.settingsGame,n=e.application;return null==t?null:o(w.FormItem,{title:G.default.Messages.GO_LIVE_MODAL_APPLICATION_FORM_TITLE,className:F.default.modalContent,titleClassName:F.default.formItemTitle},void 0,o(H,{},void 0,o(A.default,{game:n,size:A.default.Sizes.XSMALL,className:F.default.gameIcon}),t.name))},t.prototype.renderCurrentChannel=function(e){var t=this.props,n=t.currentUserId,r=t.voiceStates,a=B(r,n)[e.id];return o(w.FormItem,{title:G.default.Messages.GO_LIVE_MODAL_CURRENT_CHANNEL_FORM_TITLE,className:F.default.modalContent,titleClassName:F.default.formItemTitle},void 0,o(H,{},void 0,o(V,{channel:e,users:a})))},t.prototype.renderChannelSelect=function(){var e,t=this.props,n=t.currentUserId,r=t.voiceChannels,l=t.voiceStates,u=this.state,s=u.selectedChannelId,d=u.topSeparator,f=u.bottomSeparator,c=B(l,n),p=r.map(function(e){return{name:o(V,{channel:e,users:c[e.id],selected:e.id===s}),value:e.id}});return o(a.Fragment,{},void 0,o("div",{className:(0,i.default)(F.default.channelSelectFormTitle,(e={},e[x.default.separator]=d,e))},void 0,o(w.FormTitle,{className:F.default.formItemTitle},void 0,G.default.Messages.GO_LIVE_MODAL_SELECT_CHANNEL_FORM_TITLE)),o(R.default,{fade:!0,theme:R.default.Themes.GHOST_HAIRLINE,outerClassName:F.default.searchScroller,className:F.default.searchScrollerInner,onScroll:this.handleScroll,onUpdate:this.handleScroll},void 0,o(M.default,{options:p,value:s,itemInfoClassName:F.default.channelInfoWrapper,onChange:this.handleSelectChannel})),f?o("div",{className:F.default.scrollerBottomSeparator}):null)},t.prototype.renderHeader=function(){return o(b.default.Header,{separator:!1},void 0,o(N.default,{},void 0,o(w.FormTitle,{tag:w.FormTitle.Tags.H4},void 0,G.default.Messages.GO_LIVE_MODAL_TITLE),o(b.default.CloseButton,{onClick:this.close,className:F.default.modalCloseButton})))},t.prototype.renderBody=function(){var e=this.props.currentVoiceChannel;return o("div",{className:F.default.modalBody},void 0,o(P.default,{color:P.default.Colors.PRIMARY,size:P.default.Sizes.MEDIUM,weight:P.default.Weights.MEDIUM,className:F.default.modalContent},void 0,G.default.Messages.GO_LIVE_MODAL_DESCRIPTION),this.renderGame(),null!=e?this.renderCurrentChannel(e):this.renderChannelSelect())},t.prototype.renderFooter=function(){var e=null==this.props.settingsGame||null==this.getTargetChannelID();return o(b.default.Footer,{justify:N.default.Justify.BETWEEN},void 0,o(I.default,{disabled:e,onClick:this.handleGoLive},void 0,G.default.Messages.GO_LIVE_MODAL_CTA),o(I.default,{color:T.ButtonColors.PRIMARY,onClick:this.close},void 0,G.default.Messages.CANCEL))},t.prototype.render=function(){return o(b.default,{size:F.default.modalSize},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},t}(a.PureComponent);Y.displayName="GoLiveModal";var W=(0,D.cachedFunction)(k.getStreamEligibleChannels);t.default=s.default.connectStores([h.default,y.default,m.default,v.default,_.default,E.default,g.default],function(e){var t=e.guildId,n=_.default.getSettingsGame(),r=E.default.getCurrentUser(),o=v.default.getChannelId();return{settingsGame:n,application:null!=n?y.default.getGameBySettingGame(n):null,currentUserId:r.id,currentVoiceChannel:h.default.getChannel(o),voiceChannels:W(r,m.default.getChannels(t)),voiceStates:g.default.getVoiceStates(t)}})(Y),e.exports=t.default},7590:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(878)),l=y(n(446)),u=y(n(22)),s=y(n(15)),d=y(n(45)),f=y(n(7204)),c=n(0),p=y(n(13)),h=y(n(5797));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=200,_=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.close=function(){var e=r.props.onClose;null!=e&&e()},r.sendToChannel=function(e){var t=r.props,n=t.activity,o=t.onClose,a=e.record.id,l=u.default.getChannel(a);if(null!=l){switch(l.type){case c.ChannelTypes.DM:case c.ChannelTypes.GROUP_DM:d.default.transitionTo(c.Routes.CHANNEL(c.ME,l.id));break;case c.ChannelTypes.GUILD_TEXT:d.default.transitionTo(c.Routes.CHANNEL(l.guild_id,l.id))}setTimeout(function(){return i.default.sendActivityInvite({channelId:a,type:c.ActivityActionTypes.JOIN,activity:n,location:"Activity Panel- Invite to Join"}).then(o,o)},v)}},r.sendToUser=function(e){var t=r.props,n=t.activity,o=t.onClose,a=e.record.id;l.default.openPrivateChannel(s.default.getCurrentUser().id,a).then(function(){i.default.sendActivityInviteUser({userId:a,type:c.ActivityActionTypes.JOIN,activity:n,location:"Activity Panel- Invite to Join"}).then(o,o)})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.activity;return o(f.default,{title:p.default.Messages.USER_ACTIVITY_INVITE_TO_JOIN.format({name:e.name}),sendToChannel:this.sendToChannel,sendToUser:this.sendToUser,onClose:this.close,className:h.default.modal})},t}(a.PureComponent);_.displayName="UserActivityInviteModal",t.default=_,e.exports=t.default},7591:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=De(n(17)),u=De(n(462)),s=De(n(4)),d=De(n(446)),f=De(n(6139)),c=n(475),p=n(307),h=De(n(6113)),y=De(n(832)),m=De(n(157)),v=De(n(80)),_=De(n(861)),E=De(n(5354)),g=De(n(12)),S=De(n(841)),T=De(n(6396)),I=De(n(22)),C=De(n(6142)),N=De(n(6389)),A=De(n(43)),O=De(n(232)),b=De(n(6178)),M=De(n(28)),R=De(n(6345)),P=De(n(228)),L=De(n(852)),w=De(n(153)),D=De(n(132)),U=De(n(6078)),k=De(n(51)),G=De(n(155)),x=De(n(35)),F=De(n(15)),j=De(n(6616)),B=De(n(134)),H=De(n(7592)),V=De(n(221)),Y=n(5996),W=De(Y),K=De(n(306)),z=De(n(6055)),$=De(n(444)),q=De(n(129)),X=De(n(110)),Q=n(6027),J=n(109),Z=De(n(244)),ee=De(n(319)),te=De(n(45)),ne=De(n(6046)),re=n(468),oe=De(n(6874)),ae=De(n(7593)),ie=De(n(7595)),le=De(n(7596)),ue=De(n(7597)),se=De(n(6074)),de=De(n(6878)),fe=De(n(6879)),ce=De(n(6101)),pe=De(n(6915)),he=De(n(7681)),ye=De(n(7234)),me=De(n(7685)),ve=De(n(6436)),_e=De(n(6920)),Ee=De(n(7687)),ge=De(n(7719)),Se=De(n(5983)),Te=De(n(7720)),Ie=n(6042),Ce=De(Ie),Ne=De(n(6080)),Ae=De(n(5352)),Oe=De(n(7237)),be=De(n(7721)),Me=De(n(6952)),Re=n(0),Pe=De(n(13)),Le=De(n(317)),we=De(n(5496));function De(e){return e&&e.__esModule?e:{default:e}}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function xe(e){e.preventDefault()}var Fe=/^\+(?!\w+):?(?!:)(\w+)?:?$/,je=function(e){function t(){var n,r;Ue(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ke(this,e.call.apply(e,[this].concat(a))),r.handleBlur=function(e){r.props.channel.toString()!==e.currentTarget.value&&d.default.setName(r.props.channel.id,e.currentTarget.value)},ke(r,n)}return Ge(t,e),t.prototype.render=function(){return a(Te.default,{minLen:1,maxLen:100,className:we.default.channelName,value:this.props.channel.toString(),onBlur:this.handleBlur})},t}(i.Component);je.displayName="ChannelName";var Be=function(e){function t(){var n,r;Ue(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=ke(this,e.call.apply(e,[this].concat(i))),r.renderHeader=function(){return a(X.default,{tag:X.default.Tags.H4},void 0,r.props.channel.toString(!0))},ke(r,n)}return Ge(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.onClose;return a(Oe.default,{selectable:!0,onClose:n,renderHeader:this.renderHeader},void 0,a(q.default,{selectable:!0,size:q.default.Sizes.MEDIUM,color:q.default.Colors.PRIMARY,style:{paddingBottom:20}},void 0,Z.default.parseTopic(t.topic,!0,{channelId:t.id})))},t}(i.Component);Be.displayName="ChannelTopicModal";var He=function(e){function t(){var n,r;Ue(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ke(this,e.call.apply(e,[this].concat(a))),r._mouseDown=!1,r.handleOpenTopic=function(e){!(e.target.matches("a")||e.target.parentNode.matches("a")||"highlight"===e.target.className||"highlight"===e.target.parentNode.className)&&v.default.push(Be,r.props)},r.onMouseDown=function(){r._mouseDown=!0},r.onMouseMove=function(){r._mouseDown&&(r._mouseDown=!1)},r.onMouseUp=function(e){r._mouseDown&&e.button!==Re.MouseButtons.SECONDARY&&r.handleOpenTopic(e),r._mouseDown=!1},ke(r,n)}return Ge(t,e),t.prototype.render=function(){var e=this,t=this.props.channel;return null==t.topic||0===t.topic.length?a("div",{className:we.default.noTopic}):t.type===Re.ChannelTypes.GROUP_DM?null:a("div",{className:(0,l.default)(we.default.topic,we.default.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:function(t){return e.props.onContextMenu(t,Re.ContextMenuTypes.CHANNEL_TOPIC)}},void 0,Z.default.parseTopic(t.topic,!0,{channelId:t.id}))},t}(i.Component);He.displayName="ChannelTopic";var Ve=function(e){function t(n){Ue(this,t);var r=ke(this,e.call(this,n));return Ye.call(r),r.state={textValue:C.default.getDraft(n.channel.id),value:""},r}return Ge(t,e),t.prototype.componentDidMount=function(){C.default.addChangeListener(this.draftDidChange)},t.prototype.componentWillUnmount=function(){C.default.removeChangeListener(this.draftDidChange)},t.prototype.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props)},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.focused,r=e.onResize,o=e.onBlur,l=e.onFocus,u=e.allowUnclaimed,s=Pe.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:t.toString(!0)}),d=t.isPrivate()?de.default:fe.default;return a("form",{onSubmit:xe},void 0,a(d,{channel:t,allowUnclaimed:u},t.id,a(Ce.default,{tutorialId:"writing-messages",position:Ie.TutorialIndicatorPositions.LEFT,offsetY:-50,offsetX:90},void 0,i.createElement(se.default,{ref:this.channelTextAreaRef,value:this.state.textValue,focused:n,className:we.default.channelTextArea,channel:t,placeholder:s,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:r,onFocus:l,onBlur:o,onKeyDown:this.handleKeyDown,disableAttachments:u,disableActivity:u,disableInvites:u,shouldRenderPremiumGiftButton:!0}))),a(_e.default,{channel:t}))},t}(i.PureComponent),Ye=function(){var e=this;this.channelTextAreaRef=i.createRef(),this.draftDidChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=e.state.textValue,r=C.default.getDraft(t.channel.id);n!==r&&e.setState({textValue:r},function(){if(n!==r){var t=e.props.onFocus;t&&t()}})},this.handleKeyDown=function(t){if(!(t.which!==Re.KeyboardKeys.ARROW_UP||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)&&0===e.state.textValue.length){t.preventDefault();var n=e.props.channel,r=P.default.getLastEditableMessage(n.id);r&&m.default.startEditMessage(n.id,r.id,r.content)}},this.handleTextareaChange=function(t,n){var r=e.props.channel.id;h.default.changeDraft(r,e.state.value),""===n||Fe.test(n)?ne.default.clear(r):ne.default.typing(r),S.default.getLayout(r)===Re.ChannelLayouts.NO_CHAT&&f.default.updateLayout(r,Re.ChannelLayouts.NORMAL),e.setState({textValue:n})},this.handleSendMessage=function(t){if(0===t.length)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var n=e.props,r=n.allowUnclaimed,o=n.channel;return r?((0,c.open)(!0),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):null!=e.channelTextAreaRef.current?(0,Q.applyChatRestrictions)(e.channelTextAreaRef.current,t,o).then(function(n){var r=n.valid,a=n.failureReason;return r?(ne.default.clear(o.id),m.default.sendMessage(o.id,ee.default.parse(o,t)),e.setState({textValue:""}),{shouldClear:!0,shouldRefocus:!0}):a===Re.MessageRestrictionTypes.SLOWMODE_COOLDOWN?(J.ComponentDispatch.dispatch(Re.ComponentActions.SHAKE_APP,{duration:200,intensity:2}),J.ComponentDispatch.dispatch(Re.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1}}):Promise.resolve({shouldClear:!1,shouldRefocus:!1})}};Ve.displayName="ChannelTextAreaForm";var We=s.default.connectStores([H.default,R.default,w.default],function(e){var t=e.guild,n=e.channel,r=!1;if(null!=t&&t.verificationLevel===Re.VerificationLevels.LOW){var o=R.default.getCheck(t.id);null!=o&&o.notClaimed&&w.default.can(Re.Permissions.SEND_MESSAGES,n)&&(r=H.default.shouldAllowUnclaimedChat())}return{allowUnclaimed:r}})(Ve),Ke=function(e){function t(n){Ue(this,t);var r=ke(this,e.call(this,n));return Je.call(r),r.state={topicExpanded:!1,textAreaFocused:!1},r}return Ge(t,e),t.prototype.componentDidMount=function(){J.ComponentDispatch.subscribe(Re.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),J.ComponentDispatch.subscribe(Re.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur),this.getApplicationsForGuild()},t.prototype.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus()),this.props.channel&&e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.props.section!==e.section&&this.resizeChat(),null==this.props.channel||null!=e.channel&&e.channel.id===this.props.channel.id||this.getApplicationsForGuild();var t=this.props,n=t.channel,r=t.hasCall;null!=n&&n.type===Re.ChannelTypes.GUILD_VOICE&&!r&&e.hasCall&&te.default.replaceWith(Re.Routes.CHANNEL(n.guild_id))},t.prototype.componentWillUnmount=function(){J.ComponentDispatch.unsubscribe(Re.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),J.ComponentDispatch.unsubscribe(Re.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur)},t.prototype.getApplicationsForGuild=function(){var e=this.props.channel;if(null!=e&&e.type===Re.ChannelTypes.GUILD_NEWS&&w.default.can(Re.Permissions.SEND_MESSAGES,e)){var t=e.getGuildId();null!=t&&null==A.default.getApplicationsForGuild(t)&&y.default.fetchApplications(t,e.id)}},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.hasCall,r=e.stream;return null!=r?a(be.default,{channel:t,stream:r}):!t||t.type===Re.ChannelTypes.GUILD_VOICE&&!n?this.renderEmptyChannel():a("div",{className:we.default.chat},void 0,a(u.default,{title:t.toString(!0)}),this.renderHeaderBar(),this.renderCall(),a("div",{className:we.default.content},void 0,this.renderChat(),this.renderSidebar()))},t}(i.PureComponent),ze=a(ue.default,{},"pins"),$e=a(ue.default,{},"pins"),qe=a(ie.default,{},"members"),Xe=a(ue.default,{},"pins"),Qe=a(ie.default,{},"members"),Je=function(){var e=this;this.getAnalyticsPage=function(){var t=e.props.channel;if(null==t)return null;switch(t.type){case Re.ChannelTypes.GUILD_NEWS:case Re.ChannelTypes.GUILD_TEXT:return Se.default.Pages.GUILD_CHANNEL;case Re.ChannelTypes.GROUP_DM:case Re.ChannelTypes.DM:return Se.default.Pages.DM_CHANNEL;default:return null}},this.resizeChat=function(){J.ComponentDispatch.dispatch(Re.ComponentActions.CHAT_RESIZE)},this.handleInputFocus=function(){(0,re.isFullScreen)()||e.setState({textAreaFocused:!0})},this.handleInputBlur=function(){(document.hasFocus()||e.props.hasModalOpen)&&e.setState({textAreaFocused:!1})},this.handleOpenProfile=function(){_.default.open(e.props.channel.getRecipientId(),e.props.channel.guild_id)},this.handleChannelContextMenu=function(t,n){var r=e.props,a=r.guild,l=r.channel;(0,p.openContextMenu)(t,function(e){return i.createElement(Ne.default,o({},e,{type:n,channel:l,guild:a}))})},this.handleUserContextMenu=function(t){var n=e.props.channel;(0,p.openContextMenu)(t,function(e){return i.createElement(Ae.default,o({},e,{type:Re.ContextMenuTypes.USER_CHANNEL_TITLE,user:F.default.getUser(n.getRecipientId()),selected:!0,channelId:n.id}))})},this.handleJumpToPresent=function(){P.default.getMessages(e.props.channel.id).hasMoreAfter&&J.ComponentDispatch.dispatch(Re.ComponentActions.SCROLLTO_PRESENT)},this.renderTitle=function(){var t,n=e.props,r=n.channel,o=n.hasVideo,i=n.showMobileIndicator,u=r.toString(),s=r.getTitleIcon(o);switch(r.type){case Re.ChannelTypes.DM:var d=r.getRecipientId();return a("div",{className:we.default.titleText,onContextMenu:e.handleUserContextMenu},void 0,a(V.default,{tag:"span",className:(0,l.default)(we.default.channelName,we.default.private),onClick:e.handleOpenProfile},void 0,a(K.default,{name:s,width:16,height:16,className:we.default.channelIcon,background:we.default.background}),u),a(ve.default,{userId:d,className:(0,l.default)(we.default.status,(t={},t[we.default.statusWithMobile]=i,t)),hideTooltip:!0}),i?a(z.default,{className:we.default.mobileIndicator,invertTooltip:!0}):null);case Re.ChannelTypes.GROUP_DM:return r.isManaged()?a("div",{className:(0,l.default)(we.default.titleText,we.default.groupDMManaged)},void 0,a("span",{className:we.default.channelName},void 0,u)):a("div",{className:(0,l.default)(we.default.titleText,we.default.groupDM)},void 0,a(je,{channel:r},"channel-"+r.id));case Re.ChannelTypes.GUILD_NEWS:case Re.ChannelTypes.GUILD_TEXT:case Re.ChannelTypes.GUILD_VOICE:return a("div",{className:we.default.titleText,onContextMenu:function(t){return e.handleChannelContextMenu(t,Re.ContextMenuTypes.CHANNEL_TITLE)}},void 0,a("span",{className:we.default.channelName},void 0,a(K.default,{name:s,width:16,height:16,className:we.default.channelIcon,background:we.default.background}),u));default:return null}},this.renderTopic=function(){var t=e.props,n=t.channel,r=t.guild;switch(n.type){case Re.ChannelTypes.DM:return a(oe.default,{channel:n},n.id);case Re.ChannelTypes.GUILD_NEWS:case Re.ChannelTypes.GUILD_TEXT:case Re.ChannelTypes.GUILD_VOICE:case Re.ChannelTypes.GROUP_DM:return a(He,{channel:n,guild:r,onContextMenu:e.handleChannelContextMenu},n.id);default:return null}},this.renderHeaderToolbar=function(){var t=e.props,n=t.channel,r=t.isLurking,o=[];switch(n.type){case Re.ChannelTypes.DM:o.push(a(ge.default,{channel:n},"calls")),o.push(ze),o.push(a(ye.default,{channel:n,tooltip:Pe.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Re.ChannelTypes.GROUP_DM:if(o.push(a(ge.default,{channel:n},"calls")),o.push($e),!n.isManaged()){var i=Pe.default.Messages.GROUP_DM_ADD_FRIENDS;o.push(a(ye.default,{channel:n,tooltip:i},"invite"))}o.push(qe);break;case Re.ChannelTypes.GUILD_NEWS:case Re.ChannelTypes.GUILD_TEXT:r||o.push(a(le.default,{channel:n},"mute")),o.push(Xe),o.push(Qe)}return o},this.renderHeaderBar=function(){var t=e.props,n=t.channel,r=t.theme,o=t.hasCall,u=t.guildId,s=t.isGuest;return a("div",{className:(0,l.default)(we.default.titleWrapper,"theme-"+r)},void 0,a(ce.default,{title:a(i.Fragment,{},void 0,e.renderTitle(),e.renderTopic()),guildId:u,channelId:n.id,renderToolbar:e.renderHeaderToolbar,className:o?we.default.titleCall:we.default.title,isGuest:s}))},this.renderCall=function(){var t=e.props.channel;switch(t.type){case Re.ChannelTypes.GUILD_VOICE:case Re.ChannelTypes.DM:case Re.ChannelTypes.GROUP_DM:return a(Ee.default,{channel:t,onResize:e.resizeChat},t.id);default:return null}},this.renderChat=function(){var t=e.props,n=t.channel,r=t.nsfwAgree,o=t.guild,i=e.state.textAreaFocused;return n.type===Re.ChannelTypes.GUILD_VOICE?null:!r&&n.isNSFW()?a(Me.default,{guild:o}):a(Se.default,{page:e.getAnalyticsPage()},void 0,a("div",{className:(0,l.default)(Le.default.spacer,Le.default.vertical),style:{position:"relative"}},void 0,a(pe.default,{channel:n},n.id),a(We,{focused:i,channel:n,guild:o,onResize:e.resizeChat,handleJumpToPresent:e.handleJumpToPresent,onFocus:e.handleInputFocus,onBlur:e.handleInputBlur})))},this.renderSidebar=function(){var t=e.props,n=t.searchId,r=t.channel,o=t.section,i=t.appTheme;if(o===Re.ChannelSections.MEMBERS)switch(r.type){case Re.ChannelTypes.GROUP_DM:return a(he.default,{channel:r,theme:i});case Re.ChannelTypes.GUILD_NEWS:case Re.ChannelTypes.GUILD_TEXT:return a(ae.default,{channel:r,theme:i})}else if(o===Re.ChannelSections.SEARCH)return a(me.default,{searchId:n});return null},this.renderEmptyChannel=function(){var t=void 0;return t=null!=e.props.channelId?a(Y.EmptyStateText,{},void 0,a($.default,{type:$.default.Type.SPINNING_CIRCLE})):a(Y.EmptyStateText,{note:Pe.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,Pe.default.Messages.CHANNELS_UNAVAILABLE_TITLE),a("div",{className:we.default.noChannel},void 0,a(W.default,{theme:e.props.theme},void 0,a(Y.EmptyStateImage,{darkSrc:n(7731),lightSrc:n(7732),width:272,height:222}),t))}};Ke.displayName="Channel",t.default=s.default.connectStores([I.default,M.default,k.default,G.default,N.default,L.default,T.default,U.default,S.default,b.default,j.default,B.default,D.default,x.default,O.default,g.default,E.default],function(){var e=k.default.getChannelId(),t=N.default.getEditingMessageId(),n=G.default.getGuildId(),r=S.default.getParticipants(e),o=I.default.getChannel(e),a=null!=o&&o.type===Re.ChannelTypes.DM&&D.default.isMobileOnline(o.getRecipientId()),i=E.default.getActiveStream();return{appTheme:x.default.theme,guildId:n,channelId:e,channel:o,isEditing:null!=t,hasModalOpen:L.default.hasModalOpen(),section:T.default.getSection(),guild:M.default.getGuild(n),searchId:U.default.getCurrentSearchId(),hasCall:r&&r.length>0,nsfwAgree:b.default.didAgree(n),theme:j.default.theme,hasVideo:null!=o&&B.default.hasVideo(n,o.id),showMobileIndicator:a,isLurking:null!=n&&O.default.isLurking(n),isGuest:g.default.isGuest(),stream:null!=i&&i.channelId===e?i:null}})(Ke),e.exports=t.default},7592:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=d(n(4)),i=d(n(1)),l=d(n(136)),u=d(n(58)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default],f)},t.prototype.getExperimentId=function(){return s.Experiments.CHAT_CLAIM_MODAL},t.prototype.getMetaData=function(){return{title:"Chat Claim Experiment",description:["Control: Off","Treatment 1: On"]}},t.prototype.getExperimentDescriptor=function(){return u.default.getEligibleExperiment(this.getExperimentId())},t.prototype.shouldAllowUnclaimedChat=function(){var e=this.getExperimentDescriptor();return null!=e&&(e.override||l.default.trigger(e),e.bucket===s.ExperimentBuckets.TREATMENT_1)},t}(a.default.Store))(i.default);l.default.register(c,((o={})[s.ExperimentTypes.USER]=((r={})[s.ExperimentBuckets.CONTROL]=function(){return null},r[s.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o)),t.default=c,e.exports=t.default},7593:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=M(n(308)),u=M(n(6)),s=M(n(309)),d=M(n(4)),f=M(n(328)),c=n(307),p=n(6189),h=n(6105),y=M(h),m=M(n(132)),v=M(n(6067)),_=M(n(154)),E=M(n(7206)),g=M(n(827)),S=M(n(181)),T=M(n(6617)),I=n(6042),C=M(I),N=M(n(5352)),A=M(n(5353)),O=n(0),b=M(n(5537));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=(0,l.default)({displayName:"ChannelMember",mixins:[d.default.StoreListenerMixin(v.default,_.default,m.default)],propTypes:{colorString:s.default.any,user:s.default.object.isRequired,channelId:s.default.string.isRequired,guildId:s.default.string.isRequired,status:s.default.oneOf(Object.values(O.StatusTypes))},shouldComponentUpdate:function(e,t){return!(0,f.default)(this.props,e,["channelId"])||!(0,f.default)(this.state,t)},getStateFromStores:function(){return{isTyping:v.default.isTyping(this.props.channelId,this.props.user.id),isFocused:_.default.isFocused(),showMobileIndicator:m.default.isMobileOnline(this.props.user.id)}},renderUserContextMenu:function(e){var t=this;(0,c.openContextMenu)(e,function(e){return i.createElement(N.default,a({},e,{type:O.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channelId}))})},renderUserPopout:function(e){return i.createElement(A.default,a({},e,{user:this.props.user,guildId:this.props.guildId,channelId:this.props.channelId}))},render:function(){var e=this.state,t=e.isFocused,n=e.isTyping,r=e.showMobileIndicator,a=this.props,i=a.colorString,l=a.isOwner,u=a.nick,s=a.user,d=a.activity,f=a.status;return o(g.default,{closeOnScroll:!1,render:this.renderUserPopout,position:g.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,o(E.default,{onContextMenu:this.renderUserContextMenu,shouldAnimateTypingIndicator:t,user:s,nick:u,status:f,activity:d,isOwner:l,colorString:i,darkenColor:f===O.StatusTypes.OFFLINE,isTyping:n,showMobileIndicator:r}))}}),L=function(e){var t=e.id,n=e.title,r=e.count;return t===O.StatusTypes.UNKNOWN?o("div",{className:b.default.membersGroup},void 0,o("div",{className:b.default.memberGroupsPlaceholder})):o("div",{className:b.default.membersGroup},void 0,n,"—",r)},w=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return n=r=R(this,e.call.apply(e,[this].concat(s))),r.setList=function(e){r._list=e},r.renderSection=function(e){var t=r.props.groups[e];return i.createElement(L,a({},t,{key:e}))},r.getRowProps=function(e,t){var n=r.props,o=n.groups;return n.rows[o[e].index+1+t]},r.renderRow=function(e,t){var n=r.props.channel,l=r.getRowProps(e,t);return null!=l&&l.type===h.MemberListRowTypes.MEMBER?i.createElement(P,a({key:l.user.id},l,{channelId:n.id,guildId:n.guild_id})):o(E.default,{},e+":"+t)},r.handleScroll=function(){return r.updateSubscription()},r.getDimensions=function(){var e=r._list;if(null==e)return{};var t=e.props.rowHeight,n=e.getContainerHeight();return{height:n,rowHeight:t,rowsVisible:Math.floor(n/t),y:e.getScrollTop()}},r.updateSubscription=u.default.debounce(function(){if(null!=r._list){var e=r.props.channel,t=r.getDimensions(),n=t.rowHeight,o=t.y,a=t.height;(0,p.subscribeChannelDimensions)(e.guild_id,e.id,o,a,n)}},50),r.handleScrollerStateUpdate=function(e){var t=e.items;if(r.lastReportedAnalyticsChannel!==r.props.channel.id){var n=r.getDimensions().rowsVisible;if(0!==n){var o=t.map(function(e){var t=e.section,n=e.row;return r.getRowProps(t,n)}).slice(0,n+1).filter(Boolean);if(0!==o.length){var i=o.reduce(function(e,t){return t.type!==h.MemberListRowTypes.MEMBER?e:(e.num_users_visible++,m.default.isMobileOnline(t.userId)&&e.num_users_visible_with_mobile_indicator++,e)},{num_users_visible:0,num_users_visible_with_mobile_indicator:0});r.lastReportedAnalyticsChannel=r.props.channel.id,S.default.trackWithMetadata(O.AnalyticEvents.MEMBER_LIST_VIEWED,a({},i))}}}},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version},t.prototype.componentDidMount=function(){this.updateSubscription()},t.prototype.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription()},t.prototype.render=function(){var e=this.props,t=e.groups,n=e.listId,r=e.theme;return o(C.default,{tutorialId:"whos-online",position:I.TutorialIndicatorPositions.LEFT,offsetYPercent:-50,offsetX:16,offsetY:16},void 0,o("div",{className:b.default.membersWrap},void 0,i.createElement(T.default,{key:n,ref:this.setList,className:b.default.members,fade:!0,paddingTop:0,theme:T.default.Themes.GHOST_HAIRLINE,sectionHeight:40,rowHeight:40,renderSection:this.renderSection,renderRow:this.renderRow,sections:t.map(function(e){return e.count}),onScroll:this.handleScroll,onScrollerStateUpdate:this.handleScrollerStateUpdate,outerClassName:b.default.scrollerWrap,backgroundColor:r===O.ThemeTypes.LIGHT?"#f3f3f3":O.Colors.PRIMARY_DARK_630})))},t}(i.Component);w.displayName="ChannelMembers",t.default=d.default.connectStores([y.default],function(e){var t=e.channel;return y.default.getProps(t.guild_id,t.id)})(w),e.exports=t.default},7594:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=n(5979),s=f(n(152)),d=f(n(5799));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=Object.freeze({SINGLE_AVATAR:"1",MULTIPLE_AVATAR:"2"}),h=((o={})[u.AvatarSizes.SMALL]=d.default.avatarSmall,o[u.AvatarSizes.LARGE]=d.default.avatarLarge,o),y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.placeholderMaxWidth=Math.floor(40*Math.random())+40+"%",c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.avatarSize,r=e.className;return t===p.MULTIPLE_AVATAR?a("div",{className:(0,l.default)(d.default.multiplePlaceholder,r)},void 0,a(s.default,{},void 0,a("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),a("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),a("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])})),a(s.default,{grow:1,className:d.default.mulitplePlaceholderUsername,style:{maxWidth:this.placeholderMaxWidth}})):a(s.default,{className:(0,l.default)(d.default.placeholder,r)},void 0,a("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])}),a(s.default,{grow:1,className:d.default.placeholderUsername,style:{maxWidth:this.placeholderMaxWidth}}))},t}(i.Component);y.defaultProps={type:p.SINGLE_AVATAR},y.Types=p,y.displayName="PlaceholderAvatarWithMessage",t.default=y,e.exports=t.default},7595:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(308))),i=h(n(4)),l=h(n(6382)),u=h(n(6396)),s=h(n(6236)),d=h(n(306)),f=h(n(442)),c=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"ChannelMembersButton",mixins:[i.default.StoreListenerMixin(u.default)],getStateFromStores:function(){return{section:u.default.getSection()}},handleClick:function(){l.default.toggleSection(c.ChannelSections.MEMBERS)},render:function(){return o(f.default,{text:p.default.Messages.MEMBER_LIST,position:f.default.Positions.BOTTOM},void 0,o(s.default.Icon,{name:d.default.Names.PEOPLE,onClick:this.handleClick,active:this.state.section===c.ChannelSections.MEMBERS}))}});t.default=y,e.exports=t.default},7596:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(308))),i=h(n(309)),l=h(n(4)),u=h(n(6054)),s=h(n(226)),d=h(n(6236)),f=h(n(306)),c=h(n(442)),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"ChannelMuteButton",mixins:[l.default.StoreListenerMixin(s.default)],propTypes:{channel:i.default.object.isRequired,legacy:i.default.bool},getDefaultProps:function(){return{legacy:!1,channel:i.default.object.isRequired}},getStateFromStores:function(){return{isMuted:s.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},UNSAFE_componentWillReceiveProps:function(e){this.setState({isMuted:s.default.isChannelMuted(e.channel.getGuildId(),e.channel.id)})},handleClick:function(){u.default.updateChannelOverrideSettings(this.props.channel.getGuildId(),this.props.channel.id,{muted:!this.state.isMuted})},render:function(){return o(c.default,{text:p.default.Messages.CHANNEL_MUTE_TOOLTIP,position:c.default.Positions.BOTTOM},void 0,o(d.default.Icon,{name:this.state.isMuted?f.default.Names.NOTIFICATION_BELL_OFF:f.default.Names.NOTIFICATION_BELL,onClick:this.handleClick}))}});t.default=y,e.exports=t.default},7597:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=I(n(308)),u=I(n(443)),s=I(n(4)),d=I(n(830)),f=I(n(22)),c=I(n(6178)),p=I(n(847)),h=I(n(315)),y=I(n(51)),m=I(n(6236)),v=I(n(306)),_=I(n(827)),E=I(n(442)),g=I(n(7598)),S=n(0),T=I(n(13));function I(e){return e&&e.__esModule?e:{default:e}}var C="CHANNEL_PINS_POPOUT",N=(0,l.default)({displayName:"ChannelPinsButtons",mixins:[u.default,s.default.StoreListenerMixin(p.default,f.default,h.default,y.default,c.default)],getStateFromStores:function(){var e=y.default.getChannelId(),t=f.default.getChannel(e);return{disabled:null==t||t.isNSFW()&&!c.default.didAgree(t.getGuildId()),open:p.default.isOpen(C),hasUnread:h.default.hasUnreadPins(e),channelId:e}},UNSAFE_componentWillUpdate:function(e,t){this.state.open&&t.channelId!==this.state.channelId&&d.default.close(C)},onJump:function(e){e.shiftKey||d.default.close(C)},renderChannelPinsPopout:function(e){return i.createElement(g.default,a({},e,{onJump:this.onJump,channel:f.default.getChannel(this.state.channelId)}))},render:function(){var e=this.state.disabled,t=o(E.default,{text:T.default.Messages.PINNED_MESSAGES,position:E.default.Positions.BOTTOM},void 0,o(m.default.Icon,{name:v.default.Names.PIN,disabled:e,showBadge:this.state.hasUnread}));return e?t:o(_.default,{animationType:_.default.Animations.NONE,uniqueId:C,position:_.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderChannelPinsPopout,subscribeTo:S.ComponentActions.TOGGLE_CHANNEL_PINS,closeOnScroll:!1,zIndexBoost:-1},void 0,t)}});t.default=N,e.exports=t.default},7598:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),v(n(308))),i=v(n(309)),l=v(n(443)),u=v(n(4)),s=v(n(6094)),d=v(n(6388)),f=v(n(315)),c=v(n(15)),p=v(n(6618)),h=v(n(6098)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,a.default)({displayName:"ChannelPins",propTypes:{channel:i.default.object.isRequired,onJump:i.default.func},mixins:[u.default.StoreListenerMixin(d.default,f.default),l.default],fetchPins:function(e){s.default.ackPins(e.id),s.default.fetchPins(e.id)},UNSAFE_componentWillUpdate:function(e,t){t.hasUnreadPins&&!this.state.hasUnreadPins&&s.default.ackPins(this.props.channel.id)},getStateFromStores:function(){var e=d.default.getPinnedMessages(this.props.channel.id),t=f.default.hasUnreadPins(this.props.channel.id);return{messages:e&&e.messages,loading:!e||!e.messages||e.loading,hasUnreadPins:t}},handleUnpin:function(e,t){null!=e&&(t.shiftKey?s.default.unpinMessage(this.props.channel,e.id):h.default.confirmUnpin(this.props.channel,e))},getProTip:function(){var e=this.props.channel,t=m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL;if(e.isPrivate())if(e.type===y.ChannelTypes.DM){var n=c.default.getUser(e.getRecipientId()).username;t=m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:n})}else t=m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM;return t},renderEmptyState:function(e){var t=m.default.Messages.NO_PINS_IN_CHANNEL;this.props.channel.isPrivate()&&(t=m.default.Messages.NO_PINS_IN_DM);var r=e===y.ThemeTypes.LIGHT?n(7599):n(7600);return o(p.default.EmptyStateCenter,{msg:t,image:r})},renderHeader:function(){return o(p.default.Header,{title:m.default.Messages.PINNED_MESSAGES})},render:function(){var e=this.state,t=e.messages,n=e.loading;return o(p.default,{onFetch:this.fetchPins,channel:this.props.channel,messages:t,loading:n,analyticsName:"Channel Pins",onCloseMessage:this.handleUnpin,onJump:this.props.onJump,getProTip:this.getProTip,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})}});t.default=_,e.exports=t.default},7599:function(e,t,n){e.exports=n.p+"03c7541028afafafd1a9f6a81cb7f149.svg"},7600:function(e,t,n){e.exports=n.p+"6793e022dc1b065b21f12d6df02f91bd.svg"},7681:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=O(n(308)),u=O(n(309)),s=O(n(443)),d=O(n(4)),f=n(307),c=O(n(131)),p=O(n(132)),h=O(n(91)),y=O(n(6067)),m=O(n(15)),v=O(n(154)),_=O(n(7206)),E=O(n(827)),g=O(n(313)),S=n(7682),T=O(n(5352)),I=O(n(5353)),C=n(0),N=O(n(13)),A=O(n(5537));function O(e){return e&&e.__esModule?e:{default:e}}var b=(0,l.default)({displayName:"PrivateChannelRecipient",mixins:[d.default.LazyStoreListenerMixin(p.default,h.default,y.default,v.default),s.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props,t=e.user,n=e.channel,r=void 0,o=void 0;return(h.default.isFriend(t.id)||t===m.default.getCurrentUser())&&(r=p.default.getStatus(t.id),o=p.default.getPrimaryActivity(t.id)),{typing:null!=y.default.getTypingUsers(n.id)[t.id],isFocused:v.default.isFocused(),status:r,activity:o,showMobileIndicator:p.default.isMobileOnline(t.id)}},handleContextMenu:function(e){var t=this.props,n=t.user,r=t.channel;(0,f.openContextMenu)(e,function(e){return i.createElement(T.default,a({},e,{type:C.ContextMenuTypes.USER_GROUP_DM,user:n,channelId:r.id}))})},renderUserPopout:function(e){var t=this.props,n=t.user,r=t.channel;return i.createElement(I.default,a({},e,{user:n,channelId:r.id}))},render:function(){var e=this.props,t=e.user,n=e.channel,r=this.state,a=r.status,i=r.activity,l=r.typing,u=r.isFocused,s=r.showMobileIndicator;return o(E.default,{closeOnScroll:!1,render:this.renderUserPopout,position:E.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,o(_.default,{user:t,isOwner:t.id===n.ownerId,ownerTooltipText:N.default.Messages.GROUP_OWNER,shouldAnimateTypingIndicator:u,isTyping:l,status:a,activity:i,onContextMenu:this.handleContextMenu,showMobileIndicator:s},t.id))}}),M=(0,l.default)({displayName:"PrivateChannelRecipients",mixins:[d.default.LazyStoreListenerMixin(m.default)],propTypes:{channel:u.default.instanceOf(c.default).isRequired,theme:u.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{recipients:(0,S.getRecipients)(this.props.channel.recipients)}},UNSAFE_componentWillReceiveProps:function(e){var t=e.channel;this.setState({recipients:(0,S.getRecipients)(t.recipients)})},renderMembers:function(){var e=this.props.channel;return this.state.recipients.map(function(t){return i.createElement(b,a({},t,{channel:e}))})},render:function(){var e=this.state.recipients,t=this.props.theme;return o("div",{className:A.default.membersWrap},void 0,o(g.default,{className:A.default.members,fade:!0,theme:g.default.Themes.GHOST_HAIRLINE,backgroundColor:t===C.ThemeTypes.LIGHT?"#f3f3f3":C.Colors.PRIMARY_DARK_630,outerClassName:A.default.scrollerWrap},void 0,o("h2",{className:A.default.membersGroup},void 0,N.default.Messages.MEMBERS,"—",e.length),this.renderMembers()))}});t.default=M,e.exports=t.default},7682:function(e,t,n){"use strict";t.__esModule=!0,t.getRecipients=function(e){return(0,r.default)(e).map(o.default.getUser).filter(function(e){return null!=e}).unshift(o.default.getCurrentUser()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return{key:e.id,user:e}}).value()};var r=a(n(6)),o=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}},7683:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={search:function(e){a.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:e})},clear:function(){a.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:""})},select:function(e){a.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT,row:e})},addUser:function(e){a.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_ADD_USER,userId:e})},removeUser:function(e){a.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER,userId:e})}},e.exports=t.default},7684:function(e,t,n){"use strict";t.__esModule=!0;var r=h(n(6)),o=h(n(4)),a=h(n(1)),i=h(n(131)),l=h(n(6381)),u=h(n(22)),s=h(n(91)),d=h(n(51)),f=h(n(6203)),c=h(n(15)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=1e3,m=void 0,v=!1,_="",E=0,g=[],S=!1,T=new Set;function I(){_="",E=0,g=[],T=new Set,v=!1}function C(e){_=e,E=0,A()}function N(){var e=d.default.getChannelId();return null!=e?u.default.getChannel(e):null}function A(){if(!v)return!1;if(0===_.trim().length)return null!=m&&m.clearQuery(),g=function(){var e=s.default.getFriendIDs(),t=N();null!=t&&(e=e.filter(function(e){return!t.recipients.includes(e)}));return e=e.reduce(function(e,t){var n=c.default.getUser(t);return null==n?e:(e.push({user:n}),e)},[]).sort(b)}(),!0;var e,t,n,r=N(),o=null!=r?r.recipients:[];return null!=m&&m.setQuery(_,{friends:!0},o,null,(e=l.default.getFrequently().filter(function(e){return e instanceof i.default&&e.type===p.ChannelTypes.DM}),t=Math.max.apply(Math,e.map(function(e){var t=e.id;return l.default.getScore(t)})),n={},e.forEach(function(e){var r=l.default.getScore(e.id),o=e.getRecipientId(),a=s.default.isFriend(o)?.2:0,i=u.default.getDMFromUserId(o)?.1:0;n[o]=1+r/t+a+i}),n)),!1}function O(){if(!v)return!1;var e=S;return(S=r.default.some(s.default.getRelationships(),function(e){return e===p.RelationshipTypes.FRIEND}))!==e}function b(e,t){return e.user.usernameLowerCase.localeCompare(t.user.usernameLowerCase)}function M(e){var t=e.results;v&&""!==_&&(g=t.map(function(e){var t=e.user,n=e.id,r=e.score,o=e.comparator;return{user:null!=t?t:c.default.getUser(n),score:r,comparator:o}}),L.emitChange())}function R(e){if((e.type===p.ActionTypes.POPOUT_OPEN?e.popout.key:e.key)!==p.NEW_GROUP_DM_POPOUT_ID)return!1;v=!0,O(),m=f.default.getSearchContext(M,y),C("")}function P(e){if(e.key!==p.NEW_GROUP_DM_POPOUT_ID)return!1;null!=m&&(m.destroy(),m=null),I()}var L=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default,u.default,s.default),this.syncWith([c.default,u.default],A),this.syncWith([s.default],O)},t.prototype.getState=function(){return{query:_,selectedRow:E,selectedUsers:T,results:g,hasFriends:S}},t}(o.default.Store))(a.default,{CONNECTION_OPEN:function(e){I()},CHANNEL_SELECT:function(e){if(null!=e.guildId)return!1;var t=v;I(),v=t,A()},POPOUT_OPEN:R,MODAL_PUSH:R,POPOUT_CLOSE:P,MODAL_POP:P,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){C(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){E=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;T.add(t),T=new Set(T)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;T.delete(t),T=new Set(T)}});t.default=L,e.exports=t.default},7685:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=G(n(2)),l=k(n(17)),u=k(n(308)),s=k(n(6)),d=k(n(309)),f=k(n(443)),c=k(n(4)),p=k(n(183)),h=k(n(318)),y=k(n(157)),m=G(n(6400)),v=k(n(22)),_=k(n(91)),E=k(n(6078)),g=k(n(51)),S=k(n(35)),T=k(n(311)),I=k(n(221)),C=k(n(827)),N=k(n(313)),A=k(n(7686)),O=k(n(444)),b=k(n(442)),M=k(n(181)),R=k(n(314)),P=k(n(45)),L=k(n(6118)),w=n(0),D=k(n(13)),U=k(n(5803));function k(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B="HIT_REF",H=function(e){var t,n,r=e.searchNext,o=e.searchPrevious,i=e.offset,u=e.totalResults,s=e.pageLength,d=Math.ceil(u/s),f=i/s+1,c=f.toLocaleString(),p=d.toLocaleString();if(1===d)return null;var h=f>1,y=f<d;return a("div",{className:U.default.pagination},void 0,a(I.default,{onClick:h?o:null,className:(0,l.default)(U.default.paginationPrevious,(t={},t[U.default.disabled]=!h,t)),"aria-label":D.default.Messages.PAGINATION_PREVIOUS}),D.default.Messages.PAGINATION_PAGE_OF.format({page:c,totalPages:p}),a(I.default,{onClick:y?r:null,className:(0,l.default)(U.default.paginationNext,(n={},n[U.default.disabled]=!y,n)),"aria-label":D.default.Messages.PAGINATION_NEXT}))};H.displayName="Pagination";var V=function(e){var t=e.searchMode,n=e.searchByMode,r=e.totalResults,o=e.isSearching,i=e.isIndexing,u=e.documentsIndexed,d=(0,s.default)(w.SearchModes).values().map(function(e){var r,o=void 0;switch(e){case w.SearchModes.RECENT:o=D.default.Messages.SEARCH_RECENT;break;case w.SearchModes.RELEVANT:o=D.default.Messages.SEARCH_RELEVANT;break;default:o=null}return a(I.default,{className:(0,l.default)(U.default.tab,(r={},r[U.default.selected]=t===e,r)),onClick:n.bind(null,e)},e,o)}).value(),f=void 0;if(o)f=D.default.Messages.SEARCHING;else if(i)f=a(T.default,{href:R.default.getArticleURL(w.HelpdeskArticles.SEARCH_INDEXING)},void 0,D.default.Messages.STILL_INDEXING);else{var c=r.toLocaleString();f=D.default.Messages.TOTAL_RESULTS.format({count:c})}var p=void 0;return(i||o)&&(p=a("div",{className:U.default.spinnerWrapper},void 0,a(O.default,{type:O.default.Type.SPINNING_CIRCLE,className:U.default.spinner,itemClassName:U.default.spinnerPath}))),i&&!o&&(f=a(b.default,{text:D.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:u})},void 0,a("div",{className:U.default.totalResultsWrapper},void 0,f,p)),p=null),a("div",{className:U.default.searchHeader},void 0,a("div",{className:U.default.totalResults},void 0,f,p),d)};V.displayName="SearchHeader";var Y=function(e){function t(){var n,r;x(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=F(this,e.call.apply(e,[this].concat(a))),r.autoAnalytics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=r.props.searchAnalyticsId){var t=0,n=0,o=0,a=0;r.props.searchResults&&(0,s.default)(r.props.searchResults).flatten().filter(function(e){return e.hit}).forEach(function(e){var r=e.message;r.content&&(t++,/https?:\/\/[^\s]+/.test(r.content)&&a++),r.embeds&&r.embeds.length&&o++,r.attachments&&r.attachments.length&&n++}),M.default.trackWithMetadata(w.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:r.props.searchType,search_id:r.props.searchAnalyticsId,prev_search_id:e!==r.props.searchAnalyticsId?e:null,is_error:r.props.searchHasError,limit:r.props.searchLimit,offset:r.props.searchOffset,page:Math.floor(r.props.searchOffset/r.props.searchLimit)+1,total_results:r.props.searchTotalResults,page_results:r.props.searchResults?r.props.searchResults.length:null,is_indexing:r.props.searchIsIndexing,page_num_messages:t,page_num_links:a,page_num_embeds:o,page_num_attach:n})}},F(r,n)}return j(t,e),t.prototype.componentDidMount=function(){this.autoAnalytics()},t.prototype.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)},t.prototype.render=function(){return null},t}(i.Component);Y.displayName="SearchResultsViewedAutoAnalytics";var W=function(e){var t=e.children;return a("div",{className:U.default.emptyResultsWrap},void 0,a("div",{className:U.default.emptyResultsContent},void 0,t))};W.displayName="EmptyResults";var K=function(e){function t(){var n,r;x(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=F(this,e.call.apply(e,[this].concat(i))),r.state={expanded:!1},r.getDOMRect=function(e){return e.getClientRects()[0]},r.fixScroll=function(){r.state.expanded;var e=r._height;r._height=r.getDOMRect(r.refs[B]).top;var t=r.props.scrollTo;t(e-r._height)},r.renderControlButtons=function(e){var t=e.messages[0];return a("div",{className:U.default.actionButtons},void 0,a(I.default,{className:U.default.jumpButton,onClick:r.props.onJump.bind(null,t)},void 0,D.default.Messages.JUMP))},r.expand=function(){r.setState(function(e){var t=!e.expanded;return t&&M.default.trackWithMetadata(w.AnalyticEvents.SEARCH_RESULT_EXPANDED,{message_id:r.props.result.filter(function(e){return e.hit})[0].message.id,search_id:E.default.getAnalyticsId(r.props.searchId),limit:w.SEARCH_PAGE_SIZE,offset:r.props.searchOffset,page:Math.floor(r.props.searchOffset/w.SEARCH_PAGE_SIZE)+1,page_results:r.props.pageResultsLength,result_index:r.props.index}),{expanded:t}})},F(r,n)}return j(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e,t){this.state.expanded!==t.expanded&&(this._height=this.getDOMRect(this.refs[B]).top)},t.prototype.componentDidUpdate=function(e,t){this.state.expanded!==t.expanded&&this.fixScroll()},t.prototype.render=function(){var e,t=this,n=this.state.expanded,r=this.props,o=r.result,u=r.developerMode,s=r.renderEmbeds,d=!0,f=o.map(function(e,n){var r,f=e.message,c=e.hit,p=v.default.getChannel(f.channel_id),h=!(d=d&&!c)&&!c,y=void 0;return!c&&d&&o[n+1].hit?y=!0:c||d||!o[n-1].hit||(y=!0),null==p?null:i.createElement("div",{ref:c?B:null,className:(0,l.default)(U.default.searchResultMessage,(r={},r[U.default.hit]=c,r[U.default.sibling]=y,r[U.default.before]=d,r[U.default.after]=h,r)),key:f.id},a(L.default,{className:U.default.messageGroupCozy,messages:[f],channel:p,inlineAttachmentMedia:!0,inlineEmbedMedia:!0,renderEmbeds:s,renderEmbedsSmall:!0,developerMode:u,popoutPosition:C.default.Positions.LEFT,groupOption:c?t.renderControlButtons:null,onClickAnywhere:t.expand,disableInteractionLabel:D.default.Messages.VIEW_SURROUNDING_MESSAGES,canEdit:!1}))});return i.createElement("div",{ref:"MESSAGE_REF",className:(0,l.default)(U.default.searchResult,(e={},e[U.default.expanded]=n,e))},f)},t}(i.PureComponent);K.displayName="SearchResult";var z=a(A.default,{}),$=(0,u.default)({displayName:"SearchResults",mixins:[f.default,c.default.LazyStoreListenerMixin(E.default,S.default)],propTypes:{searchId:d.default.string.isRequired},getInitialState:function(){return o({searchMode:w.SearchModes.RECENT},this.getStateFromStores())},getStateFromStores:function(){var e=this.props.searchId;return this.getStateForSearchId(e)},UNSAFE_componentWillReceiveProps:function(e){var t=this.props.searchId;e.searchId!==t&&this.setState(this.getStateForSearchId(e.searchId))},componentDidUpdate:function(e,t){var n=t.showBlockedResults;if(this.state.showBlockedResults!==n){var r=this.refs.SCROLLER_REF;if(!r)return;r.scrollToBottom()}},getStateForSearchId:function(e){return o({searchId:e,theme:S.default.theme,renderEmbeds:S.default.renderEmbeds,developerMode:S.default.developerMode,searchAnalyticsId:E.default.getAnalyticsId(e),searchType:E.default.getSearchType()},E.default.getResultsState(e))},jumpToMessage:function(e){if(e.blocked)p.default.show({title:D.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:D.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:D.default.Messages.OKAY});else{var t=v.default.getChannel(e.channel_id),n=t?t.getGuildId():null;y.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:E.default.getAnalyticsId(this.state.searchId)}),P.default.transitionTo(w.Routes.CHANNEL(n,e.channel_id,e.id))}},selectChannel:function(e){e!==g.default.getChannelId()&&h.default.transitionToInviteChannelSync(e)},searchPrevious:function(){var e=this.props.searchId;this.state.isSearching||m.searchPreviousPage(e)},searchNext:function(){var e=this.props.searchId;this.state.isSearching||m.searchNextPage(e)},searchByMode:function(e){var t=this.props.searchId,n=this.state,r=n.searchMode,o=n.isSearching;e===r||o||(M.default.trackWithMetadata(w.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:E.default.getAnalyticsId(this.props.searchId),new_sort_type:e}),m.searchByMode(t,e),this.setState({searchMode:e}))},toggleShowBlockedMessages:function(){var e=this.state,t=e.searchId,n=e.showBlockedResults;m.setShowBlockedResults(t,!n)},renderHeader:function(){var e=this.state,t=e.searchMode,n=e.totalResults,r=e.isSearching,o=e.isHistoricalIndexing,i=e.documentsIndexed;return a(V,{searchMode:t,searchByMode:this.searchByMode,totalResults:n,isSearching:r,isIndexing:o,documentsIndexed:i})},renderResults:function(){var e=this,t=this.state,n=t.results,r=t.offset,o=t.renderEmbeds,i=t.developerMode,l=t.totalResults,u=t.isSearching,s=t.showBlockedResults;if(!n)return null;var d=[],f=void 0,c=n.length;n.forEach(function(t,n){var r=t.find(function(e){return e.hit});if(s||!r||!_.default.isBlocked(r.message.author.id)){var l=v.default.getChannel(t[0].message.channel_id),u=void 0;!l||f&&f.id===l.id||(u=a("div",{className:U.default.channelSeparator},"channel-separator-"+n,a(I.default,{tag:"span",className:U.default.channelName,onClick:e.selectChannel.bind(null,l.id)},void 0,l?l.toString(!0):"???")));var p=a(K,{scrollTo:e.scrollTo,searchId:e.props.searchId,renderEmbeds:o,developerMode:i,searchOffset:e.state.offset,pageResultsLength:c,result:t,index:n,onJump:e.jumpToMessage},"search-result-"+n);d.push(u,p),f=l}});var p=void 0;return u||(p=a(H,{searchPrevious:this.searchPrevious,searchNext:this.searchNext,offset:r,totalResults:l,pageLength:w.SEARCH_PAGE_SIZE})),a("div",{className:U.default.resultsWrapper},void 0,a("div",{className:U.default.searchResults},void 0,d,this.renderResultsBlocked()),p)},renderResultsBlocked:function(){var e=this.state,t=e.resultsBlocked,n=e.showBlockedResults;if(!t)return null;var r=n?D.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:t}):D.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:t});return a("button",{className:U.default.resultsBlocked,onClick:this.toggleShowBlockedMessages},void 0,a("div",{className:U.default.resultsBlockedImage}),a("div",{className:U.default.resultsBlockedText},void 0,r))},renderIndexing:function(){var e=E.default.getSearchType(this.props.searchId)===w.SearchTypes.GUILD?D.default.Messages.SEARCH_GUILD_STILL_INDEXING:D.default.Messages.SEARCH_DM_STILL_INDEXING;return a(W,{},void 0,z,a("div",{className:(U.default.emptyResultsText,U.default.stillIndexing)},void 0,e))},renderNoResults:function(){var e,t,n=this.state.showNoResultsAlt,r=n?D.default.Messages.SEARCH_NO_RESULTS_ALT:D.default.Messages.SEARCH_NO_RESULTS;return a(W,{},void 0,a("div",{className:(0,l.default)(U.default.noResultsImage,(e={},e[U.default.alt]=n,e))}),a("div",{className:(0,l.default)(U.default.emptyResultsText,U.default.noResults,(t={},t[U.default.alt]=n,t))},void 0,r))},renderError:function(){return a(W,{},void 0,a("div",{className:U.default.errorImage}),a("div",{className:(0,l.default)(U.default.emptyResultsText,U.default.errorMessage)},void 0,D.default.Messages.SEARCH_ERROR))},renderContent:function(){var e=this.state,t=e.totalResults,n=e.isSearching,r=e.isIndexing;return e.hasError?this.renderError():r?this.renderIndexing():n?null:t?this.renderResults():this.renderNoResults()},render:function(){return a("div",{className:U.default.searchResultsWrap},void 0,this.renderHeader(),i.createElement(N.default,{ref:"SCROLLER_REF",theme:N.default.Themes.GHOST,backgroundColor:this.state.theme===w.ThemeTypes.LIGHT?w.Colors.PRIMARY_DARK_100:w.Colors.PRIMARY_DARK_630,track:!0},this.renderContent()),a(Y,{searchType:this.state.searchType,searchAnalyticsId:this.state.searchAnalyticsId,searchResults:this.state.results,searchOffset:this.state.offset,searchLimit:w.SEARCH_PAGE_SIZE,searchHasError:this.state.hasError,searchTotalResults:this.state.totalResults,searchIsIndexing:this.state.isHistoricalIndexing}))},scrollTo:function(e){var t=this.refs.SCROLLER_REF;if(t){var n=t.getScrollData().scrollTop-e;t.scrollTo(n)}}});t.default=$,e.exports=t.default},7686:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(32)),l=s(n(310)),u=s(n(5802));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var c=o("defs",{},void 0,o("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),p=o("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,o("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),o("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),o("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),o("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),o("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),o("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),o("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),o("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),o("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#7289DA",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),o("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),h=o("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),y=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),m=o("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),v=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),_=o("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),E=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),g=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),S=o("path",{d:"M84 66h130v130H84z"}),T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.state={x:new l.default.Value(0),y:new l.default.Value(0)},r._isMounted=!1,r.shouldLoop=function(){return r._isMounted},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;"Firefox"!==i.default.name&&(l.default.animate(t,{loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),l.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}))},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){return o("div",{className:u.default.searchIndexAnimation},void 0,o("div",{className:u.default.searchIndexBackground}),o("svg",{className:u.default.searchIndexForeground,width:"320",height:"280"},void 0,c,o("g",{fill:"none",fillRule:"evenodd"},void 0,o("g",{transform:"translate(120 80)"},void 0,o("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,o(l.default.use,{style:f(this.state),className:u.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),p),o(l.default.g,{className:u.default.magnifyingGlass,style:f(this.state)},void 0,h,y,m,v,_,E,g,S))))},t}(a.Component);T.displayName="SearchIndexForeground",t.default=T,e.exports=t.default},7687:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=de(n(17)),s=de(n(6)),d=n(99),f=de(n(4)),c=n(57),p=n(81),h=de(n(452)),y=de(n(6139)),m=n(307),v=de(n(80)),_=de(n(160)),E=de(n(831)),g=de(n(955)),S=de(n(6547)),T=de(n(12)),I=de(n(337)),C=de(n(841)),N=de(n(46)),A=de(n(871)),O=de(n(847)),b=de(n(315)),M=de(n(64)),R=de(n(312)),P=de(n(35)),L=de(n(15)),w=de(n(134)),D=de(n(154)),U=de(n(6065)),k=n(128),G=de(k),x=de(n(221)),F=de(n(152)),j=de(n(306)),B=de(n(6144)),H=de(n(7688)),V=de(n(6923)),Y=de(n(6599)),W=de(n(7235)),K=de(n(6924)),z=de(n(7691)),$=de(n(6750)),q=de(n(7692)),X=de(n(442)),Q=n(109),J=n(470),Z=n(468),ee=de(n(456)),te=n(7693),ne=de(te),re=de(n(6941)),oe=de(n(5352)),ae=de(n(7695)),ie=de(n(6942)),le=n(0),ue=de(n(13)),se=de(n(5816));function de(e){return e&&e.__esModule?e:{default:e}}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var he=((o={})[le.ChannelLayouts.NORMAL]=se.default.normal,o[le.ChannelLayouts.MINIMUM]=se.default.minimum,o[le.ChannelLayouts.NO_CHAT]=se.default.noChat,o[le.ChannelLayouts.FULL_SCREEN]=se.default.fullScreen,o),ye={grey:{screenshare:n(7701),camera:n(7702),cameraOff:n(7703),cameraOffHover:n(7704),fullScreen:n(7705),fullScreenOff:n(7706),mute:n(7707),muteHover:n(7708),muteOff:n(7709),settings:n(7710)},white:{screenshare:n(7711),camera:n(7712),cameraOff:n(7713),cameraOffHover:n(7714),fullScreen:n(7715),fullScreenOff:n(7716),mute:n(7717),muteHover:n(6614),muteOff:n(6613),settings:n(7718)}},me=function(e){var t=e.value,n=e.activeTooltip,r=e.inactiveTooltip,o=e.activeSrc,a=e.inactiveSrc,l=e.activeSrcHover,u=e.inactiveSrcHover,s=e.onChange;return i(X.default,{text:t?n:r},void 0,i(Y.default,{className:se.default.toggleButton,value:t,activeSrc:o,inactiveSrc:a,activeSrcHover:l,inactiveSrcHover:u,onChange:s}))};me.displayName="ToggleButton";var ve=function(e){function t(){return fe(this,t),ce(this,e.apply(this,arguments))}return pe(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.muted,r=e.onChange;return i(me,{value:n,activeTooltip:ue.default.Messages.UNMUTE,inactiveTooltip:ue.default.Messages.MUTE,activeSrc:ye[t].mute,activeSrcHover:ye[t].muteHover,inactiveSrc:ye[t].muteOff,onChange:r})},t}(l.PureComponent);ve.displayName="MuteButton";var _e=f.default.connectStores([N.default],function(){return{muted:N.default.isSelfMute()||N.default.isSelfMutedTemporarily()}})(ve),Ee=function(e){var t=e.color,n=e.onClick;return i(X.default,{text:ue.default.Messages.USER_SETTINGS},void 0,i(B.default,{className:se.default.actionButton,src:ye[t].settings,onClick:n}))};Ee.displayName="SettingsButton";var ge=function(e){function t(n){fe(this,t);var r=ce(this,e.call(this,n));return r.handleDoubleClick=r.handleDoubleClick.bind(r),r.handleContextMenu=r.handleContextMenu.bind(r),r}return pe(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return i("div",{className:t,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,n)},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,r=t.id;n&&n(e,r)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,r=t.id;n&&n(e,r)},t}(l.PureComponent);ge.displayName="VideoWrapper";var Se=i(V.default,{}),Te=i(V.default,{}),Ie=function(e){function t(n){fe(this,t);var r=ce(this,e.call(this,n));return r._ringingSound=(0,J.createSound)("call_calling"),r._prevLayout=le.ChannelLayouts.MINIMUM,r._callRef=null,r._timeout=new p.Timeout,s.default.bindAll(r,["handleToggleCamera","handleStartVideo","handleStartScreenShare","handleToggleSelfMute","handleConnect","handleDisconnect","handleOpenSettings","handleChangeLayout","handleToggleLayout","handleFullScreen","handleDoubleClick","handleOpenUserContextMenu","handleCameraUnavailable","handleScreenshareUnavailable","setCallRef","handleFullScreenChange"]),r}return pe(t,e),t.prototype.componentDidMount=function(){document.addEventListener(Z.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentWillUnmount=function(){this.stopRinging(),this._timeout.stop(),document.removeEventListener(Z.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onResize,r=t.call,o=t.participants,a=t.inCall,i=t.mode,l=t.layout;if(e.mode===le.ChannelModes.VIDEO&&i===le.ChannelModes.VOICE&&(0,Z.isFullScreen)()){var u=(0,d.findDOMNode)(this._callRef);(0,Z.exitFullScreen)(u,g.default.resized)}null!=n&&e.participants!==o&&n(),null!=n&&e.layout!==l&&(this._timeout.stop(),this._timeout.start(350,n)),null!=r&&r.ringing.length>0&&a&&1===o.filter(function(e){return!e.ringing}).length?this.startRinging():this.stopRinging()},t.prototype.handleFullScreenChange=function(){(0,Z.isFullScreen)()||this.props.layout!==le.ChannelLayouts.FULL_SCREEN||this.handleFullScreen()},t.prototype.handleFullScreen=function(){var e=(0,d.findDOMNode)(this._callRef);this.props.layout!==le.ChannelLayouts.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(le.ChannelLayouts.FULL_SCREEN),(0,Z.requestFullScreen)(e,g.default.resized)):(this.handleChangeLayout(this._prevLayout),(0,Z.exitFullScreen)(e,g.default.resized))},t.prototype.handleStartVideo=function(){h.default.setVideoEnabled(!0)},t.prototype.handleToggleCamera=function(e){e!==this.props.videoEnabled&&(h.default.setVideoEnabled(e),this.handleStartScreenShare(!1))},t.prototype.handleStartScreenShare=function(e,t){if(e!==this.props.screenSharingEnabled){var n=this.props.channel,r=M.default.getCurrentGame();e&&null==r?S.default.open(n):t?(0,m.openContextMenu)(t,function(e){return l.createElement(re.default,a({},e,{channel:n,game:r}))}):h.default.setDesktopSource(null)}},t.prototype.handleToggleLayout=function(){this.handleChangeLayout(this.props.layout===le.ChannelLayouts.NORMAL?le.ChannelLayouts.NO_CHAT:le.ChannelLayouts.NORMAL)},t.prototype.handleChangeLayout=function(e){this.props.layout!==e&&(y.default.updateLayout(this.props.channel.id,e),e===le.ChannelLayouts.FULL_SCREEN&&Q.ComponentDispatch.dispatch(le.ComponentActions.TEXTAREA_BLUR))},t.prototype.handleToggleSelfMute=function(){h.default.toggleSelfMute()},t.prototype.handleDisconnect=function(){this.props.layout===le.ChannelLayouts.FULL_SCREEN&&this.handleFullScreen(),_.default.selectVoiceChannel(null,null)},t.prototype.handleConnect=function(e){var t=this.props.channel;_.default.selectVoiceChannel(t.getGuildId(),t.id,e===H.default.Type.VIDEO)},t.prototype.handleOpenSettings=function(){E.default.open(le.UserSettingsSections.VOICE)},t.prototype.handleOpenUserContextMenu=function(e,t){var n=this;(0,m.openContextMenu)(e,function(e){return l.createElement(oe.default,a({},e,{type:le.ContextMenuTypes.USER_GROUP_DM,user:L.default.getUser(t),channelId:n.props.channel.id}))})},t.prototype.handleDoubleClick=function(e,t){var n=this.props,r=n.channel,o=n.selectedParticipantId;null==o?y.default.selectParticipant(r.id,t):o===t&&y.default.selectParticipant(r.id,null)},t.prototype.handleCameraUnavailable=function(){var e=this,t=this.props.cameraGranted;v.default.push(function(n){return l.createElement(ie.default,a({},n,{title:ue.default.Messages.CAMERA_UNAVAILABLE,description:t?ue.default.Messages.CAMERA_NO_DEVICE:ue.default.Messages.CAMERA_NO_ACCESS,confirmText:t?ue.default.Messages.OKAY:ue.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:t?v.default.pop:e.handleStartVideo}))})},t.prototype.handleScreenshareUnavailable=function(){function e(){v.default.push(ee.default,{source:"Screenshare Unavailable"})}v.default.push(function(t){return l.createElement(ie.default,a({},t,{title:ue.default.Messages.SCREENSHARE_UNAVAILABLE,description:ue.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:ue.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},t.prototype.renderRegionSelect=function(){var e=this.props,t=e.call,n=e.channel,r=void 0;return e.layout===le.ChannelLayouts.FULL_SCREEN||null==t||n.isManaged()||(r=i(ne.default,{call:t})),i(F.default,{justify:F.default.Justify.END,className:se.default.info},void 0,r)},t.prototype.renderParticipants=function(){var e=this.props,t=e.selectedParticipantId,n=e.participants,r=e.mode,o=e.layout,a=e.channel,l=e.inCall,u=e.videoEnabled;return o!==le.ChannelLayouts.MINIMUM&&null==t?null:i(ae.default,{channelId:a.id,participants:n,mode:r,layout:o,inCall:l,videoEnabled:u,onContextMenu:this.handleOpenUserContextMenu})},t.prototype.renderLeftButtonGroups=function(){var e=this,t=this.props,n=t.channel,r=t.mode,o=t.layout,a=t.mentionCount;if(r===le.ChannelModes.VOICE||!n.isPrivate())return null;var l=void 0;if(o!==le.ChannelLayouts.FULL_SCREEN&&o!==le.ChannelLayouts.NO_CHAT||(l=i(U.default,{className:se.default.badge,value:a})),o===le.ChannelLayouts.FULL_SCREEN){return i(F.default,{className:(0,u.default)(se.default.iconsWrapper,se.default.side),align:F.default.Align.CENTER,grow:0},void 0,i(x.default,{onClick:function(){e._prevLayout=le.ChannelLayouts.NORMAL,e.handleFullScreen()}},void 0,i(j.default,{className:se.default.iconButton,color:le.Colors.WHITE,name:j.default.Names.ARROW_UP})),l)}return i(F.default,{className:(0,u.default)(se.default.iconsWrapper,se.default.side),align:F.default.Align.CENTER,grow:0},void 0,i(x.default,{onClick:this.handleToggleLayout},void 0,i(j.default,{className:se.default.iconButton,color:le.Colors.WHITE,name:o===le.ChannelLayouts.NO_CHAT?j.default.Names.ARROW_UP:j.default.Names.ARROW_DOWN})),l)},t.prototype.renderRightButtonGroups=function(e){var t=this.props,n=t.mode,r=t.layout;return n===le.ChannelModes.VOICE?null:i(F.default,{className:(0,u.default)(se.default.iconsWrapper,se.default.side),align:F.default.Align.CENTER,grow:0},void 0,i(B.default,{className:se.default.actionButton,src:r===le.ChannelLayouts.FULL_SCREEN?ye[e].fullScreenOff:ye[e].fullScreen,onClick:this.handleFullScreen}))},t.prototype.renderVideoButton=function(e){var t=this.props,n=t.videoEnabled,r=t.cameraGranted,o=t.cameraDisabled;return!1===r||!0===o?i(X.default,{text:r?ue.default.Messages.CAMERA_UNAVAILABLE:ue.default.Messages.CAMERA_NOT_ENABLED},void 0,i(B.default,{className:(0,u.default)(se.default.actionButton,se.default.unavailable),src:ye[e].camera,onClick:this.handleCameraUnavailable})):i(me,{value:n,activeTooltip:ue.default.Messages.CAMERA_OFF,inactiveTooltip:ue.default.Messages.CAMERA_ON,activeSrc:ye[e].camera,inactiveSrc:ye[e].cameraOff,inactiveSrcHover:ye[e].cameraOffHover,onChange:this.handleToggleCamera})},t.prototype.renderScreenshareButton=function(e){var t=this.props,n=t.cameraGranted,r=t.screenSharingEnabled,o=t.screenshareUnavailable;return t.layout===le.ChannelLayouts.FULL_SCREEN?null:o?i(X.default,{text:ue.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,i(B.default,{className:(0,u.default)(se.default.actionButton,se.default.unavailable),src:ye[e].screenshare,onClick:this.handleScreenshareUnavailable})):!1===n?i(X.default,{text:ue.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,i(B.default,{className:(0,u.default)(se.default.actionButton,se.default.unavailable),src:ye[e].screenshare})):i(me,{value:r,activeTooltip:ue.default.Messages.SCREEN_SHARE_OPTIONS,inactiveTooltip:ue.default.Messages.SCREEN_SHARE_ON,activeSrc:ye[e].screenshare,inactiveSrc:ye[e].screenshare,onChange:this.handleStartScreenShare})},t.prototype.renderSettingsButton=function(e){return this.props.layout!==le.ChannelLayouts.FULL_SCREEN?i(Ee,{color:e,onClick:this.handleOpenSettings}):null},t.prototype.renderActionButtonGroups=function(){var e=this.props,t=e.channel,n=e.mode,r=e.layout,o=e.inCall,a=e.theme,l=e.cameraGranted,s=e.cameraDisabled,d=e.video,f=t.isManaged()||!t.isPrivate();if(!o){var c=n===le.ChannelModes.VIDEO&&l&&!s?H.default.Type.VIDEO:H.default.Type.VOICE;return i(F.default,{className:se.default.actions,justify:F.default.Justify.CENTER},void 0,i(H.default,{type:c,onClick:this.handleConnect,text:f?ue.default.Messages.CONNECT:ue.default.Messages.JOIN_CALL}))}var p=a===le.ThemeTypes.LIGHT&&r===le.ChannelLayouts.MINIMUM?"grey":"white";return d?i(F.default,{className:se.default.actions,justify:F.default.Justify.BETWEEN},void 0,i(F.default,{basis:"50%"},void 0,this.renderLeftButtonGroups()),i(F.default,{className:(0,u.default)(se.default.iconsWrapper,se.default.center),align:F.default.Align.CENTER,justify:F.default.Justify.CENTER,grow:0},void 0,this.renderScreenshareButton(p),this.renderVideoButton(p),i(G.default,{className:se.default.exitButton,color:k.ButtonColors.RED,size:k.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?ue.default.Messages.DISCONNECT:ue.default.Messages.LEAVE_CALL),i(_e,{color:p,onChange:this.handleToggleSelfMute}),this.renderSettingsButton(p)),i(F.default,{justify:F.default.Justify.END,basis:"50%"},void 0,this.renderRightButtonGroups(p))):i(F.default,{className:se.default.actions,justify:F.default.Justify.CENTER},void 0,i(F.default,{className:(0,u.default)(se.default.iconsWrapper,se.default.center),align:F.default.Align.CENTER,justify:F.default.Justify.CENTER,grow:0},void 0,i(_e,{color:p,onChange:this.handleToggleSelfMute}),i(G.default,{className:(0,u.default)(se.default.exitButton,se.default.voice),color:k.ButtonColors.RED,size:k.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?ue.default.Messages.DISCONNECT:ue.default.Messages.LEAVE_CALL),this.renderSettingsButton(p)))},t.prototype.calculateGridSize=function(e){var t=this.props,n=t.windowSize,r=t.layout,o=n.width,a=n.height;switch(r){case le.ChannelLayouts.NORMAL:o-=le.LEFT_PANEL_WIDTH,a/=2;break;case le.ChannelLayouts.NO_CHAT:o-=le.LEFT_PANEL_WIDTH}a=Math.max(a,275),a-=120;var i=e<4?1:2,l=Math.floor(e/i)+(i>1&&e%2!=0?2:0),u=o>a?z.default.Mode.LANDSCAPE:z.default.Mode.PORTRAIT;if(u===z.default.Mode.PORTRAIT){var s=i;i=l,l=s}var d=1*l/i,f=a*(16/9*l/i);return f<o?{mode:u,style:{width:f/o*100+"%",height:"100%"}}:(f=a*d)<o?{mode:u,style:{width:"100%",height:"100%"}}:{mode:u,style:{width:"100%",height:o/d/a*100+"%"}}},t.prototype.renderBackground=function(){var e=this,t=this.props,n=t.layout,r=t.selectedParticipantId,o=t.videoEnabled,u=t.participants,s=N.default.getMediaEngine().Video,d=T.default.getId();if(n===le.ChannelLayouts.MINIMUM)return null;if(null==r){if(1===u.length&&u[0].quality===le.RTCReceivedVideoQuality.OFF)return Se;var f=u.map(function(t){var n=t.user,r=t.voiceState,a=t.streamId,l=t.quality,u=n.id===d&&o;return i(q.default,{user:n,mirror:u,streamId:a,videoComponent:s,muted:r&&(r.mute||r.selfMute)||!1,deafen:r&&(r.deaf||r.selfDeaf)||!1,hasVideo:r&&r.selfVideo||!1,onDoubleClick:e.handleDoubleClick,onContextMenu:e.handleOpenUserContextMenu,poorConnection:l===le.RTCReceivedVideoQuality.OFF},n.id)});return i(F.default,{justify:F.default.Justify.CENTER,align:F.default.Align.CENTER,className:se.default.videoBackgroundWrapper},void 0,l.createElement(z.default,a({className:se.default.videoBackground},this.calculateGridSize(f.length)),f))}var c=u.find(function(e){return e.user.id===r});if(null==c)return null;var p=c.voiceState,h=c.user,y=c.streamId,m=c.quality,v=void 0;return v=p&&p.selfVideo&&null!=s?m===le.RTCReceivedVideoQuality.OFF?Te:i($.default,{streamId:y,mirror:r===d&&o,videoComponent:s}):i(K.default,{user:h,avatarSize:K.default.AvatarSizes.PROFILE}),i(ge,{className:se.default.videoBackground,id:r,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleOpenUserContextMenu},void 0,v)},t.prototype.render=function(){var e=this.props,t=e.participants,n=e.layout,r=e.selectedParticipantId,o=e.inCall,a=e.focused;return t&&t.length?l.createElement(W.default,{ref:this.setCallRef,className:(0,u.default)(se.default.wrapper,he[n]),animated:o,layout:n,focused:a,backgroundKey:r,background:this.renderBackground(),top:this.renderRegionSelect(),center:this.renderParticipants(),bottom:this.renderActionButtonGroups()}):null},t.prototype.setCallRef=function(e){this._callRef=e},t.prototype.startRinging=function(){this.props.disableSounds||A.default.isSoundDisabled("call_calling")||this._ringingSound.loop()},t.prototype.stopRinging=function(){this._ringingSound.stop()},t}(l.PureComponent);Ie.displayName="PrivateChannelCall",t.default=f.default.connectStores([C.default,R.default,I.default,N.default,w.default,P.default,O.default,b.default,D.default],function(e){var t=e.channel,n=N.default.supports(c.Features.VIDEO),r=C.default.getParticipants(t.id),o=w.default.isInChannel(t.getGuildId(),t.id),a=n?C.default.getMode(t.id):le.ChannelModes.VOICE,i=(0,s.default)(N.default.getVideoDevices()).values().first(),l=null==i||i.disabled,u=o&&a===le.ChannelModes.VIDEO?C.default.getLayout(t.id):le.ChannelLayouts.MINIMUM;return u!==le.ChannelLayouts.FULL_SCREEN&&t.type===le.ChannelTypes.GUILD_VOICE&&(u=le.ChannelLayouts.NO_CHAT),u===le.ChannelLayouts.NO_CHAT&&(a=le.ChannelModes.VIDEO),{channel:t,video:n,mode:a,participants:r,selectedParticipantId:C.default.getSelectedParticipantId(t.id),call:I.default.getCall(t.id),inCall:o,layout:u,disableSounds:R.default.disableSounds,videoEnabled:N.default.isVideoEnabled(),screenSharingEnabled:N.default.isScreenSharing(),theme:P.default.theme,cameraGranted:N.default.isEnabled(),cameraDisabled:l||!N.default.isEnabled(),screenshareUnavailable:!N.default.supports(c.Features.DESKTOP_CAPTURE),focused:O.default.isOpen(te.QUICK_REGION_SELECT_KEY),mentionCount:b.default.getMentionCount(t.id),windowSize:D.default.windowSize()}})(Ie),e.exports=t.default},7688:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=y(n(6)),u=n(99),s=y(n(310)),d=n(128),f=y(d),c=y(n(152)),p=y(n(13)),h=y(n(5804));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={VOICE:"voice",VIDEO:"video"},g={friction:16,tension:400},S=function(e){function t(n){m(this,t);var r=v(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r}return _(t,e),t.prototype.render=function(){return a(c.default,{className:h.default.callButton,align:c.default.Align.CENTER,justify:c.default.Justify.CENTER,onClick:this.handleClick},void 0,this.props.children)},t.prototype.handleClick=function(){var e=this.props,t=e.type,n=e.onClick;n&&n(t)},t}(i.PureComponent);S.displayName="CallButton";var T=function(e){function t(n){m(this,t);var r=v(this,e.call(this,n));return r._width=0,r._left=0,r.state={hovered:!1,offsetX:new s.default.Value(0)},l.default.bindAll(r,["handleMouseMove","handleMouseLeave","handleVoiceButtonClick"]),r}return _(t,e),t.prototype.renderVoiceButton=function(){return a(f.default,{className:h.default.joinVoiceCallButton,size:d.ButtonSizes.SMALL,color:d.ButtonColors.GREEN,onClick:this.handleVoiceButtonClick},void 0,this.props.text)},t.prototype.renderUnderlay=function(){var e=this.state,t=e.hovered,n={transform:[{translateX:e.offsetX.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:t?1:0};return a(s.default.div,{className:h.default.underlay,style:n})},t.prototype.renderVideoButton=function(){return a("div",{className:h.default.joinVideoCallButton,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnderlay(),a(c.default,{className:h.default.inner,align:c.default.Align.CENTER,justify:c.default.Justify.CENTER},void 0,a(S,{type:E.VIDEO,onClick:this.props.onClick},void 0,a("img",{alt:"",className:h.default.icon,src:n(7689)}),a("div",{className:h.default.buttonText},void 0,p.default.Messages.VIDEO)),a("div",{className:h.default.callDivider}),a(S,{type:E.VOICE,onClick:this.props.onClick},void 0,a("div",{className:h.default.buttonText},void 0,p.default.Messages.VOICE),a("img",{alt:"",className:h.default.icon,src:n(7690)}))))},t.prototype.render=function(){return this.props.type===E.VOICE?this.renderVoiceButton():this.renderVideoButton()},t.prototype.handleVoiceButtonClick=function(){var e=this.props.onClick;e&&e(E.VOICE)},t.prototype.handleMouseMove=function(e){var t=e.clientX;if(0===this._width){var n=(0,u.findDOMNode)(this);if(null==n||n instanceof Text)throw new Error("[UIKit]JoinCallButton.handleMouseOver(): assert failed: domNode instanceof Element");this._left=n.getBoundingClientRect().left,this._width=n.getBoundingClientRect().width}var r=Math.min(this._width/2-4,Math.max(0,t-this._left-this._width/4));s.default.spring(this.state.offsetX,o({toValue:r},g)).start(),this.state.hovered||this.setState({hovered:!0})},t.prototype.handleMouseLeave=function(){this.setState({hovered:!1})},t}(i.PureComponent);T.defaultProps={type:E.VOICE,text:p.default.Messages.JOIN_CALL},T.Type=E,T.displayName="JoinCallButton",t.default=T,e.exports=t.default},7689:function(e,t,n){e.exports=n.p+"0682cf612d4fed39efb57e0a1bcc8544.svg"},7690:function(e,t,n){e.exports=n.p+"8b47456a037cc496c55ae8f871274018.svg"},7691:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=s(n(17)),l=s(n(5351)),u=s(n(5808));function s(e){return e&&e.__esModule?e:{default:e}}var d={LANDSCAPE:"landscape",PORTRAIT:"portrait"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.children;if(null==n)return null;for(var r=t===d.LANDSCAPE?u.default.horizontal:u.default.vertical,a=t===d.LANDSCAPE?u.default.vertical:u.default.horizontal,s=n.length,f=s>3&&s%2>0?Math.floor(s/2):-1,c=[],p=[],h=s>3?2:1,y=0;y<s;y++)y===f?c.push(o("div",{style:{flex:2},className:u.default.flex},y,n[y])):p.push(n[y]),p.length===h&&(c.push(o("div",{style:{flex:1},className:(0,i.default)(a,l.default.marginReset)},y,p)),p=[]);return o("div",{className:(0,i.default)(r,u.default.content)},void 0,c)},t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return o("div",{className:(0,i.default)(u.default.wrapper,n),style:t},void 0,this.renderContent())},t}(a.PureComponent);f.Mode=d,f.defaultProps={mode:d.LANDSCAPE},f.displayName="VideoGrid",t.default=f,e.exports=t.default},7692:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=p(n(306)),u=p(n(6923)),s=p(n(6924)),d=p(n(6750)),f=n(0),c=p(n(5810));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=o(u.default,{isCondensed:!0}),m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleDoubleClick=function(e){var t=r.props,n=t.onDoubleClick,o=t.user;n&&n(e,o.id)},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.user;n&&n(e,o.id)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.streamId,n=e.videoComponent,r=e.mirror,a=e.user;return e.hasVideo&&null!=n?o(d.default,{className:(0,i.default)(c.default.content,c.default.video),mirror:r,streamId:t,videoComponent:n,fit:d.default.Fit.COVER}):null!=a?o("div",{className:c.default.content},void 0,o(s.default,{user:a,avatarSize:s.default.AvatarSizes.XXLARGE})):null},t.prototype.renderOverlay=function(){var e=this.props,t=e.muted,n=e.deafen;return e.poorConnection?y:n||t?o(l.default,{className:c.default.status,width:20,height:20,color:f.Colors.WHITE,name:n?l.default.Names.DEAFENED:l.default.Names.MUTED}):null},t.prototype.render=function(){return o("div",{style:this.props.style,className:(0,i.default)(c.default.wrapper,this.props.className),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderContent(),this.renderOverlay())},t}(a.PureComponent);m.defaultProps={ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,poorConnection:!1},m.displayName="VideoTile",t.default=m,e.exports=t.default},7693:function(e,t,n){"use strict";t.__esModule=!0,t.QUICK_REGION_SELECT_KEY=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(4)),u=m(n(6238)),s=m(n(6060)),d=m(n(152)),f=n(827),c=m(n(7694)),p=n(6401),h=m(n(13)),y=m(n(5811));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={position:f.Positions.BOTTOM,preventInvert:!0},S=t.QUICK_REGION_SELECT_KEY="quick-region-select",T=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return o(d.default,{align:d.default.Align.CENTER,className:(0,i.default)({selected:n})},void 0,o(p.RegionFlag,{region:t,className:y.default.regionSelectFlag}),o(p.RegionName,{region:t,className:y.default.regionSelectName}),n?o("i",{className:y.default.check}):null)},t}(a.PureComponent);T.displayName="RegionItem";var I=function(e){function t(){var n,r;v(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=_(this,e.call.apply(e,[this].concat(i))),r.renderOption=function(e,t){return o(T,{region:e.value,selected:t},e.value.id)},r.handleChangeVoiceRegion=function(e){var t=e.value,n=r.props.call.channelId;u.default.changeCallRegion(n,t.id)},_(r,n)}return E(t,e),t.prototype.componentDidMount=function(){null==this.props.regions&&u.default.fetchRegions(null)},t.prototype.render=function(){var e=this.props,t=e.regions,n=e.call;if(null==t)return null;var r=t.find(function(e){return e.id===n.region})||{id:"unknown",name:h.default.Messages.UNKNOWN_REGION,vip:!1,deprecated:!1},a={label:r.name,value:r},i=t.filter(function(e){return!e.deprecated}).map(function(e){return{label:e.name,value:e,key:e.id}});return o(c.default,{label:h.default.Messages.REGION,options:i,value:a,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutId:S,popoutClassName:y.default.regionSelectPopout})},t}(a.PureComponent);I.displayName="QuickRegionSelect",t.default=l.default.connectStores([s.default],function(){return{regions:s.default.getRegions(null)}})(I)},7694:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(830)),u=f(n(827)),s=n(6751),d=f(s);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),d=0;d<o;d++)u[d]=arguments[d];return n=r=c(this,e.call.apply(e,[this].concat(u))),r.renderPopout=function(e){var t=r.props,n=t.options,o=t.value,l=t.renderOption,u=t.popoutClassName,d=t.scroller;return i.createElement(s.QuickSelectPopout,a({},e,{scroller:d,className:u,options:n,value:o,renderOption:l,onChange:r.handleChange}))},r.handleChange=function(e){var t=r.props,n=t.popoutId,o=t.onChange;l.default.close(n),o&&o(e)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutId,f=e.popoutProps;return i.createElement(u.default,a({},f,{uniqueId:s,render:this.renderPopout}),o("div",{className:l},void 0,o(d.default,{label:t,value:n,renderValue:r})))},t}(i.PureComponent);p.displayName="QuickSelectWrapper",t.default=p,e.exports=t.default},7695:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(17)),u=A(n(310)),s=A(n(4)),d=n(81),f=A(n(833)),c=A(n(6139)),p=A(n(12)),h=A(n(841)),y=A(n(46)),m=A(n(35)),v=A(n(154)),_=n(7236),E=A(_),g=A(n(7696)),S=A(n(5996)),T=n(0),I=A(n(317)),C=A(n(5556)),N=A(n(5814));function A(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=23,P=17,L=26,w={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:u.default.Easing.inOut(u.default.Easing.back()),EASING_OUT:u.default.Easing.quad},D=200,U=125,k=function(e){function t(n){O(this,t);var r=b(this,e.call(this,n));return r.state={scaleAnimation:new u.default.Value(0),spriteAnimation:new u.default.Value(0),spriteOpacity:new u.default.Value(0),widthAnimation:new u.default.Value(0)},r}return M(t,e),t.prototype.componentDidMount=function(){this.componentDidAppear()},t.prototype.componentDidAppear=function(){var e=this.state,t=e.scaleAnimation,n=e.widthAnimation;t.setValue(1),n.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state,n=t.scaleAnimation,r=t.widthAnimation;n.setValue(0),r.setValue(0),u.default.parallel([u.default.timing(n,{toValue:1,duration:w.DURATION_IN,easing:w.EASING_IN}),u.default.timing(r,{toValue:1,duration:D})]).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.scaleAnimation,r=t.spriteAnimation,o=t.spriteOpacity,a=t.widthAnimation;o.setValue(1),r.setValue(0);for(var i=[],l=0;l<R;l++)i.push(u.default.timing(r,{toValue:-L*l,duration:P}));u.default.sequence([u.default.timing(n,{toValue:0,duration:w.DURATION_OUT,easing:w.EASING_OUT}),u.default.sequence(i),u.default.timing(a,{toValue:0,duration:U})]).start(e)},t.prototype.getScaleStyle=function(){var e=this.state.scaleAnimation;return u.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[w.SCALE_MIN,w.SCALE_MAX]})}],opacity:e})},t.prototype.getSpriteStyle=function(){var e=this.state;return{backgroundPosition:e.spriteAnimation,opacity:e.spriteOpacity}},t.prototype.getWidthStyle=function(){return{width:this.state.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}},t.prototype.render=function(){var e,t=this.props,n=t.theme,r=t.children,o=t.className,i=n===T.ThemeTypes.DARK,s=(0,l.default)(N.default.sprite,((e={})[C.default.crossWhite]=i,e[C.default.crossGrey]=!i,e));return a(u.default.div,{className:(0,l.default)(N.default.transition,o),style:this.getWidthStyle()},void 0,a("div",{className:(0,l.default)(N.default.spriteWrapper,I.default.horizontal,I.default.justifyCenter,I.default.alignCenter)},void 0,a(u.default.div,{className:s,style:this.getSpriteStyle()})),a(u.default.div,{style:this.getScaleStyle()},void 0,r))},t}(i.PureComponent);k.displayName="AvatarTransition";var G={friction:10,tension:200},x=function(e){function t(n){O(this,t);var r=b(this,e.call(this,n));return r.state={opacity:new u.default.Value(0),scale:new u.default.Value(0)},r}return M(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=e.opacity,n=e.scale;t.setValue(1),n.setValue(1)},t.prototype.animateTo=function(e,t){var n=this.state,r=n.opacity,a=n.scale;u.default.parallel([u.default.spring(r,o({toValue:e},G)),u.default.spring(a,o({toValue:e},G))]).start(t)},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity,o=n.scale;r.setValue(0),o.setValue(0),clearTimeout(this._timer),this._timer=setTimeout(function(){return t.animateTo(1,e)},400)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.opacity,r=t.scale;n.setValue(1),r.setValue(1),this.animateTo(0,e)},t.prototype.componentWillUnmount=function(){clearTimeout(this._timer)},t.prototype.render=function(){var e=this.props.theme,t=this.state,r=t.opacity,o=t.scale;return a(u.default.div,{className:N.default.emptyContainer,style:{opacity:r,transform:[{scale:o},{translateZ:0}]}},void 0,a(S.default,{theme:e},void 0,a(S.default.Image,{style:{margin:0},width:210,height:92,lightSrc:n(7697),darkSrc:n(7698)})))},t}(i.Component);x.displayName="CallEmpty";var F=function(e){function t(n){O(this,t);var r=b(this,e.call(this,n));return r._timeout=new d.Timeout,r.setRef=r.setRef.bind(r),r}return M(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.windowHeight,r=t.layout;n===e.windowHeight&&r===e.layout||this.delayResize()},t.prototype.componentDidMount=function(){this.delayResize()},t.prototype.componentWillUnmount=function(){this._timeout.stop()},t.prototype.render=function(){return i.createElement(g.default,o({ref:this.setRef},this.props))},t.prototype.setRef=function(e){this._ref=e},t.prototype.delayResize=function(){var e=this;this._timeout.start(400,function(){e._ref&&e._ref.resize()})},t}(i.PureComponent);F.displayName="CardStackContainer";var j=s.default.connectStores([v.default,h.default],function(){return{windowHeight:v.default.windowSize().height}})(F),B=function(e){function t(n){O(this,t);var r=b(this,e.call(this,n));return r.handleSelectParticipant=r.handleSelectParticipant.bind(r),r}return M(t,e),t.prototype.handleSelectParticipant=function(e){var t=this.props,n=t.mode,r=t.layout,o=t.selectedParticipantId,a=t.channelId;t.inCall&&n===T.ChannelModes.VIDEO&&(c.default.selectParticipant(a,o===e?null:e),r===T.ChannelLayouts.MINIMUM&&c.default.updateLayout(a,T.ChannelLayouts.NORMAL))},t.prototype.calculateAvatarSize=function(){var e=this.props,t=e.layout,n=e.windowWidth,r=e.participants,o=e.mode;if(null!=e.selectedParticipantId&&o===T.ChannelModes.VIDEO&&t!==T.ChannelLayouts.MINIMUM)return _.CallAvatarSizes.XLARGE;for(var a=t===T.ChannelLayouts.FULL_SCREEN||t===T.ChannelLayouts.NORMAL?_.CallAvatarSizes.XLARGE:_.CallAvatarSizes.XXLARGE,i=n-T.LEFT_PANEL_WIDTH,l=r?r.length:0,u=Object.keys(_.CallAvatarPixelSizes),s=0;s<u.length;s++){var d=_.CallAvatarPixelSizes[u[s]];if(!(d>_.CallAvatarPixelSizes[a])&&(o===T.ChannelModes.VIDEO&&(d*=_.CALL_AVATAR_VIDEO_RATIO),i>l*(d+=16)))return u[s]}return _.CallAvatarSizes.SMALL},t.prototype.render=function(){var e=this,t=this.props,n=t.participants,r=t.selectedParticipantId,o=t.theme,i=t.mode,u=t.inCall,s=t.layout,d=t.videoEnabled,c=t.onContextMenu,h=this.calculateAvatarSize(),m=n.find(function(e){return e.user.id===p.default.getId()}),v=null==m||m.ringing,g=i===T.ChannelModes.VIDEO&&v?_.CallAvatarPixelSizes[h]*_.CALL_AVATAR_VIDEO_RATIO:_.CallAvatarPixelSizes[h],S=n.map(function(t){var n,f=t.speaking,m=t.soundsharing,_=t.user,S=t.streamId,I=t.voiceState,C=t.ringing,A=_.id===p.default.getId()&&d,O=y.default.getMediaEngine().Video;return a(k,{width:g,theme:o,className:(0,l.default)((n={},n[N.default.avatarMargin]=i===T.ChannelModes.VOICE||v,n))},_.id,a(E.default,{id:_.id,name:_.username,selected:s!==T.ChannelLayouts.MINIMUM&&r===_.id,speaking:f,soundsharing:m,mode:i,muted:I&&(I.mute||I.selfMute),deafen:I&&(I.deaf||I.selfDeaf),ringing:C,src:_.getAvatarURL(),hasVideo:I&&I.selfVideo,streamId:u&&S,mirror:A,size:h,onClick:e.handleSelectParticipant,onContextMenu:c,videoComponent:O,disabled:v}))});if(0===S.length&&S.push(a(x,{theme:o},"empty")),i===T.ChannelModes.VIDEO&&!v){var C=g+8;return a(f.default,{component:j,layout:s,style:{width:C},cardWidth:C,cardHeight:C,className:(0,l.default)(N.default.wrapper,I.default.vertical,I.default.alignEnd,I.default.spacer)},void 0,S)}return a(f.default,{component:"div",className:(0,l.default)(N.default.wrapper,I.default.alignEnd,I.default.spacer,s===T.ChannelLayouts.MINIMUM?I.default.horizontal+" "+I.default.justifyCenter:I.default.vertical)},void 0,S)},t}(i.PureComponent);B.displayName="PrivateChannelCallParticipants",t.default=s.default.connectStores([v.default,h.default,m.default],function(e){return o({windowWidth:v.default.windowSize().width,selectedParticipantId:h.default.getSelectedParticipantId(e.channelId),theme:m.default.theme},e)})(B),e.exports=t.default},7696:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=d(n(17)),u=n(99),s=d(n(5813));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(n){f(this,t);var r=c(this,e.call(this,n));return r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseLeave=r.handleMouseLeave.bind(r),r}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.children,r=e.offset,i=a({},t,{transform:"translate3d(0, "+r+"px, 0)"});return o("div",{className:s.default.card,style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n)},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},t.prototype.handleMouseLeave=function(){var e=this.props.onHover;e&&e(null)},t}(i.PureComponent);h.displayName="Card";var y=function(e){function t(n){f(this,t);var r=c(this,e.call(this,n));return r.state={hoverIndex:null,width:0,height:0},r.handleHover=r.handleHover.bind(r),r.setRef=r.setRef.bind(r),r.resize=r.resize.bind(r),r}return p(t,e),t.prototype.renderCards=function(){var e=this,t=this.props,n=t.cardWidth,r=t.cardHeight,a=t.children,i=this.state.height,l=a.length,u=this.state.hoverIndex,s=l-1,d=l>1?(i-r)/(l-1):r,f=r*l;return a.map(function(t,a){var l=i>f?r*a:i-r-function(e){if(null==u||e===u)return d*(s-e);var t=d*(s-u);if(e>u){var n=Math.max(t-r,20);return(s-u-1>0?n/(s-u-1):0)*(s-e)}var o=i-t-2*r,a=Math.max(o,20);return i-(u>1?a/(u-1):0)*e-r-(o<20?Math.min(o,-20):0)}(a);return o(h,{index:a,offset:l,style:{width:n,height:r},onHover:e.handleHover},a,t)}).reverse()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=this.state,o=r.width,a=r.height;return 0===o||0===a?i.createElement("div",{ref:this.setRef,className:t,style:n}):i.createElement("div",{ref:this.setRef,className:(0,l.default)(s.default.wrapper,t),style:n},this.renderCards())},t.prototype.handleHover=function(e){this.setState({hoverIndex:e})},t.prototype.setRef=function(e){this._ref=e,this.resize()},t.prototype.resize=function(){if(null!=this._ref){var e=(0,u.findDOMNode)(this._ref);null!=e&&e instanceof HTMLElement&&this.setState({width:e.clientWidth,height:e.clientHeight})}},t}(i.PureComponent);y.displayName="CardStack",t.default=y,e.exports=t.default},7697:function(e,t,n){e.exports=n.p+"7d12b6a6565c106a587c1d1f06690ca9.svg"},7698:function(e,t,n){e.exports=n.p+"a8fd82cc52f43902aa1113fdda7c1ef7.svg"},7699:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(128),l=d(i),u=d(n(222)),s=d(n(5815));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,r=e.description,a=e.confirmText,d=e.onConfirm;return o(u.default,{size:s.default.size},void 0,o("div",{className:s.default.container},void 0,o("img",{className:s.default.image,src:n(7700),alt:""}),o("div",{className:s.default.title},void 0,t),o("div",{className:s.default.description},void 0,r)),o("div",{className:s.default.footer},void 0,o(l.default,{className:s.default.button,size:i.ButtonSizes.LARGE,onClick:d},void 0,a)))},t}(a.PureComponent);f.displayName="VideoDevicesWarningModal",t.default=f,e.exports=t.default},7700:function(e,t,n){e.exports=n.p+"261873897d8899d4e2e724efdfa21ee3.svg"},7701:function(e,t,n){e.exports=n.p+"3a773ef164b13d6a5bf37083bc1bc7f6.svg"},7702:function(e,t,n){e.exports=n.p+"894d33a7990cc82c6c470285c45f1e70.svg"},7703:function(e,t,n){e.exports=n.p+"da80b49568f5b282cd97f54f2f813441.svg"},7704:function(e,t,n){e.exports=n.p+"9f1cc64606c82356a646c04d46b0f4b4.svg"},7705:function(e,t,n){e.exports=n.p+"1c1683551c9d43dd700b1d650f30c6f6.svg"},7706:function(e,t,n){e.exports=n.p+"89f266ed023aab0906a402fe580f862a.svg"},7707:function(e,t,n){e.exports=n.p+"7a2984b632f742b95882d387736c7bd0.svg"},7708:function(e,t,n){e.exports=n.p+"9bef291f60e3cd3531073c12a365a87d.svg"},7709:function(e,t,n){e.exports=n.p+"39aa9582008741a5582b87b2336f746d.svg"},7710:function(e,t,n){e.exports=n.p+"e58c46a89a6d0e207363ed2c26fef144.svg"},7711:function(e,t,n){e.exports=n.p+"b0aeca4d2129dcbf73f05feb6bb6e61f.svg"},7712:function(e,t,n){e.exports=n.p+"f67374a8fd6b116362596d65cc516747.svg"},7713:function(e,t,n){e.exports=n.p+"ea5bf2e8b48cfe21ea60588e1568aad6.svg"},7714:function(e,t,n){e.exports=n.p+"18e22cc758cd6dd220ac88b554519482.svg"},7715:function(e,t,n){e.exports=n.p+"37d23346ca73770fda04fbdcc54336e5.svg"},7716:function(e,t,n){e.exports=n.p+"24d0c1e0be789c08a641e29b113c3d61.svg"},7717:function(e,t,n){e.exports=n.p+"990826f372c3d1d1792e3f1df06609bb.svg"},7718:function(e,t,n){e.exports=n.p+"d47d2c5ce2dd7d5bdaee2ebd8fde61f2.svg"},7719:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=A(n(6)),u=A(n(4)),s=n(57),d=A(n(335)),f=A(n(80)),c=A(n(160)),p=A(n(6171)),h=A(n(337)),y=A(n(841)),m=A(n(46)),v=A(n(91)),_=A(n(134)),E=A(n(6236)),g=A(n(306)),S=A(n(442)),T=A(n(456)),I=A(n(6942)),C=n(0),N=A(n(13));function A(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return l.default.bindAll(r,["handleStartCall","handleJoinCall","handleVoiceClick","handleStartVideoCall","handleJoinVideoCall","handleBrowserNotSupported","handleDownloadApps"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,o=e.channel,i=e.mode;if(t||n&&i===C.ChannelModes.VOICE)return null;var l=o.isManaged(),u=void 0,d=!1,f=void 0;return m.default.supports(s.Features.VIDEO)?n&&i===C.ChannelModes.VIDEO?(f=this.handleJoinVideoCall,u=l?N.default.Messages.CONNECT:N.default.Messages.JOIN_VIDEO_CALL):(f=this.handleStartVideoCall,u=l?N.default.Messages.CONNECT:N.default.Messages.START_VIDEO_CALL):(d=!0,f=this.handleBrowserNotSupported,u=N.default.Messages.BROWSER_NOT_SUPPORTED),a(S.default,{text:u,position:S.default.Positions.BOTTOM},void 0,a(E.default.Icon,{name:g.default.Names.VIDEO_CAMERA,onClick:f,disabled:d||r}))},t.prototype.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,o=e.channel;if(t)return null;var i=o.isManaged(),l=void 0,u=void 0,s=!1;return r?(l=i?N.default.Messages.VOICE_UNAVAILABLE:N.default.Messages.CALL_UNAVAILABLE,u=S.default.Colors.RED,s=!0):l=n?i?N.default.Messages.CONNECT:N.default.Messages.JOIN_VOICE_CALL:i?N.default.Messages.CONNECT:N.default.Messages.START_VOICE_CALL,a(S.default,{text:l,color:u,position:S.default.Positions.BOTTOM},void 0,a(E.default.Icon,{name:g.default.Names.PHONE,onClick:this.handleVoiceClick,disabled:s}))},t.prototype.render=function(){return a("div",{},void 0,this.renderVideoCallButton(),this.renderVoiceCallButton())},t.prototype.handleStartCall=function(e,t){var n=this.props,r=n.channel,o=n.notFriend,a=o?r.getRecipientId():null;d.default.call(r.id,t,!o&&!r.isManaged()&&e&&!e.shiftKey,a)},t.prototype.handleJoinCall=function(e){c.default.selectVoiceChannel(null,this.props.channel.id,e)},t.prototype.handleVoiceClick=function(e){var t=this.props,n=t.callUnavailable,r=t.callActive;if(!n)return r?this.handleJoinCall(!1):this.handleStartCall(e,!1)},t.prototype.handleStartVideoCall=function(e){this.handleStartCall(e,!0)},t.prototype.handleJoinVideoCall=function(){this.handleJoinCall(!0)},t.prototype.handleBrowserNotSupported=function(){var e=this;f.default.push(function(t){return i.createElement(I.default,o({},t,{title:N.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,description:N.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:N.default.Messages.DOWNLOAD_APP,onConfirm:e.handleDownloadApps}))})},t.prototype.handleDownloadApps=function(){f.default.push(T.default,{source:"Video unsupported browser"})},t}(i.PureComponent);O.displayName="PrivateChannelCallButton";var b=(0,p.default)(function(e,t){var n;return(n={})[C.ComponentActions.CALL_START]=t.handleVoiceClick.bind(t),n})(O);t.default=u.default.connectStores([h.default,_.default,v.default,y.default],function(e){var t=e.channel,n=_.default.isInChannel(t.getGuildId(),t.id),r=t.getRecipientId();return{channel:t,mode:y.default.getMode(t.id),inCall:n,callActive:h.default.isCallActive(t.id),callUnavailable:h.default.isCallUnavailable(t.id),notFriend:t.type===C.ChannelTypes.DM&&null!=r&&!v.default.isFriend(r)}})(b),e.exports=t.default},7720:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(17)),l=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={focused:!1,lastGoodValue:n.value,value:n.value},l.default.bindAll(r,["handleChange","handleFocus","handleBlur","handleKeyPress"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=e.value&&e.value!==this.props.value&&this.verifyLength(e.value)&&this.setState({value:e.value})},t.prototype.componentDidUpdate=function(e,t){t.focused!==this.state.focused&&this.state.focused&&this.refs.INPUT_REF.focus()},t.prototype.handleChange=function(e){this.setState({value:e.currentTarget.value});var t=this.props.onChange;t&&t(e)},t.prototype.handleFocus=function(e){this.setState({focused:!0,lastGoodValue:e.currentTarget.value});var t=this.props.onFocus;t&&t(e)},t.prototype.handleBlur=function(e){if(this.verifyLength()){this.setState({focused:!1});var t=this.props.onBlur;t&&t(e)}else this.setState({focused:!1,value:this.state.lastGoodValue})},t.prototype.handleKeyPress=function(e){13===e.which&&this.refs.INPUT_REF.blur()},t.prototype.render=function(){var e=void 0,t={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:t.opacity=0,o("div",{className:(0,i.default)("input-autosize",{focus:this.state.focused},this.props.className)},void 0,o("div",{className:"input-autosize-inner",style:{position:"relative"}},void 0,a.createElement("input",{className:"input-autosize-input",ref:"INPUT_REF",style:t,key:this.props.value,value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),a.createElement("div",{className:"input-autosize-input",style:e,ref:"VALUE_REF"},this.state.value)))},t.prototype.verifyLength=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||this.state.value||"";return!(this.props.minLen&&e.length<this.props.minLen||this.props.maxLen&&e.length>this.props.maxLen)},t}(a.Component);s.displayName="InputAutosize",t.default=s,e.exports=t.default},7721:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=E(n(4)),u=(E(n(131)),E(n(324)),E(n(135)),E(n(5354))),s=E(n(43)),d=E(n(28)),f=E(n(909)),c=E(n(132)),p=E(n(15)),h=E(n(134)),y=E(n(9)),m=E(n(7238)),v=n(0),_=E(n(5825));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.handleFocusPopout=function(){var e=r.props.popoutWindow;r.popoutWindowActive&&(y.default.embedded?y.default.focus(v.PopoutWindowKeys.STREAM_POPOUT):e.focus())},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.channel;return o("div",{className:_.default.container},void 0,o(m.default,{channel:e}))},a(t,[{key:"popoutWindowActive",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}}]),t}(i.PureComponent);S.displayName="Stream",t.default=l.default.connectStores([u.default,d.default,p.default,h.default,c.default,s.default,f.default],function(e){var t=e.channel,n=e.stream;return{guild:d.default.getGuild(t.guild_id),stream:n,streamer:p.default.getUser(n.ownerId),popoutWindow:f.default.getWindow(v.PopoutWindowKeys.STREAM_POPOUT)}})(S),e.exports=t.default},7722:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(17)),l=E(n(38)),u=E(n(4)),s=n(907),d=E(n(869)),f=E(n(909)),c=E(n(35)),p=n(503),h=E(n(9)),y=E(n(908)),m=E(n(517)),v=n(0),_=E(n(5819));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.state={focused:!1},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1})},r.handleKeyboardUsage=function(e){var t=r.props.guestWindow;if(null==t)throw new Error("");!0===e.ctrlKey||!0===e.altKey||!0===e.metaKey||e.keyCode!==v.KeyboardKeys.TAB||((0,s.enableKeyboardMode)(),t.addEventListener("mousedown",r.handleMouseUsage),t.removeEventListener("keydown",r.handleKeyboardUsage))},r.handleMouseUsage=function(){var e=r.props.guestWindow;(0,l.default)(e),(0,s.disableKeyboardMode)(),e.addEventListener("keydown",r.handleKeyboardUsage),e.removeEventListener("mousedown",r.handleMouseUsage)},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.guestWindow,n=e.keyboardModeEnabled;t.addEventListener("focus",this.handleFocus),t.addEventListener("blur",this.handleBlur);var r=t.document;null==r.querySelector("title")&&null!=r.head&&r.head.appendChild(r.createElement("title")),this.updateTitle(),this.updateFontScale(),this.updateLocale(),n?t.addEventListener("mousedown",this.handleMouseUsage):t.addEventListener("keydown",this.handleKeyboardUsage)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.title,r=t.fontScale,o=t.locale;e.title!==n&&this.updateTitle(),e.fontScale!==r&&this.updateFontScale(),e.locale!==o&&this.updateLocale()},t.prototype.componentWillUnmount=function(){var e=this.props.guestWindow;e.removeEventListener("focus",this.handleFocus),e.removeEventListener("blur",this.handleBlur),e.removeEventListener("keydown",this.handleKeyboardUsage),e.removeEventListener("mousedown",this.handleMouseUsage)},t.prototype.updateLocale=function(){var e=this.props,t=e.locale,n=e.guestWindow.document.documentElement;(0,l.default)(null!=n,"Window document element was null"),n.lang=t},t.prototype.updateTitle=function(){var e=this.props,t=e.title,n=e.guestWindow.document.querySelector("title");null!=n&&(n.innerHTML=t)},t.prototype.updateFontScale=function(){var e=this.props,t=e.fontScale,n=e.guestWindow.document.documentElement;(0,l.default)(null!=n,"Window document element was null"),n.style.fontSize=t+"%"},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.children,r=e.windowKey,a=e.keyboardModeEnabled,l=e.colorblindMode,u=e.fontScaleClass,s=this.state.focused,d=h.default.getPlatform(),f=(0,i.default)(u,{"colorblind-mode":l,"keyboard-mode":v.EnableAccessibility&&a});return o(y.default,{theme:t},void 0,o(p.LayerProvider,{},void 0,o("div",{className:(0,i.default)(_.default.popout,h.default.isWindows()?"platform-win":h.default.isOSX()?"platform-osx":h.default.isLinux()?"platform-linux":h.default.isWeb()?"platform-web":"","theme-"+t,f)},void 0,null!=d?o(m.default,{focused:s,type:d,windowKey:r,macOSFrame:!0}):null,o("div",{className:_.default.content},void 0,n)),o(p.LayerContainer,{theme:t})))},t}(a.Component);S.displayName="PopoutWindow",t.default=u.default.connectStores([c.default,d.default,f.default],function(e){var t=e.windowKey,n=f.default.getWindow(t);return(0,l.default)(null!=n,"Guest window was null when popup was rendered."),{locale:c.default.locale,theme:c.default.theme,guestWindow:n,fontScale:d.default.fontScale,keyboardModeEnabled:d.default.keyboardModeEnabled,colorblindMode:d.default.colorblindMode,fontScaleClass:d.default.fontScaleClass}})(S),e.exports=t.default},7723:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=d;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=s(n(17)),i=s(n(128)),l=s(n(306)),u=s(n(5820));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.className,n=e.onClose,r=e.children;return o("div",{className:(0,a.default)(u.default.container,t)},void 0,o("div",{className:u.default.content},void 0,o(l.default,{className:u.default.icon,name:l.default.Names.WARNING_BOX}),r),o(i.default,{innerClassName:u.default.closeButtonInner,onClick:n,look:i.default.Looks.BLANK,size:i.default.Sizes.NONE},void 0,o(l.default,{className:u.default.closeIcon,name:l.default.Names.CLOSE})))}d.displayName="ErrorBanner",e.exports=t.default},7724:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(4))),i=h(n(955)),l=h(n(909)),u=h(n(154)),s=h(n(128)),d=h(n(306)),f=n(876),c=n(468),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){var t=e.enabled,n=e.onBeforeChange,r=e.className,a=e.node,l=e.guestWindow;return o(f.TooltipContainer,{text:t?p.default.Messages.EXIT_FULL_SCREEN:p.default.Messages.FULL_SCREEN},void 0,o(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,onClick:function(){return function(e,t,n,r){null!=n&&(t&&t(e),e?(0,c.requestFullScreen)(n,i.default.resized):(0,c.exitFullScreen)(n,i.default.resized,null!=r?r.document:null))}(!t,n,a,l)}},void 0,o(d.default,{className:r,name:d.default.Names.FULL_SCREEN})))}y.displayName="FullscreenButton",t.default=a.default.connectStores([u.default,l.default],function(e){var t=e.node,n=e.guestWindow;return{enabled:(0,c.isFullScreen)(t,null!=n?n.document:null)}})(y),e.exports=t.default},7725:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),m(n(4))),i=m(n(80)),l=(m(n(131)),m(n(324)),m(n(22))),u=m(n(28)),s=m(n(153)),d=m(n(128)),f=m(n(306)),c=n(876),p=m(n(6019)),h=n(0),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}function v(e){var t=e.stream,n=e.guild,r=e.channel,a=e.className;return function(e,t){return null!=e&&null!=t&&s.default.can(h.Permissions.CREATE_INSTANT_INVITE,t)}(n,r)?o(c.TooltipContainer,{text:y.default.Messages.ACTIVITY_INVITE_MODAL_INVITE},void 0,o(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,onClick:function(){return function(e,t,n){i.default.push(p.default,{guild:e,channel:t,streamUserId:n})}(n,r,t.ownerId)}},void 0,o(f.default,{className:a,name:f.default.Names.INVITE}))):null}v.displayName="InviteButton",t.default=a.default.connectStores([s.default],function(e){var t=e.stream;return{guild:u.default.getGuild(t.guildId),channel:l.default.getChannel(t.channelId)}})(v),e.exports=t.default},7726:function(e,t,n){"use strict";t.__esModule=!0,t.LiveIndicatorLooks=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),u(n(17))),i=u(n(13)),l=u(n(5821));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.LiveIndicatorLooks={RED:l.default.liveRed,GRAY:l.default.liveGray};function d(e){var t=e.className,n=e.look,r=void 0===n?s.RED:n;return o("div",{className:(0,a.default)(t,r)},void 0,i.default.Messages.LIVE)}d.displayName="LiveIndicator",d.Looks=s,t.default=d},7727:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=p;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=f(n(831)),i=f(n(128)),l=f(n(306)),u=n(876),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(){a.default.open(s.UserSettingsSections.VOICE)}function p(e){var t=e.className;return o(u.TooltipContainer,{text:d.default.Messages.USER_SETTINGS},void 0,o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,onClick:c},void 0,o(l.default,{className:t,name:l.default.Names.GEAR})))}p.displayName="SettingsButton",e.exports=t.default},7728:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=d;(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(2)),n(57);var a=s(n(452)),i=n(876),l=s(n(7729)),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.iconClassName,n=e.sliderClassName,r=e.userId,s=e.mediaEngineContext,d=e.currentWindow;return o(i.TooltipContainer,{text:u.default.Messages.STREAMING_VOLUME,position:i.TooltipPositions.LEFT},void 0,o(l.default,{currentWindow:d,iconClassName:t,sliderClassName:n,onValueChange:function(e){return function(e,t,n){a.default.setLocalVolume(t,e,n)}(e,r,s)}}))}d.displayName="VolumeButton",e.exports=t.default},7729:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(128)),s=c(n(306)),d=c(n(7730)),f=c(n(5823));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={value:r.props.defaultValue,mute:!1},r.handleValueChange=function(e){e!==r.state.value&&r.setState({value:e})},r.handleClick=function(){var e=r.props,t=e.onValueChange,n=e.minValue,o=r.state,a=o.mute,i=o.value,l=!a;r.setState({mute:l}),t&&t(l?n:i)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:this.props.defaultValue})},t.prototype.render=function(){var e=this.state,t=e.value,n=e.mute,r=this.props,c=r.iconClassName,p=r.sliderClassName,h=r.minValue,y=r.maxValue,m=s.default.Names.SPEAKER;return n||t===h?m=s.default.Names.SPEAKER_OFF:t<y/2&&(m=s.default.Names.SPEAKER_QUIET),a("div",{className:f.default.volumeButton},void 0,a("div",{className:(0,l.default)(f.default.volumeButtonSlider,p)},void 0,i.createElement(d.default,o({},this.props,{asValueChanges:this.handleValueChange,defaultValue:n?h:t}))),a(u.default,{size:u.default.Sizes.NONE,look:u.default.Looks.BLANK,onClick:this.handleClick},void 0,a(s.default,{className:c,name:m})))},t}(i.PureComponent);h.defaultProps={defaultValue:50,minValue:0,maxValue:100,handleSize:16},h.displayName="VolumeButton",t.default=h,e.exports=t.default},7730:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(99),u=n(5822),s=(o=u)&&o.__esModule?o:{default:o};var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleMouseDown=function(e){var t=r.props.currentWindow;t.document.addEventListener("mousemove",r.handleMouseMove,!0),t.document.addEventListener("mouseup",r.handleMouseUp,!0);var n=(0,l.findDOMNode)(r);if(null==n||!(n instanceof t.Element))throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");r.setState({y:e.clientY,boundingRect:n.getBoundingClientRect()})},r.handleMouseUp=function(){r.reset();var e=r.props.onValueChange;e&&e(r.state.value)},r.handleMouseMove=function(e){e.preventDefault();var t=r.state,n=t.value,o=t.y,a=t.boundingRect,i=r.props,l=i.minValue,u=i.maxValue,s=i.handleSize,d=a.top,f=a.bottom,c=o-e.clientY,p=(n-l)/(u-l);if(!(e.clientY<=d&&c<0||e.clientY>=f&&c>0)){var h=f-d-s,y=h*p;p=Math.min(Math.max(y+c,0),h)/h}var m=l+p*(u-l),v=r.props.asValueChanges;v&&v(m),r.setState({value:m,y:e.clientY})},r.state={value:n.defaultValue},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:e.defaultValue})},t.prototype.componentWillUnmount=function(){this.reset()},t.prototype.render=function(){var e=this.state.value,t=this.props,n=t.minValue,r=t.maxValue,o=t.onValueRender,i=(100*(e-n)/(r-n)).toFixed(0)+"%";return a("div",{className:s.default.slider},void 0,a("div",{className:s.default.bar},void 0,a("div",{className:s.default.barFill,style:{height:i}})),a("div",{className:s.default.track},void 0,a("div",{className:s.default.handle,style:{bottom:i},onMouseDown:this.handleMouseDown},void 0,a("span",{className:s.default.bubble},void 0,o?o(e):i))))},t.prototype.reset=function(){var e=this.props.currentWindow;e.document.removeEventListener("mousemove",this.handleMouseMove,!0),e.document.removeEventListener("mouseup",this.handleMouseUp,!0)},t}(i.PureComponent);d.defaultProps={defaultValue:25,minValue:0,maxValue:100,handleSize:16,currentWindow:window},d.displayName="VerticalSlider",t.default=d,e.exports=t.default},7731:function(e,t,n){e.exports=n.p+"94b5558353f1d01035a874f6eddf6d70.svg"},7732:function(e,t,n){e.exports=n.p+"25613a647083f6b2b196f40f58732de6.svg"},7733:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(4)),l=m(n(446)),u=m(n(5990)),s=m(n(22)),d=m(n(838)),f=m(n(5983)),c=n(5498),p=m(n(6752)),h=n(0),y=m(n(5423));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.fetchStoreListing=function(e){var t=r.props,n=t.channel,o=t.inputSkuId;return null!=e?l.default.fetchChannelStoreListing(n.id,e):null!=o?l.default.fetchChannelStoreListing(n.id,o):l.default.fetchChannelStoreListing(n.id)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.fetchStoreListing()},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.skuId,r=e.location,a=e.width;return null==n?null:o(f.default,{page:h.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,o("div",{className:y.default.applicationStore},void 0,o(p.default,{channel:t,inputSkuId:n,fetchStoreListing:this.fetchStoreListing,location:r,pageSize:(0,c.getPageSize)(a)})))},t}(a.Component);_.displayName="ChannelStoreListing",t.default=(0,u.default)(i.default.connectStores([s.default,d.default],function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:s.default.getSkuIdForChannel(t.id)}})(_)),e.exports=t.default},7734:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=ve(n(2)),l=me(n(17)),u=me(n(308)),s=me(n(6)),d=me(n(443)),f=me(n(462)),c=n(223),p=me(n(310)),h=me(n(4)),y=n(57),m=me(n(833)),v=ve(n(6561)),_=me(n(452)),E=me(n(446)),g=n(307),S=me(n(6598)),T=me(n(917)),I=me(n(80)),C=me(n(848)),N=me(n(861)),A=me(n(831)),O=me(n(158)),b=me(n(22)),M=me(n(464)),R=me(n(6089)),P=me(n(6326)),L=me(n(46)),w=me(n(91)),D=me(n(312)),U=me(n(35)),k=me(n(15)),G=me(n(7240)),x=n(5979),F=me(n(6065)),j=me(n(128)),B=me(n(221)),H=me(n(5996)),V=me(n(152)),Y=me(n(6015)),W=me(n(306)),K=me(n(313)),z=n(6043),$=me(z),q=me(n(129)),X=me(n(442)),Q=n(224),J=me(n(9)),Z=me(n(45)),ee=n(6416),te=me(n(7735)),ne=me(n(456)),re=me(n(6101)),oe=me(n(7234)),ae=me(n(6436)),ie=me(n(5994)),le=me(n(6138)),ue=me(n(6026)),se=me(n(850)),de=me(n(5352)),fe=me(n(447)),ce=n(0),pe=me(n(13)),he=me(n(5351)),ye=me(n(5827));function me(e){return e&&e.__esModule?e:{default:e}}function ve(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _e(e){switch(e){case"separator":return ye.default.friendsColumnSeparator;case"name":return ye.default.friendsColumnName;case"status":return ye.default.friendsColumnStatus;case"guilds":return ye.default.friendsColumnGuilds;case"actions":return ye.default.friendsColumnActions;case"actions-visible":return ye.default.friendsColumnActionsVisible;default:return null}}var Ee={NO_SUGGESTIONS:{lightSrc:n(7737),darkSrc:n(7738),width:403,height:157},NO_CONNECTED_ACCOUNTS:{lightSrc:n(7739),darkSrc:n(7740),width:402,height:201},SECTION_ALL:{lightSrc:n(7741),darkSrc:n(7742),width:376,height:162},SECTION_ONLINE:{lightSrc:n(7743),darkSrc:n(7744),width:421,height:218},SECTION_BLOCKED:{lightSrc:n(7745),darkSrc:n(7746),width:433,height:232},SECTION_PENDING:{lightSrc:n(7747),darkSrc:n(7748),width:415,height:200}},ge=a(f.default,{title:"Discord"}),Se=function(e){var t=e.style,n=e.hasAccounts,r=e.onDownloadApp,o=e.onConnectAccounts,i=e.theme,l=void 0,u=void 0,s=void 0;return n||J.default.embedded?!n&&J.default.embedded?(s=Ee.NO_CONNECTED_ACCOUNTS,l=pe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_ACCOUNTS,u=a(j.default,{className:he.default.marginTop20,onClick:o},void 0,pe.default.Messages.CONNECT_ACCOUNTS)):(s=Ee.NO_SUGGESTIONS,l=pe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_SUGGESTION):(s=Ee.NO_CONNECTED_ACCOUNTS,l=pe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_DOWNLOAD,u=a(j.default,{className:he.default.marginTop20,onClick:r},void 0,pe.default.Messages.DOWNLOAD)),a(p.default.div,{className:ye.default.friendsEmpty,style:t},void 0,ge,a(H.default,{theme:i},void 0,a(H.default.Image,{width:s.width,height:s.height,lightSrc:s.lightSrc,darkSrc:s.darkSrc,theme:i}),a(H.default.Text,{note:l}),u))};Se.displayName="AddFriendEmpty";var Te=a(f.default,{title:"Discord"}),Ie=a(f.default,{title:"Discord"}),Ce=a(f.default,{title:"Discord"}),Ne=a(f.default,{title:"Discord"}),Ae=(0,u.default)({displayName:"FriendsEmptyState",mixins:[d.default,h.default.StoreListenerMixin(U.default,M.default)],getInitialState:function(){return{opacity:new p.default.Value(1)}},getStateFromStores:function(){return{hasAccounts:M.default.getUnsafeAccounts().length>0,accounts:M.default.getAccounts(),theme:U.default.theme}},componentWillEnter:function(e){this.state.opacity.setValue(0),p.default.timing(this.state.opacity,{toValue:1,duration:250}).start(e)},componentWillLeave:function(e){p.default.timing(this.state.opacity,{toValue:0,duration:250}).start(e)},handleDownloadApp:function(){I.default.push(ne.default,{source:"Suggestions"})},handleConnectAccounts:function(){A.default.open(ce.UserSettingsSections.CONNECTIONS)},render:function(){var e=this.props,t=e.type,n=e.onClick,r=this.state,o=r.theme,i=r.hasAccounts,l=r.accounts,u={opacity:this.state.opacity};switch(t){case ce.FriendsSections.ADD_FRIEND:return a(Se,{hasAccounts:i,accounts:l,style:u,onDownloadApp:this.handleDownloadApp,onConnectAccounts:this.handleConnectAccounts,theme:o});case ce.FriendsSections.ALL:return a(p.default.div,{className:ye.default.friendsEmpty,style:u},void 0,Te,a(H.default,{theme:o},void 0,a(H.default.Image,{width:Ee.SECTION_ALL.width,height:Ee.SECTION_ALL.height,lightSrc:Ee.SECTION_ALL.lightSrc,darkSrc:Ee.SECTION_ALL.darkSrc,theme:o}),a(H.default.Text,{note:pe.default.Messages.FRIENDS_EMPTY_STATE_ALL}),a(j.default,{className:he.default.marginTop20,onClick:n},void 0,pe.default.Messages.ADD_FRIEND)));case ce.FriendsSections.ONLINE:return a(p.default.div,{className:ye.default.friendsEmpty,style:u},void 0,Ie,a(H.default,{theme:o},void 0,a(H.default.Image,{width:Ee.SECTION_ONLINE.width,height:Ee.SECTION_ONLINE.height,lightSrc:Ee.SECTION_ONLINE.lightSrc,darkSrc:Ee.SECTION_ONLINE.darkSrc,theme:o}),a(H.default.Text,{note:pe.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})));case ce.FriendsSections.PENDING:return a(p.default.div,{className:ye.default.friendsEmpty,style:u},void 0,Ce,a(H.default,{theme:o},void 0,a(H.default.Image,{width:Ee.SECTION_PENDING.width,height:Ee.SECTION_PENDING.height,lightSrc:Ee.SECTION_PENDING.lightSrc,darkSrc:Ee.SECTION_PENDING.darkSrc,theme:o}),a(H.default.Text,{note:pe.default.Messages.FRIENDS_EMPTY_STATE_PENDING})));case ce.FriendsSections.BLOCKED:return a(p.default.div,{className:ye.default.friendsEmpty,style:u},void 0,Ne,a(H.default,{theme:o},void 0,a(H.default.Image,{width:Ee.SECTION_BLOCKED.width,height:Ee.SECTION_BLOCKED.height,lightSrc:Ee.SECTION_BLOCKED.lightSrc,darkSrc:Ee.SECTION_BLOCKED.darkSrc,theme:o}),a(H.default.Text,{note:pe.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})));default:return null}}}),Oe=function(e){var t=e.guild;return a(X.default,{text:t.toString()},void 0,a(c.Link,{to:ce.Routes.GUILD(t.id),onClick:function(e){return e.stopPropagation()}},void 0,a(Y.default,{guild:t,textScale:.8,size:Y.default.Sizes.SMALL})))};Oe.displayName="MutualGuild";var be=function(e){var t=e.num,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["num"]);return i.createElement("div",o({className:ye.default.moreMutualGuildsBtn},n),"+",t)};be.displayName="MoreMutualGuildsButton";var Me=function(e){return a("div",{className:(0,l.default)(ye.default.friendsColumn,_e(e.column))},void 0,e.children)};Me.displayName="FriendsColumn";var Re=function(){return a("div",{className:_e("separator")})};Re.displayName="FriendsColumnSeparator";var Pe={getInitialState:function(){return{height:new p.default.Value(62),opacity:new p.default.Value(1)}},componentWillEnter:function(e){this.state.opacity.setValue(0),this.state.height.setValue(0),p.default.parallel([p.default.timing(this.state.opacity,{toValue:1,duration:200}),p.default.timing(this.state.height,{toValue:62,duration:200})]).start(e)},componentWillLeave:function(e){p.default.parallel([p.default.timing(this.state.opacity,{toValue:0,duration:200}),p.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)}};function Le(e){var t=e.type,n=e.tooltip,r=e.onClick,o=a(B.default,{onClick:r,className:(0,l.default)(ye.default.friendsAction,function(e){switch(e){case"add":return ye.default.friendsActionAdd;case"remove":return ye.default.friendsActionRemove;case"voice-call":return ye.default.friendsActionVoiceCall;case"video-call":return ye.default.friendsActionVideoCall;case"accept":return ye.default.friendsActionAccept;case"ignore":return ye.default.friendsActionIgnore;case"cancel":return ye.default.friendsActionCancel;default:return null}}(t),null==r?ye.default.disabled:null)});return a(X.default,{text:n},void 0,o)}Le.displayName="Action";var we=(0,u.default)({displayName:"FriendSuggestionRow",mixins:[Pe,d.default,h.default.StoreListenerMixin(U.default,D.default)],getStateFromStores:function(){return{theme:U.default.theme,hide:D.default.hidePersonalInformation}},handleOpenProfile:function(e){e.stopPropagation();var t=this.props.user;N.default.open(t.id)},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;C.default.addRelationship(t.id,{location:"Friend Suggestion"})},handleIgnoreFriendSuggestion:function(e){e.stopPropagation();var t=this.props.user;S.default.ignore(t.id)},render:function(){var e=this.props,t=e.user,n=e.reasons,r=this.state,o=r.hide,i=r.theme,u=void 0;return o||(u=n.map(function(e,t){var n=e.name,r=e.platform_type,o=O.default.get(r);return a("div",{className:ye.default.friendsSuggestionPlatform},t,a("img",{alt:pe.default.Messages.IMG_ALT_LOGO.format({name:o.icon}),className:ye.default.friendsSuggestionPlatformIcon,src:i===ce.ThemeTypes.DARK?o.icon.white:o.icon.grey}),a("span",{className:ye.default.friendsSuggestionPlatformName},void 0,n))})),a(p.default.div,{className:ye.default.friendsRow,onClick:this.handleOpenProfile,style:{height:this.state.height,opacity:this.state.opacity}},void 0,a("div",{className:ye.default.friendsSuggestionInner},void 0,a(ie.default,{user:t,size:x.AvatarSizes.LARGE,outerClassName:ye.default.avatarLarge}),a("div",{className:ye.default.friendsSuggestionInfo},void 0,a(ue.default,{user:t}),a("div",{className:ye.default.friendsSuggestionPlatforms},void 0,u))),a("div",{className:(0,l.default)(ye.default.friendsColumn,_e("actions"),_e("actions-visible"))},void 0,a(Le,{type:"add",tooltip:pe.default.Messages.SEND_FRIEND_REQUEST,onClick:this.handleAddRelationship}),a(Le,{type:"ignore",tooltip:pe.default.Messages.FRIEND_REQUEST_IGNORE,onClick:this.handleIgnoreFriendSuggestion})))}}),De=(0,u.default)({displayName:"FriendRow",mixins:[Pe,d.default],handleOpenProfile:function(e){e.stopPropagation(),N.default.open(this.props.user.id)},handleOpenPrivateChannel:function(e){e.stopPropagation();var t=this.props.user,n=s.default.find(b.default.getChannels(),function(e){return e.type===ce.ChannelTypes.DM&&e.getRecipientId()===t.id});null!=n?Z.default.transitionTo(ce.Routes.CHANNEL(ce.ME,n.id)):E.default.openPrivateChannel(k.default.getCurrentUser().id,t.id)},handleRemoveFriend:function(e){var t=this;e.stopPropagation(),I.default.push(function(e){return i.createElement(fe.default,o({header:pe.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.props.user.toString()}),confirmText:pe.default.Messages.REMOVE_FRIEND,cancelText:pe.default.Messages.CANCEL,onConfirm:t.handleRemoveRelationship},e),a(q.default,{size:q.default.Sizes.MEDIUM,color:q.default.Colors.PRIMARY},void 0,pe.default.Messages.REMOVE_FRIEND_BODY.format({name:t.props.user.toString()})))})},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;C.default.addRelationship(t.id,{location:"Friends"})},handleRemoveRelationship:function(e){e&&e.stopPropagation(),C.default.removeRelationship(this.props.user.id,{location:"Friends"})},handleContextMenu:function(e,t){(0,g.openContextMenu)(e,function(e){return i.createElement(de.default,o({},e,{type:ce.ContextMenuTypes.USER_FRIEND_LIST,user:t}))})},handleVideoCall:function(e){_.default.setVideoEnabled(!0),this.handleVoiceCall(e)},handleVoiceCall:function(e){e.stopPropagation(),E.default.openPrivateChannel(k.default.getCurrentUser().id,this.props.user.id,!0)},renderActivity:function(e){return a(V.default,{align:V.default.Align.CENTER},void 0,a("div",{className:ye.default.friendActivityText},void 0,(0,Q.renderActivity)(e)),(0,Q.hasRichActivity)(e)&&a(W.default,{name:W.default.Names.RICH_ACTIVITY,className:ye.default.friendActivityIcon,foreground:ye.default.friendActivityIconForeground}))},render:function(){var e,t=this,n=this.props,r=n.user,o=n.type,i=n.mutualGuilds,u=n.mutualGuildsLength,s=n.activity,d=n.video,f=[],c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f.push(a(Le,{type:e,tooltip:t,onClick:n},f.length))},h=this.props.status,y=null!=s?this.renderActivity(s):(0,ee.humanizeStatus)(this.props.status),m=!0;switch(o){case ce.RelationshipTypes.FRIEND:m=!1,d&&c("video-call",pe.default.Messages.START_VIDEO_CALL,this.handleVideoCall),c("voice-call",pe.default.Messages.START_VOICE_CALL,this.handleVoiceCall),c("remove",pe.default.Messages.REMOVE_FRIEND,this.handleRemoveFriend);break;case ce.RelationshipTypes.BLOCKED:h=ce.StatusTypes.UNKNOWN,y=pe.default.Messages.BLOCKED,c("remove",pe.default.Messages.UNBLOCK,this.handleRemoveRelationship);break;case ce.RelationshipTypes.PENDING_INCOMING:h=h===ce.StatusTypes.OFFLINE?ce.StatusTypes.UNKNOWN:h,y=pe.default.Messages.INCOMING_FRIEND_REQUEST,c("accept",pe.default.Messages.FRIEND_REQUEST_ACCEPT,this.handleAddRelationship),c("ignore",pe.default.Messages.FRIEND_REQUEST_IGNORE,this.handleRemoveRelationship);break;case ce.RelationshipTypes.PENDING_OUTGOING:m=!1,h=h===ce.StatusTypes.OFFLINE?ce.StatusTypes.UNKNOWN:h,y=pe.default.Messages.OUTGOING_FRIEND_REQUEST,c("cancel",pe.default.Messages.FRIEND_REQUEST_CANCEL,this.handleRemoveRelationship)}var v=void 0;return u>ce.MAX_MUTUAL_GUILDS&&(v=a(be,{num:u-ce.MAX_MUTUAL_GUILDS,onClick:this.handleOpenProfile})),a(p.default.div,{className:ye.default.friendsRow,onClick:this.handleOpenPrivateChannel,onContextMenu:function(e){return t.handleContextMenu(e,r)},style:{height:this.state.height,opacity:this.state.opacity}},void 0,a("div",{className:(0,l.default)(ye.default.friendsColumn,_e("name"))},void 0,a(ie.default,{user:r,outerClassName:ye.default.avatarSmall}),a(ue.default,{user:r})),a("div",{className:(0,l.default)(ye.default.friendsColumn,_e("status"))},void 0,a(ae.default,{className:ye.default.status,defaultStatus:(0,Q.isStreaming)(this.props.activity)?ce.StatusTypes.STREAMING:h}),a("span",{className:ye.default.statusText},void 0,y)),a("div",{className:(0,l.default)(ye.default.friendsColumn,_e("guilds"))},void 0,i.map(function(e){return a(Oe,{guild:e},e.id)}),v),a("div",{className:(0,l.default)(ye.default.friendsColumn,_e("actions"),(e={},e[_e("actions-visible")]=m,e))},void 0,f))}}),Ue=a(Re,{}),ke=a(Re,{}),Ge=a(Re,{}),xe=a(Me,{column:"actions"}),Fe=function(){return a("div",{className:ye.default.friendsTableHeader},void 0,a(Me,{column:"name"},void 0,pe.default.Messages.FRIENDS_COLUMN_NAME),Ue,a(Me,{column:"status"},void 0,pe.default.Messages.FRIENDS_COLUMN_STATUS),ke,a(Me,{column:"guilds"},void 0,pe.default.Messages.MUTUAL_GUILDS),Ge,xe)};Fe.displayName="FriendsTableHeader";var je=(0,u.default)({displayName:"AddFriendHeader",mixins:[h.default.StoreListenerMixin(R.default)],getInitialState:function(){return{addFriendError:null,addFriendSuccess:null}},getStateFromStores:function(){return{availablePlatformTypes:R.default.getAvailablePlatformTypes().filter(function(e){return e!==ce.PlatformTypes.FACEBOOK})}},handleAddFriendSubmit:function(e,t){this.setState({addFriendError:e,addFriendSuccess:t})},render:function(){var e,t=this.state,n=t.availablePlatformTypes,r=t.addFriendSuccess,o=t.addFriendError,i=void 0;n.length>0&&(i=a("div",{className:ye.default.connectAccounts},void 0,a("h2",{className:ye.default.oldH2},void 0,pe.default.Messages.CONNECT_ACCOUNTS_TITLE),a("h3",{},void 0,pe.default.Messages.CONNECT_ACCOUNTS_DESCRIPTION),a("div",{className:ye.default.connectAccountBtnGroup},void 0,n.slice(0,4).map(function(e){return a(le.default,{type:e,location:"Friends"},e)}))));var u=!1,s=!1,d=pe.default.Messages.ADD_FRIEND_DESCRIPTION;return null!=r?(u=!0,d=r):null!=o&&(s=!0,d=o),a("div",{className:ye.default.friendTableAddWrapper},void 0,a("div",{className:ye.default.friendTableAddHeader},void 0,a("div",{className:ye.default.friendsTableAdd},void 0,a("h2",{className:ye.default.oldH2},void 0,pe.default.Messages.ADD_FRIEND),a("div",{className:(0,l.default)(ye.default.friendTableAddDescription,(e={},e[ye.default.success]=u,e[ye.default.error]=s,e))},void 0,d),a(te.default,{onSubmit:this.handleAddFriendSubmit})),i),a("div",{className:ye.default.friendTableSuggestionsHeader},void 0,a("h2",{className:ye.default.oldH2},void 0,pe.default.Messages.FRIEND_SUGGESTIONS)))}}),Be=a(je,{}),He=a(Fe,{}),Ve=a(z.Separator,{}),Ye=a(z.Separator,{}),We=(0,u.default)({displayName:"Friends",mixins:[d.default,h.default.StoreListenerMixin(G.default,P.default,w.default)],getStateFromStores:function(){return o({suggestionCount:P.default.getSuggestionCount(),relationshipCount:w.default.getRelationshipCount(),suggestions:P.default.getSuggestions(),video:L.default.supports(y.Features.VIDEO)},G.default.getState())},componentDidMount:function(){v.setHomeLink(ce.Routes.FRIENDS)},handleItemSelect:function(e){T.default.setSection(e)},handleAddFriend:function(){T.default.setSection(ce.FriendsSections.ADD_FRIEND)},renderHeaderToolbar:function(){return a(oe.default,{tooltip:pe.default.Messages.NEW_GROUP_DM})},render:function(){var e,t=this.state,n=t.section,r=t.suggestions,u=t.rows,s=t.video,d=t.suggestionCount,f=t.pendingCount,c=t.relationshipCount,p=void 0,h=void 0;n===ce.FriendsSections.ADD_FRIEND?(p=r.map(function(e){return i.createElement(we,e)}),h=Be):(p=u.filter(n).map(function(e){return i.createElement(De,o({},e.toJS(),{video:s}))}),h=He);var y=0===p.length?[a(Ae,{type:n,onClick:this.handleAddFriend},n)]:p;return y=c>=64?a(se.default,{className:ye.default.friendsTableBody,elementHeight:62,theme:K.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,y):a(K.default,{className:ye.default.friendsTableBody,theme:K.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,a(m.default,{transitionAppear:!1,component:"div"},void 0,y)),a("div",{className:ye.default.container},void 0,a(re.default,{renderToolbar:this.renderHeaderToolbar},void 0,a($.default,{selectedItem:n,type:z.Types.TOP_PILL,onItemSelect:this.handleItemSelect,className:ye.default.tabBar},void 0,a(z.Item,{className:(0,l.default)(ye.default.item,(e={},e[ye.default.primary]=n!==ce.FriendsSections.ADD_FRIEND,e[ye.default.primarySelected]=n===ce.FriendsSections.ADD_FRIEND,e)),id:ce.FriendsSections.ADD_FRIEND},void 0,pe.default.Messages.FRIENDS_SECTION_ADD_FRIEND," ",a(F.default,{value:d,className:ye.default.badge})),Ve,a(z.Item,{id:ce.FriendsSections.ALL,className:ye.default.item},void 0,pe.default.Messages.FRIENDS_SECTION_ALL),a(z.Item,{id:ce.FriendsSections.ONLINE,className:ye.default.item},void 0,pe.default.Messages.FRIENDS_SECTION_ONLINE),a(z.Item,{id:ce.FriendsSections.PENDING,className:ye.default.item},void 0,pe.default.Messages.FRIENDS_SECTION_PENDING," ",a(F.default,{value:f,className:ye.default.badge})),Ye,a(z.Item,{id:ce.FriendsSections.BLOCKED,className:ye.default.item},void 0,pe.default.Messages.BLOCKED))),a("div",{className:ye.default.friendsTable},void 0,h,y))}});t.default=We,e.exports=t.default},7735:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(308)),l=h(n(443)),u=h(n(848)),s=h(n(128)),d=n(7736),f=n(0),c=h(n(13)),p=h(n(5826));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,i.default)({displayName:"AddFriendInput",mixins:[l.default],getInitialState:function(){return{canSend:!1,hint:""}},handleSubmit:function(e){var t=this;e.preventDefault();var n=this.props.onSubmit,r=this.refs.INPUT_REF.value.trim(),o=(0,d.validateDiscordTag)(r);null!=o?n(o):(this.setState({canSend:!1}),u.default.sendRequest(r,{location:"Add Friend"}).then(function(){n(null,c.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:r})),t.refs.INPUT_REF.value="",t.setState(t.getInitialState(),t.focus)},function(e){n((0,d.humanizeAbortCode)(e.body.code,r)),t.setState({canSend:!0})}))},handleChange:function(e){var t=e.currentTarget.value;if(t.length>0){var n=t.split("#")[1];this.setState({hint:t+f.PLACEHOLDER_TAG.slice(null!=n?n.length+1:0),canSend:!0})}else this.setState({hint:"",canSend:!1});this.props.onError&&this.props.onError(null)},handleKeyPress:function(e){var t=e.currentTarget.value;if(13!==e.which){var n=t.indexOf("#");if(n>-1){var r=this.refs.INPUT_REF.selectionStart,o=8===e.which||37===e.which||39===e.which,a=e.which>=48&&e.which<=57;r>n&&/^(.+?#\d{4})$/.test(t)&&!o?e.preventDefault():r>n&&!a&&!o&&e.preventDefault()}}},focus:function(){this.refs.INPUT_REF.focus()},renderHint:function(){return o("div",{className:p.default.addFriendHint,onClick:this.focus},void 0,this.state.hint)},render:function(){var e=this.state.canSend;return o("form",{className:p.default.wrapper,onSubmit:this.handleSubmit},void 0,a.createElement("input",{ref:"INPUT_REF",className:p.default.addFriendInput,placeholder:c.default.Messages.ADD_FRIEND_PLACEHOLDER,onKeyPress:this.handleKeyPress,onChange:this.handleChange,autoFocus:!0,maxLength:37}),this.renderHint(),o(s.default,{size:s.default.Sizes.SMALL,disabled:!e,type:"submit"},void 0,c.default.Messages.ADD_FRIEND_BUTTON))}});t.default=y,e.exports=t.default},7736:function(e,t,n){"use strict";t.__esModule=!0,t.validateDiscordTag=function(e){if(/^(.+?@.+?\..+?|.+?#\d{4})$/.test(e))return null;if(/^DiscordTag/i.test(e))return i.default.Messages.ADD_FRIEND_ERROR_DISCORD_TAG_USERNAME;if(/^\d+$/.test(e))return i.default.Messages.ADD_FRIEND_ERROR_NUMBERS_ONLY;if(e.length>0&&-1===e.indexOf("#"))return i.default.Messages.ADD_FRIEND_ERROR_USERNAME_ONLY.format({username:e});return i.default.Messages.ADD_FRIEND_ERROR_OTHER},t.humanizeAbortCode=function(e,t){switch(e){case o.AbortCodes.RELATIONSHIP_INCOMING_DISABLED:return i.default.Messages.ADD_FRIEND_ERROR_INVALID_DISCORD_TAG.format({discordTag:t});case o.AbortCodes.RELATIONSHIP_INCOMING_BLOCKED:case o.AbortCodes.RELATIONSHIP_INVALID_SELF:case o.AbortCodes.RELATIONSHIP_INVALUD_USER_BOT:case o.AbortCodes.RELATIONSHIP_INVALID_DISCORD_TAG:default:return i.default.Messages.ADD_FRIEND_ERROR_OTHER}};var r,o=n(0),a=n(13),i=(r=a)&&r.__esModule?r:{default:r}},7737:function(e,t,n){e.exports=n.p+"c7e67cd728f25433eb5b7c1f9dba225e.svg"},7738:function(e,t,n){e.exports=n.p+"88ae294007700a195d8ff49d8f5a01ac.svg"},7739:function(e,t,n){e.exports=n.p+"77abb58874a4aa3b9a6b6efa852430cf.svg"},7740:function(e,t,n){e.exports=n.p+"dd9f22c9e2365062db9d5f75c870e5d7.svg"},7741:function(e,t,n){e.exports=n.p+"6b7098de4cc16f7e431ad8f9aae7f6db.svg"},7742:function(e,t,n){e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},7743:function(e,t,n){e.exports=n.p+"d834d700306f3838c0facef39e7d8a38.svg"},7744:function(e,t,n){e.exports=n.p+"a12ff54c4c5c03b41006fd96a4709c29.svg"},7745:function(e,t,n){e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},7746:function(e,t,n){e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},7747:function(e,t,n){e.exports=n.p+"c84361b810ca7c10d6e8ddb6ea722ebe.svg"},7748:function(e,t,n){e.exports=n.p+"b669713872b43ca42333264abf9c858e.svg"},7749:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=I(n(2)),l=T(n(6)),u=T(n(4)),s=n(307),d=I(n(471)),f=T(n(5358)),c=T(n(91)),p=T(n(237)),h=T(n(15)),y=T(n(7750)),m=n(109),v=T(n(5352)),_=T(n(7002)),E=T(n(5353)),g=n(0),S=T(n(13));function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=r=C(this,e.call.apply(e,[this].concat(u))),r.handleUserContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return i.createElement(v.default,a({},e,{type:g.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},r.renderOverflowPopout=function(){var e=r.props.party;return r.hasParty(e)?o(_.default,{party:e,header:S.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})}):null},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){this.hasParty(this.props.party)!==this.hasParty(e.party)&&m.ComponentDispatch.dispatch(g.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE)},t.prototype.hasParty=function(e){return e.length>1},t.prototype.handleStopListening=function(){d.stopSyncing()},t.prototype.renderUserPopout=function(e,t){return i.createElement(E.default,a({},e,{user:t}))},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)?o(y.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null},t}(i.PureComponent);N.displayName="ListeningAlong",t.default=u.default.connectStores([p.default,h.default,f.default],function(){var e=p.default.getSyncingWith(),t=p.default.getActivity(),n=h.default.getCurrentUser(),r=void 0,o=[],a=void 0;return null!=e?(r=h.default.getUser(e.userId),a=e.partyId):null!=t&&null!=t.party&&null!=t.party.id&&(r=n,a=t.party.id),null!=a&&(o=(0,l.default)(Array.from(f.default.getParty(a)||[])).map(function(e){return h.default.getUser(e)}).filter(function(e){return null!=e}).orderBy([function(e){return null==r||r.id===e.id},function(e){return c.default.isFriend(e.id)}],["desc","desc"]).value()),{currentUser:n,host:r,party:o}})(N),e.exports=t.default},7750:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(17)),l=E(n(314)),u=E(n(311)),s=E(n(5979)),d=E(n(221)),f=E(n(152)),c=E(n(306)),p=E(n(827)),h=E(n(6063)),y=E(n(442)),m=n(0),v=E(n(13)),_=E(n(5828));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=5,T=4,I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=g(this,e.call.apply(e,[this].concat(l))),r.renderPartyMember=function(e,t){if(null==e)return null;var n=r.props,a=n.host,l=n.renderUserPopout,u=n.onUserContextMenu,d=void 0;d=a.id===e.id?v.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:v.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;var f=o(s.default,{src:e.getAvatarURL("png"),size:s.default.Sizes.XSMALL,className:(0,i.default)(_.default.clickable,t),onContextMenu:function(t){return null!=u&&null!=e&&u(t,e)}},e.id);return d&&(f=o(y.default,{text:d},void 0,f)),f=o(p.default,{render:function(t){return null!=e&&l(t,e)}},e.id,f)},r.renderPartyMemberOverflow=function(e,t,n){var a=r.props.renderOverflowPopout;return o(p.default,{render:a},n,o(y.default,{text:v.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,o("div",{className:(0,i.default)(t,_.default.clickable)},void 0,e)))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===n.id},t.prototype.renderTitle=function(){return o("div",{className:_.default.textWrap},void 0,o("div",{className:_.default.title},void 0,this.isHost()?v.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):v.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),o("div",{className:_.default.subtitle},void 0,v.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))},t.prototype.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:o(y.default,{text:v.default.Messages.SPOTIFY_LISTEN_ALONG_STOP},void 0,o(d.default,{onClick:e},void 0,o(c.default,{name:c.default.Names.CLOSE,className:_.default.actionIcon})))},t.prototype.renderHelpIcon=function(){return this.isHost()?o(y.default,{text:v.default.Messages.SPOTIFY_LISTEN_ALONG_INFO},void 0,o(u.default,{href:l.default.getArticleURL(m.HelpdeskArticles.SPOTIFY_CONNECTION),className:_.default.iconLink},void 0,o(c.default,{name:c.default.Names.INFO,className:_.default.actionIcon}))):null},t.prototype.render=function(){return o("div",{className:_.default.listeningAlong},void 0,this.renderTitle(),o(f.default,{justify:f.default.Justify.END,className:_.default.party},void 0,o(h.default,{users:this.props.party,max:this.isHost()?S:T,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),o("div",{className:_.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))},t}(a.PureComponent);I.displayName="ListeningAlong",t.default=I,e.exports=t.default},7751:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=se(n(2)),u=ue(n(6)),s=n(223),d=ue(n(4)),f=n(57),c=ue(n(833)),p=ue(n(183)),h=ue(n(849)),y=n(475),m=se(n(7752)),v=ue(n(136)),_=n(834),E=ue(n(80)),g=ue(n(507)),S=ue(n(6070)),T=se(n(896)),I=ue(n(160)),C=ue(n(6536)),N=se(n(839)),A=ue(n(6206)),O=n(7753),b=se(n(919)),M=ue(n(831)),R=ue(n(158)),P=ue(n(12)),L=ue(n(22)),w=ue(n(58)),D=ue(n(43)),U=ue(n(46)),k=ue(n(6619)),G=ue(n(51)),x=ue(n(15)),F=ue(n(7201)),j=ue(n(7202)),B=ue(n(179)),H=ue(n(311)),V=ue(n(221)),Y=ue(n(152)),W=ue(n(306)),K=ue(n(444)),z=ue(n(18)),$=ue(n(314)),q=ue(n(9)),X=ue(n(225)),Q=ue(n(7754)),J=ue(n(456)),Z=n(6138),ee=ue(n(6030)),te=ue(n(7756)),ne=n(7757),re=ue(ne),oe=ue(n(7758)),ae=n(0),ie=ue(n(13)),le=ue(n(5833));function ue(e){return e&&e.__esModule?e:{default:e}}function se(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var de=function(){return i("div",{className:le.default.noticeDanger},void 0,i(V.default,{className:le.default.dismiss,onClick:function(){g.default.dismiss(),E.default.push(oe.default)},"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.NOTICE_NO_INPUT_DETECTED,i(H.default,{className:le.default.button,href:$.default.getArticleURL(ae.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ie.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};de.displayName="AudioIssueNoticeHelpdesk";var fe=function(){return i("div",{className:le.default.noticeDanger},void 0,i(V.default,{className:le.default.dismiss,onClick:function(){g.default.dismiss(),E.default.push(oe.default)},"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,i(H.default,{className:le.default.button,onClick:function(){(0,_.pushLayer)(ae.Layers.USER_SETTINGS),M.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ie.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};fe.displayName="AudioIssueNoticeMicTester";var ce=(0,ee.default)(q.default.embedded?F.default:j.default,((o={})[ae.ExperimentTypes.NONE]=de,o[ae.ExperimentTypes.USER]=((r={})[ae.ExperimentBuckets.NOT_ELIGIBLE]=de,r[ae.ExperimentBuckets.CONTROL]=de,r[ae.ExperimentBuckets.TREATMENT_1]=fe,r),o)),pe=i(de,{}),he=i(ce,{});t.default=d.default.connectStores([k.default,x.default,P.default],function(){return{currentUser:x.default.getCurrentUser(),notice:k.default.getNotice(),isGuest:P.default.isGuest()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.notice;null!=e&&this.trackNoticeDisplayed(e.type)},t.prototype.componentDidUpdate=function(e){var t=e.notice,n=this.props.notice;if(null==n||null!=t&&t.type===n.type||this.trackNoticeDisplayed(n.type),null!=n&&null!=t&&n.type===ae.NoticeTypes.SURVEY&&t.type===ae.NoticeTypes.SURVEY){var r=n.metadata;if(null!=r&&null!=t.metadata&&r.id!==t.metadata.id){var o=w.default.getEligibleExperiment(r.id);null!=o&&v.default.trigger(o)}}},t.prototype.trackNoticeDisplayed=function(e){z.default.track(ae.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})},t.prototype.dismiss=function(){g.default.dismiss()},t.prototype.renderNotice=function(){var e=this,t=this.props,n=t.notice,r=t.isGuest;if(null==n)return null;if(r)return null;switch(n.type){case ae.NoticeTypes.GENERIC:return i("div",{className:le.default.noticeDefault},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),n.message,null!=n.buttonText?i("button",{className:le.default.button,onClick:n.callback},void 0,n.buttonText):null);case ae.NoticeTypes.VOICE_DISABLED:return i("div",{className:le.default.noticeDefault},void 0,i(V.default,{className:le.default.dismiss,onClick:function(){null!=G.default.getVoiceChannelId()&&I.default.clearVoiceChannel(),e.dismiss()},"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.NOTICE_CONNECTION_CONFLICT,i("button",{className:le.default.button,onClick:function(){var e=G.default.getVoiceChannelId();if(null!=e){var t=L.default.getChannel(e);null!=t&&I.default.selectVoiceChannel(t.getGuildId(),e)}}},void 0,ie.default.Messages.RECONNECT));case ae.NoticeTypes.SPOTIFY_AUTO_PAUSED:var o=R.default.get(ae.PlatformTypes.SPOTIFY);return i("div",{className:le.default.noticeDanger},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),i("img",{alt:"",className:le.default.platformIcon,src:o.icon.white}),ie.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,i("button",{className:le.default.button,onClick:function(){return M.default.open(ae.UserSettingsSections.VOICE)}},void 0,ie.default.Messages.VOICE_SETTINGS),i(H.default,{className:le.default.textLinkSmall,href:$.default.getArticleURL(ae.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,ie.default.Messages.NOTICE_WHATS_THIS));case ae.NoticeTypes.UNCLAIMED_ACCOUNT:return i("div",{className:le.default.noticeDefault},void 0,ie.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,i("button",{className:le.default.button,onClick:function(){return(0,y.open)()}},void 0,ie.default.Messages.CLAIM_ACCOUNT));case ae.NoticeTypes.UNVERIFIED_ACCOUNT:return i("div",{className:le.default.noticeDefault},void 0,ie.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,i("button",{className:le.default.button,onClick:function(){var t=e.props.currentUser;h.default.verifyResend(),p.default.show({title:ie.default.Messages.VERIFICATION_EMAIL_TITLE,body:ie.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email}),minorText:ie.default.Messages.CHANGE_EMAIL,onConfirmSecondary:y.open})}},void 0,ie.default.Messages.RESEND));case ae.NoticeTypes.DOWNLOAD_NAG:return i("div",{className:le.default.noticeDefault},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.NOTICE_NATIVE_APPS,i("i",{className:le.default.iconApple}),i("i",{className:le.default.iconAndroid}),i("i",{className:le.default.iconWindows}),i("button",{className:le.default.button,onClick:function(){return E.default.push(J.default,{source:"Top Bar Nag"})}},void 0,ie.default.Messages.DOWNLOAD));case ae.NoticeTypes.SCHEDULED_MAINTENANCE:return null==n.metadata?null:i("div",{className:le.default.noticeInfo},void 0,i(V.default,{className:le.default.dismiss,onClick:function(){return C.default.ackScheduledMaintenance()},"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(n.metadata),i(H.default,{className:le.default.button,href:ae.STATUS_PAGE_ENDPOINT+"/incidents/"+n.metadata.id},void 0,ie.default.Messages.LEARN_MORE));case ae.NoticeTypes.NO_INPUT_DETECTED:return U.default.supports(f.Features.LOOPBACK)?he:pe;case ae.NoticeTypes.HARDWARE_MUTE:if(null==n.metadata)return null;var a=n.metadata,l=a.vendor,d=a.model;return i("div",{className:le.default.noticeDanger},void 0,ie.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:l.name,modelName:d.name}),i(H.default,{className:le.default.button,href:d.url,target:"_blank",rel:"noreferrer noopener"},void 0,ie.default.Messages.SUPPORT));case ae.NoticeTypes.STREAMER_MODE:return i("div",{className:le.default.noticeStreamerMode},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.NOTICE_STREAMER_MODE_TEXT,i("button",{className:le.default.button,onClick:function(){return A.default.setEnabled(!1)}},void 0,ie.default.Messages.DISABLE));case ae.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS:if(!Array.isArray(n.metadata))return null;var c=u.default.uniq(n.metadata.map(function(e){return R.default.get(e.type)})),v=c.map(function(e){return e.name}),_=v[0],g=v[1],P=v[2],w=void 0;return w=1===v.length?ie.default.Messages.NOTICE_ONE_PLATFORM_ACCOUNT.format({a:_}):2===v.length?ie.default.Messages.NOTICE_TWO_PLATFORM_ACCOUNTS.format({a:_,b:g}):3===v.length?ie.default.Messages.NOTICE_THREE_PLATFORM_ACCOUNTS.format({a:_,b:g,c:P}):ie.default.Messages.NOTICE_FOUR_OR_MORE_PLATFORM_ACCOUNTS.format({a:_,b:g,c:P}),i("div",{className:le.default.noticeBrand},void 0,i(V.default,{className:le.default.dismiss,onClick:function(){e.dismiss(),S.default.ignore()},"aria-label":ie.default.Messages.DISMISS}),c.map(function(e){return i("img",{alt:e.name,className:le.default.platformIcon,src:e.icon.color},e.type)}),w,i("button",{className:le.default.button,onClick:function(){return S.default.changeDisplayType(ae.DetectedPlatformAccountsDisplayTypes.MODAL)}},void 0,ie.default.Messages.SETUP));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==n.metadata)return null;var k=n.metadata,x=k.skuId,F=k.applicationId,j=B.default.get(x),q=D.default.getGame(F);return null==j||null==q?null:i("div",{className:le.default.noticePremiumGrandfathered},void 0,i(V.default,{className:le.default.dismiss,onClick:function(){return m.dismiss(j.id)},"aria-label":ie.default.Messages.DISMISS}),i(W.default,{name:W.default.Names.NITRO_WHEEL,className:le.default.premiumIcon}),ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:q.name,skuName:j.name}),i("button",{className:le.default.button,onClick:function(){return T.openIAPPurchaseModal(q.id,j.id,{page:ae.AnalyticsPages.IN_APP}).then(function(){return m.dismiss(j.id)})}},void 0,ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==n.metadata)return null;var ee=n.metadata,oe=ee.skuId,ue=ee.applicationId,se=B.default.get(oe),de=D.default.getGame(ue);return null==se||null==de?null:i("div",{className:le.default.noticePremiumGrandfathered},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),i(W.default,{name:W.default.Names.NITRO_WHEEL,className:le.default.premiumIcon}),ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:de.name,skuName:se.name}),i(s.Link,{className:le.default.button,onClick:this.dismiss,to:{pathname:ae.Routes.APPLICATION_STORE_LISTING_SKU(se.id),state:{scrollRestoration:!1}}},void 0,ie.default.Messages.LEARN_MORE));case ae.NoticeTypes.SURVEY:var fe=n.metadata;return null==fe?null:i("div",{className:le.default.noticeSurvey,style:null!=fe.noticeColor?{backgroundColor:fe.noticeColor}:null},void 0,i(V.default,{className:le.default.dismiss,onClick:function(){(0,O.surveyHide)(fe.id,!0)},"aria-label":ie.default.Messages.DISMISS}),fe.noticeContent,i("button",{className:le.default.button,onClick:function(){var e="function"==typeof fe.url?fe.url():fe.url;window.open(e,"_blank"),(0,O.surveyHide)(fe.id,!1)}},void 0,fe.noticeButton));case ae.NoticeTypes.CORRUPT_INSTALLATION:return i("div",{className:le.default.noticeDanger},void 0,ie.default.Messages.NOTICE_CORRUPT_INSTALLATION,i(H.default,{className:le.default.button,href:$.default.getArticleURL(ae.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,ie.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return i("div",{className:le.default.noticeDefault},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,i("button",{className:le.default.button,onClick:function(){return E.default.push(J.default,{source:"Video unsupported browser"})}},void 0,ie.default.Messages.DOWNLOAD));case ae.NoticeTypes.ACTIVITY_JOIN_REQUEST:return i(Q.default,{},n.type);case ae.NoticeTypes.CONNECT_SPOTIFY:return i("div",{className:le.default.noticeSpotify},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),i(W.default,{name:W.default.Names.PLATFORM_SPOTIFY,className:le.default.platformIcon}),ie.default.Messages.NOTICE_CONNECT_SPOTIFY,i("button",{className:le.default.button,onClick:function(){return(0,Z.authorize)(ae.PlatformTypes.SPOTIFY,"Notice Bar")}},void 0,ie.default.Messages.CONNECT));case ae.NoticeTypes.PREMIUM_PROMO:return i("div",{className:le.default.noticePremium},void 0,i("span",{className:le.default.premiumLogo}),i("span",{className:le.default.premiumText},void 0,ie.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),i("button",{className:le.default.premiumAction,onClick:function(){z.default.track(ae.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:ae.AnalyticsSections.NOTIFICATION_BAR,location_object:ae.AnalyticsObjects.BUTTON_CTA}),M.default.open(ae.UserSettingsSections.PREMIUM)}},void 0,ie.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),i(V.default,{tag:"span",className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}));case ae.NoticeTypes.MFA_SMS_BACKUP:return i("div",{className:le.default.noticeInfo},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),ie.default.Messages.NOTICE_MFA_SMS_BACKUP,i("button",{className:le.default.button,onClick:function(){return M.default.open(ae.UserSettingsSections.ACCOUNT)}},void 0,ie.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case ae.NoticeTypes.DISPATCH_ERROR:if(null==n.metadata)return null;var ce=n.metadata.error;return i("div",{className:le.default.noticeDanger},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),ce.displayMessage,i("button",{className:le.default.button,onClick:function(){return E.default.push(te.default)}},void 0,ie.default.Messages.LEARN_MORE));case ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==n.metadata)return null;var ye=n.metadata,me=ye.progress,ve=ye.total,_e=ye.name;return i("div",{className:le.default.noticeInfo},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),i(Y.default,{justify:Y.default.Justify.CENTER},void 0,null!=_e?ie.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+_e,progress:""+me,total:""+ve}):ie.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+me,total:""+ve}),i(K.default,{type:K.default.Type.PULSING_ELLIPSIS,className:le.default.ellipsis})));case ae.NoticeTypes.APPLICATION_TEST_MODE:return null==n.metadata?null:i("div",{className:le.default.noticeDefault},void 0,i(Y.default,{justify:Y.default.Justify.CENTER,align:Y.default.Align.CENTER},void 0,i("div",{},void 0,ie.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:n.metadata.applicationName})),i(re.default,{dropdownSize:ne.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:le.default.testModeSKUSelector,color:ne.TestModeSKUButtonEnums.Colors.WHITE,look:ne.TestModeSKUButtonEnums.Looks.OUTLINED,size:ne.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return N.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:ae.AnalyticsSections.NOTIFICATION_BAR,object:ae.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:n.metadata.applicationId},void 0,ie.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),i(V.default,{className:le.default.dismiss,onClick:b.reset,"aria-label":ie.default.Messages.DISMISS})));case ae.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED:var Ee=n.metadata.plan;return i("div",{className:le.default.noticePremiumGrandfathered},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),i(W.default,{name:W.default.Names.NITRO_WHEEL,className:le.default.premiumIcon}),ie.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED.format({date:X.default.getGrandfatheredEndDate(Ee)}),i(s.Link,{className:le.default.button,to:{pathname:ae.Routes.APPLICATION_STORE,state:{scrollRestoration:!1}}},void 0,ie.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS));case ae.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING:var ge=n.metadata.plan,Se=X.default.getGrandfatheredEndDate(ge),Te=X.default.getDaysToGrandfatheredEnd(ge);return i("div",{className:le.default.noticePremiumGrandfathered},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),i(W.default,{name:W.default.Names.NITRO_WHEEL,className:le.default.premiumIcon}),ie.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING.format({numDays:Te,date:Se}));case ae.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED:return i("div",{className:le.default.noticePremiumGrandfathered},void 0,i(V.default,{className:le.default.dismiss,onClick:this.dismiss,"aria-label":ie.default.Messages.DISMISS}),i(W.default,{name:W.default.Names.NITRO_WHEEL,className:le.default.premiumIcon}),ie.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED,i("button",{className:le.default.button,onClick:function(){z.default.track(ae.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:ae.AnalyticsSections.NOTIFICATION_BAR,location_object:ae.AnalyticsObjects.BUTTON_CTA}),M.default.open(ae.UserSettingsSections.PREMIUM)}},void 0,ie.default.Messages.LEARN_MORE));default:return null}},t.prototype.render=function(){return i(c.default,{component:"div"},void 0,this.renderNotice())},t}(l.PureComponent)),e.exports=t.default},7752:function(e,t,n){"use strict";t.__esModule=!0,t.dismiss=function(e){a.default.dispatch({type:i.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},7753:function(e,t,n){"use strict";t.__esModule=!0,t.surveyHide=function(e,t){r.default.dispatch({type:a.ActionTypes.SURVEY_HIDE,id:e}),o.default.track(a.AnalyticEvents.APP_NOTICE_CLOSED,{notice_type:a.NoticeTypes.SURVEY,survey_id:e,dismissed:t})};var r=i(n(1)),o=i(n(18)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7754:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=I(n(310)),u=I(n(4)),s=I(n(328)),d=n(893),f=I(n(182)),c=I(n(890)),p=I(n(43)),h=I(n(132)),y=I(n(323)),m=I(n(128)),v=I(n(7755)),_=I(n(152)),E=I(n(6018)),g=n(0),S=I(n(13)),T=I(n(5831));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=40,b=[g.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED,g.ActivityJoinRequestStates.RECEIVER_INVITE_SENT];var M=function(e){function t(){return C(this,t),N(this,e.apply(this,arguments))}return A(t,e),t.prototype.render=function(){return i.createElement(m.default,o({color:m.default.Colors.WHITE,look:m.default.Looks.OUTLINED,size:m.default.Sizes.MIN,className:T.default.button},this.props))},t}(i.PureComponent);M.displayName="DismissButton";var R=function(e){function t(){return C(this,t),N(this,e.apply(this,arguments))}return A(t,e),t.prototype.render=function(){var e=this.props.game;if(null==e||null==e.splash)return null;var t=Math.min(window.innerWidth/2,800),n=e.getIconURL(t);return null==n?null:a("div",{className:T.default.gameBackground,style:{backgroundImage:"url("+n+")"}},void 0,a("div",{className:T.default.gameBackgroundOverlay}))},t}(i.PureComponent);R.displayName="GameSplashBackground";var P,L=function(e){function t(n){C(this,t);var r=N(this,e.call(this,n));return r.state={animateIn:new l.default.Value(0)},r.handleSendInvite=r.handleSendInvite.bind(r),r.handleJoin=r.handleJoin.bind(r),r.handleClose=r.handleClose.bind(r),r}return A(t,e),t.prototype.componentDidMount=function(){l.default.timing(this.state.animateIn,{toValue:1,delay:50,duration:150,easing:l.default.Easing.out(l.default.Easing.ease)}).start()},t.prototype.renderGameBackground=function(){var e=this.props.game;return null!=e?a(R,{game:e}):null},t.prototype.renderGameIcon=function(){var e=this.props.game;if(null==e||null==e.icon)return null;var t=e.getIconURL(20);return null==t?null:a("div",{className:T.default.gameIcon,style:{backgroundImage:"url("+t+")"}})},t.prototype.renderMessage=function(){var e=this.props,t=e.joinRequest,n=t.state,r=t.user.username,o=e.activity;if(null==o)return null;var i=o.name,l=void 0;switch(n){case g.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:i,username:r});break;case g.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:i,username:r});break;case g.ActivityJoinRequestStates.SENDER_INVITE_WAITING:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:r});break;case g.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:r});break;case g.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:r})}return a("div",{className:T.default.message},void 0,l)},t.prototype.renderButtons=function(){switch(this.props.joinRequest.state){case g.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return a("div",{className:T.default.buttonContainer},void 0,a(m.default,{color:m.default.Colors.GREEN,size:m.default.Sizes.MIN,className:T.default.button,onClick:this.handleSendInvite},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_YEAH),a(M,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_NOPE));case g.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return a("div",{className:T.default.buttonContainer},void 0,a(v.default,{className:T.default.button,onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case g.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return a("div",{className:T.default.buttonContainer},void 0,a(E.default,{color:m.default.Colors.GREEN,size:m.default.Sizes.MIN,className:T.default.button,onClick:this.handleJoin},void 0,S.default.Messages.USER_ACTIVITY_ACCEPT_INVITE),a(M,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case g.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return a("div",{className:T.default.buttonContainer},void 0,a(M,{onClick:this.handleClose},void 0,S.default.Messages.OKAY));default:return null}},t.prototype.render=function(){return null==this.props.activity?null:a(_.default,{className:T.default.notice},void 0,this.renderGameBackground(),a(l.default.div,{style:{transform:[{translateY:this.state.animateIn.interpolate({inputRange:[0,1],outputRange:["-15px","0px"]})}]},className:T.default.noticeBody},void 0,this.renderGameIcon(),this.renderMessage(),this.renderButtons()))},t.prototype.handleSendInvite=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.user.id;(0,d.invite)(n,t)},t.prototype.handleJoin=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.secret,r=e.user.id;null!=n&&f.default.joinWithSecret(t,n),(0,d.close)(r)},t.prototype.handleClose=function(){(0,d.close)(this.props.joinRequest.user.id)},t}(i.Component);L.displayName="ActivityJoinRequestNotice",t.default=(P=u.default.connectStores([c.default,p.default],function(){var e=c.default.getRequest(),t=void 0;return null!=e&&(t=b.includes(e.state)?y.default.getApplicationActivity(e.applicationId):h.default.getApplicationActivity(e.user.id,e.applicationId)),{joinRequest:e,game:e&&p.default.getGame(e.applicationId),activity:t}})(L),function(e){function t(){var n,r;C(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=N(this,e.call.apply(e,[this].concat(a))),r.state={show:new l.default.Value(0),hiding:!1},N(r,n)}return A(t,e),t.prototype.componentDidAppear=function(){this.state.show.setValue(1)},t.prototype.componentWillEnter=function(e){this.animateTo(1,e)},t.prototype.componentWillLeave=function(e){this.setState({hiding:!0}),this.animateTo(0,e)},t.prototype.animateTo=function(e,t){l.default.timing(this.state.show,{toValue:e,duration:100,easing:l.default.Easing.out(l.default.Easing.ease)}).start(t)},t.prototype.shouldComponentUpdate=function(e){return!this.state.hiding&&(0,s.default)(this.props,e)},t.prototype.render=function(){return a(l.default.div,{style:{height:this.state.show.interpolate({inputRange:[0,1],outputRange:[0,O]})},className:T.default.animationWrapper},void 0,i.createElement(P,this.props))},t}(i.Component)),e.exports=t.default},7755:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=f(n(17)),u=f(n(152)),s=f(n(965)),d=f(n(5830));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={width:null},r.buttonRef=r.buttonRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.buttonRef=function(e){null!=e&&this.setState({width:e.offsetWidth})},t.prototype.getButtonBorderStyles=function(){var e=this.state.width;if(null==e)return null;var t=1.5*e;return{height:t,marginLeft:-t/2,marginTop:-t/2,width:t}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className"]);return i.createElement("button",o({className:(0,l.default)(s.default.buttonWhiteOutlinedDefault,d.default.button,n),ref:this.buttonRef},r),a("div",{className:s.default.contentsOutlined},void 0,t),a("div",{className:d.default.buttonContents},void 0,a("div",{className:d.default.buttonBorder,style:this.getButtonBorderStyles()}),a(u.default,{align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,className:d.default.buttonInner},void 0,t)))},t}(i.PureComponent);c.displayName="ButtonWithSpinningBorder",t.default=c,e.exports=t.default},7756:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(4)),l=v(n(80)),u=v(n(6620)),s=v(n(43)),d=v(n(128)),f=v(n(152)),c=v(n(222)),p=v(n(110)),h=v(n(314)),y=v(n(13)),m=v(n(5832));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.openSupportTicket=function(){window.open(h.default.getSubmitRequestURL())},t.prototype.close=function(){l.default.pop()},t.prototype.render=function(){var e=this.props,t=e.error,n=e.applicationName;return o(c.default,{size:c.default.Sizes.SMALL},void 0,o(c.default.Header,{},void 0,o(f.default.Child,{grow:1},void 0,o(p.default,{tag:p.default.Tags.H4},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_HEADER)),o(f.default.Child,{grow:0},void 0,o(c.default.CloseButton,{onClick:this.close}))),o(c.default.Content,{},void 0,o("div",{className:m.default.body},void 0,o("div",{},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_DESCRIPTION.format({link:"https://dis.gd/dispatch-error"})),o("div",{className:m.default.supportCallToAction},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_BODY),o("div",{className:m.default.errorLabel},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_ERROR_LABEL),o("div",{className:m.default.errorDetails},void 0,o("div",{},void 0,null!=n?"Game: "+n+"\n":null,null!=t.applicationId?"Game ID: "+t.applicationId+"\n":null,null!=t.branchId&&t.applicationId!==t.branchId?"Branch ID: "+t.branchId+"\n":null,null!=t.code?"Error Code: "+t.code+"\n":null,null!=t.uuid?"Unique Case ID: "+t.uuid:null)))),o(c.default.Footer,{},void 0,o(d.default,{onClick:this.openSupportTicket},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_OPEN_TICKET),o(d.default,{look:d.default.Looks.LINK,onClick:this.close,color:m.default.closeLink},void 0,y.default.Messages.CLOSE)))},t}(a.Component);_.displayName="DispatchErrorModal",t.default=i.default.connectStores([u.default,s.default],function(){var e=u.default.getLastError(),t=null;if(null!=e&&null!=e.applicationId){var n=s.default.getGame(e.applicationId);null!=n&&(t=n.name)}return{error:e,applicationName:t}})(_),e.exports=t.default},7757:function(e,t,n){"use strict";t.__esModule=!0,t.TestModeSKUButtonEnums=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=m(n(2)),l=y(n(4)),u=m(n(307)),s=y(n(43)),d=y(n(90)),f=y(n(179)),c=n(133),p=y(n(5977)),h=y(n(6753));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TestModeSKUButtonEnums={DropdownSizes:h.default.DropdownSizes,Sizes:h.default.Sizes,Colors:h.default.Colors,Looks:h.default.Looks};var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=v(this,e.call.apply(e,[this].concat(i))),r.renderContextMenu=function(e){var t=e.className,n=e.style,o=r.props,i=o.skus,l=o.onSKUSelect,s=i.map(function(e){return a(p.default,{label:e.name,action:function(){u.closeContextMenu(),l&&l(e)}},e.id)});return a("div",{className:t,style:n},void 0,s)},r.handleContextMenu=function(e){e.stopPropagation(),u.openContextMenu(e,r.renderContextMenu)},r.handleClick=function(){var e=r.props,t=e.onSKUSelect,n=e.primarySKU;t&&null!=n&&t(n)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return i.createElement(h.default,o({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:null},r),n)},t}(i.PureComponent);_.displayName="TestModeSKUButton",t.default=l.default.connectStores([f.default,d.default,s.default],function(e){var t=e.applicationId,n=(0,c.getPrimarySKUForApplication)(t,s.default,f.default);return{skus:(f.default.getForApplication(t)||[]).sort(function(e,t){return null!=n&&e.id===n.id?-1:null!=n&&t.id===n.id?1:e.name>=t.name?-1:1}),primarySKU:n}})(_)},7758:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(452)),l=d(n(80)),u=d(n(460)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.dontShowAgain=function(){i.default.setSilenceWarning(!1),r.okay()},r.okay=function(){l.default.pop()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{title:s.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:s.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:s.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:this.dontShowAgain,onConfirm:this.okay,confirmText:s.default.Messages.OKAY,iconUrl:n(929)})},t}(a.Component);c.displayName="DisableSilence",t.default=c,e.exports=t.default},7759:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=k(n(17)),u=k(n(4)),s=n(6091),d=k(n(22)),f=k(n(845)),c=k(n(6326)),p=k(n(90)),h=k(n(132)),y=k(n(91)),m=k(n(6067)),v=k(n(35)),_=k(n(15)),E=k(n(6378)),g=k(n(179)),S=k(n(6058)),T=k(n(457)),I=k(n(6065)),C=k(n(306)),N=n(6004),A=n(7003),O=k(A),b=k(n(7006)),M=k(n(6040)),R=n(6042),P=k(R),L=k(n(6754)),w=n(0),D=k(n(13)),U=k(n(5834));function k(e){return e&&e.__esModule?e:{default:e}}var G=u.default.connectStores([y.default,c.default],function(){return{badge:y.default.getPendingCount()+c.default.getSuggestionCount()}})(function(e){var t=e.selected,n=e.badge;return a(A.LinkButton,{selected:t,route:w.Routes.FRIENDS,iconName:C.default.Names.PERSON_WAVING,text:D.default.Messages.FRIENDS},void 0,a(I.default,{value:n}))}),x=u.default.connectStores([d.default,_.default,h.default,m.default],function(e){var t=e.channel,n=_.default.getUser(t.getRecipientId());return{user:n,status:null!=n?h.default.getStatus(n.id):null,activity:null!=n?h.default.getPrimaryActivity(n.id):null,typing:null!=n?m.default.isTyping(t.id,t.getRecipientId()):null,showMobileIndicator:null!=n&&h.default.isMobileOnline(n.id)}})(O.default);function F(e,t){var n=e.type===w.ChannelTypes.GROUP_DM?O.default:x;return a(n,{channel:e,selected:t},e.id)}F.displayName="renderChannel";var j=u.default.connectStores([v.default,E.default,S.default,p.default,f.default,T.default,d.default],function(){return{shouldShowPremiumTab:!v.default.disableGamesTab,hasLibraryApplication:p.default.hasLibraryApplication(),storeLink:E.default.getCurrentPath(),homeLink:S.default.getHomeLink(),selectedChannelId:f.default.getChannelId(w.ME),privateChannelIds:T.default.getPrivateChannelIds(),channels:d.default.getChannels(),version:d.default.getPrivateChannelsVersion()}})(b.default),B=function(){return(0,s.show)("DM_SEARCH","@")};t.default=u.default.connectStores([v.default,E.default,S.default,p.default,g.default],function(){var e=S.default.getHomeLink(),t=e.startsWith(w.Routes.APPLICATION_STORE_BROWSE)||e===w.Routes.APPLICATION_STORE;if(!t){var n=(0,N.getSKUIdFromURL)(e);if(null!=n){var r=g.default.get(n);t=null!=r&&r.premium}}return{shouldShowPremiumTab:!v.default.disableGamesTab,hasLibraryApplication:p.default.hasLibraryApplication(),storeLink:E.default.getCurrentPath(),homeLink:e,premiumTabSelected:t}})(function(e){var t,n=e.shouldShowPremiumTab,r=e.hasLibraryApplication,u=e.homeLink,s=e.storeLink,d=e.premiumTabSelected,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["shouldShowPremiumTab","hasLibraryApplication","homeLink","storeLink","premiumTabSelected"]);return a("div",{className:U.default.privateChannels},void 0,a(P.default,{tutorialId:"direct-messages",position:R.TutorialIndicatorPositions.RIGHT,offsetY:-18,offsetX:-52},void 0,a("div",{className:U.default.searchBar},void 0,a(M.default,{onFocus:B,onActivate:B,className:U.default.searchBarComponent}))),i.createElement(j,o({},f,{renderChannel:F}),n?a(A.LinkButton,{selected:u===w.Routes.ACTIVITY,route:w.Routes.ACTIVITY,iconName:C.default.Names.ACTIVITY,text:D.default.Messages.ACTIVITY}):null,r||n?a(A.LinkButton,{selected:null!=u&&u.startsWith(w.Routes.APPLICATION_LIBRARY),route:w.Routes.APPLICATION_LIBRARY,iconName:C.default.Names.LIBRARY,text:D.default.Messages.LIBRARY},void 0,a(L.default,{className:(0,l.default)(U.default.downloadProgressCircle,(t={},t[U.default.hideGameUpdateProgressIndicator]=u===w.Routes.APPLICATION_LIBRARY,t))})):null,n?a(A.LinkButton,{selected:d,route:null==s||location.pathname.startsWith(w.Routes.APPLICATION_STORE)?w.Routes.APPLICATION_STORE:s,locationState:{analyticsSource:{page:function(e){switch(e){case w.Routes.ACTIVITY:return w.AnalyticsPages.ACTIVITY_FEED;case w.Routes.APPLICATION_LIBRARY:return w.AnalyticsPages.LIBRARY;case w.Routes.APPLICATION_LIBRARY_INVENTORY:return w.AnalyticsPages.LIBRARY_INVENTORY;case w.Routes.FRIENDS:return w.AnalyticsPages.FRIENDS_LIST}return e.startsWith(w.Routes.APPLICATION_STORE)?e===w.Routes.APPLICATION_STORE?w.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(w.Routes.APPLICATION_STORE_BROWSE)?w.AnalyticsPages.STORE_DIRECTORY_BROWSE:w.AnalyticsPages.STORE_LISTING:w.AnalyticsPages.DM_CHANNEL}(u),section:w.AnalyticsSections.NAVIGATION,object:w.AnalyticsObjects.NAVIGATION_LINK}},iconName:C.default.Names.NITRO_WHEEL,text:D.default.Messages.PREMIUM}):null,a(G,{selected:u===w.Routes.FRIENDS}),a("header",{},void 0,D.default.Messages.DIRECT_MESSAGES)))}),e.exports=t.default},7760:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=n(223),d=G(n(4)),f=n(57),c=n(307),p=G(n(6005)),h=G(n(160)),y=G(n(6547)),m=G(n(22)),v=G(n(28)),_=G(n(46)),E=G(n(184)),g=G(n(64)),S=G(n(51)),T=G(n(134)),I=G(n(7203)),C=G(n(6565)),N=G(n(846)),A=G(n(221)),O=G(n(152)),b=G(n(827)),M=G(n(442)),R=G(n(7008)),P=G(n(7010)),L=G(n(6941)),w=G(n(6030)),D=n(0),U=G(n(13)),k=G(n(5424));function G(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(0,w.default)((0,N.default)(D.Experiments.EXPERIMENTAL_ADM,"Experimental Audio Subsystem","Enable experimental audio subsystem."),((a={})[D.ExperimentTypes.USER]=((o={})[D.ExperimentBuckets.CONTROL]=function(e){return null},o[D.ExperimentBuckets.TREATMENT_1]=function(e){return null},o),a));var F=d.default.connectStores([E.default],function(){return{connectionState:E.default.getState(),hostname:E.default.getHostname(),pings:E.default.getPings(),averagePing:E.default.getAveragePing(),lastPing:E.default.getLastPing(),outboundLossRate:E.default.getOutboundLossRate()}})(P.default),j=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=x(this,e.call.apply(e,[this].concat(a))),r.renderPopout=function(e){return u.createElement(F,e)},r.handleDisconnect=function(){h.default.selectVoiceChannel(null,null)},r.handleScreenShare=function(e){var t=r.props,n=t.isScreenSharing,o=t.channel,a=g.default.getCurrentGame();n||null!=a?e&&(0,c.openContextMenu)(e,function(e){return u.createElement(L.default,l({},e,{channel:o,game:a}))}):y.default.open(o)},x(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.guild,n=e.channel,r=e.rtcConnectionQuality,o=e.rtcConnectionState,a=e.rtcConnectionLastPing,l=e.hasVideo,u=e.hasGuildVideo,d=e.selectedChannelId,f=e.isScreenSharing,c=e.isCameraGranted,h=e.redesignedActivityPanel;if(null==n)return null;var y=n.toString(!0),m=void 0;null!=t?(m=D.Routes.CHANNEL(t.id,u?n.id:d),y=y+" / "+t.name):m=D.Routes.CHANNEL(D.ME,n.id);var v=i(R.default,{className:u?k.default.status:"",quality:r,state:o,lastPing:a,redesignedActivityPanel:h,hasVideo:l},void 0,h?i(s.Link,{to:m,className:k.default.channel,onClick:function(){return p.default.channelListScrollTo(t?t.id:D.ME,n.id)}},void 0,y):null),_=void 0,E=void 0;return u?(v=i(b.default,{closeOnScroll:!1,render:this.renderPopout,position:b.default.Positions.TOP,showArrow:!0,containerClass:k.default.popout},void 0,i("div",{},void 0,v)),E=c?i(M.default,{text:f?U.default.Messages.SCREEN_SHARE_OPTIONS:U.default.Messages.SCREEN_SHARE_ON},void 0,i(A.default,{onClick:this.handleScreenShare},void 0,i("div",{className:k.default.buttonScreenShare}))):i(M.default,{text:U.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,i("div",{className:k.default.buttonScreenShareDisabled}))):_=i(b.default,{closeOnScroll:!1,render:this.renderPopout,position:b.default.Positions.TOP,showArrow:!0,containerClass:k.default.popout},void 0,i(M.default,{text:U.default.Messages.RTC_CONNECTION_INFO},void 0,i("div",{className:k.default.buttonInfo}))),i("div",{className:k.default.container},void 0,i("div",{className:k.default.inner},void 0,v,h?null:i(s.Link,{to:m,className:k.default.channel,onClick:function(){return p.default.channelListScrollTo(t?t.id:D.ME,n.id)}},void 0,y)),i(O.default,{grow:0,shrink:0},void 0,_,E,i(M.default,{text:U.default.Messages.DISCONNECT},void 0,i(A.default,{onClick:this.handleDisconnect},void 0,i("div",{className:k.default.buttonDisconnect})))))},t}(u.PureComponent);j.displayName="RTCConnection",t.default=d.default.connectStores([E.default,_.default,v.default,m.default,S.default,T.default,C.default,I.default],function(){var e=E.default.getGuildId(),t=E.default.getChannelId();return{rtcConnectionQuality:E.default.getQuality(),rtcConnectionState:E.default.getState(),rtcConnectionLastPing:E.default.getLastPing(),hasVideo:null!=t&&T.default.hasVideo(e,t),isScreenSharing:_.default.isScreenSharing(),isCameraGranted:_.default.isEnabled(),guild:v.default.getGuild(e),channel:m.default.getChannel(t),hasGuildVideo:C.default.isAvailable(e)&&_.default.supports(f.Features.DESKTOP_CAPTURE),selectedChannelId:S.default.getChannelId(e),redesignedActivityPanel:I.default.inExperiment}})(j),e.exports=t.default},7761:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(2)),i=v(n(462)),l=v(n(4)),u=_(n(6017)),s=_(n(6561)),d=v(n(35)),f=v(n(908)),c=v(n(5983)),p=v(n(7762)),h=n(0),y=v(n(13)),m=v(n(5850));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var E=o(i.default,{title:"Discord"}),g=o(p.default,{}),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.mount(),s.setHomeLink(h.Routes.ACTIVITY)},t.prototype.componentWillUnmount=function(){u.unmount()},t.prototype.renderCustomMessage=function(){return o("div",{},void 0,o("p",{},void 0,y.default.Messages.ERRORS_ACTIVITY_FEED_CRASH),o("p",{},void 0,y.default.Messages.ERRORS_ACTION_TO_TAKE))},t.prototype.render=function(){return o(f.default,{theme:this.props.theme,renderCustomMessage:this.renderCustomMessage},void 0,o(c.default,{page:h.AnalyticsPages.ACTIVITY_FEED,root:!0},void 0,o("div",{className:m.default.activityFeed},void 0,E,g)))},t}(a.PureComponent);S.displayName="ActivityFeed",t.default=l.default.connectStores([d.default],function(){return{theme:d.default.theme}})(S),e.exports=t.default},7762:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=K(n(2)),l=W(n(6)),u=W(n(99)),s=W(n(4)),d=n(81),f=W(n(1)),c=n(6339),p=n(6756),h=K(n(857)),y=W(n(5983)),m=W(n(5990)),v=W(n(43)),_=W(n(451)),E=W(n(35)),g=W(n(154)),S=W(n(6049)),T=W(n(6162)),I=n(6038),C=W(I),N=W(n(7763)),A=W(n(152)),O=W(n(6757)),b=W(n(313)),M=n(224),R=W(n(18)),P=K(n(162)),L=n(863),w=W(n(9)),D=W(n(6101)),U=W(n(7764)),k=W(n(7767)),G=n(7242),x=W(G),F=W(n(8012)),j=W(n(8014)),B=W(n(8016)),H=n(0),V=W(n(13)),Y=W(n(5849));function W(e){return e&&e.__esModule?e:{default:e}}function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var z=1e3;function $(){return window.innerHeight<680||window.innerWidth<1200}var q=(0,m.default)(O.default),X=a(N.default,{}),Q=a(k.default,{}),J=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.updateDimensions=function(){r.setState({shouldUseSmallCarousel:$()})},r.trackLoaded=function(){if(!r.tracked){r.tracked=!0,r.updateViewedCards();var e=r.props,t=e.news,n=e.loadId,o=e.quickLauncherApplications,a=new Set,i={load_id:n,num_cards:Object.keys(r.nowPlayingCardRefs).length+Object.keys(r.gameFeedCardRefs).length,num_cards_game_playable:0,game_ids:[],num_cards_visible:r.viewedCards.size,num_game_parties:0,num_game_parties_voice:0,num_game_parties_solo:0,num_game_parties_recently_played:0,num_game_parties_rich_presence:0,num_game_parties_collapsed:0,num_cards_game_news:t.length,num_users_subscribed:_.default.feedUserIDs.size,num_launcher_applications:o.length,window_width:window.innerWidth,window_height:window.innerHeight};for(var l in r.nowPlayingCardRefs){r.nowPlayingCardRefs[l].parties.forEach(function(e){var t=e.showPlayingMembers,n=e.voiceChannels,r=e.currentActivities;i.num_game_parties_voice+=n.length;var o=r,l=Array.isArray(o),u=0;for(o=l?o:o[Symbol.iterator]();;){var s;if(l){if(u>=o.length)break;s=o[u++]}else{if((u=o.next()).done)break;s=u.value}var d=s,f=d.game,c=d.activity,p=d.playingMembers;i.num_game_parties+=1,(0,I.isRealGameId)(f.id)&&a.add(f.id),(0,M.hasRichActivity)(c)&&(i.num_game_parties_rich_presence+=1),1===p.length&&(i.num_game_parties_solo+=1),t||(i.num_game_parties_collapsed+=1)}})}for(var u in r.gameFeedCardRefs){var s=r.gameFeedCardRefs[u],d=s.gameId,f=s.numPlayers;i.num_game_parties_recently_played+=f,a.add(d)}i.game_ids=Array.from(a),R.default.track(H.AnalyticEvents.ACTIVITY_FEED_LOADED,i)}},r.trackExited=function(){var e=Math.floor((Date.now()-r.openedTimestamp)/1e3),t=new Set,n=new Set;Array.from(r.viewedGames).forEach(function(e){var r=v.default.getGame(e);if(null!=r){var o=r.primarySkuId;null!=o&&(t.add(e),n.add(o))}});var o={load_id:r.props.loadId,game_ids_viewed:Array.from(r.viewedGames),store_application_ids_viewed:Array.from(t),store_sku_ids_viewed:Array.from(n),num_games_viewed:r.viewedGames.size,num_cards_viewed:r.viewedCards.size,num_cards_total:Object.keys(r.nowPlayingCardRefs).length+Object.keys(r.gameFeedCardRefs).length,seconds_spent:e};R.default.track(H.AnalyticEvents.ACTIVITY_FEED_EXITED,o)},r.renderItem=function(e,t,n){switch(e.type){case H.ActivityCardTypes.USER:var o=e.party;return a(j.default,{setRef:function(e){return r.setNowPlayingCardRef(e,o.id,[o])},party:o,index:n,loadId:r.props.loadId},o.id);case H.ActivityCardTypes.GAME:var i=e.game,l=e.parties;return a(x.default,{type:G.GameCardTypes.NOW_PLAYING,setActivityFeedCardRef:function(e){return r.setNowPlayingCardRef(e,i.id,l)},game:i,players:l.map(function(e){var t=e.priorityMembers,n=e.currentActivities;return{user:t[0].user,startedPlaying:n[0].startedPlayingTime}}),width:t,index:n,loadId:r.props.loadId},"game-"+i.id)}throw new Error("unknown type of NowPlayingCard")},r.getItemId=function(e){switch(e.type){case H.ActivityCardTypes.USER:return e.party.id;case H.ActivityCardTypes.GAME:return e.game.id}throw new Error("unknown type of NowPlayingCard")},r.hasScrolledPassedCard=function(e){if(null==e)return!1;var t=u.default.findDOMNode(e);return t instanceof HTMLElement&&t.getBoundingClientRect().top<r.scrollerBottom},r.updateViewedCards=function(){if(r.tracked){for(var e in r.nowPlayingCardRefs){var t=r.nowPlayingCardRefs[e],n=t.ref,o=t.parties;r.hasScrolledPassedCard(n)&&(r.viewedCards.add(e),o.forEach(function(e){var t=e.currentActivities,n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(o>=t.length)break;a=t[o++]}else{if((o=t.next()).done)break;a=o.value}var i=a.game.id;(0,I.isRealGameId)(i)&&r.viewedGames.add(i)}}))}for(var a in r.gameFeedCardRefs){var i=r.gameFeedCardRefs[a],l=i.ref,u=i.gameId;r.hasScrolledPassedCard(l)&&(r.viewedCards.add(a),r.viewedGames.add(u))}}},r.renderNowPlayingEmpty=function(){return X},r.renderNowPlayingHeader=function(){return a(A.default,{className:Y.default.header,align:A.default.Align.CENTER},void 0,a("div",{className:Y.default.headerText},void 0,V.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE))},r.handleCarouselItemViewed=function(e,t){e.type!==H.FeedCarouselItemTypes.PROMOTION||r.ackedPromotions.has(e.promotion.id)||(r.trackPromotion(e.promotion,t),(0,p.ackPromotion)(e.promotion.ackKey,H.PromotionAckTypes.IMPRESSION),r.ackedPromotions.add(e.promotion.id))},r.renderNewsCarousel=function(){var e=r.props,t=e.news,n=e.promotions,o=e.isFocused,i=e.loadId,l=n.map(function(e){var t=e.destination.type===H.PromotionTypes.GAME?v.default.getGame(e.destination.sku.applicationId):null;return{type:H.FeedCarouselItemTypes.PROMOTION,promotion:e,application:t}}),u=t,s=Array.isArray(u),d=0;for(u=s?u:u[Symbol.iterator]();;){var f;if(s){if(d>=u.length)break;f=u[d++]}else{if((d=u.next()).done)break;f=d.value}var c=f,p=c.news,h=c.application;P.hasFlag(p.flags,H.GameNewsFlags.PROMOTION)||l.push({type:H.FeedCarouselItemTypes.APPLICATION_NEWS,news:p,application:h})}return 0===l.length?null:a(U.default,{useSmallCarousel:r.state.shouldUseSmallCarousel,cardMetadata:{loadId:i},items:l.slice(0,4),isWindowFocused:o,className:Y.default.carousel,onItemViewed:r.handleCarouselItemViewed})},r.setNowPlayingCardRef=function(e,t,n){null==e?delete r.nowPlayingCardRefs[t]:(r.nowPlayingCardRefs[t]={ref:e,parties:n},!r.tracked&&r.props.loaded&&r.loadingTimeout.start(z,r.trackLoaded))},r.handleNowPlayingColumnChange=function(){r.updateViewedCards()},r.handleWhatsNewFeedColumnChange=function(){r.updateViewedCards()},r.handleWhatsNewEmptyChange=function(e){r.setState({isWhatsNewEmpty:e})},r.setWhatsNewFeedCardRef=function(e,t,n){null==e?delete r.gameFeedCardRefs[t]:(r.gameFeedCardRefs[t]={ref:e,gameId:t,numPlayers:n},!r.tracked&&r.props.loaded&&r.loadingTimeout.start(z,r.trackLoaded))},r.handleScroll=l.default.throttle(function(e){var t=e.getScrollerNode();if(null!=t){var n=t.getBoundingClientRect(),o=n.top,a=n.bottom;r.scrollerTop=o,r.scrollerBottom=a}r.updateViewedCards()},500,{leading:!1}),r.tracked=!1,r.openedTimestamp=Date.now(),r.loadingTimeout=new d.Timeout,r.viewedGames=new Set,r.viewedCards=new Set,r.ackedPromotions=new Set,r.scrollerTop=0,r.scrollerBottom=0,r.nowPlayingCardRefs={},r.gameFeedCardRefs={},r.state={currentActivityColumnCount:0,gameFeedColumnCount:0,isWhatsNewEmpty:null,shouldUseSmallCarousel:$()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.updateDimensions),R.default.track(H.AnalyticEvents.ACTIVITY_FEED_VIEWED);var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched;t&&null!=n&&f.default.wait(function(){return h.scanForLocalApplications()}),T.default.shouldFetch()&&f.default.wait(function(){return(0,p.fetchPromotions)()}),(0,c.fetchActivityStatistics)()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions),this.trackExited(),this.loadingTimeout.stop(),this.handleScroll.cancel()},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||f.default.wait(function(){return h.scanForLocalApplications()}),this.tracked||!this.props.loaded||e.loaded||this.loadingTimeout.start(z,this.trackLoaded)},t.prototype.trackPromotion=function(e,t){R.default.track(H.AnalyticEvents.PROMOTION_VIEWED,o({load_id:this.props.loadId,promotion_id:""+e.id,promotion_type:e.destination.type,promotion_url:e.destination.type===H.PromotionTypes.GENERAL?e.destination.linkUrl:null,list_index:t,location_page:H.AnalyticsPages.ACTIVITY_FEED,location_section:H.AnalyticsSections.HERO,location_object:H.AnalyticsObjects.CAROUSEL},e.destination.type===H.PromotionTypes.GAME?e.destination.sku.getAnalyticsData():null))},t.prototype.renderNowPlayingSection=function(){var e=this,t=this.props,n=t.isExperiencedFeedUser,r=t.nowPlayingCards,o=this.state.isWhatsNewEmpty;return n&&!0!==o&&0===r.length?null:a(q,{items:r,gutterWidth:20,renderEmpty:this.renderNowPlayingEmpty,renderItem:this.renderItem,renderHeader:function(){return e.renderNowPlayingHeader()},maxColumns:2,getItemId:this.getItemId,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleNowPlayingColumnChange})},t.prototype.renderBody=function(){var e=this.props,t=e.nowPlayingCards,n=e.quickLauncherApplications,r=w.default.isWindows()?a(F.default,{applicationItems:n,className:Y.default.quickLauncher}):null,o=this.renderNowPlayingSection(),i=a(B.default,{hasNowPlayingSection:null!=o,hasNowPlayingItem:t.length>0,gutterWidth:20,maxColumns:2,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleWhatsNewFeedColumnChange,onEmptyChange:this.handleWhatsNewEmptyChange,onCardRef:this.setWhatsNewFeedCardRef});return a("div",{className:Y.default.body},void 0,Q,a(y.default,{section:H.AnalyticsSections.HERO},void 0,this.renderNewsCarousel()),a(y.default,{section:H.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,r),a(y.default,{section:H.AnalyticsSections.ACTIVITY_FEED_FEED,object:H.AnalyticsObjects.CARD},void 0,o,i))},t.prototype.render=function(){return this.props.loaded?a(A.default,{direction:A.default.Direction.VERTICAL,className:Y.default.feedWrapper},void 0,a(D.default,{title:V.default.Messages.ACTIVITY}),a(b.default,{track:!0,className:Y.default.feed,onScroll:this.handleScroll,onUpdate:this.handleScroll,onResize:this.handleScroll},void 0,this.renderBody())):null},t}(i.Component);J.displayName="Feed";var Z=(0,L.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,r=e.isLaunching,o=e.isRunning,a=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:a,libraryApplication:t,iconSrc:n.getIconURL(60),splashSrc:n.getSplashURL(300),disabled:r||o,distributor:null!=t?t.getDistributor():null}})});t.default=s.default.connectStores([C.default,T.default,g.default,_.default,v.default,S.default],function(){return{nowPlayingCards:C.default.nowPlayingCards,news:C.default.newsAF1,promotions:T.default.promotions,importGamesEnabled:E.default.importGamesEnabled,gamesDBLastFetched:v.default.lastFetched,quickLauncherApplications:Z(S.default.launchableApplicationViewItems),isExperiencedFeedUser:_.default.isExperiencedFeedUser,isFocused:g.default.isFocused(),loaded:C.default.loaded,loadId:C.default.loadId}})(J),e.exports=t.default},7763:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(13)),l=u(n(5835));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o("div",{className:l.default.emptyState},void 0,o("div",{className:l.default.title},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_TITLE),o("div",{className:l.default.subtitle},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_SUBTITLE))},t}(a.PureComponent);s.displayName="ActivityFeedEmptyState",t.default=s,e.exports=t.default},7764:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=E(n(2)),u=n(114),s=n(6756),d=n(839),f=_(n(831)),c=_(n(5980)),p=E(n(6021)),h=_(n(45)),y=_(n(7765)),m=_(n(7766)),v=n(0);function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S="premium",T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=g(this,e.call.apply(e,[this].concat(i))),r.state={isGamePopoutOpen:!1,visibleIndex:0,direction:1},r.numIntentionalNewsChange=0,r.nextItem=function(){var e=r.props.items;r.changeItem(e,1)},r.prevItem=function(){var e=r.props.items;r.changeItem(e,-1)},r.setItem=function(e){var t=r.state.visibleIndex,n=r.props.items;r.changeItem(n,e-t),r.numIntentionalNewsChange++},r.getCurrentDirection=function(){return r.state.direction},r.handleGamePopoutOpen=function(){r.setState({isGamePopoutOpen:!0})},r.handleGamePopoutClose=function(){r.setState({isGamePopoutOpen:!1})},r.handleItemClick=function(e,t,n){e.type===v.FeedCarouselItemTypes.APPLICATION_NEWS?r.handleNewsClick(e.application,e.news,t):r.handlePromotionClick(e.promotion,n)},r.handleNewsClick=function(e,t,n){null!=t&&p.trackGameNewsOpened(v.AnalyticsLocations.ACTIVITY_FEED,t,n,e,r.props.cardMetadata)},r.handlePromotionClick=function(e,t){var n=r.analyticsLocation;if(null!=e){if(e.destination.type===v.PromotionTypes.GENERAL){var o=e.destination.linkUrl;if(o.startsWith("/")){var i=(0,u.parse)(o);i.pathname===v.Routes.SETTINGS(S)?f.default.open(v.UserSettingsSections.PREMIUM):h.default.transitionTo(i.pathname,{hash:i.hash,search:i.search,state:{analyticsLocation:n,analyticsSource:a({},r.analyticsLocation,{promotionId:e.id})}}),t.preventDefault()}}else if(e.destination.type===v.PromotionTypes.GAME){var l=e.destination.sku;(0,d.goToSKUStoreListing)(l.id,{slug:l.slug,analyticsSource:n,analyticsProperties:{source_promotion_id:e.id}}),t.preventDefault()}(0,s.ackPromotion)(e.ackKey,v.PromotionAckTypes.CLICK)}},r.handlePromotionBuyClick=function(e){if(e.type!==v.FeedCarouselItemTypes.PROMOTION)throw new Error("Unexpected item type");(0,s.ackPromotion)(e.promotion.ackKey,v.PromotionAckTypes.CLICK)},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.handleChangeVisibleIndex(this.state.visibleIndex)},t.prototype.componentWillUnmount=function(){this.numIntentionalNewsChange>0&&p.trackGameNewsChanged(v.AnalyticsLocations.ACTIVITY_FEED,null,this.numIntentionalNewsChange,this.props.cardMetadata)},t.prototype.componentDidUpdate=function(e,t){this.state.visibleIndex!==t.visibleIndex&&this.handleChangeVisibleIndex(this.state.visibleIndex)},t.prototype.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0),this.setState({visibleIndex:n,direction:t>0?1:-1})},t.prototype.handleChangeVisibleIndex=function(e){var t=this.props,n=t.onItemViewed,r=t.items;null!=r[e]&&n&&n(r[e],e)},t.prototype.render=function(){var e=this.props,t=e.useSmallCarousel,n=e.items,r=e.isWindowFocused,a=e.className,i=e.cardMetadata,l=this.state,u=l.visibleIndex,s=l.isGamePopoutOpen,d=t?y.default:m.default;return o(d,{items:n,visibleIndex:u,isGamePopoutOpen:s,isWindowFocused:r,className:a,cardMetadata:i,getCurrentDirection:this.getCurrentDirection,onItemClick:this.handleItemClick,onPromotionBuyClick:this.handlePromotionBuyClick,onGamePopoutOpen:this.handleGamePopoutOpen,onGamePopoutClose:this.handleGamePopoutClose,nextItem:this.nextItem,prevItem:this.prevItem,setItem:this.setItem})},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return a({},e,{object:v.AnalyticsObjects.CAROUSEL})}}]),t}(l.PureComponent);T.defaultProps={paused:!1},T.displayName="FeedCarousel",t.default=(0,c.default)(T),e.exports=t.default},7765:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(833)),u=h(n(7241)),s=n(6182),d=h(s),f=h(n(6175)),c=n(325),p=h(n(5838));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,c.cssValueToNumber)(p.default.carouselHeight),v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=y(this,e.call.apply(e,[this].concat(i))),r.renderItem=function(e,t){if(null==e)return null;var n=r.props,a=n.visibleIndex,i=n.getCurrentDirection,l=n.onGamePopoutOpen,s=n.onGamePopoutClose,d=n.onItemClick,f=n.onPromotionBuyClick,c=n.items,h=n.isWindowFocused;return o(u.default,{item:e,type:e.type,itemHeight:m,application:e.application,onOpen:function(n){return d(e,t,n)},onPromotionBuyClick:function(){return f(e)},onGamePopoutOpen:l,onGamePopoutClose:s,className:1===c.length?p.default.headerAlone:p.default.headerNormal,getDirection:i,index:a,forcePauseVideo:!h,simple:!0,horizontal:!0},a)},r.renderPaginationItem=function(e,t){return o("div",{className:t===r.props.visibleIndex?p.default.dotSelected:p.default.dotNormal},t)},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.isWindowFocused,r=e.className,a=e.visibleIndex,u=e.isGamePopoutOpen,c=e.nextItem,h=e.prevItem,y=e.setItem;return t.length<1?null:1===t.length?o("div",{className:(0,i.default)(p.default.feedCarousel,r)},void 0,o("div",{className:p.default.smallCarousel},void 0,this.renderItem(t[0],0))):o(f.default,{onInterval:c,interval:8e3,disable:!n||u,pauseOnHover:!0},void 0,o("div",{className:(0,i.default)(p.default.feedCarousel,r)},void 0,o(l.default,{className:p.default.smallCarousel},void 0,this.renderItem(t[a],a)),o("div",{className:p.default.pagination},void 0,o(s.CarouselPrevious,{onClick:h,className:p.default.arrow}),o(d.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:a,onSetItem:y}),o(s.CarouselNext,{onClick:c,className:p.default.arrow}))))},t}(a.PureComponent);v.displayName="HorizontalFeedCarousel",t.default=v,e.exports=t.default},7766:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(17)),l=y(n(833)),u=y(n(7241)),s=y(n(6182)),d=y(n(6175)),f=n(233),c=n(0),p=y(n(13)),h=y(n(5839));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=300,_=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=r=m(this,e.call.apply(e,[this].concat(l))),r.renderItem=function(e,t){if(null==e)return null;var n=r.props,a=n.visibleIndex,i=n.onItemClick,l=n.onPromotionBuyClick,s=n.onGamePopoutOpen,d=n.onGamePopoutClose,f=n.getCurrentDirection,c=n.isWindowFocused;return o(u.default,{item:e,application:e.application,onOpen:function(n){return i(e,t,n)},onPromotionBuyClick:function(){return l(e)},onGamePopoutOpen:s,onGamePopoutClose:d,className:h.default.article,getDirection:f,index:a,forcePauseVideo:!c},a)},r.renderPaginationItem=function(e,t){var n=r.props.visibleIndex,a=void 0,l=void 0,u=void 0,s=void 0;if(e.type===c.FeedCarouselItemTypes.APPLICATION_NEWS){var d=e.news,y=e.application;a=d.thumbnail,l=d.title,u=null!=y?y.getSplashURL(v):null,s=null!=y?y.name:""}else{var m=e.promotion;l=m.title,s=p.default.Messages.APPLICATION_STORE_ACTIVITY_FEED_PROMOTION_SUBTITLE,u=m.imageUrl}if(null!=a){var _=a.height/a.width*v;u=(0,f.getSizedImageSrc)(a.proxy_url||a.url,v,_,"png")}return o("div",{className:(0,i.default)(h.default.paginationItem,t===n?h.default.selectedPage:null)},t,o("div",{className:null!=u?h.default.splashArt:h.default.splashBackup,style:null!=u?{backgroundImage:"url("+u+")"}:null}),o("div",{className:h.default.paginationText},void 0,o("h2",{className:h.default.paginationTitle},void 0,l),o("h4",{className:h.default.paginationSubtitle},void 0,s)))},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.isWindowFocused,r=e.className,a=e.visibleIndex,u=e.isGamePopoutOpen,f=e.nextItem,c=e.setItem;return t.length<1?null:1===t.length?o("div",{className:(0,i.default)(h.default.feedCarousel,r)},void 0,o("div",{className:h.default.carousel},void 0,this.renderItem(t[0],0))):o(d.default,{onInterval:f,interval:8e3,disable:!n||u,pauseOnHover:!0},void 0,o("div",{className:(0,i.default)(h.default.feedCarousel,r)},void 0,o(l.default,{className:h.default.carousel},void 0,this.renderItem(t[a],a)),o("div",{className:h.default.pagination},void 0,o(s.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:a,onSetItem:c,vertical:!0}))))},t}(a.PureComponent);_.displayName="VerticalFeedCarousel",t.default=_,e.exports=t.default},7767:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=T(n(17)),s=T(n(4)),d=n(6603),f=n(6107),c=T(n(831)),p=T(n(474)),h=T(n(451)),y=T(n(846)),m=T(n(128)),v=T(n(306)),_=T(n(6030)),E=n(0),g=T(n(13)),S=T(n(5840));function T(e){return e&&e.__esModule?e:{default:e}}var I=Object.freeze({DEFAULT:g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE,VARIANT_1:g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ALT_1,VARIANT_2:g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ALT_2}),C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleAcceptClick=function(){(0,d.setConsents)([E.Consents.PERSONALIZATION],[]),(0,f.dismissPersonalizationNotice)()},t.prototype.handleDismissClick=function(){(0,f.dismissPersonalizationNotice)()},t.prototype.handleOpenPrivacySettings=function(){c.default.open(E.UserSettingsSections.PRIVACY_AND_SAFETY)},t.prototype.render=function(){var e=this.props,t=e.noticeText,n=e.isBlurple,r=e.hasDismissedPersonalizationNotice,o=e.hasFetchedPersonalizationConsent;return e.personalizationEnabled||!o||r?null:i("div",{className:n?S.default.personalizationNoticeBlurple:S.default.personalizationNotice},void 0,i(v.default,{name:v.default.Names.INFO,className:S.default.personalizationNoticeIcon}),i("div",{className:S.default.personalizationContent},void 0,i("div",{className:S.default.personalizationNoticeBody},void 0,i("div",{className:S.default.personalizationNoticeText},void 0,t.format({onClickPrivacy:this.handleOpenPrivacySettings}))),i("div",{className:S.default.personalizationNoticeButtons},void 0,i(m.default,{color:n?m.default.Colors.WHITE:m.default.Colors.BRAND,size:n?m.default.Sizes.SMALL:m.default.Sizes.MEDIUM,className:(0,u.default)(S.default.personalizationNoticeButton,S.default.brandText),onClick:this.handleAcceptClick},void 0,g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ACCEPT),i(m.default,{look:n?m.default.Looks.LINK:m.default.Looks.FILLED,color:n?m.default.Colors.WHITE:m.default.Colors.TRANSPARENT,size:n?m.default.Sizes.SMALL:m.default.Sizes.MEDIUM,className:S.default.personalizationNoticeButton,onClick:this.handleDismissClick},void 0,g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_DISMISS))))},t}(l.Component);C.defaultProps={isBlurple:!1},C.displayName="FeedPersonalizationConsentNotice";var N=s.default.connectStores([h.default,p.default],function(){return{hasDismissedPersonalizationNotice:h.default.hasDismissedPersonalizationNotice,hasFetchedPersonalizationConsent:p.default.receivedConsentsInConnectionOpen||p.default.fetchedConsents,personalizationEnabled:p.default.hasConsented(E.Consents.PERSONALIZATION)}})(C);t.default=(0,_.default)((0,y.default)(E.Experiments.PERSONALIZED_CONTENT_NOTICE,"AF - Personalized Content Notice",["Treatment 1: Old design + text variant 1","Treatment 2: Old design + text variant 2","Treatment 3: New design + old text","Treatment 4: New design + text variant 1","Treatment 5: New design + text variant 2"]),((o={})[E.ExperimentTypes.NONE]=function(){return i(N,{noticeText:I.DEFAULT})},o[E.ExperimentTypes.USER]=((r={})[E.ExperimentBuckets.CONTROL]=function(){return i(N,{noticeText:I.DEFAULT})},r[E.ExperimentBuckets.TREATMENT_1]=function(){return i(N,{noticeText:I.VARIANT_1})},r[E.ExperimentBuckets.TREATMENT_2]=function(){return i(N,{noticeText:I.VARIANT_2})},r[E.ExperimentBuckets.TREATMENT_3]=function(){return i(N,{noticeText:I.DEFAULT,isBlurple:!0})},r[E.ExperimentBuckets.TREATMENT_4]=function(){return i(N,{noticeText:I.VARIANT_1,isBlurple:!0})},r[E.ExperimentBuckets.TREATMENT_5]=function(){return i(N,{noticeText:I.VARIANT_2,isBlurple:!0})},r),o)),e.exports=t.default},8012:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=N(n(2)),u=n(307),s=C(n(5980));C(n(112));n(130);var d=C(n(43)),f=C(n(8013)),c=C(n(152)),p=n(306),h=C(p),y=n(827),m=C(y),v=N(n(6021)),_=N(n(5986)),E=C(n(6084)),g=C(n(6050)),S=n(0),T=C(n(13)),I=C(n(5845));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),f=0;f<i;f++)s[f]=arguments[f];return n=r=A(this,e.call.apply(e,[this].concat(s))),r.handleApplicationPlay=function(e){_.playApplication(e.id,e.libraryApplication,{analyticsParams:{location:r.analyticsLocation,num_launcher_applications:r.props.applicationItems.length}})},r.handleApplicationClick=function(e,t){var n=d.default.getGame(t.id);if(null!=n){var o=e.currentTarget;o=o instanceof Element?o:r,v.trackGamePopoutOpened(n,S.AnalyticsLocations.QUICK_LAUNCHER,r.analyticsLocation),(0,y.openPopout)(o,{render:function(){return r.renderGamePopout(n)},position:m.default.Positions.BOTTOM_LEFT,closeOnScroll:!1})}},r.handleApplicationContextMenu=function(e,t){var n=d.default.getGame(t.id),o=r.props.analyticsContext;null!=n&&(0,u.openContextMenu)(e,function(e){return l.createElement(g.default,a({},e,{type:S.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER,applicationId:n.id,analyticsContext:o}))})},r.renderGamePopout=function(e){return o(E.default,{popoutKey:"popout:"+e.id,game:e,source:S.AnalyticsLocations.QUICK_LAUNCHER,analyticsContext:r.props.analyticsContext})},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applicationItems,n=e.className,r=0===t.length;return o("div",{className:n},void 0,o(c.default,{align:c.default.Align.CENTER,justify:c.default.Justify.BETWEEN},void 0,o("div",{className:I.default.header},void 0,T.default.Messages.QUICK_LAUNCHER_HEADER)),r?o(c.default,{align:c.default.Align.CENTER,className:I.default.emptyState},void 0,o(h.default,{className:I.default.emptyIcon,name:p.IconNames.OPEN_EXTERNAL}),o("div",{},void 0,T.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT)):o(f.default,{onApplicationPlay:this.handleApplicationPlay,onApplicationClick:this.handleApplicationClick,onApplicationContextMenu:this.handleApplicationContextMenu,applications:t,className:I.default.dock}))},i(t,[{key:"analyticsLocation",get:function(){return a({},this.props.analyticsContext.location,{object:S.AnalyticsObjects.CARD})}}]),t}(l.PureComponent);O.displayName="QuickLauncher",t.default=(0,s.default)(O),e.exports=t.default},8013:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=p(n(5990)),u=p(n(128)),s=p(n(152)),d=p(n(129)),f=(n(0),p(n(13))),c=p(n(5844));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=n(7177),m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),p=0;p<a;p++)l[p]=arguments[p];return n=r=h(this,e.call.apply(e,[this].concat(l))),r.handleApplicationClick=function(e,t){var n=r.props.onApplicationClick;null==n||t.disabled||n(e,t)},r.handlePlayClick=function(e,t){e.stopPropagation();var n=r.props.onApplicationPlay;null==n||t.disabled||n(t)},r.handleApplicationContextMenu=function(e,t){var n=r.props.onApplicationContextMenu;null==n||t.disabled||n(e,t)},r.renderIcon=function(e){var t,n=r.props.dockItemClassName,a=null!=e.iconSrc?e.iconSrc:y;return o(s.default,{direction:s.default.Direction.VERTICAL,shrink:0,grow:0,align:s.default.Align.CENTER,className:(0,i.default)(c.default.dockItem,n),onContextMenu:function(t){return r.handleApplicationContextMenu(t,e)},onClick:function(t){return t.shiftKey?r.handlePlayClick(t,e):r.handleApplicationClick(t,e)}},e.id,o("div",{className:(0,i.default)(c.default.dockIcon,(t={},t[c.default.dockIconDisabled]=e.disabled,t)),style:{backgroundImage:"url('"+a+"')"}}),o(d.default,{className:c.default.dockItemText,size:d.default.Sizes.SMALL},void 0,e.name),o(u.default,{color:u.default.Colors.GREEN,size:u.default.Sizes.SMALL,onClick:function(t){return r.handlePlayClick(t,e)},disabled:e.disabled,className:c.default.dockItemPlay,fullWidth:!0},void 0,f.default.Messages.GAME_FEED_ACTIVITY_ACTION_PLAY))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applications,n=e.className,r=e.width,a=Math.floor(r/90),l=t.slice(0,a).map(this.renderIcon);return o("div",{className:(0,i.default)(c.default.dock,n)},void 0,l)},t}(a.PureComponent);m.defaultProps={disabled:!1},m.displayName="ApplicationDock",t.default=(0,l.default)(m),e.exports=t.default},8014:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=H(n(2)),u=B(n(17)),s=B(n(6005)),d=B(n(51)),f=B(n(7013)),c=B(n(8015)),p=B(n(311)),h=B(n(5979)),y=B(n(128)),m=B(n(221)),v=B(n(152)),_=B(n(5988)),E=B(n(6015)),g=B(n(306)),S=B(n(6012)),T=B(n(827)),I=n(224),C=B(n(18)),N=B(n(181)),A=n(82),O=H(n(6021)),b=B(n(45)),M=B(n(6026)),R=B(n(6136)),P=B(n(6197)),L=B(n(7012)),w=B(n(5353)),D=B(n(7243)),U=B(n(6352)),k=n(0),G=B(n(13)),x=B(n(5499)),F=B(n(5367)),j=B(n(5847));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=V(this,e.call.apply(e,[this].concat(i))),r.state={isHovered:!1,isOverflowOpen:!1},r.renderUserPopout=function(e,t){return l.createElement(w.default,a({},t,{user:e}))},r.setRef=function(e){var t=r.props.setRef;null!=t&&t(e)},r.handleMouseEnter=function(){r.setState({isHovered:!0})},r.handleMouseLeave=function(){r.setState({isHovered:!1})},r.handleOverflowOpen=function(e,t){r.setState({isOverflowOpen:!0}),r.props.onUserContextMenu(e,t,k.ContextMenuTypes.USER_ACTIVITY_FEED,r.handleOverflowClose)},r.handleOverflowClose=function(){r.setState({isOverflowOpen:!1})},r.handleMessageUser=function(e,t){var n=r.props,o=n.index,a=n.loadId,i=n.party,l=n.onMessageUser,u=i.currentActivities.length>0?i.currentActivities[0].game:null;l(e,t).then(function(e){O.trackUserMessaged(t,e,u,i,{loadId:a,index:o,type:k.ActivityCardTypes.USER})})},r.handleChannelClick=function(e,t,n){if(null!=t&&null!=n){var o=a({},r.getGamePlatformData(),r.analyticsMetadata,{af_voice_chat:!0,af_people_count:e.length,af_recently_played:!1,af_rich_presence:!1,guild_id:t.id,channel_id:n.id});N.default.trackWithMetadata(k.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,o);var i=d.default.getChannelId(t.id),l=null!=i?k.Routes.CHANNEL(t.id,i):k.Routes.GUILD(t.id);b.default.transitionTo(l),s.default.channelListScrollTo(t.id,n.id)}},r.handleGuildClick=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a({},r.getGamePlatformData(),r.analyticsMetadata,{af_voice_chat:n,af_people_count:t.length,guild_id:e.id});N.default.trackWithMetadata(k.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,o)},r.handleUserPopoutOpen=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=a({},r.getGamePlatformData(),r.analyticsMetadata,{popout_user_id:e.id,avatar_position:n,af_voice_chat:i,af_people_count:t.length,af_rich_presence:l});null!=o&&(u.game_id=o.id,u.game_name=o.name),C.default.track(k.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,u)},V(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSplashArtURL=function(){var e=this.props.party.currentActivities;return e.length>0?e[0].game.getSplashURL(740):null},t.prototype.getPartyActivitySize=function(e,t){var n=e.length,r=0,o=void 0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var a=t.party.size;r=Math.max(a[0]-e.length,0),o=a[1]}else o=n+r;return{knownSize:n,unknownSize:r,totalSize:o}},t.prototype.getGamePlatformData=function(){var e=this.props.party;return null!=e?{game_platform:e.currentActivities.length>0?(0,I.getGamePlatform)(e.currentActivities[0].activity):null}:null},t.prototype.renderSoloCardHeader=function(e){var t,n=this,r=this.state,a=r.isHovered,i=r.isOverflowOpen,l=this.props.onUserContextMenu,s=e.user,d=e.status;return o("div",{className:(0,u.default)(j.default.header,(t={},t[j.default.headerOverflowOpen]=i,t))},void 0,o(T.default,{render:function(e){return n.renderUserPopout(s,e)},position:T.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(s)},closeOnScroll:!1},void 0,o(h.default,{className:j.default.avatar,src:s.getAvatarURL(a&&(0,A.hasAnimatedAvatar)(s)?"gif":"png"),status:d,size:h.default.Sizes.LARGE,onContextMenu:function(e){return l(e,s)}})),o(T.default,{render:function(e){return n.renderUserPopout(s,e)},position:T.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(s)},closeOnScroll:!1},void 0,o(M.default,{user:s,usernameClass:j.default.username,discriminatorClass:j.default.discriminator,onContextMenu:function(e){return l(e,s)}})),o(v.default,{className:j.default.headerActions,align:v.default.Align.CENTER,justify:v.default.Justify.END},void 0,o(y.default,{color:x.default.headerButtonColor,hover:y.default.Hovers.BRAND,size:y.default.Sizes.SMALL,onClick:function(e){return n.handleMessageUser(e,s)}},void 0,G.default.Messages.GAME_FEED_ACTION_MESSAGE),o(y.default,{look:y.default.Looks.BLANK,size:y.default.Sizes.NONE,onClick:function(e){return n.handleOverflowOpen(e,s)}},void 0,o(g.default,{name:g.default.Names.OVERFLOW_MENU,className:j.default.overflowMenu}))))},t.prototype.renderPartiedCardHeader=function(e){var t=this,n=this.props.party,r=n.guildContext,a=n.isSpotifyActivity,i=e.map(function(n,r){var a,i=r===e.length-1;return o(T.default,{render:function(e){return t.renderUserPopout(n.user,e)},position:T.default.Positions.RIGHT,onOpen:function(){return t.handleUserPopoutOpen(n.user,e,r+1)},closeOnScroll:!1},n.user.id,o("span",{className:(0,u.default)(j.default.usernamePartied,(a={},a[j.default.usernameSpacing]=i,a)),onContextMenu:function(e){return t.props.onUserContextMenu(e,n.user)}},void 0,n.user.username+(i?"":", ")))});return o("div",{className:j.default.header},void 0,null!=r?o(E.default,{size:E.default.Sizes.MEDIUM,guild:r,className:j.default.guildIcon,to:k.Routes.GUILD(r.id),onContextMenu:function(e){return t.props.onGuildContextMenu(e,r)},onClick:function(){return t.handleGuildClick(r,e,!1)}}):o("div",{className:j.default.headerGroupIconBackground},void 0,o(g.default,{name:g.default.Names.PEOPLE,className:j.default.headerGroupIcon})),o("div",{className:j.default.headerText},void 0,o("div",{className:j.default.headerTitle},void 0,null!=r?G.default.Messages.GAME_FEED_CARD_HEADER_GROUP_GUILD.format({count:e.length,guild:r}):a?G.default.Messages.GAME_FEED_CARD_HEADER_SPOTIFY_GROUP:G.default.Messages.GAME_FEED_CARD_HEADER_GROUP.format({count:e.length})),o("div",{className:j.default.headerSubtitle},void 0,i)))},t.prototype.renderHeader=function(){var e=this.props.party.priorityMembers;return 1===e.length?this.renderSoloCardHeader(e[0]):this.renderPartiedCardHeader(e)},t.prototype.renderVoiceChannel=function(e,t,n){var r,a=this,i=this.props,l=i.party,s=i.onUserContextMenu,d=i.onGuildContextMenu,f=i.onChannelContextMenu;return o(v.default,{align:v.default.Align.CENTER,className:(0,u.default)(j.default.voiceChannel,(r={},r[j.default.bottomSeparator]=l.currentActivities.length>0,r))},n.id+"-"+t.id,null!=l.guildContext?o("div",{className:j.default.guildIconEmptyBackground},void 0,o(g.default,{className:j.default.guildIconEmptyIcon,name:g.default.Names.SPEAKER})):o("div",{className:j.default.guildIconWrapper},void 0,o(E.default,{className:j.default.voiceGuildIcon,showTooltip:!0,showVerified:!0,guild:n,size:E.default.Sizes.MEDIUM,to:k.Routes.GUILD(n.id),onContextMenu:function(e){return d(e,n)},onClick:function(){return a.handleGuildClick(n,e,!0)}}),o(g.default,{name:g.default.Names.SPEAKER,className:j.default.voiceChannelIcon})),o(m.default,{className:j.default.channelName,onClick:function(){return a.handleChannelClick(e,n,t)},onContextMenu:function(e){return f(e,t)}},void 0,t.name),o("div",{className:j.default.partyAvatars},void 0,o(c.default,{renderUserPopout:this.renderUserPopout,onUserContextMenu:s,onUserPopoutOpen:function(e,t,n){return a.handleUserPopoutOpen(t,e,n,null,!0,!1)},overflowPopoutHeader:G.default.Messages.GAME_FEED_VOICE_OVERFLOW_COUNT.format({count:e.length}),overflowTooltip:G.default.Messages.GAME_FEED_VOICE_OVERFLOW,members:e,partySize:this.getPartyActivitySize(e),minInOrderToRender:0})))},t.prototype.renderActivity=function(e,t){var n,r=this,a=e.game,i=e.activity,l=e.playingMembers,s=this.props,d=s.party,f=d.showPlayingMembers,h=d.isSpotifyActivity,m=s.onUserContextMenu,E=s.onApplicationContextMenu,g=(0,I.hasRichActivity)(i),T=null!=i&&g,C=this.getPartyActivitySize(l,i),N=(0,I.isStreaming)(i)?(0,I.getStreamURL)(i):null,A=null==N&&(f||T&&C.totalSize>1)?o("div",{className:j.default.partyAvatars},void 0,o(c.default,{justify:v.default.Justify.END,renderUserPopout:this.renderUserPopout,onUserContextMenu:m,onUserPopoutOpen:function(e,t,n){return r.handleUserPopoutOpen(t,e,n,a,!1,g)},overflowPopoutHeader:h?G.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:l.length}):G.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:l.length}),overflowTooltip:h?G.default.Messages.GAME_FEED_SPOTIFY_OVERFLOW:G.default.Messages.GAME_FEED_USER_OVERFLOW,members:l,partySize:C,minInOrderToRender:0})):null;return o("div",{className:(0,u.default)(j.default.game,(n={},n[j.default.bottomSeparator]=!t,n))},a.id,o(v.default,{align:v.default.Align.CENTER},void 0,o(L.default,{game:a,source:k.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:F.default.iconHover},void 0,o(_.default,{game:a,onContextMenu:function(e){return E(e,a)}})),o("div",{className:g?j.default.gameInfoRich:j.default.gameInfo},void 0,null!=N?o("div",{className:j.default.streamInfo},void 0,o("div",{className:j.default.gameName},void 0,a.name),o(p.default,{className:j.default.playTime,href:N},void 0,(0,I.getSimpleStreamURL)(N))):o("div",{className:j.default.gameNameWrapper},void 0,o(L.default,{game:a,source:k.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:F.default.textHover},void 0,o("div",{className:j.default.gameName,onContextMenu:function(e){return E(e,a)}},void 0,a.name))),g?null:(0,I.isOnXbox)(i)?o("span",{className:j.default.playTime},void 0,G.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX):o(S.default,{className:j.default.playTime,start:e.startedPlayingTime,end:e.stoppedPlayingTime,location:S.default.Locations.ACTIVITY_FEED}),null!=i&&g?o(P.default,{reverse:!0,showPrimaryActionOnly:!this.state.isHovered,color:y.default.Colors.PRIMARY,hover:y.default.Hovers.BRAND,look:y.default.Looks.FILLED,type:R.default.Types.ACTIVITY_FEED,source:"Activity Feed Flipped",activity:i,user:e.activityUser}):null),f&&!T?A:null),T?o(v.default,{className:j.default.richActivity},void 0,o(R.default,{hideHeader:!0,hideName:!h,showActions:!1,type:R.default.Types.ACTIVITY_FEED,user:e.activityUser,activity:i,source:"Activity Feed Flipped",className:j.default.activity}),A):null)},t.prototype.renderActivities=function(e,t,n){var r=this;return 0===e.length?null:o(D.default,{title:t,className:n},void 0,e.map(function(t,n){return r.renderActivity(t,n===e.length-1)}))},t.prototype.renderVoiceChannels=function(){var e=this,t=this.props.party.voiceChannels;return 0===t.length?null:o(D.default,{},void 0,t.map(function(t){var n=t.members,r=t.channel,o=t.guild;return e.renderVoiceChannel(n,r,o)}))},t.prototype.render=function(){return l.createElement(f.default,{ref:this.setRef,className:j.default.card,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o(f.default.Header,{className:j.default.cardHeader,splashArtURL:this.getSplashArtURL()},void 0,this.renderHeader()),o(f.default.Body,{className:j.default.cardBody},void 0,this.renderVoiceChannels(),this.renderActivities(this.props.party.currentActivities)))},i(t,[{key:"analyticsMetadata",get:function(){var e=this.props;return{card_index:e.index,load_id:e.loadId,card_type:e.party.partiedMembers.length>1?k.ActivityCardTypes.GROUP:k.ActivityCardTypes.USER}}}]),t}(l.PureComponent);Y.displayName="UserCard",t.default=(0,U.default)(Y),e.exports=t.default},8015:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(17)),l=E(n(6)),u=E(n(99)),s=E(n(7002)),d=E(n(5990)),f=n(5979),c=E(n(152)),p=E(n(306)),h=n(6757),y=E(n(827)),m=E(n(442)),v=E(n(13)),_=E(n(5846));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=function(e){function t(){var n,r;g(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.renderPopout=function(e){var t=r.props,n=t.renderPopout,o=t.member;return null!=o&&null!=n?n(o,e):null},r.handleUserPopoutOpen=function(){var e=r.props,t=e.onUserPopoutOpen,n=e.member,o=e.position,a=e.members;null!=n&&null!=t&&t(a,n,o)},r.handleClick=function(){var e=r.props,t=e.onClick,n=e.member;null!=n&&null!=t&&t(n)},r.handleUserContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.member;null!=o&&null!=n&&n(e,o)},S(r,n)}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.member;return e.empty?o("div",{className:_.default.partyMemberEmpty}):null!=t?o(y.default,{render:this.renderPopout,position:y.default.Positions.LEFT,closeOnScroll:!1,onOpen:this.handleUserPopoutOpen},void 0,o(m.default,{text:t.username},void 0,o(f.AvatarImage,{src:t.getAvatarURL(),size:f.AvatarSizes.SMALL,onContextMenu:this.handleUserContextMenu,onClick:this.handleClick,className:(0,i.default)(_.default.partyMember,_.default.clickable)}))):o(m.default,{text:v.default.Messages.GAME_FEED_UNKNOWN_PLAYER},void 0,o("div",{className:_.default.partyMemberUnknown},void 0,o(p.default,{name:p.default.Names.DISCORD,className:_.default.partyMemberUnknownIcon})))},t}(a.PureComponent);I.displayName="PartyMember";var C=function(e){function t(){var n,r;g(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.handleMasonryNodeInserted=function(e){var t=e.node,n=u.default.findDOMNode(r);n instanceof Element&&t.contains(n)&&r.props.triggerResize()},S(r,n)}return T(t,e),t.prototype.componentDidMount=function(){h.MasonryNodeInsertedEmitter.addListener("change",this.handleMasonryNodeInserted)},t.prototype.componentWillUnmount=function(){h.MasonryNodeInsertedEmitter.removeListener("change",this.handleMasonryNodeInserted)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.justify,r=void 0===n?c.default.Justify.END:n,a=e.renderUserPopout,i=e.onUserContextMenu,u=e.onUserPopoutOpen,d=e.partySize,f=e.minInOrderToRender,p=e.members,h=e.width,v=e.overflowPopoutHeader,E=e.overflowTooltip,g=d.unknownSize,S=d.totalSize,T=d.knownSize;if(S<=f)return null;for(var C=Math.floor(h/38),N=(0,l.default)(p).filter(function(e){return null!=e}).map(function(e,t){return o(I,{position:t+1,member:e,members:p,renderPopout:a,onContextMenu:i,onUserPopoutOpen:u},e.id)}).take(C).value(),A=N.length,O=0;O<g&&N.length<C;O++)N.push(o(I,{position:A+O},"unknown-member-"+O));A=N.length;for(var b=0;b<S-T-g&&N.length<C;b++)N.push(o(I,{position:A+b,empty:!0},"empty-member-"+b));var M=o(s.default,{party:p,header:v});if(N.length<S){N.pop();var R=Math.min(S-N.length,99);N.push(o(y.default,{render:function(){return M}},"overflow",o(m.default,{text:E.format({overflow:R})},void 0,o("div",{className:_.default.partyMemberOverflow},void 0,"+",R))))}return o(c.default,{justify:r,className:t},void 0,N)},t}(a.PureComponent);C.displayName="ActivityFeedPartyAvatars",t.default=(0,d.default)(C),e.exports=t.default},8016:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(4)),u=S(n(5990)),s=S(n(851)),d=S(n(43)),f=S(n(6048)),c=S(n(6028)),p=S(n(451)),h=S(n(15)),y=S(n(6038)),m=S(n(6757)),v=n(7242),_=S(v),E=S(n(13)),g=S(n(5848));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=(0,u.default)(m.default),N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=I(this,e.call.apply(e,[this].concat(i))),r.isEmpty=null,r.renderEmptyState=function(){return r.props.hasNowPlayingItem?null:a("div",{className:g.default.emptyImage})},r.renderHeader=function(){var e=r.props,t=e.items,n=e.hasNowPlayingSection;return 0===t.length?null:a("div",{className:n?g.default.headerWithNowPlaying:g.default.headerWithoutNowPlaying},void 0,E.default.Messages.GAME_FEED_WHAT_IS_NEW_HEADER_TITLE)},r.getItemId=function(e){return e.gameId},r.setCardRef=function(e,t,n){r.props.onCardRef(e,t,n.length)},r.renderCard=function(e,t,n){var o=e.gameId,i=e.game,l=e.players,u=e.news;return a(_.default,{type:v.GameCardTypes.RECENTLY_PLAYED,setActivityFeedCardRef:function(e){return r.setCardRef(e,o,l)},game:i,news:u,onVideoPlay:r.handleVideoPlay,players:l,width:t,index:n,loadId:r.props.loadId},o)},r.handleVideoPlay=function(){r.videoStartPlayingTime=Date.now()},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updateIsEmpty()},t.prototype.shouldComponentUpdate=function(){var e=this.videoStartPlayingTime;return null==e||Date.now()-e>3e5},t.prototype.componentDidUpdate=function(){this.updateIsEmpty()},t.prototype.updateIsEmpty=function(){var e=this.props,t=e.items,n=e.onEmptyChange,r=0===t.length;this.isEmpty!==r&&(this.isEmpty=r,n(r))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.maxColumns,r=e.desiredItemWidth,a=e.maxItemWidth,l=T(e,["items","maxColumns","desiredItemWidth","maxItemWidth"]),u=(l.hasNowPlayingItem,l.hasNowPlayingSection,l.loadId,l.onCardRef,l.onEmptyChange,T(l,["hasNowPlayingItem","hasNowPlayingSection","loadId","onCardRef","onEmptyChange"]));return i.createElement(C,o({},u,{items:t,renderEmpty:this.renderEmptyState,renderHeader:this.renderHeader,renderItem:this.renderCard,maxColumns:n,getItemId:this.getItemId,desiredItemWidth:r,maxItemWidth:a,className:g.default.root}))},t}(i.Component);N.displayName="WhatsNewFeed",t.default=l.default.connectStores([c.default,f.default,y.default,d.default,s.default,p.default,h.default],function(){var e=function(e){var t={};for(var n in e)if(p.default.isOnFeed(n))for(var r in e[n]){var o=d.default.getGame(r);if(null!=o&&!p.default.isUnsubscribedToGame(o.id)){var a=f.default.getUserGame(n);if(null==a||a.gameId!==r){var i=c.default.gamesByUser[n][r].date;null==t[r]?t[r]={players:[{userId:n,stoppedPlaying:i}],mostRecentStoppedPlaying:i}:(t[r].players.push({userId:n,stoppedPlaying:i}),t[r].mostRecentStoppedPlaying<i&&(t[r].mostRecentStoppedPlaying=i))}}}return t}(c.default.gamesByUser);return e=function(e,t){var n=o({},e),r=t,a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(i>=r.length)break;l=r[i++]}else{if((i=r.next()).done)break;l=i.value}var u=l;if(null==n[u]&&null!=d.default.getGame(u)){var f=s.default.getRecentByGameId(u)[0];if(null!=f){var c=f.timestamp;null!=c&&(n[u]={players:[],mostRecentStoppedPlaying:Date.parse(c)})}}}return n}(e,p.default.gameIDsToShow),{items:Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).reduce(function(t,n){var r=d.default.getGame(n);return null==r?t:(t.push({gameId:n,game:r,news:1!==y.default.newsAF1.length||y.default.newsAF1[0].news.application_id!==n?s.default.getRecentByGameId(n)[0]:null,players:e[n].players.reduce(function(e,t){var n=t.userId,r=t.stoppedPlaying,o=h.default.getUser(n);return o&&e.push({user:o,stoppedPlaying:r}),e},[]).sort(function(e,t){return(t.stoppedPlaying||0)-(e.stoppedPlaying||0)})}),t)},[]).filter(function(e){var t=e.players,n=e.news,r=e.gameId;return t.length>0||p.default.gameIDsToShow.has(r)&&null!=n}),loadId:y.default.loadId}})(N),e.exports=t.default},8017:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=g(n(2)),i=E(n(462)),l=E(n(4)),u=g(n(6017)),s=g(n(6561)),d=E(n(35)),f=E(n(6038)),c=E(n(908)),p=E(n(6101)),h=E(n(5983)),y=E(n(8018)),m=n(0),v=E(n(13)),_=E(n(5869));function E(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var S=o(y.default,{}),T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.mount(),s.setHomeLink(m.Routes.ACTIVITY)},t.prototype.componentWillUnmount=function(){u.unmount()},t.prototype.renderCustomMessage=function(){return o("div",{},void 0,o("p",{},void 0,v.default.Messages.ERRORS_ACTIVITY_FEED_CRASH),o("p",{},void 0,v.default.Messages.ERRORS_ACTION_TO_TAKE))},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.loadId;return o(c.default,{theme:t,renderCustomMessage:this.renderCustomMessage},void 0,o(h.default,{page:m.AnalyticsPages.ACTIVITY_FEED,loadId:n,root:!0},void 0,o("div",{className:_.default.activityFeed},void 0,o(i.default,{title:v.default.Messages.ACTIVITY}),o(p.default,{title:v.default.Messages.ACTIVITY}),S)))},t}(a.PureComponent);T.displayName="ActivityFeed",t.default=l.default.connectStores([d.default,f.default],function(){return{theme:d.default.theme,loadId:f.default.loadId}})(T),e.exports=t.default},8018:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=j(n(6)),d=j(n(4)),f=n(81),c=n(6095),p=j(n(1)),h=n(6339),y=n(6756),m=n(857),v=j(n(5983)),_=j(n(6030)),E=j(n(43)),g=j(n(6028)),S=j(n(451)),T=j(n(35)),I=j(n(154)),C=j(n(881)),N=j(n(6193)),A=j(n(6162)),O=j(n(6038)),b=j(n(152)),M=j(n(6757)),R=j(n(313)),P=j(n(444)),L=j(n(18)),w=n(325),D=n(468),U=n(8019),k=n(8056),G=n(7295),x=n(0),F=j(n(5638));function j(e){return e&&e.__esModule?e:{default:e}}var B=(0,w.cssValueToNumber)(F.default.feedBreakpointNormal),H=(0,w.cssValueToNumber)(F.default.guildFriendListWidth),V=(0,w.cssValueToNumber)(F.default.gutterWidthSmall);function Y(e){return e<B?x.FeedLayouts.TWO_COL:x.FeedLayouts.THREE_COL}function W(e){return e.key}var K=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));z.call(r);var o=Y(n.width);return r.state={calculatedWidth:n.width,layout:o,feedContent:O.default.getFeed(o),sidebarContent:O.default.getSidebar(o),isFullScreen:I.default.isElementFullScreen()},r.openedTimestamp=Date.now(),r.loadingTimeout=new f.Timeout,r.viewedNewsIds=new Set,L.default.track(x.AnalyticEvents.ACTIVITY_FEED_VIEWED),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.tracked=!1,this.fullscreenTimeout=new f.Timeout;var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,r=e.loaded;t&&null!=n&&p.default.wait(function(){return(0,m.scanForLocalApplications)()}),A.default.shouldFetch()&&p.default.wait(function(){return(0,y.fetchPromotions)()}),(0,h.fetchActivityStatistics)(),r&&this.loadingTimeout.start(1500,this.trackLoaded)},t.getDerivedStateFromProps=function(e,t){if((0,D.isFullScreen)()&&!t.isFullScreen)return{isFullScreen:!0};if(t.isFullScreen)return null;var n=Y(e.width);return{calculatedWidth:e.width,layout:n,feedContent:O.default.getFeed(n),sidebarContent:O.default.getSidebar(n)}},t.prototype.componentWillUnmount=function(){this.trackExited(),this.loadingTimeout.stop(),this.fullscreenTimeout.stop()},t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.props,o=r.news,a=r.currentActivityParties,i=r.loaded,l=a.map(function(e){return e.id}),u=e.currentActivityParties.map(function(e){return e.id});o.length===e.news.length&&0===s.default.difference(l,u).length&&i===e.loaded||this.tracked||this.loadingTimeout.start(1e3,this.trackLoaded),!this.state.isFullScreen&&t.isFullScreen&&this.fullscreenTimeout.start(100,function(){return n.setState({isFullScreen:!1})})},t.prototype.renderCard=function(e,t){var n=this;switch(e.type){case x.FeedCardTypes.NEWS:var r=e.data.news;return l(c.VisibilitySensor,{onChange:function(e){return n.handleNewsVisibilityChange(e,r)}},void 0,(0,U.renderNewsCard)(e,t));case x.FeedCardTypes.PROMOTION:return(0,U.renderPromotionCard)(e,t);case x.FeedCardTypes.GDPR:return(0,U.renderGDPRCard)(e,t);case x.FeedCardTypes.GDPR_SIDE_BAR:return(0,U.renderGDPRSidebarCard)(e,t);case x.FeedCardTypes.NO_GAMES:return(0,U.renderNoGamesCard)(e,t);case x.FeedCardTypes.FIRST_TIME_USER:return(0,U.renderFirstTimeUserCard)(e,t);case x.FeedCardTypes.SIDE_BAR:return(0,U.renderSidebarCard)(e,t);case x.FeedCardTypes.PLACEHOLDER:return(0,U.renderPlaceholderCard)(e,t);case x.FeedCardTypes.NO_NEWS:return(0,U.renderNoNewsCard)(e,t);case x.FeedCardTypes.GUILDS:return(0,U.renderGuildsCard)(e,t);default:return null}},t.prototype.renderLatestNews=function(){var e=this.state,t=e.calculatedWidth,n=e.feedContent;return l(M.default,{width:t,items:n,gutterWidth:V,renderItem:this.renderCardContext,renderHeader:this.renderGuilds,maxColumns:2,getItemId:W,desiredItemWidth:200,maxItemWidth:320})},t.prototype.render=function(){var e=this.props.loaded,t=this.state,n=t.layout,r=t.sidebarContent;if(!e)return l(b.default,{align:b.default.Align.CENTER,justify:b.default.Justify.CENTER},void 0,l(P.default,{className:F.default.spinner}));var o=null;return n===x.FeedLayouts.THREE_COL&&(o=l(v.default,{section:x.AnalyticsSections.ACTIVITY_FEED_2_SIDE_BAR},void 0,l("aside",{className:F.default.sidebar},void 0,r.map(this.renderCardContext)))),l(k.FeedLayoutContext.Provider,{value:n},void 0,l(R.default,{className:F.default.layout},void 0,l(v.default,{section:x.AnalyticsSections.ACTIVITY_FEED_2_FEED},void 0,this.renderLatestNews()),o))},t}(u.PureComponent),z=function(){var e=this;this.handleNewsVisibilityChange=function(t,n){t&&!e.viewedNewsIds.has(n.id)&&(e.viewedNewsIds.add(n.id),e.tracked||e.loadingTimeout.start(1e3,e.trackLoaded))},this.sharedMetaData=function(){var t=e.props,n=t.loadId,r=t.gameIDsToShow;return{load_id:n,feed_layout:e.state.layout,subscribed_games:Array.from(r),window_width:window.innerWidth,window_height:window.innerHeight}},this.trackLoaded=function(){if(!e.tracked){e.tracked=!0;var t=e.props.news,n=(0,G.getDataFromRecentlyPlayed)(g.default.gamesByUser),r=(0,G.getSortedApplicationIds)(n),o=(0,G.getSortedItemsFromData)(r,n).length,a=i({},e.sharedMetaData(),{num_cards_game_news:t.length,num_users_subscribed:S.default.feedUserIDs.size,num_items_now_playing:O.default.nowPlayingCardsAF2.length,num_items_recently_played:o,news_ids_viewed:e.viewedNewsIds});L.default.track(x.AnalyticEvents.ACTIVITY_FEED_LOADED,a)}},this.trackExited=function(){var t=Math.floor((Date.now()-e.openedTimestamp)/1e3),n=e.state,r=n.sidebarContent,o=n.feedContent,a=i({},e.sharedMetaData(),{seconds_spent:t,num_cards_total:o.length+r.length,news_ids_viewed:e.viewedNewsIds});L.default.track(x.AnalyticEvents.ACTIVITY_FEED_EXITED,a)},this.renderCardContext=function(t){return l(k.FeedLayoutContext.Consumer,{},W(t),function(n){return e.renderCard(t,n)})},this.renderGuilds=function(){var t=e.props.guildsCard;return null!=t?e.renderCardContext(t):null}};K.displayName="Feed";var $=d.default.connectStores([O.default,T.default,E.default,I.default,A.default,C.default],function(){return{width:I.default.windowSize().width-H,importGamesEnabled:T.default.importGamesEnabled,gamesDBLastFetched:E.default.lastFetched,gameIDsToShow:S.default.gameIDsToShow,news:O.default.news,currentActivityParties:O.default.currentActivityParties,loadId:O.default.loadId,loaded:O.default.loaded,guildsCard:C.default.getGuildsCardAndTrigger()}})(K);t.default=(0,_.default)(N.default,((o={})[x.ExperimentTypes.NONE]=function(e){return u.createElement($,e)},o[x.ExperimentTypes.USER]=((r={})[x.ExperimentBuckets.CONTROL]=function(e){return u.createElement($,e)},r[x.ExperimentBuckets.TREATMENT_1]=function(e){return u.createElement($,e)},r),o)),e.exports=t.default},8019:function(e,t,n){"use strict";t.__esModule=!0,t.renderGuildsCard=t.renderSidebarCard=t.renderNoNewsCard=t.renderPlaceholderCard=t.renderFirstTimeUserCard=t.renderNoGamesCard=t.renderGDPRSidebarCard=t.renderGDPRCard=t.renderPromotionCard=t.AnalyticsConnectedPromotionCard=t.renderNewsCard=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(114),u=K(n(4)),s=K(n(182)),d=K(n(80)),f=n(6756),c=n(839),p=K(n(831)),h=K(n(8020)),y=K(n(5980)),m=K(n(43)),v=K(n(232)),_=K(n(35)),E=K(n(154)),g=K(n(881)),S=K(n(6038)),T=K(n(128)),I=K(n(6333)),C=K(n(8022)),N=n(6784),A=K(n(18)),O=K(n(9)),b=K(n(45)),M=K(n(5983)),R=K(n(6352)),P=K(n(6039)),L=K(n(8023)),w=K(n(7295)),D=K(n(8040)),U=K(n(8041)),k=K(n(8043)),G=K(n(8044)),x=K(n(8050)),F=K(n(8051)),j=K(n(8053)),B=K(n(8054)),H=n(6225),V=n(0),Y=K(n(13)),W=K(n(5638));function K(e){return e&&e.__esModule?e:{default:e}}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var X="premium",Q=function(e){function t(){var n,r;z(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=$(this,e.call.apply(e,[this].concat(l))),r.handlePostShare=function(e,t){var n=r.props,o=n.loadId,l=n.analyticsContext;d.default.push(function(e){return i.createElement(h.default,a({},e,{news:t,loadId:o,analyticsContext:l}))})},r.handlePostClick=function(e,t){var n=r.props,o=n.analyticsContext,a=n.application,i=n.loadId;A.default.track(V.AnalyticEvents.GAME_NEWS_OPENED,{location:o.location,load_id:i,game_id:null!=a?a.id:null,game_name:null!=a?a.name:null,news_url:t.url,news_id:t.id}),e.stopPropagation(),window.open(t.url)},$(r,n)}return q(t,e),t.prototype.render=function(){var e=this.props,t=e.news,n=e.application,r=e.onApplicationContextMenu,i=e.analyticsContext,l=e.gifAutoPlay,u=e.isFocused,s=i.location;return o(I.default,{className:W.default.card,news:t,application:n,onApplicationClick:function(e){return(0,H.toggleGamePopout)(e,n,a({},s,{object:V.AnalyticsObjects.CARD}))},onClick:this.handlePostClick,onShare:null!=n?this.handlePostShare:null,onApplicationContextMenu:null!=n?function(e){return r(e,n)}:null,autoPlay:l,shouldAnimate:u})},t}(i.Component);Q.displayName="NewsCardWrapper";var J=(0,R.default)(u.default.connectStores([S.default,E.default,m.default,_.default],function(e){var t=e.applicationId;return{loadId:S.default.loadId,application:m.default.getGame(t),isFocused:E.default.isFocused(),gifAutoPlay:_.default.gifAutoPlay}})(Q));(t.renderNewsCard=function(e,t){var n=e.data,r=n.news,a=n.applicationId;return o(J,{news:r,applicationId:a})}).displayName="renderNewsCard";var Z=function(e){function t(){var n,r;z(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=$(this,e.call.apply(e,[this].concat(u))),r.renderPromotionButtons=function(e,t){return e.destination.type===V.PromotionTypes.GENERAL?e.destination.linkUrl.startsWith(V.Routes.APPLICATION_STORE)||null!=e.ctaButtonLabel?o(T.default,{size:T.default.Sizes.SMALL,color:T.default.Colors.WHITE,innerClassName:W.default.whiteButton},void 0,e.ctaButtonLabel||Y.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK):null:null==t?null:o(P.default,{application:t,size:T.default.Sizes.SMALL,onClick:function(t){(0,f.ackPromotion)(e.ackKey,V.PromotionAckTypes.CLICK),t.stopPropagation()},color:T.default.Colors.WHITE,hover:T.default.Colors.WHITE,innerClassName:W.default.whiteButton,source:V.AnalyticsLocations.PROMOTION_CARD,storeListingAnalyticsProperties:{promotionId:e.id}})},r.handlePromoClick=function(e){var t=r.props,n=t.promotion,o=t.analyticsContext,i=V.AnalyticsLocations.PROMOTION_CARD;if(n.destination.type===V.PromotionTypes.GENERAL){var u=n.destination.linkUrl;if(u.startsWith("/")){var s=(0,l.parse)(u);s.pathname===V.Routes.SETTINGS(X)?(p.default.open(V.UserSettingsSections.PREMIUM),A.default.track(V.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:a({},o.location,{object:V.AnalyticsObjects.CARD,location_promotion_id:n.id})})):b.default.transitionTo(s.pathname,{hash:s.hash,search:s.search,state:{analyticsLocation:i,analyticsSource:a({},o.location,{promotionId:n.id})}}),e.preventDefault()}else window.open(u,"_blank")}else if(n.destination.type===V.PromotionTypes.GAME){var d=n.destination.sku;(0,c.goToSKUStoreListing)(d.id,{slug:d.slug,analyticsSource:a({},o.location),analyticsProperties:{source_promotion_id:n.id}}),e.preventDefault()}(0,f.ackPromotion)(n.ackKey,V.PromotionAckTypes.CLICK)},$(r,n)}return q(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.promotion,n=e.loadId;null==e.application&&t.destination.type===V.PromotionTypes.GAME&&s.default.fetchApplication(t.destination.sku.applicationId),A.default.track(V.AnalyticEvents.PROMOTION_VIEWED,a({load_id:n,promotion_id:""+t.id,promotion_type:t.destination.type,promotion_url:t.destination.type===V.PromotionTypes.GENERAL?t.destination.linkUrl:null,location_page:V.AnalyticsPages.ACTIVITY_FEED},t.destination.type===V.PromotionTypes.GAME?t.destination.sku.getAnalyticsData():null)),(0,f.ackPromotion)(t.ackKey,V.PromotionAckTypes.IMPRESSION)},t.prototype.render=function(){var e=this.props,t=e.promotion,n=e.disablePlay,r=e.gifAutoPlay,a=e.application;return null==a&&t.destination.type===V.PromotionTypes.GAME?null:o(C.default,{className:W.default.card,promotion:t,disablePlay:n,autoPlay:r,application:a,renderButtons:this.renderPromotionButtons,onClick:this.handlePromoClick,shouldAnimate:!n})},t}(i.PureComponent);Z.displayName="ConnectedPromotionCard";var ee=t.AnalyticsConnectedPromotionCard=u.default.connectStores([E.default,_.default,m.default],function(e){var t=function(e){var t=e.destination;if(t.type!==V.PromotionTypes.GAME)return null;var n=t.sku;return m.default.getGame(n.applicationId)}(e.promotion);return{disablePlay:!E.default.isFocused(),loadId:S.default.loadId,gifAutoPlay:_.default.gifAutoPlay,application:t}})((0,y.default)(Z));(t.renderPromotionCard=function(e,t){var n=e.data;return o(ee,{promotion:n})}).displayName="renderPromotionCard";var te=o(U.default,{});(t.renderGDPRCard=function(e,t){return te}).displayName="renderGDPRCard";var ne=o(k.default,{});(t.renderGDPRSidebarCard=function(e,t){return ne}).displayName="renderGDPRSidebarCard";var re=o(x.default,{});(t.renderNoGamesCard=function(e,t){return re}).displayName="renderNoGamesCard";var oe=o(D.default,{});(t.renderFirstTimeUserCard=function(e,t){return oe}).displayName="renderFirstTimeUserCard";var ae=o(j.default,{});(t.renderPlaceholderCard=function(e,t){return ae}).displayName="renderPlaceholderCard";var ie=o(F.default,{});(t.renderNoNewsCard=function(e,t){return ie}).displayName="renderNoNewsCard",(t.renderSidebarCard=function(e,t){return o(i.Fragment,{},void 0,O.default.isWindows()?o(M.default,{section:V.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,o(B.default,{className:W.default.card,layout:t})):null,o(M.default,{section:V.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING},void 0,o(L.default,{className:W.default.card,isWrapped:(0,N.isTwoColumnLayout)(t),layout:t})),o(M.default,{section:V.AnalyticsSections.ACTIVITY_FEED_RECENTLY_PLAYED},void 0,o(w.default,{className:W.default.card,isWrapped:(0,N.isTwoColumnLayout)(t),layout:t})))}).displayName="renderSidebarCard";var le=function(e){var t=e.guilds,n=e.title;return o(M.default,{section:V.AnalyticsSections.BODY,object:V.AnalyticsObjects.BUTTON_CTA},void 0,o(G.default,{className:W.default.card,guilds:t,title:n}))};le.displayName="ConnectedGuildsCard";var ue=u.default.connectStores([v.default,g.default],function(){var e=v.default.getFeaturedGuilds();return{guilds:null!=e?e.slice(0,5):null,title:g.default.getSectionTitle()}})(le),se=o(ue,{});(t.renderGuildsCard=function(e,t){return se}).displayName="renderGuildsCard"},8020:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=n(8021),u=T(n(43)),s=T(n(128)),d=T(n(152)),f=T(n(222)),c=T(n(828)),p=T(n(110)),h=T(n(18)),y=T(n(181)),m=n(5989),v=T(n(7204)),_=n(0),E=T(n(13)),g=T(n(5351)),S=T(n(5851));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=1e3,N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),v=0;v<i;v++)u[v]=arguments[v];return n=r=I(this,e.call.apply(e,[this].concat(u))),r.state={copied:!1},r.close=function(){var e=r.props.onClose;null!=e&&e()},r.sendToChannel=function(e){var t=r.props,n=t.news,o=t.onClose,i=t.analyticsContext,u=e.record.id;(0,l.sendToChannel)(u,n.url).then(o,o),y.default.trackWithMetadata(_.AnalyticEvents.NEWS_LINK_SHARED,a({source:a({},i.location,{section:_.AnalyticsLocations.SHARE_NEWS_MODAL}),news_url:n.url,news_id:n.id,guild_id:e.record.guild_id,channel_id:u},r.getApplicationMetadata()))},r.sendToUser=function(e){var t=r.props,n=t.news,o=t.onClose,i=t.analyticsContext,u=e.record.id;(0,l.sendToUser)(u,n.url).then(o,o),h.default.track(_.AnalyticEvents.NEWS_LINK_SHARED,a({source:a({},i.location,{section:_.AnalyticsLocations.SHARE_NEWS_MODAL}),news_url:n.url,news_id:n.id},r.getApplicationMetadata(),{recipient_id:u}))},r.handleCopy=function(){var e=r.props,t=e.news,n=e.analyticsContext;(0,m.copy)(t.url),r.setState({copied:!0}),clearTimeout(r.timeout),r.timeout=setTimeout(function(){return r.setState({copied:!1})},C),h.default.track(_.AnalyticEvents.NEWS_LINK_COPIED,a({location:a({},n.location,{section:_.AnalyticsLocations.SHARE_NEWS_MODAL,object:_.AnalyticsObjects.BUTTON_CTA}),news_url:t.url,news_id:t.id},r.getApplicationMetadata()))},r.renderFooter=function(){var e=r.props.news,t=r.state.copied;return o(f.default.Footer,{direction:d.default.Direction.VERTICAL},void 0,o(p.default,{tag:p.default.Tags.H5,className:g.default.marginBottom8},void 0,E.default.Messages.ACTIVITY_FEED_SHARE_MODAL_FOOTER_TITLE),o("div",{className:S.default.buttonInput},void 0,o(c.default,{className:S.default.copyInput,inputClassName:t?S.default.emphasizeInput:null,name:"url",value:e.url,editable:!1,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),m.SUPPORTS_COPY?o("div",{className:S.default.copyButton},void 0,o(s.default,{size:s.default.Sizes.SMALL,color:t?s.default.Colors.GREEN:s.default.Colors.BRAND,onClick:r.handleCopy},void 0,t?E.default.Messages.COPIED:E.default.Messages.COPY)):null))},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.analyticsContext,n=e.loadId;h.default.track(_.AnalyticEvents.OPEN_MODAL,{location:t.location,type:_.AnalyticsLocations.SHARE_NEWS_MODAL,load_id:n})},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},t.prototype.getApplicationMetadata=function(){var e=this.props.news,t=null!=e.application_id?u.default.getGame(e.application_id):null;return null!=t?{application_id:t.id,application_name:t.name}:null},t.prototype.render=function(){return o(v.default,{title:E.default.Messages.ACTIVITY_FEED_SHARE_MODAL_HEADER,renderFooter:this.renderFooter,sendToChannel:this.sendToChannel,sendToUser:this.sendToUser,onClose:this.close})},t}(i.PureComponent);N.displayName="ActivityFeedShareModal",t.default=N,e.exports=t.default},8021:function(e,t,n){"use strict";t.__esModule=!0,t.sendToChannel=function(e,t){return new Promise(function(n,o){var l=r.default.getChannel(e);if(null!=l){switch(l.type){case s.ChannelTypes.DM:case s.ChannelTypes.GROUP_DM:i.default.transitionTo(s.Routes.CHANNEL(s.ME,l.id));break;case s.ChannelTypes.GUILD_TEXT:i.default.transitionTo(s.Routes.CHANNEL(l.guild_id,l.id));break;case s.ChannelTypes.GUILD_VOICE:case s.ChannelTypes.GUILD_CATEGORY:default:return o(new Error("ActivityFeedShareModalActionCreators.sendToChannel: Invalid channel type"))}setTimeout(function(){return n(u.default.sendMessage(l.id,a.default.parse(l,t)))},f)}})},t.sendToUser=function(e,t){return new Promise(function(n,i){l.default.openPrivateChannel(o.default.getCurrentUser().id,e).then(function(e){var o=r.default.getChannel(e);if(null==o)return i(new Error("ActivityFeedShareModalActionCreators.sendToUser: Invalid channel"));n(u.default.sendMessage(o.id,a.default.parse(o,t)))})})};var r=d(n(22)),o=d(n(15)),a=d(n(319)),i=d(n(45)),l=d(n(446)),u=d(n(157)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=200},8022:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(6023)),u=c(n(6003)),s=c(n(6391)),d=c(n(6121)),f=c(n(5852));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={play:!1},r.handleClick=function(e){var t=r.props;(0,t.onClick)(e,t.promotion,t.application)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.playTimeout=setTimeout(function(){return e.setState({play:!0})},this.props.playDelay)},t.prototype.componentWillUnmount=function(){clearTimeout(this.playTimeout)},t.prototype.renderAsset=function(){var e=this.props,t=e.promotion,n=e.disablePlay,r=e.autoPlay,a=e.shouldAnimate,i=this.state.play;return o(s.default,{url:t.imageUrl,width:1280,height:720,videoUrl:t.videoUrl,play:!n&&i,className:f.default.cardAsset,autoPlay:r,shouldAnimate:a})},t.prototype.renderContent=function(){var e=this.props,t=e.promotion,n=e.renderButtons,r=e.application;return o("div",{className:(0,i.default)(f.default.padded,f.default.coloredBackground)},void 0,o(l.default,{size:l.default.Sizes.SIZE_16,className:(0,i.default)(f.default.title,f.default.coloredText)},void 0,t.title),o(u.default,{size:u.default.Sizes.SIZE_14,className:(0,i.default)(f.default.contentBottomMargin,f.default.coloredText)},void 0,t.description),null!=n?o("div",{className:f.default.ctaButtons},void 0,n(t,r)):null)},t.prototype.render=function(){var e=this.props.className;return o(d.default,{padded:!1,className:(0,i.default)(e,f.default.card),onClick:this.handleClick},void 0,this.renderAsset(),this.renderContent())},t}(a.Component);h.defaultProps={disablePlay:!1,playDelay:500},h.displayName="PromotionCard",t.default=h,e.exports=t.default},8023:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=M(n(4)),u=n(81),s=M(n(6e3)),d=M(n(881)),f=M(n(6038)),c=M(n(6012)),p=M(n(6121)),h=M(n(110)),y=M(n(6023)),m=n(224),v=M(n(18)),_=n(243),E=M(n(5983)),g=M(n(6352)),S=M(n(6785)),T=M(n(8025)),I=M(n(8038)),C=n(6225),N=n(0),A=M(n(13)),O=M(n(5637)),b=M(n(5859));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=500,D=function(e){function t(n){R(this,t);var r=P(this,e.call(this,n));return r.state={popoutStaysOpen:!1},r.keepPopoutOpen=function(){r.setState({popoutStaysOpen:!0})},r.closePopout=function(){r.setState({popoutStaysOpen:!1})},r.trackHover=function(){var e=r.props,t=e.loadId,n=e.analyticsContext,o=r.props.party.partiedMembers;v.default.track(N.AnalyticEvents.HOVER_MENU_OPENED,{location:a({},n.location,{object:N.AnalyticsObjects.HOVER_MENU}),load_id:t,num_users:o.length})},r.handleMouseEnter=function(){r.hoverTimeout.start(w,r.trackHover)},r.handleMouseLeave=function(){r.hoverTimeout.stop()},r.hoverTimeout=new u.Timeout,r}return L(t,e),t.prototype.componentWillUnmount=function(){this.hoverTimeout.stop()},t.prototype.getNumberOfGameActivities=function(e){return e.reduce(function(e,t){var n=t.activity;return null!=n&&(0,m.isGameActivity)(n)?e+1:e},0)},t.prototype.getPartyActivitySize=function(e,t){var n=e.length,r=0,o=void 0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var a=t.party.size;r=Math.max(a[0]-e.length,0),o=a[1]}else o=n+r;return{knownSize:n,unknownSize:r,totalSize:o}},t.prototype.getHeaderTitle=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map(function(e){return e.user.id})),o=n.filter(function(e){return!r.has(e.id)}),a=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=o[0]?o[0].toString():null;switch(n.length){case 1:return a;case 2:return A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:a,user2:i});default:return A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:a,user2:i,extras:n.length-2})}},t.prototype.getHeaderDetails=function(e){var t=e.priorityMembers,r=e.partiedMembers,a=e.voiceChannels,i=e.currentActivities,l=this.props.onApplicationContextMenu,u=this.props.analyticsContext.location,s=t.length,d=s+(r.length-s)===1,f=i[0];if(d&&null!=f){var p=f.activity,h=f.game,y=f.startedPlayingTime;if(null==p)return{subtitle:null,icon:null};switch(p.type){case N.ActivityTypes.PLAYING:return(0,m.isOnXbox)(p)?{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:o(S.default.Header.Icon,{src:S.default.Header.Icon.Src.XBOX})}:{subtitle:o(c.default,{start:y,location:c.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:p.name}}),icon:null!=h?o(S.default.Header.Icon,{src:null!=h.getIconURL(64)?h.getIconURL(64):n(6334),onClick:function(e){return(0,C.toggleGamePopout)(e,h,u)},onContextMenu:function(e){return l(e,h)}}):null};case N.ActivityTypes.STREAMING:return{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=h&&null!=h.getIconURL(64)?o(S.default.Header.Icon,{src:h.getIconURL(64)}):null};case N.ActivityTypes.LISTENING:return{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:o(S.default.Header.Icon,{src:S.default.Header.Icon.Src.SPOTIFY})};case N.ActivityTypes.WATCHING:return{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=h&&null!=h.getIconURL(64)?o(S.default.Header.Icon,{src:h.getIconURL(64),onClick:function(e){return(0,C.toggleGamePopout)(e,h,u)},onContextMenu:function(e){return l(e,h)}}):null};default:return{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}var v=this.getNumberOfGameActivities(i);if(0===v){if(a.length>0)return{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};if(i.length>0){if(null==f)throw new Error("Invalid Activity State - AF 2.0: numGameActivities is 0 and voiceChannels is 0, unknown case.");var _=f.activity;if(null!=_&&_.type===N.ActivityTypes.LISTENING)return{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:o(S.default.Header.Icon,{src:S.default.Header.Icon.Src.SPOTIFY})}}}else if(1===v&&null!=f){var E=f.activity,g=f.game,T=f.startedPlayingTime;if(null==E)throw new Error("Invalid Activity State - AF 2.0: No activity");return{subtitle:o(c.default,{start:T,location:c.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:E.name}}),icon:null!=g&&null!=g.getIconURL(64)?o(S.default.Header.Icon,{src:g.getIconURL(64),onClick:E.type===N.ActivityTypes.PLAYING?function(e){return(0,C.toggleGamePopout)(e,g,u)}:null,onContextMenu:function(e){return l(e,g)}}):null}}return{subtitle:A.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:o(S.default.Header.Icon,{src:S.default.Header.Icon.Src.MULTIPLE})}},t.prototype.renderHeader=function(){var e=this.props,t=e.party,n=e.onUserContextMenu,r=e.analyticsContext,a=t.priorityMembers[0],i=this.getHeaderTitle(t),l=this.getHeaderDetails(t),u=l.subtitle,s=l.icon;return o(S.default.Header,{priorityUser:a,title:i,subtitle:u,icon:s,onContextMenu:function(e){return n(e,a.user)},analyticsContext:r})},t.prototype.renderBody=function(){var e=this,t=this.props,n=t.onChannelContextMenu,r=t.onApplicationContextMenu,a=this.props.party,i=a.voiceChannels,l=a.currentActivities,u=a.isSpotifyActivity,d=a.partiedMembers,f=[],c=function(e){var t=f.length;if(0!==t){var n=f[t-1],r=""+(e.key||""),a=(""+(n.key||"")).startsWith("game")&&r.startsWith("rich-presence");f.push(o(S.default.Separator,{inset:a},"sep-"+r)),f.push(e)}else f.push(e)};i.length>0&&i.forEach(function(t){var r=t.members,a=t.channel,i=t.guild;c(o(S.default.VoiceSection,{guild:i,channel:a,members:r,partySize:e.getPartyActivitySize(r),onChannelContextMenu:n,onGuildClick:function(){s.default.selectGuild(i.id),s.default.flushSelection(!0)}},"voice-"+a.id))});var p=this.getNumberOfGameActivities(l);return l.forEach(function(e,t){var n=e.activity,a=e.game,l=e.playingMembers,s=e.activityUser;if(null==n||null==n.type)return null;if(p>1&&null!=a&&c(o(S.default.GameSection,{icon:a.getIconURL(64),name:a.name,partySize:{knownSize:l.length,unknownSize:0,totalSize:l.length},members:l,onIconClick:function(e){return(0,C.toggleGamePopout)(e,a,location)},onIconContextMenu:function(e){return r(e,a)}},"game-"+(n.session_id||t)+"-"+(n.application_id||t))),!u&&(0,m.hasRichActivity)(n)&&n.type===N.ActivityTypes.PLAYING&&c(o(S.default.RichPresenceSection,{activity:n,getAssetImage:_.getAssetImage},"rich-presence-"+(n.session_id||t)+"-"+s.id)),(0,m.isStreaming)(n)){var f=i.length>0&&i[0].members.length>1,h=l.length>1;c(o(S.default.TwitchSection,{activity:n,user:f||h?s:null,getAssetImage:_.getAssetImage},"streaming-"+(n.session_id||t)))}else u?c(o(S.default.SpotifySection,{activity:n,partySize:{knownSize:d.length,unknownSize:0,totalSize:d.length},getAssetImage:_.getAssetImage,members:d},"spotify-"+(n.session_id||t)+"-"+s.id)):(0,m.isOnXbox)(n)&&c(o(S.default.XboxSection,{title:a.name},"xbox-"+(n.session_id||t)))}),f.length>0?o(S.default.Body,{},void 0,f):null},t.prototype.render=function(){var e=this.state.popoutStaysOpen,t=this.renderHeader(),n=this.renderBody();return null!=t||null!=n?o("div",{className:O.default.popoutContainer,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,t,n,o(E.default,{section:N.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_HOVER_POPOUT},void 0,o(T.default,{party:this.props.party,className:O.default.popout,keepOpen:this.keepPopoutOpen,visibleOnMouseLeave:e,closeOnLeave:this.closePopout}))):null},t}(i.PureComponent);D.displayName="ItemCard";var U=(0,g.default)(D),k=function(e){function t(){var n,r;R(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=P(this,e.call.apply(e,[this].concat(l))),r.renderNowPlayingCard=function(e,t){var n=r.props,a=n.layout,l=n.loadId;if(e.type===N.ActivityCardTypes.GAME)return null;var u=e.party;return o(i.Fragment,{},u.id,t>0?o(S.default.Separator,{className:b.default.itemSeparator}):null,o(U,{party:u,layout:a,loadId:l}))},P(r,n)}return L(t,e),t.prototype.render=function(){var e=this.props,t=e.nowPlayingCards,n=e.className,r=e.isWrapped,a=null;return a=t.length>0?r?o(S.default,{className:n},void 0,o(y.default,{size:y.default.Sizes.SIZE_16,className:b.default.formTitleInCard},void 0,A.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),t.map(this.renderNowPlayingCard)):o(S.default,{className:n},void 0,t.map(this.renderNowPlayingCard)):o(I.default,{className:n}),r?o(p.default,{padded:!1},void 0,a):o(i.Fragment,{},void 0,o(h.default,{},void 0,A.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),a)},t}(i.PureComponent);k.displayName="NowPlaying",t.default=l.default.connectStores([f.default,d.default],function(e){var t=e.isWrapped;return{nowPlayingCards:f.default.nowPlayingCardsAF2,loadId:f.default.loadId,isWrapped:t||d.default.canJoinGuilds()}})(k),e.exports=t.default},8024:function(e,t,n){e.exports=n.p+"1747132724e5e5d09278618b69f79233.svg"},8025:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=p(n(6352)),u=p(n(6785)),s=p(n(8026)),d=p(n(8036)),f=n(0),c=p(n(5857));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=o(u.default.Separator,{inset:!1}),m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleUserContextMenu=function(e,t){var n=r.props,o=n.onUserContextMenu,a=n.closeOnLeave;(0,n.keepOpen)(),o(e,t,f.ContextMenuTypes.USER_GENERIC_LIST,a)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderActions=function(){var e=this.props.party,t=o(s.default,{party:e});return o(a.Fragment,{},void 0,o("div",{className:c.default.actionsContainer},void 0,t),y)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.keepOpen,r=e.closeOnLeave,a=e.visibleOnMouseLeave,l=this.props.party,u=l.currentActivities,s=l.priorityMembers,f=l.partiedMembers;return o("div",{className:(0,i.default)(t,a?c.default.keepOpen:c.default.hideOnMouseLeave)},void 0,this.renderActions(),o(d.default,{currentActivities:u,priorityMembers:s,partiedMembers:f,onPopoutOpen:n,onSubMenuClose:r,onUserContextMenu:this.handleUserContextMenu}))},t}(a.PureComponent);m.displayName="NowPlayingPopout",t.default=(0,l.default)(m),e.exports=t.default},8026:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(224),l=v(n(8027)),u=v(n(8028)),s=v(n(8029)),d=v(n(8030)),f=v(n(8031)),c=v(n(8032)),p=v(n(8033)),h=v(n(8034)),y=v(n(8035)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return n=r=_(this,e.call.apply(e,[this].concat(s))),r.renderActivityActions=function(e,t,n,r){var u=e.activityUser,s=e.activity,d=e.game;if(n&&null!=s){var v=e.activityUser;return o(a.Fragment,{},r,o(p.default,{user:v,activity:s}),o(h.default,{user:v,activity:s}))}if((0,i.isOnXbox)(s))return o(y.default,{},r);if(null==s||null==s.type)return null;var _=s.type===m.ActivityTypes.PLAYING;return o(a.Fragment,{},r,(0,i.hasFlag)(s,m.ActivityFlags.JOIN)&&_&&o(l.default,{user:u,activity:s,showContext:t}),(0,i.hasFlag)(s,m.ActivityFlags.SPECTATE)&&_&&o(c.default,{user:u,activity:s,showContext:t}),o(f.default,{application:d,showContext:t}))},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSocialActions=function(){var e=this.props.party,t=this.props.party,n=t.voiceChannels,r=t.partiedMembers,i=t.priorityMembers,l=n[0],f=1===r.length&&1===i.length,c=null;if(null!=l){var p=l.guild,h=l.channel;c=o(a.Fragment,{},void 0,o(s.default,{guildId:p.id,channelId:h.id,party:e}),o(u.default,{guildId:p.id,party:e}))}return o(a.Fragment,{},void 0,f&&o(d.default,{party:e,recipientIds:i.map(function(e){return e.user.id}),hasUnknownRecipients:r.length-i.length>0},"message-"+i[0].user.id),c)},t.prototype.render=function(){var e=this,t=this.props.party,n=t.currentActivities,r=t.isSpotifyActivity,i=n.length>1,l=n.map(function(t,n){return e.renderActivityActions(t,i,r,n)});return o(a.Fragment,{},void 0,this.renderSocialActions(),l)},t}(a.PureComponent);E.displayName="NowPlayingPopoutActions",t.default=E,e.exports=t.default},8027:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(4)),l=n(893),u=(g(n(112)),g(n(890))),s=g(n(320)),d=g(n(156)),f=g(n(43)),c=g(n(90)),p=g(n(91)),h=g(n(442)),y=n(322),m=g(n(9)),v=g(n(6357)),_=n(0),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.isFriend,n=e.game,r=e.user,a=e.request,i=e.showContext,u=e.activity,s=e.launchable,d=r.toString(),f=function(e,t,n,r){if(null==e)return r?E.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:n}):E.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN;switch(e.state){case _.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return E.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:t,username:n});case _.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:return E.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:t,username:n});case _.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return E.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:n});case _.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return E.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:n});case _.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return E.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:n});default:return null}}(a,n,d,i),c=null;t?m.default.embedded?s||(c=E.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:u.name})):c=E.default.Messages.ACTIVITY_FEED_POPOUT_DESKTOP_APP_REQUIRED:c=E.default.Messages.ACTIVITY_FEED_POPOUT_NOT_FRIENDS_TOOLTIP.format({name:d});var p=null!=a&&a.state!==_.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED;return o(h.default,{text:c,position:h.default.Positions.LEFT},void 0,o(v.default,{disabled:null!=c||p,onClick:function(){return(0,l.request)(r,u)}},void 0,f))},t}(a.PureComponent);S.defaultProps={showContext:!1},S.displayName="AskToJoinAction",t.default=i.default.connectStores([p.default,u.default,c.default,f.default,d.default,s.default],function(e){var t=e.user,n=e.activity;return{request:u.default.getRequest(t.id),isFriend:p.default.isFriend(t.id),launchable:null!=n.application_id&&(0,y.isLaunchable)(c.default,f.default,d.default,s.default,n.application_id)}})(S),e.exports=t.default},8028:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(6e3))),l=p(n(5980)),u=n(6784),s=p(n(181)),d=p(n(6357)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.default)(function(e){var t=e.guildId,n=e.analyticsContext,r=e.party;return a(d.default,{onClick:function(){i.default.selectGuild(t),i.default.flushSelection(!0),s.default.trackWithMetadata(f.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,o({source:o({},n.location,{object:f.AnalyticsObjects.LIST_ITEM}),guild_id:t,af_recently_played:!1},(0,u.getPartyMetadata)(r)))}},void 0,c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER)}),e.exports=t.default},8029:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(6e3))),l=h(n(160)),u=h(n(5980)),s=n(6784),d=h(n(181)),f=h(n(6357)),c=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.default)(function(e){var t=e.guildId,n=e.channelId,r=e.analyticsContext,u=e.party;return a(f.default,{onClick:function(){i.default.selectGuild(t),i.default.flushSelection(!0),l.default.selectVoiceChannel(t,n),d.default.trackWithMetadata(c.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,o({source:o({},r.location,{object:c.AnalyticsObjects.LIST_ITEM}),guild_id:t,channel_id:n},(0,s.getPartyMetadata)(u)))}},void 0,p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL)}),e.exports=t.default},8030:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(446))),l=h(n(5980)),u=h(n(12)),s=n(6784),d=h(n(181)),f=h(n(6357)),c=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.default)(function(e){var t=e.recipientIds,n=e.hasUnknownRecipients,r=e.analyticsContext,l=e.party;return n?null:a(f.default,{onClick:function(){i.default.openPrivateChannel(u.default.getId(),t).then(function(e){return d.default.trackWithMetadata(c.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,o({source:o({},r.location,{object:c.AnalyticsObjects.LIST_ITEM}),channel_id:e,recipient_id:"string"==typeof t?t:t[0],af_recently_played:!1},(0,s.getPartyMetadata)(l)))})}},void 0,p.default.Messages.SEND_DM)}),e.exports=t.default},8031:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),E(n(4))),l=E(n(5980));n(130);var u=E(n(320)),s=E(n(156)),d=E(n(43)),f=E(n(90)),c=E(n(64)),p=E(n(442)),h=n(322),y=n(5986),m=E(n(6357)),v=n(0),_=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){var t=e.application,n=e.libraryApplication,r=e.canPlay,i=e.isRunning,l=e.isLaunching,u=e.showContext,s=void 0!==u&&u,d=e.analyticsContext;if(!r)return null;var f=void 0;return i?f=_.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:t.name}):l&&(f=_.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:t.name})),a(p.default,{text:f,position:p.default.Positions.LEFT},void 0,a(m.default,{onClick:function(){(0,y.playApplication)(t.id,n,{analyticsParams:{location:o({},d.location,{object:v.AnalyticsObjects.LIST_ITEM})}})},disabled:null!=f},void 0,s?_.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:t.name}):_.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH))};g.displayName="PlayGameAction";var S=i.default.connectStores([c.default,f.default,d.default,s.default,u.default],function(e){var t=e.application,n=f.default.getActiveLibraryApplication(t.id);return{canPlay:(0,h.isLaunchable)(f.default,d.default,s.default,u.default,t.id,null!=n?n.branchId:null),isLaunching:d.default.launchingGames.has(t.id),isRunning:c.default.getRunningVerifiedApplicationIds().includes(t.id),libraryApplication:n}})(g);t.default=(0,l.default)(S),e.exports=t.default},8032:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),g(n(4))),i=g(n(182)),l=g(n(320)),u=g(n(156)),s=g(n(43)),d=g(n(90)),f=g(n(15)),c=g(n(5357)),p=g(n(442)),h=n(224),y=n(322),m=g(n(9)),v=g(n(6357)),_=n(0),E=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.connectStores([f.default,c.default],function(e){var t=e.activity,n=e.user;return{spectateState:null!=t.application_id?c.default.getState(t.application_id,_.ActivityActionTypes.SPECTATE):null,currentUser:f.default.getCurrentUser(),isLaunchable:null!=t.application_id&&(0,y.isLaunchable)(d.default,s.default,u.default,l.default,t.application_id),canSpectate:null!=n.id&&null!=t&&null!=t.session_id&&null!=t.application_id&&(0,h.hasFlag)(t,_.ActivityFlags.SPECTATE)}})(function(e){var t=e.user,n=e.activity,r=e.isLaunchable,a=e.currentUser,l=e.spectateState,u=e.canSpectate,s=e.showContext,d=void 0!==s&&s,f=!m.default.embedded,c=l===_.ActivityActionStates.FAILED,h=a.id===t.id,y=d?E.default.Messages.USER_ACTIVITY_ACTION_SPECTATE_USER.format({name:t.toString()}):E.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,g=null;return c?g=E.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH:h?g=E.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:f?g=E.default.Messages.ACTIVITY_FEED_POPOUT_DESKTOP_APP_REQUIRED:r||(g=E.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:n.name})),u?o(p.default,{text:g},void 0,o(v.default,{onClick:function(){null!=n.session_id&&null!=n.application_id&&i.default.spectate(t.id,n.session_id,n.application_id)},disabled:null!=g||l===_.ActivityActionStates.LOADING||c},void 0,c?E.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH:y)):null}),e.exports=t.default},8033:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(4))),i=c(n(237)),l=c(n(128)),u=n(331),s=n(6088),d=c(s),f=c(n(5500));function c(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.connectStores([i.default],function(){return{playable:i.default.hasConnectedAccount()&&(0,u.isSpotifyPlayable)(i.default)}})(function(e){var t=e.activity,n=e.user;return e.playable?o(d.default,{look:l.default.Looks.FILLED,color:l.default.Colors.PRIMARY,size:l.default.Sizes.SMALL,wrapperClassName:f.default.wrapper,type:s.SpotifyButtonTypes.USER_ACTIVITY_PLAY,activity:t,user:n}):null}),e.exports=t.default},8034:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),c(n(4))),i=c(n(237)),l=c(n(128)),u=n(331),s=n(6088),d=c(s),f=c(n(5500));function c(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.connectStores([i.default],function(){return{syncable:i.default.hasConnectedAccount()&&(0,u.isSpotifyPlayable)(i.default)}})(function(e){var t=e.activity,n=e.user;return e.syncable?o(d.default,{look:l.default.Looks.FILLED,color:l.default.Colors.PRIMARY,size:l.default.Sizes.SMALL,wrapperClassName:f.default.wrapper,type:s.SpotifyButtonTypes.USER_ACTIVITY_SYNC,activity:t,user:n}):null}),e.exports=t.default},8035:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4)),l=p(n(831)),u=p(n(158)),s=p(n(464)),d=p(n(6357)),f=n(0),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=u.default.get(f.PlatformTypes.XBOX).name,m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){l.default.open(f.UserSettingsSections.CONNECTIONS)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.notConnected?o(d.default,{onClick:this.handleClick},void 0,c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:y})):null},t}(a.Component);m.displayName="XboxConnectAction",t.default=i.default.connectStores([s.default],function(){return{notConnected:!s.default.getAccounts().some(function(e){return e.type===u.default.get(f.PlatformTypes.XBOX).type})}})(m),e.exports=t.default},8036:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(6)),l=(p(n(135)),p(n(6023))),u=p(n(6951)),s=p(n(6785)),d=p(n(8037));n(0);var f=p(n(13)),c=p(n(5856));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e){return o(l.default,{size:l.default.Sizes.SIZE_12,className:c.default.memberListHeader},void 0,e)}function m(e,t){return o("div",{className:c.default.memberListContainer},void 0,e,t)}y.displayName="renderMemberListHeader",m.displayName="renderMemberList";var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.createMemberList=function(e,t,n,a){var i=r.props,l=i.onUserContextMenu,s=i.onPopoutOpen,f=i.onSubMenuClose,c=[];if(e.map(function(e){var t=e.user,n=e.status;return c.push(o(u.default,{user:t,status:n,onPopoutClose:f,onPopoutOpen:s,onContextMenu:function(e){return l(e,t)}},t.id))}),t.map(function(e){return c.push(o(u.default,{user:e,onPopoutClose:f,onPopoutOpen:s,onContextMenu:function(t){return l(t,e)}},e.id))}),null!=n&&null!=n.party&&null!=n.party.size)for(var p=n.party.size[0]-a,h=0;h<p;h++)c.push(o(d.default,{},"unknown-"+h));return c},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getExtraMembers=function(){var e=this.props,t=e.currentActivities,n=e.partiedMembers,r=(0,i.default)(t).flatMap(function(e){return e.playingMembers}).map(function(e){return e.id}).value();return n.filter(function(e){return!r.includes(e.id)})},t.prototype.renderSingleActivityMemberList=function(){var e=this.props,t=e.partiedMembers,n=e.priorityMembers,r=new Set(n.map(function(e){return e.user.id})),o=t.filter(function(e){return!r.has(e.id)}),a=this.props.currentActivities[0],i=null;return null!=a&&(i=a.activity),m(t.length>1?y(f.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:t.length})):null,this.createMemberList(n,o,i,t.length))},t.prototype.renderMultiActivityMemberList=function(){var e=this,t=this.props,n=t.priorityMembers,r=t.currentActivities,o=new Set(n.map(function(e){return e.user.id}));return r.map(function(t){var r=t.playingMembers,a=t.game,i=t.activity,l=new Set(r.map(function(e){return e.id})),u=y(a.name+" - "+r.length),s=n.filter(function(e){var t=e.user;return l.has(t.id)}),d=r.filter(function(e){return!o.has(e.id)});return m(u,e.createMemberList(s,d,i,r.length))})},t.prototype.renderExtraMemberList=function(){var e=this.props.priorityMembers,t=this.getExtraMembers(),n=e.map(function(e){return e.user.id}),r=t.map(function(e){return e.id}),o=e.filter(function(e){var t=e.user;return r.includes(t.id)}),a=t.filter(function(e){return!n.includes(e.id)}),i=this.createMemberList(o,a,null,t.length);return m(y(f.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+t.length),i)},t.prototype.render=function(){var e=this.props.currentActivities,t=this.getExtraMembers();if(e.length<=1&&0===t.length)return this.renderSingleActivityMemberList();var n=this.renderMultiActivityMemberList(),r=n.map(function(e,r){return o(a.Fragment,{},r,e,r!==n.length-1||t.length>0?o(s.default.Separator,{className:c.default.separator}):null)}),i=this.renderExtraMemberList();return o(a.Fragment,{},void 0,r,t.length>0?i:null)},t}(a.PureComponent);v.displayName="MemberList",t.default=v,e.exports=t.default},8037:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),s(n(152))),i=s(n(6003)),l=s(n(13)),u=s(n(5855));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return o(a.default,{align:a.default.Align.CENTER,className:u.default.item},void 0,o("div",{className:u.default.partyMemberUnknown}),o(i.default,{className:u.default.tag},void 0,l.default.Messages.GAME_FEED_UNKNOWN_PLAYER))},e.exports=t.default},8038:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(6358))),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return o(a.default,{className:t,imgSrc:n(7294),header:i.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER,body:i.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY})},e.exports=t.default},8039:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=(c(n(135)),c(n(6023))),u=c(n(6951)),s=c(n(6352)),d=n(0),f=c(n(5860));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleUserContextMenu=function(e,t){var n=r.props,o=n.onUserContextMenu,a=n.closeOnLeave;(0,n.keepOpen)(),o(e,t,d.ContextMenuTypes.USER_GENERIC_LIST,a)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.className,a=t.members,s=t.keepOpen,d=t.closeOnLeave,c=t.visibleOnMouseLeave;return o("div",{className:(0,i.default)(r,c?f.default.keepOpen:f.default.hideOnMouseLeave)},void 0,o(l.default,{size:l.default.Sizes.SIZE_12,className:f.default.memberListHeader},void 0,n),o("div",{},void 0,a.map(function(t){return o(u.default,{user:t,onContextMenu:function(n){return e.handleUserContextMenu(n,t)},onPopoutOpen:s,onPopoutClose:d},t.id)})))},t}(a.PureComponent);h.displayName="RecentlyPlayedPopout",t.default=(0,s.default)(h),e.exports=t.default},8040:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(831)),l=f(n(128)),u=f(n(6358)),s=n(0),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(i))),r.handleClose=function(){},r.renderButtons=function(){return o(l.default,{size:l.default.Sizes.SMALL,onClick:r.handleFollowGames},void 0,d.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleFollowGames=function(){i.default.open(s.UserSettingsSections.GAME_ACTIVITY)},t.prototype.render=function(){return o(u.default,{imgSrc:n(6435),header:d.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_HEADER,body:d.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_BODY,renderButtons:this.renderButtons,onClose:this.handleClose})},t}(a.Component);p.displayName="FirstTimeUserCard",t.default=p,e.exports=t.default},8041:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(6603),l=n(6107),u=h(n(831)),s=h(n(128)),d=h(n(6358)),f=n(0),c=h(n(13)),p=h(n(5862));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=y(this,e.call.apply(e,[this].concat(l))),r.renderButtons=function(){return o(a.Fragment,{},void 0,o(s.default,{size:s.default.Sizes.SMALL,onClick:r.handleAllowPersonalization,look:s.default.Looks.INVERTED},void 0,c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),o(s.default,{className:p.default.noButton,size:s.default.Sizes.MIN,look:s.default.Looks.LINK,color:s.default.Colors.WHITE,onClick:r.handleDismiss},void 0,c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_NO))},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClickPrivacy=function(){u.default.open(f.UserSettingsSections.PRIVACY_AND_SAFETY)},t.prototype.handleAllowPersonalization=function(){(0,i.setConsents)([f.Consents.PERSONALIZATION],[])},t.prototype.handleDismiss=function(){(0,l.dismissPersonalizationNotice)()},t.prototype.render=function(){return o(d.default,{className:p.default.gdprWrapper,imgSrc:n(8042),header:c.default.Messages.ACTIVITY_FEED_CARD_GDPR_HEADER,body:c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BODY.format({onClickPrivacy:this.handleClickPrivacy}),renderButtons:this.renderButtons})},t}(a.Component);m.displayName="GDPRCard",t.default=m,e.exports=t.default},8042:function(e,t,n){e.exports=n.p+"de14fab6de78b0fc2f679eb74b735151.svg"},8043:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(6358))),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return o(a.default,{className:t,imgSrc:n(7294),header:i.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER,body:i.default.Messages.ACTIVITY_FEED_CARD_GDPR_NONE_PLAYING_BODY})},e.exports=t.default},8044:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=T(n(5980)),u=n(5979),s=T(n(128)),d=T(n(152)),f=T(n(306)),c=T(n(6121)),p=T(n(442)),h=T(n(6023)),y=T(n(6003)),m=T(n(18)),v=T(n(82)),_=n(7296),E=n(0),g=T(n(13)),S=T(n(5865));function T(e){return e&&e.__esModule?e:{default:e}}var I=function(e){var t=e.icon,n=e.name,r=e.description,l=e.presenceCount,c=e.id,T=e.features,I=e.analyticsContext,C=e.index,N=v.default.getGuildIconURL({id:c,icon:t}),A=T.has(E.GuildFeatures.VERIFIED);return o("div",{className:S.default.guildCard},void 0,o(u.AvatarImage,{src:N,className:S.default.avatar}),o("div",{className:S.default.header},void 0,A?o(p.default,{text:g.default.Messages.GUILD_VERIFIED},void 0,o(f.default,{className:S.default.verifiedIcon,name:f.default.Names.VERIFIED,outer:E.Colors.PRIMARY_700,inner:E.Colors.BRAND,checkmark:E.Colors.WHITE,width:16,height:16})):null,o(h.default,{size:h.default.Sizes.SIZE_16,className:S.default.title},void 0,n)),o(d.default,{justify:d.default.Justify.BETWEEN,direction:d.default.Direction.VERTICAL},void 0,o(y.default,{size:y.default.Sizes.SIZE_14,className:S.default.description},void 0,null!=r?r:null),o("div",{className:S.default.actions},void 0,o(s.default,{size:s.default.Sizes.MIN,color:s.default.Colors.GREY,className:S.default.button,onClick:function(){return function(e,t,n){(0,_.startLurking)(e,t.location),m.default.track(E.AnalyticEvents.GUILD_DISCOVERY_GUILD_SELECTED,{location:a({},t.location),guild_id:e,load_id:t.loadId,card_index:n})}(c,I,C)}},void 0,g.default.Messages.GAME_POPOUT_VIEW_SERVER),null!=l?o(i.Fragment,{},void 0,o("div",{className:S.default.dotOnline}),o(y.default,{size:y.default.Sizes.SIZE_12},void 0,g.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:l}))):null)))};I.displayName="GuildCard";var C=(0,l.default)(I),N=function(e){var t=e.guilds,n=e.title,r=e.className;return null==t||0===t.length||null==n?null:o(c.default,{className:r},void 0,o(h.default,{size:h.default.Sizes.SIZE_16},void 0,n),o("div",{className:S.default.cards},void 0,t.map(function(e,t){return o(i.Fragment,{},void 0,t%3==0&&t>0?o("div",{className:S.default.line}):null,i.createElement(C,a({key:e.id},e,{index:t})))})))};N.displayName="GuildsCard",t.default=N,e.exports=t.default},8045:function(e,t,n){"use strict";t.__esModule=!0,t.markView=function(e){a.default.dispatch({type:i.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},8046:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(6164)),u=n(5979),s=m(n(128)),d=m(n(221)),f=m(n(306)),c=m(n(442)),p=n(0),h=m(n(13)),y=m(n(5863));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.state={isMouseOver:!1,loaded:!1},r.onMouseEnter=function(){r.state.isMouseOver||r.setState({isMouseOver:!0})},r.onMouseLeave=function(){r.state.isMouseOver&&r.setState({isMouseOver:!1})},r.handleClickView=function(e){var t=r.props,n=t.onView,o=t.guildId;e.stopPropagation(),null!=n&&n(o)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n=this,r=this.props,a=r.name,m=r.presenceCount,v=r.avatarUrl,_=r.splashUrl,E=r.isVerified,g=r.isLoadingGuild,S=r.className,T=this.state,I=T.isMouseOver,C=T.loaded;return o(d.default,{tag:"div",onClick:this.handleClickView,className:(0,i.default)(S,(e={},e[y.default.loaded]=C,e[y.default.loading]=!C,e))},void 0,o(l.default,{aspectRatio:1.85},void 0,o("div",{className:(0,i.default)(y.default.card,(t={},t[y.default.cardHovered]=I,t)),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},void 0,o("img",{src:_,alt:"",className:y.default.splash,onLoad:function(){return n.setState({loaded:!0})}}),o("div",{className:y.default.fade}),o("div",{className:y.default.guildInfo},void 0,o("div",{className:y.default.guildIcon},void 0,o(u.AvatarImage,{src:v,className:y.default.avatar}),E?o(c.default,{text:h.default.Messages.GUILD_VERIFIED},void 0,o(f.default,{className:y.default.verifiedIcon,name:f.default.Names.VERIFIED,outer:p.Colors.PRIMARY_700,inner:p.Colors.BRAND,checkmark:p.Colors.WHITE})):null),o("div",{className:y.default.text},void 0,o("div",{className:y.default.title},void 0,a),null!=m?o("div",{className:y.default.memberInfo},void 0,o("div",{className:y.default.dotOnline}),h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:m})):null),o(s.default,{className:I?y.default.viewButtonVisible:y.default.viewButton,color:s.default.Colors.GREEN,size:s.default.Sizes.SMALL,submitting:g,onClick:this.handleClickView},void 0,h.default.Messages.GUILD_DISCOVERY_VIEW_BUTTON)))))},t}(a.PureComponent);_.defaultProps={isLoadingGuild:!1},_.displayName="GuildDiscoveryCard",t.default=_,e.exports=t.default},8047:function(e,t,n){"use strict";t.__esModule=!0,t.search=function(e,t){if(null==t||""===t)return e;var n=t.toLowerCase();return e.filter(function(e){return e.searchTerms.some(function(e){return(0,a.default)(n,e)})})};var r,o=n(6022),a=(r=o)&&r.__esModule?r:{default:r}},8048:function(e,t,n){e.exports=n.p+"76456a67ca3d139def36fd3ba871b230.png"},8049:function(e,t,n){e.exports=n.p+"757e956c407d352bb77320c83e3c6159.png"},8050:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(6107),l=c(n(831)),u=c(n(128)),s=c(n(6358)),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=r=p(this,e.call.apply(e,[this].concat(l))),r.handleClose=function(){(0,i.dismissNoGamesNotice)()},r.renderButtons=function(){return o(u.default,{size:u.default.Sizes.SMALL,onClick:r.handleFollowGames},void 0,f.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleFollowGames=function(){l.default.open(d.UserSettingsSections.ACTIVITY_FEED)},t.prototype.render=function(){return o(s.default,{imgSrc:n(6435),header:f.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_HEADER,body:f.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_BODY,renderButtons:this.renderButtons,onClose:this.handleClose})},t}(a.Component);h.displayName="NoGamesCard",t.default=h,e.exports=t.default},8051:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(6358))),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return o(a.default,{imgSrc:n(8052),header:i.default.Messages.ACTIVITY_FEED_CARD_NO_NEWS_HEADER,body:i.default.Messages.ACTIVITY_FEED_CARD_NO_NEWS_BODY})};u.displayName="NoNewsCard",t.default=u,e.exports=t.default},8052:function(e,t,n){e.exports=n.p+"8e33ec211b7b635dde21f789e469e7c2.svg"},8053:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(6358))),i=l(n(5866));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return o(a.default,{className:i.default.placeholderWrapper})};u.displayName="PlaceholderCard",t.default=u,e.exports=t.default},8054:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(6)),u=S(n(4)),s=S(n(5980)),d=S(n(881)),f=S(n(6049)),c=S(n(8055)),p=S(n(6121)),h=S(n(110)),y=S(n(6023)),m=n(863),v=n(5986),_=n(0),E=S(n(13)),g=S(n(5868));function S(e){return e&&e.__esModule?e:{default:e}}var T=Object.freeze({SMALL:36,NORMAL:43,LARGE:46});var I=o(h.default,{},void 0,"Quick Launcher"),C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.launchGame=function(e){var t=this.props,n=t.applications,r=t.analyticsContext;(0,v.playApplication)(e.id,e.libraryApplication,{analyticsParams:{location:a({},r.location,{section:_.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER}),num_launcher_applications:n.length}})},t.prototype.renderApps=function(){var e=this,t=this.props,n=t.layout,r=t.applications,a=n===_.FeedLayouts.TWO_COL;if(0===r.length)return o("div",{className:g.default.emptyCard},void 0,o("div",{className:g.default.emptyContent},void 0,E.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT_V2));var i=T.LARGE;return o("div",{className:g.default.grid},void 0,r.map(function(t,n){return n<6?o(c.default,{size:i,icon:t.icon,alt:t.name,running:t.running,type:a?c.default.Types.WRAPPED:c.default.Types.UNWRAPPED,onClick:function(){return e.launchGame(t)}},t.name):null}),l.default.times(6-r.length,function(){return o(c.default,{size:i,type:a?c.default.Types.WRAPPED:c.default.Types.UNWRAPPED})}))},t.prototype.render=function(){return this.props.isWrapped?o(p.default,{className:g.default.wrappedCard},void 0,o(y.default,{size:y.default.Sizes.SIZE_16},void 0,"Quick Launcher"),this.renderApps()):o("div",{className:this.props.className},void 0,I,this.renderApps())},t}(i.PureComponent);C.displayName="QuickLauncher";var N=(0,m.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,r=e.isLaunching,o=e.isRunning,a=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:a,libraryApplication:t,icon:n.getIconURL(60),running:r||o}})});t.default=(0,s.default)(u.default.connectStores([f.default,d.default],function(e){var t=e.layout;return{applications:N(f.default.launchableApplicationViewItems),isWrapped:t===_.FeedLayouts.TWO_COL||d.default.canJoinGuilds()}})(C)),e.exports=t.default},8055:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(17)),l=d(n(221)),u=d(n(306)),s=d(n(5867));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){return o(u.default,{name:u.default.Names.ACTIVITY,className:s.default.running})};f.displayName="RunningIcon";var c=Object.freeze({EMPTY:s.default.empty,WRAPPED:s.default.wrapped,UNWRAPPED:s.default.unwrapped}),p=o(f,{}),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.size,r=t.type,a=t.icon,u=t.onClick,d=t.onContextMenu,f=t.alt,h=t.running;return o(l.default,{className:(0,i.default)(s.default.container,null==a?c.EMPTY:r,(e={},e[s.default.clickable]=null!=u&&!h,e)),style:{width:n,height:n},onClick:h?null:u,onContextMenu:d},void 0,null!=a?o("img",{src:a,className:(0,i.default)(s.default.icon,h?s.default.iconRunning:null),alt:f}):null,h&&null!=a?p:null)},t}(a.Component);h.Types=c,h.defaultProps={type:c.UNWRAPPED,size:46,running:!1},h.displayName="LaunchableIcon",t.default=h,e.exports=t.default},8056:function(e,t,n){"use strict";t.__esModule=!0,t.FeedLayoutContext=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=n(0);t.FeedLayoutContext=r.createContext(o.FeedLayouts.TWO_COL)},8057:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(223),l=f(n(5983)),u=f(n(8058)),s=f(n(8062)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(i.Switch,{},void 0,o(i.Route,{path:d.Routes.APPLICATION_LIBRARY_INVENTORY,exact:!0,render:function(e){return o(l.default,{page:d.AnalyticsPages.LIBRARY_INVENTORY,root:!0},void 0,a.createElement(u.default,e))}}),o(i.Route,{path:d.Routes.APPLICATION_LIBRARY,render:function(e){return o(l.default,{page:d.AnalyticsPages.LIBRARY,root:!0},void 0,a.createElement(s.default,e))}}))},t}(a.Component);c.displayName="ApplicationLibraryPage",t.default=c,e.exports=t.default},8058:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=m(n(2)),i=y(n(462)),l=m(n(6561)),u=y(n(313)),s=y(n(5983)),d=y(n(7297)),f=y(n(8059)),c=y(n(8060)),p=n(0),h=y(n(5874));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=o(f.default,{}),_=o(c.default,{}),E=o(i.default,{title:"Discord"}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.setHomeLink(p.Routes.APPLICATION_LIBRARY_INVENTORY)},t.prototype.renderBody=function(){return o("div",{className:h.default.body},void 0,o(s.default,{section:p.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,v),o(s.default,{section:p.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,_))},t.prototype.render=function(){return o("div",{className:h.default.root},void 0,E,o(d.default,{currentRoute:p.Routes.APPLICATION_LIBRARY_INVENTORY}),o(u.default,{gutterStyle:u.default.GutterStyles.STORE,theme:u.default.Themes.GHOST_HAIRLINE},void 0,this.renderBody()))},t}(a.PureComponent);g.displayName="ApplicationLibraryInventory",t.default=g,e.exports=t.default},8059:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=E(n(4)),s=n(872),d=E(n(5980)),f=E(n(312)),c=E(n(128)),p=E(n(152)),h=E(n(828)),y=E(n(836)),m=n(0),v=E(n(13)),_=E(n(5871));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e,t){return Array(t).fill().map(function(){return"["+m.UNAMBIGUOUS_CHARACTERS+"]{"+e+"}"}).join("-?")},T=[S(4,4),S(4,6),S(5,3),"[a-zA-Z]{4}-?[0-9a-zA-Z]{4}-?[a-zA-Z]{4}"].join("|"),I=new RegExp("^(WUMP-?)?("+T+")$"),C=a(y.default,{}),N=function(e){function t(){var n,r,o,a,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=r=g(this,e.call.apply(e,[this].concat(u))),r.state={codeInput:"",submitting:!1,hasError:!1},r.inputRef=function(e){r._inputRef=e},r.handleChange=function(e){r.setState({codeInput:e,hasError:!1})},r.handleSubmit=(o=regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n=r.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(o=r.processInput(n))){e.next=8;break}return r.setState({hasError:!0}),e.abrupt("return");case 8:return r.setState({submitting:!0}),e.prev=9,e.next=12,(0,s.resolveGiftCode)(o);case 12:(0,s.openGiftCodeAcceptModal)(o,r.analyticsLocation),r.setState({codeInput:""}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),r.setState({hasError:!0});case 19:return e.prev=19,r.setState({submitting:!1}),e.finish(19);case 22:case"end":return e.stop()}},e,i,[[9,16,19,22]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)}),g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.processInput=function(e){var t=e.trim().split("/").pop().match(I);if(null==t)return null;t[0],t[1];var n=t[2];return null==n?null:n.replace(new RegExp("-","g"),"")},t.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,r=t.submitting,o=t.hasError;return a("div",{className:_.default.codeRedemption},void 0,a("div",{className:_.default.header},void 0,a("h2",{},void 0,v.default.Messages.GIFT_INVENTORY_REDEEM_CODES),C),a("div",{className:_.default.inputPrompt},void 0,v.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),a("form",{onSubmit:this.handleSubmit},void 0,a(p.default,{className:_.default.codeRedemptionForm},void 0,a(h.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:"WUMP-AAAAA-BBBBB-CCCCC",inputRef:this.inputRef,error:o?v.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:_.default.codeRedemptionInput}),a(c.default,{type:"submit",submitting:r},void 0,v.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return o({},e,{object:m.AnalyticsObjects.BUTTON_CTA})}}]),t}(l.Component);N.displayName="CodeRedemption",t.default=(0,d.default)(u.default.connectStores([f.default],function(){return{obscureInput:f.default.enabled}})(N)),e.exports=t.default},8060:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(6)),u=S(n(4)),s=n(476),d=S(n(43)),f=S(n(6146)),c=S(n(862)),p=S(n(444)),h=S(n(836)),y=n(334),m=S(n(45)),v=S(n(8061)),_=n(0),E=S(n(13)),g=S(n(5873));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=o(h.default,{}),C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r._loadedAt=Date.now(),T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){(0,s.fetchGiftableEntitlements)()},t.prototype.handleTransitionToStore=function(){m.default.transitionTo(_.Routes.APPLICATION_STORE)},t.prototype.renderEmptyState=function(){return o("div",{className:g.default.emptyState},void 0,o("div",{className:g.default.emptyStateImage}),o("h2",{className:g.default.emptyStateHeader},void 0,E.default.Messages.GIFT_INVENTORY_NO_GIFTS),o("p",{className:g.default.emptyStateSubtext},void 0,E.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onStoreClick:this.handleTransitionToStore})))},t.prototype.render=function(){var e=this.props.giftEntitlements;return this.isLoaded?o("div",{className:g.default.root},void 0,o("h2",{className:g.default.header},void 0,E.default.Messages.GIFT_INVENTORY),I,0===Object.keys(e).length?this.renderEmptyState():l.default.keys(e).map(function(t){var n=(0,y.parseComboId)(t),r=n.skuId,a=n.subscriptionPlanId;return o(v.default,{className:g.default.skuCard,skuId:r,subscriptionPlanId:a,entitlements:e[t]},t)})):o(p.default,{className:g.default.loading})},a(t,[{key:"isLoaded",get:function(){var e=this.props,t=e.applicationsLoaded,n=e.entitlementsLoadedAt;return t&&null!=n&&n>=this._loadedAt}}]),t}(i.Component);C.displayName="EntitlementGifts",t.default=u.default.connectStores([c.default,f.default,d.default],function(){return{applicationsLoaded:Boolean(d.default.lastFetched),entitlementsLoadedAt:c.default.giftEntitlementsLoadedAt,giftEntitlements:l.default.groupBy(c.default.getGiftable(),function(e){return(0,y.makeComboId)(e.skuId,e.subscriptionPlanId)})}})(C),e.exports=t.default},8061:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=D(n(2)),l=w(n(5)),u=n(223),s=w(n(4)),d=n(81),f=D(n(872)),c=w(n(12)),p=w(n(43)),h=w(n(6146)),y=w(n(312)),m=w(n(6097)),v=w(n(179)),_=w(n(7013)),E=w(n(128)),g=w(n(221)),S=n(6233),T=w(S),I=w(n(152)),C=w(n(5988)),N=w(n(306)),A=w(n(444)),O=w(n(874)),b=n(5989),M=n(334),R=n(0),P=w(n(13)),L=w(n(5872));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=1e3,F=function(e){function t(){var n,r;U(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=k(this,e.call.apply(e,[this].concat(a))),r._copyModeTimeout=new d.Timeout,r.state={copyMode:S.CopyInputModes.DEFAULT},r.handleCopy=function(e){var t=r.props,n=t.giftCode,o=t.sku;(0,M.trackGiftCodeCopy)(n,o);try{(0,b.copy)(e),r.setState({copyMode:S.CopyInputModes.SUCCESS})}catch(e){r.setState({copyMode:S.CopyInputModes.ERROR})}r._copyModeTimeout.start(x,function(){r.setState({copyMode:S.CopyInputModes.DEFAULT})})},k(r,n)}return G(t,e),t.prototype.componentWillUnmount=function(){this._copyModeTimeout.stop()},t.prototype.handleRevoke=function(e){f.revokeGiftCode(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.hideCode,r=t.giftCode,a=this.state.copyMode;return o(I.default,{direction:I.default.Direction.VERTICAL,className:L.default.giftCodeRow},void 0,o(T.default,{className:L.default.codeText,value:(0,M.getGiftCodeURL)(r.code),text:this.copyButtonText,mode:a,supportsCopy:b.SUPPORTS_COPY,hideMessage:n?P.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:T.default.ButtonColors.BRAND,buttonLook:T.default.ButtonLooks.FILLED}),o("div",{className:L.default.subTextRow},void 0,null!=r.expiresAt?o(i.Fragment,{},void 0,P.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:r.expiresAt.diff((0,l.default)(),"h")})," ","— "):null,o(g.default,{tag:"a",onClick:function(){return e.handleRevoke(r.code)}},void 0,P.default.Messages.REVOKE)))},a(t,[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case S.CopyInputModes.SUCCESS:return P.default.Messages.BILLING_GIFT_COPIED;case S.CopyInputModes.ERROR:return P.default.Messages.FAILED;default:return P.default.Messages.COPY}}}]),t}(i.PureComponent);F.displayName="GiftCodeRow";var j=function(e){function t(){var n,r,o,a,i=this;U(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=k(this,e.call.apply(e,[this].concat(u))),r._loadedAt=null,r.state={isOpen:!1,isCreating:!1},r.handleGenerateGiftCode=(o=regeneratorRuntime.mark(function e(t){var n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),n=r.props,o=n.skuId,a=n.subscriptionPlanId,r.setState({isCreating:!0}),e.next=5,f.createGiftCode(o,a);case 5:r.setState({isCreating:!1,isOpen:!0});case 6:case"end":return e.stop()}},e,i)}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)}),r.handleToggleOpen=function(){var e=r.props,t=e.skuId,n=e.subscriptionPlanId,o=e.loadedAt,a=!r.state.isOpen;(null==o||null==r._loadedAt||o<r._loadedAt)&&a&&f.fetchUserGiftCodesForSKU(t,n),r.setState({isOpen:!r.state.isOpen})},k(r,n)}return G(t,e),t.prototype.componentDidMount=function(){this._loadedAt=Date.now()},t.prototype.renderTitle=function(){var e=this.props,t=e.sku,n=e.subscriptionPlan;return null==n?o(u.Link,{className:L.default.gameNameLink,to:R.Routes.APPLICATION_STORE_LISTING_SKU(t.id)},void 0,t.name):o("div",{className:L.default.gameName},void 0,(n.interval===R.SubscriptionIntervalTypes.MONTH?P.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:P.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:t.name,intervalCount:n.intervalCount}))},t.prototype.renderGenerateGiftCodeRow=function(){return o(I.default,{justify:I.default.Justify.BETWEEN,align:I.default.Align.CENTER,className:L.default.generateCodeRow},void 0,o("div",{className:L.default.codeText},void 0,P.default.Messages.GIFT_INVENTORY_GENERATE_HELP),o(E.default,{submitting:this.state.isCreating,size:E.default.Sizes.SMALL,color:E.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,P.default.Messages.GIFT_INVENTORY_GENERATE_LINK))},t.prototype.render=function(){var e=this.props,t=e.entitlements,n=e.application,r=e.giftCodes,a=e.className,l=e.sku,u=e.isFetching,s=e.hideCodes,d=this.state.isOpen;return o(_.default,{className:a},void 0,o(g.default,{onClick:this.handleToggleOpen,className:L.default.card},void 0,o(_.default.Header,{splashArtURL:n.getSplashURL(512)},void 0,o("div",{className:L.default.cardHeader},void 0,o(I.default,{align:I.default.Align.CENTER},void 0,o(C.default,{game:n,size:C.default.Sizes.MEDIUM,skuId:l.id}),o("div",{className:L.default.headerText},void 0,this.renderTitle(),o("div",{className:L.default.subTextHeader},void 0,P.default.Messages.GIFT_INVENTORY_COPIES.format({copies:t.length})))),o(N.default,{name:N.default.Names.CARET,direction:d?O.default.Directions.UP:O.default.Directions.DOWN,className:L.default.expandIcon})))),d?o(_.default.Body,{},void 0,u?o(A.default,{className:L.default.spinner}):o(i.Fragment,{},void 0,r.length<t.length?this.renderGenerateGiftCodeRow():null,r.map(function(e){return o(F,{giftCode:e,sku:l,hideCode:s},e.code)}))):null)},t}(i.PureComponent);j.defaultProps={hideCodes:!1},j.displayName="EntitlementGiftGroupCard",t.default=s.default.connectStores([p.default,c.default,v.default,h.default,y.default],function(e){var t=e.skuId,n=e.subscriptionPlanId,r=v.default.get(t);if(null==r)throw new Error("SKU was unavailable while rendering gift.");return{sku:r,hideCodes:y.default.enabled,isFetching:h.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:h.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:p.default.getGame(r.applicationId),subscriptionPlan:null!=n?m.default.get(n):null,giftCodes:h.default.getForGifterSKUAndPlan(c.default.getId(),t,n).filter(function(e){return!e.isClaimed})}})(j),e.exports=t.default},8062:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=T(n(2)),i=S(n(17)),l=S(n(462)),u=S(n(1)),s=T(n(6561)),d=n(500),f=n(6339),c=S(n(313)),p=n(6239),h=S(n(5983)),y=S(n(8063)),m=S(n(7297)),v=S(n(8064)),_=S(n(8066)),E=n(0),g=S(n(5882));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=o(y.default,{}),N=o(l.default,{title:"Discord"}),A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=I(this,e.call.apply(e,[this].concat(i))),r._scrollerRef=a.createRef(),r._scrollToPadding=0,r.state={includeUpdatesInScroller:!1},r.handleHeightTallerThanHalfViewportChange=function(e){r.setState({includeUpdatesInScroller:e})},r.scrollToRow=function(e,t){var n=r._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoView(e,!1,{top:t,bottom:t}),r._scrollToOnMount=null):(r._scrollToOnMount=e,r._scrollToPadding=t)},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){s.setHomeLink(E.Routes.APPLICATION_LIBRARY),(0,p.deepLinkRouteIfLanded)(E.RPCDeepLinks.LIBRARY),u.default.wait(function(){return(0,d.fetchBranches)()}),(0,f.fetchActivityStatistics)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)},t.prototype.renderToolbar=function(){return C},t.prototype.renderBody=function(){var e,t=this.props.location,n=this.state.includeUpdatesInScroller,r=o("div",{},void 0,o(h.default,{section:E.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,o(_.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return o(a.Fragment,{},void 0,n?null:r,a.createElement(c.default,{outerClassName:(0,i.default)((e={},e[g.default.stickyScroller]=!n,e)),ref:this._scrollerRef,gutterStyle:c.default.GutterStyles.STORE,theme:c.default.Themes.MESSAGES_THEMED_WITH_TRACK},n?r:null,o(h.default,{section:E.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,o(v.default,{stickyHeader:!n,scrollToRow:this.scrollToRow,location:t}))))},t.prototype.render=function(){return o("div",{className:g.default.gameLibrary},void 0,N,o(m.default,{currentRoute:E.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),this.renderBody())},t}(a.PureComponent);A.displayName="GameLibrary",t.default=A,e.exports=t.default},8063:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=I(n(2)),i=T(n(17)),l=T(n(4)),u=T(n(1)),s=I(n(7298)),d=T(n(854)),f=T(n(852)),c=T(n(6049)),p=T(n(6161)),h=T(n(221)),y=T(n(306)),m=T(n(828)),v=n(6320),_=I(n(5986)),E=n(0),g=T(n(13)),S=T(n(5875));function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.inputRef=null,r.setRef=function(e){r.inputRef=e},r.handleKeyDown=function(e){var t=r.props,n=t.activeRowKey,o=t.hasModalOpen,a=t.applicationViewItems;if(!(o||e.ctrlKey||e.altKey||e.metaKey||document.activeElement!==r.inputRef&&(0,v.isInputLikeElement)(document.activeElement)))switch(e.which){case E.KeyboardKeys.ESCAPE:e.target!==r.inputRef?r.reset():null!=r.inputRef&&r.inputRef.blur();break;case E.KeyboardKeys.ENTER:if(null!=n){e.preventDefault();var i=a.find(function(e){return e.key===n});if(null==i)return;var l=i.libraryApplication;_.performDefaultLibraryApplicationAction(l,{analyticsParams:{source:E.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:E.AnalyticsPages.LIBRARY,section:E.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:E.AnalyticsObjects.BUTTON_CTA}}})}break;case E.KeyboardKeys.ARROW_DOWN:case E.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),r.updateActiveRow(e.which===E.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=r.inputRef&&e.target!==r.inputRef&&r.inputRef.focus()}},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){u.default.wait(function(){return s.updateActiveRowKey(null)}),document.removeEventListener("keydown",this.handleKeyDown)},t.prototype.reset=function(){s.updateActiveRowKey(null),s.updateLibraryFilter("")},t.prototype.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,o=n.findIndex(function(e){return e.key===r}),a=0;o>=0&&(a=(o+e)%n.length)<0&&(a=n.length-1);var i=n[a];s.updateActiveRowKey(null!=i?i.key:null,!0)},t.prototype.render=function(){var e,t,n=this.props.filterQuery;return o("div",{className:S.default.libraryFilter},void 0,o(m.default,{className:S.default.libraryFilterInputWrapper,inputClassName:S.default.libraryFilterInput,inputRef:this.setRef,size:m.default.Sizes.MINI,onChange:s.updateLibraryFilter,name:"filter",maxLength:100,value:n,placeholder:g.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}),o(y.default,{className:(0,i.default)(S.default.icon,(e={},e[S.default.iconVisible]=""===n,e)),name:y.default.Names.SEARCH}),o(h.default,{onClick:this.reset},void 0,o(y.default,{className:(0,i.default)(S.default.icon,S.default.clearIcon,(t={},t[S.default.iconVisible]=""!==n,t)),name:y.default.Names.CLEAR})))},t}(a.PureComponent);N.displayName="ApplicationLibraryFilter",t.default=l.default.connectStores([c.default,d.default,f.default,p.default],function(){return{filterQuery:c.default.applicationFilterQuery,applicationViewItems:c.default.sortedFilteredLibraryApplicationViewItems,hasModalOpen:f.default.hasModalOpen()||d.default.hasLayers(),activeRowKey:p.default.activeRowKey}})(N),e.exports=t.default},8064:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Y(n(2)),u=V(n(17)),s=V(n(4)),d=n(81),f=V(n(1)),c=n(307),p=Y(n(7298)),h=Y(n(857)),y=V(n(461)),m=V(n(5980)),v=n(130),_=V(n(43)),E=V(n(90)),g=V(n(64)),S=V(n(35)),T=V(n(6049)),I=V(n(6161)),C=V(n(128)),N=V(n(152)),A=V(n(5988)),O=V(n(306)),b=V(n(6012)),M=V(n(7299)),R=V(n(442)),P=V(n(18)),L=n(113),w=V(n(9)),D=n(325),U=V(n(6050)),k=V(n(6024)),G=V(n(6158)),x=V(n(6165)),F=V(n(8065)),j=n(0),B=V(n(13)),H=V(n(5877));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var K=(0,D.cssValueToNumber)(H.default.rowMinHeight),z=(0,D.cssValueToNumber)(H.default.linkedToGlowDuration),$=Object.freeze(((o={})[j.GameTableListKeys.PLATFORM]="Platform",o[j.GameTableListKeys.LAST_PLAYED]="Last Played",o[j.GameTableListKeys.NAME]="Name",o));var q=function(e){var t,n=e.flag,r=e.name,o=e.item,a=e.tooltip,l=o.libraryApplication.hasFlag(n);return i(R.default,{text:a},void 0,i(O.default,{name:r,className:(0,u.default)(H.default.settingIcon,(t={},t[H.default.hidden]=!l,t))}))};q.displayName="FlagIcon";var X=[{key:j.GameTableListKeys.NAME,renderHeader:function(){return B.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:H.default.nameCell,bodyCellClassName:H.default.nameBodyCell,render:function(e){return i(G.default,{game:e.application,source:j.AnalyticsLocations.APPLICATION_LIBRARY},void 0,i(N.default,{align:N.default.Align.CENTER},void 0,i(A.default,{game:e.application,size:A.default.Sizes.SMALL,className:H.default.gameIcon}),i("div",{className:H.default.nameCellInfo},void 0,i("div",{className:H.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(j.LibraryApplicationFlags.PREMIUM)?i(O.default,{name:O.default.Names.NITRO_WHEEL,className:H.default.nitroIcon}):null)))}},{key:j.GameTableListKeys.PLATFORM,renderHeader:function(){return B.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:H.default.platformCell,bodyCellClassName:H.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return i(G.default,{game:e.application,source:j.AnalyticsLocations.APPLICATION_LIBRARY},void 0,i(N.default,{align:N.default.Align.CENTER},void 0,null!=t?j.DistributorNames[t]:B.default.Messages.GAME_LIBRARY_NOT_APPLICABLE))}},{key:j.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return B.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:H.default.lastPlayedCell,bodyCellClassName:H.default.textCell,render:function(e){var t,n=void 0;return n=e.isRunning?B.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?B.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?i(b.default,{end:e.lastPlayed,location:b.default.Locations.GAME_LIBRARY_LAST_PLAYED}):B.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE,i(G.default,{game:e.application,source:j.AnalyticsLocations.APPLICATION_LIBRARY},void 0,i(N.default,{align:N.default.Align.CENTER,className:(0,u.default)((t={},t[H.default.lastPlayedCellNew]=e.isNew,t))},void 0,n))}},{key:j.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:H.default.actionsCell,render:function(e,t,n){var r;if(!t)throw new Error("No cell props defined.");var o,a,s=e.key===t.activeRowKey;return i(l.Fragment,{},void 0,i("div",{className:H.default.settingIcons},void 0,i(q,{flag:j.LibraryApplicationFlags.PRIVATE,item:e,name:O.default.Names.EYE_HIDDEN,tooltip:B.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),i(q,{flag:j.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,name:O.default.Names.OVERLAY_OFF,tooltip:B.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),i(F.default,{className:(0,u.default)(H.default.settingIcon,(r={},r[H.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),e.libraryApplication instanceof v.LibraryApplicationRecord&&!(0,L.isUserEntitledToLibraryApplication)(e.libraryApplication)?i(k.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:s?C.default.Colors.GREEN:C.default.Colors.PRIMARY,customDisabledColor:C.default.Colors.PRIMARY,size:H.default.actionButtonSize}):i(x.default,{analyticsListSort:(o=t.sortKey,a=t.sortDirection,$[o]+" "+(a===j.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:j.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?C.default.Colors.GREEN:C.default.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===j.LibraryApplicationActions.PLAY,size:H.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}))}}],Q=function(e){var t,n=e.item,r=e.activeRowKey,o=e.highlightedApplicationKey,a=e.onMouseEnter,s=e.onMouseLeave,d=e.onContextMenu,f=e.setRef,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),p=n.key===r,h=n.key===o,y=p?n.application.getSplashURL(300):null;return l.createElement("div",{className:(0,u.default)((t={},t[H.default.rowWrapperActive]=p&&!h,t[H.default.rowWrapperGlow]=h,t[H.default.rowWrapper]=!p&&!h,t[H.default.rowWrapperDim]=!p&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return f(e,n.key)}),onMouseEnter:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return a(n)}),onMouseLeave:s,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d(e,n)})},p?i("div",{className:H.default.rowBackground,style:null!=y?{backgroundImage:"url("+y+")"}:null}):null,l.createElement("div",c))};Q.displayName="Row";var J=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=W(this,e.call.apply(e,[this].concat(i))),r._didUnmount=!1,r._rowRefs={},r.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=r.props.location.state?r.props.location.state.applicationId:null},r.setActiveRowKey=function(e){r.setState({overflowMenuRowKey:e.key})},r.clearActiveRowKey=function(){r._didUnmount||r.setState({overflowMenuRowKey:null})},r.handleRowMouseEnter=function(e){r.props.isNavigatingByKeyboard||p.updateActiveRowKey(e.key)},r.handleRowMouseLeave=function(){r.props.isNavigatingByKeyboard||p.updateActiveRowKey(null)},r.setRowRef=function(e,t){r._rowRefs[t]=e},r.handleApplicationContextMenu=function(e,t){r.setActiveRowKey(t);var n=r.props.analyticsContext;(0,c.openContextMenu)(e,function(e){return l.createElement(U.default,a({},e,{type:j.ContextMenuTypes.APPLICATION_GAME_LIBRARY,applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:n}))},{onClose:r.clearActiveRowKey})},W(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,r=e.fetched;t&&null!=n&&h.scanForLocalApplications(),r&&(this.handleHighlightedApplicationKey(),this.trackViewed())},t.prototype.componentWillUnmount=function(){this._didUnmount=!0},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||f.default.wait(function(){return h.scanForLocalApplications()}),!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];null!=n&&(f.default.wait(c.closeContextMenu),this.props.scrollToRow(n,K))}},t.prototype.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;null!=t&&null!=this._rowRefs[t]&&(this.props.scrollToRow(this._rowRefs[t],K),(new d.Timeout).start(z,function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))},t.prototype.trackViewed=function(){var e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},t=this.props,n=t.analyticsContext,r=t.applicationViewItems,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var l;if(o){if(i>=r.length)break;l=r[i++]}else{if((i=r.next()).done)break;l=i.value}switch(l.libraryApplication.getDistributor()){case j.Distributors.DISCORD:e.num_applications_discord++;break;case j.Distributors.STEAM:e.num_applications_steam++;break;case j.Distributors.BATTLENET:e.num_applications_battlenet++;break;case j.Distributors.TWITCH:e.num_applications_twitch++;break;case j.Distributors.UPLAY:e.num_applications_uplay++;break;case j.Distributors.ORIGIN:e.num_applications_origin++;break;case j.Distributors.GOG:e.num_applications_gog++;break;case j.Distributors.EPIC:e.num_applications_epic++}e.num_applications_total++}P.default.track(j.AnalyticEvents.LIBRARY_VIEWED,a({},e,{load_id:n.loadId}))},t.prototype.handleSort=function(e,t){p.sortList(e,t)},t.prototype.handleEnableImportClick=function(){y.default.updateLocalSettings({importGamesEnabled:!0}),P.default.track(j.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!0})},t.prototype.handleDenyImportClick=function(){y.default.updateLocalSettings({importGamesEnabled:!1}),P.default.track(j.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!1})},t.prototype.renderImportHelp=function(){var e=this.props,t=e.importGamesEnabled,n=e.applicationViewItems,r=e.filterQuery,o=n.length>0,a=null==t&&w.default.isWindows()&&!r;if(o&&!a)return null;var l=void 0;return l=a?B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT_ASK:""!==r?B.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:r}):t&&w.default.isWindows()?B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT:B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT,i("div",{className:o?H.default.emptyStateSmall:H.default.emptyStateLarge},void 0,i("div",{className:H.default.emptyWumpus}),i(N.default,{grow:0,shrink:o?1:0,direction:N.default.Direction.VERTICAL},void 0,i("div",{className:H.default.emptyStateText},void 0,i("h5",{className:H.default.emptyStateHeader},void 0,a?B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER_IMPORT:B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),i("div",{className:H.default.emptyStateDescription},void 0,l)),a?i("div",{className:H.default.emptyStateButtons},void 0,i(C.default,{onClick:this.handleDenyImportClick,className:H.default.emptyStateButton,color:C.default.Colors.PRIMARY,size:C.default.Sizes.MEDIUM},void 0,B.default.Messages.APPLICATION_LIBRARY_IMPORT_DENY),i(C.default,{className:H.default.emptyStateButton,color:C.default.Colors.BRAND,size:C.default.Sizes.MEDIUM,onClick:this.handleEnableImportClick},void 0,B.default.Messages.APPLICATION_LIBRARY_IMPORT_ACCEPT)):null))},t.prototype.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,o=e.activeRowKey,a=e.stickyHeader,u=this.state,s=u.overflowMenuRowKey,d=u.highlightedApplicationKey;return i(l.Fragment,{},void 0,r.length>0?i(M.default,{columns:X,data:r,sortData:!1,rowComponent:Q,className:H.default.table,headerClassName:a?H.default.stickyHeader:H.default.header,headerCellClassName:H.default.headerCell,sortedHeaderCellClassName:H.default.headerCellSorted,bodyCellClassName:H.default.bodyCell,rowClassName:H.default.row,sortKey:t,sortDirection:n,stickyHeader:a,rowProps:{activeRowKey:s||o,highlightedApplicationKey:d,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:s||o,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())},t}(l.PureComponent);J.defaultProps={stickyHeader:!1},J.displayName="GameList",t.default=s.default.connectStores([_.default,E.default,I.default,S.default,g.default,T.default],function(){return{applicationViewItems:T.default.sortedFilteredLibraryApplicationViewItems,gamesDBLastFetched:_.default.lastFetched,importGamesEnabled:S.default.importGamesEnabled,filterQuery:T.default.applicationFilterQuery,sortKey:I.default.sortKey,sortDirection:I.default.sortDirection,activeRowKey:I.default.activeRowKey,isNavigatingByKeyboard:I.default.isNavigatingByKeyboard,fetched:T.default.hasFetchedApplications}})((0,m.default)(J)),e.exports=t.default},8065:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=y(n(4)),s=n(81);n(130);var d=y(n(6087)),f=y(n(306)),c=y(n(442)),p=n(0),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=new Set([p.CloudSyncStateTypes.PUSHING,p.CloudSyncStateTypes.PULLING]),_=Object.freeze(((o={})[p.CloudSyncStateTypes.DONE]=f.default.Names.CLOUD,o[p.CloudSyncStateTypes.PLANNING]=f.default.Names.CLOUD,o[p.CloudSyncStateTypes.PREPARING]=f.default.Names.CLOUD,o[p.CloudSyncStateTypes.PUSHING]=f.default.Names.CLOUD_UPLOAD,o[p.CloudSyncStateTypes.PULLING]=f.default.Names.CLOUD_DOWNLOAD,o[p.CloudSyncStateTypes.CONFLICT]=f.default.Names.CLOUD,o[p.CloudSyncStateTypes.ERROR]=f.default.Names.CLOUD,o)),E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r._doneTimer=new s.Timeout,m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()},t.prototype.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==p.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())},t.prototype.componentWillUnmount=function(){this._doneTimer.stop()},t.prototype.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,function(){return e.forceUpdate()})},t.prototype.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===p.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1},t.prototype.getStop=function(e,t){return t?1:e.type===p.CloudSyncStateTypes.PUSHING||e.type===p.CloudSyncStateTypes.PULLING?e.progress/e.total:0},t.prototype.getTooltip=function(e,t){switch(e.type){case p.CloudSyncStateTypes.DONE:return t?h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case p.CloudSyncStateTypes.CONFLICT:case p.CloudSyncStateTypes.ERROR:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case p.CloudSyncStateTypes.PLANNING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case p.CloudSyncStateTypes.PREPARING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case p.CloudSyncStateTypes.PUSHING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case p.CloudSyncStateTypes.PULLING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING}},t.prototype.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,o=null==t?{type:p.CloudSyncStateTypes.DONE}:t,u=this.getIsRecentlySynced(),s={};return(v.has(o.type)||u)&&(s.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(o,u)}),i(c.default,{text:this.getTooltip(o,u)},void 0,l.createElement(f.default,a({className:r,name:u?f.default.Names.CLOUD_DONE:_[o.type]},s)))},t}(l.PureComponent);E.displayName="CloudSyncIcon",t.default=u.default.connectStores([d.default],function(e){var t=e.libraryApplication;return{cloudSyncState:d.default.getState(t.id,t.branchId)}})(E),e.exports=t.default},8066:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var u=Array(a),s=0;s<a;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),f=K(n(2)),c=W(n(17)),p=W(n(6)),h=W(n(4)),y=W(n(1)),m=K(n(307)),v=K(n(329)),_=W(n(5980)),E=W(n(5990));n(130);var g=W(n(156)),S=W(n(855)),T=W(n(43)),I=W(n(90)),C=W(n(35)),N=W(n(154)),A=W(n(128)),O=W(n(152)),b=W(n(5988)),M=W(n(306)),R=n(6012),P=W(n(6056)),L=W(n(8067)),w=W(n(7299)),D=W(n(442)),U=n(866),k=K(n(113)),G=W(n(6050)),x=W(n(6158)),F=W(n(6165)),j=W(n(6564)),B=W(n(8068)),H=n(0),V=W(n(13)),Y=W(n(5881));function W(e){return e&&e.__esModule?e:{default:e}}function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var X=function(e){var t=e.className,n=e.children,r=e.onContextMenu,o=e.item;return d("div",{className:t,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return r(e,o)})},void 0,n)};X.displayName="Row";var Q=[H.Colors.LINK,H.Colors.PRIMARY_DARK],J=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return d(D.default,{text:t},void 0,d(A.default,{className:Y.default.actionButton,innerClassName:Y.default.actionButtonContents,color:A.default.Colors.PRIMARY,size:A.default.Sizes.ICON,onClick:n},void 0,d(M.default,{name:r,className:Y.default.actionIcon})))};function Z(e,t){switch(t){case H.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case H.DispatchApplicationStages.PLANNING:case H.DispatchApplicationStages.FINALIZING:case H.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,U.formatSize)(e,{useKibibytes:!0})}}J.displayName="ActionButton";var ee=Object.freeze(((i={})[H.LocalDispatchApplicationStates.INSTALLING]=((r={})[R.TimeUnits.NONE]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[R.TimeUnits.SECONDS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[R.TimeUnits.MINUTES]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[R.TimeUnits.HOURS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),i[H.LocalDispatchApplicationStates.UPDATING]=((o={})[R.TimeUnits.NONE]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},o[R.TimeUnits.SECONDS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},o[R.TimeUnits.MINUTES]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[R.TimeUnits.HOURS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i[H.LocalDispatchApplicationStates.REPAIRING]=((a={})[R.TimeUnits.NONE]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},a[R.TimeUnits.SECONDS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[R.TimeUnits.MINUTES]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[R.TimeUnits.HOURS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),i));function te(e,t,n,r,o){var a=null!=e?e/60:null,i=ee[t],l=null!=i?Object.keys(i):[],u=(0,R.getTimeAndUnit)(a,l),s=u.unit,d=u.time;if(null!=i&&null!=s){var f=i[s];return null!=f?f(n,r,o,d):null}return null}function ne(e,t,n,r,o,a){var i=Z(o,t),l=Z(r,t);switch(t){case H.DispatchApplicationStages.QUEUED:return 0===r?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.PLANNING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case H.DispatchApplicationStages.ALLOCATING_DISK:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case H.DispatchApplicationStages.PATCHING:return te(a,e,n,l,i);case H.DispatchApplicationStages.FINALIZING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case H.DispatchApplicationStages.PAUSING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.VERIFYING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.REPAIRING:return e===H.LocalDispatchApplicationStates.REPAIRING?te(a,e,n,l,i):V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:l,total:i})}throw new Error("Invalid Dispatch stage")}var re="name",oe="progress",ae="actions",ie=function(e){function t(){var n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=$(this,e.call.apply(e,[this].concat(a))),r.renderProgressPatchingBody=function(e,t){var n=r.props.item.state;if(null==n)return null;var o=n.stage,a=n.progress,i=n.total,l=n.type,u=n.readerProgress;if(null==a||null==i||null==o)return null;var s=k.calculateProgressPercentage(a,i),d=k.calculateProgressPercentage(u||0,i),f=e[e.length-1]/t*1e3,c=i-a,p=0!==f?Math.max(1,c/f):null,h=ne(l,o,Math.floor(s),a,i,p);return r.renderStackedProgress({percents:[s,d],message:h})},$(r,n)}return q(t,e),t.prototype.renderBody=function(e){var t=e.percent,n=e.foregroundColor,r=e.backgroundColor,o=e.foregroundGradientColor,a=e.message;return d(O.default,{direction:O.default.Direction.VERTICAL},void 0,d(P.default,{percent:t,size:P.default.Sizes.SMALL,backgroundColor:r,foregroundColor:n,foregroundGradientColor:o,animate:this.isFocused}),d("div",{className:Y.default.progressCellText},void 0,null!=a?a:""))},t.prototype.renderStackedProgress=function(e){var t=e.percents,n=e.message;return d(O.default,{direction:O.default.Direction.VERTICAL},void 0,d(L.default,{percents:t,size:P.default.Sizes.SMALL,backgroundColor:this.props.item.theme===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,foregroundColors:Q,animate:this.isFocused}),d("div",{className:Y.default.progressCellText},void 0,null!=n?n:""))},t.prototype.renderFinished=function(){var e=this.props.item;return this.renderBody({message:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return v.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_300:H.Colors.PRIMARY_DARK,backgroundColor:e.theme===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,percent:100})},t.prototype.renderQueued=function(){var e=this.props.item,t=e.state,n=e.theme,r=void 0,o=void 0;if(null!=t){var a=t.progress,i=t.total,l=t.stage;if(null!=a&&null!=i){var u=Z(i,l),s=Z(a,l);o=k.calculateProgressPercentage(a,i);var d=Math.floor(o);r=l===H.DispatchApplicationStages.PAUSING?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:s,total:u}):V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:s,total:u})}}return null!=o&&null!=r||(o=0,r=V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION),this.renderBody({percent:o,foregroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_300:H.Colors.PRIMARY_DARK,backgroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,message:r})},t.prototype.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,o=t.total;if(null==r||null==o)return null;var a=k.calculateProgressPercentage(r,o),i=Math.floor(a),l=0===r&&1===o?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,U.formatSize)(r),total:(0,U.formatSize)(o)});return this.renderBody({message:l,foregroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_300:H.Colors.PRIMARY_DARK,backgroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,percent:a})},t.prototype.renderProgressPatching=function(){return d(j.default,{getHistoricalTotalBytes:g.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)},t.prototype.renderProgressDefault=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.total,o=t.progress,a=t.stage,i=t.type;if(null==r||null==o||null==a)return null;var l=k.calculateProgressPercentage(o,r),u=Math.floor(l);return this.renderBody({percent:l,message:ne(i,a,u,o,r),foregroundColor:H.Colors.LINK,backgroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800})},t.prototype.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case H.DispatchApplicationStages.PATCHING:case H.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}},t.prototype.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==H.LocalDispatchApplicationStates.UPDATING&&t.state.type!==H.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==H.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()},u(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]),t}(f.PureComponent);ie.displayName="ProgressCell";var le=function(){return d(J,{icon:M.default.Names.PLAY,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return v.resume()}})};le.displayName="ResumeButton";var ue=function(){return d(J,{icon:M.default.Names.PAUSE,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return v.pause()}})};ue.displayName="PauseButton";var se=function(e){var t=e.item;return d(J,{icon:M.default.Names.ARROW_UP,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return v.moveUp(t.applicationId,t.branchId)}})};se.displayName="MoveUpButton";var de=function(e){var t=e.item;return d(J,{icon:M.default.Names.CLOSE,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return v.cancel(t.applicationId,t.branchId)}})};de.displayName="CancelButton";var fe=d(le,{}),ce=[{key:re,cellClassName:Y.default.nameCell,render:function(e){return d(x.default,{game:e.application,location:H.AnalyticsLocations.APPLICATION_LIBRARY},void 0,d(O.default,{align:O.default.Align.CENTER},void 0,d(b.default,{game:e.application,className:Y.default.gameIcon,size:b.default.Sizes.SMALL}),d("div",{className:Y.default.nameCellText},void 0,e.application.name)))}},{key:oe,cellClassName:Y.default.progressCell,headerCellClassName:Y.default.progressCellHeader,bodyCellClassName:Y.default.progressCellBody,render:function(e,t){return d(ie,{item:e,cellProps:t})}},{key:ae,cellClassName:Y.default.actionsCell,render:function(e,t){var n=void 0,r=void 0;return e.finished?n=null!=e.libraryApplication?d(F.default,{libraryApplication:e.libraryApplication,size:A.default.Sizes.SMALL,className:Y.default.gameActionButton,source:H.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==H.LocalDispatchApplicationStates.UP_TO_DATE&&(n=e.index>0?d(se,{item:e}):null!=t&&t.paused?fe:d(ue,{item:e}),r=d(de,{item:e})):r=d(de,{item:e}),d(O.default,{justify:O.default.Justify.END},void 0,n,r)}}],pe=function(e){function t(){var n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=$(this,e.call.apply(e,[this].concat(a))),r.isUnmounted=!1,r.isTallerThanHalfViewport=!1,r.throttledUpdateHeight=p.default.throttle(function(){if(!r.isUnmounted){var e=r.props,t=e.height,n=e.onHeightTallerThanHalfViewportChange,o=t>window.innerHeight/2;r.isTallerThanHalfViewport!==o&&(r.isTallerThanHalfViewport=o,n(o))}},1e3),$(r,n)}return q(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)},t.prototype.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()},t.prototype.componentWillUnmount=function(){this.props.applications.forEach(function(e){e.finished&&y.default.wait(function(){v.removeFinished(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0},t.prototype.render=function(){var e=this.props,t=e.applications,n=e.paused,r=e.isFocused,o=e.theme,a=e.analyticsContext;return 0===t.length?null:d("div",{className:Y.default.gameUpdates},void 0,d("div",{className:Y.default.headerRow},void 0,d(B.default,{className:(0,c.default)(Y.default.headerCell,Y.default.networkProgress),title:V.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:g.default.getHistoricalTotalBytesDownloaded,color:H.Colors.STATUS_GREEN,animate:r,gradientStopColor:o===H.ThemeTypes.LIGHT?H.Colors.WHITE:null}),d(B.default,{className:(0,c.default)(Y.default.headerCell,Y.default.diskProgress),title:V.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:g.default.getHistoricalTotalBytesWritten,color:H.Colors.LINK,animate:r,gradientStopColor:o===H.ThemeTypes.LIGHT?H.Colors.WHITE:null})),d(w.default,{hasHeader:!1,columns:ce,data:t,className:Y.default.table,rowClassName:Y.default.row,rowComponent:X,cellProps:{paused:n,isFocused:r,theme:o},rowProps:{onContextMenu:function(e,t){return function(e,t,n){m.openContextMenu(e,function(e){return f.createElement(G.default,s({},e,{type:H.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES,application:t.applicationId,applicationId:t.branchId,analyticsContext:n}))})}(e,t,a)}},bodyCellClassName:Y.default.cell}))},t}(f.PureComponent);function he(e,t){return e.reduce(function(e,n,r){var o=n.applicationId,a=n.branchId,i=T.default.getGame(o),l=g.default.getState(o,a);return null!=i&&e.push({key:o+":"+a,applicationId:o,branchId:a,state:l,application:i,libraryApplication:I.default.getLibraryApplication(o,a),finished:t,index:r}),e},[])}pe.displayName="GameUpdates",t.default=(0,E.default)(h.default.connectStores([g.default,S.default,T.default,I.default,N.default,C.default],function(){var e=he(S.default.activeItems,!1),t=he(S.default.finishedItems,!0);return{applications:[].concat(e,t),paused:S.default.paused,isFocused:N.default.isFocused(),theme:C.default.theme}})((0,_.default)(pe))),e.exports=t.default},8067:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),d(n(17))),l=d(n(6)),u=n(0),s=d(n(5878));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),c=function(e){var t=e.className,n=e.percents,r=e.size,d=void 0===r?f.SMALL:r,c=e.foregroundColors,p=void 0===c?[u.Colors.BRAND]:c,h=e.backgroundColor,y=void 0===h?"#e9e7e7":h,m=e.animate,v=void 0===m||m,_=l.default.zip(n,p).map(function(e,t){var n,r=e[0],l=e[1],u=void 0;return u=Array.isArray(l)?{background:"linear-gradient(to right, "+l[0]+", "+l[1]+")"}:{backgroundColor:l},a("div",{className:(0,i.default)(s.default.progressBar,s.default[d],(n={},n[s.default.animating]=v,n)),style:o({transform:"translate3d("+(Math.min(Math.max(0,r),100)-100)+"%, 0, 0)"},u)},t)}).reverse();return a("div",{className:(0,i.default)(t,s.default.progress,s.default[d]),style:{backgroundColor:y}},void 0,_)};c.displayName="StackedProgress",c.Sizes=f,t.default=c,e.exports=t.default},8068:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(152)),u=c(n(8069)),s=c(n(6564)),d=c(n(13)),f=c(n(5880));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=1e3;var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=p(this,e.call.apply(e,[this].concat(s))),r.renderBody=function(e,t,n){var a,s=r.props,c=s.title,p=s.className,y=s.color,m=s.animate,v=s.gradientStopColor;return o("div",{className:(0,i.default)(f.default.monitor,p)},void 0,o(l.default,{align:l.default.Align.CENTER},void 0,o(l.default,{className:f.default.text,direction:l.default.Direction.VERTICAL},void 0,o("div",{className:f.default.title},void 0,c),o("div",{className:f.default.rate},void 0,(a=e[e.length-1]/t*1e3)>h?d.default.Messages.FILE_RATE_MB.format({size:Math.round(a/h)}):d.default.Messages.FILE_RATE_KB.format({size:Math.round(a)}))),o("div",{className:f.default.overflowContainer},void 0,o(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:f.default.sparkChart,updateInterval:t,color:y,gradientStopColor:v,numUpdatesToShow:n,animate:m,pixelWidth:600,pixelHeight:48,lineWidth:4}))))},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(s.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)},t}(a.PureComponent);y.displayName="GameUpdateActivityMonitor",t.default=y,e.exports=t.default},8069:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=d(n(2)),i=s(n(6)),l=d(n(6209)),u=s(n(5879));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.canvas=a.createRef(),r.updateAnimation=function(e){var t=r.canvas.current;if(null!=t){var n=r.props,o=n.data,a=n.updateInterval,i=n.color,l=n.numUpdatesToShow,u=n.lineWidth,s=n.animate,d=n.gradientStopColor;if(!(o.length<2)){var f=Math.max(Math.min((e-r.dataChangedAt)/a,1),0),c=t.getContext("2d"),p=r.maxValue;c.strokeStyle=i,c.lineWidth=u;var h=t.height-c.lineWidth,y=c.createLinearGradient(0,0,0,h);y.addColorStop(0,null!=d?d:"transparent"),y.addColorStop(1,r.fillColor),c.fillStyle=y;var m=o.length>=l?l:o.length;c.setTransform(1,0,0,-1,0,t.height),c.clearRect(0,0,t.width,t.height),c.translate(0,.5*c.lineWidth);var v=Math.floor(t.width/(m-3)),_=.5*v,E=v-v*f;c.translate(E,0),c.beginPath();var g=void 0,S=void 0,T=-v;o.forEach(function(e,t){g={x:T,y:h*e/p},0===t?c.moveTo(g.x,g.y):c.bezierCurveTo(S.x+_,S.y,g.x-_,g.y,g.x,g.y),S=g,T+=v}),c.stroke(),c.lineTo(T-v,0),c.lineTo(0,0),c.fill(),s&&f<1&&(r.animationFrameRequestId=window.requestAnimationFrame(r.updateAnimation))}}},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,o=n.data,a=n.animate,u=null==e||e.data!==t.data&&!i.default.isEqual(e.data,t.data);if(u&&(this.dataChangedAt=performance.now(),this.maxValue=null!=r?r:Math.max.apply(Math,o)),u||null==e||!e.animate&&a||e.color!==this.props.color){var s=l.hexToRgb(this.props.color);this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)",window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}},t.prototype.componentDidMount=function(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)},t.prototype.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)},t.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0},t.prototype.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,r=e.pixelHeight;return o("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:u.default.canvas,width:n,height:r}))},t}(a.PureComponent);c.defaultProps={animate:!0},c.displayName="SparkChart",t.default=c,e.exports=t.default},8070:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=w(n(310)),u=w(n(4)),s=n(307),d=w(n(6171)),f=w(n(12)),c=w(n(860)),p=w(n(7300)),h=w(n(6550)),y=w(n(845)),m=w(n(479)),v=w(n(853)),_=w(n(111)),E=w(n(6041)),g=w(n(28)),S=w(n(153)),T=w(n(184)),I=w(n(51)),C=w(n(226)),N=w(n(6081)),A=w(n(152)),O=w(n(8071)),b=w(n(6151)),M=w(n(7095)),R=w(n(8078)),P=n(0),L=w(n(5885));function w(e){return e&&e.__esModule?e:{default:e}}var D=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return U.call(r),r.state={pinnedBannerGuilds:new Set,bannerOpacity:new l.default.Value(1)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){e.guildId!==this.props.guildId&&this.state.bannerOpacity.setValue(1-this.props.scrollTop/78)},t.prototype.renderGuildHeader=function(){var e=this.props,t=e.guild,n=e.isGuest,r=this.state,o=r.pinnedBannerGuilds,i=r.bannerOpacity;return a(A.default.Child,{wrap:!0,grow:0,shrink:0},"guild-header",a(R.default,{guild:t,isGuest:n,pinnedBanner:null!=o&&o.has(t.id),bannerOpacity:i}))},t.prototype.renderNotice=function(){var e=this.props.guild;return a(O.default,{guild:e})},t.prototype.render=function(){var e=this.props.guild,t=this.props,n=(t.channelNoticeVersion,t.mentionCount,t.isGuest,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["channelNoticeVersion","mentionCount","isGuest"]));return a(A.default,{className:L.default.container,direction:A.default.Direction.VERTICAL,align:A.default.Align.STRETCH,onContextMenu:this.handleContextMenu},void 0,null!=e&&this.renderGuildHeader(),null!=e&&this.renderNotice(),i.createElement(M.default,o({},n,{onScroll:null!=e&&null!=e.banner?this.pinBanner:null})))},t}(i.PureComponent),U=function(){var e=this;this.handleContextMenu=function(t){var n=e.props.guild;(0,s.openContextMenu)(t,function(e){return i.createElement(b.default,o({},e,{type:P.ContextMenuTypes.GUILD_CHANNEL_LIST,guild:n}))})},this.pinBanner=function(t){if(null!=t){var n=t.scrollTop,r=e.props.guild.id,o=new Set(e.state.pinnedBannerGuilds);n>=78?o.has(r)||o.add(r):o.has(r)&&o.delete(r),e.state.bannerOpacity.setValue(1-n/78),e.setState({pinnedBannerGuilds:o})}}};D.displayName="GuildSidebar";var k=(0,d.default)(function(e,t){var n;return(n={})[P.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE]=function(){return t.forceUpdate()},n})(D);t.default=u.default.connectStores([S.default,y.default,m.default,_.default,E.default,g.default,T.default,I.default,N.default,C.default,h.default,p.default,v.default,c.default,f.default],function(e){var t=e.guildId,n=g.default.getGuild(t),r=_.default.getChannels(t),o=v.default.getCategories(t),a=C.default.getMutedChannels(t),i=N.default.getVoiceStates(t),l=h.default.getCollapsed(),u=C.default.isGuildCollapsed(t),s=E.default.getMentionCounts()[t],d=E.default.getGuildUnreadCount(t),A=m.default.getGuildDimensions(t),O=A.scrollTo,b=A.scrollTop,M=y.default.getChannelId(t),R=T.default.isDisabled()?null:I.default.getVoiceChannelId(),P=S.default.getGuildVersion(t),L=p.default.getVersion(),w=c.default.version;return{guild:n,channels:r,categories:o,mutedChannels:a,scrollToChannel:O,selectedChannelId:M,selectedVoiceChannelId:R,voiceStates:i,collapsedChannels:l,collapseMuted:u,scrollTop:b,isGuest:f.default.isGuest(),mentionCount:s,unreadCount:d,permissionVersion:P,channelNoticeVersion:L,categoryCollapseVersion:w}})(k),e.exports=t.default},8071:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(6)),l=v(n(4)),u=n(6786),s=v(n(8072)),d=v(n(7300)),f=v(n(181)),c=v(n(8073)),p=v(n(8075)),h=v(n(8077)),y=n(0),m=v(n(5425));function v(e){return e&&e.__esModule?e:{default:e}}var _=new s.default([c.default,p.default,h.default]),E=i.default.debounce(f.default.trackWithMetadata,500),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.guild,n=e.Notice;null!=n&&((0,u.showNotice)(n.Type,t),E(y.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:n.Type,guild_id:t.id}))},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.guild,r=t.Notice;null==r||e.guild.id===n.id&&null!=e.Notice&&e.Notice.Type===r.Type||((0,u.showNotice)(r.Type,n),E(y.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:r.Type,guild_id:n.id}))},t.prototype.render=function(){var e=this.props,t=e.guild,n=e.Notice;return null==n||null!=t.banner&&null!=n&&n.Type!==y.ChannelNoticeTypes.MFA_WARNING?null:o("div",{className:m.default.channelNotices,onContextMenu:function(e){return e.stopPropagation()}},void 0,o(n,{guild:t}))},t}(a.Component);g.displayName="ChannelNotices",t.default=l.default.connectStores([d.default].concat(_.getStores()),function(e){var t=e.guild,n=d.default.getState(),r=n.noticeStates,o=n.lastHidden;return{Notice:_.getNotice(r,t,o)}})(g),e.exports=t.default},8072:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.notices=t}return e.prototype.getStores=function(){var e=[];return this.notices.forEach(function(t){return t.Store&&e.push(t.Store)}),e},e.prototype.getNotice=function(e,t,n){return this.notices.find(function(r){var o=r.Store,a=r.Type,i=e[a];return null!=o?o.channelNoticePredicate(i,t,n):i})},e}();t.default=r,e.exports=t.default},8073:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(17)),l=n(6786),u=p(n(831)),s=p(n(8074)),d=n(0),f=p(n(13)),c=p(n(5425));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleEnableMFA=function(){u.default.open(d.UserSettingsSections.ACCOUNT)},t.prototype.componentWillUnmount=function(){(0,l.hideNotice)(d.ChannelNoticeTypes.MFA_WARNING)},t.prototype.render=function(){return o("div",{className:(0,i.default)(c.default.channelNotice,c.default.guildMFAWarning)},void 0,o("div",{className:c.default.message},void 0,f.default.Messages.TWO_FA_GUILD_MFA_WARNING.format({onClick:this.handleEnableMFA})))},t}(a.PureComponent);h.Type=d.ChannelNoticeTypes.MFA_WARNING,h.Store=s.default,h.displayName="GuildMFAWarning",t.default=h,e.exports=t.default},8074:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(1)),a=u(n(111)),i=u(n(15)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=!1;function d(){var e=i.default.getCurrentUser();if(null==e||e.mfaEnabled===s)return!1;s=e.mfaEnabled}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,a.default),this.syncWith([i.default,a.default],d)},t.prototype.channelNoticePredicate=function(e,t){return t.mfaLevel===l.MFALevels.ELEVATED&&!s&&a.default.hasElevatedPermissions(t.id)},t}(r.default.Store);t.default=new f(o.default,function(e){switch(e){case l.ActionTypes.CONNECTION_OPEN:return d();case l.ActionTypes.GUILD_UPDATE:return!0;default:return!1}}),e.exports=t.default},8075:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),E(n(17))),i=E(n(308)),l=E(n(309)),u=E(n(443)),s=n(6786),d=E(n(157)),f=E(n(80)),c=E(n(51)),p=E(n(8076)),h=E(n(128)),y=E(n(6019)),m=n(0),v=E(n(13)),_=E(n(5425));function E(e){return e&&e.__esModule?e:{default:e}}var g=(0,i.default)({displayName:"InviteNotice",mixins:[u.default],propTypes:{guild:l.default.object.isRequired,experiment:l.default.object},handleInvite:function(){var e=this.props.guild;f.default.push(y.default,{guild:e,source:m.InstantInviteSources.INVITE_NOTICE})},handleClose:function(){var e=c.default.getChannelId();(0,s.hideNotice)(m.ChannelNoticeTypes.INVITE),e&&d.default.sendBotMessage(e,v.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:v.default.Messages.INVITE_PEOPLE}))},render:function(){return o("div",{className:(0,a.default)(_.default.channelNotice,_.default.invite)},void 0,o(h.default,{look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,className:_.default.close,onClick:this.handleClose}),o("div",{className:_.default.message},void 0,o("div",{},void 0,v.default.Messages.INVITE_NOTICE_MESSAGE),o("div",{},void 0,v.default.Messages.INVITE_NOTICE_MESSAGE_PART_2),o("button",{className:_.default.btn,onClick:this.handleInvite},void 0,v.default.Messages.INVITE_PEOPLE)))}});g.Type=m.ChannelNoticeTypes.INVITE,g.Store=p.default,t.default=g,e.exports=t.default},8076:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(4)),o=s(n(1)),a=s(n(100)),i=s(n(153)),l=s(n(15)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default),this.syncWith([i.default],d)},t.prototype.channelNoticePredicate=function(e,t,n){var r=Date.now()-n>=u.CHANNEL_NOTICE_SHOW_DELAY,o=l.default.getCurrentUser();return null!=o&&(e&&r&&a.default.can(u.Permissions.ADMINISTRATOR,o,t))},t}(r.default.Store);t.default=new f(o.default),e.exports=t.default},8077:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),y(n(17))),i=n(6786),l=n(6091),u=n(6380),s=y(n(6201)),d=y(n(128)),f=n(6180),c=n(0),p=y(n(13)),h=y(n(5425));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(){var e=u.QUICKSWITCHER_SHOW.binds[0].split("+").map(function(e){return f.PRETTY_KEYS[e]?f.PRETTY_KEYS[e]():e}).join(" + ");return o("div",{className:(0,a.default)(h.default.channelNotice,h.default.quickswitcher)},void 0,o(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,className:h.default.close,onClick:function(){return(0,i.hideNotice)(c.ChannelNoticeTypes.QUICKSWITCHER)}}),o("div",{className:h.default.message},void 0,o("div",{},void 0,p.default.Messages.QUICKSWITCHER_NOTICE),o("button",{className:h.default.btn,onClick:function(){return(0,l.show)("CHANNEL_NOTICE")}},void 0,e)))};m.displayName="QuickSwitcherNotice",m.Type=c.ChannelNoticeTypes.QUICKSWITCHER,m.Store=s.default,t.default=m,e.exports=t.default},8078:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=T(n(17)),u=T(n(310)),s=n(307),d=T(n(306)),f=T(n(827)),c=T(n(442)),p=T(n(82)),h=T(n(8079)),y=T(n(8090)),m=n(6042),v=T(m),_=T(n(6151)),E=n(0),g=T(n(13)),S=T(n(5884));function T(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.renderPopout=r.renderPopout.bind(r),r.handleContextMenu=r.handleContextMenu.bind(r),r.handleOpen=r.handleOpen.bind(r),r.handleClose=r.handleClose.bind(r),r.state={open:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPopout=function(e){return i.createElement(h.default,a({},e,{guild:this.props.guild}))},t.prototype.handleOpen=function(){this.setState({open:!0})},t.prototype.handleClose=function(){this.setState({open:!1})},t.prototype.handleContextMenu=function(e){var t=this.props.guild;(0,s.openContextMenu)(e,function(e){return i.createElement(_.default,a({},e,{type:E.ContextMenuTypes.GUILD_HEADER,guild:t}))})},t.prototype.render=function(){var e,t,n,r,a=this.props,s=a.guild,h=a.isGuest,_=a.pinnedBanner,T=a.bannerOpacity,I=this.state.open,C=s.hasFeature(E.GuildFeatures.VERIFIED),N=void 0,A=void 0;s.hasFeature(E.GuildFeatures.VERIFIED)&&(N=o(c.default,{text:g.default.Messages.GUILD_VERIFIED,position:c.default.Positions.BOTTOM},void 0,o(d.default,{className:S.default.verified,innerClassName:(0,l.default)(S.default.verifiedInner,(r={},r[S.default.banner]=null!=s.banner&&!_,r)),name:d.default.Names.VERIFIED,checkmark:E.Colors.WHITE})));var O=s.hasFeature(E.GuildFeatures.VERIFIED)&&null!=s.banner;if(O){var b=p.default.getGuildBannerURL({id:s.id,banner:s.banner});null!=b&&(A="linear-gradient(180deg, rgba(54,57,63,0) 0%, "+E.Colors.PRIMARY_DARK_630+' 100%), url("'+b+'")')}var M=o("header",{className:(0,l.default)(S.default.header,(e={},e[S.default.banner]=null!=s.banner&&!_&&C,e))},void 0,N,o("span",{className:S.default.name},void 0,s.toString()),h?null:o(v.default,{tutorialId:"server-settings",position:m.TutorialIndicatorPositions.BOTTOM,offsetY:-30,offsetX:-18},void 0,o(y.default,{open:I,className:S.default.dropdown}))),R=null!=s.banner&&C&&!_?o(u.default.div,{style:u.default.accelerate({backgroundImage:A,opacity:T}),className:(0,l.default)((t={},t[S.default.bannerImage]=null!=s.banner,t))}):null;return o("div",{className:(0,l.default)(S.default.container,(n={},n[S.default.hasDropdown]=!h&&(null==s.banner||O&&_),n)),onContextMenu:this.handleContextMenu},void 0,o(i.Fragment,{},void 0,h?M:o(f.default,{uniqueId:"guild-header",animationType:f.default.Animations.SPRING,render:this.renderPopout,position:f.default.Positions.BOTTOM,onOpen:this.handleOpen,onClose:this.handleClose},void 0,M),R))},t}(i.PureComponent);I.displayName="GuildHeader",t.default=I,e.exports=t.default},8079:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=L(n(2)),l=P(n(6)),u=P(n(4)),s=P(n(6133)),d=P(n(6402)),f=P(n(6181)),c=L(n(900)),p=P(n(5985)),h=P(n(80)),y=P(n(6054)),m=P(n(6566)),v=P(n(12)),_=P(n(232)),E=P(n(153)),g=P(n(226)),S=P(n(15)),T=P(n(129)),I=n(229),C=P(n(45)),N=n(7183),A=P(N),O=P(n(447)),b=P(n(6019)),M=n(0),R=P(n(13));function P(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var w=a(N.PopoutMenuSeparator,{}),D=a(N.PopoutMenuSeparator,{},"separator"),U=a(N.PopoutMenuSeparator,{}),k=a(N.PopoutMenuSeparator,{}),G=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return l.default.bindAll(r,["close","handleOpenInviteModal","handleOpenGuildSettings","handleCreateChannel","handleCreateCategory","handleOpenNotificationSettings","handleOpenPrivacySettings","handleOpenChangeNickname","handleLeaveGuild","handleConfirmLeaveGuild","handleToggleMuted"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose()},t.prototype.handleOpenInviteModal=function(){var e=this.props.guild;h.default.push(b.default,{guild:e,source:M.InstantInviteSources.GUILD_HEADER}),this.close()},t.prototype.handleOpenGuildSettings=function(){var e=this.props.guild;p.default.open(e.id,M.GuildSettingsSections.OVERVIEW),this.close()},t.prototype.handleCreateChannel=function(){f.default.open(null,this.props.guild.id,null,null),this.close()},t.prototype.handleCreateCategory=function(){f.default.open(M.ChannelTypes.GUILD_CATEGORY,this.props.guild.id,null,null),this.close()},t.prototype.handleOpenNotificationSettings=function(){y.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenPrivacySettings=function(){m.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenChangeNickname=function(){s.default.open(this.props.guild.id,v.default.getId()),this.close()},t.prototype.handleStopLurking=function(){c.stopLurking(),C.default.transitionTo(M.Routes.GUILD_DISCOVERY)},t.prototype.handleLeaveGuild=function(){var e=this;h.default.push(function(t){return i.createElement(O.default,o({header:R.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.toString()}),confirmText:R.default.Messages.LEAVE_SERVER,cancelText:R.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),a(T.default,{size:T.default.Sizes.MEDIUM,color:T.default.Colors.PRIMARY},void 0,R.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.toString()})))})},t.prototype.handleConfirmLeaveGuild=function(){p.default.leaveGuild(this.props.guild.id)},t.prototype.handleToggleMuted=function(){d.default.toggleCollapseGuild(this.props.guild.id)},t.prototype.render=function(){var e=this.props,t=e.isCollapsed,r=e.canInvite,o=e.canAccessSettings,l=e.canManageChannels,u=e.canEditNickname,s=e.isOwner,d=e.isLurking,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isCollapsed","canInvite","canAccessSettings","canManageChannels","canEditNickname","isOwner","isLurking"]),c=void 0,p=void 0,h=void 0,y=void 0,m=void 0,v=void 0,_=void 0;return r&&(c=a(N.PopoutMenuItem,{onClick:this.handleOpenInviteModal,type:"invite"},void 0,a(N.PopoutMenuIcon,{icon:n(8080)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.INVITE_PEOPLE))),o&&(p=a(N.PopoutMenuItem,{onClick:this.handleOpenGuildSettings},void 0,a(N.PopoutMenuIcon,{icon:n(8081)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.SERVER_SETTINGS))),l&&(m=a(N.PopoutMenuItem,{onClick:this.handleCreateChannel},void 0,a(N.PopoutMenuIcon,{icon:n(8082)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.CREATE_CHANNEL)),v=a(N.PopoutMenuItem,{onClick:this.handleCreateCategory},void 0,a(N.PopoutMenuIcon,{icon:n(8083)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.CREATE_CATEGORY)),_=w),u&&(h=a(N.PopoutMenuItem,{onClick:this.handleOpenChangeNickname},"popout-item",a(N.PopoutMenuIcon,{icon:n(8084)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.CHANGE_NICKNAME))),s||(y=[d?null:D,a(N.PopoutMenuItem,{onClick:d?this.handleStopLurking:this.handleLeaveGuild,type:"leave"},"popout-item",a(N.PopoutMenuIcon,{icon:n(8085)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.LEAVE_SERVER))]),d?i.createElement(A.default,f,y):i.createElement(A.default,f,c,c?U:null,p,m,v,_,a(N.PopoutMenuItem,{onClick:this.handleOpenNotificationSettings},void 0,a(N.PopoutMenuIcon,{icon:n(8086)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.NOTIFICATION_SETTINGS)),a(N.PopoutMenuItem,{onClick:this.handleOpenPrivacySettings},void 0,a(N.PopoutMenuIcon,{icon:n(8087)}),a(N.PopoutMenuItemLabel,{},void 0,R.default.Messages.PRIVACY_SETTINGS)),k,h,a(N.PopoutMenuItem,{onClick:this.handleToggleMuted},void 0,a(N.PopoutMenuIcon,{icon:n(t?8088:8089)}),a(N.PopoutMenuItemLabel,{},void 0,t?R.default.Messages.SHOW_MUTED_CHANNELS:R.default.Messages.HIDE_MUTED_CHANNELS)),y)},t}(i.PureComponent);G.displayName="GuildHeaderPopout",t.default=u.default.connectStores([E.default,S.default,g.default,_.default],function(e){var t=e.guild,n=S.default.getCurrentUser();return{user:n,isCollapsed:g.default.isGuildCollapsed(t.id),canInvite:(0,I.canViewInviteModal)(t,t),canAccessSettings:E.default.can(M.Permissions.MANAGE_GUILD,t)||E.default.can(M.Permissions.MANAGE_ROLES,t)||E.default.can(M.Permissions.BAN_MEMBERS,t)||E.default.can(M.Permissions.MANAGE_NICKNAMES,t)||E.default.can(M.Permissions.MANAGE_EMOJIS,t)||E.default.can(M.Permissions.MANAGE_WEBHOOKS,t)||E.default.can(M.Permissions.VIEW_AUDIT_LOG,t),canManageChannels:E.default.can(M.Permissions.MANAGE_CHANNELS,t),canEditNickname:E.default.can(M.Permissions.CHANGE_NICKNAME,t)||E.default.can(M.Permissions.MANAGE_NICKNAMES,t),isOwner:t.isOwner(n),isLurking:_.default.isLurking(t.id)}})(G),e.exports=t.default},8080:function(e,t,n){e.exports=n.p+"d4ff0d2af68cd1119f0d16ef79d1369c.svg"},8081:function(e,t,n){e.exports=n.p+"9a93097ab591379729c68f15a17b26af.svg"},8082:function(e,t,n){e.exports=n.p+"2fc862597335421b35a79aa9aaba4a86.svg"},8083:function(e,t,n){e.exports=n.p+"52bc30f8a2b1a51f808a785819ca00b5.svg"},8084:function(e,t,n){e.exports=n.p+"bc11a9099f5729962c095cb49d5042f6.svg"},8085:function(e,t,n){e.exports=n.p+"00de6b3cbb5c4dbcec817c91262f5f5b.svg"},8086:function(e,t,n){e.exports=n.p+"6a711bd91522e885413464a88a4e3c69.svg"},8087:function(e,t,n){e.exports=n.p+"6afcd5d6a8c9d467e27e1bb48755dce0.svg"},8088:function(e,t,n){e.exports=n.p+"50f8ef2cdb4e7697a4202fb9c6d0e1fc.svg"},8089:function(e,t,n){e.exports=n.p+"858df73648ac3877a22156da2e69a5fd.svg"},8090:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(5883));function l(e){return e&&e.__esModule?e:{default:e}}var u=o("g",{fill:"none",fillRule:"evenodd"},void 0,o("path",{d:"M0 0h18v18H0"}),o("path",{stroke:"#FFF",d:"M4.5 4.5l9 9",strokeLinecap:"round"}),o("path",{stroke:"#FFF",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})),s=function(e){var t,n=e.open,r=e.className;return o("svg",{width:"18",height:"18",className:(0,a.default)(i.default.button,r,(t={},t[i.default.open]=n,t))},void 0,u)};s.displayName="DropdownButton",t.default=s,e.exports=t.default},8091:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=O(n(308)),a=O(n(6)),i=O(n(443)),l=O(n(4)),u=O(n(182)),s=O(n(12)),d=O(n(22)),f=O(n(463)),c=O(n(43)),p=O(n(46)),h=O(n(184)),y=O(n(64)),m=O(n(51)),v=O(n(155)),_=O(n(323)),E=O(n(472)),g=O(n(134)),S=O(n(6058)),T=O(n(7240)),I=n(224),C=O(n(18)),N=n(181),A=n(0);function O(e){return e&&e.__esModule?e:{default:e}}var b=(0,o.default)({displayName:"AutoAnalytics",mixins:[l.default.StoreListenerMixin(p.default,E.default,m.default,y.default,v.default,T.default,S.default,h.default,_.default),i.default],getStateFromStores:function(){var e=m.default.getVoiceChannelId(),t=null,n=null;if(e){var r=d.default.getChannel(e);null!=r&&(t=r.getGuildId(),n=r.type)}var o=_.default.getPrimaryActivity(),a=y.default.getCurrentGame();return{selectedChannelId:m.default.getChannelId(),selectedGuildId:v.default.getGuildId(),friendsTabSection:T.default.getState().section,homeLink:S.default.getHomeLink(),connected:f.default.isConnected(),selfMute:p.default.isSelfMute(),selfDeaf:p.default.isSelfDeaf(),videoEnabled:p.default.isVideoEnabled(),isScreenSharing:p.default.isScreenSharing(),currentUserSpeaking:E.default.isCurrentUserSpeaking(),currentUserPrioritySpeaking:E.default.isCurrentUserPrioritySpeaking(),anyoneSpeaking:E.default.isAnyoneSpeaking(),anyonePrioritySpeaking:E.default.isAnyonePrioritySpeaking(),voiceChannelId:e,voiceChannelIdJoined:h.default.getChannelId(),voiceChannelGuildId:t,voiceChannelType:n,runningGame:a,runningGamePid:null!=a?a.pid:null,gamePlatform:(0,I.getGamePlatform)(o),gameName:null!=o?o.name:null,gameId:null!=o?o.application_id:null}},componentDidMount:function(){var e=this.state,t=e.selectedChannelId;e.connected&&null!=t&&(0,N.trackWithMetadata)(A.AnalyticEvents.CHANNEL_OPENED)},componentDidUpdate:function(e,t){var n=this.state,o=n.voiceChannelId,a=n.voiceChannelIdJoined,i=n.voiceChannelGuildId,l=n.voiceChannelType,s=n.videoEnabled,d=n.isScreenSharing,f=n.anyoneSpeaking,m=n.runningGame,v=n.runningGamePid,_=n.selectedChannelId,E=n.selectedGuildId,g=n.connected,S=n.homeLink,T=n.friendsTabSection,I=n.currentUserPrioritySpeaking;if(t.currentUserSpeaking!==this.state.currentUserSpeaking&&this.state.currentUserSpeaking&&(0,N.trackWithMetadata)(A.AnalyticEvents.START_SPEAKING,r({mode:p.default.getMode(),priority:I,channel:o,server:i,channel_id:o,guild_id:i},this.getGameMetadata())),t.voiceChannelId!==o&&null!=t.voiceChannelId){var O=y.default.getCurrentGame(),b=null!=O?O.name:"";C.default.track(A.AnalyticEvents.LEAVE_VOICE_CHANNEL,r({channel_id:t.voiceChannelId,channel_type:t.voiceChannelType,guild_id:t.voiceChannelGuildId,rtc_connection_id:h.default.getRTCConnectionId(),game_name:b,duration:h.default.getDuration(),game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,N.getVoiceStateMetadata)(t.voiceChannelGuildId,t.voiceChannelId,t.videoEnabled||t.isScreenSharing)))}if(t.voiceChannelIdJoined!==a&&null!=a){var M=y.default.getCurrentGame(),R=null!=M?M.name:"";null!=a&&C.default.track(A.AnalyticEvents.JOIN_VOICE_CHANNEL,r({channel_id:o,channel_type:l,guild_id:i,rtc_connection_id:h.default.getRTCConnectionId(),game_name:R,game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,N.getVoiceStateMetadata)(i,o,s||d)))}if(t.anyoneSpeaking!==f&&f&&this.trackStartListening(),t.runningGame!==m&&null!=m){var P=c.default.getGameByName(m.name);if(C.default.track(A.AnalyticEvents.LAUNCH_GAME,{game:m.name,game_id:null==P?null:P.id,verified:null!=P,game_platform:A.AnalyticsGamePlatforms.DESKTOP,distributor:m.distributor}),c.default.shouldReport(m.name)){var L=m.name,w=v;u.default.identifyGame(w,L).then(function(e){return u.default.reportUnverifiedGame(e)}).catch(function(e){return console.error(e)})}}if((t.videoEnabled!==s||t.isScreenSharing!==d)&&o){var D="none",U=void 0,k=void 0,G=void 0,x=void 0,F=void 0;if(d){D="screen";var j=p.default.getDesktopSource();null!=j&&(U=j.resolution,k=j.frameRate,G=j.soundshareSession,x=y.default.getGameNameForPID(j.sourcePid),F=y.default.getGameIdForPID(j.sourcePid))}else s&&(D="camera");C.default.track(A.AnalyticEvents.VIDEO_INPUT_TOGGLED,r({video_input_type:D,video_input_resolution:U,video_input_frame_rate:k,soundshare_session:G,share_game_name:x,share_game_id:F},this.getGameMetadata(),(0,N.collectVoiceAnalyticsMetadata)(o)))}!g||null==E||E===t.selectedGuildId&&t.connected?!g||null!=E||S!==A.Routes.FRIENDS||t.connected&&T===t.friendsTabSection&&S===t.homeLink||C.default.track(A.AnalyticEvents.FRIENDS_LIST_VIEWED,{tab_opened:T}):(0,N.trackWithMetadata)(A.AnalyticEvents.GUILD_VIEWED),!g||null==_||_===t.selectedChannelId&&t.connected||(0,N.trackWithMetadata)(A.AnalyticEvents.CHANNEL_OPENED)},trackStartListening:function(){var e=this;if(null!=this.state.voiceChannelId&&!p.default.isDeaf()){var t=g.default.getVoiceStates(h.default.getGuildId());(0,a.default)(E.default.getSpeakers()).keys().filter(function(e){return e!==s.default.getId()}).map(function(e){return t[e]}).some(function(t){return t&&t.channelId===e.state.voiceChannelId})&&(0,N.trackWithMetadata)(A.AnalyticEvents.START_LISTENING,r({mute:p.default.isMute(),anyone_priority:this.state.anyonePrioritySpeaking,channel:this.state.voiceChannelId,server:this.state.voiceChannelGuildId,channel_id:this.state.voiceChannelId,guild_id:this.state.voiceChannelGuildId},this.getGameMetadata()))}},getGameMetadata:function(){return{game_platform:this.state.gamePlatform,game_name:this.state.gameName,game_id:this.state.gameId}},render:function(){return null}});t.default=b,e.exports=t.default},8092:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=D(n(17)),u=D(n(308)),s=D(n(6)),d=D(n(443)),f=D(n(310)),c=D(n(4)),p=n(57),h=D(n(833)),y=D(n(335)),m=D(n(8093)),v=D(n(160)),_=D(n(841)),E=D(n(7181)),g=D(n(46)),S=D(n(871)),T=D(n(312)),I=D(n(35)),C=D(n(154)),N=D(n(8094)),A=n(109),O=D(n(45)),b=n(470),M=D(n(8095)),R=n(0),P=D(n(5361)),L=D(n(5656)),w=D(n(5887));function D(e){return e&&e.__esModule?e:{default:e}}var U=(0,u.default)({displayName:"IncomingCallModal",mixins:[c.default.LazyStoreListenerMixin(_.default),d.default],getInitialState:function(){return a({animate:new f.default.Value(0)},this.getStateFromStores())},getStateFromStores:function(){return{mode:_.default.getMode(this.props.channel.id)}},componentDidMount:function(){A.ComponentDispatch.subscribe(R.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),A.ComponentDispatch.subscribe(R.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillUnmount:function(){A.ComponentDispatch.unsubscribe(R.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),A.ComponentDispatch.unsubscribe(R.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillEnter:function(e){f.default.timing(this.state.animate,{toValue:1,duration:170,easing:f.default.Easing.inOut(f.default.Easing.back())}).start(e)},componentDidAppear:function(){this.state.animate.setValue(1)},componentWillLeave:function(e){f.default.timing(this.state.animate,{toValue:0,duration:170,easing:f.default.Easing.quad}).start(e)},getStyle:function(){var e=this.state.animate;return this.props.shouldAnimate?f.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:["0.7","1"]})}],opacity:e}):null},render:function(){var e=this.props,t=e.x,n=e.y,r=e.channel,a=e.shouldAnimate,u=r.getIconURL(),s=g.default.supports(p.Features.VIDEO);return o(M.default,{className:(0,l.default)(w.default.incomingCall,P.default.elevationHigh),selector:"."+L.default.incomingCallInner,initialPosition:{top:n,left:t},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:this.handleStop,dragAnywhere:!0},void 0,o(i.Fragment,{},void 0,o(f.default.div,{style:this.getStyle()},void 0,o(N.default,{avatarUrl:u,channelId:r.id,channelName:r.toString(),mode:this.state.mode,shouldAnimate:a,supportsVideo:s,handleDeclineCall:this.handleDeclineCall,handleAcceptWithAudio:this.handleAcceptWithAudio,handleAcceptWithVideo:this.handleAcceptWithVideo}))))},handleStop:function(e){var t=e.top,n=e.left;null!=t&&null!=n&&m.default.move(n,t)},handleDeclineCall:function(){y.default.stopRinging(this.props.channel.id)},handleAcceptWithAudio:function(){v.default.selectVoiceChannel(null,this.props.channel.id)},handleAcceptWithVideo:function(){var e=this.props.channel;v.default.selectVoiceChannel(null,e.id,!0),O.default.transitionToGuild(R.ME,e.id)}}),k=(0,u.default)({displayName:"IncomingCalls",mixins:[c.default.LazyStoreListenerMixin(E.default,T.default,C.default,I.default),d.default],getInitialState:function(){return a({ringingSound:(0,b.createSound)(500===s.default.random(1,1e3)?"call_ringing_beat":"call_ringing")},this.getStateFromStores())},getStateFromStores:function(){return{incomingCalls:E.default.getIncomingCalls(),ringing:E.default.hasIncomingCalls(),isFocused:C.default.isFocused(),disableSounds:T.default.disableSounds,theme:I.default.theme}},UNSAFE_componentWillUpdate:function(e,t){var n=t.ringing;this.state.ringing!==n&&(n?this.startRinging():this.stopRinging())},render:function(){var e=this.state,t=e.incomingCalls,n=e.isFocused,r=e.theme;return o(h.default,{component:"div",className:(0,l.default)("theme-"+r,w.default.container)},void 0,s.default.map(t,function(e){return i.createElement(U,a({key:e.channel.id,shouldAnimate:n},e))}))},startRinging:function(){this.state.disableSounds||S.default.isSoundDisabled("call_ringing")||this.state.ringingSound.loop()},stopRinging:function(){this.state.ringingSound.stop()}});t.default=k,e.exports=t.default},8093:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={move:function(e,t){a.default.dispatch({type:i.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}},e.exports=t.default},8094:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(128)),u=m(n(7236)),s=m(n(152)),d=m(n(306)),f=n(0),c=m(n(13)),p=m(n(317)),h=m(n(5351)),y=m(n(5656));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderAllActions=function(){var e=this.props,t=e.handleAcceptWithAudio,n=e.handleAcceptWithVideo;return o(a.Fragment,{},void 0,o(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:n,color:l.default.Colors.GREEN},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,o(d.default,{name:d.default.Names.VIDEO_CAMERA,className:y.default.actionIcon}),c.default.Messages.VIDEO)),o(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.GREEN},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,o(d.default,{name:d.default.Names.MICROPHONE,className:y.default.actionIcon}),c.default.Messages.VOICE)))},t.prototype.renderAudioOnlyActions=function(){var e=this.props.handleAcceptWithAudio;return o(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:e,color:l.default.Colors.GREEN},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,o(d.default,{name:d.default.Names.MICROPHONE,className:y.default.actionIcon}),c.default.Messages.JOIN_CALL))},t.prototype.renderActions=function(){var e=this.props,t=e.handleDeclineCall,n=e.supportsVideo,r=e.mode;return o("div",{className:(0,i.default)((0,i.default)(y.default.actionButtons,h.default.marginTop20))},void 0,n&&r===f.ChannelModes.VIDEO?this.renderAllActions():this.renderAudioOnlyActions(),o(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.TRANSPARENT},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,c.default.Messages.DECLINE)))},t.prototype.render=function(){var e=this.props,t=e.avatarUrl,n=e.channelId,r=e.channelName,a=e.mode,l=e.shouldAnimate,d=e.className;return o("div",{className:(0,i.default)(y.default.incomingCallInner,d)},void 0,o(s.default,{direction:s.default.Direction.VERTICAL,align:s.default.Align.CENTER},void 0,o(u.default,{className:h.default.marginTop20,ringing:l,src:t||"",id:n}),o("div",{className:(0,i.default)(y.default.members,h.default.marginTop20)},void 0,r),o("div",{className:(0,i.default)(y.default.subtitle,h.default.marginTop8)},void 0,a===f.ChannelModes.VOICE?c.default.Messages.INCOMING_CALL_ELLIPSIS:c.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS),this.renderActions()))},t}(a.Component);v.displayName="IncomingCall",t.default=v,e.exports=t.default},8095:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=n(0);var a=Math.pow(3,2),i=Object.freeze({DISABLED:0,DEFAULT:1,OFFSET:2}),l=Object.freeze({TOP:"TOP",BOTTOM:"BOTTOM",RIGHT:"RIGHT",LEFT:"LEFT"});function u(e,t,n,r,o){var a=e.top,i=e.bottom,l=e.left,u=e.right;if(null==a&&null==i?(a=0,i=n-o):null==a&&null!=i?a=n-(i+o):null!=a&&(i=n-(a+o)),null==l&&null==u?(l=0,u=t-r):null==l&&null!=u?l=t-(u+r):null==u&&null!=l&&(u=t-(l+r)),null==a||null==i||null==l||null==u)throw new Error("Logically this can never happen based on our if/else statements");return{top:a,left:l,bottom:i,right:u}}function s(e){return[null==e.bottom?l.TOP:l.BOTTOM,null==e.right?l.LEFT:l.RIGHT]}function d(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;return 0===t||t<=r?r=null:t=null,0===n||n<=o?o=null:n=null,{top:t,left:n,bottom:r,right:o}}function f(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;return r<0&&(t+=r,r=0),t<0&&(r+=t,t=0),o<0&&(n+=o,o=0),n<0&&(o+=n,n=0),{top:t,left:n,bottom:r,right:o}}function c(e){return null!=e?e+"px":"auto"}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));h.call(r);var o,a,i,l,u,d=s(n.initialPosition),f=d[0],c=d[1];return r.position=(o=n.initialPosition,a=o.top,i=o.left,l=o.bottom,u=o.right,null==i&&null==u&&(i=0),null!=i&&null!=u&&(u=null),null==a&&null==l&&(a=0),null!=a&&null!=l&&(l=null),{top:a,left:i,bottom:l,right:u}),r.state={dragging:!1,verticalOrientation:f,horizontalOrientation:c,atTopEdge:0===r.position.top},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.checkBounds(),this.setDOMPositions(this.position)},t.prototype.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,o=n.horizontalOrientation,a=n.atTopEdge,i=this.props,l=i.maxX,u=i.maxY,s=i.onRelocated,d=i.snapOrientation;(e.maxX!==l||e.maxY!==u||e.onRelocated!==s||e.snapOrientation!==d||t.verticalOrientation!==r||t.horizontalOrientation!==o||t.atTopEdge!==a)&&this.checkBounds()},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right,a=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:o},null!=a&&(a.style.top=c(t),a.style.bottom=c(r),a.style.left=c(n),a.style.right=c(o))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=this.state,a=o.dragging,i=o.verticalOrientation,u=o.horizontalOrientation,s=o.atTopEdge,d=this.position,f=d.top,c=d.left,p=d.right,h=d.bottom,y={pointerEvents:a?"none":"auto",position:"absolute",top:f,left:c,bottom:h,right:p};return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:y},r.cloneElement(r.Children.only(t),{flipped:u===l.RIGHT,verticalFlipped:i===l.BOTTOM,checkBounds:this.checkBounds,atTopEdge:s}))},t}(r.PureComponent);p.FlipTypes=i,p.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:i.DISABLED,flipHorizontal:i.DISABLED,dragAnywhere:!1};var h=function(){var e=this;this.draggableRef=r.createRef(),this._dragStart={x:0,y:0},this.handleMouseDown=function(t){var n=e.position,r=n.top,a=n.left,i=n.bottom,l=n.right,s=e.props,d=s.dragAnywhere,f=s.selector,c=s.maxX,p=s.maxY,h=t.target,y=e.draggableRef.current;if(null!=y&&t.button===o.MouseButtons.PRIMARY&&(d||null!=h&&f&&null!=h.closest(f))){var m=function(e){var t=e.top;return{x:e.left,y:t}}(u({top:r,left:a,bottom:i,right:l},c,p,y.clientWidth,y.clientHeight)),v=m.x,_=m.y;e._dragStart={x:t.clientX,y:t.clientY},e._offsetX=t.clientX-v,e._offsetY=t.clientY-_,window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(t){t.preventDefault();var n=t.clientX,r=t.clientY,o=e.draggableRef.current,l=e.props,c=l.maxX,p=l.maxY,h=l.flipVertical,y=l.flipHorizontal,m=l.onDragStart,v=l.onDrag,_=l.onFlip,E=l.snapOrientation,g=e.state,S=g.dragging,T=g.dragging,I=g.verticalOrientation,C=g.horizontalOrientation,N=!1;if(!(null==o||!S&&(A=e._dragStart,O={x:n,y:r},b=A.x,M=A.y,R=O.x,P=O.y,Math.pow(b-R,2)+Math.pow(M-P,2)<a))){var A,O,b,M,R,P;S=!0;var L=o.clientWidth,w=o.clientHeight,D=f(u({top:r-e._offsetY,left:n-e._offsetX},c,p,L,w));if(E){var U=s(D=d(D));I=U[0],C=U[1]}else D={top:D.top,left:D.left};y===i.OFFSET&&C!==e.state.horizontalOrientation&&(e._offsetX=L-e._offsetX,N=!0),h===i.OFFSET&&I!==e.state.verticalOrientation&&(e._offsetY=w-e._offsetY,N=!0),e.setDOMPositions(D),T||m&&m(D,o),v&&v(D,o),N&&_&&_([I,C]),e.setState({dragging:S,verticalOrientation:I,horizontalOrientation:C,atTopEdge:0===D.top})}},this.handleMouseUp=function(){window.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp),e.state.dragging&&e.setState({dragging:!1},function(){var t=e.props.onDragEnd,n=e.draggableRef.current;null!=n&&null!=t&&t(e.position,n)})},this._checkBoundsRAF=null,this.checkBounds=function(){null!=e._checkBoundsRAF&&cancelAnimationFrame(e._checkBoundsRAF),e._checkBoundsRAF=requestAnimationFrame(e._performCheckBounds)},this._performCheckBounds=function(){var t=e.position,n=e.state,r=e.draggableRef.current,o=e.props,a=o.maxX,i=o.maxY,l=o.onRelocated,c=o.snapOrientation,p=e.state,h=p.verticalOrientation,y=p.horizontalOrientation;if(null!=r){var m=r.clientHeight,v=u(t,a,i,r.clientWidth,m);v=f(v);var _=void 0;if(c){var E=s(_=d(v));h=E[0],y=E[1]}else _={top:v.top,left:v.left,right:null,bottom:null};if(t.left!==_.left||t.right!==_.right||t.top!==_.top||t.bottom!==_.bottom){l&&l(_,r),e.setDOMPositions(_);var g=0===_.top;h===n.verticalOrientation&&y===n.horizontalOrientation&&g===n.atTopEdge||e.setState({verticalOrientation:h,horizontalOrientation:y,atTopEdge:g})}}}};p.displayName="Draggable",t.default=p,e.exports=t.default},8096:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=N(n(17)),s=N(n(1156)),d=N(n(310)),f=N(n(4)),c=N(n(833)),p=n(834),h=n(8097),y=N(n(6014)),m=N(n(854)),v=n(109),_=N(n(8098)),E=N(n(6758)),g=N(n(8110)),S=N(n(7184)),T=N(n(8117)),I=n(0),C=N(n(5892));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=a(S.default,{}),R=a(_.default,{}),P=a(E.default,{}),L=a(T.default,{}),w=a(g.default,{}),D=((o={})[I.Layers.USER_SETTINGS]=function(){return M},o[I.Layers.CHANNEL_SETTINGS]=function(){return R},o[I.Layers.GUILD_SETTINGS]=function(){return P},o[I.Layers.VERIFICATION]=function(){return L},o[I.Layers.RTC_DEBUG]=function(){return w},o),U="HIDDEN",k=.93,G=1,x=0,F=1,j={friction:10,tension:100},B=function(e){function t(n){A(this,t);var r=O(this,e.call(this,n)),o=G,a=F;return n.mode===U&&(o=k,a=x),r.state={animating:!1,scale:new d.default.Value(o),opacity:new d.default.Value(a),mode:n.mode},r}return b(t,e),t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null},t.prototype.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return"SHOWN"===t&&n===U?this.animateIn():t===U&&"SHOWN"===n?this.animateUnder():void 0},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1),r.setValue(x),e(),this.setState({animating:!0},function(){return t.animateIn()})},t.prototype.componentWillLeave=function(e){var t=this;this.setState({animating:!0},function(){return t.animateOut(e)})},t.prototype.animateIn=function(e){var t=this;f.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,o=n.scale;d.default.parallel([d.default.spring(r,i({toValue:F},j)),d.default.spring(o,i({toValue:G},j))]).start(function(){return t.animateComplete(e)})},t.prototype.animateOut=function(e){f.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;d.default.parallel([d.default.spring(n,i({toValue:x},j)),d.default.spring(r,i({toValue:1.1},j))]).start(function(){e(),v.ComponentDispatch.dispatch(I.ComponentActions.LAYER_POP_COMPLETE)})},t.prototype.animateUnder=function(){var e=this;f.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;d.default.parallel([d.default.spring(n,i({toValue:x},j)),d.default.spring(r,i({toValue:k},j))]).start(function(){return e.animateComplete()})},t.prototype.animateComplete=function(e){this.setState({animating:!1},e)},t.prototype.render=function(){var e,t=this.state.animating,n=this.props,r=n.mode,o=n.children,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["mode","children"]),s=t||r===U?this.getAnimatedStyle():null;return l.createElement(d.default.div,i({role:"dialog","aria-hidden":r===U,className:(0,u.default)(C.default.layer,(e={},e[C.default.animating]=t,e["stop-animations"]=r===U,e)),style:s},a),o)},t.prototype.getAnimatedStyle=function(){var e=this.state;return{opacity:e.opacity,transform:[{scale:e.scale},{translateZ:0}]}},t}(l.PureComponent);B.displayName="Layer";var H=function(e){function t(){return A(this,t),O(this,e.apply(this,arguments))}return b(t,e),t.prototype.componentDidMount=function(){var e=this.props.layers,t=e[e.length-1];t===I.Layers.VERIFICATION?y.default.disable():t===I.Layers.USER_SETTINGS&&(y.default.enable(),y.default.enableTemp(h.SETTINGS_LAYERS_LAYOUT)),v.ComponentDispatch.subscribe(I.ComponentActions.LAYER_POP_ESCAPE_KEY,p.popLayer)},t.prototype.componentDidUpdate=function(e){var t=this.props.layers,n=e.layers.length>0,r=t.length>0;!n&&r||r&&t===e.layers&&t[0]===I.Layers.USER_SETTINGS?t[t.length-1]===I.Layers.VERIFICATION?y.default.disable():y.default.enableTemp(h.SETTINGS_LAYERS_LAYOUT):n&&!r&&y.default.disableTemp()},t.prototype.componentWillUnmount=function(){v.ComponentDispatch.unsubscribe(I.ComponentActions.LAYER_POP_ESCAPE_KEY,p.popLayer)},t.prototype.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,o=r.length,i=[];return i.push(a(B,{mode:0===o?"SHOWN":U},"layer-base",n)),r.forEach(function(t,n){return i.push(e.renderComponent(t,n,o))}),i},t.prototype.renderComponent=function(e,t,n){var r=t===n-1,o="layer",i=void 0;return"string"==typeof e?(o=e,i=D[e]()):i=a(e,{}),a(B,{"aria-label":o,mode:r?"SHOWN":U},"layer-"+t,a(s.default,{disabled:!r||!I.EnableAccessibility,autoFocus:!0,returnFocus:!0},void 0,i))},t.prototype.render=function(){return a(c.default,{component:"div",className:(0,u.default)(C.default.layers,this.props.className)},void 0,this.renderLayers())},t}(l.Component);H.displayName="Layers",t.default=f.default.connectStores([m.default],function(){return{layers:m.default.getLayers()}})(H),e.exports=t.default},8097:function(e,t,n){"use strict";t.__esModule=!0,t.SETTINGS_LAYERS_LAYOUT=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(891)),a=n(109),i=u(n(6383)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}t.SETTINGS_LAYERS_LAYOUT=r({POP_LAYER:{binds:["esc"],global:!0,action:function(){return a.ComponentDispatch.hasSubscribers(l.ComponentActions.CALL_DECLINE)?(a.ComponentDispatch.dispatch(l.ComponentActions.CALL_DECLINE),!1):o.default.isOpen()?(a.ComponentDispatch.dispatch(l.ComponentActions.CONTEXT_MENU_CLOSE),!1):a.ComponentDispatch.hasSubscribers(l.ComponentActions.POPOUT_CLOSE)?(a.ComponentDispatch.dispatch(l.ComponentActions.POPOUT_CLOSE),!1):a.ComponentDispatch.hasSubscribers(l.ComponentActions.MODAL_CLOSE)?(a.ComponentDispatch.dispatch(l.ComponentActions.MODAL_CLOSE),!1):void a.ComponentDispatch.dispatch(l.ComponentActions.LAYER_POP_ESCAPE_KEY)}}},i.default)},8098:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=D(n(4)),u=n(6150),s=n(834),d=D(n(80)),f=n(131),c=D(n(7301)),p=D(n(6410)),h=D(n(22)),y=D(n(153)),m=D(n(35)),v=D(n(306)),_=D(n(129)),E=n(6029),g=D(n(181)),S=n(109),T=D(n(6386)),I=n(6061),C=D(n(447)),N=D(n(8099)),A=n(8100),O=D(A),b=n(8106),M=D(b),R=D(n(8109)),P=n(0),L=D(n(13)),w=D(n(5890));function D(e){return e&&e.__esModule?e:{default:e}}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g.default.trackWithMetadata(P.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"channel",origin_pane:t,destination_pane:e})}var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){U(this.props.section)},t.prototype.componentWillUnmount=function(){(0,u.close)()},t.prototype.componentDidUpdate=function(e){var t=e.formState,n=e.section,r=this.props,o=r.formState,a=r.section,i=r.canManageRoles,l=r.canManageChannels,u=r.canManageWebhooks;!l&&!i&&!u||o===P.FormStates.CLOSED&&o!==t||!i&&a===P.ChannelSettingsSections.PERMISSIONS||!u&&a===P.ChannelSettingsSections.WEBHOOKS?(0,s.popLayer)():a!==n&&U(a,n)},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,r=e.channel,l=e.category,f=e.canManageRoles,h=e.canManageChannels,y=e.canManageWebhooks;return null==r?null:a(T.default,{theme:t,section:n||P.ChannelSettingsSections.OVERVIEW,onSetSection:u.setSection,onClose:s.popLayer,sections:function(e){var t=e.channel,n=e.category,r=e.canManageRoles,l=e.canManageChannels,f=e.canManageWebhooks,h=(0,E.getIconNameForChannel)(t),y=P.ChannelTypes.GUILD_CATEGORY;return[{section:I.SectionTypes.HEADER,label:null!=t?a("span",{},void 0,null!=h?a(v.default,{name:h,width:11,height:11,className:w.default.channelIcon,background:w.default.background}):null,t.toString(),null!=n?a("span",{className:w.default.category},void 0,n.toString()):null):L.default.Messages.CHANNEL_SETTINGS},{section:P.ChannelSettingsSections.OVERVIEW,label:L.default.Messages.OVERVIEW,element:O.default,notice:{element:A.ChannelSettingsOverviewNotice,store:p.default}},{section:P.ChannelSettingsSections.PERMISSIONS,label:L.default.Messages.PERMISSIONS,element:M.default,type:I.ContentTypes.MINIMAL,notice:{element:b.ChannelSettingsPermissionsNotice,store:c.default},predicate:function(){return r}},{section:P.ChannelSettingsSections.INSTANT_INVITES,label:L.default.Messages.INVITES,element:N.default,type:I.ContentTypes.CUSTOM,predicate:function(){return t.type!==y&&l}},{section:P.ChannelSettingsSections.WEBHOOKS,label:L.default.Messages.WEBHOOKS,element:R.default,predicate:function(){return t.type!==y&&f}},{section:I.SectionTypes.DIVIDER},{section:P.ChannelSettingsSections.DELETE,onClick:function(){var e=t.toString();t.type!==P.ChannelTypes.GUILD_VOICE&&(e="#"+e),d.default.push(function(n){return i.createElement(C.default,o({},n,{header:L.default.Messages.DELETE_CHANNEL,cancelText:L.default.Messages.NO_TEXT,confirmText:L.default.Messages.YES_TEXT,onConfirm:function(){S.ComponentDispatch.subscribeOnce(P.ComponentActions.LAYER_POP_COMPLETE,function(){(0,u.deleteChannel)(t.id)}),(0,s.popLayer)()}}),a(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,L.default.Messages.DELETE_CHANNEL_BODY.format({channelName:e})))})},label:t.type===y?L.default.Messages.DELETE_CATEGORY:L.default.Messages.DELETE_CHANNEL,color:P.Colors.STATUS_RED,predicate:function(){return l}}]}({channel:r,category:l,canManageRoles:f,canManageChannels:h,canManageWebhooks:y})})},t}(i.PureComponent);k.displayName="ChannelSettings",t.default=l.default.connectStores([p.default,m.default,y.default],function(){var e=p.default.getProps().channel;return{channel:e,category:null!=e?h.default.getChannel(e.parent_id):null,canManageRoles:null!=e&&y.default.can(P.Permissions.MANAGE_ROLES,e),canManageChannels:null!=e&&y.default.can(P.Permissions.MANAGE_CHANNELS,e),canManageWebhooks:null!=e&&((0,f.isGuildTextChannelType)(e.type)&&y.default.can(P.Permissions.MANAGE_WEBHOOKS,e)),formState:p.default.getFormState(),theme:m.default.theme,section:p.default.getSection()}})(k),e.exports=t.default},8099:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(4)),a=c(n(6410)),i=c(n(28)),l=c(n(153)),u=c(n(312)),s=c(n(35)),d=c(n(6759)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=o.default.connectStores([a.default,u.default,l.default],function(){var e=a.default.getProps().channel;return r({guild:null!=e?i.default.getGuild(e.getGuildId()):null,theme:s.default.theme,hide:u.default.hideInstantInvites,canCreateInvites:null!=e?l.default.can(f.Permissions.CREATE_INSTANT_INVITE,e):null},a.default.getInvites())})(d.default);t.default=p,e.exports=t.default},8100:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsOverviewNotice=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=b(n(17)),l=b(n(6)),u=b(n(4)),s=n(6150),d=b(n(188)),f=n(131),c=b(n(6410)),p=b(n(28)),h=b(n(153)),y=b(n(35)),m=b(n(152)),v=b(n(6071)),_=b(n(5987)),E=b(n(6045)),g=b(n(828)),S=n(829),T=n(454),I=n(8101),C=b(n(6183)),N=n(0),A=b(n(13)),O=b(n(5351));function b(e){return e&&e.__esModule?e:{default:e}}t.ChannelSettingsOverviewNotice=u.default.connectStores([c.default],function(){var e=c.default.getProps(),t=e.channel,n=e.submitting;return{channel:t,submitting:n,onReset:function(){null!=t&&(0,s.init)(t.id)},onSave:function(){if(null!=t){var e=t.name,n=t.type,r=t.topic,o=t.bitrate,a=t.userLimit,i=t.nsfw,l=t.rateLimitPerUser;(0,s.saveChannel)(t.id,{name:e,type:n,topic:r,bitrate:o,userLimit:a,nsfw:i,rateLimitPerUser:l})}}}})(C.default);var M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return l.default.bindAll(r,["handleChangeName","handleChangeTopic","handleChangeBitrate","handleUserLimitChange","handleNSFWChange","handleChangeSlowmode"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.getCooldownSliderMarker=function(e){return(0,I.getCooldownLabel)(e,!0)},t.prototype.renderChannelInfo=function(e){var t=this.props,n=t.canManageChannels,r=t.guild,a=void 0,l=void 0,u=void 0,s=void 0;(0,f.isGuildTextChannelType)(e.type)&&(a=o("div",{},void 0,o(S.FormItem,{title:A.default.Messages.FORM_LABEL_CHANNEL_TOPIC,className:O.default.marginTop20},void 0,o(E.default,{placeholder:A.default.Messages.CHANNEL_TOPIC_EMPTY,value:d.default.translateSurrogatesToInlineEmoji(e.topic),onChange:this.handleChangeTopic,error:this.getError("topic"),maxLength:1024,disabled:!n})),o(S.FormDivider,{className:(0,i.default)(O.default.marginTop40,O.default.marginBottom40)})),e.type===N.ChannelTypes.GUILD_TEXT&&(s=o("div",{},void 0,o(S.FormItem,{title:A.default.Messages.FORM_LABEL_SLOWMODE},void 0,o(v.default,{className:O.default.marginTop20,defaultValue:e.rateLimitPerUser,markers:N.SLOWMODE_VALUES,stickToMarkers:!0,onValueChange:this.handleChangeSlowmode,onMarkerRender:this.getCooldownSliderMarker,equidistant:!0}),o(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,A.default.Messages.FORM_HELP_SLOWMODE)),o(S.FormDivider,{className:(0,i.default)(O.default.marginTop40,O.default.marginBottom40)})),l=o("div",{},void 0,o(_.default,{note:A.default.Messages.FORM_HELP_NSFW,onChange:this.handleNSFWChange,value:e.isNSFW(),hideBorder:!0,disabled:!n},void 0,A.default.Messages.FORM_LABEL_NSFW_CHANNEL))),null!=r&&r.hasFeature(N.GuildFeatures.NEWS)&&(u=o("div",{},void 0,o(_.default,{note:A.default.Messages.FORM_HELP_NEWS.format({documentationLink:N.MarketingURLs.API_DOCS_NEWS_CHANNELS}),onChange:this.handleNewsChange,value:e.type===N.ChannelTypes.GUILD_NEWS,hideBorder:!0,disabled:!n},void 0,A.default.Messages.FORM_LABEL_NEWS_CHANNEL))));var c=void 0;return c=e.type===N.ChannelTypes.GUILD_CATEGORY?A.default.Messages.CATEGORY_NAME:A.default.Messages.FORM_LABEL_CHANNEL_NAME,o("div",{},void 0,o(S.FormItem,{title:c},void 0,o(g.default,{value:e.toString(),onChange:this.handleChangeName,error:this.getError("name"),autoFocus:!0,disabled:!n})),a,s,l,u)},t.prototype.renderBitrate=function(e){return Math.round(e/1e3)+"kbps"},t.prototype.renderVoiceBitrate=function(e,t){var n=this.props.canManageChannels;if(e.type!==N.ChannelTypes.GUILD_VOICE)return null;var r=t&&t.hasFeature(N.GuildFeatures.VIP_REGIONS)?N.BITRATE_MAX_VIP:N.BITRATE_MAX;return o(m.default,{direction:m.default.Direction.VERTICAL,className:O.default.marginBottom40},void 0,o(S.FormTitle,{},void 0,A.default.Messages.FORM_LABEL_BITRATE),o(S.FormText,{type:S.FormTextTypes.DESCRIPTION,style:{color:N.Colors.STATUS_RED},className:O.default.marginBottom8},void 0,this.getError("bitrate")),o(v.default,{defaultValue:Math.min(e.bitrate,r),onValueChange:this.handleChangeBitrate,onValueRender:this.renderBitrate,onMarkerRender:this.renderBitrate,markers:[N.BITRATE_MIN,N.BITRATE_DEFAULT,r],minValue:N.BITRATE_MIN,maxValue:r,disabled:!n}),o(S.FormText,{type:S.FormTextTypes.DESCRIPTION},void 0,A.default.Messages.FORM_HELP_BITRATE.format({bitrate:N.BITRATE_DEFAULT/1e3})))},t.prototype.onRenderUserLimit=function(e){return 0===(e=Math.round(e))?A.default.Messages.NO_USER_LIMIT:A.default.Messages.NUM_USERS.format({num:e})},t.prototype.renderUserLimit=function(e){var t=this.props.canManageChannels;return e.type!==N.ChannelTypes.GUILD_VOICE?null:o(m.default,{direction:m.default.Direction.VERTICAL},void 0,o(S.FormTitle,{},void 0,A.default.Messages.FORM_LABEL_USER_LIMIT),o(S.FormText,{type:S.FormTextTypes.DESCRIPTION,style:{color:N.Colors.STATUS_RED},className:O.default.marginBottom8},void 0,this.getError("user_limit")),o(v.default,{defaultValue:Math.min(e.userLimit,N.MAX_VOICE_USER_LIMIT),onValueChange:this.handleUserLimitChange,onValueRender:this.onRenderUserLimit,onMarkerRender:function(e){return 0===Math.round(e)?"∞":e},markers:[0,N.MAX_VOICE_USER_LIMIT],minValue:0,maxValue:N.MAX_VOICE_USER_LIMIT,disabled:!t}),o(S.FormText,{type:S.FormTextTypes.DESCRIPTION},void 0,A.default.Messages.FORM_HELP_USER_LIMIT.format()))},t.prototype.renderJuiceImage=function(e){var t=this.props.theme,r=void 0;return r=e.type===N.ChannelTypes.GUILD_CATEGORY?t===N.ThemeTypes.DARK?n(8102):n(8103):t===N.ThemeTypes.DARK?n(8104):n(8105),o(m.default,{justify:m.default.Justify.CENTER,className:O.default.marginTop60},void 0,o("img",{alt:"",width:280,height:165,src:r}))},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.guild;return null==t||null==n?null:o(S.FormSection,{className:"channel-settings-overview",tag:S.FormTitleTags.H2,title:A.default.Messages.OVERVIEW},void 0,this.renderChannelInfo(t),t.type===N.ChannelTypes.GUILD_VOICE?o(S.FormDivider,{className:(0,i.default)(O.default.marginTop40,O.default.marginBottom40)}):null,this.renderVoiceBitrate(t,n),this.renderUserLimit(t),this.renderJuiceImage(t))},t.prototype.handleChangeName=function(e){var t=this.props.channel;null!=t&&((0,f.isGuildTextChannelType)(t.type)&&(e=(0,T.sanitizeGuildTextChannelName)(e)),(0,s.updateChannel)({name:e}))},t.prototype.handleChangeTopic=function(e){(0,s.updateChannel)({topic:d.default.translateInlineEmojiToSurrogates(e)})},t.prototype.handleChangeBitrate=function(e){(0,s.updateChannel)({bitrate:1e3*Math.round(e/1e3)})},t.prototype.handleUserLimitChange=function(e){(0,s.updateChannel)({userLimit:Math.round(e)})},t.prototype.handleNSFWChange=function(e){(0,s.updateChannel)({nsfw:e.currentTarget.checked})},t.prototype.handleNewsChange=function(e){(0,s.updateChannel)({type:e.currentTarget.checked?N.ChannelTypes.GUILD_NEWS:N.ChannelTypes.GUILD_TEXT})},t.prototype.handleChangeSlowmode=function(e){(0,s.updateChannel)({rateLimitPerUser:e})},t}(a.PureComponent);M.displayName="ChannelSettingsOverview",t.default=u.default.connectStores([c.default,y.default,h.default],function(){var e=c.default.getProps(),t=e.errors,n=e.channel;return{errors:t,channel:n,submitting:e.submitting,theme:y.default.theme,guild:null!=n?p.default.getGuild(n.getGuildId()):null,canManageChannels:null!=n&&h.default.can(N.Permissions.MANAGE_CHANNELS,n)}})(M)},8101:function(e,t,n){"use strict";t.__esModule=!0,t.getCooldownLabel=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r.default.duration(e,"seconds");return n.hours()>0?(t?o.default.Messages.DURATION_HOURS_SHORT:o.default.Messages.DURATION_HOURS).format({hours:n.hours()}):n.minutes()>0?(t?o.default.Messages.DURATION_MINUTES_SHORT:o.default.Messages.DURATION_MINUTES).format({minutes:n.minutes()}):e>0?(t?o.default.Messages.DURATION_SECONDS_SHORT:o.default.Messages.DURATION_SECONDS).format({seconds:n.seconds()}):t?o.default.Messages.FORM_LABEL_OFF:o.default.Messages.FORM_LABEL_SLOWMODE_OFF};var r=a(n(5)),o=a(n(13));function a(e){return e&&e.__esModule?e:{default:e}}},8102:function(e,t,n){e.exports=n.p+"58957d928db6fb9d4658eb882f33d7bc.svg"},8103:function(e,t,n){e.exports=n.p+"c2c982c416a67d43d72d182f079a8d22.svg"},8104:function(e,t,n){e.exports=n.p+"bfffd518c76d3f6bc5e96eb52e4ae2cf.svg"},8105:function(e,t,n){e.exports=n.p+"9ad4d437577c5569dc231a787a5377f6.svg"},8106:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsPermissionsNotice=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=W(n(6)),u=W(n(4)),s=W(n(183)),d=W(n(446)),f=n(6150),c=n(8107),p=W(n(80)),h=n(131),y=W(n(7301)),m=W(n(6410)),v=W(n(72)),_=W(n(28)),E=W(n(153)),g=W(n(35)),S=W(n(15)),T=W(n(311)),I=W(n(5979)),C=W(n(128)),N=W(n(152)),A=W(n(306)),O=W(n(6762)),b=W(n(827)),M=W(n(8108)),R=W(n(6043)),P=n(445),L=W(P),w=W(n(6114)),D=W(n(314)),U=W(n(100)),k=W(n(6191)),G=W(n(6778)),x=W(n(6779)),F=W(n(6183)),j=W(n(6787)),B=n(0),H=W(n(13)),V=W(n(5351)),Y=W(n(5889));function W(e){return e&&e.__esModule?e:{default:e}}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q={position:"relative",paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"},X={ROLE:"role",MEMBER:"member"},Q=(t.ChannelSettingsPermissionsNotice=u.default.connectStores([y.default,m.default],function(){var e=m.default.getChannel();return{submitting:y.default.formState===B.FormStates.SUBMITTING,onReset:function(){(0,c.init)()},onSave:function(){if(null!=e){var t=y.default.editedPermissionIds.reduce(function(e,t){var n=y.default.getPermissionOverwrite(t);return null!=n&&e.push(n),e},[]);(0,c.savePermissionUpdates)(e.id,t)}}}})(F.default),function(e){function t(n){K(this,t);var r=z(this,e.call(this,n)),o=n.type,a=n.channel;return r.generalSpec=U.default.generateChannelGeneralPermissionSpec(o===B.ChannelTypes.GUILD_CATEGORY),r.textSpec=o===B.ChannelTypes.GUILD_NEWS?U.default.generateChannelNewsPermissionSpec(o===B.ChannelTypes.GUILD_NEWS):U.default.generateChannelTextPermissionSpec((0,h.isGuildSelectableChannelType)(o)),r.voiceSpec=U.default.generateChannelVoicePermissionSpec(o===B.ChannelTypes.GUILD_VOICE,a.getGuildId()),r.handlePermissionChange=r.handlePermissionChange.bind(r),r.handleDeletePermission=r.handleDeletePermission.bind(r),r}return $(t,e),t.prototype.getOverwriteName=function(){var e=this.props,t=e.channel.guild_id,n=e.overwrite.id,r=_.default.getGuild(t);if(null==r)return"";var o=r.getRole(n),a=S.default.getUser(n),i=a?a.username:"";return o?o.name:i},t.prototype.handlePermissionChange=function(e,t){var r,o=this.props,i=o.overwrite,l=o.channel,u=i.id,d=i.allow,f=i.deny;switch(f^=f&e,d^=d&e,t){case"ALLOW":d|=e;break;case"DENY":f|=e}if(U.default.can(e,S.default.getCurrentUser(),l,((r={})[u]=a({},i,{allow:d,deny:f}),r)))(0,c.updatePermission)(u,d,f);else{var p=void 0;if("member"===i.type){var h=S.default.getUser(i.id);null!=h&&(p=h.toString())}else if("role"===i.type){var y=_.default.getGuild(l.getGuildId());if(null!=y){var m=y.getRole(i.id);null!=m&&(p=m.name)}}s.default.show({title:H.default.Messages.SELF_DENY_PERMISSION_TITLE,body:H.default.Messages.SELF_DENY_PERMISSION_BODY.format({name:p}),cancelText:H.default.Messages.HELP_DESK,onCancel:function(){window.open(D.default.getArticleURL(B.HelpdeskArticles.PERMISSIONS_LOCKOUT))},iconUrl:n(6573)})}},t.prototype.handleDeletePermission=function(){var e=this.props,t=e.channel.id,r=e.overwrite.id,o=this.getOverwriteName();s.default.show({title:H.default.Messages.SETTINGS_PERMISSIONS_DELETE_TITLE,body:H.default.Messages.SETTINGS_PERMISSIONS_DELETE_BODY.format({name:o}),cancelText:H.default.Messages.CANCEL,onConfirm:function(){return d.default.clearPermissionOverwrite(t,r)},iconUrl:n(6573)})},t.prototype.renderTextPermissions=function(){var e=this.props.type;if(!(0,h.isGuildSelectableChannelType)(e)&&e!==B.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return o(x.default,{spec:this.textSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderVoicePermissions=function(){var e=this.props.type;if(e!==B.ChannelTypes.GUILD_VOICE&&e!==B.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return o(x.default,{spec:this.voiceSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderRemoveButton=function(){var e=this.props;return e.channel.guild_id===e.overwrite.id?null:o(C.default,{look:C.default.Looks.OUTLINED,color:C.default.Colors.RED,onClick:this.handleDeletePermission},void 0,H.default.Messages.REMOVE_ROLE_OR_USER.format({name:this.getOverwriteName()}))},t.prototype.render=function(){var e=this.props.overwrite;return o(O.default.Content,{style:q},void 0,o(x.default,{spec:this.generalSpec,allow:e.allow,deny:e.deny,onChange:this.handlePermissionChange,className:V.default.marginBottom40}),this.renderTextPermissions(),this.renderVoicePermissions(),this.renderRemoveButton())},t}(i.PureComponent));Q.displayName="Content";var J=function(e){function t(){var n,r;K(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=z(this,e.call.apply(e,[this].concat(a))),r.handlerFilterResults=function(e,t){var n=r.props.permissionOverwrites;return 0===t?(0,l.default)(r.props.guild.roles).filter(function(t){return null==n[t.id]&&e(t.name)}).sortBy(function(e){return-e.position}).value():(0,l.default)(r.props.guildMemberIds).map(S.default.getUser).filter(function(e){return null!=e}).filter(function(t){return null==n[t.id]&&e(t.username.toLowerCase())}).sortBy(function(e){return e.username.toLowerCase()}).value()},r.handleCreateOverwrite=function(e,t){0===t?r.props.onSelect(e.id,X.ROLE):1===t&&r.props.onSelect(e.id,X.MEMBER)},r.handleQueryChange=function(e){w.default.requestMembers(r.props.guild.id,e,20)},z(r,n)}return $(t,e),t.prototype.renderResult=function(e,t){if(0===t){var n=void 0;return e.colorString&&(n={color:e.colorString}),o("span",{style:n},void 0,e.name)}var r=e.avatarURL||e.getAvatarURL("jpg");return o(N.default,{align:N.default.Align.CENTER},void 0,o(I.default,{size:I.default.Sizes.SMALL,src:r}),o("span",{className:Y.default.username},void 0,e.toString()))},t.prototype.render=function(){var e=this.props,t=e.position,n=e.onClose;return o(k.default,{label:H.default.Messages.OVERWRITE_AUTOCOMPLETE_LABEL,placeholder:H.default.Messages.OVERWRITE_AUTOCOMPLETE_PLACEHOLDER,sections:[H.default.Messages.ROLES,H.default.Messages.MEMBERS],onRenderResult:this.renderResult,onFilterResults:this.handlerFilterResults,onQueryChange:this.handleQueryChange,onSelect:this.handleCreateOverwrite,onClose:n,position:t})},t}(i.PureComponent);J.displayName="CreateOverwritePopout";var Z=u.default.connectStores([v.default],function(e){var t=e.guild;return{guildMemberIds:v.default.getMemberIds(t.id)}})(J),ee=function(e){function t(n){K(this,t);var r=z(this,e.call(this,n));return l.default.bindAll(r,["renderRole","renderMember","renderCreateOverwritePopout","renderHeader","handleCreatePermissionOverwrite","handleSyncPermissions"]),r}return $(t,e),t.prototype.renderRole=function(e){var t=this.props,n=t.selectedOverwriteId,r=t.theme;return o(G.default,{theme:r,id:e.id,color:e.colorString},n+"-"+e.id,e.name)},t.prototype.renderMember=function(e){var t=this.props,n=t.selectedOverwriteId,r=t.theme,a=e.avatarURL||e.getAvatarURL("jpg");return o(G.default,{id:e.id,theme:r},n+"-"+e.id,o(N.default,{align:N.default.Align.CENTER},void 0,o(I.default,{size:I.default.Sizes.XSMALL,src:a}),o("span",{className:Y.default.username},void 0,e.toString())))},t.prototype.renderCreateOverwritePopout=function(e){return i.createElement(Z,a({},this.props,{onSelect:this.handleCreatePermissionOverwrite},e))},t.prototype.renderHeader=function(){var e=this.props.theme===B.ThemeTypes.DARK?n(6781):n(6782);return o(b.default,{render:this.renderCreateOverwritePopout,position:b.default.Positions.BOTTOM,preventInvert:!0},void 0,o(R.default.Header,{},void 0,o(N.default,{className:Y.default.sidebarHeaderDefault,justify:N.default.Justify.BETWEEN,align:N.default.Align.CENTER},void 0,o("span",{},void 0,H.default.Messages.ROLES,"/",H.default.Messages.MEMBERS),o("img",{alt:"",className:Y.default.sidebarHeader,src:e}))))},t.prototype.renderHelpfulNote=function(){return o(i.Fragment,{},void 0,o(R.default.Separator,{style:{marginTop:20,marginBottom:14}}),o(L.default,{type:P.Types.DESCRIPTION},void 0,o(T.default,{href:D.default.getArticleURL(B.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,H.default.Messages.PERMISSION_HELPDESK)))},t.prototype.renderSyncStatus=function(){var e=this.props,t=e.isLockable,n=e.locked,r=e.category,a=e.canSyncChannel;return t&&null!=r?o(M.default,n?{iconName:A.default.Names.SYNCED,noticeText:H.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:r.name})}:{iconName:A.default.Names.UNSYNCED,noticeText:H.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:r.name}),buttonText:a?H.default.Messages.SYNC_NOW:null,onClick:this.handleSyncPermissions}):null},t.prototype.render=function(){var e=this.props,t=e.guild,n=e.selectedOverwriteId,r=e.theme,i=e.permissionOverwrites;null==i[t.id]&&(i[t.id]=U.default.makeEveryoneOverwrite(t.id));var u=(0,l.default)(i).filter(function(e){return e.type===X.ROLE}).map(function(e){return t.getRole(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return-e.position}).map(this.renderRole).value(),s=(0,l.default)(i).filter(function(e){return e.type===X.MEMBER}).map(function(e){return S.default.getUser(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return e.username.toLowerCase()}).map(this.renderMember).value();return o(O.default.Sidebar,{style:a({},q,{overflow:"hidden"}),scrollable:!0,theme:r},void 0,this.renderSyncStatus(),o(R.default,{onItemSelect:c.selectPermission,selectedItem:n},void 0,this.renderHeader(),u,s,this.renderHelpfulNote()))},t.prototype.handleCreatePermissionOverwrite=function(e,t){var n=this.props.channel;d.default.updatePermissionOverwrite(n.id,{id:e,type:t,allow:U.default.NONE,deny:U.default.NONE}).then(function(){return(0,c.selectPermission)(e)})},t.prototype.handleSyncPermissions=function(){var e=this.props,t=e.category,n=e.channel;null!=t&&p.default.push(j.default,{channel:n,category:t,onSync:function(){var e=t.guild_id,r=a({},t.permissionOverwrites);null!=e&&null==r[e]&&(r[e]=U.default.makeEveryoneOverwrite(e)),(0,f.saveChannel)(n.id,{permissionOverwrites:l.default.values(r)})}})},t}(i.PureComponent);ee.displayName="Sidebar";var te=function(e){function t(){return K(this,t),z(this,e.apply(this,arguments))}return $(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedOverwriteId,n=e.permissionOverwrites,r=e.channel,a=e.locked,l=n[t];return o(O.default,{className:Y.default.container},void 0,i.createElement(ee,this.props),o(Q,{type:r.type,channel:r,overwrite:l,locked:a}))},t}(i.PureComponent);te.displayName="ChannelSettingsPermissions",t.default=u.default.connectStores([_.default,y.default,g.default,E.default],function(){var e=y.default.channel,t=y.default.category;return{channel:e,category:t,canSyncChannel:null!=t&&E.default.can(B.Permissions.MANAGE_ROLES,t),permissionOverwrites:y.default.permissionOverwrites,selectedOverwriteId:y.default.selectedOverwriteId,isLockable:y.default.isLockable,locked:y.default.locked,guild:null!=e&&_.default.getGuild(e.getGuildId()),theme:g.default.theme}})(te)},8107:function(e,t,n){"use strict";t.__esModule=!0,t.updatePermission=function(e,t,n){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION,id:e,allow:t,deny:n})},t.selectPermission=function(e){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION,id:e})},t.init=function(){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT})},t.savePermissionUpdates=function(e,t){return r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING}),new Promise(function(n){!function r(){if(0===t.length)return n();var a=t.pop();if(null==a)return r();o.default.updatePermissionOverwrite(e,a).then(r,r)}()}).then(function(){return r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS})})};var r=i(n(1)),o=i(n(446)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},8108:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(17))),i=p(n(128)),l=p(n(450)),u=p(n(152)),s=p(n(306)),d=p(n(129)),f=n(0),c=p(n(5888));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.iconName,n=e.noticeText,r=e.buttonText,p=e.className,h=e.submitting,y=e.onClick;return o(l.default,{className:(0,a.default)(c.default.card,p)},void 0,o(u.default,{},void 0,o(u.default.Child,{wrap:!0,grow:0,shrink:0,className:c.default.iconContainer},void 0,o(s.default,{name:t,width:18,height:18,color:f.Colors.STATUS_YELLOW,className:c.default.lockIcon})),o(u.default.Child,{wrap:!0,className:c.default.noticeText},void 0,o(d.default,{color:d.default.Colors.PRIMARY},void 0,n))),null!=r&&null!=y?o(i.default,{size:i.default.Sizes.SMALL,onClick:y,className:c.default.button,submitting:h},void 0,r):null)};h.displayName="SidebarNotice",t.default=h,e.exports=t.default},8109:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(6410)),a=l(n(28)),i=l(n(6783));function l(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.connectStores([o.default],function(){var e=o.default.getChannel();return{guild:null!=e?a.default.getGuild(e.getGuildId()):null,channel:e}})(i.default),e.exports=t.default},8110:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=N(n(6)),l=N(n(4)),u=n(57),s=n(6755),d=n(6579),f=N(d),c=N(n(35)),p=N(n(15)),h=N(n(5979)),y=N(n(152)),m=N(n(6386)),v=n(6061),_=N(n(8111)),E=N(n(8114)),g=N(n(8115)),S=N(n(8116)),T=n(0),I=N(n(13)),C=N(n(5501));function N(e){return e&&e.__esModule?e:{default:e}}var A=function(e){return o(y.default,{align:y.default.Align.CENTER},void 0,o(y.default.Child,{},void 0,o(y.default,{align:y.default.Align.CENTER},void 0,o(h.default,{size:h.default.Sizes.XSMALL,src:e.getAvatarURL()}),o("span",{className:C.default.username},void 0,e.toString()))))};function O(e,t){var n=o(_.default,{context:e}),r=o(E.default,{context:e}),a=o(S.default,{context:e}),l=[];if(null==t)return l;var u=t.transport,f=t.rtp,c=f.inbound,h=f.outbound;return l.push({section:v.SectionTypes.HEADER,label:I.default.Messages.RTC_DEBUG_CONTEXT.format({context:e})}),null!=u&&l.push({section:(0,d.keySection)(e,T.RTCDebugSections.TRANSPORT),label:I.default.Messages.RTC_DEBUG_TRANSPORT,element:function(){return a}}),null!=h&&l.push({section:(0,d.keySection)(e,T.RTCDebugSections.OUTBOUND),label:I.default.Messages.RTC_DEBUG_RTP_OUTBOUND,element:function(){return r}}),null==c||i.default.isEmpty(c)||(l.push({section:v.SectionTypes.HEADER,label:I.default.Messages.RTC_DEBUG_RTP_INBOUND}),Object.keys(c).forEach(function(t){var r=p.default.getUser(t);if(null!=r){var o=(0,d.keySection)(e,r.id);l.push({section:o,label:A(r),onClick:function(){(0,s.setSection)(o)},element:function(){return n}})}})),l}A.displayName="UserItem",t.default=l.default.connectStores([f.default,c.default],function(){var e=f.default.getStats(u.MediaEngineContextTypes.DEFAULT);return{theme:c.default.theme,section:f.default.getSection(),defaultStats:e,streamStats:f.default.getStats(u.MediaEngineContextTypes.STREAM),screenshare:null!=e?e.screenshare:void 0}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,r=e.defaultStats,a=e.streamStats,i=e.screenshare;return o(m.default,{theme:t,section:n,onSetSection:s.setSection,onClose:s.close,sections:function(e,t,n){var r=O(u.MediaEngineContextTypes.DEFAULT,e),o=O(u.MediaEngineContextTypes.STREAM,t),a=[],i={section:v.SectionTypes.DIVIDER};return null!=n&&(a.push(i),a.push({section:T.RTCDebugSections.SCREENSHARE,label:I.default.Messages.RTC_DEBUG_SCREENSHARE,element:g.default})),o.length>0&&o.unshift(i),[].concat(r,o,a)}(r,a,i)})},t}(a.PureComponent)),e.exports=t.default},8111:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(4)),l=n(6579),u=y(l),s=y(n(15)),d=y(n(444)),f=y(n(837)),c=n(110),p=n(6790),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.streams,n=e.userId;if(null==n||null==t||0===t.length)return o(d.default,{type:d.default.Type.SPINNING_CIRCLE});var r=s.default.getUser(n),a=null==r?h.default.Messages.RTC_DEBUG_RTP_INBOUND:h.default.Messages.RTC_DEBUG_RTP_INBOUND+" — "+r.toString();return o(f.default,{tag:c.Tags.H2,title:a},void 0,(0,p.renderStreams)(t,n))},t}(a.PureComponent);m.displayName="RTCDebugInbound",t.default=i.default.connectStores([u.default],function(e){var t=e.context,n=u.default.getStats(t),r=(0,l.parseSection)(u.default.getSection()).section;if(null==r)throw new Error("Unrecognized section format");var o=null;return null!=n&&null!=n.rtp.inbound&&(o=n.rtp.inbound[r]||[]),{userId:r,streams:o}})(m),e.exports=t.default},8112:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(7011);var l=o(i.SparklinesCurve,{}),u=o(i.SparklinesReferenceLine,{type:"median"}),s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.datapoints=[n.datapoint],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.datapoints.push(e.datapoint)},t.prototype.render=function(){return o(i.Sparklines,{data:this.datapoints.slice(0),height:25,style:{marginTop:10}},void 0,l,u)},t}(a.PureComponent);s.displayName="RTCDebugGraph",t.default=s,e.exports=t.default},8113:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(152)),u=h(n(306)),s=h(n(836)),d=n(445),f=h(d),c=n(0),p=h(n(5501));function h(e){return e&&e.__esModule?e:{default:e}}var y=["audioLevel"],m=["firCount","nackCount"],v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={change:0,warn:-1!==m.indexOf(n.label)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){-1!==y.indexOf(e.label)&&(e.value>this.props.value?this.setState({change:1}):e.value<this.props.value?this.setState({change:-1}):this.setState({change:0}))},t.prototype.renderValueIcon=function(){var e=this.state,t=e.warn,n=e.change;return t?o(u.default,{name:u.default.Names.WARNING_BOX,color:c.Colors.STATUS_YELLOW,className:p.default.valueIcon}):n>0?o(u.default,{name:u.default.Names.CHANGE_UP,color:c.Colors.STATUS_GREEN,className:p.default.valueIcon}):n<0?o(u.default,{name:u.default.Names.CHANGE_DOWN,color:c.Colors.STATUS_RED,className:p.default.valueIcon}):null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.valueRendered,a=e.section,u=e.label,c=e.renderGraph;return o(l.default,{className:(0,i.default)(p.default.item,n),direction:l.default.Direction.VERTICAL,basis:"50%"},void 0,o(l.default,{align:l.default.Align.START},void 0,o(l.default.Child,{},void 0,o("h3",{className:p.default.title},void 0,t)),o(l.default.Child,{grow:0,shrink:0},void 0,this.renderValueIcon(),o("span",{className:p.default.itemValue},void 0,r))),c&&o(l.default.Child,{className:p.default.graph},null!=a?a+"-"+u:u,o(f.default,{type:d.Types.DESCRIPTION},void 0,c())),o(s.default,{className:p.default.divider}))},t}(a.PureComponent);v.displayName="RTCDebugItem",t.default=v,e.exports=t.default},8114:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4)),l=(n(57),p(n(6579))),u=p(n(444)),s=p(n(837)),d=n(110),f=n(6790),c=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.outbound;return null==e?o(u.default,{type:u.default.Type.SPINNING_CIRCLE}):o(s.default,{tag:d.Tags.H2,title:c.default.Messages.RTC_DEBUG_RTP_OUTBOUND},void 0,(0,f.renderStreams)(e))},t}(a.PureComponent);h.displayName="RTCDebugOutbound",t.default=i.default.connectStores([l.default],function(e){var t=e.context,n=l.default.getStats(t);return{outbound:null!=n?n.rtp.outbound:null}})(h),e.exports=t.default},8115:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(6)),l=y(n(4)),u=y(n(6579)),s=y(n(444)),d=y(n(837)),f=n(110),c=n(6790),p=n(7112),h=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.screenshare;if(null==e)return o(s.default,{type:s.default.Type.SPINNING_CIRCLE});var t=i.default.map(e,function(e,t){return o(p.Item,{label:t,value:e},t)});return o(d.default,{tag:f.Tags.H2,title:h.default.Messages.RTC_DEBUG_SCREENSHARE},void 0,(0,c.renderTwoColumns)(t))},t}(a.PureComponent);m.displayName="RTCDebugScreenshare",t.default=l.default.connectStores([u.default],function(){var e=u.default.getStats();return{screenshare:null!=e?e.screenshare:null}})(m),e.exports=t.default},8116:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=_(n(6)),l=_(n(4)),u=(n(57),_(n(184))),s=_(n(6579)),d=_(n(312)),f=_(n(444)),c=_(n(837)),p=n(110),h=n(6790),y=n(7112),m=_(n(13)),v=_(n(5501));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.transport,n=e.mediaSessionId,r=e.hidePersonalInformation;if(null==t)return o(f.default,{type:f.default.Type.SPINNING_CIRCLE});var a=i.default.map(t,function(e,t){if(!r||"localAddress"!==t)return o(y.Item,{label:t,value:e},t)});return o(c.default,{tag:p.Tags.H2,title:m.default.Messages.RTC_DEBUG_TRANSPORT+(n?" - "+n:""),className:v.default.allowSelection},void 0,(0,h.renderTwoColumns)(a))},t}(a.PureComponent);E.displayName="RTCDebugTransport",t.default=l.default.connectStores([s.default,u.default,d.default],function(e){var t=e.context,n=s.default.getStats(t);return{hidePersonalInformation:d.default.hidePersonalInformation,transport:null!=n?n.transport:null,mediaSessionId:u.default.getMediaSessionId()}})(E),e.exports=t.default},8117:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=T(n(4)),u=T(n(8)),s=T(n(849)),d=T(n(7302)),f=n(834),c=T(n(80)),p=n(883),h=T(n(6073)),y=T(n(35)),m=T(n(129)),v=T(n(8118)),_=T(n(447)),E=T(n(6387)),g=n(0),S=T(n(13));function T(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={captchaKey:0},r.handleVerifyCaptcha=r.handleVerifyCaptcha.bind(r),r.handleClick=r.handleClick.bind(r),r.handleLogout=r.handleLogout.bind(r),r.close=r.close.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.theme;return a(v.default,{type:t,captchaKey:this.state.captchaKey,onCaptchaVerify:this.handleVerifyCaptcha,theme:n,onClick:this.handleClick,onLogout:this.handleLogout})},t.prototype.handleVerifyCaptcha=function(e){var t=this;u.default.post({url:g.Endpoints.CAPTCHA,body:{captcha_key:e}}).then(function(){t.close()},function(){t.setState({captchaKey:t.state.captchaKey+1})})},t.prototype.handleClick=function(e){e===g.VerificationTypes.EMAIL_OR_PHONE?this.handleVerifyEmail():this.handleVerifyPhone()},t.prototype.handleVerifyEmail=function(){(0,p.accountDetailsInit)(),d.default.open()},t.prototype.handleVerifyPhone=function(){c.default.push(function(e){return i.createElement(E.default,e)})},t.prototype.close=function(){(0,f.popLayer)()},t.prototype.handleLogout=function(){c.default.push(function(e){return i.createElement(_.default,o({header:S.default.Messages.LOGOUT,confirmText:S.default.Messages.LOGOUT,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return s.default.logout()}},e),a(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,S.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},t}(i.PureComponent);I.displayName="Verification",t.default=l.default.connectStores([y.default,h.default],function(){var e=h.default.getAction(),t=g.VerificationTypes.CAPTCHA;return e===g.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?t=g.VerificationTypes.EMAIL_OR_PHONE:e===g.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(t=g.VerificationTypes.PHONE),{theme:y.default.theme,type:t}})(I),e.exports=t.default},8118:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(314)),u=h(n(152)),s=h(n(920)),d=n(0),f=h(n(13)),c=h(n(5351)),p=h(n(5891));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var n,r;y(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props;(0,e.onClick)(e.type)},m(r,n)}return v(t,e),t.prototype.render=function(){var e=this.props.type,t=e===d.VerificationTypes.EMAIL_OR_PHONE?f.default.Messages.VERIFY_BY_EMAIL_FORMATTED.format():f.default.Messages.VERIFY_BY_PHONE_FORMATTED.format();return o(u.default,{className:p.default.verificationBlock,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,onClick:this.handleClick},void 0,o("div",{className:(0,i.default)(p.default.image,p.default[e])}),o("div",{className:p.default.body},void 0,t))},t}(a.PureComponent);_.displayName="VerificationBlock";var E=function(e){function t(){var n,r;y(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){var t=r.props.onClick;t&&t(e)},m(r,n)}return v(t,e),t.prototype.renderFields=function(){var e=this.props,t=e.type,n=e.captchaKey,r=e.theme,a=e.onCaptchaVerify,i=[];switch(t){case d.VerificationTypes.CAPTCHA:return o(s.default,{onVerify:a,theme:r},n);case d.VerificationTypes.EMAIL_OR_PHONE:i.push(o(_,{type:d.VerificationTypes.EMAIL_OR_PHONE,onClick:this.handleClick},d.VerificationTypes.EMAIL_OR_PHONE));case d.VerificationTypes.PHONE:i.push(o(_,{type:d.VerificationTypes.PHONE,onClick:this.handleClick},d.VerificationTypes.PHONE))}return i},t.prototype.render=function(){return o(u.default,{className:p.default.verification,align:u.default.Align.CENTER,direction:u.default.Direction.VERTICAL},void 0,o(u.default,{className:p.default.container,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER},void 0,o("div",{className:p.default.image}),o("div",{className:(0,i.default)(p.default.title,c.default.marginTop20)},void 0,f.default.Messages.VERIFICATION_TITLE),o("div",{className:(0,i.default)(p.default.body,c.default.marginTop4,c.default.marginBottom20)},void 0,f.default.Messages.VERIFICATION_BODY.format()),o(u.default,{grow:0,justify:u.default.Justify.CENTER},void 0,this.renderFields())),o("div",{className:p.default.footer},void 0,f.default.Messages.VERIFICATION_FOOTER),o(u.default,{className:(0,i.default)(c.default.marginTop4,c.default.marginBottom20),grow:0},void 0,o("div",{className:(0,i.default)(p.default.footer,p.default.footerAction)},void 0,f.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:l.default.getSubmitRequestURL()})),o("div",{className:(0,i.default)(p.default.footer,p.default.footerBullet)},void 0,"•"),o("div",{className:(0,i.default)(p.default.footer,p.default.footerAction)},void 0,f.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))},t}(a.PureComponent);E.defaultProps={type:d.VerificationTypes.CAPTCHA,onCaptchaVerify:d.NOOP,onLogout:d.NOOP},E.displayName="Verification",t.default=E,e.exports=t.default},8119:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=E(n(2)),l=_(n(4)),u=E(n(7113)),s=_(n(7114)),d=_(n(35)),f=_(n(154)),c=_(n(8120)),p=_(n(8121)),h=_(n(8122)),y=_(n(8124)),m=_(n(8128)),v=n(0);function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=((o={})[v.PictureInPictureComponents.VIDEO]={component:y.default,store:p.default},o[v.PictureInPictureComponents.STREAM]={component:m.default,store:c.default},o),S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleWindowMove=r.handleWindowMove.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.window,n=e.maxX,r=e.maxY,o=e.theme;return a(h.default,{pictureInPictureComponents:g,window:t,maxX:n,maxY:r,theme:o,onWindowMove:this.handleWindowMove})},t.prototype.handleWindowMove=function(e,t){u.moveTo(e,t)},t}(i.PureComponent);S.displayName="PictureInPictureContainer",t.default=l.default.connectStores([s.default,f.default,d.default],function(){var e=f.default.windowSize();return{window:s.default.window,maxX:e.width,maxY:e.height,theme:d.default.theme}})(S),e.exports=t.default},8120:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(4)),o=n(57),a=_(n(1)),i=v(n(7113)),l=_(n(12)),u=v(n(6052)),s=_(n(5354)),d=_(n(22)),f=_(n(854)),c=_(n(46)),p=_(n(7114)),h=_(n(909)),y=_(n(51)),m=n(0);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var E=void 0;function g(){var e=E;if(null==e||!p.default.isOpen(e))return!1;a.default.wait(function(){return i.close(e)}),E=null}function S(){var e=s.default.getActiveStream();if(null!=e){var t=e.channelId;return function(e){var t=y.default.getChannelId();if(!c.default.supports(o.Features.VIDEO))return!0;var n=f.default.hasLayers();return!(n&&f.default.getLayers().includes(m.Layers.RTC_DEBUG)||!n&&e!==t&&!h.default.getWindowOpen(m.PopoutWindowKeys.STREAM_POPOUT))}(t)?g():(E!==t&&g(),function(e){var t=d.default.getChannel(e);if(null==t||p.default.isOpen(e))return!1;a.default.wait(function(){return i.open(e,m.PictureInPictureComponents.STREAM,{channel:t})}),E=e}(t))}g()}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default),this.syncWith([y.default,s.default,f.default,h.default],S)},t}(r.default.Store);t.default=new T(a.default,{STREAM_STOP:function(e){var t=e.streamKey;if(u.decodeStreamKey(t).ownerId!==l.default.getId())return!1;g()}}),e.exports=t.default},8121:function(e,t,n){"use strict";t.__esModule=!0;var r=v(n(4)),o=n(57),a=v(n(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7113)),l=v(n(22)),u=v(n(854)),s=v(n(46)),d=v(n(7114)),f=v(n(184)),c=v(n(51)),p=v(n(155)),h=v(n(134)),y=v(n(6565)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var _=void 0;function E(){var e=_;if(null==e||!d.default.isOpen(e))return!1;a.default.wait(function(){return i.close(e)}),_=null}function g(){var e=f.default.getChannelId(),t=_===e;return function(){var e=f.default.getGuildId(),t=f.default.getChannelId(),n=c.default.getChannelId();if(!s.default.supports(o.Features.VIDEO))return!0;if(null!=e&&!y.default.isAvailable(e))return!0;if(null==t||!h.default.hasVideo(e,t))return!0;var r=u.default.hasLayers();return!(r&&u.default.getLayers().includes(m.Layers.RTC_DEBUG)||!r&&t!==n)}()?E():(t||E(),null!=e&&function(e){var t=l.default.getChannel(e);if(null==t||d.default.isOpen(e))return!1;a.default.wait(function(){return i.open(t.id,m.PictureInPictureComponents.VIDEO,{channel:t})}),_=e}(e))}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(d.default),this.syncWith([c.default,p.default,f.default,h.default,u.default],g)},t}(r.default.Store);t.default=new S(a.default,function(){return!1}),e.exports=t.default},8122:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=p(n(17)),u=n(99),s=p(n(8123)),d=n(0),f=p(n(5361)),c=p(n(5893));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=80,_=132,E=80,g=function(e){function t(n){h(this,t);var r=y(this,e.call(this,n));return r.ensureIsInPosition=r.ensureIsInPosition.bind(r),r.handleSetInnerDivRef=r.handleSetInnerDivRef.bind(r),r.handleSetDraggableRef=r.handleSetDraggableRef.bind(r),r.handleDragStart=r.handleDragStart.bind(r),r.handleDrag=r.handleDrag.bind(r),r.handleDragEnd=r.handleDragEnd.bind(r),r}return m(t,e),t.prototype.componentDidMount=function(){this.setPosition(this.props.position)},t.prototype.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY||this.ensureIsInPosition()},t.prototype.getPosition=function(e){var t=(0,u.findDOMNode)(this._innerDiv);if(null!=t&&t instanceof Element){var n=t.getBoundingClientRect();this._width=n.width,this._height=n.height}var r=this.props,o=r.edgeOffsetTop,a=r.edgeOffsetLeft,i=r.edgeOffsetBottom,l=r.edgeOffsetRight,s=o,f=window.innerHeight-i-this._height,c=a,p=window.innerWidth-l-this._width;switch(e){case d.PictureInPicturePositions.TOP_LEFT:return{y:s,x:c};case d.PictureInPicturePositions.BOTTOM_LEFT:return{y:f,x:c};case d.PictureInPicturePositions.TOP_RIGHT:return{y:s,x:p};default:return{y:f,x:p}}},t.prototype.setPosition=function(e){var t=this.getPosition(e),n=t.x,r=t.y;null!=this._draggable&&this._draggable.setPosition(n,r)},t.prototype.animateToPosition=function(e,t){var n=this.getPosition(e),r=n.x,o=n.y;null!=this._draggable&&this._draggable.animateToPosition(r,o,{},t)},t.prototype.ensureIsInPosition=function(){this.setPosition(this.props.position)},t.prototype.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}},t.prototype.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}},t.prototype.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}},t.prototype.render=function(){var e=this.getXOffset(),t=this.getYOffset();return i.createElement(s.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:c.default.pictureInPictureWindow,maxX:window.innerWidth,maxY:window.innerHeight,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},i.createElement("div",{ref:this.handleSetInnerDivRef,className:f.default.elevationHigh,style:{x:e,y:t}},this.props.children))},t.prototype.handleSetInnerDivRef=function(e){this._innerDiv=e},t.prototype.handleSetDraggableRef=function(e){this._draggable=e},t.prototype.handleDragStart=function(e,t){this._velocityX=0,this._velocityY=0,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=new Date},t.prototype.handleDrag=function(e,t){var n=new Date,r=n-this._lastMoveTime;this._velocityX=(e-this._lastMoveX)/r,this._velocityY=(t-this._lastMoveY)/r,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=n},t.prototype.handleDragEnd=function(e,t){var n=this.calculateDecayingPosition(e,t,this._velocityX,this._velocityY),r=!0,o=!0;n.x>window.innerWidth/2&&(o=!1),n.y>window.innerHeight/2&&(r=!1);var a=void 0;if(a=r&&o?d.PictureInPicturePositions.TOP_LEFT:r&&!o?d.PictureInPicturePositions.TOP_RIGHT:!r&&o?d.PictureInPicturePositions.BOTTOM_LEFT:d.PictureInPicturePositions.BOTTOM_RIGHT,this.animateToPosition(a,this.ensureIsInPosition),a!==this.props.position){var i=this.props,l=i.id,u=i.onMove;u&&u(l,a)}},t}(i.PureComponent);g.displayName="Window";var S=function(e){function t(){return h(this,t),y(this,e.apply(this,arguments))}return m(t,e),t.prototype.renderWindow=function(){var e=this.props,t=e.window,n=e.maxX,r=e.maxY,l=e.onWindowMove,u=e.pictureInPictureComponents;if(null==t)return null;var s=t.component;return"string"==typeof s&&u[s]&&(s=u[s].component),a(g,{position:t.position,id:t.id,onMove:l,maxX:n,maxY:r,edgeOffsetTop:v,edgeOffsetBottom:_,edgeOffsetLeft:E,edgeOffsetRight:v},void 0,i.createElement(s,o({pipId:t.id,pipPosition:t.position},t.props)))},t.prototype.render=function(){return a("div",{className:(0,l.default)(c.default.pictureInPicture,"theme-"+this.props.theme)},void 0,this.renderWindow())},t}(i.PureComponent);S.displayName="PictureInPicture",t.default=S,e.exports=t.default},8123:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(99),l=n(310),u=(r=l)&&r.__esModule?r:{default:r},s=n(0);var d=Math.pow(3,2),f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r._height=0,r._width=0,r._dragStart={x:0,y:0},r._offsetX=0,r._offsetY=0;var o=new u.default.Value(n.initialX),a=new u.default.Value(n.initialY);return r.state={dragging:!1,position:new u.default.ValueXY({x:o,y:a})},r.handleSetRef=r.handleSetRef.bind(r),r.handleMouseDown=r.handleMouseDown.bind(r),r.handleMouseMove=r.handleMouseMove.bind(r),r.handleMouseUp=r.handleMouseUp.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.animateToPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&this.grabDimensions();var a=this.translate(e,t);u.default.spring(this.state.position,o({toValue:{x:a.x,y:a.y}},n)).start(r)},t.prototype.setPosition=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.translate(e,t);n&&this.grabDimensions(),this.state.position.setValue({x:r.x,y:r.y})},t.prototype.grabDimensions=function(){var e=(0,i.findDOMNode)(this._ref);null!=e&&e instanceof Element&&(this._height=e.clientHeight,this._width=e.clientWidth)},t.prototype.translate=function(e,t){var n=this.props,r=n.maxX,o=n.maxY;return e<0?e=0:e>r-this._width&&(e=r-this._width),t<0?t=0:t>o-this._height&&(t=o-this._height),{x:e,y:t}},t.prototype.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,i=r.className,l=r.children,s=[0,1],d=["0px","1px"],f=u.default.accelerate(o({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:s,outputRange:d})},{translateY:n.y.interpolate({inputRange:s,outputRange:d})}]},this.props.style));return a.createElement(u.default.div,{ref:this.handleSetRef,className:i,onMouseDown:this.handleMouseDown,style:f},l)},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleMouseDown=function(e){var t=this.props,n=t.dragAnywhere,r=t.selector,o=this.state.position,a=e.target;e.button===s.MouseButtons.PRIMARY&&(n||null!=r&&a.matches(r))&&(this.grabDimensions(),this._dragStart={x:e.clientX,y:e.clientY},this._offsetX=e.clientX-o.x._value,this._offsetY=e.clientY-o.y._value,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},t.prototype.handleMouseMove=function(e){e.preventDefault();var t,n,r,o,a,i,l=this.props,u=l.onDragStart,s=l.onDrag,f=this.state,c=f.dragging,p=f.dragging;!c&&(t=this._dragStart,n={x:e.clientX,y:e.clientY},r=t.x,o=t.y,a=n.x,i=n.y,Math.pow(r-a,2)+Math.pow(o-i,2)>d)&&(c=!0),c&&(this.animateToPosition(e.clientX-this._offsetX,e.clientY-this._offsetY,{tension:80,friction:8},null,!1),this.setState({dragging:c},function(){p||u&&u(e.clientX,e.clientY),s&&s(e.clientX,e.clientY)}))},t.prototype.handleMouseUp=function(e){var t=this;window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&this.setState({dragging:!1},function(){var n=t.props.onDragEnd;n&&n(e.clientX,e.clientY)})},t}(a.PureComponent);f.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,dragAnywhere:!1},f.displayName="Draggable",t.default=f,e.exports=t.default},8124:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=L(n(6)),u=L(n(4)),s=n(57),d=L(n(452)),f=n(307),c=L(n(6005)),p=n(834),h=L(n(80)),y=L(n(6547)),m=L(n(12)),v=L(n(841)),_=L(n(46)),E=L(n(8125)),g=L(n(502)),S=L(n(8126)),T=L(n(6924)),I=L(n(18)),C=n(181),N=L(n(45)),A=L(n(456)),O=L(n(6941)),b=L(n(8127)),M=L(n(6942)),R=n(0),P=L(n(13));function L(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var D=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=w(this,e.call.apply(e,[this].concat(l))),r.handleEnableVideo=function(){d.default.setVideoEnabled(!0)},r.handleEnableVideoWhenUnavailable=function(){var e=r.props.isCameraGranted;h.default.push(function(t){return i.createElement(M.default,a({},t,{title:P.default.Messages.CAMERA_UNAVAILABLE,description:e?P.default.Messages.CAMERA_NO_DEVICE:P.default.Messages.CAMERA_NO_ACCESS,confirmText:e?P.default.Messages.OKAY:P.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:e?h.default.pop:r.handleEnableVideo}))})},r.handleDisableVideo=function(){d.default.setVideoEnabled(!1)},r.handleStartScreenSharing=function(){y.default.open(r.props.channel)},r.handleStartScreenSharingWhenUnavailable=function(){function e(){h.default.push(A.default,{source:"PiP Screenshare Unavailable"})}h.default.push(function(t){return i.createElement(M.default,a({},t,{title:P.default.Messages.SCREENSHARE_UNAVAILABLE,description:P.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:P.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},r.handleChangeScreenSharing=function(e){if(e.currentTarget instanceof Element){var t=r.props.channel;(0,f.openContextMenu)(e,function(e){return i.createElement(O.default,a({},e,{channel:t}))})}},r.handleJumpToChannel=function(){var e=r.props.channel;(0,p.popAllLayers)();var t=e.getGuildId()||R.ME;c.default.channelListScrollTo(t,e.id),N.default.transitionToGuild(t,e.id)},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.channel;I.default.track(R.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,a({video_layout:"pip"},(0,C.collectVoiceAnalyticsMetadata)(e.id)))},t.prototype.componentWillUnmount=function(){var e=this.props.channel;I.default.track(R.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,a({video_layout:v.default.getLayout(e.id)},(0,C.collectVoiceAnalyticsMetadata)(e.id)))},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.streamId,r=e.userOnScreen,a=e.isVideoAvailable,i=e.isVideoEnabled,l=e.isScreenShareAvailable,u=e.isScreenShareEnabled,s=e.quality,d=r.id===m.default.getId()&&i&&!u;return o(S.default,{channel:t,backgroundKey:r.id,quality:s,isVideoAvailable:a,isVideoEnabled:i,isScreenShareAvailable:l,isScreenShareEnabled:u,onEnableVideo:this.handleEnableVideo,onEnableVideoWhenUnavailable:this.handleEnableVideoWhenUnavailable,onDisableVideo:this.handleDisableVideo,onStartScreenSharing:this.handleStartScreenSharing,onStartScreenSharingWhenUnavailable:this.handleStartScreenSharingWhenUnavailable,onChangeScreenSharing:this.handleChangeScreenSharing,onJumpToChannel:this.handleJumpToChannel},void 0,o(b.default,{streamId:n,component:_.default.getMediaEngine().Video,mirror:d},void 0,o(T.default,{avatarSize:T.default.AvatarSizes.XXLARGE,user:r})))},t}(i.PureComponent);D.displayName="PictureInPictureVideoContainer",t.default=u.default.connectStores([E.default,v.default,g.default],function(e){var t=e.channel,n=E.default.getSpeaker(t.id),r=(0,l.default)(_.default.getVideoDevices()).values().first(),o=null==r||r.disabled,a=_.default.isEnabled();return{channel:t,streamId:null!=n?g.default.getStreamId(n.id):null,quality:null!=n?g.default.getQuality(n.id):null,userOnScreen:n,isVideoAvailable:a||!1===o,isVideoEnabled:a&&!o&&_.default.isVideoEnabled(),isScreenShareEnabled:_.default.isScreenSharing(),isScreenShareAvailable:_.default.supports(s.Features.DESKTOP_CAPTURE),isCameraGranted:a}})(D),e.exports=t.default},8125:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(6)),o=d(n(4)),a=d(n(1)),i=d(n(12)),l=d(n(841)),u=d(n(472)),s=d(n(15));function d(e){return e&&e.__esModule?e:{default:e}}var f=void 0,c=void 0;function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0;if(null==f)t=null;else if(null==(t=l.default.getSelectedParticipantId(f))){var n=i.default.getId();t=(0,r.default)(l.default.getParticipants(f)).filter(function(e){var t=e.user,r=e.voiceState;return null!=r&&r.selfVideo&&t.id!==n}).sortBy(function(e){var t=e.user;return-u.default.getSpeakingDuration(t.id)}).map(function(e){return e.user.id}).first()}c!==t&&(c=t,e&&m.emitChange())}var h=r.default.debounce(p,300);function y(){return h(),!1}var m=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,u.default),this.syncWith([l.default],y)},t.prototype.getSpeaker=function(e){return f!==e&&(f=e,p(!1)),null!=c?s.default.getUser(c):s.default.getCurrentUser()},t}(o.default.Store))(a.default,function(){return!1});t.default=m,e.exports=t.default},8126:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(833)),l=v(n(128)),u=v(n(221)),s=v(n(152)),d=v(n(306)),f=v(n(6923)),c=n(7235),p=v(n(442)),h=n(0),y=v(n(13)),m=v(n(5894));function v(e){return e&&e.__esModule?e:{default:e}}var _=o(s.default,{grow:1}),E=o(f.default,{isCondensed:!0}),g=o(s.default,{grow:1}),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderTopLeft=function(){var e=this.props,t=e.channel,n=e.onJumpToChannel;return o(u.default,{className:m.default.channel,onClick:n},void 0,t.toString())},t.prototype.renderTopRight=function(){var e=this.props.onClose;return null!=e?o(u.default,{onClick:e,className:m.default.iconButtonWrapper},void 0,o(d.default,{name:d.default.Names.REMOVE,className:m.default.iconButton,foreground:m.default.iconButtonForeground})):null},t.prototype.renderScreenShareIcon=function(){var e=this.props,t=e.onStartScreenSharingWhenUnavailable,n=e.onStartScreenSharing,r=e.onChangeScreenSharing,a=e.isScreenShareAvailable,i=e.isScreenShareEnabled,u=void 0,s=void 0,f=void 0;return a?i?(u=r,s=m.default.iconButton,f=y.default.Messages.SCREEN_SHARE_OPTIONS):(u=n,s=m.default.iconButton,f=y.default.Messages.SCREEN_SHARE_ON):(u=t,s=m.default.iconButtonDisabled,f=y.default.Messages.SCREENSHARE_UNAVAILABLE),o(p.default,{text:f},void 0,o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,onClick:u,className:m.default.iconButtonWrapper},void 0,o(d.default,{name:d.default.Names.SCREENSHARE,className:s,foreground:m.default.iconButtonForeground})))},t.prototype.renderVideoIcon=function(){var e=this.props,t=e.onEnableVideoWhenUnavailable,n=e.onEnableVideo,r=e.onDisableVideo,a=e.isVideoAvailable,i=e.isVideoEnabled,u=void 0,s=void 0,f=void 0,c=void 0;return a?i?(u=d.default.Names.VIDEO_CAMERA,s=r,f=m.default.iconButton,c=y.default.Messages.CAMERA_OFF):(u=d.default.Names.VIDEO_CAMERA_DISABLED,s=n,f=m.default.iconButton,c=y.default.Messages.CAMERA_ON):(u=d.default.Names.VIDEO_CAMERA,s=t,f=m.default.iconButtonDisabled,c=y.default.Messages.CAMERA_UNAVAILABLE),o(p.default,{text:c},void 0,o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,onClick:s,className:m.default.iconButtonWrapper},void 0,o(d.default,{name:u,width:24,height:24,className:f,foreground:m.default.iconButtonForeground})))},t.prototype.renderBottomLeft=function(){return o(s.default,{align:s.default.Align.CENTER},void 0,this.renderScreenShareIcon(),this.renderVideoIcon())},t.prototype.renderOverlaySide=function(e,t,n){return o(s.default,{grow:0,className:n},void 0,o(s.default,{align:s.default.Align.CENTER,grow:0,className:m.default.overlayLeft},void 0,e),_,o(s.default,{align:s.default.Align.CENTER,grow:0,className:m.default.overlayRight},void 0,t))},t.prototype.renderOverlay=function(){return this.props.quality===h.RTCReceivedVideoQuality.OFF?E:null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.backgroundKey,r=e.onJumpToChannel;return o("div",{className:m.default.pictureInPictureVideo,onDoubleClick:r},void 0,o(i.default,{},void 0,o(c.BackgroundTransition,{},n,t)),o(s.default,{direction:s.default.Direction.VERTICAL,className:m.default.overlay},void 0,this.renderOverlaySide(this.renderTopLeft(),this.renderTopRight(),m.default.overlayTop),g,this.renderOverlaySide(this.renderBottomLeft(),null,m.default.overlayBottom)),this.renderOverlay())},t}(a.PureComponent);S.displayName="PictureInPictureVideo",t.default=S,e.exports=t.default},8127:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=s(n(17)),u=s(n(5895));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={aStreamId:null,aReady:!1,bStreamId:n.streamId,bReady:!0},r.handleReady=r.handleReady.bind(r),r.handleDoubleClick=r.handleDoubleClick.bind(r),r.handleContextMenu=r.handleContextMenu.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleReady=function(){this.state.aReady?this.setState({bReady:!0,aStreamId:null,aReady:!1}):this.setState({aReady:!0,bStreamId:null,bReady:!1})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state.aReady?e.streamId!==this.state.aStreamId&&(null==e.streamId?this.setState({bStreamId:e.streamId,bReady:!0,aStreamId:null,aReady:!1}):this.setState({bStreamId:e.streamId,bReady:!1})):e.streamId!==this.state.bStreamId&&(null==e.streamId?this.setState({aStreamId:e.streamId,aReady:!0,bStreamId:null,bReady:!1}):this.setState({aStreamId:e.streamId,aReady:!1}))},t.prototype.renderVideo=function(e,t){var n=this.props,r=n.children,l=n.mirror,s=n.component;if(null==e){if(null==r)return null;var d=i.Children.only(r);return i.cloneElement(d,a({style:{display:t&&!l?void 0:"none"}},d.props))}return o(s,{className:u.default.media,streamId:e,onReady:t?null:this.handleReady})},t.prototype.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return o("div",{className:(0,l.default)(u.default.video,r,(e={},e[u.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,r=t.id;n&&n(e,r)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,r=t.id;n&&n(e,r)},t}(i.PureComponent);d.displayName="BufferedVideo",t.default=d,e.exports=t.default},8128:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=m(n(6005)),u=n(834),s=m(n(841)),d=m(n(18)),f=n(181),c=m(n(45)),p=m(n(7238)),h=n(0),y=m(n(5896));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.handleJumpToChannel=function(){var e=r.props.channel;(0,u.popAllLayers)();var t=e.getGuildId()||h.ME;l.default.channelListScrollTo(t,e.id),c.default.transitionToGuild(t,e.id)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.channel;d.default.track(h.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,a({video_layout:"pip"},(0,f.collectVoiceAnalyticsMetadata)(e.id)))},t.prototype.componentWillUnmount=function(){var e=this.props.channel;d.default.track(h.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,a({video_layout:s.default.getLayout(e.id)},(0,f.collectVoiceAnalyticsMetadata)(e.id)))},t.prototype.render=function(){var e=this.props.channel;return o("div",{className:y.default.wrapper,onDoubleClick:this.handleJumpToChannel},void 0,o(p.default,{channel:e}))},t}(i.PureComponent);_.displayName="PictureInPictureStream",t.default=_,e.exports=t.default},8129:function(e,t,n){"use strict";t.__esModule=!0;var r=E(n(2)),o=_(n(6)),a=_(n(4)),i=_(n(5354)),l=_(n(22)),u=_(n(28)),s=_(n(46)),d=_(n(871)),f=_(n(184)),c=_(n(51)),p=_(n(472)),h=_(n(15)),y=_(n(134)),m=E(n(470)),v=n(0);function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(e.selfDeaf!==this.props.selfDeaf?this.playSound(this.props.selfDeaf?"deafen":"undeafen"):e.selfMute!==this.props.selfMute&&this.playSound(this.props.selfMute?"mute":"unmute"),e.voiceDisconnected||e.voiceDisconnected===this.props.voiceDisconnected||this.playSound("disconnect"),e.speaking!==this.props.speaking&&(s.default.getMode()!==v.InputModes.PUSH_TO_TALK||this.props.selfMute||this.playSound(this.props.speaking?"ptt_start":"ptt_stop")),e.tempMuted!==this.props.tempMuted&&(s.default.getMode()!==v.InputModes.VOICE_ACTIVITY||this.props.selfMute||this.playSound(this.props.tempMuted?"ptt_stop":"ptt_start")),e.voiceChannelId===this.props.voiceChannelId){var t=e.voiceChannelUserCount||0,n=this.props.voiceChannelUserCount||0;t>n?!this.isAFK()&&this.playSound("user_leave"):t<n&&!this.isAFK()&&this.playSound("user_join"),e.streaming!==this.props.streaming&&this.playSound(this.props.streaming?"user_join":"user_leave")}this.props.userHasBeenMovedVersion!==e.userHasBeenMovedVersion&&this.playSound("user_moved")},t.prototype.isAFK=function(){var e=l.default.getChannel(this.props.voiceChannelId);if(null==e)return!1;var t=e.getGuildId();if(null==t)return!1;var n=u.default.getGuild(t);return null!=n&&n.afkChannelId===e.id},t.prototype.playSound=function(e){d.default.isSoundDisabled(e)||m.playSound(e,.4)},t.prototype.render=function(){return null},t}(r.PureComponent);g.displayName="SoundPlayer",t.default=a.default.connectStores([s.default,f.default,p.default,y.default,c.default,i.default],function(){var e=c.default.getVoiceChannelId(),t=0,n=!1;if(null!=e){var r=l.default.getChannel(e),a=h.default.getCurrentUser();null!=r&&null!=a&&(o.default.forEach(y.default.getVoiceStates(r.getGuildId()),function(n,r){r!==a.id&&n.channelId===e&&t++}),n=i.default.getStreamsForChannel(r).length>0)}return{userHasBeenMovedVersion:y.default.userHasBeenMovedVersion,selfMute:s.default.isSelfMute(),selfDeaf:s.default.isSelfDeaf(),voiceDisconnected:f.default.isDisconnected(),speaking:p.default.isCurrentUserSpeaking(),tempMuted:s.default.isSelfMutedTemporarily(),voiceChannelId:e,voiceChannelUserCount:t,streaming:n}})(g),e.exports=t.default},8130:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a,i,l=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),d=P(n(17)),f=P(n(6)),c=n(99),p=P(n(4)),h=P(n(136)),y=P(n(6600)),m=P(n(12)),v=P(n(854)),_=P(n(847)),E=P(n(6385)),g=P(n(154)),S=P(n(8131)),T=P(n(6207)),I=P(n(827)),C=P(n(7303)),N=P(n(8132)),A=P(n(6030)),O=n(8133),b=n(8138),M=n(0),R=P(n(5902));function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=(0,A.default)(S.default,((i={})[M.ExperimentTypes.NONE]=function(e){return s.createElement(I.default,u({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT}),e.children)},i[M.ExperimentTypes.USER]=((a={})[M.ExperimentBuckets.CONTROL]=function(e){return s.createElement(I.default,u({},e,{backdrop:!0,onOpen:function(){return h.default.trigger(e.redesignedTTExperimentDescriptor)},ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT}),e.children)},a[M.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return s.createElement(I.default,u({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT}),e.children)},a[M.ExperimentBuckets.TREATMENT_1]=function(e){return s.createElement(I.default,u({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT,onOpen:function(){return h.default.trigger(e.redesignedTTExperimentDescriptor)}}),e.children)},a[M.ExperimentBuckets.TREATMENT_2]=function(e){return s.createElement(C.default,u({},e,{ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT,onComplete:e.handleDismiss,onSkipAll:e.handleSkipTips,onOpen:function(){return h.default.trigger(e.redesignedTTExperimentDescriptor)}}),e.children)},a),i),function(){return!1}),k=function(e){function t(n){L(this,t);var r=w(this,e.call(this,n));return r.state={offsetX:null,offsetY:null},r.handlePopoutClose=function(e){e&&r.handleDismiss()},r.handleDismiss=function(){y.default.dismiss(r.props.tutorialId)},f.default.bindAll(r,["handlePopoutRef","handleSkipTips","renderTutorialPopout"]),r}return D(t,e),t.prototype.componentDidMount=function(){this.updateCache()},t.prototype.componentDidUpdate=function(e){var t=e.tutorialId,n=e.x,r=e.y,o=e.targetWidth,a=e.targetHeight,i=e.position,l=e.offset,u=e.offsetPercent;this.props.tutorialId===t&&this.props.x===n&&this.props.y===r&&this.props.targetWidth===o&&this.props.targetHeight===a&&this.props.position===i&&this.props.offset.x===l.x&&this.props.offset.y===l.y&&this.props.offsetPercent.x===u.x&&this.props.offsetPercent.y===u.y||this.updateCache()},t.prototype.updateCache=function(){var e=(0,c.findDOMNode)(this);if(e&&e instanceof HTMLElement){var t=e.offsetWidth,n=e.offsetHeight,r={offsetX:(this.props.targetWidth-t)/2,offsetY:(this.props.targetHeight-n)/2};switch(this.props.position){case"left":r.offsetX=0,r.offsetY=this.props.targetHeight/2;break;case"right":r.offsetX=this.props.targetWidth,r.offsetY=this.props.targetHeight/2;break;case"bottom":r.offsetX=this.props.targetWidth/2,r.offsetY=this.props.targetHeight;break;case"top":default:r.offsetX=this.props.targetWidth/2,r.offsetY=0}var o=this.props.offset.x?this.props.offset.x:0,a=this.props.offset.y?this.props.offset.y:0,i=this.props.offsetPercent.x?this.props.offsetPercent.x:0,l=this.props.offsetPercent.y?this.props.offsetPercent.y:0;r.offsetX+=o+i/100*this.props.targetWidth,r.offsetY+=a+l/100*this.props.targetHeight,this.setState(r)}},t.prototype.handlePopoutRef=function(e){var t=this;this._popout=e,null!=e&&this.props.autoOpen&&r(function(){t._popout&&t._popout.open()})},t.prototype.handleSkipTips=function(){y.default.suppressAll()},t.prototype.getTutorialPopoutText=function(){var e=this.props,t=e.tutorialLogicExperimentDescriptor,n=e.redesignedTTExperimentDescriptor,r=e.tutorialId,o=null,a=null;return(null==t||t.bucket<1)&&null!=n?(o=n.name,a=n.bucket):null!=t&&(o=t.name,a=t.bucket),(0,b.getTutorialPopoutText)(r,o,a)},t.prototype.renderTutorialPopout=function(e){var t=this.getTutorialPopoutText(),n=t.title,r=t.body;return s.createElement(N.default,u({},e,{tutorialId:this.props.tutorialId,onSkipAll:this.handleSkipTips,onClose:this.handlePopoutClose,title:n,body:r}))},t.prototype.render=function(){var e,t,n,r=this.props,o=r.tutorialLogicExperimentDescriptor,a=r.tutorialId,i={};if(!(a in(i=null!=o&&o.bucket===M.ExperimentBuckets.TREATMENT_1?O.tutorialPopoutAttributesV2:O.tutorialPopoutAttributesV1)))return null;var f=i[a],c=f.background,p=f.media,h=f.textAlign,y=f.isLongText,m=f.arrowAlignment,v=f.highPriority,_=f.popoutPosition,E={left:null===this.state.offsetX?null:this.props.x+this.state.offsetX,top:null===this.state.offsetY?null:this.props.y+this.state.offsetY},g=this.props.visible,S=!0!==v?null:l("div",{},void 0,l("div",{className:(0,d.default)(R.default.top,(e={},e[R.default.animating]=g,e[R.default.notAnimating]=!g,e))}),l("div",{className:(0,d.default)(R.default.bottom,(t={},t[R.default.animating]=g,t[R.default.notAnimating]=!g,t))})),T=((n={})[R.default.animating]=g,n[R.default.notAnimating]=!g,n[R.default.highPriority]=v,n),I=this.getTutorialPopoutText();return s.createElement(U,u({render:this.renderTutorialPopout,position:_,background:c,renderMedia:p,textAlign:h,isLongText:y,arrowAlignment:m,uniqueId:a,showArrow:!0,handleSkipTips:this.handleSkipTips,handlePopoutClose:this.handlePopoutClose,handleDismiss:this.handleDismiss,redesignedTTExperimentDescriptor:this.props.redesignedTTExperimentDescriptor,setPopoutRef:this.handlePopoutRef},I),l("div",{className:R.default.indicator,style:E},void 0,l("div",{className:(0,d.default)(R.default.animationContainer,T)},void 0,S,l("div",{className:(0,d.default)(R.default.innerCircle,T)}),l("div",{className:(0,d.default)(R.default.outerCircle,T)}))))},t}(s.PureComponent);k.displayName="TutorialIndicator";var G=p.default.connectStores([E.default,v.default,g.default,_.default,T.default,m.default],function(){return{indicators:E.default.getIndicators(),tutorialData:E.default.getData(),shouldShowAny:E.default.shouldShowAnyIndicators()&&!v.default.hasLayers()&&!m.default.isGuest(),isFocused:g.default.isFocused(),tutorialLogicExperimentDescriptor:T.default.getExperimentDescriptor(),redesignedTTExperimentDescriptor:S.default.getExperimentDescriptor()}})(function(e){function t(){return L(this,t),w(this,e.apply(this,arguments))}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.indicators,n=e.shouldShowAny,r=e.isFocused,o=e.tutorialData,a=e.tutorialLogicExperimentDescriptor,i=e.redesignedTTExperimentDescriptor;return n?f.default.map(t,function(e,t){var n=o[t];return null==n?null:s.createElement(k,u({key:t,tutorialId:t,tutorialDefinition:n,visible:r&&!_.default.isOpen(t),tutorialLogicExperimentDescriptor:a,redesignedTTExperimentDescriptor:i},e))}):null},t}(s.Component));t.default=G,e.exports=t.default}).call(this,n(29).setImmediate)},8131:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=d(n(4)),i=d(n(1)),l=d(n(136)),u=d(n(58)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default],f)},t.prototype.getExperimentId=function(){return s.Experiments.TUTORIAL_UI},t.prototype.getMetaData=function(){return{title:"Redesigned Tutorial Tip Experiment",description:["Control: Old Tutorial Tip Popouts","Treatment 1: Old Tutorial Tip Popouts with New Copy","Treatment 2: Redesigned Tutorial Tip Popouts (LIGHT) with New Copy"]}},t.prototype.getExperimentDescriptor=function(){return u.default.getOverrideExperimentDescriptor(this.getExperimentId())||u.default.getEligibleExperiment(this.getExperimentId())},t}(a.default.Store))(i.default);l.default.register(c,((o={})[s.ExperimentTypes.NONE]=function(){return null},o[s.ExperimentTypes.USER]=((r={})[s.ExperimentBuckets.NOT_ELIGIBLE]=function(){return null},r[s.ExperimentBuckets.CONTROL]=function(){return null},r[s.ExperimentBuckets.TREATMENT_1]=function(){return null},r[s.ExperimentBuckets.TREATMENT_2]=function(){return null},r),o)),t.default=c,e.exports=t.default},8132:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(830)),l=c(n(221)),u=c(n(18)),s=n(0),d=c(n(13)),f=c(n(5898));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={confirmed:!1},r.skipTheTips=function(){u.default.track(s.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:r.props.tutorialId}),null!=r.props.onSkipAll&&r.props.onSkipAll(),i.default.close(r.props.popoutKey)},r.close=function(){r.setState({confirmed:!0},function(){return i.default.close(r.props.popoutKey)})},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.default.track(s.AnalyticEvents.SHOW_TUTORIAL,{tutorial:this.props.tutorialId})},t.prototype.componentWillUnmount=function(){u.default.track(s.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.tutorialId,acknowledged:this.state.confirmed}),null!=this.props.onClose&&this.props.onClose(this.state.confirmed)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.body,r="string"==typeof n?o("p",{},void 0,n):n;return o("div",{className:f.default.tutorialPopout},void 0,o("header",{className:f.default.titleContent},void 0,o("div",{},void 0,t)),o("section",{},void 0,o("span",{className:f.default.content},void 0,r),o("div",{className:f.default.buttonArea},void 0,o("div",{className:f.default.skipTips},void 0,d.default.Messages.TUTORIAL_SKIP.format({onSkipClick:this.skipTheTips})),o(l.default,{className:f.default.button,onClick:this.close},void 0,d.default.Messages.TUTORIAL_CLOSE))))},t}(a.PureComponent);h.defaultProps={tutorialId:null,onClose:null,onSkipAll:null},h.displayName="TutorialPopout",t.default=h,e.exports=t.default},8133:function(e,t,n){"use strict";t.__esModule=!0,t.tutorialPopoutAttributesV2=t.tutorialPopoutAttributesV1=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),d(n(7303))),i=d(n(8134)),l=d(n(8135)),u=d(n(8136)),s=d(n(8137));function d(e){return e&&e.__esModule?e:{default:e}}var f=o(u.default,{}),c=o(s.default,{}),p=o(i.default,{}),h=(t.tutorialPopoutAttributesV1=Object.freeze({"voice-conversations":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.WAVES,media:function(){return f}},"writing-messages":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.SHAPES,media:function(){return c}},"direct-messages":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-first-server":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"organize-by-topic":{popoutPosition:"right",background:a.default.Backgrounds.WAVES,media:function(){return p}},"instant-invite":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"whos-online":{popoutPosition:"left",background:a.default.Backgrounds.WAVES},"server-settings":{popoutPosition:"bottom",background:a.default.Backgrounds.SHAPES},"friends-list":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-more-servers":{popoutPosition:"right",background:a.default.Backgrounds.SHAPES}}),o(s.default,{})),y=o(l.default,{}),m=o(u.default,{}),v=o(i.default,{});t.tutorialPopoutAttributesV2=Object.freeze({"direct-messages":{popoutPosition:"bottom",background:a.default.Backgrounds.WAVES},"writing-messages":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.SHAPES,media:function(){return h}},"voice-channels":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.WAVES,media:function(){return y}},"voice-conversations":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.SHAPES,media:function(){return m}},"organize-by-channel":{popoutPosition:"right",background:a.default.Backgrounds.WAVES,media:function(){return v}},"instant-invite":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"whos-online":{popoutPosition:"left",background:a.default.Backgrounds.WAVES},"server-settings":{popoutPosition:"bottom",background:a.default.Backgrounds.SHAPES},"friends-list":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-first-server":{popoutPosition:"right",background:a.default.Backgrounds.SHAPES}})},8134:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=o("svg",{width:"136px",height:"94px",viewBox:"0 0 136 94",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,o("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},void 0,o("g",{},void 0,o("path",{d:"M22.6507711,19.9383039 L52,9 L52,79.5700344 L23.3283853,89.5381662 C22.8067282,89.7195284 22.2368184,89.4436649 22.0554562,88.9220077 C22.0187453,88.8164152 22,88.7054144 22,88.5936224 L22,20.8753413 C22,20.4577565 22.2594785,20.0841366 22.6507711,19.9383039 Z",fill:"#ACB0FF",fillRule:"nonzero"}),o("path",{d:"M82,20.9781002 L110.615994,9.07693055 C111.125935,8.86484988 111.71125,9.10631372 111.923331,9.61625512 C111.973944,9.73795364 112,9.86845729 112,10.0002611 L112,78.3708885 C112,78.7914204 111.736901,79.1670193 111.341678,79.3107057 L82,89.9781002 L82,20.9781002 Z",fill:"#ACB0FF",fillRule:"nonzero"}),o("polygon",{fill:"#989CEA",fillRule:"nonzero",points:"52 9 82 21 82 89.7563 52 79.6829034"}),o("circle",{fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"20"}),o("circle",{stroke:"#ACB0FF",strokeWidth:"1.5",fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"16.4347826"}),o("path",{d:"M120.640409,74 L120.695652,74 L116.886449,80.3862384 C116.603533,80.8605556 115.989673,81.0157168 115.515356,80.7328005 C115.372877,80.6478156 115.253779,80.528718 115.168794,80.3862384 L111.359591,74 L111.304348,74 L115.113551,67.6137616 C115.396467,67.1394444 116.010327,66.9842832 116.484644,67.2671995 C116.627123,67.3521844 116.746221,67.471282 116.831206,67.6137616 L120.640409,74 Z",stroke:"#202225",fill:"#FFFFFF",fillRule:"nonzero"}),o("path",{d:"M0.8561,25.4295 C0.8561,23.2207 2.6465,21.4295 4.8561,21.4295 C7.0657,21.4295 8.8561,23.2207 8.8561,25.4295 C8.8561,27.6383 7.0657,29.4295 4.8561,29.4295 C2.6465,29.4295 0.8561,27.6383 0.8561,25.4295",fill:"#ACB0FF"}),o("path",{d:"M36.6003,3.7337 C36.6003,3.1817 36.1533,2.7337 35.6003,2.7337 C34.7663,2.7337 34.0903,2.0577 34.0903,1.2237 C34.0903,0.6717 33.6423,0.2237 33.0903,0.2237 C32.5383,0.2237 32.0903,0.6717 32.0903,1.2237 C32.0903,2.0577 31.4133,2.7337 30.5803,2.7337 C30.0283,2.7337 29.5803,3.1817 29.5803,3.7337 C29.5803,4.2857 30.0283,4.7337 30.5803,4.7337 C31.4133,4.7337 32.0903,5.4097 32.0903,6.2437 C32.0903,6.7967 32.5383,7.2437 33.0903,7.2437 C33.6423,7.2437 34.0903,6.7967 34.0903,6.2437 C34.0903,5.4097 34.7663,4.7337 35.6003,4.7337 C36.1533,4.7337 36.6003,4.2857 36.6003,3.7337",fill:"#D3D6ED"}),o("path",{d:"M131.51,41 C131.51,40.448 131.063,40 130.51,40 C129.957,40 129.51,40.448 129.51,41 C129.51,41.834 128.834,42.51 128,42.51 C127.448,42.51 127,42.958 127,43.51 C127,44.062 127.448,44.51 128,44.51 C128.834,44.51 129.51,45.186 129.51,46.02 C129.51,46.572 129.957,47.02 130.51,47.02 C131.063,47.02 131.51,46.572 131.51,46.02 C131.51,45.186 132.186,44.51 133.02,44.51 C133.573,44.51 134.02,44.062 134.02,43.51 C134.02,42.958 133.573,42.51 133.02,42.51 C132.186,42.51 131.51,41.834 131.51,41 Z",fill:"#ACB0FF"}),o("path",{d:"M11.1491,77.0452 C10.7581,76.6542 10.1261,76.6542 9.7351,77.0452 L8.5511,78.2282 C8.1611,78.6182 8.1611,79.2512 8.5511,79.6422 C8.7471,79.8372 9.0031,79.9352 9.2581,79.9352 C9.5141,79.9352 9.7701,79.8372 9.9651,79.6422 L11.1491,78.4592 C11.5401,78.0682 11.5401,77.4362 11.1491,77.0452",fill:"#FFFFFF"}),o("path",{d:"M3.819,82.9612 L2.635,84.1452 C2.245,84.5352 2.245,85.1682 2.635,85.5592 C2.831,85.7542 3.087,85.8522 3.342,85.8522 C3.598,85.8522 3.855,85.7542 4.049,85.5592 L5.233,84.3752 C5.624,83.9842 5.624,83.3522 5.233,82.9612 C4.842,82.5702 4.209,82.5702 3.819,82.9612",fill:"#FFFFFF"}),o("path",{d:"M9.9655,82.9612 C9.5745,82.5702 8.9425,82.5702 8.5515,82.9612 C8.1605,83.3522 8.1605,83.9842 8.5515,84.3752 L9.7355,85.5592 C9.9305,85.7542 10.1865,85.8522 10.4425,85.8522 C10.6975,85.8522 10.9535,85.7542 11.1495,85.5592 C11.5395,85.1682 11.5395,84.5352 11.1495,84.1452 L9.9655,82.9612 Z",fill:"#FFFFFF"}),o("path",{d:"M5.2331,78.2279 L4.0491,77.0449 C3.6591,76.6549 3.0251,76.6549 2.6351,77.0449 C2.2451,77.4359 2.2451,78.0689 2.6351,78.4589 L3.8191,79.6419 C4.0141,79.8369 4.2701,79.9349 4.5261,79.9349 C4.7821,79.9349 5.0381,79.8369 5.2331,79.6419 C5.6241,79.2509 5.6241,78.6189 5.2331,78.2279",fill:"#FFFFFF"}))));t.default=function(){return a},e.exports=t.default},8135:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2));var a=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"211",height:"80",viewBox:"0 0 148 56"},void 0,o("g",{fill:"none",fillRule:"evenodd"},void 0,o("path",{fill:"#ACB0FF",d:"M4.51,26 C4.51,25.448 4.063,25 3.51,25 C2.957,25 2.51,25.448 2.51,26 C2.51,26.834 1.834,27.51 1,27.51 C0.448,27.51 0,27.958 0,28.51 C0,29.062 0.448,29.51 1,29.51 C1.834,29.51 2.51,30.186 2.51,31.02 C2.51,31.572 2.957,32.02 3.51,32.02 C4.063,32.02 4.51,31.572 4.51,31.02 C4.51,30.186 5.186,29.51 6.02,29.51 C6.573,29.51 7.02,29.062 7.02,28.51 C7.02,27.958 6.573,27.51 6.02,27.51 C5.186,27.51 4.51,26.834 4.51,26 Z"}),o("path",{fill:"#D3D6ED",d:"M148.02,36.51 C148.02,35.958 147.573,35.51 147.02,35.51 C146.186,35.51 145.51,34.834 145.51,34 C145.51,33.448 145.062,33 144.51,33 C143.958,33 143.51,33.448 143.51,34 C143.51,34.834 142.833,35.51 142,35.51 C141.448,35.51 141,35.958 141,36.51 C141,37.062 141.448,37.51 142,37.51 C142.833,37.51 143.51,38.186 143.51,39.02 C143.51,39.573 143.958,40.02 144.51,40.02 C145.062,40.02 145.51,39.573 145.51,39.02 C145.51,38.186 146.186,37.51 147.02,37.51 C147.573,37.51 148.02,37.062 148.02,36.51"}),o("path",{fill:"#FFF",d:"M127.7351 16.0452L126.5511 17.2282C126.1611 17.6182 126.1611 18.2512 126.5511 18.6422 126.7471 18.8372 127.0031 18.9352 127.2581 18.9352 127.5141 18.9352 127.7701 18.8372 127.9651 18.6422L129.1491 17.4592C129.5401 17.0682 129.5401 16.4362 129.1491 16.0452 128.7581 15.6542 128.1261 15.6542 127.7351 16.0452zM120.635 23.1452C120.245 23.5352 120.245 24.1682 120.635 24.5592 120.831 24.7542 121.087 24.8522 121.342 24.8522 121.598 24.8522 121.855 24.7542 122.049 24.5592L123.233 23.3752C123.624 22.9842 123.624 22.3522 123.233 21.9612 122.842 21.5702 122.209 21.5702 121.819 21.9612L120.635 23.1452zM127.9655 21.9612C127.5745 21.5702 126.9425 21.5702 126.5515 21.9612 126.1605 22.3522 126.1605 22.9842 126.5515 23.3752L127.7355 24.5592C127.9305 24.7542 128.1865 24.8522 128.4425 24.8522 128.6975 24.8522 128.9535 24.7542 129.1495 24.5592 129.5395 24.1682 129.5395 23.5352 129.1495 23.1452L127.9655 21.9612zM122.0491 16.0449C121.6591 15.6549 121.0251 15.6549 120.6351 16.0449 120.2451 16.4359 120.2451 17.0689 120.6351 17.4589L121.8191 18.6419C122.0141 18.8369 122.2701 18.9349 122.5261 18.9349 122.7821 18.9349 123.0381 18.8369 123.2331 18.6419 123.6241 18.2509 123.6241 17.6189 123.2331 17.2279L122.0491 16.0449z"}),o("circle",{cx:"114.5",cy:"42.5",r:"2.5",stroke:"#7289DA",strokeWidth:"1.5"}),o("polygon",{fill:"#FFF",points:"24 38 20 46 28 46"}),o("circle",{cx:"32.5",cy:"18.5",r:"3.5",fill:"#7289DA",fillRule:"nonzero"}),o("circle",{cx:"74",cy:"28",r:"28",fill:"#7289DA",fillRule:"nonzero"}),o("path",{fill:"#FFF",fillRule:"evenodd",d:"M77.6666667,11.5 L77.6666667,15.2766667 C82.965,16.8533333 86.8333333,21.7666667 86.8333333,27.5783333 C86.8333333,33.39 82.965,38.285 77.6666667,39.8616667 L77.6666667,43.6566667 C85,41.9883333 90.5,35.425 90.5,27.5783333 C90.5,19.7316667 85,13.1683333 77.6666667,11.5 L77.6666667,11.5 Z M82.25,27.5783333 C82.25,24.3333333 80.4166667,21.5466667 77.6666667,20.19 L77.6666667,34.9116667 C80.4166667,33.61 82.25,30.805 82.25,27.5783333 L82.25,27.5783333 Z M57.5,22.0783333 L57.5,33.0783333 L64.8333333,33.0783333 L74,42.245 L74,12.9116667 L64.8333333,22.0783333 L57.5,22.0783333 L57.5,22.0783333 Z"})));t.default=function(){return a},e.exports=t.default},8136:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),d(n(4))),i=d(n(15)),l=n(5979),u=n(82),s=d(n(5899));function d(e){return e&&e.__esModule?e:{default:e}}var f=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"177",height:"83",viewBox:"0 0 177 83"},void 0,o("g",{fill:"none",fillRule:"evenodd"},void 0,o("path",{fill:"#F6F6F7",d:"M176.723653 37.2763685C176.355191 36.9078772 175.75962 36.9078772 175.391158 37.2763685L174.276347 38.3912668C173.907884 38.7588157 173.907884 39.3553758 174.276347 39.7238671 174.460107 39.9076416 174.701351 40 174.942595 40 175.183839 40 175.425082 39.9076416 175.608842 39.7238671L176.723653 38.6089688C177.092116 38.2404775 177.092116 37.6448598 176.723653 37.2763685M169.391158 43.2762817L168.276347 44.391772C167.907884 44.7592055 167.907884 45.3555782 168.276347 45.7239538 168.460107 45.9076706 168.701351 46 168.942595 46 169.183839 46 169.425082 45.9076706 169.608842 45.7239538L170.723653 44.6084635C171.092116 44.2400879 171.092116 43.6446573 170.723653 43.2762817 170.355191 42.9079061 169.758678 42.9079061 169.391158 43.2762817M175.608842 43.2762817C175.24038 42.9079061 174.644809 42.9079061 174.276347 43.2762817 173.907884 43.6446573 173.907884 44.2400879 174.276347 44.6084635L175.391158 45.7239538C175.574918 45.9076706 175.816161 46 176.057405 46 176.298649 46 176.539893 45.9076706 176.723653 45.7239538 177.092116 45.3555782 177.092116 44.7592055 176.723653 44.391772L175.608842 43.2762817zM170.723653 38.3908877L169.608842 37.2757266C169.24038 36.9080911 168.642924 36.9080911 168.276347 37.2757266 167.907884 37.6443048 167.907884 38.2410055 168.276347 38.608641L169.391158 39.723802C169.574918 39.9076198 169.816161 40 170.057405 40 170.298649 40 170.539893 39.9076198 170.723653 39.723802 171.092116 39.3552239 171.092116 38.7594658 170.723653 38.3908877"}),o("path",{fill:"#ACB0FF",d:"M8.72365321 17.2763685C8.35519083 16.9078772 7.75961992 16.9078772 7.39115753 17.2763685L6.27634679 18.3912668C5.9078844 18.7588157 5.9078844 19.3553758 6.27634679 19.7238671 6.4601068 19.9076416 6.70135071 20 6.94259463 20 7.18383854 20 7.42508246 19.9076416 7.60884247 19.7238671L8.72365321 18.6089688C9.0921156 18.2404775 9.0921156 17.6448598 8.72365321 17.2763685M1.39115753 23.2762817L.276346788 24.391772C-.092115596 24.7592055-.092115596 25.3555782.276346788 25.7239538.460106801 25.9076706.701350715 26 .942594629 26 1.18383854 26 1.42508246 25.9076706 1.60884247 25.7239538L2.72365321 24.6084635C3.0921156 24.2400879 3.0921156 23.6446573 2.72365321 23.2762817 2.35519083 22.9079061 1.75867756 22.9079061 1.39115753 23.2762817M7.60884247 23.2762817C7.24038008 22.9079061 6.64480917 22.9079061 6.27634679 23.2762817 5.9078844 23.6446573 5.9078844 24.2400879 6.27634679 24.6084635L7.39115753 25.7239538C7.57491754 25.9076706 7.81616146 26 8.05740537 26 8.29864929 26 8.5398932 25.9076706 8.72365321 25.7239538 9.0921156 25.3555782 9.0921156 24.7592055 8.72365321 24.391772L7.60884247 23.2762817zM2.72365321 18.3908877L1.60884247 17.2757266C1.24038008 16.9080911.642924454 16.9080911.276346788 17.2757266-.092115596 17.6443048-.092115596 18.2410055.276346788 18.608641L1.39115753 19.723802C1.57491754 19.9076198 1.81616146 20 2.05740537 20 2.29864929 20 2.5398932 19.9076198 2.72365321 19.723802 3.0921156 19.3552239 3.0921156 18.7594658 2.72365321 18.3908877"}),o("path",{fill:"#D3D6ED",d:"M63.502849,0.997150997 C63.502849,1.82877493 62.8287749,2.502849 61.997151,2.502849 C61.4467236,2.502849 61,2.9485755 61,3.5 C61,4.05042735 61.4467236,4.497151 61.997151,4.497151 C62.8287749,4.497151 63.502849,5.17122507 63.502849,6.002849 C63.502849,6.55327635 63.9495726,7 64.5,7 C65.0504274,7 65.497151,6.55327635 65.497151,6.002849 C65.497151,5.17122507 66.1712251,4.497151 67.002849,4.497151 C67.5532764,4.497151 68,4.05042735 68,3.5 C68,2.9485755 67.5532764,2.502849 67.002849,2.502849 C66.1712251,2.502849 65.497151,1.82877493 65.497151,0.997150997 C65.497151,0.445726496 65.0504274,0 64.5,0 C63.9495726,0 63.502849,0.445726496 63.502849,0.997150997"}),o("g",{transform:"translate(81 43)"},void 0,o("mask",{id:"tooltip-voice-panel-b",fill:"#fff"},void 0,o("circle",{id:"tooltip-voice-panel-a",cx:"20",cy:"20",r:"20"})),o("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"20",cy:"20",r:"20"}),o("g",{mask:"url(#tooltip-voice-panel-b)"},void 0,o("g",{transform:"translate(-9 5)"},void 0,o("path",{fill:"#D8B39A",d:"M36.1044358,15.896 C37.5763769,17.368 40.071637,17.368 41.5442185,15.896 L45.8960441,11.544 C47.3679853,10.072 47.3679853,7.57599999 45.8960441,6.104 C44.424103,4.632 41.928203,4.632 40.4562619,6.104 L36.1044358,10.456 C34.6318547,11.928 34.6318547,14.36 36.1044358,15.896"}),o("path",{fill:"#F4D8C6",d:"M37.4090998,13.5909091 C37.9539601,14.1363636 38.9242842,14.1363636 39.4691445,13.5909091 L43.5904457,9.46969696 C44.1365181,8.92424243 44.1365181,7.95454546 43.5904457,7.40909089 C43.0455854,6.86363637 42.0752613,6.86363637 41.530401,7.40909089 L37.4090998,11.530303 C36.8636334,12.0757576 36.8636334,13.0454546 37.4090998,13.5909091"}),o("path",{fill:"#D8B39A",d:"M21.8530678,15.896 C20.3869324,17.368 17.9008764,17.368 16.434741,15.896 L12.1000796,11.544 C10.6333068,10.072 10.6333068,7.57599999 12.1000796,6.104 C13.5662151,4.632 16.0516336,4.632 17.5184064,6.104 L21.8530678,10.456 C23.3823107,11.928 23.3823107,14.36 21.8530678,15.896"}),o("path",{fill:"#F4D8C6",d:"M19.5913636,13.5909091 C19.045909,14.1363636 18.0762122,14.1363636 17.5307577,13.5909091 L13.4095454,9.46969696 C12.8634849,8.92424243 12.8634849,7.95454546 13.4095454,7.40909089 C13.955,6.86363637 14.9246968,6.86363637 15.4701514,7.40909089 L19.5913636,11.530303 C20.1362121,12.0757576 20.1362121,13.0454546 19.5913636,13.5909091"}),o("path",{fill:"#D8B39A",d:"M48.5371708,20.2892322 C47.65102,11.9234177 41.3897756,5.31932388 33.3568625,3.68465342 C34.115878,2.99279598 34.7483908,2.11225014 35.1278984,1.23107533 C35.4441548,0.41405459 34.3682503,-0.341327953 33.6731189,0.162470058 C32.7243497,0.791431376 31.8381993,1.54555599 30.8894297,2.11225013 L30.5105546,2.30093853 C30.7003086,1.98645788 30.8894297,1.67197722 31.0798162,1.42039269 C31.3960726,0.854327488 30.5731734,0.162470032 30.131047,0.665639087 C29.0557751,1.92356171 27.7907496,2.67831529 26.46184,3.37017273 C17.1012825,3.68465339 9.38399329,10.7919163 8.30935384,20.0376476 L0.0866870745,91.2360686 C-0.672328476,97.650845 3.62875889,103.625978 10.0165061,105.009692 L10.9652752,105.198381 C22.6041443,107.651959 34.5586368,107.589063 46.1336218,105.073217 C52.3322478,103.689503 56.5700836,97.9030586 55.9375709,91.5505492 L48.5371708,20.2892322 Z"}),o("path",{fill:"#4F5256",fillRule:"nonzero",d:"M39.7115026,12 C40.9752615,12 42,13.0074764 42,14.2499473 C42,15.4924181 40.9752615,16.4998945 39.7115026,16.4998945 C38.4477436,16.4998945 37.4223695,15.4924181 37.4223695,14.2499473 C37.4223695,13.0074764 38.4477436,12 39.7115026,12 M18.2884974,12 C19.5522564,12 20.5769945,13.0074764 20.5769945,14.2499473 C20.5769945,15.4924181 19.5522564,16.4998945 18.2884974,16.4998945 C17.0247381,16.4998945 16,15.4924181 16,14.2499473 C16,13.0074764 17.0247381,12 18.2884974,12 M25.4083941,20 C24.9634083,20 24.6455615,19.6875073 24.6455615,19.2500176 C24.6455615,18.8125279 24.9634083,18.5000351 25.4083941,18.5000351 C27.8240301,18.5000351 28.2048105,15.9375952 28.2048105,15.8750967 C28.2690159,15.4376069 28.650432,15.1876128 29.0318481,15.2501113 C29.4761982,15.3126099 29.7311114,15.6876011 29.6675417,16.0625923 C29.5404032,17.4375601 28.3961545,20 25.4083941,20"}),o("path",{fill:"#4F5256",d:"M32.3049914,20 C29.3354086,20 28.1981215,17.3071689 28.0079418,15.862235 C27.945391,15.4024834 28.2613041,15.0084105 28.6397678,15.0084105 C29.0820463,14.9427318 29.4617737,15.2711258 29.4617737,15.6651987 C29.5249562,15.9279139 29.9034204,18.4237086 32.2411771,18.4237086 C32.684087,18.4237086 33,18.7521027 33,19.2118543 C33,19.671606 32.7466377,20 32.3049914,20"}),o("path",{fill:"#F4D8C6",d:"M13.37646,39.9181074 L7.06217175,91.8413751 C6.49951238,96.7954065 9.81295095,101.436519 14.689332,102.43924 L15.4395442,102.627368 C24.3170584,104.508646 33.5071615,104.445936 42.3840506,102.501949 C47.1985392,101.436519 50.4494597,96.920825 49.949318,92.0301299 L44.2595816,40.1062354 C43.5725121,32.6438334 37.3207415,27 29.8186169,27 L27.8180503,27 C20.4409609,27 14.2510827,32.5811242 13.37646,39.9181074"}),o("path",{fill:"#4F5256",d:"M27.5485698,14 C27.0827688,14 26.8155495,14.516129 27.1487406,14.9032258 C27.6158747,15.483871 28.2822568,16 29.0146107,16 C29.7482977,16 30.4146799,15.483871 30.8804808,14.9032258 C31.1470338,14.5806452 30.9477857,14 30.4806516,14 L27.5485698,14 Z"})))),o("g",{transform:"translate(114 16)"},void 0,o("mask",{id:"tooltip-voice-panel-d",fill:"#fff"},void 0,o("circle",{id:"tooltip-voice-panel-c",cx:"12",cy:"12",r:"12"})),o("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"12",cy:"12",r:"12"}),o("g",{mask:"url(#tooltip-voice-panel-d)"},void 0,o("g",{transform:"translate(2)"},void 0,o("path",{fill:"#A38069",d:"M2.719586,9.57393518 C2.50247994,9.57393518 2.32879504,9.74759964 2.32879504,9.96468008 L2.32879504,41.5286221 C2.32879504,41.7457026 2.50247994,41.9189328 2.719586,41.9189328 C2.93669206,41.9189328 3.11037696,41.7457026 3.11037696,41.5286221 L3.11037696,9.96468008 C3.11037696,9.74759964 2.93669206,9.57393518 2.719586,9.57393518"}),o("path",{fill:"#FF966C",d:"M2.3881669,11.1338325 L0.694739334,9.44060439 C0.434212116,9.18010796 -7.08988424e-13,9.35377216 -7.08988424e-13,9.70110108 L-7.08988424e-13,10.6562553 C-7.08988424e-13,10.7430876 -7.08988424e-13,10.7865038 0.0434211599,10.8299198 L0.781581913,12.1758189 L-7.01634164e-13,11.5679936 L-7.01634164e-13,12.3494834 C-7.01634164e-13,12.5665641 0.0868423197,12.7402283 0.217106058,12.9138927 L2.34474574,15.041282 L2.34474574,11.1338325 L2.3881669,11.1338325 Z"}),o("path",{fill:"#D8B39A",d:"M0.910073179,44.5285653 L7.2495708,44.5285653 C7.5969406,44.5285653 7.90088897,44.2250868 7.90088897,43.8773237 L7.90088897,15.9177869 C7.90088897,15.5700238 7.5969406,15.2665453 7.2495708,15.2665453 L0.910073179,15.2665453 C0.562703383,15.2665453 0.258755005,15.5700238 0.258755005,15.9177869 L0.258755005,43.8773237 C0.258755005,44.2250868 0.562703383,44.5285653 0.910073179,44.5285653"}),o("polyline",{fill:"#A38069",points:".259 23.451 7.901 23.451 7.901 18.372 .259 18.372"}),o("polyline",{fill:"#937260",points:".259 21.701 7.901 21.701 7.901 20.442 .259 20.442"}),o("path",{fill:"#8FD171",d:"M2.32879504,42.4918014 L20.565706,42.4918014 L19.5235969,25.2985899 C19.3933331,22.9979707 17.4827995,21.2179104 15.1814752,21.2179104 L6.88802278,21.2179104 C5.06433174,21.2179104 3.54458907,22.6506418 3.41432533,24.4741181 L2.32879504,42.4918014 Z"}),o("path",{fill:"#E5D5C7",d:"M11.6129601,23.7344273 C12.611648,23.7344273 13.3498088,22.9529375 13.3498088,21.9977832 L13.3498088,16.7444346 C13.3498088,15.7892803 12.5682269,15.0077903 11.6129601,15.0077903 L11.5695389,15.0077903 C10.6142721,15.0077903 9.83269019,15.7892803 9.83269019,16.7444346 L9.83269019,21.9977832 C9.91953251,22.9529375 10.7011144,23.7344273 11.6129601,23.7344273"}),o("path",{fill:"#F9E2CF",d:"M11.6900548,19.6952366 L12.4716367,19.6952366 C16.2058614,19.6952366 19.2453465,16.6561094 19.2453465,12.9223244 L19.2453465,5.36792234 C19.2453465,3.67469427 17.8992887,2.32879504 16.2058614,2.32879504 L7.95583016,2.32879504 C6.30582402,2.32879504 4.91634509,3.67469427 4.91634509,5.36792234 L4.91634509,12.9223244 C4.91634509,16.6561094 7.95583016,19.6952366 11.6900548,19.6952366"}),o("path",{fill:"#4F5256",d:"M17.4287445,9.83269019 C17.9081148,9.83269019 18.297169,10.2212644 18.297169,10.7010122 C18.297169,11.1803261 17.9081148,11.5693345 17.4287445,11.5693345 C16.9493745,11.5693345 16.5603203,11.1803261 16.5603203,10.7010122 C16.5603203,10.2212644 16.9493745,9.83269019 17.4287445,9.83269019"}),o("path",{fill:"#FFC44D",d:"M7.44718174,1.77635684e-15 L19.3011739,1.77635684e-15 C20.9946012,1.77635684e-15 22.3840801,1.38931534 22.3840801,3.08254341 C22.3840801,4.77577147 20.9946012,6.16508681 19.3011739,6.16508681 L8.61955461,6.16508681 C7.40376058,6.16508681 6.44849377,7.12024106 6.44849377,8.335892 L6.44849377,14.978556 C6.44849377,15.7600458 5.92743907,16.4981196 5.14585716,16.6717841 C4.06032687,16.8888645 3.10506006,16.0639585 3.10506006,15.021972 L3.10506006,4.34161043 C3.10506006,1.9537247 5.05901484,1.77635684e-15 7.44718174,1.77635684e-15"}),o("path",{fill:"#4F5256",d:"M10.9598697,9.83269019 C11.4392397,9.83269019 11.8282939,10.2212644 11.8282939,10.7010122 C11.8282939,11.1803261 11.4392397,11.5693345 10.9598697,11.5693345 C10.4804994,11.5693345 10.0914452,11.1803261 10.0914452,10.7010122 C10.0914452,10.2212644 10.4804994,9.83269019 10.9598697,9.83269019"}),o("path",{fill:"#F9E2CF",d:"M6.31950461,9.83269019 L5.7116076,9.83269019 C4.79976194,9.83269019 3.97475887,10.4839318 3.88791629,11.39567 C3.80107397,12.4376565 4.58265589,13.3059785 5.62476502,13.3059785 L6.31950461,13.3059785 C6.58003183,13.3059785 6.75371673,13.1323141 6.75371673,12.8718177 L6.75371673,10.2668513 C6.75371673,10.0497709 6.58003183,9.83269019 6.31950461,9.83269019"}),o("path",{fill:"#E5D5C7",d:"M6.95182555,10.8677102 L6.3873497,10.8677102 C5.99655874,10.8677102 5.69261011,11.1716229 5.69261011,11.5623678 C5.69261011,11.9531127 5.99655874,12.2570253 6.3873497,12.2570253 L6.95182555,12.2570253 L6.95182555,10.8677102 Z"}),o("path",{fill:"#FFC44D",fillRule:"nonzero",d:"M9.36214602,8.84979429 L11.6634703,8.84979429 C11.967419,8.84979429 12.2279462,8.58929787 12.2279462,8.28538494 L12.2279462,8.15513672 C12.2279462,7.85122405 11.967419,7.59072737 11.6634703,7.59072737 L9.36214602,7.59072737 C9.05819738,7.59072737 8.79767017,7.85122405 8.79767017,8.15513672 L8.79767017,8.24196895 C8.79767017,8.58929787 9.05819738,8.84979429 9.36214602,8.84979429 M17.4817831,8.84979429 L18.7409986,8.84979429 C19.0015258,8.84979429 19.2186318,8.63271385 19.2186318,8.37221717 L19.2186318,7.98147227 C19.2186318,7.72097558 19.0015258,7.50389514 18.7409986,7.50389514 L17.4817831,7.50389514 C17.2212559,7.50389514 17.0041498,7.72097558 17.0041498,7.98147227 L17.0041498,8.37221717 C17.047571,8.63271385 17.2212559,8.84979429 17.4817831,8.84979429"}),o("path",{fill:"#4F5256",d:"M3.28721536,36.8511912 L3.37405794,36.8511912 C16.3570016,34.1598269 16.9648986,21.2652439 16.9648986,21.1345613 C16.9648986,20.8740648 16.7912137,20.7004004 16.5306865,20.7004004 C16.3135804,20.7004004 16.0964743,20.8740648 16.0964743,21.1345613 C16.0964743,21.6555546 15.5319985,33.5085853 3.20037304,36.0267194 C2.98326698,36.0697012 2.80958209,36.2867819 2.85300325,36.5477125 C2.89642441,36.7209428 3.0701093,36.8511912 3.28721536,36.8511912"}),o("path",{fill:"#FFF",d:"M14.3688781,15.0234649 C15.0201963,15.0234649 15.541251,14.5024715 15.541251,13.8512299 C15.541251,13.1999884 15.0201963,12.6789952 14.3688781,12.6789952 C13.7175599,12.6789952 13.1965052,13.1999884 13.1965052,13.8512299 C13.1965052,14.5024715 13.7175599,15.0234649 14.3688781,15.0234649"})))),o("g",{transform:"translate(132 43)"},void 0,o("mask",{id:"tooltip-voice-panel-f",fill:"#fff"},void 0,o("circle",{id:"tooltip-voice-panel-e",cx:"15",cy:"15",r:"15"})),o("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"15",cy:"15",r:"15"}),o("g",{mask:"url(#tooltip-voice-panel-f)"},void 0,o("g",{transform:"translate(-4 -9)"},void 0,o("path",{fill:"#495672",d:"M18.8037601,4.97695346 L12.7382853,8.66539356 C11.5979688,9.36492532 10.1568106,8.91976873 9.49627954,7.77508042 L9.31553454,7.45711145 C8.6556039,6.24882934 9.0759419,4.72257829 10.1568106,4.02304654 L16.2210845,0.334606435 C17.3626019,-0.364925316 18.8037601,0.0802312735 19.4642912,1.22491958 L19.6438353,1.54288855 C20.365015,2.75117066 19.9440765,4.34101551 18.8037601,4.97695346"}),o("path",{fill:"#4F5256",d:"M19,39 C24.4999999,39 29,34.5243244 29,29.0540543 L29,23.4594595 C29,19.356757 25.6249999,16 21.5000001,16 L16.4999999,16 C12.3743751,16 9,19.356757 9,23.4594595 L9,29.0540543 C9,34.5243244 13.5000001,39 19,39"}),o("path",{fill:"#EBEFFC",fillRule:"nonzero",d:"M26.7039394,25.0000025 C27.4182921,24.9985029 27.9987038,25.6690013 27.9999978,26.4977501 C28.0012919,27.3257483 27.4228213,27.9984974 26.7084689,27.9999975 C25.9934691,28.0014976 25.4130575,27.3309987 25.4117634,26.503 C25.4104694,25.6742517 25.9895866,25.0015026 26.7039394,25.0000025 M18.2921781,25.0000025 C19.0065305,24.9985029 19.5869421,25.6690013 19.5882362,26.4977501 C19.5895302,27.3257483 19.01106,27.9984974 18.2967073,27.9999975 C17.5817075,28.0014976 17.0012962,27.3309987 17.0000022,26.5022499 C16.9987077,25.6742517 17.5778253,25.0015026 18.2921781,25.0000025"}),o("path",{fill:"#5D6989",d:"M18.9362105,0 C17.4210526,0 16.0309473,0.862170099 15.3993684,2.27859238 L7,21 L31,20.9384162 L22.5362107,2.27859238 C21.8421051,0.92375369 20.4519998,5.21582512e-15 18.9362105,5.21582512e-15"}),o("path",{fill:"#495672",fillRule:"nonzero",d:"M9.7162639,16.0601818 L7,21.9861096 L31,21.9255674 L28.2841125,16 M9.08467853,29 L11.7366836,29 C11.8004735,28.879068 11.8629999,28.8186022 11.8629999,28.6372041 L11.8629999,25.0092462 C11.8629999,24.6464507 11.6109993,24.4045868 11.2314194,24.4045868 L10.3478387,24.4045868 C9.02088905,24.4045868 7.82151834,25.3115763 7.6952021,26.5813613 C7.63141261,27.6697489 8.20046632,28.5767383 9.08467853,29"}),o("path",{fill:"#FFF24A",d:"M22.0812225,14.9629012 C21.3470286,14.1979998 20.9793194,13.3693566 20.7352001,12.4769717 C20.6128342,12.0307792 20.0615768,11.8395538 19.6950916,12.1582627 C18.1043373,13.7518073 17.4925089,16.2377368 18.4714343,18.532441 C19.5115429,21.0821123 22.2029766,22.4844314 24.7726563,21.8470135 C27.0976045,21.2733375 28.6889705,19.2973423 28.9948847,17.0026382 C29.0554557,16.4927039 28.566605,16.1102533 28.137713,16.3014786 C27.3429477,16.6201875 26.485776,16.8114128 25.4462793,16.6201875 C24.1608278,16.5564457 22.9989656,15.9190279 22.0812225,14.9629012"}),o("path",{fill:"#5D6989",fillRule:"nonzero",d:"M31.7916208,23.5208431 L5.45941283,23.5838644 C4.76913299,23.5838644 4.20549831,23.0166747 4.20549831,22.3234428 C4.20549831,21.6302106 4.76913299,21.0630209 5.45941283,21.0630209 L31.7916208,21 C32.4812741,21 33.0455357,21.5671897 33.0455357,22.2604216 C33.0455357,22.9536534 32.4812741,23.5208431 31.7916208,23.5208431 Z M35.7413266,89 C36.4936755,89 37.0579371,88.3061379 36.9952415,87.550515 L30.9137551,41.1039772 C30.4748851,38.0159444 27.8416644,35.6841644 24.7068777,35.6841644 L11.8542523,35.6841644 C8.65677001,35.6841644 6.02354891,38.0789653 5.64737463,41.2300194 L0.0047585194,87.550515 C-0.0579371321,88.3061379 0.506324479,88.9363488 1.25867342,88.9363488 L35.7413266,88.9363488 L35.7413266,89 Z"}),o("path",{fill:"#495672",d:"M27.8662395,61.7493215 C27.9911638,61.0614484 28.1801201,60.3735752 28.5567768,59.7482358 C29.0583582,58.872761 29.498419,57.9972858 30,57.121811 C17.4447739,54.5579199 15.3110134,43.1767452 15.2476096,42.6139399 C14.9971327,40.9255237 13.3643255,39.7373793 11.66937,40.0500489 C9.97504215,40.3001846 8.78229574,41.9260667 9.03340031,43.6144826 C9.97504215,49.4301379 14.9971327,59.8733037 27.5523589,63 C27.6151349,62.5622626 27.7406874,62.1245252 27.8662395,61.7493215"}),o("path",{fill:"#5D6989",d:"M28.7565605,30 L26.3684234,30 C25.7560802,30 25.2662061,30.4549333 25.1437373,31.1048373 L24.4089261,35.8491387 L22.4494287,35.8491387 L21.9595543,31.169828 C21.8983201,30.5199235 21.3472115,30 20.7348686,30 L9.22282158,30 C8.24307311,30 7.69196447,31.169828 8.18183889,32.0147035 L11.8558963,38.0588133 L19.142777,41.3083347 C19.0815427,42.3481813 20.1225254,43.2580475 21.1022743,42.9330951 C22.0207885,42.6081431 22.694366,42.0882196 23.18424,41.243344 C23.3067088,40.9833823 23.367943,40.7234209 23.367943,40.4634591 L27.9605147,38.0588133 L29.920012,31.7547418 C30.2261834,30.8448756 29.6138406,30 28.7565605,30"}),o("path",{fill:"#495672",d:"M8.62857135,35 L29.3714283,35 C29.7491999,35 30,35.2666664 30,35.6666665 L30,36.3333335 C30,36.7333336 29.7491999,37 29.3714283,37 L8.62857135,37 C8.25142862,37 8,36.7333336 8,36.3333335 L8,35.6666665 C8,35.2666664 8.31428568,35 8.62857135,35"})))),o("g",{transform:"translate(74 6)"},void 0,o("mask",{id:"tooltip-voice-panel-h",fill:"#fff"},void 0,o("circle",{id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"})),o("circle",{fill:"#4e5d94",fillRule:"nonzero",id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"}),o("g",{mask:"url(#tooltip-voice-panel-h)"},void 0,o("g",{transform:"translate(1)"},void 0,o("path",{fill:"#5C8F9E",d:"M10.8000001,28 L9,28 C5.70000004,28 3,30.5961539 3,33.7692307 L3,35.8461539 C3,36.4807693 3.54000001,37 4.20000021,37 L12,37 L12,29.1538461 C12,28.5192307 11.46,28 10.8000001,28"}),o("path",{fill:"#E5D5C7",d:"M15.9753085,33 C14.839506,33 14,31.9199998 14,30.5999999 L14,23.4000001 C14,22.0799999 14.888889,21 15.9753085,21 L16.0246915,21 C17.111111,21 18,22.0799999 18,23.4000001 L18,30.66 C17.9506173,31.9199998 17.0617284,33 15.9753085,33"}),o("path",{fill:"#5C8F9E",d:"M6.21666659,27 C4.99166678,27 4,26.04375 4,24.8624999 L4,9 L11,9 L8.37499991,25.1999999 C8.20000014,26.26875 7.26666662,27 6.21666659,27"}),o("path",{fill:"#F9E2CF",d:"M16.5454547,27 L15.4545456,27 C10.2424244,27 6,22.7999998 6,17.6399999 L6,9.59999997 C6,5.94000001 9.03030301,3 12.6666669,3 L19.3333335,3 C22.969697,3 26,5.94000001 26,9.59999997 L26,17.6399999 C26,22.7999998 21.7575756,27 16.5454547,27"}),o("path",{fill:"#80B1C7",d:"M29,8.21739129 L29,24.7695651 C29,26.0021739 27.9744779,27 26.7076564,27 L24.2946636,27 C23.1484917,27 22.2436194,26.1782607 22.0626451,25.1217391 L20.1322504,13.147826 C19.9512761,12.0326087 18.925754,11.1521739 17.7192576,11.1521739 L3,11.1521739 L3,8.21739129 C3,3.69782608 6.80046408,0 11.4454757,0 L20.4941996,0 C25.1995359,0 29,3.69782608 29,8.21739129"}),o("path",{fill:"#E5D5C7",d:"M14.2051284,17 L10.7948716,17 C9.7777775,17 9,16.1860465 9,15.255814 L9,13.7441861 C9,12.755814 9.7777775,12 10.7948716,12 L14.2051284,12 C15.2222221,12 16,12.755814 16,13.7441861 L16,15.255814 C16,16.244186 15.1623932,17 14.2051284,17"}),o("path",{fill:"#A2C9D6",d:"M26,16 L4.16751289,16 C3.52538072,16 3,15.4508087 3,14.7795749 L3,10.6301294 C3,8.49438551 4.05076143,6.54170531 5.74365504,5.44332271 L9.24619302,3.18553623 C9.53807116,3.00247249 9.88832485,2.94145122 10.180203,3.06349373 L21.7969543,6.54170531 C24.3071064,7.27396041 26,9.71481062 26,12.3997459 L26,16 Z"}),o("path",{fill:"#B2DBE8",d:"M25,13 C26.6565997,13 28,14.3434 28,16 C28,17.6572 26.6565997,19 25,19 C23.3428,19 22,17.6572 22,16 C22,14.3434 23.3428,13 25,13"}),o("path",{fill:"#80B1C7",d:"M25.5000002,14 C26.3279999,14 27,14.672 27,15.5 C27,16.32875 26.3279999,17 25.5000002,17 C24.6720001,17 24,16.32875 24,15.5 C24,14.672 24.6720001,14 25.5000002,14"}),o("path",{fill:"#FFF",d:"M14.0435392,21 L10.9514208,21 C10.4162465,21 10,20.5625001 10,20.0000001 C10,19.4375002 10.4162465,19 10.9514208,19 L14.0435392,19 C14.5787135,19 14.9949599,19.4375002 14.9949599,20.0000001 C15.0544237,20.5625001 14.5787135,21 14.0435392,21"}),o("path",{fill:"#80B1C7",fillRule:"nonzero",d:"M4.73758608,15 C4.34042422,15 4,14.6307692 4,14.2 L4,9.64615387 C4,9.21538461 4.34042422,8.84615387 4.73758608,8.84615387 C5.13474761,8.84615387 5.47517216,9.21538461 5.47517216,9.64615387 L5.47517216,14.2 C5.41843485,14.6307692 5.13474761,15 4.73758608,15 M7.63124956,15 C7.23408769,15 6.89366348,14.6307692 6.89366348,14.2 L6.89366348,7.8 C6.89366348,7.36923078 7.23408769,7 7.63124956,7 C8.02841109,7 8.36883564,7.36923078 8.36883564,7.8 L8.36883564,14.2 C8.36883564,14.6307692 8.02841109,15 7.63124956,15 M10.5246294,15 C10.1274675,15 9.78704328,14.6307692 9.78704328,14.2 L9.78704328,7.8 C9.78704328,7.36923078 10.1274675,7 10.5246294,7 C10.9217909,7 11.2622154,7.36923078 11.2622154,7.8 L11.2622154,14.2 C11.2622154,14.6307692 10.9217909,15 10.5246294,15 M13.4182928,15 C13.021131,15 12.6807068,14.6307692 12.6807068,14.2 L12.6807068,9.03076922 C12.6807068,8.6 13.021131,8.23076922 13.4182928,8.23076922 C13.8154544,8.23076922 14.1558789,8.6 14.1558789,9.03076922 L14.1558789,14.2 C14.1558789,14.6307692 13.8154544,15 13.4182928,15 M16.3687504,15 C15.9715886,15 15.6311644,14.6307692 15.6311644,14.2 L15.6311644,9.64615387 C15.6311644,9.21538461 15.9715886,8.84615387 16.3687504,8.84615387 C16.765912,8.84615387 17.1063365,9.21538461 17.1063365,9.64615387 L17.1063365,14.2 C17.0495989,14.6307692 16.765912,15 16.3687504,15 M19.2624139,15 C18.8652521,15 18.5248278,14.6307692 18.5248278,14.2 L18.5248278,10.8769231 C18.5248278,10.4461539 18.8652521,10.0769231 19.2624139,10.0769231 C19.6595754,10.0769231 20,10.4461539 20,10.8769231 L20,14.2 C20,14.6307692 19.6595754,15 19.2624139,15"}),o("path",{fill:"#A2C9D6",d:"M28.3999997,58.0901014 L16.0399998,64.8525333 C15.62,65.0843056 15.08,65.0259292 14.7199998,64.7953129 L5.48000009,58.0901014 C5.18000012,57.8594852 5,57.512116 5,57.1653246 L5,35.7798562 C5,32.6009354 7.70000004,30 11,30 L23,30 C26.3,30 29,32.6009354 29,35.7798562 L29,57.0497274 C29,57.512116 28.76,57.8594852 28.3999997,58.0901014"}),o("path",{fill:"#80B1C7",d:"M2.91125019,62 C2.21592543,62 1.57854406,61.7622661 0.999106569,61.2867982 C-0.217712152,60.2169959 -0.333599636,58.3151248 0.709387824,57.0670221 L23.8868874,30.0247935 C24.9298749,28.7766905 26.7840749,28.6578236 28.0008934,29.7276259 C29.2177122,30.7974286 29.3335996,32.6992994 28.2906121,33.9474023 L5.11311287,60.989631 C4.53367511,61.7028328 3.72246265,62 2.91125019,62"}),o("path",{fill:"#5C8F9E",fillRule:"nonzero",d:"M14.5420405,41.907808 L12,44.8522698 C13.4779305,46.1751438 14.8967438,47.5569193 16.2564399,49 L18.9167151,45.8746273 C17.4979018,44.5517533 16.019971,43.2294803 14.5420405,41.907808 M26.6610717,38.1211187 L20.9858181,33.5532663 C20.2172941,32.952233 20.0990598,31.8102698 20.690232,31.0289267 L21.3996385,30.0672737 C23.2322725,27.7232442 26.542837,27.302521 28.848409,29.1657239 L28.9666433,29.2859305 C31.2722152,31.1491333 31.6860356,34.5149193 29.8534019,36.8589488 L29.1439951,37.8206018 C28.5528229,38.601945 27.4295957,38.7221517 26.6610717,38.1211187"}),o("path",{fill:"#5C8F9E",d:"M21.4135821,45.8841771 L15.9520674,52.2048348 C15.0897227,53.1685849 13.6524821,53.2889781 12.6751582,52.3860273 L11.1804277,51.0009001 C10.9504691,50.7607151 10.9504691,50.3989325 11.1229382,50.1587475 L18.9415281,41.1888313 C19.1714867,40.9480443 19.5164243,40.9480443 19.7463829,41.1292364 L21.2411134,42.5131596 C22.1609474,43.3565158 22.2759268,44.9210291 21.4135821,45.8841771"})))))),c=function(e){var t=e.userAvatar;return o("div",{className:s.default.container},void 0,o("div",{className:s.default.avatar},void 0,o(l.AvatarImage,{src:t,size:l.AvatarSizes.XLARGE})),f)};c.displayName="Media";var p=a.default.connectStores([i.default],function(){var e=i.default.getCurrentUser();return{userAvatar:e?e.getAvatarURL():u.DEFAULT_AVATARS[0]}})(c),h=o(p,{});t.default=function(){return h},e.exports=t.default},8137:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(4))),i=h(n(22)),l=h(n(845)),u=h(n(28)),s=h(n(15)),d=n(5979),f=h(n(6015)),c=n(82),p=h(n(5900));function h(e){return e&&e.__esModule?e:{default:e}}var y=o("g",{fill:"none",fillRule:"evenodd"},void 0,o("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),o("path",{fill:"#ACB0FF",d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),o("path",{fill:"#FFF",d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"}),o("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),o("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),o("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)"},void 0,o("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),o("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),o("circle",{cx:"18.5",cy:"2.5",r:"2.5"})),o("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#7289DA",fillRule:"nonzero",rx:"3"}),o("path",{fill:"#7289DA",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),o("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(23 19)"},void 0,o("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),o("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),o("circle",{cx:"18.5",cy:"2.5",r:"2.5"}))),m=function(e){var t=e.guild,n=e.channelAvatar,r=e.userAvatar,a=o(d.AvatarImage,{src:r,size:d.AvatarSizes.XLARGE}),i=null;return i=t?o(f.default,{guild:t}):n?o(d.AvatarImage,{src:n}):a,o("div",{className:p.default.container},void 0,o("div",{className:p.default.personAvatar},void 0,a),o("div",{className:p.default.guildAvatar},void 0,i),o("svg",{className:p.default.illustration,xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55"},void 0,y))};m.displayName="Media";var v=a.default.connectStores([u.default,l.default,s.default],function(){var e=u.default.getGuild(l.default.getGuildId()),t=null;if(null==e){var n=l.default.getChannelId(null),r=i.default.getChannel(n);t=r&&r.getIconURL()}var o=s.default.getCurrentUser();return{guild:e,channelAvatar:t,userAvatar:o?o.getAvatarURL():c.DEFAULT_AVATARS[0]}})(m),_=o(v,{});t.default=function(){return _},e.exports=t.default},8138:function(e,t,n){"use strict";t.__esModule=!0,t.getTutorialPopoutText=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=p(n(4));n(316);var l=p(n(28)),u=p(n(155)),s=p(n(306)),d=n(0),f=p(n(13)),c=p(n(5901));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.tutorialId,n=e.copyVersion;return f.default.Messages["TIP_"+t+"_BODY"+n].format({shareIcon:s.default.Names.INVITE,shareIconHook:function(){return o(s.default,{name:s.default.Names.INVITE,className:c.default.icon})}})},y=function(e){var t=e.tutorialId,n=e.copyVersion;return f.default.Messages["TIP_"+t+"_BODY"+n].format()},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.tutorialId,n=e.copyVersion,r=e.serverName;return f.default.Messages["TIP_"+t+"_BODY"+n].format({serverName:r})},t}(a.PureComponent);m.displayName="WritingMessagesBody";var v=i.default.connectStores([u.default],function(){var e=l.default.getGuild(u.default.getGuildId());return{serverName:null!=e?e.name:null}})(m);t.getTutorialPopoutText=function(e,t,n){var r=e.replace(/-/g,"_").toUpperCase(),a=null,i=null,l=!1;if(t!==d.Experiments.TUTORIAL_UI||n!==d.ExperimentBuckets.TREATMENT_1&&n!==d.ExperimentBuckets.TREATMENT_2)a=f.default.Messages["TIP_"+r+"_TITLE"],i=f.default.Messages["TIP_"+r+"_BODY"].format(),l="voice-channels"!==e;else switch(a=f.default.Messages["TIP_"+r+"_TITLE3"],e){case"writing-messages":i=o(v,{tutorialId:r,copyVersion:"3"});break;case"instant-invite":i=o(h,{tutorialId:r,copyVersion:"3"});break;case"organize-by-topic":i=o(y,{tutorialId:r,copyVersion:"3"}),l=!0;break;default:i=f.default.Messages["TIP_"+r+"_BODY3"].format()}return{title:a,body:i,isLongText:l}}},8139:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(R(n(2)),M(n(17))),i=M(n(308)),l=M(n(443)),u=M(n(99)),s=M(n(4)),d=M(n(80)),f=M(n(6119)),c=M(n(6172)),p=M(n(22)),h=M(n(6345)),y=M(n(854)),m=M(n(852)),v=M(n(153)),_=M(n(51)),E=M(n(155)),g=M(n(15)),S=R(n(6006)),T=M(n(225)),I=M(n(6390)),C=M(n(6093)),N=n(0),A=M(n(13)),O=M(n(5556)),b=M(n(5369));function M(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var P=(0,i.default)({displayName:"UploadArea",mixins:[s.default.StoreListenerMixin(p.default,y.default,_.default,E.default,v.default),l.default],getInitialState:function(){return{dragging:!1,requireConfirm:!0}},getStateFromStores:function(){var e=_.default.getChannelId(),t=p.default.getChannel(e);return{hasLayers:y.default.hasLayers(),channel:t,canAttachFiles:null!=t&&v.default.can(N.Permissions.ATTACH_FILES,t)}},componentDidMount:function(){document.body.addEventListener("dragover",this.handleDragOver,!1),document.body.addEventListener("drop",this.handleDragLeave,!1),u.default.findDOMNode(this).addEventListener("dragleave",this.handleDragLeave,!1),u.default.findDOMNode(this).addEventListener("drop",this.handleDrop,!1)},componentWillUnmount:function(){document.body.removeEventListener("dragover",this.handleDragOver,!1),document.body.removeEventListener("drop",this.handleDragLeave,!1),u.default.findDOMNode(this).removeEventListener("dragleave",this.handleDragLeave,!1),u.default.findDOMNode(this).removeEventListener("drop",this.handleDrop,!1),clearTimeout(this.dragOverTimeout)},render:function(){var e,t=this.state.dragging&&this.canDropFile(),n=A.default.Messages.UPLOAD_AREA_TITLE;this.state.requireConfirm||(n=A.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION);var r=null;return t&&(r=o("div",{},void 0,o("div",{className:(0,a.default)(O.default.sparkleWhite,b.default.sparkleOne)}),o("div",{className:(0,a.default)(O.default.sparkleWhite,b.default.sparkleTwo)}),o("div",{className:(0,a.default)(O.default.lightWhite,b.default.lightOne)}),o("div",{className:(0,a.default)(O.default.lightWhite,b.default.lightTwo)}),o("div",{className:(0,a.default)(O.default.crossWhite,b.default.crossOne)}),o("div",{className:(0,a.default)(O.default.crossWhite,b.default.crossTwo)}),o("div",{className:(0,a.default)(O.default.popWhite,b.default.popOne)}))),o("div",{className:(0,a.default)(b.default.uploadArea,(e={},e[b.default.uploadModalIn]=t,e))},void 0,o("div",{className:b.default.uploadDropModal},void 0,r,o("div",{className:b.default.bgScale}),o("div",{className:b.default.inner},void 0,o("div",{className:b.default.icons},void 0,o("div",{className:b.default.wrapOne},void 0,o("div",{className:(0,a.default)(b.default.icon,b.default.one)})),o("div",{className:b.default.wrapThree},void 0,o("div",{className:(0,a.default)(b.default.icon,b.default.three)})),o("div",{className:b.default.wrapTwo},void 0,o("div",{className:(0,a.default)(b.default.icon,b.default.two)}))),o("div",{className:b.default.title},void 0,n),o("div",{className:b.default.instructions},void 0,o("pre",{},void 0,A.default.Messages.UPLOAD_AREA_HELP)))))},canDropFile:function(){var e=this.state,t=e.channel,n=e.hasLayers,r=e.canAttachFiles;return t&&!n&&(t.isPrivate()&&!t.isManaged()||r&&h.default.canChatInGuild(E.default.getGuildId()))},isAllDropFiles:function(e){for(var t=0;t<e.length;t++)try{var n=e[t].webkitGetAsEntry()||e[t].getAsEntry();if(n&&!n.isFile)return!1}catch(e){continue}return!0},dragOverTimeout:null,preventUnwantedDrop:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.dataTransfer,r=n.types instanceof Array&&-1!==n.types.indexOf("text/uri-list")&&-1===n.types.indexOf("application/json"),o=null!=n.items&&!this.isAllDropFiles(n.items);return!r&&!o||(e.stopPropagation(),e.preventDefault(),n.effectAllowed="none",n.dropEffect="none",t&&(this.setState({dragging:!1}),d.default.push(C.default,{title:A.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:A.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP})),!1)},handleDragOver:function(e){var t=this;if(!this.preventUnwantedDrop(e))return!1;e.dataTransfer.dropEffect="move";var n=m.default.getModal();n&&n.modal===C.default&&d.default.pop(),e.stopPropagation(),e.preventDefault(),this.state.dragging?this.state.dragging&&e.shiftKey!==!this.state.requireConfirm&&this.setState({requireConfirm:!e.shiftKey}):(e.dataTransfer.types instanceof DOMStringList&&e.dataTransfer.types.contains("application/x-moz-file")||e.dataTransfer.types instanceof Array&&-1!==e.dataTransfer.types.indexOf("Files"))&&this.setState(function(t){return t.dragging?{}:{dragging:!0,requireConfirm:!e.shiftKey}}),clearTimeout(this.dragOverTimeout),this.dragOverTimeout=setTimeout(function(){t.setState({dragging:!1,requireConfirm:!0})},1e3)},handleDragLeave:function(e){this.state.dragging&&(e.stopPropagation(),e.preventDefault(),this.clearDragging())},clearDragging:function(){this.setState({dragging:!1,requireConfirm:!0})},handleDrop:function(e){if(!this.preventUnwantedDrop(e,!0))return!1;this.state.dragging&&(e.preventDefault(),e.stopPropagation(),this.canDropFile()&&this.promptToUpload(e.dataTransfer.files,this.state.channel.id,!0,this.state.requireConfirm),this.clearDragging())},promptToUpload:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(S.anyFileTooLarge(e)){var o=g.default.getCurrentUser();d.default.push(C.default,{title:A.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:A.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:S.sizeString(S.maxFileSize())}),promo:!T.default.canUploadLargeFiles(o)})}else r?(c.default.pushFiles({files:e,channelId:t}),m.default.isModalOpen(I.default)||d.default.push(I.default,{backdropInstant:n})):f.default.instantBatchUpload(t,e)}});t.default=P,e.exports=t.default},8140:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(6),l=(r=i)&&r.__esModule?r:{default:r};var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._animate=r._animate.bind(r),r._animationCleanup=r._animationCleanup.bind(r),r.state={shaking:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getDefaultAnimProps=function(e,t){var n=Date.now();return{duration:e||300,progress:0,last:n,intensity:t||5,lastDirection:-1,frameCount:0}},t.prototype.componentWillUnmount=function(){this._animationCleanup()},t.prototype.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t),this.state.shaking||this.setState({shaking:!0},this._animate)},t.prototype.stop=function(){this.state.shaking&&this.setState({shaking:!1})},t.prototype._animate=function(){var e=this.animProps;if(!this.state.shaking||e.progress>e.duration||!this.refs.SHAKEABLE_ELEMENT)this._animationComplete();else{var t=Date.now();if(e.progress+=t-e.last,e.last=t,e.frameCount%2){var n=e.lastDirection*e.intensity,r=l.default.random(-e.intensity,e.intensity,!0),o=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,o),e.lastDirection*=-1,this.refs.SHAKEABLE_ELEMENT.style.transform="translate3d("+n+"px,"+r+"px,0px)"}e.frameCount+=1,this._animationFrame=requestAnimationFrame(this._animate)}},t.prototype._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)},t.prototype._animationCleanup=function(){this.refs.SHAKEABLE_ELEMENT&&(this.refs.SHAKEABLE_ELEMENT.style.transform=""),cancelAnimationFrame(this._animationFrame)},t.prototype.render=function(){return a.createElement("div",o({},this.props,{ref:"SHAKEABLE_ELEMENT"}))},t}(a.Component);u.displayName="Shakeable",t.default=u,e.exports=t.default},8141:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),g(n(17))),i=g(n(308)),l=g(n(443)),u=g(n(310)),s=g(n(4)),d=g(n(6536)),f=g(n(6240)),c=g(n(463)),p=g(n(6621)),h=g(n(311)),y=g(n(6241)),m=g(n(9)),v=n(0),_=g(n(13)),E=g(n(5903));function g(e){return e&&e.__esModule?e:{default:e}}var S=(0,i.default)({displayName:"ConnectingModal",mixins:[s.default.StoreListenerMixin(c.default,p.default),l.default],videoRef:null,_noProblemsTimeout:null,getInitialState:function(){var e=f.default[Math.floor(Math.random()*f.default.length)],t=e[0],n=e[1],r=e[2],o=c.default.isConnected();return{ready:o,quote:t,author:n,type:r,hide:o,problems:!1,shouldRender:!o,opacity:new u.default.Value(o?0:1)}},getStateFromStores:function(){return{connected:c.default.isConnected(),incident:p.default.getIncident()}},componentDidMount:function(){this.setProblemsTimeout()},UNSAFE_componentWillUpdate:function(e,t){var n=this,r=this.state,o=t.connected&&t.ready&&!t.hide&&!t.problems;if(r.connected!==t.connected||o)if(t.connected&&null!=this.videoRef){var a=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout),this._noProblemsTimeout=setTimeout(function(){n.setState(function(e){return{problems:!1,hide:e.connected}})},a)}else this.setState({problems:!1,hide:t.connected});else r.hide!==t.hide?(t.hide?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),u.default.timing(t.opacity,{toValue:t.hide?0:1,duration:200}).start(function(){return n.setState({shouldRender:!n.state.hide})})):r.problems!==this.state.problems&&this.state.problems&&d.default.checkIncidents()},componentWillUnmount:function(){this.clearProblemsTimeout(),clearTimeout(this._noProblemsTimeout)},handleReady:function(){if(this.setState({ready:!0}),m.default.isDesktop()){var e=f.default.map(function(e){return e[0]});m.default.send("UPDATED_QUOTES",e)}},setVideoRef:function(e){this.videoRef=e},setProblemsTimeout:function(){var e=this;null==this._problemsTimeout&&(this._problemsTimeout=setTimeout(function(){return e.setState({problems:!0})},1e4))},clearProblemsTimeout:function(){clearTimeout(this._problemsTimeout),this._problemsTimeout=null},render:function(){if(this.state.shouldRender){var e,t=this.state.quote,n=this.state.connected?_.default.Messages.READY:_.default.Messages.CONNECTING;null!=this.state.incident&&(t=this.state.incident.name,n=this.state.incident.incident_updates[0].body);var r=void 0;switch(this.state.type){case"facebook":r=_.default.Messages.QUOTE_ATTRIBUTION_FACEBOOK.format({url:"https://www.facebook.com/discordapp/"});break;case"instagram":r=_.default.Messages.QUOTE_ATTRIBUTION_INSTAGRAM.format({url:"https://www.instagram.com/"+this.state.author+"/"});break;case"twitter":r=_.default.Messages.QUOTE_ATTRIBUTION.format({name:"@"+this.state.author,url:"https://twitter.com/"+this.state.author})}return r&&(r=o("div",{className:E.default.attribution},void 0,r)),o(u.default.div,{className:E.default.container,style:{opacity:this.state.opacity}},void 0,o("div",{className:E.default.content},void 0,o(y.default,{autoPlay:!0,loop:!this.state.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?E.default.ready:null}),o("div",{className:E.default.quote},void 0,t),r,o("div",{className:E.default.status},void 0,n)),o("div",{className:(0,a.default)(E.default.problems,(e={},e[E.default.slideIn]=this.state.problems,e))},void 0,o("div",{className:E.default.problemsText},void 0,_.default.Messages.CONNECTING_PROBLEMS_CTA),o("div",{},void 0,o(h.default,{className:E.default.twitterLink,href:"//twitter.com/discordapp",target:"_blank"},void 0,_.default.Messages.TWEET_US),o(h.default,{className:E.default.statusLink,href:v.STATUS_PAGE_ENDPOINT,target:"_blank"},void 0,_.default.Messages.SERVER_STATUS))))}return null}}),T=o(S,{}),I=(0,i.default)({displayName:"Connecting",mixins:[s.default.StoreListenerMixin(c.default),l.default],getStateFromStores:function(){return{isTryingToConnect:c.default.isTryingToConnect()}},render:function(){return this.state.isTryingToConnect?T:null}});t.default=I,e.exports=t.default},8142:function(e,t,n){"use strict";t.__esModule=!0;var r=j(n(4)),o=j(n(7115)),a=j(n(7128)),i=j(n(8143)),l=j(n(7129)),u=j(n(7131)),s=j(n(7133)),d=j(n(8146)),f=j(n(7134)),c=j(n(8155)),p=j(n(8158)),h=j(n(8161)),y=j(n(8162)),m=j(n(8163)),v=j(n(8164)),_=j(n(8167)),E=j(n(7137)),g=j(n(8168)),S=j(n(7306)),T=j(n(7140)),I=j(n(8181)),C=j(n(8185)),N=j(n(8190)),A=j(n(7142)),O=j(n(8196)),b=j(n(8198)),M=j(n(8204)),R=j(n(8206)),P=j(n(6590)),L=j(n(8208)),w=j(n(8210)),D=j(n(7145)),U=j(n(8212)),k=j(n(8214)),G=j(n(8219)),x=j(n(7150)),F=j(n(7153));function j(e){return e&&e.__esModule?e:{default:e}}r.default.initialize();var B=[d.default,c.default,G.default,k.default,D.default,A.default,S.default,N.default,T.default,x.default,C.default,g.default,w.default,P.default,L.default,R.default,b.default,m.default,_.default,y.default,h.default,v.default,o.default,I.default,U.default,O.default,E.default,s.default,u.default,p.default,F.default,a.default,i.default,l.default,f.default,M.default];t.default=B,e.exports=t.default},8143:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=E(n(2)),i=_(n(4)),l=E(n(234)),u=n(8144),s=_(n(831)),d=_(n(8145)),f=_(n(15)),c=_(n(466)),p=_(n(18)),h=_(n(225)),y=_(n(6234)),m=n(0),v=_(n(13));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I="Premium Expiration without Payment Source",C=function(e){function t(){var n,r;g(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.goToSettings=function(){r.props.onClose(),s.default.open(m.UserSettingsSections.PREMIUM)},S(r,n)}return T(t,e),t.prototype.componentDidMount=function(){l.fetchSubscriptions(),p.default.track(m.AnalyticEvents.OPEN_MODAL,{type:I})},t.prototype.render=function(){var e=this.props,t=e.subscription,n=e.user,r=e.onClose;return null==t?null:null==t.plan?null:o(y.default,{},void 0,o(y.default.Header,{onClose:r},void 0,v.default.Messages.PREMIUM_EXPIRING_TITLE),o(y.default.Content,{type:y.default.Types.CANCEL},void 0,h.default.canInstallPremiumApplications(n)?v.default.Messages.PREMIUM_EXPIRING_BODY.format():v.default.Messages.PREMIUM_WITHOUT_GAMES_EXPIRING_BODY.format()),o(y.default.Footer,{primary:{onClick:this.goToSettings,label:v.default.Messages.PREMIUM_EXPIRING_GO_TO_SETTINGS}}))},t}(a.Component);C.displayName="PremiumExpirationModal";var N=i.default.connectStores([f.default,c.default],function(){return{subscription:c.default.getPremiumSubscription(),user:f.default.getCurrentUser()}})(C),A=function(e){function t(){return g(this,t),S(this,e.apply(this,arguments))}return T(t,e),t.prototype.close=function(){(0,u.closePremiumExpirationModal)(),p.default.track(m.AnalyticEvents.MODAL_DISMISSED,{type:I})},t.prototype.render=function(){return o(N,{onClose:this.close})},t}(a.Component);A.modalConfig={closable:!0,store:d.default},A.displayName="PremiumExpirationModalWrapper",t.default=A,e.exports=t.default},8144:function(e,t,n){"use strict";t.__esModule=!0,t.closePremiumExpirationModal=function(){a.default.dispatch({type:i.ActionTypes.PREMIUM_EXPIRATION_MODAL_CLOSE})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},8145:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=null,l=new Set;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){null!=e&&(l=new Set(e.dismissedSubscriptionIds))},t.prototype.isOpen=function(){return null!=i&&!l.has(i)},t.prototype.getState=function(){var e={};if(null!=l){var t=Array.from(l);t.length>0&&(e.dismissedSubscriptionIds=t)}return e},t}(r.default.PersistedStore);u.persistKey="PremiumExpirationModalStore",t.default=new u(o.default,{PREMIUM_EXPIRATION_MODAL_CLOSE:function(e){null!=i&&l.add(i)},CONNECTION_OPEN:function(e){i=e.expiringSubscriptionId}}),e.exports=t.default},8146:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=E(n(833)),l=n(7304),u=n(6586),s=E(u),d=E(n(128)),f=E(n(222)),c=E(n(6056)),p=E(n(8147)),h=E(n(8149)),y=E(n(8151)),m=E(n(8153)),v=E(n(13)),_=E(n(5660));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e){switch(null!=e?e[0]:null){case u.Pages.CLAIM:return{Component:p.default,buttonText:v.default.Messages.NUF_CLAIM_ACCOUNT_BUTTON,buttonLook:d.default.Looks.FILLED,buttonColor:d.default.Colors.BRAND};case u.Pages.JOIN:return{Component:m.default,buttonText:v.default.Messages.NUF_JOIN_SERVER_BUTTON,buttonLook:d.default.Looks.FILLED,buttonColor:d.default.Colors.BRAND};case u.Pages.CREATE:return{Component:h.default,buttonText:v.default.Messages.NUF_CREATE_SERVER_BUTTON,buttonLook:d.default.Looks.FILLED,buttonColor:d.default.Colors.BRAND};case u.Pages.DOWNLOAD:return{Component:y.default,buttonText:v.default.Messages.DONE,buttonLook:d.default.Looks.LINK,buttonColor:d.default.Colors.PRIMARY};default:return{Component:null,buttonText:null,buttonLook:null,buttonColor:null}}}var T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.state={submitting:!1},r.handleSubmit=function(e){e.preventDefault();var t=r.pageRef;if(null==t||"function"!=typeof t.submit)return console.warn("HomepageNUF: No valid ref");r.setState({submitting:!0},function(){t.submit().then(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.setState({submitting:!1},function(){return r.handlePageAdvance(!1,e||!1)})},function(){return r.setState({submitting:!1})})})},r.handleSkipClick=function(){r.handlePageAdvance(!0)},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePageAdvance=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.pages,r=this.props.page;null!=r&&null!=n&&((r+=t?2:1)>=n.length?(0,l.dismiss)(e):(0,l.nextStep)(e,t))},t.prototype.renderContent=function(){var e=this,t=this.props,n=t.page,r=t.pages;if(null==n||null==r)return null;var a=S(r[n]).Component;return null==a?null:o(a,{setRef:function(t){return e.pageRef=t}},r[n][0])},t.prototype.renderFooter=function(){var e=this.props,t=e.page,n=e.pages,r=e.progress,i=this.state.submitting;if(null==t||null==n)return null;var l=n[t];if(null==l)return null;var u=S(l),s=u.buttonText,f=u.buttonLook,p=u.buttonColor,h=void 0;return null!=s&&null!=f&&null!=p&&(h=o(d.default,{type:"submit",submitting:i,look:f,color:p},void 0,s)),o(a.Fragment,{},void 0,h,l[1]?o(d.default,{look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:this.handleSkipClick},void 0,v.default.Messages.SKIP):null,o("div",{className:_.default.progressContainer},void 0,o(c.default,{size:c.default.Sizes.LARGE,percent:100*r,className:_.default.progress,foregroundColor:"#8ea1e1",backgroundColor:"rgba(153,170,181,0.3)"})))},t.prototype.render=function(){return o(f.default,{size:_.default.size,className:_.default.modal,tag:"form",onSubmit:this.handleSubmit},void 0,o(i.default,{component:"div",className:_.default.pageSize},void 0,this.renderContent()),o(f.default.Footer,{},void 0,this.renderFooter()))},t}(a.PureComponent);T.modalConfig={store:s.default},T.displayName="HomepageNUF",t.default=T,e.exports=t.default},8147:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),p(n(17))),i=n(883),l=p(n(6586)),u=p(n(828)),s=p(n(448)),d=n(6792),f=p(n(13)),c=p(n(5351));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.state={email:"",password:"",errors:null,submitting:!1},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this;return new Promise(function(t,n){e.setState({submitting:!0,errors:null},function(){var r=e.state,o=r.email,a=r.password;(0,i.saveAccountRequest)({email:o,password:a}).then(function(){return t(!1)},function(t){null!=t&&null!=t.body||e.setState({submitting:!1,errors:{email:[f.default.Messages.NUF_CLAIM_ACCOUNT_GENERIC_ERROR]}}),e.setState({submitting:!1,errors:t.body},function(){return n(new Error("Invalid request"))})})})})},t.prototype.renderError=function(e){var t=this.state.errors;if(null==t)return null;var n=t[e];return null==n?null:Array.isArray(n)?n[0]:n},t.prototype.render=function(){var e=this,t=this.state,r=t.email,i=t.password,p=t.submitting,h=l.default.isTreatment1();return o(d.PageWrapper,{illustration:n(8148),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(d.Title,{className:(0,a.default)(c.default.marginBottom8,c.default.marginTop20)},void 0,f.default.Messages.NUF_CLAIM_ACCOUNT_TITLE),o(d.Text,{className:c.default.marginBottom20,tag:"div"},void 0,h?f.default.Messages.NUF_CLAIM_ACCOUNT_BODY_1:f.default.Messages.NUF_CLAIM_ACCOUNT_BODY_2),o(s.default,{title:f.default.Messages.FORM_LABEL_EMAIL,required:!0,className:c.default.marginBottom20},void 0,o(u.default,{autoFocus:!0,name:"email",disabled:p,value:r,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})}})),o(s.default,{title:f.default.Messages.FORM_LABEL_PASSWORD,required:!0},void 0,o(u.default,{name:"password",type:"password",error:this.renderError("password"),value:i,disabled:p,onChange:function(t){return e.setState({password:t})}})))},t}(d.AnimatedPage);y.displayName="PageClaim",t.default=y,e.exports=t.default},8148:function(e,t,n){e.exports=n.p+"873239c449fe63533f54170ece883300.svg"},8149:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(17))),i=h(n(8)),l=h(n(828)),u=h(n(448)),s=h(n(445)),d=n(6792),f=n(0),c=h(n(13)),p=h(n(5351));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.state={name:"",submitting:!1,hasError:!1},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.name;return""===(t=t.trim())?(this.setState({hasError:!0}),Promise.reject(new Error("Invalid guild name"))):new Promise(function(n,r){e.setState({submitting:!0,hasError:!1},function(){return i.default.post({url:f.Endpoints.GUILDS,body:{name:t}}).then(function(){return n(!1)},function(){e.setState({submitting:!1,hasError:!0}),r(new Error("Invalid guild name"))})})})},t.prototype.render=function(){var e=this,t=this.state,r=t.name,i=t.submitting,f=t.hasError;return o(d.PageWrapper,{illustration:n(8150),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(d.Title,{className:(0,a.default)(p.default.marginBottom8,p.default.marginTop20)},void 0,c.default.Messages.NUF_CREATE_SERVER_TITLE),o(d.Text,{className:p.default.marginBottom20},void 0,c.default.Messages.NUF_CREATE_SERVER_BODY.format()),o(u.default,{title:c.default.Messages.FORM_LABEL_SERVER_NAME,required:!0,className:p.default.marginBottom20},void 0,o(l.default,{autoFocus:!0,name:"name",type:"text",error:f?c.default.Messages.NUF_CREATE_SERVER_ERROR:null,disabled:i,value:r,className:p.default.marginBottom8,onChange:function(t){return e.setState({name:t})}}),f?null:o(s.default,{type:s.default.Types.DESCRIPTION},void 0,c.default.Messages.NUF_CREATE_SERVER_NOTE.format())))},t}(d.AnimatedPage);m.displayName="Create",t.default=m,e.exports=t.default},8150:function(e,t,n){e.exports=n.p+"c5a50044a5560b4796c72a1fb25bd7d4.svg"},8151:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),_(n(17))),i=_(n(32)),l=n(7304),u=_(n(507)),s=_(n(15)),d=_(n(128)),f=_(n(152)),c=_(n(18)),p=n(950),h=n(6792),y=n(0),m=_(n(13)),v=_(n(5351));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g={LINUX:"linux",OSX:"osx",WINDOWS:"win"};var S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.state={platform:function(){switch((i.default.os.family||"").replace(" ","").toLowerCase()){case"osx":return g.OSX;case"ubuntu":case"debian":case"fedora":case"redhat":case"suse":return g.LINUX;default:return g.WINDOWS}}()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.download=function(e,t){window.location=(0,p.makeDesktopDownloadURL)(e,!1,null!=t?t:null),u.default.disable(y.NoticeTypes.DOWNLOAD_NAG);var n=s.default.getCurrentUser();c.default.track(y.AnalyticEvents.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:null!=n&&n.isClaimed(),referring_location:"Homepage NUF"}),(0,l.dismiss)()},t.prototype.renderButtons=function(){var e=this,t=this.state.platform;return t!==g.LINUX?o(d.default,{color:d.default.Colors.GREEN,fullWidth:!0,onClick:function(){return e.download(t,null)}},void 0,m.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:function(e){switch(e){case g.OSX:return m.default.Messages.PLATFORM_MACOS;case g.LINUX:return m.default.Messages.PLATFORM_LINUX;default:return m.default.Messages.PLATFORM_WINDOWS}}(t)})):o(f.default,{},void 0,o(f.default.Child,{},void 0,o(d.default,{color:d.default.Colors.GREEN,onClick:function(){return e.download(t,"deb")}},void 0,m.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:m.default.Messages.DEB}))),o(f.default.Child,{},void 0,o(d.default,{color:d.default.Colors.GREEN,onClick:function(){return e.download(t,"tar.gz")}},void 0,m.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:m.default.Messages.TAR_GZ}))))},t.prototype.render=function(){return o(h.PageWrapper,{illustration:n(8152),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(h.Text,{className:(0,a.default)(v.default.marginBottom20,v.default.marginTop60)},void 0,m.default.Messages.NUF_DOWNLOAD_APP_INTRO),o(h.Title,{className:v.default.marginBottom8},void 0,m.default.Messages.NUF_DOWNLOAD_APP_TITLE),o(h.Text,{className:v.default.marginBottom20},void 0,m.default.Messages.NUF_DOWNLOAD_APP_BODY),this.renderButtons())},t}(h.AnimatedPage);S.displayName="Download",t.default=S,e.exports=t.default},8152:function(e,t,n){e.exports=n.p+"bbb28fd68faad10216c8da92d6bcca19.svg"},8153:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(17))),i=h(n(318)),l=h(n(6586)),u=h(n(828)),s=h(n(448)),d=h(n(445)),f=n(6792),c=h(n(13)),p=h(n(5351));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.state={code:null,invite:"",hasError:!1,submitting:!1},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.invite;if(""===(t=t.trim()))return this.setState({hasError:!0}),Promise.reject(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED));var n=t.split("/"),r=n[n.length-1];return new Promise(function(t,n){e.setState({code:r,submitting:!0,hasError:!1},function(){i.default.resolveInvite(r,"New Homepage NUF").then(function(r){var o=r.invite;null!=o?i.default.acceptInvite(o.code,{location:"New Homepage NUF"}).then(function(){null!=o.guild&&null!=o.channel&&(i.default.transitionToInvite(o),t(!0))},function(){return e.setState({submitting:!1,hasError:!0})}):(e.setState({submitting:!1,hasError:!0}),n(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED)))},function(){e.setState({submitting:!1,hasError:!0}),n(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED))})})})},t.prototype.render=function(){var e=this,t=this.state,r=t.invite,i=t.submitting,h=t.hasError,y=l.default.isTreatment1();return o(f.PageWrapper,{illustration:n(8154),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(f.Title,{className:(0,a.default)(p.default.marginBottom8,y?p.default.marginTop60:p.default.marginTop20)},void 0,y?c.default.Messages.NUF_JOIN_SERVER_TITLE_1:c.default.Messages.NUF_JOIN_SERVER_TITLE_2),o(f.Text,{className:p.default.marginBottom20},void 0,y?c.default.Messages.NUF_JOIN_SERVER_BODY_1:c.default.Messages.NUF_JOIN_SERVER_BODY_2.format()),o(s.default,{title:c.default.Messages.NUF_JOIN_SERVER_INPUT_LABEL,required:!0,className:p.default.marginBottom20},void 0,o(u.default,{autoFocus:!0,name:"invite",type:"text",error:h?c.default.Messages.INSTANT_INVITE_EXPIRED:null,disabled:i,value:r,className:p.default.marginBottom8,onChange:function(t){return e.setState({invite:t})}}),h?null:o(d.default,{type:d.default.Types.DESCRIPTION},void 0,c.default.Messages.NUF_JOIN_SERVER_INPUT_NOTE)))},t}(f.AnimatedPage);m.displayName="Join",t.default=m,e.exports=t.default},8154:function(e,t,n){e.exports=n.p+"a01bc277d210a4b92e3900e3871f986e.svg"},8155:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),m(n(308))),i=m(n(443)),l=m(n(4)),u=m(n(849)),s=m(n(7302)),d=n(883),f=m(n(8156)),c=m(n(7185)),p=m(n(15)),h=m(n(8157)),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"EmailVerificationModal",statics:{modalConfig:{store:f.default}},mixins:[l.default.LazyStoreListenerMixin(c.default,p.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getState(),t=e.claimed,n=e.errors,r=e.formState;return{user:p.default.getCurrentUser(),claimed:t,errors:n,submitting:r===y.FormStates.SUBMITTING}},render:function(){var e=this.state,t=e.claimed,n=e.submitting,r=e.user,a=this.getError("email"),i=this.getError("password");return o(h.default,{email:r.email,emailError:a,passwordError:i,submitting:n,canResend:!n&&t&&0===a.length&&0===i.length,onVerify:this.handleVerify,onResend:this.handleResend,onClose:this.close})},getError:function(e){var t=this.state.errors;return t&&t[e]?t[e]:""},handleVerify:function(e,t){var n=this.state.user,r=n.username,o=n.avatar;(0,d.saveAccountChanges)(r,e,t,o,null)},handleResend:function(){u.default.verifyResend()},close:function(){s.default.close()}});t.default=v,e.exports=t.default},8156:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=!1;function l(){i=!1}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return i},t}(r.default.Store);t.default=new u(o.default,{EMAIL_VERIFICATION_MODAL_OPEN:function(e){i=!0},EMAIL_VERIFICATION_MODAL_CLOSE:function(e){return l()},CURRENT_USER_UPDATE:function(e){e.user.verified&&l()}}),e.exports=t.default},8157:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(17)),l=g(n(6)),u=g(n(6135)),s=n(81),d=n(128),f=g(d),c=g(n(222)),p=g(n(828)),h=n(829),y=n(0),m=g(n(13)),v=g(n(317)),_=g(n(5351)),E=g(n(5904));function g(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._animItem=null,r._timeout=new s.Timeout,r.state={canResend:n.canResend,resent:!1,shouldClose:!1,email:"",password:""},l.default.bindAll(r,["setLottieRef","handleVerify","handleResendEmail","handleChangeEmailClick","handleEmailChange","handlePasswordChange","handleKeyPress"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n.e(232).then(function(t){var r=n(8366);e._animItem=u.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:r})}.bind(null,n)).catch(n.oe)},t.prototype.componentWillUnmount=function(){this._timeout.stop(),null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.canResend!==this.state.canResend&&this.setState({canResend:e.canResend})},t.prototype.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,i=a.email,l=a.password;return o("div",{className:E.default.container},void 0,o(h.FormItem,{title:m.default.Messages.FORM_LABEL_EMAIL,className:_.default.marginBottom20},void 0,o(p.default,{value:i,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),o(h.FormItem,{title:m.default.Messages.FORM_LABEL_PASSWORD,className:_.default.marginBottom40},void 0,o(p.default,{type:"password",value:l,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),o(f.default,{fullWidth:!0,size:f.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===i.length||0===l.length},void 0,m.default.Messages.VERIFY_ACCOUNT))},t.prototype.renderActions=function(){return o("div",{className:E.default.container},void 0,o(f.default,{className:_.default.marginTop20,fullWidth:!0,size:f.default.Sizes.LARGE,look:d.ButtonLooks.INVERTED,color:d.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,m.default.Messages.RESEND_EMAIL),o(f.default,{className:_.default.marginTop20,fullWidth:!0,size:f.default.Sizes.MEDIUM,look:d.ButtonLooks.LINK,color:d.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,m.default.Messages.CHANGE_EMAIL))},t.prototype.render=function(){var e=this.state,t=e.canResend,n=e.resent,r=this.props.email,l=void 0;return l=n&&null!=r?m.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:r}):t?m.default.Messages.VERIFY_EMAIL_BODY:m.default.Messages.ENTER_EMAIL_BODY,o(c.default,{className:(0,i.default)(E.default.emailVerificationModal,v.default.vertical,v.default.alignCenter,v.default.justifyCenter,_.default.marginTop60)},void 0,a.createElement("div",{className:E.default.animationContainer,ref:this.setLottieRef}),o("div",{className:(0,i.default)(E.default.title,_.default.marginBottom8)},void 0,m.default.Messages.VERIFY_BY_EMAIL),o("div",{className:(0,i.default)(E.default.body,_.default.marginBottom20)},void 0,l),t?this.renderActions():this.renderInputs())},t.prototype.setLottieRef=function(e){this._lottieRef=e},t.prototype.handleVerify=function(){(0,this.props.onVerify)(this.state.email,this.state.password)},t.prototype.handleResendEmail=function(){var e=this,t=this.props,n=t.onResend,r=t.onClose;n(),this.state.resent||(this.setState({resent:!0,shouldClose:!0}),this._timeout.start(3e3,function(){e.state.shouldClose&&r()}))},t.prototype.handleChangeEmailClick=function(){this.setState({canResend:!1,resent:!1,shouldClose:!1})},t.prototype.handleEmailChange=function(e){this.setState({email:e})},t.prototype.handlePasswordChange=function(e){this.setState({password:e})},t.prototype.handleKeyPress=function(e){var t=this.state,n=t.email,r=t.password;13===e.which&&n.length>0&&r.length>0&&(e.preventDefault(),this.handleVerify())},t}(a.PureComponent);S.defaultProps={canResend:!1,onVerify:function(e,t){},onResend:y.NOOP,onClose:y.NOOP},S.displayName="EmailVerificationModal",t.default=S,e.exports=t.default},8158:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=E(n(2)),i=E(n(8159)),l=_(n(8160)),u=_(n(128)),s=_(n(152)),d=_(n(222)),f=_(n(6007)),c=_(n(129)),p=_(n(110)),h=_(n(18)),y=n(0),m=_(n(13)),v=_(n(5905));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=Object.freeze({CERTIFIED:"New Audio Device Detected - Certified",NOT_CERTIFIED:"New Audio Device Detected - Not Certified"}),S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.confirm=function(){var e=r.props.device,t=r.state.devicePreference;null!=t&&i.setDevice(e.displayName,t,"New Audio Device Detected Modal")},r.cancel=function(){var e=r.props.device;i.ignoreDevice(e.displayName)},r.neverShow=function(){var e=r.props.certifiedDeviceMetadata;i.neverShowModal(),h.default.track(y.AnalyticEvents.MODAL_DISMISSED,{type:null!=e?g.CERTIFIED:g.NOT_CERTIFIED,dismiss_type:"permanent"})},r.handleConnectedDeviceType=function(e){var t=e.value;r.setState({devicePreference:t})},r.state={devicePreference:null!=n.device?function(e){switch(e){case y.ConnectedDeviceType.INPUT:return y.ConnectedDevicePreference.INPUT;case y.ConnectedDeviceType.OUTPUT:return y.ConnectedDevicePreference.OUTPUT;case y.ConnectedDeviceType.INPUT_AND_OUTPUT:return y.ConnectedDevicePreference.INPUT_AND_OUTPUT;default:return null}}(n.device.type):null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.track=function(){var e=this.props,t=e.certifiedDeviceMetadata,n=e.device;h.default.track(y.AnalyticEvents.OPEN_MODAL,{type:null!=t?g.CERTIFIED:g.NOT_CERTIFIED,device_name:null!=t?t.vendor.name+" "+t.model.name:n.displayName})},t.prototype.componentDidMount=function(){this.track()},t.prototype.componentDidUpdate=function(e){this.props.device.displayName!==e.device.displayName&&this.track()},t.prototype.renderBody=function(){var e=this.props,t=e.device,n=e.certifiedDeviceMetadata,r=this.state.devicePreference,i=void 0;switch(t.type){case y.ConnectedDeviceType.INPUT:i=null!=n?m.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_BODY.format({vendorName:n.vendor.name,modelName:n.model.name}):m.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_BODY.format({name:t.displayName});break;case y.ConnectedDeviceType.OUTPUT:i=null!=n?m.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_OUTPUT_BODY.format({vendorName:n.vendor.name,modelName:n.model.name}):m.default.Messages.CONNECTED_DEVICE_DETECTED_OUTPUT_BODY.format({name:t.displayName});break;default:i=o(a.Fragment,{},void 0,null!=n?m.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_AND_OUTPUT_BODY.format({vendorName:n.vendor.name,modelName:n.model.name}):m.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_AND_OUTPUT_BODY.format({name:t.displayName}),o(f.default,{value:r,className:v.default.options,onChange:this.handleConnectedDeviceType,options:[{name:m.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT_AND_OUTPUT,value:y.ConnectedDevicePreference.INPUT_AND_OUTPUT},{name:m.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT,value:y.ConnectedDevicePreference.INPUT},{name:m.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_OUTPUT,value:y.ConnectedDevicePreference.OUTPUT}]}))}return o(a.Fragment,{},t.displayName,i,o(u.default,{className:v.default.neverShow,look:u.default.Looks.LINK,colors:v.default.colorLink,onClick:this.neverShow},void 0,m.default.Messages.DONT_SHOW_AGAIN))},t.prototype.render=function(){var e=this.props.certifiedDeviceMetadata;return o(d.default,{},void 0,o(d.default.Header,{},void 0,o(p.default,{tag:p.default.Tags.H4},void 0,null!=e?m.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_TITLE:m.default.Messages.CONNECTED_DEVICE_DETECTED_TITLE)),o(d.default.Content,{},void 0,o(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,this.renderBody())),o(d.default.Footer,{},void 0,o(s.default,{justify:s.default.Justify.END},void 0,o(u.default,{color:u.default.Colors.PRIMARY,onClick:this.cancel,className:v.default.cancelButton},void 0,m.default.Messages.CONNECTED_DEVICE_DETECTED_CANCEL_BUTTON),o(u.default,{onClick:this.confirm},void 0,m.default.Messages.CONNECTED_DEVICE_DETECTED_CONFIRM_BUTTON))))},t}(a.Component);S.modalConfig={store:l.default},S.displayName="ConnectedDevice",t.default=S,e.exports=t.default},8159:function(e,t,n){"use strict";t.__esModule=!0,t.setDevice=function(e,t,n){a.default.dispatch({type:i.ActionTypes.CONNECTED_DEVICE_SET,displayName:e,connectedDevicePreference:t,location:n})},t.ignoreDevice=function(e){a.default.dispatch({type:i.ActionTypes.CONNECTED_DEVICE_IGNORE,displayName:e})},t.neverShowModal=function(){a.default.dispatch({type:i.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL})};var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},8160:function(e,t,n){"use strict";t.__esModule=!0;var r=h(n(6)),o=h(n(4)),a=n(57),i=h(n(1)),l=h(n(452)),u=n(9),s=h(u),d=h(n(485)),f=h(n(46)),c=h(n(35)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y={},m=y,v=new Set(["DisplayPort"]),_=!1,E={},g={},S={},T={id:null,justChanged:!1},I={id:null,justChanged:!1},C=/\(([^)]+)\)/;function N(e){if(s.default.getPlatform()===u.PlatformTypes.WINDOWS){var t=e.name.match(C);if(null!=t)return t[1]}return e.name}function A(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===p.ConnectedDeviceType.INPUT&&n===p.ConnectedDeviceType.OUTPUT||e.type===p.ConnectedDeviceType.OUTPUT&&n===p.ConnectedDeviceType.INPUT?{displayName:t,type:p.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.waitFor(f.default,c.default),m=e||y},t.prototype.getState=function(){return m},t.prototype.isOpen=function(){var e=f.default.getInputDeviceId(),t=f.default.getOutputDeviceId();if(m.neverShowModal||r.default.isEmpty(S))return!1;var n=N(f.default.getInputDevices()[e]),o=N(f.default.getOutputDevices()[t]);if(r.default.some(S,function(e){return v.has(e.displayName)||e.displayName===n||e.displayName===o}))return!1;var i=r.default.some(S,function(e){return d.default.isCertified(E[e.displayName])||d.default.isCertified(g[e.displayName])});return!((e===a.DEFAULT_DEVICE_ID&&T.justChanged||t===a.DEFAULT_DEVICE_ID&&I.justChanged)&&!i)&&null!=this.getProps().device},t.prototype.getProps=function(){var e=r.default.first(Object.keys(S)),t=void 0;return _&&null!=e&&(d.default.isCertified(E[e])?t=d.default.getCertifiedDevice(E[e]):d.default.isCertified(g[e])&&(t=d.default.getCertifiedDevice(g[e]))),{device:e?S[e]:null,certifiedDeviceMetadata:t}},t}(o.default.PersistedStore);O.persistKey="ConnectedDeviceStore",t.default=new O(i.default,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,o={};T.justChanged=!1,t.forEach(function(e){if(o[N(e)]=e.id,e.id===a.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==T.id&&(T.justChanged=!0),T.id=t}});var i={};if(I.justChanged=!1,n.forEach(function(e){if(i[N(e)]=e.id,e.id===a.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==I.id&&(I.justChanged=!0),I.id=t}}),!_)return E=o,g=i,void(_=!0);var l=Object.keys(E),u=Object.keys(o),s=Object.keys(g),d=Object.keys(i),f=r.default.difference(l,u),c=r.default.difference(s,d);return f.length>0||c.length>0?S={}:(r.default.difference(u,l).forEach(function(e){S[e]=A(S[e],e,p.ConnectedDeviceType.INPUT)}),r.default.difference(d,s).forEach(function(e){S[e]=A(S[e],e,p.ConnectedDeviceType.OUTPUT)})),!(r.default.isEqual(l,u)&&r.default.isEqual(s,d)||(E=o,g=i,0))},CONNECTED_DEVICE_SET:function(e){var t=e.displayName;!function(e,t,n){if(t===p.ConnectedDevicePreference.INPUT||t===p.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=E[e];null!=r&&i.default.wait(function(){return l.default.setInputDevice(r,n)})}if(t===p.ConnectedDevicePreference.OUTPUT||t===p.ConnectedDevicePreference.INPUT_AND_OUTPUT){var o=g[e];i.default.wait(function(){return l.default.setOutputDevice(o,n)})}}(t,e.connectedDevicePreference,e.location),delete S[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete S[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(e){return S={},void(m={neverShowModal:!0})}}),e.exports=t.default},8161:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(452)),l=d(n(46)),u=d(n(460)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.close=function(){i.default.interact()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{title:s.default.Messages.INTERACTION_REQUIRED_TITLE,body:s.default.Messages.INTERACTION_REQUIRED_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY})},t}(a.Component);c.modalConfig={store:l.default,isOpen:function(){return l.default.isInteractionRequired()}},c.displayName="InteractionRequired",t.default=c,e.exports=t.default},8162:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),u=v(n(136)),s=v(n(160)),d=v(n(22)),f=v(n(51)),c=v(n(846)),p=v(n(6100)),h=v(n(460)),y=n(0),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}u.default.register((0,c.default)(y.Experiments.LAST_SELECTED_VOICE_CHANNEL,"Last Selected Voice Channel",["Encourage users to reconnect to their last selected voice channel.","Control: No suggestion","Treatment 1: With suggestion"]),((a={})[y.ExperimentTypes.NONE]=function(){return null},a[y.ExperimentTypes.USER]=((o={})[y.ExperimentBuckets.CONTROL]=function(){return null},o[y.ExperimentBuckets.TREATMENT_1]=function(){return null},o),a));var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.channel;return i(h.default,{title:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_TITLE,body:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_BODY,onConfirmSecondary:function(){return s.default.clearVoiceChannel()},onConfirm:function(){return s.default.selectVoiceChannel(e.getGuildId(),e.id)},confirmText:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_YES.format({channelName:e.name}),minorText:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_NO})},t}(l.Component);_.modalConfig={stores:[f.default],isOpen:function(){var e=d.default.getChannel(f.default.getLastSelectedVoiceChannelId());if(null!=e&&null!=e.getGuildId()){var t=p.default.triggerFirstEligibleUserExperiment([y.Experiments.LAST_SELECTED_VOICE_CHANNEL]);return null!=t&&t.bucket===y.ExperimentBuckets.TREATMENT_1}return!1},getProps:function(){return{channel:d.default.getChannel(f.default.getLastSelectedVoiceChannelId())}}},_.displayName="LastSelectedVoiceChannel",t.default=_,e.exports=t.default},8163:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=h(n(7136)),l=h(n(46)),u=h(n(184)),s=h(n(64)),d=h(n(314)),f=h(n(460)),c=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(f.default,{title:p.default.Messages.PTT_PERMISSION_TITLE,body:p.default.Messages.PTT_PERMISSION_BODY.format({game:this.props.gameName}),minorText:p.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:function(){return i.default.clearPTTAdminWarning()},onConfirm:function(){return window.open(d.default.getArticleURL(c.HelpdeskArticles.PUSH_TO_TALK_ADMINISTRATOR_MODE),"_blank")},confirmText:p.default.Messages.HELP_DESK,iconUrl:n(929)})},t}(a.Component);y.modalConfig={stores:[s.default,l.default],isOpen:function(){var e=s.default.getVisibleGame();return null!=e&&e.elevated&&u.default.isConnected()&&l.default.getMode()===c.InputModes.PUSH_TO_TALK&&s.default.canShowAdminWarning},getProps:function(){var e=s.default.getVisibleGame();return{gameName:null!=e?e.name:null}}},y.displayName="PTTPermission",t.default=y,e.exports=t.default},8164:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(7136)),l=d(n(8165)),u=d(n(460)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.close=function(){i.default.clearSuppressWarning()},r.handleCloseForever=function(){i.default.clearSuppressWarning(!0)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=void 0,t=void 0;return l.default.isAFKChannel()?(e=s.default.Messages.SUPPRESSED_AFK_TITLE,t=s.default.Messages.SUPPRESSED_AFK_BODY):(e=s.default.Messages.SUPPRESSED,t=s.default.Messages.SUPPRESSED_PERMISSION_BODY),o(u.default,{title:e,body:t,onConfirm:this.close,confirmText:s.default.Messages.OKAY,minorText:s.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:this.handleCloseForever,iconUrl:n(8166)})},t}(a.Component);c.modalConfig={store:l.default,isOpen:function(){return l.default.shouldShowWarning()}},c.displayName="Suppressed",t.default=c,e.exports=t.default},8165:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(23)),a=u(n(1)),i=u(n(22)),l=u(n(28));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s="hideSuppressWarning",d=void 0,f=void 0,c=!1,p=!0,h=!1;var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){h=o.default.get(s)||h},t.prototype.isAFKChannel=function(){var e=i.default.getChannel(f);if(null==e)return!1;var t=l.default.getGuild(e.getGuildId());return null!=t&&e.id===t.afkChannelId},t.prototype.shouldShowWarning=function(){return!p},t}(r.default.Store);t.default=new y(a.default,{CONNECTION_OPEN:function(e){d=e.sessionId,c=!1},CONNECTION_CLOSED:function(e){return d=null,f=null,void(p=!0)},VOICE_STATE_UPDATE:function(e){if(d!==e.sessionId)return!1;c!==e.suppress&&(c=e.suppress,p=!c),f!==e.channelId&&(f=e.channelId,p=!c),(h||null==e.channelId)&&(p=!0)},PERMISSION_CLEAR_SUPPRESS_WARNING:function(e){var t=e.forever;p=!0,t&&(h=!0,o.default.set(s,h))}}),e.exports=t.default},8166:function(e,t,n){e.exports=n.p+"cc502480f93307f651a7f920a5e0a4bd.svg"},8167:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=d(n(7136)),l=d(n(982)),u=d(n(460)),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.close=function(){i.default.clearVADWarning()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{title:s.default.Messages.VAD_PERMISSION_TITLE,body:s.default.Messages.VAD_PERMISSION_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY,iconUrl:n(929)})},t}(a.Component);c.modalConfig={store:l.default,isOpen:function(){return l.default.shouldShowWarning()}},c.displayName="VADPermission",t.default=c,e.exports=t.default},8168:function(e,t,n){"use strict";var r;t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=E(n(159)),u=E(n(6072)),s=E(n(6238)),d=E(n(6379)),f=E(n(6060)),c=E(n(7305)),p=E(n(18)),h=E(n(8169)),y=E(n(8170)),m=E(n(8171)),v=n(0),_=E(n(5909));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(){u.default.close()}var T=(0,l.default)({SELECTION:null,GUILD_CREATE:null,GUILD_JOIN:null}),I=(0,l.default)({CREATE_GUILD:null,JOIN_GUILD:null,BACK:null}),C=((r={})[T.SELECTION]=function(e,t){return a(y.default,{nuf:null!=t&&t.nuf,onClick:function(t){t===v.CreateGuildModalScreens.CreateGuild?(p.default.track(v.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",location_section:v.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(I.CREATE_GUILD,{direction:1}),u.default.setScreen(v.CreateGuildModalScreens.CreateGuild)):t===v.CreateGuildModalScreens.JoinGuild&&(p.default.track(v.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",location_section:v.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(I.JOIN_GUILD,{direction:1}),u.default.setScreen(v.CreateGuildModalScreens.JoinGuild))}})},r[T.GUILD_JOIN]=function(e){return a(m.default,{onBack:function(){e(I.BACK,{direction:-1}),u.default.setScreen(v.CreateGuildModalScreens.Choose)},onJoin:S})},r[T.GUILD_CREATE]=function(e,t){return null==t?null:a(h.default,{onBack:function(){e(I.BACK,{direction:-1}),u.default.setScreen(v.CreateGuildModalScreens.Choose)},guild:t.guild,errors:t.errors,submitting:t.submitting})},r),N=function(e){function t(){var n,r,o,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return i=l=g(this,e.call.apply(e,[this].concat(s))),l.stateChart={id:"AddGuildModal",initial:l.getInitialSlide(),states:(a={},a[T.SELECTION]={on:(n={},n[I.CREATE_GUILD]=T.GUILD_CREATE,n[I.JOIN_GUILD]=T.GUILD_JOIN,n)},a[T.GUILD_CREATE]={on:(r={},r[I.BACK]=T.SELECTION,r)},a[T.GUILD_JOIN]={on:(o={},o[I.BACK]=T.SELECTION,o)},a)},g(l,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInitialSlide=function(){switch(this.props.screen){case v.CreateGuildModalScreens.CreateGuild:return T.GUILD_CREATE;case v.CreateGuildModalScreens.JoinGuild:return T.GUILD_JOIN;default:return T.SELECTION}},t.prototype.componentDidMount=function(){null==f.default.getRegions(null)&&s.default.fetchDefaultRegions()},t.prototype.close=function(){S()},t.prototype.render=function(){var e=this.props,t=e.nuf,n=e.guild,r=e.errors,o=e.submitting;return a("div",{className:"theme-light"},void 0,a(c.default,{className:_.default.wrapper,stateChart:this.stateChart,slideStates:C,extState:{nuf:t,guild:n,errors:r,submitting:o}}))},t}(i.PureComponent);N.modalConfig={store:d.default},N.displayName="AddGuildModal",t.default=N,e.exports=t.default},8169:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(17)),l=n(873),u=g(n(6072)),s=g(n(128)),d=g(n(152)),f=g(n(222)),c=g(n(828)),p=n(829),h=g(n(6571)),y=g(n(6401)),m=n(0),v=g(n(13)),_=g(n(5906)),E=g(n(5508));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.handleSubmit=function(e){e.preventDefault();var t=r.props.guild;u.default.createGuild(t.name,t.region,t.icon)},r.getError=function(e){var t=r.props.errors;return null!=t&&null!=t[e]?t[e]:null},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleNameChange=function(e){u.default.updateTemporaryGuild({name:e})},t.prototype.handleRegionChange=function(e){u.default.updateTemporaryGuild({region:e})},t.prototype.handleIconChange=function(e){u.default.updateTemporaryGuild({icon:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.guild,r=t.onBack,a=t.submitting,u=this.getError("name");return o(f.default,{tag:"form",onSubmit:this.handleSubmit,size:E.default.size,className:E.default.slide},void 0,o(f.default.Content,{className:E.default.slideBody,backgroundColor:m.Colors.WHITE},void 0,o("h5",{className:_.default.title},void 0,v.default.Messages.CREATE_SERVER_TITLE),o("p",{className:_.default.description},void 0,v.default.Messages.CREATE_SERVER_DESCRIPTION.format()),o(d.default,{className:_.default.formWrapper},void 0,o(d.default.Child,{grow:1.2,basis:0},void 0,o(l.SmartUID,{},void 0,function(t){var r;return o(p.FormItem,{tag:p.FormTitle.Tags.LABEL,htmlFor:t,title:v.default.Messages.FORM_LABEL_SERVER_NAME,titleClassName:(0,i.default)(_.default.label,(r={},r[_.default.error]=null!=u,r)),error:u},void 0,o(c.default,{id:t,value:n.name,inputClassName:_.default.input,onChange:e.handleNameChange,placeholder:v.default.Messages.FORM_PLACEHOLDER_SERVER_NAME,autoFocus:!0}))}),o(l.SmartUID,{},void 0,function(t){return o(p.FormItem,{tag:"label",htmlFor:t,title:v.default.Messages.FORM_LABEL_SERVER_REGION,className:_.default.regionSelectWrapper,titleClassName:_.default.label},void 0,o(y.default,{id:t,value:n.region,onChange:e.handleRegionChange}),o("div",{className:_.default.helpText},void 0,v.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:m.MarketingURLs.GUIDELINES})))})),o(d.default.Child,{wrap:!0,grow:1,basis:0},void 0,o(h.default,{name:n.name,icon:n.icon,onChange:this.handleIconChange,avatarClassName:_.default.avatar})))),o(f.default.Footer,{className:E.default.slideFooter},void 0,o(s.default,{type:"submit",onClick:this.handleSubmit,submitting:a},void 0,v.default.Messages.CREATE),o(d.default,{},void 0,o("button",{type:"button",className:E.default.cancelButton,onClick:r,disabled:a},void 0,v.default.Messages.BACK))))},t}(a.Component);T.displayName="CreateGuildSlide",t.default=T,e.exports=t.default},8170:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(4)),u=m(n(15)),s=m(n(221)),d=m(n(222)),f=n(109),c=n(0),p=m(n(13)),h=m(n(5907)),y=m(n(5508));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _={CREATE:h.default.create,JOIN:h.default.join},E=function(e){var t=e.type,n=e.onClick,r=void 0,a=void 0,l=void 0;switch(t){case _.CREATE:r=p.default.Messages.CREATE,a=p.default.Messages.CREATE_SERVER_BUTTON_BODY,l=p.default.Messages.CREATE_SERVER_BUTTON_CTA;break;case _.JOIN:r=p.default.Messages.JOIN,a=p.default.Messages.JOIN_SERVER_BUTTON_BODY,l=p.default.Messages.JOIN_SERVER_BUTTON_CTA;break;default:throw new Error("[CreateOrJoinSlide]: Invalid CardType")}return o(s.default,{className:(0,i.default)(h.default.action,t),onClick:n},void 0,o("div",{className:h.default.actionHeader},void 0,r),o("div",{className:h.default.actionBody},void 0,a),o("div",{className:h.default.actionIcon}),o("button",{className:h.default.actionButton,type:"button"},void 0,l))};E.displayName="GuildActionButton";var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.handleCreate=function(){(0,r.props.onClick)(c.CreateGuildModalScreens.CreateGuild)},r.handleJoin=function(){(0,r.props.onClick)(c.CreateGuildModalScreens.JoinGuild)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.ComponentDispatch.subscribe(c.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},t.prototype.componentWillUnmount=function(){f.ComponentDispatch.unsubscribe(c.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},t.prototype.render=function(){var e=this.props,t=e.nuf,n=e.currentUser,r=void 0;return r=t&&null!=n?p.default.Messages.NUF_TITLE.format({username:n.toString()}):p.default.Messages.CREATE_OR_JOIN_MODAL_HEADER,o(d.default,{size:y.default.size,className:y.default.slide},void 0,o(d.default.Content,{className:(0,i.default)(y.default.slideBody,h.default.slideBody),backgroundColor:c.Colors.WHITE},void 0,o("header",{className:h.default.header},void 0,r),o("div",{className:h.default.actions},void 0,o(E,{type:_.CREATE,onClick:this.handleCreate}),o(E,{type:_.JOIN,onClick:this.handleJoin}),o("div",{className:h.default.or},void 0,"or"))))},t}(a.PureComponent);g.displayName="CreateOrJoinGuildSlide",t.default=l.default.connectStores([u.default],function(){return{currentUser:u.default.getCurrentUser()}})(g),e.exports=t.default},8171:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(17)),l=n(873),u=v(n(318)),s=v(n(128)),d=v(n(152)),f=v(n(222)),c=v(n(828)),p=n(0),h=v(n(13)),y=v(n(5908)),m=v(n(5508));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r.state={value:"",submitting:!1,hasError:!1},r.handleTyped=function(e){r.setState({value:e,hasError:!1})},r.handleSubmit=function(e){e.preventDefault();var t=r.state.value.trim();if(""!==t){var n=t.split("/"),o=n[n.length-1];r.setState({submitting:!0,hasError:!1}),u.default.resolveInvite(o,"Join Guild Modal").then(function(e){var t=e.invite;if(null!=t){if(r.setState({submitting:!1}),null!=t.channel){var n=r.props.onJoin,o=u.default.getInviteContext("Join a Server Modal",t);u.default.acceptInvite(t.code,o,function(){n(),u.default.transitionToInvite(t)})}}else r.setState({submitting:!1,hasError:!0})},function(){r.setState({submitting:!1,hasError:!0})})}else r.setState({hasError:!0})},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getExamplePrefix=function(){var e=window.GLOBAL_ENV.INVITE_HOST,t="";return null==e&&(e=location.host,t=p.Routes.INVITE("")),location.protocol+"//"+e+t+"/"},t.prototype.render=function(){var e=this,t=this.props.onBack,n=this.state,r=n.hasError,a=n.value,u=n.submitting,v=this.getExamplePrefix();return o(f.default,{tag:"form",onSubmit:this.handleSubmit,size:m.default.size,className:m.default.slide},void 0,o(f.default.Content,{className:(0,i.default)(m.default.slideBody,y.default.slideBody),backgroundColor:p.Colors.WHITE},void 0,o("h5",{className:y.default.title},void 0,h.default.Messages.JOIN_SERVER_TITLE),o("div",{className:y.default.instructions},void 0,o("p",{className:y.default.description},void 0,h.default.Messages.JOIN_SERVER_DESCRIPTION),o("p",{className:y.default.sampleLink},void 0,v,"qJq5C"),o("p",{className:y.default.sampleLink},void 0,v,"discord-developers"),o("p",{className:y.default.sampleLink},void 0,"qJq5C")),o(l.SmartUID,{},void 0,function(t){var n;return o("div",{className:y.default.inputWrapper},void 0,o(c.default,{id:t,value:a,inputClassName:(0,i.default)(y.default.input,(n={},n[y.default.error]=r,n)),onChange:e.handleTyped,autoFocus:!0}),o("label",{htmlFor:t,className:y.default.inputLabel},void 0,o("span",{},void 0,h.default.Messages.FORM_LABEL_INSTANT_INVITE),r?o("span",{className:y.default.errorText},void 0,"(",h.default.Messages.INSTANT_INVITE_EXPIRED,")"):null))})),o(f.default.Footer,{className:m.default.slideFooter},void 0,o(s.default,{type:"submit",color:s.default.Colors.GREEN,disabled:this.state.submitting,submitting:u},void 0,h.default.Messages.JOIN),o(d.default,{},void 0,o("button",{type:"button",className:m.default.cancelButton,onClick:t,disabled:u},void 0,h.default.Messages.BACK))))},t}(a.Component);E.displayName="JoinGuildSlide",t.default=E,e.exports=t.default},8172:function(e,t){e.exports='---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "es-es"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS A CONTINUACIÓN {added marginTop}\n======================\n\n* **PSSST. ¡Discord ya tiene etiquetas de Spoiler!** Rodea cualquier texto con estas barras verticales \\|| tal que así \\|| para esconder información relevante. Funciona con texto, imágenes, emojis, etc.\n* **El indicador Móvil ha llegado al escritorio** así podrás resaltar la pequeñez del mundo en su devenir como si fueras una estrella gigante en órbita. O, simplemente ver si tus amigos están en el baño y no pueden unirse ahora mismo a la cola.\n* **¡El selector de GIFs ya está aquí!** Puedes buscar GIFs y marcarlos como favoritos, incluso puedes marcar como favoritos los que subas a Discord. No hay nada como la propia aprobación.\n* **La estimación de ancho de banda para videollamadas ha recibido un buen empujón.** Los que tengáis una buena conexión ya no veréis como vuestra videollamada se convierte en un juego de píxeles 2D improvisado.\n* **La navegación por teclado en el selector de GIFs está lista.** Ya no hace falta que busques el ratón, lo que te permitirá ahorrar energías. Disfruta de esas 5 calorías extra.\n* **También hemos añadido la navegación por teclado a la tienda.** ¡Que sean 10 calorías!\n* **Qué está sonando en la aplicación de Spotify Mobile está disponible para los usuarios de Android.** Sí, llevo escuchando la misma canción triste en bucle durante todo este tiempo, y no, no estoy bien.\n* **Ahora puedes darle la vuelta a la lista de emojis en los ajustes del servidor.** Pon los nuevos y vibrantes emojis en la parte de arriba y deja que los viejos se deslicen al fondo, donde quedarán cubiertos de polvo... y abandonados... como yo...\n\nYa estoy bien {fixed}\n======================\n\n* **Muchos enlaces de [regalo](https://discordapp.com/nitro) ya no rompen Discord.** Ahora puedes hacer que lluevan regalos como si un huracán se abrazara con el monzón bajo una tormenta sin que Discord huya despavorido.\n* **Pulsar la barra espaciadora mientras ves una foto ya no duplica la imagen.** P p e e r r d d ó ó n n.\n\nDe nuestra casa a la tuya {progress}\n======================\n\n* **Las Casas del Valor, la Brillantez y el Equilibrio de HypeSquad buscan nuevos reclutas.** [Únete en la app](https://discordapp.com/settings/hypesquad-online), rellena un pequeño cuestionario de personalidad y podrás ser elegido. Muestra tu Casa con una insignia única en el perfil, descubre más acerca de competiciones y promociones, y en general serás una persona más molona de lo que eras (o eso nos parece a nosotros).\n* **¿Quieres representar a Discord en el mundo real?** Como participante de Eventos de HypeSquad, podrás exponer con orgullo nuestro logo en tu torso en las convenciones locales. O, darle al club de juegos de tu universidad un chorropotrón de mercaderías y beneficios para el servidor siendo un Coordinador de Eventos de HypeSquad. [Solicita aquí](http://discordapp.com/hypesquad)!\n* **[Hazte Asociado de Discord.](https://discordapp.com/partners)** Si suministras dulces contenidos sobre juegos en la página de vídeos de tu barrio, te daremos una sudadera dope, beneficios para el servidor de tu comunidad y más.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "fr"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS EN VUE {added marginTop}\n======================\n\n* **PSSST. Discord a désormais des balises Spoiler !** Entourez n\'importe quel texte de ces barrières \\|| comme ça \\|| pour cacher toute information pertinente. Ça marche sur du texte, des images, des émojis, etc.\n* **L\'indicateur mobile est désormais disponible sur l\'application de bureau** pour que vous puissiez montrer à quel point le monde est petit pendant que vous vous baladez comme une énorme étoile tournant dans l\'espace. Ou juste pour voir si vos amis sont sur le trône et pas encore prêts à débuter la partie.\n* **Le sélecteur de GIFs est arrivé !** Vous pouvez rechercher et ajouter en favoris des tonnes de GIFs, et même ajouter en favoris ceux que vous mettez vous-même sur Discord ! On n\'est jamais mieux servi que par soi-même.\n* **Les estimations de bande passante pour les appels vidéos ont été améliorées.** Ceux qui ont une bonne connexion ne verront plus leurs appels vidéo se transformer en jeu 2D pixelisé improvisé.\n* **La navigation 100% clavier est disponible pour le sélecteur de GIFs.** Arrêtez de tendre le bras pour attraper votre souris et économisez vos forces ! Profitez bien de ces 5 calories supplémentaires.\n* **La navigation 100% clavier est également disponible dans la boutique.** On en est à 10 calories.\n* **L\'écoute Spotify pour mobile est désormais disponible sur Android.** Oui, j\'écoute la même bande sonore tristounette à répétition depuis que je suis sorti de chez moi. Non, ça va pas.\n* **Vous pouvez maintenant inverser votre liste d\'émojis dans les paramètres de votre serveur.** Mettez les émojis flambant neufs tout en haut et regardez vos vieux émojis sombrer vers le bas, où ils amasseront la poussière... oubliés... comme moi...\n\nBon, ça va mieux maintenant {fixed}\n======================\n\n* **Une multitude de liens [cadeaux](https://discordapp.com/nitro) ne fait plus planter Discord.** Vous pouvez maintenant faire pleuvoir des cadeaux comme une tempête au coeur d\'un ouragan pendant la mousson sans que Discord prenne peur.\n* **Appuyer sur la barre d\'espace pendant que vous regardez une image ne duplique plus cette dernière.** P P a a r r d d o o n n.\n\nDe notre maison à la vôtre {progress}\n======================\n\n* **Les maisons HypeSquad Bravery, Brilliance et Balance cherchent toujours de nouvelles recrues.** [Engagez-vous directement depuis l\'application](https://discordapp.com/settings/hypesquad-online) en remplissant un petit quiz de personnalité qui révélera votre maison idéale. Affichez votre allégeance avec un badge de profil unique, découvrez concours et promos, et devenez encore plus cool que vous ne l\'étiez avant (à nos yeux).\n* **Vous voulez représenter Discord dans la vraie vie ?** En tant que membre HypeSquad participant à des événements, affichez fièrement notre logo sur votre torse lors de vos conventions locales. Ou alors, offrez au club de jeux vidéo de votre université un gros tas de marchandise gratuite et profitez de bonus sur votre serveur en tant que créateur d\'événements HypeSquad. [Postulez ici](http://discordapp.com/hypesquad) !\n* **[Devenez un partenaire Discord.](https://discordapp.com/partners)** Vous fournissez le fabuleux contenu gaming sur la plate-forme de partage vidéo de votre choix, et nous vous fournirons un super hoodie, des avantages exclusifs pour le serveur de votre communauté, et plus encore !\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "de"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERWARNUNG {added marginTop}\n======================\n\n* **PSSST. Discord hat jetzt Spoiler-Tags!** Setzt einfach einen Text in diese Zaunpfosten, \\|| so wie hier \\||, um die eingefassten Informationen zu verbergen. Das funktioniert mit Text, Bildern, Emojis, etc.\n* **Der Mobile-App-Indikator wird jetzt in der Desktop-App angezeigt**, damit ihr zeigen könnt, wie klein die mobile Welt ist. Ein Floh auf dem Rücken eines gigantischen Planeten ... oder um einfach zu sehen, dass sich eure Freunde im Moment nicht anmelden können, weil sie gerade auf Toilette sind.\n* **Der GIF-Picker ist jetzt live!** Ihr könnt jetzt Unmengen an GIFs durchsuchen und favorisieren, sogar die, die ihr selbst hochgeladen habt. Nichts geht über etwas Selbstbeweihräucherung.\n* **Die Bandweiteneinschätzung für Video-Anrufe wurde verbessert.** Gute Verbindungen müssen nicht länger mit ansehen, wie ihr Anruf spontan zu einem 2D-Pixel-Spiel mutiert.\n* **Es ist möglich, den GIF-Picker ausschließlich über die Tastatur zu bedienen.** Hört auf ständig nach der Maus zu greifen und spart etwas Energie. Genießt diese 5 extra Kalorien.\n* **Tastatur-Navigation gibt es jetzt auch im Shop.** Das macht dann 10 Kalorien.\n* **"Was spielt gerade in Spotify" ist jetzt auch für Android-Nutzer live.** Ja, ich höre mir die ganze Zeit über denselben traurigen Soundtrack in Dauerschleife an. Nein, ich bin nicht OK.\n* **Ihr könnt eure Emoji-Liste jetzt in den Server-Einstellungen umkehren.** Setzt die schicken neuen Emojis ganz nach oben und seht zu, wie die alten zu Boden sinken, wo sie Staub ansetzen ... vergessen ... wie ich ...\n\nOK, es geht schon wieder {fixed}\n======================\n\n* **Mehrfache [Geschenk-Links](https://discordapp.com/nitro) machen Discord nicht länger kaputt.** Ihr könnt es jetzt Geschenke regnen lassen, als ob ein Wirbelsturm mit einem Monsun im Gewitter Händchen hält, ohne dass Discord sich ängstlich versteckt.\n* **Die Leertaste dupliziert nicht länger Bilder, die man sich gerade ansieht.** U u n n s s e e r r e e S s c c h h u u l l d d\n\nAus unserem Hause für eures {progress}\n======================\n\n* **Die HypeSquad-Häuser der Tapferkeit, Brillanz und Balance suchen immer neue Rekruten.** [Meldet euch über die App an](https://discordapp.com/settings/hypesquad-online), indem ihr einen kleinen Persönlichkeitstest ausfüllt und alles einrichtet. Zeigt stolz euer Haus mit einem einzigartigen Profilabzeichen, erfahrt mehr über Wettbewerbe und Giveaways und werdet zu viel cooleren Personen, als ihr es vorher wart (unsere Meinung).\n* **Wollt ihr Discord in der echten Welt repräsentieren?** Als HypeSquad-Eventteilnehmer könnt ihr unser Logo stolz an eurem Körper tragen und auf euren lokalen Conventions zeigen. Oder ihr besorgt eurem Gaming-Verein einen ganzen Sack voller kostenloser Geschenke und Server-Perks als HypeSquad-Eventkoordinator. [Meldet euch hier an](http://discordapp.com/hypesquad)!\n* **[Werdet Discord-Partner.](https://discordapp.com/partners)** Ihr zeigt eure Gaming-Inhalte auf einer lokalen nachbarschaftlichen Video-Webseite eurer Wahl, und wir statten euch mit einem supercoolen Hoodie, einzigartigen Server-Perks für eure Community und vielem mehr aus.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "pt-br"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS À FRENTE {added marginTop}\n======================\n\n* **PSSSIU. O Discord agora tem tags de Spoiler!** Coloque qualquer texto entre estas barras \\|| tipo assim \\|| para esconder qualquer informação pertinente. Funciona com texto, imagens, emojis, etc. Ótimo pra evitar que amiguinhos vejam sem querer a sua lista de novas Keyblades.\n* **O Indicador Mobile chegou na versão Desktop** assim você pode ver quais dos seus amigos não vão conseguir clicar em "Aceitar Partida" porque estão mexendo no celular sentados no troninho.\n* **O Seletor de GIFs está disponível!** Você pode procurar e favoritar montes de GIFs, e até favoritar aqueles que você mesmo subir para o Discord. Nada como um pouco de ~~egocentrismo~~ amor próprio!\n* **A estimativa de uso de banda para chamadas de vídeos recebeu melhorias.** Boas conexões não vão ver suas ligações virarem um jogo 2D em Pixel Art do nada.\n* **Navegação via teclado para o Seletor de GIFs está aqui.** Não será mais necessário mover sua mão todo o longo caminho até seu mouse. Aproveite estas 5 calorias extras.\n* **Ah, a navegação via teclado também foi implementada na Loja.** São 10 calorias então.\n* **A função "Tocando agora" para o Spotify Mobile está disponível para os usuários Android.** Sim, eu estou ouvindo Hyrule Field. Faz com que eu sinta que escrever os registros de alteração seja uma aventura. Eu me sinto igual ao Zelda salvando a princesa. Não, pera... :thinking:\n* **Você pode reverter a lista de emojis nas configurações do servidor.** Coloque seus novos emojis lindos e cheirosos no topo e veja como as pessoas vão esquecer de seus emojis antigos, assim como do nome de heróis que usam verde (como o... Mario Verde?).\n\nTá Tudo Bem Agora {fixed}\n======================\n\n* **Muitos links de [gift](https://discordapp.com/nitro) não quebram mais o Discord.** Você pode fazer chover presentes como se fosse uma tempestade de trovões num furacão que gera um tsunami e espalha tubarões sem que o Discord trave de medo.\n* **Pressionar a barra de espaço quando estiver vendo uma imagem não vai mais duplicar a imagem..** F f o o i i  m m a a l l .\n\nDa Nossa Casa Para A Sua {progress}\n======================\n\n* **As Casas do HypeSquad, Bravery, Brilliance e Balance estão sempre procurando por novos recrutas.** [Inscreva-se via aplicativo](https://discordapp.com/settings/hypesquad-online) fazendo um curto teste de personalidade e seja escolhido. Leve o emblema de sua casa com orgulho com uma insígnia maneira no seu perfil, fique sabendo de competições e sorteios de brindes e, no geral, se torne uma pessoa muito mais maneira do que antes (ao menos pra gente <3).\n* **Quer representar o Discord no mundo real?** Como um Frequentador de Eventos do HypeSquad, exiba nosso logo em seu peito com orgulho em convenções locais. Ou então dê um monte de badulaques grátis do Discord para seu clube de jogos da sua universidade, além de umas melhorias para o servidor do clube, como um Coordenador de Eventos do HypeSquad. [Inscreva-se aqui](http://discordapp.com/hypesquad)!\n* **[Vire um Parceiro Discord.](https://discordapp.com/partners)** Você entra com o conteúdo incrível de games em sua plataforma de escolha, nós entramos com benefícios exclusivos para o servidor da sua comunidade, um casaco maneiro e mais algumas coisinhas.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "it"\nyoutube_video_id: "teCVXzKRVFc"\n---\nATTENZIONE, SPOILER! {added marginTop}\n======================\n\n* **PSSST. Adesso Discord ti avvisa se ci sono Spoiler!** Inserisci quello che vuoi tra due stanghette \\|| così \\|| per nascondere qualsiasi informazione rilevante. Puoi usarlo con testi, immagini, emoji, eccetera.\n* **L\'Indicatore Mobile è disponibile anche nella versione desktop** Così potrai puntualizzare quanto piccolo sia il mondo, come se fossi una gigantesca stella orbitante alla deriva. Oppure, potrai spiare chi tra i tuoi amici non è ancora pronto per collegarsi, impegnato in altre faccende in bagno.\n* **Il Selezionatore di GIF è qui tra noi!** Potrai ora cercare e aggiungere tra le preferite un sacco di GIF, tra cui persino quelle che TU hai caricato su Discord. Evvai con l\'autostima!\n* **Abbiamo incrementato la stima della banda larga per le video chiamate.** Chiamate con connessioni decenti non si trasformeranno più all\'improvviso in un videogioco pixellato in 2D.\n* **Navigazione esclusivamente via tastiera disponibile per i Selezionatori di GIF.** Smettila di allungare la mano verso il mouse e non sprecare le tue energie. E goditile \'ste 5 calorie risparmiate.\n* **E l\'abbiamo aggiunta anche nello store, la navigazione via tastiera.** Facciamo 10 calorie, va\'.\n* **L\'opzione Cosa stai ascoltando di Spotify da mobile è ora disponibile per gli utenti Android.** Sì, sono sempre le solite canzioni deprimenti che stavo ascoltando e l\'ho fatto in loop per tutto il viaggio. No, non sto bene.\n* **Puoi invertire la lista delle emoji nelle impostazioni del server.** Metti in cima alla lista le emoji nuove di zecca e guarda quelle vecchie andare a fondo nel dimenticatoio, tristi... sole e abbandonate... come me...\n\nTutto a posto, adesso, sto bene {fixed}\n======================\n\n* **Millemila link di [regali](https://discordapp.com/nitro) non distruggeranno più Discord.** Puoi distribuire doni come se piovesse, con la forza di un uragano a braccetto con un tornado a passeggio sotto un tifone senza che Discord si rannicchi tremante chiedendo pietà.\n* **Premere la barra spaziatrice mentre visualizzi un\'immagine non la duplicherà più.** O o o p p s s c u s a a a t e e e\n\nDa casa nostra alla tua {progress}\n======================\n\n* **Le Case HypeSquad del Coraggio, dell\'Intelligenza e dell\'Equilibrio sono sempre alla ricerca di nuove reclute.** [Iscriviti attraverso l\'app](https://discordapp.com/settings/hypesquad-online) con un breve quiz della personalità, e vai e fatti smistare. Mostra con orgoglio lo stemma della tua Casa con un badge unico sul tuo profilo, scopri le gare e i concorsi e, in generale, sii una persona molto più figa di quanto eri prima (questo è quello che pensiamo noi).\n* **Vuoi rappresentare Discord nel mondo reale?** Come Partecipante di Eventi HypeSquad, sfoggia con orgoglio il nostro logo sul tuo petto durante i tuoi raduni locali. Oppure, dona al club dei gamers della tua università una vagonata di gadget in omaggio e benefici per i server, come Coordinatore di Eventi HypeSquad. [Iscriviti qui](http://discordapp.com/hypesquad)!\n* **[Diventa un Partner Discord](https://discordapp.com/partners)** Tu fornisci i tuoi fantastici contenuti di gioco su piattaforme locali a tua scelta, noi ti forniamo una felpa strafica, benefici esclusivi per i server della tua community e molto altro.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "nl"\nyoutube_video_id: "teCVXzKRVFc"\n---\nOPGELET, SPOILERS {added marginTop}\n======================\n\n* **PSSST. Discord heeft nu Spoiler-tags!** Zet tekst tussen balkjes \\|| zoals hier \\|| om relevante informatie te verbergen. Dit werkt op tekst, afbeeldingen, emoji, etc.\n* **De mobiele app-indicator is aan de desktop-versie toegevoegd.** Nu kun je een indicatie geven van hoe klein de wereld is als je tussen de sterren zweeft. Of eigenlijk, nu weet je wanneer je vrienden op de WC zitten en niet gereed zijn om met je te spelen.\n* **De GIF-picker is nu beschikbaar!** Je kan massa\'s GIFs doorzoeken en als favoriet opslaan, en zelfs GIFs die je zelf uploadt aan je favorieten toevoegen. Wat is er mis met een beetje zelfwaardering?\n* **De schatting van de bandbreedte voor videogesprekken is verbeterd.** Als je een goede verbinding hebt, zal je videogesprek niet meer spontaan in een gepixeleerd 2D-spelletje veranderen.\n* **Navigeren met het toetsenbord in de GIF-picker.** Vermijd een muisarm: gebruik je toetsenbord en spaar vijf calorieën per GIF uit.\n* **Navigeren met het toetsenbord kan ook in de Discord Store.** Dat zijn nu al tien calorieën.\n* **Mobiele Spotify Afspeellijst is nu beschikbaar voor Androidgebruikers.** Ja, ik heb deze hele treinrit naar dezelfde emo-soundtrack zitten luisteren. Nee, ik ben niet oké.\n* **Je kan nu de volgorde van je emoji in de serverinstellingen omkeren.** Plaats je gloednieuwe emoji bovenaan en laat de oude naar onder wegzakken... eenzaam en vergeten... zoals ik...\n\nOké, het gaat weer {fixed}\n======================\n\n* **Discord heeft geen problemen meer met grote aantallen [geschenk](https://discordapp.com/nitro)-links.** Je kan het cadeautjes laten regenen alsof er een cadeautjestornado een dansje maakt met een orkaan bij het licht van een onweer \\- en Discord zal het onbevreesd doorstaan.\n* **Afbeeldingen worden niet meer verdubbeld wanneer je op de spatiebalk drukt.** O o e e p p s s.\n\nVan onze afdeling naar jou {progress}\n======================\n\n* **De HypeSquad-afdelingen Bravery, Brilliance, en Balance zijn altijd op zoek naar nieuwe rekruten.** [Neem deel](https://discordapp.com/settings/hypesquad-online) door een korte persoonlijkheidstest te voltooien. Je krijgt een afdelingsbadge op je profiel, informatie over wedstrijden en promoties, en iedereen zal je nog veel cooler vinden dan je al was (volgens ons toch).\n* **Wil je Discord vertegenwoordigen in de echte wereld?** Als HypeSquad Event Attendee kan je op evenementen trots ons logo dragen. En als HypeSquad Event Coordinator kan je de gameclub op je universiteit een hoop gratis merch en extraatjes bezorgen [Schrijf je hier in](http://discordapp.com/hypesquad)!\n* **[Word een Discord-partner.](https://discordapp.com/partners)** Jij plaatst geweldige gamingcontent op een video-sharingsite naar keuze, en wij sturen jou een coole hoodie, exclusieve servervoordelen voor je community, en nog veel meer.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "sv-se"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS HITÅT {added marginTop}\n======================\n\n* **PSSST. Discord har nu Spoiler-tags!** Omge vilken text som helst med dessa murar \\|| såhär \\|| för att gömma all hemlig information. Fungerar på text, bilder, emejis och så vidare.\n* **Mobilindikatorn finns nu på desktopen** så att du kan visa hur liten världen är när du är på väg att kretsa runt i stjärna. Eller, så kan helt enkelt bara se när dina kompisar är på toa och därför inte redo att hoppa in i spelkön.\n* **GIF-väljaren är nu live!** Du kan söka bland och bokmärka mängder av GIF:ar, och till och med bokmärka dem du laddat in i Discord. Inget går upp mot litet självvalidering.\n* **Bandbreddsberäkning för videosamtalen fick en buff.** Med en bra uppkoppling kommer man inte längre behöva se sina videosamtal förvandlas till spontana pixelspel i 2D.\n* **Navigeringen för GIF-väljaren har fått tangentbordsorientering.** Sluta sträcka dig efter musen så mycket, och spara energi. Använd de extra 5 kalorierna till något bättre.\n* **Vi la till tangentbordsnavigation i butiken också.** Okej, 10 extra kalorier.\n* **Mobilt What\'s Playing för Spotify är nu live för Android-användare.** Ja, jag har lyssnat på samma sorgliga soundtrack på repeat hela vägen till jobbet. Nej, jag är inte ok.\n* **Du kan nu vända din emojilista i servern bak-och-fram.** Få nya skinande emojis längst upp och se de gamla dala ner till botten, där de kommer samla damm... glömda... precis som jag är...\n\nJag mår bra nu {fixed}\n======================\n\n* **Discord kraschar inte längre av många [gåvo](https://discordapp.com/nitro)-länkar.** Du kan nu skapa prisregn som en orkan som håller hand med en monsun under ett åskoväder utan att Discord ryggar tillbaka av fasa.\n* **Om man trycker mellanslag medan man tittar på en bild så dupliceras inte längre bilden.** V v å å r r t t  f f e e l l.\n\nFrån Oss Till Er {progress}\n======================\n\n* **HypeSquads Hus, Mod, Briljans och Balans letar alltid efter nya rekryter.** [Anmäl dig i appen](https://discordapp.com/settings/hypesquad-online) genom att göra ett kort personlighetstest och bli sorterad. Visa upp ditt Hus med ett unikt profilmärke, få reda på mer om tävlingar och giveaways, och vara så mycket coolare i allmänhet än du var tidigare (tycker vi).\n* **Vill du reppa Discord i den riktiga världen?** Som HypeSquad Eventdeltagare kan du stolt visa upp vår logo på ditt bröst vid lokala cons. Eller, ge din universitetsspelklubb en jättehög med gratis merch och serverfördelar om du är en HypeSquad Event-koordinator. [Ansök här](http://discordapp.com/hypesquad)!\n* **[Bli en Discord-partner.](https://discordapp.com/partners)** Du förser skönt gaming-content till en videosite du väljer själv, vi fixar en grym hoodie och unika serverfördelar för ditt community, och mer.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "ru"\nyoutube_video_id: "teCVXzKRVFc"\n---\nВНИМАНИЕ, СПОЙЛЕРЫ! {added marginTop}\n======================\n\n* **ТСССС. У Discord появился тэг для Спойлеров!** Поместите желаемый текст в тэг \\|| вот так \\|| чтобы скрыть желаемую информацию. Работает с текстом, изображениями, эмодзи и так далее.\n* **Мобильный индикатор доступен в версии для ПК**, так что вы сможете увидеть насколько мал наш мир, подобно гигантской звезде вращающейся вокруг нашего мирка. Или просто сможете узнать, что ваши друзья в туалете, и не готовы присоединиться к игре.\n* **Появился выбор GIF-ок!** Вы можете искать ваши любимые шутки в виде GIF-ок, и даже загружать свои любимые в Discord. Ничего особенного, просто что-то типа самоутверждения.\n* **Оценка пропускной способности канала для видеозвонков была улучшена.** При хорошем соединении вы больше не увидите, как видеовызов превращается в импровизированную пиксельную 2D-игру.\n* **Для выбора GIF-ок доступна клавиатурная навигация.** Прекратите тянуться за мышкой и сэкономьте немного энергии. Наслаждайтесь этими драгоценными 5 калориями.\n* **Навигация с клавиатуры также доступна для магазина.** А  это уже целых 10 калорий.\n* **Опция "Что играет" в Spotify теперь доступна для пользователей Android.** Да, я слушал один и тот же грустный саундтрек на повторе во время всей этой поездки. Нет, я не в порядке.\n* **Теперь вы можете сортировать свой список смайликов в настройках сервера.** Разместите блестящие новые эмодзи сверху и наблюдайте, как ваши старые опустятся на самое дно, где они будут собирать пыль… забытые… как и я…\n\nТеперь я в порядке {fixed}\n======================\n\n* **Многочисленные ссылки с [подарками](https://discordapp.com/nitro) больше не выводят Discord из строя.** Теперь вы можете создать дождь из подарков, подобно урагану, с муссонами и грозами, не опасаясь что Discord при виде этого всего будет дрожать от страха.\n* **Нажатие клавиши пробела при просмотре изображения больше не дублирует само изображение.** Н а а а а ш а  о ш  и и и и б о ч к а.\n\nОт нашего Дома - Вашему {progress}\n======================\n\n* **HypeSquad Дома Bravery, Brilliance и Balance всегда рады новобранцам.** [Зарегистрируйтесь в приложении](https://discordapp.com/settings/hypesquad-online), пройдя короткий тест и присоединитесь к одному из них. Похвастайтесь уникальным значком принадлежности к одному из Домов, узнайте о конкурсах и раздачах, и вообще, станьте намного круче, чем вы когда-либо были (ну, мы так думаем).\n* **Хотите представлять Discord в реальном мире?** Как участник мероприятий от HypeSquad, с гордостью носите наш логотип на теле вокруг своих локальных недостатков. Или предоставьте вашему университетскому игровому клубу кучу бесплатных вещичек и серверных привилегий будучи координатором событий HypeSquad. [Подайте заявку здесь](http://discordapp.com/hypesquad)!\n* **[Станьте партнером Discord.](https://discordapp.com/partners)** Вы предоставляете нам крутейший игровой контент на выбранном вами видео-портале, а мы снабдим вас чумовой толстовкой, уникальными перками на сервере вашего сообщества и многим другим.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "ko"\nyoutube_video_id: "teCVXzKRVFc"\n---\n스포일러 등장 {added marginTop}\n======================\n\n* **저기요! Discord에 Spoiler 태그가 새로 생겼어요!** \\||이런 식으로\\|| 태그에 텍스트를 넣으면 관련 정보를 숨깁니다. 텍스트, 이미지, 이모티콘 등에서 작동합니다.\n* **모바일 표시기가 이제 데스크탑 버전에도 표시됩니다** 어떤 친구들이 화장실에서 오랫동안 볼일을 보고있는지 또는 핸드폰을 들고 블랙홀에 빠졌는지를 확인할 수 있습니다.\n* **이제 GIF를 선택하실 수 있습니다!** 좋아하는 GIF들을 검색하고,즐겨 찾기에 추가해 보세요. 마음에 드는 GIF들은 Discord에 업로드하실 수도 있습니다. 앗싸, 가오리!\n* **화상 채팅의 대역폭 측정이 완전 좋아졌어요.** 연결 상태가 좋으면 화상 채팅의 화질 저하가 더 이상 나타나지 않습니다.\n* **키보드 전용 네비게이션은 GIF Picker 용입니다** 마우스를 너무 많이 사용하지 마시고 에너지를 절약해 보세요. 추가로 5칼로리는 절약할 수 있지요.\n* **키보드 네비게이션도 스토어에 추가되었습니다.** 앗싸! 10 칼로리.유후!\n* **모바일 Spotify에 플레이되는 음악이 이제 안드로이드 사용자들을 위해 라이브로 갑니다.** 맞아요, 출근 시간에 똑같은 슬픈 사운드 트랙을 계속 들어왔어요.ㅠㅠ 왕 짜증.\n* **이제 서버 설정에서 이모티콘 목록을 바꿀 수 있습니다.** 반짝이는 새로운 이모티콘을 맨위에 놓고 오래된 것들이 바닥으로 흘러 내리는 것을 지켜보세요. 잊혀질 때까지...T.T\n\n이제 괜찮아! {fixed}\n======================\n\n* **많은 [기프트](https://discordapp.com/nitro) 링크 문제가 해결되었습니다.** 이제 화끈하게 쭈욱~ 한 턱 쏴!\n* **이미지를 볼때 스페이스 바를 누르면 더 이상 이미지가 복제되지 않습니다.** 죄쏘옹~~~~\n\n우리 집에서 너의 집으로 {progress}\n======================\n\n* **Bravery, Brilliance 그리고 Balance의 HypeSquad Houses는 언제나 그렇듯 새로운 신참을 찾고 있습니다.** 간단한 성격 테스트로 [App에 회원 가입](https://discordapp.com/settings/hypesquad-online)해 보세요. 독특한 프로필 배지를 사용하여 당신의 하우스를 자랑질하고 경연 및 경품에 대해 알아보고 예전에 모습과는 다른 완전 멋진 킹짱맨이 되보세요.\n* **친구들 앞에서 디스코드를 대표하고 싶으세요?** HypeSquad 이벤트 참석자로서 당신의 몸에 로고를 붙이고 룰루랄라 자랑을 해보세요. 또는 대학 게임 클럽에 HypeSquad 이벤트 코디네이터로 무료 상품 및 서버 특전을 제공해 보세요. [여기에서 신청하시면 돼요.](http://discordapp.com/hypesquad)!\n* **[디스코드의 파트너가 되보세요.](https://discordapp.com/partners)** 당신이 선택한 지역의 비디오 게임 웹 사이트에 멋진 게임 콘텐츠를 제공하고 후디 티셔츠와 독특한 서버 특혜를 제공합니다. 바로 당신의 커뮤니티와 그 이상을 위해.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "ja"\nyoutube_video_id: "teCVXzKRVFc"\n---\nこの先、ネタバレ注意！ {added marginTop}\n======================\n\n* **注目：Discordにネタバレタグが登場！** 伏せておきたい情報を \\|| こんなふうに \\|| 囲んでみよう。テキスト、画像、絵文字などで使用可能。\n* **モバイルインジケーターがデスクトップに搭載** この世界には仲間がいるってことを巨大な衛星のようにお知らせしよう。またはトイレにいってて、まだ対戦できない友達がいるかチェックするのもアリ。\n* **GIFピッカー実装！** よりどりみどりのGIFを検索して、お気に入り登録しよう。自分でDiscordにアップしたGIFをお気に入り登録するのも可能。マイベストな逸品をあらためて見てみよう。\n* **ビデオ通話の帯域幅予測機能がさらにパワーアップ** 接続状況は悪くないのに、ビデオ通話が2Dドット絵のゲームみたいな画質に…ってことがこれでなくなるよ。\n* **GIFピッカーがキーボードだけで操作できるように** いちいちマウスを動かさなくていいので楽ちん。その5カロリー分のエネルギーはどこか別の場所で使おう！\n* **ストアがキーボードで操作可能に** これで10カロリー分かな？\n* **Spotifyの視聴音楽表示機能がAndroidで使用可能に** そうそう、通勤中ずっとこの悲しいバラードを聴いてるんだけど、結構病んでるかも…\n* **サーバーの設定で絵文字リストを入れ替えられるように** 使いたてホヤホヤの新しい絵文字は上に、古い絵文字は下にいくよ。ホコリがたまって忘れ…られてる…まるでぼくみたいに…\n\n…でも、大丈夫！ {fixed}\n======================\n\n* **[ギフト](https://discordapp.com/nitro)リンクに関する多くの問題が解決された** これで雷雨の下で手をつなぐハリケーンとモンスーンみたいにギフトを贈りまくることができるよ！恐怖におびえるDiscordなんていなかったのだ！\n* **画像を確認中にスペースバーを押しても、画像が重複することがなくなった** すすす、すまなかっっったあああ\n\nファミリーからのあいさつ {progress}\n======================\n\n* **Bravery、Brilliance、BalanceのHypeSquad三大ファミリーはいつでも新しい仲間を募集中** [ここで](https://discordapp.com/settings/hypesquad-online) ちょっとした性格診断テストを受けて登録すれば、自分にぴったりなファミリーがわかるよ。それぞれのプロフィールバッジで自らのファミリーをアピールしたり、イベントやプレゼントの情報をゲットしたりすることで、今までにないくらいクールな自分になれる（はず）。\n* **リアル世界でもDiscordをレペゼンしよう** HypeSquadメンバーとして、Discordのロゴを堂々と胸に掲げ、色んなゲームイベントに参加しよう。HypeSquadイベントコーディネーターになれば、所属する大学のゲームサークルに無料のグッズセットとサーバー特典をプレゼント。 [ご登録](http://discordapp.com/hypesquad) お待ちしてます！\n* **[Discordパートナーになろう](https://discordapp.com/partners)** 動画ウェブサイトでゲーム系コンテンツを配信すれば、超クールなパーカーや独自のサーバー特典などが君のものに。\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS AHEAD {added marginTop}\n======================\n\n* **PSSST. Discord now has Spoiler tags!** Surround any text with these guardrails \\|| like so \\|| to hide any pertinent information. Works on text, images, emoji, etc.\n* **Mobile Indicator is now on desktop** so you can indicate the smallness of the world on the go like a giant orbiting star. Or, just see if your friends are on the toilet and not ready to queue up.\n* **GIF Picker is now live!** You can search and favorite oodles of GIFs, and even favorite the ones you upload into Discord. Nothing like a little self validation.\n* **Bandwidth estimation for video calls got a buff.** Good connections will no longer see their video call get turned into an impromptu 2D pixel game.\n* **Keyboard-only navigation is here for GIF Picker.** Stop reaching for your mouse so much and save some energy. Enjoy those extra 5 calories.\n* **Keyboard navigation was also added to the store.** Make that 10 calories.\n* **Mobile Spotify What’s Playing is now live for Android users.** Yes, I’ve been listening to the same sad soundtrack on repeat for this entire commute. No, I’m not ok.\n* **You can now reverse your emoji list in server settings.** Put shiny, new emoji at the top and watch your old ones float to the bottom, where they will collect dust....forgotten....like me...\n\nI\'m OK Now {fixed}\n======================\n\n* **Many [gift](https://discordapp.com/nitro) links no longer break Discord.** You can now make it rain gifts like a hurricane holding hands with a monsoon underneath a thunderstorm without Discord cowering in fear.\n* **Pressing space bar when viewing a picture no longer duplicates the image.** O o u u r r  b b a a d d.\n\nFrom Our House To Yours {progress}\n======================\n\n* **The HypeSquad Houses of Bravery, Brilliance, and Balance are always looking for new recruits.** [Sign up in app](https://discordapp.com/settings/hypesquad-online) by taking a short personality quiz and get sorted. Show off your House with a unique profile badge, learn about competitions and giveaways, and generally be a much cooler person than you once were (we think so).\n* **Wanna rep Discord in the real world?** As a HypeSquad Event Attendee, proudly display our logo on your torso at your local cons. Or, give your university gaming club a caboodle of free merch and server perks as a HypeSquad Event Coordinator. [Apply here](http://discordapp.com/hypesquad)!\n* **[Become a Discord Partner.](https://discordapp.com/partners)** You supply the sweet gaming content on your local neighborhood video website of choice, we’ll supply a dope hoodie, unique server perks for your community, and more.\n'},8173:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(189),i=(r=a)&&r.__esModule?r:{default:r};var l=i.default.defaultRules.lheading,u=i.default.defaultRules.link,s=i.default.defaultRules.image,d=i.default.defaultRules.list,f=/\{(.+?)}/,c=void 0;c=n(8174);var p=o({},c.baseRules,{image:o({},s,c.customRules.image),link:o({},u,c.customRules.link),list:o({},d,c.customRules.list),lheading:o({},l,{parse:function(e,t,n){var r=f.exec(e[1]);return{className:null!=r?r[1]:null,level:"="===e[2]?1:2,content:i.default.parseInline(t,e[1].replace(f,"").toUpperCase(),n)}}},c.customRules.lheading)});t.default={getDefaultRules:function(){return o({},p)}},e.exports=t.default},8174:function(e,t,n){"use strict";t.__esModule=!0,t.customRules=t.baseRules=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),h(n(189))),l=h(n(6817)),u=h(n(831)),s=n(7306),d=h(n(311)),f=h(n(18)),c=h(n(244)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=i.default.defaultRules.link,m=(t.baseRules=c.default.getDefaultRules(),{section:p.AnalyticsSections.SETTINGS_CHANGELOG});t.customRules={link:{parse:function(e,t,n){var r=void 0,o=e[2],i=o.startsWith("https://discordapp.com/nitro"),s=o.startsWith("https://discordapp.com/hypesquad");return r=i||s?function(e){f.default.track(p.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:m}),i?u.default.open(p.UserSettingsSections.PREMIUM):s&&u.default.open(p.UserSettingsSections.HYPESQUAD_ONLINE),n.changeLog.track(p.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"}),l.default.hideChangeLog(),e.preventDefault()}:function(){n.changeLog.track(p.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,a({},f.default.getCampaignParams(o)))},a({},y.parse(e,t,n),{callToAction:r})},react:function(e,t,n){return o(d.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":null},n.key,t(e.content,n))}},lheading:{react:function(e,t,n){return o(s.LHeading,{level:e.level,className:e.className},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(7139)("./"+e.target);return o("img",{alt:e.alt,src:a},r.key)}}}},8175:function(e,t,n){e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},8176:function(e,t,n){e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},8177:function(e,t,n){e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},8178:function(e,t,n){e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},8179:function(e,t,n){e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},8180:function(e,t,n){e.exports=n.p+"46e2829b759fbdc67b1a24ff96a415b2.jpg"},8181:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=v(n(2)),i=m(n(849)),l=v(n(475)),u=m(n(8182)),s=m(n(8183)),d=m(n(8184)),f=m(n(18)),c=n(950),p=m(n(9)),h=n(0),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.render=function(){var e=this.props,t=e.step,n=e.forced,r=e.openedByChatBox,a=e.submitting,i=e.email,l=y.default.Messages.CLAIM_ACCOUNT_BODY;switch(n?l=y.default.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:r&&(l=y.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED),t){case h.AccountModalSteps.FORM_SUBMIT:default:return o(s.default,{title:l,emailError:this.getError("email"),passwordError:this.getError("password"),submitting:a,onSubmit:this.handleClaim,onLogout:n?this.handleLogout:null,buttonText:y.default.Messages.CLAIM_ACCOUNT});case h.AccountModalSteps.FORM_SUCCESS:return o(d.default,{forced:n,openedByChatBox:r,email:i,onClickGetApp:this.handleClickGetApp,onClose:this.close})}},t.prototype.handleClaim=function(e,t){l.claim(e,t)},t.prototype.handleClickGetApp=function(){window.open((0,c.getCurrentPlatformDownloadURL)(),"_blank"),f.default.track(h.AnalyticEvents.DOWNLOAD_APP,{platform:(0,c.getPlatformReadableName)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal"})},t.prototype.handleLogout=function(){i.default.logout()},t.prototype.close=function(){l.close()},t}(a.PureComponent);_.modalConfig={store:u.default,closable:p.default.isWeb()},_.displayName="ClaimAccount",t.default=_,e.exports=t.default},8182:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(4)),o=d(n(1)),a=d(n(9)),i=d(n(6073)),l=d(n(15)),u=d(n(6586)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=s.FormStates.CLOSED,c=s.AccountModalSteps.FORM_SUBMIT,p=!1,h=!1,y=null,m={};function v(e){var t=l.default.getCurrentUser();if(null==t||t.isClaimed())return!1;f=s.FormStates.OPEN,m={},h=e.openedByChatBox||!1}function _(){f=s.FormStates.CLOSED,m={}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,i.default,u.default)},t.prototype.isOpen=function(){return!i.default.hasAction()&&f!==s.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:f===s.FormStates.SUBMITTING,step:c,forced:p,openedByChatBox:h,email:y,errors:m}},t}(r.default.Store);t.default=new E(o.default,{CONNECTION_OPEN:function(e){return t=u.default.getExperimentDescriptor(),!(l.default.getCurrentUser().isClaimed()||!a.default.embedded||null!=t&&t.bucket!==s.ExperimentBuckets.CONTROL)&&(p=!0,void v({}));var t},CLAIM_ACCOUNT_MODAL_OPEN:v,NEW_USER_FLOW_GUILD_CREATED:v,CLAIM_ACCOUNT_SUBMITTED:function(e){f=s.FormStates.SUBMITTING},CLAIM_ACCOUNT_SUCCESS:function(e){f=s.FormStates.OPEN,c=s.AccountModalSteps.FORM_SUCCESS,y=e.email},CLAIM_ACCOUNT_FAILURE:function(e){f=s.FormStates.OPEN,m=e.errors},CLAIM_ACCOUNT_MODAL_CLOSE:function(e){return _()},CONNECTION_CLOSED:function(e){return _()},NEW_USER_FLOW_SET_STEP:function(e){-1===e.step&&v({})},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},8183:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(128)),l=y(n(152)),u=y(n(222)),s=y(n(129)),d=y(n(828)),f=n(829),c=n(0),p=y(n(13)),h=y(n(5911));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleEmailChange=function(e){r.setState({email:e})},r.handleUsernameChange=function(e){r.setState({username:e})},r.handlePasswordChange=function(e){r.setState({password:e})},r.handleSubmit=function(e){e.preventDefault();var t=r.props.onSubmit,n=r.state,o=n.email,a=n.password,i=n.username;t&&t(o,a,i)},r.handleLogout=function(){var e=r.props.onLogout;e&&e()},r.state={email:"",username:"",password:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSubmittable=function(){var e=this.state,t=e.email,n=e.password;return t.length>0&&n.length>0},t.prototype.renderEmailInput=function(){return o(f.FormItem,{title:p.default.Messages.FORM_LABEL_EMAIL,className:h.default.formItem},void 0,o(d.default,{value:this.state.email,error:this.props.emailError,onChange:this.handleEmailChange,autoFocus:!0}))},t.prototype.renderUsernameInput=function(){return o(f.FormItem,{title:p.default.Messages.FORM_LABEL_USERNAME,className:h.default.formItem},void 0,o(d.default,{value:this.state.username,error:this.props.usernameError,onChange:this.handleUsernameChange}))},t.prototype.renderPasswordInput=function(){return o(f.FormItem,{title:p.default.Messages.FORM_LABEL_PASSWORD,className:h.default.formItem},void 0,o(d.default,{type:"password",value:this.state.password,error:this.props.passwordError,onChange:this.handlePasswordChange}))},t.prototype.renderPrimaryButton=function(){var e=this.props.buttonText;return o(i.default,{type:"submit",size:i.default.Sizes.LARGE,submitting:this.props.submitting,disabled:!this.isSubmittable(),fullWidth:!0},void 0,e)},t.prototype.renderLogout=function(){return o(s.default,{color:s.default.Colors.PRIMARY,className:h.default.logout,onClick:this.handleLogout,size:s.default.Sizes.SMALL},void 0,p.default.Messages.LOGOUT)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.type,r=e.onLogout,a=e.buttonText;return o(u.default,{tag:"form",onSubmit:this.handleSubmit},void 0,o(u.default.Content,{className:h.default.content},void 0,o("div",{className:h.default.image}),o("div",{className:h.default.title},void 0,t)),o(u.default.Footer,{direction:l.default.Direction.VERTICAL},void 0,this.renderEmailInput(),n===c.AccountModalTypes.REGISTER?this.renderUsernameInput():null,this.renderPasswordInput(),null!=a?this.renderPrimaryButton():null,null!=r?this.renderLogout():null))},t}(a.PureComponent);m.displayName="AccountModal",t.default=m,e.exports=t.default},8184:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(128)),l=f(n(152)),u=f(n(222)),s=f(n(13)),d=f(n(5912));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCloseButton=function(){var e=this.props,t=e.forced,n=e.onClose;return t?null:o(u.default.CloseButton,{className:d.default.closeButton,onClick:n})},t.prototype.renderFooter=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,r=e.onClickGetApp,a=e.onClose;return t||n?o(u.default.Footer,{direction:l.default.Direction.VERTICAL},void 0,o(i.default,{size:i.default.Sizes.LARGE,onClick:a},void 0,s.default.Messages.OKAY)):o(u.default.Footer,{direction:l.default.Direction.VERTICAL},void 0,o("div",{className:d.default.appPromotion},void 0,s.default.Messages.CLAIM_ACCOUNT_PROMOTE_APP),o(i.default,{color:i.default.Colors.GREEN,size:i.default.Sizes.LARGE,onClick:r},void 0,s.default.Messages.CLAIM_ACCOUNT_GET_APP))},t.prototype.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,r=e.email,a=t||n?s.default.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:s.default.Messages.CLAIM_ACCOUNT_EMAIL_TO;return o(u.default,{className:d.default.modal},void 0,o(u.default.Content,{className:d.default.content},void 0,this.renderCloseButton(),o("div",{className:d.default.image}),o("div",{className:d.default.title},void 0,a.format({email:r}))),this.renderFooter())},t}(a.PureComponent);c.displayName="ClaimAccountModalSuccess",t.default=c,e.exports=t.default},8185:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=D(n(6)),u=D(n(4)),s=D(n(6181)),d=D(n(832)),f=n(131);n(324);var c=D(n(22)),p=D(n(8186)),h=D(n(43)),y=D(n(28)),m=D(n(128)),v=D(n(152)),_=D(n(306)),E=D(n(222)),g=D(n(6007)),S=D(n(6068)),T=D(n(5987)),I=D(n(129)),C=D(n(828)),N=D(n(448)),A=D(n(445)),O=D(n(110)),b=n(454),M=D(n(8187)),R=D(n(8189)),P=n(0),L=D(n(13)),w=D(n(5913));function D(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e){var t=null!=e?y.default.getGuild(e):null;return null!=t?(0,l.default)(t.roles).sortBy(function(e){return e.position}).value():[]}var F=function(e){function t(n){U(this,t);var r=k(this,e.call(this,n));r.handleApplicationChange=function(e){var t=e.value;r.setState({applicationId:t})},r.handleSKUChange=function(e){r.setState({skuId:e})},r.handleShowBranchesToggle=function(e){var t=e.currentTarget.checked;r.setState({showBranches:t,branchId:null})},r.handleBranchChange=function(e){r.setState({branchId:e})},r.handleHasBranchesChange=function(e){r.setState({hasBranches:e})},l.default.bindAll(r,["handleNameChange","handleTypeChange","handlePrivacyChange","handleSubmit","setInputRef"]);var o=n.channelType,a=n.cloneChannel;return r.state={channelType:o||P.ChannelTypes.GUILD_TEXT,name:null!=a?a.toString():"",permissionOverwrites:new Set,roles:x(n.guildId),isPrivate:!1,prevGuildId:n.guildId,applicationId:null,skuId:null,branchId:null,showBranches:!1,hasBranches:!1},r}return G(t,e),t.getDerivedStateFromProps=function(e,t){var n={prevGuildId:e.guildId,roles:x(e.guildId)};return t.prevGuildId!==e.guildId&&(n.permissionOverwrites=new Set),n},t.prototype.componentDidMount=function(){var e=this._input;null!=e&&e.select();var t=this.props,n=t.guildId,r=t.applications;t.canCreateStoreChannel&&null==r&&d.default.fetchApplications(n)},t.prototype.componentDidUpdate=function(e,t){!t.isPrivate&&this.state.isPrivate&&this.state.channelType===P.ChannelTypes.GUILD_NEWS&&this.setState({channelType:P.ChannelTypes.GUILD_TEXT})},t.prototype.getGuildId=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).guildId},t.prototype.setInputRef=function(e){this._input=e},t.prototype.handleNameChange=function(e){var t=this.state.channelType;(0,f.isGuildTextChannelType)(t)&&(e=(0,b.sanitizeGuildTextChannelName)(e)),this.setState({name:e})},t.prototype.handleTypeChange=function(e){var t=e.value,n=this.state.name;(0,f.isGuildTextChannelType)(t)&&(n=(0,b.sanitizeGuildTextChannelName)(n)),this.setState({channelType:t,name:n})},t.prototype.handleRoleChange=function(e,t){var n=new Set(this.state.permissionOverwrites);e===this.getGuildId()?n.clear():t.currentTarget.checked?n.add(e):n.delete(e),this.setState({permissionOverwrites:n})},t.prototype.handlePrivacyChange=function(e){var t=e.currentTarget.checked,n=this.state.permissionOverwrites;!1===t&&(n=new Set),this.setState({isPrivate:t,permissionOverwrites:n})},t.prototype.canSubmit=function(){var e=this.state,t=e.isPrivate,n=e.permissionOverwrites,r=e.channelType,o=e.skuId;return(!t||0!==n.size)&&(r!==P.ChannelTypes.GUILD_STORE||null!=o)},t.prototype.handleSubmit=function(e){e.preventDefault();var t=this.props,n=t.cloneChannel,r=t.categoryId,o=this.state,a=o.name,i=o.permissionOverwrites,u=o.channelType,d=o.skuId,f=o.branchId,c=this.getGuildId();if(null!=c){var p=void 0,h=void 0,y=void 0;null!=n?(p=l.default.values(n.permissionOverwrites),h=n.bitrate,y=n.userLimit):p=u===P.ChannelTypes.GUILD_NEWS?(0,b.permissionOverwritesForNews)(c):(0,b.permissionOverwritesForRoles)(c,u,Array.from(i)),s.default.createChannel(c,u,a,p,h,y,u!==P.ChannelTypes.GUILD_CATEGORY?r:null,d,f)}},t.prototype.renderHeader=function(){var e=this.props,t=e.cloneChannel,n=e.categoryId,r=this.state.channelType,o=void 0,i=void 0;if(o=null!=t?L.default.Messages.CLONE_CHANNEL:r===P.ChannelTypes.GUILD_CATEGORY?L.default.Messages.CREATE_CATEGORY:r===P.ChannelTypes.GUILD_TEXT?L.default.Messages.CREATE_TEXT_CHANNEL:r===P.ChannelTypes.GUILD_STORE?L.default.Messages.CREATE_STORE_CHANNEL:r===P.ChannelTypes.GUILD_NEWS?L.default.Messages.CREATE_NEWS_CHANNEL:L.default.Messages.CREATE_VOICE_CHANNEL,null!=n){var l=c.default.getChannel(n);i=a(I.default,{size:I.default.Sizes.SMALL,color:I.default.Colors.PRIMARY,className:w.default.subtitle},void 0,L.default.Messages.IN_CATEGORY.format({categoryName:l?l.name:""}))}return a(E.default.Header,{},void 0,a(v.default.Child,{grow:1,shrink:1},void 0,a(O.default,{tag:O.default.Tags.H4,className:w.default.header},void 0,o),i))},t.prototype.renderName=function(){var e=this.props,t=e.errors,n=e.cloneChannel,r=e.channelType,o=void 0;null!=t.name&&(o=a(I.default,{size:I.default.Sizes.SMALL,color:I.default.Colors.RED,className:w.default.error},void 0,t.name));var i=void 0;null!=n&&(i=a(A.default,{className:w.default.cloneInfo,type:A.default.Types.DESCRIPTION},void 0,L.default.Messages.CLONE_CHANNEL_HELP.format({name:n.toString(!0)})));var l=void 0;return l=r===P.ChannelTypes.GUILD_CATEGORY?L.default.Messages.CATEGORY_NAME:L.default.Messages.FORM_LABEL_CHANNEL_NAME,a(N.default,{title:l,className:w.default.name},void 0,a(C.default,{value:this.state.name,onChange:this.handleNameChange,inputRef:this.setInputRef,maxLength:100,autoFocus:!0}),o,i)},t.prototype.renderType=function(){var e=this.props,t=e.cloneChannel,n=e.applications,r=e.canCreateStoreChannel,l=e.canCreateNewsChannel,u=this.state,s=u.channelType,d=u.isPrivate;if(null==t&&s!==P.ChannelTypes.GUILD_CATEGORY){var f=null!=n&&n.length>0;return a(N.default,{title:L.default.Messages.CHANNEL_TYPE,className:w.default.type},void 0,a(g.default,{options:function(e,t,n){var r=[{icon:e?_.default.Names.CHANNEL_TEXT_LIMITED:_.default.Names.CHANNEL_TEXT,label:L.default.Messages.TEXT_CHANNEL,value:P.ChannelTypes.GUILD_TEXT},{icon:e?_.default.Names.SPEAKER_LIMITED:_.default.Names.SPEAKER,label:L.default.Messages.VOICE_CHANNEL,value:P.ChannelTypes.GUILD_VOICE}];return n&&r.push({icon:_.default.Names.NEWSPAPER,label:L.default.Messages.NEWS_CHANNEL,value:P.ChannelTypes.GUILD_NEWS}),t&&r.push({icon:_.default.Names.STORE_TAG,iconSize:16,label:L.default.Messages.STORE_CHANNEL,value:P.ChannelTypes.GUILD_STORE}),r.map(function(e){var t=e.icon,n=e.iconSize,r=e.label,l=e.value;return{name:a(v.default,{align:v.default.Align.CENTER},void 0,i.createElement(_.default,o({name:t},null!=n?{width:n,height:n}:null,{className:w.default.icon,background:w.default.background,foreground:w.default.foreground})),r),value:l}})}(d,r&&f,l),value:s,onChange:this.handleTypeChange}))}},t.prototype.renderRole=function(e,t){if(0===t)return null;var n=this.state.permissionOverwrites,r=0===n.size&&e.id===this.getGuildId(),o=n.has(e.id)||r;return a(T.default,{onChange:this.handleRoleChange.bind(this,e.id),disabled:r,value:o,fill:e.colorString},e.id,a("span",{style:{color:e.colorString}},void 0,e.name))},t.prototype.renderStoreOptions=function(){var e=this.props.applications,t=this.state,n=t.applicationId,r=t.skuId,o=t.branchId,l=t.showBranches,u=t.hasBranches;if(null==e||0===e.length)throw new Error("Unexpected empty applications");return a("div",{},void 0,a(O.default,{tag:O.default.Tags.H5},void 0,L.default.Messages.CREATE_STORE_CHANNEL_APPLICATION),a(S.default,{options:e.map(function(e){return{label:e.name,value:e.id}}),placeholder:L.default.Messages.CREATE_STORE_CHANNEL_SELECT_APPLICATION,value:n,onChange:this.handleApplicationChange,className:w.default.storeChannelOptionSelector}),null!=n?a(i.Fragment,{},void 0,a(O.default,{tag:O.default.Tags.H5},void 0,L.default.Messages.CREATE_STORE_CHANNEL_SKU),a(R.default,{applicationId:n,onChange:this.handleSKUChange,selectedSkuId:r,className:w.default.storeChannelOptionSelector},n)):null,null!=n&&u?a(T.default,{hideBorder:!0,onChange:this.handleShowBranchesToggle,value:l,note:L.default.Messages.CREATE_STORE_CHANNEL_BETA_NOTE.format({devPortalUrl:P.MarketingURLs.API_DOCS_GAME_AND_SERVER_MANAGEMENT})},void 0,a(_.default,{name:_.default.Names.KEY,className:w.default.switchIcon}),L.default.Messages.CREATE_STORE_CHANNEL_BETA_TITLE):null,null!=n?a(i.Fragment,{},void 0,l?a(O.default,{tag:O.default.Tags.H5},void 0,L.default.Messages.CREATE_STORE_CHANNEL_BRANCH):null,a(M.default,{applicationId:n,onChange:this.handleBranchChange,selectedBranchId:o,hide:!l,onHasBranchesChange:this.handleHasBranchesChange,className:w.default.storeChannelOptionSelector},n)):null)},t.prototype.renderPrivacyOptions=function(){var e=this.props.cloneChannel,t=this.state,n=t.channelType,r=t.isPrivate,o=t.roles;if(null!=e||o.length<=1||n===P.ChannelTypes.GUILD_NEWS)return null;var i=void 0,l=void 0;return n===P.ChannelTypes.GUILD_CATEGORY?(i=L.default.Messages.PRIVATE_CATEGORY,l=L.default.Messages.PRIVATE_CATEGORY_NOTE):(i=L.default.Messages.PRIVATE_CHANNEL,l=L.default.Messages.PRIVATE_CHANNEL_NOTE),a(N.default,{},"privacy-switch",a(T.default,{hideBorder:!0,onChange:this.handlePrivacyChange,value:r,note:l},void 0,a(_.default,{name:_.default.Names.LOCK_CLOSED,className:w.default.switchIcon}),i))},t.prototype.renderPermissions=function(){var e=this.props.cloneChannel,t=this.state,n=t.roles,r=t.channelType;if(!1===t.isPrivate||null!=e||r===P.ChannelTypes.GUILD_NEWS)return null;var o=void 0;return o=r===P.ChannelTypes.GUILD_CATEGORY?L.default.Messages.FORM_LABEL_CATEGORY_PERMISSIONS:r===P.ChannelTypes.GUILD_VOICE?L.default.Messages.FORM_LABEL_CHANNEL_VOICE_PERMISSIONS:L.default.Messages.FORM_LABEL_CHANNEL_PERMISSIONS,a("div",{},void 0,a(O.default,{tag:O.default.Tags.H5,className:w.default.permissionsTitle},void 0,o),n.map(this.renderRole,this))},t.prototype.renderFooter=function(){var e=void 0;return e=this.props.channelType===P.ChannelTypes.GUILD_CATEGORY?L.default.Messages.CREATE_CATEGORY:L.default.Messages.CREATE_CHANNEL,a(E.default.Footer,{},void 0,a(m.default,{type:"submit",disabled:!this.canSubmit()},void 0,e),a(m.default,{onClick:this.close,look:m.default.Looks.LINK,color:m.default.Colors.PRIMARY},void 0,L.default.Messages.CANCEL))},t.prototype.render=function(){var e=this.state.channelType;return a(E.default,{className:w.default.modal,onSubmit:this.handleSubmit,tag:"form"},void 0,this.renderHeader(),a(E.default.Content,{},void 0,this.renderType(),this.renderName(),e===P.ChannelTypes.GUILD_STORE?this.renderStoreOptions():null,this.renderPrivacyOptions(),this.renderPermissions()),this.renderFooter())},t.prototype.close=function(){s.default.close()},t}(i.PureComponent);F.modalConfig={store:p.default},F.displayName="CreateChannel";var j=u.default.connectStores([h.default,y.default],function(e){var t=e.guildId,n=y.default.getGuild(t);return{applications:h.default.getApplicationsForGuild(t),canCreateStoreChannel:null!=n&&n.hasFeature(P.GuildFeatures.COMMERCE),canCreateNewsChannel:null!=n&&n.hasFeature(P.GuildFeatures.NEWS)}})(F),B=function(e){function t(){return U(this,t),k(this,e.apply(this,arguments))}return G(t,e),t.prototype.render=function(){return i.createElement(j,this.props)},t}(i.PureComponent);B.modalConfig={store:p.default},B.displayName="CreateChannelModal",t.default=B,e.exports=t.default},8186:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(1)),a=l(n(22)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=i.FormStates.CLOSED,s=void 0,d={},f=void 0,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return u!==i.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:u===i.FormStates.SUBMITTING,categoryId:p,errors:d,channelType:s,cloneChannel:c,guildId:f}},t}(r.default.Store);t.default=new h(o.default,{CREATE_CHANNEL_MODAL_OPEN:function(e){u=i.FormStates.OPEN,d={},f=e.guildId,p=e.categoryId,null!=e.cloneChannelId?null!=(c=a.default.getChannel(e.cloneChannelId))?s=c.type:u=i.FormStates.CLOSED:(c=null,s=e.channelType)},CREATE_CHANNEL_MODAL_SUBMIT:function(e){u=i.FormStates.SUBMITTING},CREATE_CHANNEL_MODAL_SUBMIT_FAILURE:function(e){u=i.FormStates.OPEN,d=e.errors||{}},CREATE_CHANNEL_MODAL_CLOSE:function(e){u=i.FormStates.CLOSED}}),e.exports=t.default},8187:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(4)),l=n(500),u=f(n(8188)),s=f(n(6068)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=c(this,e.call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=e.value;r.props.onChange(t)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.branches,r=e.onHasBranchesChange;(0,l.fetchBranchesForApplication)(t),r&&r(n.length>0)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onHasBranchesChange,r=t.branches.length>0;null!=n&&r!==e.branches.length>0&&n(r)},t.prototype.render=function(){var e=this.props,t=e.branches,n=e.selectedBranchId,r=e.applicationId,a=e.includeMaster,i=e.hide,l=e.className;if(0===t.length||i)return null;var u=a?t:t.filter(function(e){return e.id!==r});return o(s.default,{options:u.map(function(e){return{label:e.getName(r),value:e.id}}),placeholder:d.default.Messages.CREATE_STORE_CHANNEL_SELECT_BRANCH,value:n,onChange:this.handleChange,className:l})},t}(a.Component);p.defaultProps={includeMaster:!1},p.displayName="ApplicationBranchSelector",t.default=i.default.connectStores([u.default],function(e){var t=e.applicationId;return{branches:u.default.getBranches(t)}})(p),e.exports=t.default},8188:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(1));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i={};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBranches=function(e){return i[e]||[]},t}(r.default.Store);t.default=new l(o.default,{OWNED_APPLICATION_BRANCHES_FETCH_SUCCESS:function(e){var t=e.applicationId,n=e.branches;i[t]=n},LOGOUT:function(e){i={}}}),e.exports=t.default},8189:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=c(n(4)),l=n(321),u=c(n(179)),s=c(n(6068)),d=n(0),f=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=e.value;r.props.onChange(t)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.skus,r=e.selectedSkuId,o=e.onChange;null==n?(0,l.fetchSKUsForApplication)(t,!1):1===n.length&&null==r&&o(n[0].id)},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.skus,n=e.selectedSkuId,r=e.onChange;null!=t&&1===t.length&&null==n&&r(t[0].id)},t.prototype.render=function(){var e=this.props,t=e.skus,n=e.selectedSkuId,r=e.applicationId,a=e.className,i=null!=t&&0===t.length;return o(s.default,{options:null!=t?t.map(function(e){return{label:e.name,value:e.id}}):[],placeholder:i?f.default.Messages.CREATE_STORE_CHANNEL_NO_SKUS:f.default.Messages.CREATE_STORE_CHANNEL_SELECT_SKU,value:n,onChange:this.handleChange,className:a,disabled:i,error:i?f.default.Messages.CREATE_STORE_CHANNEL_NO_SKUS_ERROR.format({devPortalUrl:d.MarketingURLs.API_DOCS_APPLICATION_SKUS_INDEX(r)}):null})},t}(a.Component);h.displayName="ApplicationSKUSelector",t.default=i.default.connectStores([u.default],function(e){var t=e.applicationId;return{skus:u.default.getForApplication(t)}})(h),e.exports=t.default},8190:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=S(n(17)),u=S(n(6)),s=S(n(336)),d=S(n(917)),f=S(n(6070)),c=S(n(158)),p=S(n(6089)),h=S(n(481)),y=S(n(221)),m=S(n(314)),v=S(n(45)),_=n(0),E=S(n(13)),g=S(n(5914));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.ref=i.createRef(),r.handleClick=function(){var e=r.ref.current;null!=e&&e.click()},I(r,n)}return C(t,e),t.prototype.render=function(){return a(y.default,{className:g.default.switch,onClick:this.handleClick},void 0,i.createElement("input",o({ref:this.ref},this.props,{type:"checkbox"})),a("div",{className:g.default.slider}))},t}(i.Component);N.displayName="Switch";var A=function(e){var t=e.account,n=e.platform,r=e.connect,o=e.onToggle;return a("div",{className:g.default.detectedAccount},void 0,a("img",{alt:E.default.Messages.IMG_ALT_LOGO.format({name:n.name}),className:g.default.detectedAccountIcon,src:n.icon.color}),a("div",{className:g.default.detectedAccountDetails},void 0,a("h3",{},void 0,t.name),a("h4",{},void 0,E.default.Messages.NUM_FRIENDS.format({friendCount:t.friendIdHashes.length}))),a(N,{checked:r,onChange:function(e){return o(t.id,e.currentTarget.checked)}}))};A.displayName="DetectedPlatformAccount";var O=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.state={noConnect:new Set},r.close=function(){f.default.ignore()},r.handleEnable=function(){var e=r.props,t=e.detectedAccounts,n=e.analyticsLocation,o=r.state.noConnect,a=new Set;t.forEach(function(e){o.has(e.id)?a.add(e.type):s.default.connect(e.type,e.id,e.name,n)}),v.default.transitionTo(_.Routes.FRIENDS),d.default.setSection(_.FriendsSections.ADD_FRIEND),f.default.ignore(Array.from(a))},r.handleToggle=function(e,t){var n=r.state.noConnect;t&&n.has(e)?(n.delete(e),r.forceUpdate()):t||n.has(e)||(n.add(e),r.forceUpdate())},I(r,n)}return C(t,e),t.prototype.render=function(){var e=this,t=this.props.detectedAccounts,r=this.state.noConnect,o=(0,u.default)(t).map(function(e){return c.default.get(e.type)}).uniq().map(function(e){return a("img",{alt:E.default.Messages.IMG_ALT_LOGO.format({name:e.name}),className:g.default.icon,src:e.icon.color},e.type)}).value(),i=n(8191)("./img_account_sync_stars"+o.length+".svg"),s=void 0,d=u.default.uniq(t.map(function(e){return c.default.get(e.type).name})),f=d[0],p=d[1],h=d[2];switch(d.length){case 1:s=E.default.Messages.ONE_PLATFORM_ACCOUNT_DETECTED.format({a:f});break;case 2:s=E.default.Messages.TWO_PLATFORM_ACCOUNTS_DETECTED.format({a:f,b:p});break;case 3:s=E.default.Messages.THREE_PLATFORM_ACCOUNTS_DETECTED.format({a:f,b:p,c:h});break;default:s=E.default.Messages.FOUR_OR_MORE_PLATFORM_ACCOUNTS_DETECTED}var y=t.map(function(t){return a(A,{account:t,platform:c.default.get(t.type),connect:!r.has(t.id),onToggle:e.handleToggle},t.id)});return a("div",{className:g.default.container},void 0,a("div",{className:g.default.icons,style:{backgroundImage:"url("+i+")"}},void 0,o),a("div",{className:g.default.body},void 0,s),a("div",{className:g.default.detectedAccounts},void 0,y),a("div",{className:g.default.divider}),a("div",{className:g.default.btnGroup},void 0,a("button",{type:"button",className:(0,l.default)(g.default.btn,g.default.btnDefault),onClick:this.close},void 0,E.default.Messages.NOT_NOW),a("button",{type:"button",className:(0,l.default)(g.default.btn,g.default.btnPrimary),onClick:this.handleEnable,disabled:t.length-r.size==0},void 0,E.default.Messages.ENABLE)),a("div",{className:g.default.privacy},void 0,E.default.Messages.PLATFORM_ACCOUNT_PRIVACY.format({articleURL:m.default.getArticleURL(_.HelpdeskArticles.FRIEND_SYNC_PRIVACY)})))},t}(i.PureComponent);O.modalConfig={store:p.default,backdropStyle:h.default.Styles.SOLID,closable:!1},O.displayName="DetectedPlatformAccounts",t.default=O,e.exports=t.default},8191:function(e,t,n){var r={"./img_account_sync_stars1.svg":8192,"./img_account_sync_stars2.svg":8193,"./img_account_sync_stars3.svg":8194,"./img_account_sync_stars4.svg":8195};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=8191},8192:function(e,t,n){e.exports=n.p+"b772c1d05a4bf0368d92668509da2cbc.svg"},8193:function(e,t,n){e.exports=n.p+"9aa8a052edc4b43d141fdc275623209c.svg"},8194:function(e,t,n){e.exports=n.p+"ba7676b3791fb371b0c67266945821f7.svg"},8195:function(e,t,n){e.exports=n.p+"045ea1ae8202098575f9b31a9faccb2c.svg"},8196:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(2)),i=v(n(1)),l=v(n(832)),u=_(n(6327)),s=v(n(8197)),d=v(n(222)),f=v(n(129)),c=v(n(45)),p=v(n(6242)),h=n(0),y=v(n(13)),m=v(n(5667));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.transitionTo=function(e){var t=r.props,n=t.guildId,o=t.guestGuildId;i.default.wait(function(){var t=[l.default.joinGuild(n,!1,"Chat Input Blocker - Lurker Mode")];null!=o&&o!==n&&t.push(l.default.joinGuild(o,!1,"Chat Input Blocker - Lurker Mode")),Promise.all(t).then(function(){c.default.transitionTo(e)})})},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){u.close()},t.prototype.render=function(){var e=this.props,t=e.guildId,r=e.channelId;return o(d.default,{className:m.default.modal,size:d.default.Sizes.MEDIUM},void 0,o("div",{className:m.default.information},void 0,o(f.default,{size:f.default.Sizes.LARGE,color:f.default.Colors.PRIMARY},void 0,y.default.Messages.LOGIN_TITLE),o(f.default,{color:f.default.Colors.PRIMARY,className:m.default.body},void 0,y.default.Messages.AUTH_LOGIN_BODY),o("img",{alt:"",src:n(6435),className:m.default.image})),o(p.default,{transitionTo:this.transitionTo,redirectTo:h.Routes.CHANNEL(t,r),isGuest:!0,authBoxClassName:m.default.card}))},t}(a.PureComponent);g.modalConfig={store:s.default,closable:!0},g.displayName="Login",t.default=g,e.exports=t.default},8197:function(e,t,n){"use strict";t.__esModule=!0;var r=f(n(4)),o=f(n(1)),a=f(n(12)),i=f(n(340)),l=f(n(51)),u=f(n(155)),s=f(n(6073)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=d.FormStates.CLOSED;function p(){c=d.FormStates.CLOSED}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,a.default,i.default)},t.prototype.isOpen=function(){return!s.default.hasAction()&&c!==d.FormStates.CLOSED},t.prototype.getProps=function(){var e=u.default.getGuildId();return{guildId:e,channelId:l.default.getChannelId(e),guestGuildId:i.default.getGuildId()}},t}(r.default.Store);t.default=new h(o.default,{LOGIN_MODAL_OPEN:function(e){return function(){if(!a.default.isGuest())return!1;c=d.FormStates.OPEN}()},LOGIN_SUCCESS:function(e){c===d.FormStates.OPEN&&(c=d.FormStates.CLOSED)},LOGIN_MODAL_CLOSE:function(e){return p()},CONNECTION_CLOSED:function(e){return p()},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},8198:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var u=Array(a),s=0;s<a;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),f=N(n(159)),c=N(n(7308)),p=N(n(6238)),h=N(n(8199)),y=N(n(7309)),m=N(n(6060)),v=N(n(8200)),_=N(n(7305)),E=N(n(18)),g=N(n(6030)),S=N(n(8201)),T=N(n(8202)),I=n(0),C=N(n(5919));function N(e){return e&&e.__esModule?e:{default:e}}var A=(0,f.default)({WELCOME:null,GUILD_CREATE:null,SKIP:null,DONE:null}),O=(0,f.default)({CREATE_GUILD:null,CREATED_GUILD:null,SKIP_NUF:null}),b=(0,f.default)({MARK_WELCOME_SEEN:null,HANDLE_SKIP:null,HANDLE_DONE:null}),M=function(e){var t,n,r;return{id:"NewUserNUF",initial:1===e?A.GUILD_CREATE:A.WELCOME,states:(r={},r[A.WELCOME]={on:(t={},t[O.SKIP_NUF]={target:A.SKIP,actions:b.HANDLE_SKIP},t[O.CREATE_GUILD]=A.GUILD_CREATE,t)},r[A.GUILD_CREATE]={on:(n={},n[O.SKIP_NUF]={target:A.SKIP,actions:b.HANDLE_SKIP},n[O.CREATED_GUILD]={target:A.DONE,actions:b.HANDLE_DONE},n),onEntry:b.MARK_WELCOME_SEEN},r[A.SKIP]={type:"final",on:{}},r[A.DONE]={type:"final",on:{}},r)}},R=((r={})[A.WELCOME]=function(e){return s(T.default,{onNext:function(){return e(O.CREATE_GUILD,{direction:1})},onSkip:function(){return e(O.SKIP_NUF)}})},r[A.GUILD_CREATE]=function(e){return s(S.default,{onDone:function(){return e(O.CREATED_GUILD)},onSkip:function(){return e(O.SKIP_NUF)},createGuild:c.default.createGuildPromise,progress:100})},r[A.SKIP]=I.NOOP_NULL,r[A.DONE]=I.NOOP_NULL,r),P=((o={})[b.MARK_WELCOME_SEEN]=function(){c.default.setStep(1),E.default.track(I.AnalyticEvents.OPEN_MODAL,{type:"Create Guild Step 2",source:"New User Modal"})},o[b.HANDLE_SKIP]=function(){c.default.setStep(-1)},o[b.HANDLE_DONE]=function(){c.default.setStep(2)},o),L=(0,g.default)(v.default,((i={})[I.ExperimentTypes.NONE]=function(e){return d.createElement(h.default,e)},i[I.ExperimentTypes.USER]=((a={})[I.ExperimentBuckets.CONTROL]=function(e){return d.createElement(h.default,e)},a[I.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return d.createElement(h.default,e)},a[I.ExperimentBuckets.TREATMENT_1]=function(e){return s(_.default,{className:C.default.slideContainer,stateChart:e.stateChart,slideStates:R,slideActions:P})},a),i)),w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.stateChart=M(n.step),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){null==m.default.getRegions(null)&&p.default.fetchDefaultRegions()},t.prototype.render=function(){return d.createElement(L,u({},this.props,{stateChart:this.stateChart}))},t}(d.PureComponent);w.modalConfig={store:y.default,center:!0,closable:!1},w.displayName="NewUser",t.default=w,e.exports=t.default},8199:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=g(n(17)),l=g(n(308)),u=g(n(309)),s=g(n(443)),d=g(n(310)),f=g(n(4)),c=g(n(833)),p=g(n(7308)),h=g(n(7309)),y=g(n(15)),m=g(n(6571)),v=g(n(6401)),_=g(n(13)),E=g(n(5915));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{getInitialState:function(){return{translateX:new d.default.Value(0)}},componentDidAppear:function(){this.state.translateX.setValue(1)},componentWillEnter:function(e){d.default.spring(this.state.translateX,{toValue:1}).start(e)},componentWillLeave:function(e){d.default.spring(this.state.translateX,{toValue:0}).start(e)},getAnimatedStyle:function(){return d.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:[e?"-100%":"100%","0%"]})}]})}}}var I=(0,l.default)({displayName:"Step1",mixins:[s.default,f.default.StoreListenerMixin(h.default,y.default),T(!0)],getStateFromStores:function(){return{user:y.default.getCurrentUser()}},render:function(){var e=this.state.user;return null==e?null:o(d.default.li,{className:E.default.step1,style:this.getAnimatedStyle()},void 0,o("h5",{},void 0,_.default.Messages.NUF_TITLE.format({username:e.toString()})),o("p",{},void 0,_.default.Messages.NUF_BODY.format()))}}),C=(0,l.default)({displayName:"Step2",mixins:[s.default,T()],propTypes:{guild:u.default.shape({name:u.default.string.isRequired,region:u.default.string}).isRequired,onGuildChange:u.default.func.isRequired,errors:u.default.object.isRequired},componentDidMount:function(){0===this.props.guild.name.length&&this.refs["guild-name"].focus()},handleNameChange:function(e){this.props.onGuildChange({name:e.currentTarget.value})},handleRegionChange:function(e){this.props.onGuildChange({region:e})},handleIconChange:function(e){this.props.onGuildChange({icon:e})},render:function(){var e,t,n=this,r=function(e){return null!=n.props.errors[e]};return o(d.default.li,{className:E.default.step2,style:this.getAnimatedStyle()},void 0,o("h5",{},void 0,_.default.Messages.CREATE_SERVER_TITLE),o("p",{},void 0,_.default.Messages.CREATE_SERVER_DESCRIPTION.format()),o("ul",{className:E.default.guildForm},void 0,o("li",{},void 0,o("div",{className:(0,i.default)(E.default.controlGroup,(e={},e[E.default.error]=r("name"),e))},void 0,o("label",{htmlFor:"guild-name"},void 0,_.default.Messages.FORM_LABEL_SERVER_NAME," ",r(t="name")?o("span",{className:E.default.error},void 0,"(",n.props.errors[t],")"):null),a.createElement("input",{id:"guild-name",ref:"guild-name",type:"text",defaultValue:this.props.guild.name,onChange:this.handleNameChange,placeholder:_.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),o("div",{className:E.default.controlGroup},void 0,o("label",{htmlFor:"guild-region"},void 0,_.default.Messages.FORM_LABEL_SERVER_REGION),o(v.default,{id:"guild-region",value:this.props.guild.region,onChange:this.handleRegionChange}))),o("li",{},void 0,o(m.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange,avatarClassName:E.default.avatar}))))}}),N=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.close=function(){p.default.setStep()},r.handleGuildChange=function(e){p.default.updateTemporaryGuild(e)},r.handleNextStep=function(e){e.preventDefault(),1===r.props.step?p.default.createGuild(r.props.guild.name,r.props.guild.region,r.props.guild.icon):p.default.setStep(r.props.step+1)},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n=void 0,r=void 0;switch(this.props.step){case 0:r=o(I,{},this.props.step),n=_.default.Messages.GET_STARTED;break;case 1:default:r=o(C,{guild:this.props.guild,onGuildChange:this.handleGuildChange,errors:this.props.errors},this.props.step),n=_.default.Messages.DONE}return o("form",{className:(0,i.default)(E.default.modalNewUser,E.default.form),onSubmit:this.handleNextStep},void 0,o(c.default,{className:E.default.steps,component:"ul"},void 0,r),o("div",{className:E.default.formActions},void 0,o("div",{className:E.default.stepsWrap},void 0,o("ul",{className:E.default.steps},void 0,o("li",{className:(0,i.default)((e={},e[E.default.active]=0===this.props.step,e[E.default.on]=this.props.step>=0,e))}),o("li",{className:E.default.divider}),o("li",{className:(0,i.default)((t={},t[E.default.active]=1===this.props.step,t[E.default.on]=this.props.step>=1,t))}))),o("button",{type:"button",className:(0,i.default)(E.default.btn,E.default.btnDefault),onClick:this.close},void 0,_.default.Messages.SKIP),o("button",{type:"submit",className:(0,i.default)(E.default.btn,E.default.btnPrimary),disabled:this.props.guildSubmitting},void 0,n)))},t}(a.PureComponent);N.modalConfig={store:h.default,center:!0,closable:!1},N.displayName="NewUser",t.default=N,e.exports=t.default},8200:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=d(n(4)),i=d(n(1)),l=d(n(136)),u=d(n(58)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default],f)},t.prototype.getExperimentId=function(){return s.Experiments.REDESIGNED_NUF},t.prototype.getMetaData=function(){return{title:"Redesigned NUF Experiment",description:["Control: Old NUF Modals","Treatment 1: Redesigned NUF Modals"]}},t.prototype.getExperimentDescriptor=function(){return u.default.getOverrideExperimentDescriptor(this.getExperimentId())||u.default.getEligibleExperiment(this.getExperimentId())},t.prototype.showRedesignedModals=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===s.ExperimentBuckets.TREATMENT_1},t.prototype.isOpen=function(){return!1},t}(a.default.Store))(i.default);l.default.register(c,((o={})[s.ExperimentTypes.USER]=((r={})[s.ExperimentBuckets.CONTROL]=function(){return null},r[s.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o)),t.default=c,e.exports=t.default},8201:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=S(n(17)),l=S(n(4)),u=S(n(6072)),s=S(n(6060)),d=S(n(35)),f=S(n(128)),c=S(n(222)),p=S(n(6056)),h=S(n(129)),y=S(n(828)),m=n(829),v=S(n(6169)),_=n(0),E=S(n(13)),g=S(n(5916));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={name:"",icon:null,submitting:!1,error:null},r.handleNameChange=function(e){r.setState({name:e})},r.handleIconChange=function(e){r.setState({icon:e})},r.handleSubmit=function(e){e.preventDefault();var t=r.props,n=t.region,o=t.onDone,a=t.createGuild;null!=n&&(""!==r.state.name?(r.setState({submitting:!0,error:null}),a(r.state.name,n,r.state.icon).then(function(){r.setState({submitting:!1}),o()},function(e){null!=e.name&&r.setState({submitting:!1,error:e.name})})):r.setState({error:E.default.Messages.SERVER_NAME_REQUIRED}))},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCloseButton=function(){var e=this.props.onClose;return null==e?null:o(c.default.CloseButton,{onClick:e})},t.prototype.renderPreviousButton=function(){var e=this.props,t=e.onSkip,n=e.onBack;return null!=t?o(f.default,{look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY,onClick:t},void 0,E.default.Messages.SKIP):null!=n?o(f.default,{className:g.default.backButton,size:g.default.backButtonSize,look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY,onClick:n},void 0,E.default.Messages.BACK):null},t.prototype.render=function(){var e,t=this.props,n=t.region,r=t.theme,a=t.progress;if(null==n)return null;var l=this.state,u=l.name,s=l.icon,d=l.error,S=l.submitting;return o(c.default,{tag:"form",onSubmit:this.handleSubmit,size:g.default.size,className:g.default.modal},void 0,o(c.default.Header,{},void 0,o(m.FormTitle,{tag:m.FormTitle.Tags.H4},void 0,E.default.Messages.CREATE_SERVER_TITLE),this.renderCloseButton()),o(c.default.Content,{className:g.default.content},void 0,o(h.default,{className:g.default.description,color:h.default.Colors.PRIMARY},void 0,E.default.Messages.CREATE_SERVER_DESCRIPTION.format()),o("div",{className:g.default.form},void 0,o(v.default,{showIcon:!0,name:u,avatar:s,onChange:this.handleIconChange,className:g.default.avatar,avatarClassName:g.default.avatarInner}),o("div",{className:g.default.input},void 0,o(m.FormItem,{title:E.default.Messages.FORM_LABEL_SERVER_NAME},void 0,o(y.default,{type:"text",value:u,maxLength:100,onChange:this.handleNameChange,error:d,autoFocus:!0})),o(h.default,{size:h.default.Sizes.SMALL,color:h.default.Colors.PRIMARY,className:g.default.hintText},void 0,E.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:_.MarketingURLs.GUIDELINES}))))),o(c.default.Footer,{className:g.default.footer},void 0,o("div",{className:(0,i.default)(g.default.buttonContainer,(e={},e[g.default.spaceBetween]=null==a,e))},void 0,this.renderPreviousButton(),o(f.default,{disabled:S,onClick:this.handleSubmit},void 0,E.default.Messages.CREATE)),null!=a?o(p.default,{className:g.default.progress,size:p.default.Sizes.LARGE,foregroundColor:_.Colors.Brand,backgroundColor:r===_.ThemeTypes.DARK?_.Colors.PRIMARY_DARK:_.Colors.PRIMARY_DARK_300,percent:a,animate:!0}):null))},t}(a.PureComponent);I.defaultProps={createGuild:u.default.createGuildPromise},I.displayName="CreateGuildSlide",t.default=l.default.connectStores([s.default],function(){return{region:s.default.getOptimalRegionId(),theme:d.default.theme}})(I),e.exports=t.default},8202:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),v(n(4))),i=v(n(35)),l=v(n(15)),u=v(n(128)),s=v(n(222)),d=v(n(6056)),f=v(n(129)),c=n(829),p=v(n(8203)),h=n(0),y=v(n(13)),m=v(n(5918));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){var t=e.username,n=e.theme,r=e.onNext,a=e.onSkip;return o(s.default,{className:m.default.modal},void 0,o(s.default.Header,{},void 0,o(c.FormTitle,{tag:c.FormTitle.Tags.H4},void 0,y.default.Messages.NUF_TITLE.format({username:t}))),o(s.default.Content,{className:m.default.content},void 0,o(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,y.default.Messages.NUF_BODY.format()),o(p.default,{className:m.default.welcomeImage,hovered:!0,hideBackgroundMist:!0})),o(s.default.Footer,{className:m.default.footer},void 0,o("div",{className:m.default.buttonContainer},void 0,o(u.default,{look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:a},void 0,y.default.Messages.SKIP),o(u.default,{onClick:r,className:m.default.button},void 0,y.default.Messages.GET_STARTED)),o(d.default,{className:m.default.progress,size:d.default.Sizes.LARGE,foregroundColor:h.Colors.Brand,backgroundColor:n===h.ThemeTypes.DARK?h.Colors.PRIMARY_DARK:h.Colors.PRIMARY_DARK_300,percent:50,animate:!0})))};_.displayName="WelcomeSlide",t.default=a.default.connectStores([l.default],function(){var e=l.default.getCurrentUser();return{username:null!=e?e.toString():"",theme:i.default.theme}})(_),e.exports=t.default},8203:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=u(n(17)),l=u(n(5917));function u(e){return e&&e.__esModule?e:{default:e}}var s=o("path",{fill:"#202225",d:"M70.207 207.263H53.983a1 1 0 0 0 0 2h8.76a1 1 0 0 1 1 1v3.2a1 1 0 1 0 2 0v-3.2a1 1 0 0 1 1-1h3.464a1 1 0 0 0 0-2"}),d=o("g",{transform:"translate(0 5.796)"},void 0,o("path",{fill:"#202225",d:"M191.989 79.372a5 5 0 0 1-5-5V55.875a3.998 3.998 0 0 1 7.997 0v5.497a1 1 0 0 0 1 1h9.997a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.998-3.998h6.005a3.998 3.998 0 0 1 3.999 3.998v5.497a1 1 0 0 0 1 1h9.996a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.999-3.998h8.006a3.998 3.998 0 0 1 3.999 3.998v18.497a5 5 0 0 1-5 5h-51.996zm51.002 38.032a4 4 0 0 1-4 4H217.04a3.34 3.34 0 0 1-3.34-3.34v-5.676a1 1 0 1 0-2 0v5.676a3.34 3.34 0 0 1-3.34 3.34h-6.377a1 1 0 1 0 0 2h37.008a4 4 0 0 1 4 4v50.048a4 4 0 0 1-4 4h-8.002a1 1 0 0 0 0 2h8.002a4 4 0 0 1 4 4V216a3 3 0 0 1-3 3h-44.008a3 3 0 0 1-3-3v-6.532a6 6 0 0 1 6-6h22.224a1 1 0 0 0 0-2h-22.224a6 6 0 0 1-6-6V148.42a5 5 0 0 1 5-5h3.224a1 1 0 0 0 0-2h-3.224a5 5 0 0 1-5-5v-32.032a1 1 0 0 1 1-1h5.224a1 1 0 0 0 0-2h-2.224a4 4 0 0 1-4-4V87.372a4 4 0 0 1 4-4H218.2a4 4 0 0 1 4 4v10.016a4 4 0 0 1-4 4h-9.743a1 1 0 1 0 0 2h18.534a1 1 0 0 0 0-2H225.2a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h16.79a1 1 0 0 1 1 1v33.032zM188.48 88.377h-17.436a7 7 0 0 1-7-7V77.01a4 4 0 0 1 4-4h10.945a6 6 0 0 1 6 6v.87a3.491 3.491 0 0 0 3.49 3.492 2.503 2.503 0 0 1 0 5.005zm2.503 19.016a1 1 0 0 1-1 1H178.2a4 4 0 0 1-4-4v-9.016a1 1 0 1 0-2 0v9.016a4 4 0 0 1-4 4h-12.993a1 1 0 0 0 0 2h34.776a1 1 0 0 1 1 1v53.048a4 4 0 0 1-4 4h-13.776a1 1 0 0 0 0 2h4.944a4.55 4.55 0 0 1 4.549 4.55v8.917a4.55 4.55 0 0 1-4.55 4.549h-7.407a4 4 0 0 1-4-4v-31.482a2.555 2.555 0 0 1 2.548-2.55h10.916a1 1 0 0 0 0-2h-3.833a3.34 3.34 0 0 1-3.34-3.34v-4.418a1 1 0 0 0-2 0v4.418a3.34 3.34 0 0 1-3.34 3.34h-.414a.994.994 0 0 1-.98-.845c-2.301-14.3-13.546-25.64-27.798-28.082-.028-.007-.056-.01-.084-.015a34.033 34.033 0 0 0-5.675-.483c-15.598 0-28.77 10.56-32.755 24.906-.734 2.643-3.07 4.519-5.813 4.519h-1.193a1 1 0 0 0 0 2h4.806a1 1 0 0 1 .995 1.06c-.025.502-.04 1.007-.04 1.515v.736c-3.956-1.055-7.942-1.781-11.814-2.114a.992.992 0 0 1-.913-.99l-.008-19.222a1 1 0 0 1 1-1h15.199a1 1 0 0 0 0-2 3.34 3.34 0 0 1-3.34-3.34v-2.666a1 1 0 0 0-2 0v2.666a3.34 3.34 0 0 1-3.34 3.34h-6.521c-.552 0-1-.448-1-1l-.021-50.398a4 4 0 0 1 4-4.002h11.999a4 4 0 0 1 4 4v9.013a4 4 0 0 0 4 4h9.027a4 4 0 0 0 4-4V77.01a4 4 0 0 1 4-4h14.165a3.839 3.839 0 0 1 3.839 3.839 1 1 0 0 0 2 0v-.84a3 3 0 0 1 3-3h2.008a3 3 0 0 1 3 3v9.014a3 3 0 0 1-3 3h-2.008a3 3 0 0 1-3-3V83.8a1 1 0 0 0-2 0v.737a3.839 3.839 0 0 1-3.84 3.839h-9.968a1 1 0 0 0 0 2h5.676a1 1 0 0 1 1 1v5.29a1 1 0 1 0 2 0v-5.29a1 1 0 0 1 1-1h49.1a1 1 0 0 1 1 1v16.016zm0 100.08a1 1 0 0 1-1 1H183.7a1 1 0 1 0 0 2h6.283a1 1 0 0 1 1 1V218a1 1 0 0 1-1 1h-22.24a1 1 0 0 1-1-1v-23.543a4 4 0 0 1 4-4h16.04a1 1 0 1 0 0-2H185.7a1 1 0 0 1-1-1V171.44a1 1 0 0 1 1-1h5.283v37.033zm-26.24 5.947c0 .96-1.221 1.369-1.798.602l-30.086-39.908c-4.48-5.941-11.95-11.352-20.535-15.403a.992.992 0 0 1-.572-.897V153c0-15.56 11.028-28.737 26.277-31.486.128-.023.26-.023.389 0 14.946 2.688 26.325 15.779 26.325 31.486v60.42zm-64-59.86V153c0-15.296 10.79-28.113 25.158-31.254 1.106-.241 1.713 1.27.734 1.838-10.223 5.924-16.883 16.952-16.883 29.416v3.054a.998.998 0 0 1-1.382.92 81.032 81.032 0 0 0-6.921-2.463.994.994 0 0 1-.706-.951zM162.186 219h-61.49L66.86 174.114c-3.733-4.951-4.784-9.694-2.96-13.353 2.328-4.671 9.016-7.35 18.348-7.35 17.92 0 39.909 9.828 49.015 21.907l31.723 42.08a1 1 0 0 1-.8 1.602zm-75.141 0a1 1 0 0 1-1-1l-.004-8.934c-.001-1.986 2.527-2.833 3.723-1.247l8.429 11.18H87.045zm-6.001 0H47.983a3 3 0 0 1-3-3v-31.548a1 1 0 0 1 1-1h10.224a1 1 0 0 0 0-2h-.673a1 1 0 0 1-1-1v-8.016a1 1 0 0 0-2 0v8.016a1 1 0 0 1-1 1h-2.551a4 4 0 0 1-4-4v-8.016a6 6 0 0 1 6-6h6.224a1 1 0 0 0 0-2H45.983a1 1 0 0 1-1-1V146.42a3 3 0 0 1 3-3h5.224a1 1 0 0 0 0-2h-5.224a3 3 0 0 1-3-3v-34.032a1 1 0 0 1 1-1h5.224a1 1 0 0 0 0-2h-1.224a5 5 0 0 1-5-5v-8.016a5 5 0 0 1 5-5H69.2a5 5 0 0 1 5 5v8.016a5 5 0 0 1-5 5h-8.743a1 1 0 1 0 0 2H78.99a1 1 0 0 0 0-2H77.2a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h5.788a1 1 0 0 1 1 1l.015 36.03a1 1 0 0 1-1 1.002H69.427a3.727 3.727 0 0 1-3.727-3.727v-5.29a1 1 0 1 0-2 0v5.29a3.727 3.727 0 0 1-3.726 3.727h-5.991a1 1 0 1 0 0 2h26.023a4 4 0 0 1 4 3.998v1.885c-.004.042-.024.079-.024.123 0 .043.02.08.025.123l.009 20.158c0 .963-.79 1.722-1.752 1.72h-.017c-10.12 0-17.46 3.083-20.137 8.457-2.181 4.374-1.061 9.86 3.152 15.45l18.574 24.638c.13.174.2.385.202.602l.006 15.44a2.999 2.999 0 0 1-3 3.002zM38.989 74.372V55.875a3.998 3.998 0 0 1 7.997 0v5.497a1 1 0 0 0 1 1h9.997a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.998-3.998h6.005a3.998 3.998 0 0 1 3.999 3.998v5.497a1 1 0 0 0 1 1h9.996a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.999-3.998h8.006a3.998 3.998 0 0 1 3.999 3.998V70.01a1 1 0 0 1-1 1H84.982a1 1 0 0 0-1 1l.002 2.36a4.998 4.998 0 0 1-4.998 5.002H43.989a5 5 0 0 1-5-5zm68.995 1.638a3 3 0 0 1 3-3h1.007a3 3 0 0 1 3 3v9.013a3 3 0 0 1-3 3h-1.007a3 3 0 0 1-3-3V76.01zm-72.98 73.566l-11-9.452-11 9.452v-56.33a1 1 0 0 1 2 0v45.225a1 1 0 0 0 1.486.874l7.514-7.514 7.514 7.514a1.003 1.003 0 0 0 .993-.013.997.997 0 0 0 .493-.861V93.246a1 1 0 0 1 2 0v56.33zm-18-52.253a5.078 5.078 0 0 1 5.077-5.077h3.846a5.077 5.077 0 0 1 5.077 5.077v37.446l-7-7.228-7 7.228V97.323zM3.76 92.746a1.501 1.501 0 0 1 0-3c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5zM214.18 7.532c0-2.18 2.252-3.631 4.237-2.733l14.88 6.728c2.452 1.109 2.317 4.636-.213 5.553l-14.88 5.399c-1.956.709-4.023-.74-4.023-2.82V7.532zM248.73 219h-2.74a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h.995a4 4 0 0 0 4-4V53.875a3.998 3.998 0 0 0-4-3.998H234.98a3.998 3.998 0 0 0-4 3.998v5.497a1 1 0 0 1-1 1h-5.995a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-4-3.998h-3.804a1 1 0 0 1-1-1v-22.11a1 1 0 0 1 .66-.94l28.169-10.22a1 1 0 0 0 .07-1.851L213.594.422a1 1 0 0 0-1.412.91v47.545a1 1 0 0 1-1 1h-2.2a3.998 3.998 0 0 0-3.998 3.998v5.497a1 1 0 0 1-1 1h-5.997a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-3.998-3.998h-4a3.998 3.998 0 0 0-4 3.998V64.01a7 7 0 0 1-7 7h-11.944a4 4 0 0 0-4 4v11.003c0 1.11-.9 2.01-2.01 2.01h-1.001c-1.11 0-2.01-.9-2.01-2.01V75.01a4 4 0 0 0-4-4H125.01a4 4 0 0 0-4 4v10.896c0 1-.684 1.929-1.672 2.09a2.012 2.012 0 0 1-2.348-1.983V75.01a4 4 0 0 0-4-4h-9.006a1 1 0 0 1-1-1V53.875a3.998 3.998 0 0 0-4-3.998H86.98a3.998 3.998 0 0 0-4 3.998v5.497a1 1 0 0 1-1 1h-5.995a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-4-3.998h-2.804a1 1 0 0 1-1-1v-22.11a1 1 0 0 1 .66-.94l28.169-10.22a1 1 0 0 0 .07-1.851L80.107 6.533a1 1 0 1 0-.824 1.822l7.015 3.172c2.452 1.109 2.317 4.636-.213 5.553l-14.88 5.399c-1.956.71-4.023-.74-4.023-2.82V7.532c0-2.18 2.25-3.631 4.236-2.733l1.414.639a1 1 0 0 0 .825-1.822L66.593.422a1 1 0 0 0-1.412.91v47.545a1 1 0 0 1-1 1h-3.2a3.998 3.998 0 0 0-3.998 3.998v5.497a1 1 0 0 1-1 1h-5.997a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-3.998-3.998h-4a3.998 3.998 0 0 0-4 3.998v25.497a4 4 0 0 0 4 4h.995a1 1 0 0 1 1 1v4.875a1 1 0 0 1-1 1l-32.791-.001a3.733 3.733 0 0 1-2.814-1.302 3.468 3.468 0 0 0-3.31-1.131C1.753 88.067.66 89.105.357 90.41a3.508 3.508 0 0 0 3.403 4.336 3.459 3.459 0 0 0 2.674-1.265c.672-.812 1.705-1.235 2.759-1.235l1.014.42c1 0 .797.39.797 1.392v57.218a1 1 0 0 0 1.486.874l11.514-9.737 11.514 9.737a1 1 0 0 0 1.486-.874V94.204c0-1.082.877-1.958 1.958-1.958h3.02a1 1 0 0 1 1 1V218a1 1 0 0 1-1 1H1a1 1 0 0 0 0 2h247.73a1 1 0 1 0 0-2z"})),f=o("path",{fill:"#202225",d:"M177.332 214.27h-4.125a1 1 0 0 0 0 2h4.125a1 1 0 0 0 0-2M96.867 116.788v3.425a1 1 0 0 0 2 0v-3.425a1 1 0 0 0-2 0"}),c=o("path",{fill:"#202225",d:"M232.207 168.232a1 1 0 0 0-1-1h-35.225a1 1 0 0 0 0 2h.001a4.55 4.55 0 0 1 4.55 4.55v7.68a1 1 0 0 0 2 0v-7.68a4.55 4.55 0 0 1 4.55-4.55h24.124a1 1 0 0 0 1-1M217.987 187.248h-4.78a1 1 0 1 0 0 2h4.78a1 1 0 0 0 0-2M226.987 187.248h-.78a1 1 0 1 0 0 2h.78a1 1 0 0 0 0-2"}),p=o("path",{fill:"#B9BBBE",d:"M3.76 95.542c-.828 0-1.5.673-1.5 1.5s.672 1.5 1.5 1.5c.826 0 1.5-.673 1.5-1.5s-.674-1.5-1.5-1.5"}),h=o("path",{fill:"#202225",d:"M25.754 206.863l-.008-.168v-3.244c0-.237.021-.474.063-.707l1.598-8.9a1.173 1.173 0 1 0-2.31-.416l-.755 4.202a.168.168 0 0 1-.277.097 4.5 4.5 0 0 0-3.257-1.016c-2.394.202-4.16 2.35-4.16 4.753v2.335c0 .746-.278 1.465-.78 2.017l-4.546 5.004a1.173 1.173 0 0 0 1.738 1.58l3.411-3.755-.257 2.665a4.073 4.073 0 0 0 .844 2.9c.163.21.258.464.237.728l-.799 10.007a1.174 1.174 0 0 0 2.341.188l.675-8.462a1 1 0 0 1 1.004-.92l1.194.008a1 1 0 0 1 .99.92l.675 8.454a1.173 1.173 0 0 0 2.34-.188l-.785-9.825a1.062 1.062 0 0 1 .272-.767 4.08 4.08 0 0 0 .977-3.055l-.425-4.435z"}),y=o("g",{transform:"translate(126 -.204)"},void 0,o("path",{fill:"#D3D6ED",d:"M3.032.497a.999.999 0 0 0-1.414 0L.435 1.68A.999.999 0 1 0 1.85 3.094l1.183-1.183a.999.999 0 0 0 0-1.414"})),m=o("path",{fill:"#D3D6ED",d:"M121.702 6.21l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.184a.999.999 0 1 0-1.414-1.414M127.85 6.21a.999.999 0 1 0-1.415 1.413l1.183 1.184a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L127.85 6.21zM123.116 1.476L121.933.293a1 1 0 0 0-1.414 1.414l1.183 1.183a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414"}),v=o("path",{fill:"#FFF",d:"M155.136 22.972a4.054 4.054 0 1 1-8.107 0 4.054 4.054 0 0 1 8.107 0"}),_=o("path",{fill:"#202225",d:"M151.083 19.919a3.057 3.057 0 0 0-3.053 3.053 3.056 3.056 0 0 0 3.053 3.052 3.056 3.056 0 0 0 3.053-3.052 3.057 3.057 0 0 0-3.053-3.053m0 8.105a5.058 5.058 0 0 1-5.053-5.052 5.06 5.06 0 0 1 5.053-5.053 5.06 5.06 0 0 1 5.053 5.053 5.058 5.058 0 0 1-5.053 5.052"}),E=o("path",{fill:"#D3D6ED",d:"M2.662 171.946a1.51 1.51 0 0 1-1.51 1.51 1 1 0 0 0 0 2c.834 0 1.51.676 1.51 1.51a1 1 0 0 0 2 0c0-.834.676-1.51 1.51-1.51a1 1 0 0 0 0-2 1.51 1.51 0 0 1-1.51-1.51 1 1 0 0 0-2 0"}),g=o("path",{d:"M0-1h251v228H0z"}),S=o("path",{d:"M-55-67h360v360H-55z"}),T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n,r,a=this.props,u=a.className,T=a.hovered,I=a.isGreen,C=a.hideBackgroundMist;return o("svg",{className:u,xmlns:"http://www.w3.org/2000/svg",width:"164",height:"147",viewBox:"0 0 251 227"},void 0,o("g",{fill:"none",fillRule:"evenodd"},void 0,C?null:o("g",{transform:"translate(6 52.796)"},void 0,o("path",{className:l.default.background,d:"M208.52 152.196H27.37c-11.694 0-21.175-9.48-21.175-21.176 0-11.695 9.48-21.176 21.175-21.176h1.648c17.116 0 30.99-13.875 30.99-30.99 0-17.116-13.874-30.99-30.99-30.99h-5.085C10.873 47.863.287 37.276.287 24.217.288 11.14 10.902.545 23.98.573 55.478.64 126.548.498 157.416.404c12.4-.037 22.47 10.004 22.47 22.404v29.934c0 14.65.304 26.526 14.954 26.526h14.775c19.535 0 35.37 15.836 35.37 35.37v1.094c0 20.14-16.326 36.464-36.465 36.464"})),o("path",{className:l.default.body,d:"M82.985 87.168a1 1 0 0 0 1-1l-.003-8.362a.997.997 0 0 1 1-1H99.984a1 1 0 0 0 1-1V58.673a1 1 0 0 0-1-1H85.981a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1H59.982a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-5.997a1 1 0 0 0-1 1v27.495a1 1 0 0 0 1 1h42.997zM187.989 87.168h59.996a1 1 0 0 0 1-1V58.673a1 1 0 0 0-1-1H233.98a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.996a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-12.002a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-5.997a1 1 0 0 0-1 1v27.495a1 1 0 0 0 1 1M70.207 209.263h-3.464a1 1 0 0 0-1 1v3.2a1 1 0 0 1-2 0v-3.2a1 1 0 0 0-1-1h-8.76a1 1 0 0 1 0-2h16.224a1 1 0 0 1 0 2zm13.83-2.91a.996.996 0 0 0-.202-.6l-18.572-24.639c-4.215-5.59-5.334-11.077-3.154-15.45 2.68-5.375 10.018-8.457 20.137-8.457.25 0 .5.002.75.006a.996.996 0 0 0 1.02-.993l-.01-20.892c-.005-.042-.025-.08-.025-.123 0-.044.02-.08.026-.123l-.003-4.883a1 1 0 0 0-1-1H53.982a1 1 0 0 1 0-2H62.7a1 1 0 0 0 1-1v-8.016a1 1 0 1 1 2 0v8.016a1 1 0 0 0 1 1h16.302a1 1 0 0 0 1-1l-.014-36.032c-.001-.552-.448-1-1-1H77.2a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h1.79a1 1 0 0 1 0 2H60.456a1 1 0 0 1 0-2h12.745a1 1 0 0 0 1-1V90.167a1 1 0 0 0-1-1H45.983a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.224a1 1 0 0 1 0 2h-5.224a1 1 0 0 0-1 1v36.032a1 1 0 0 0 1 1h7.224a1 1 0 0 1 0 2h-7.224a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h11.224a1 1 0 0 1 0 2H45.983a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.55a1 1 0 0 0 1-1v-8.016a1 1 0 0 1 2 0v8.016a1 1 0 0 0 1 1h.673a1 1 0 0 1 0 2H45.983a1 1 0 0 0-1 1v33.55a1 1 0 0 0 1 1h37.063a1 1 0 0 0 1-1.002l-.008-17.442z"}),o("path",{className:l.default.body,d:"M97.867 121.213a1 1 0 0 1-1-1v-3.425a1 1 0 0 1 2 0v3.425a1 1 0 0 1-1 1zm-.875-42.407h-10.01a1 1 0 0 0-1 1l.024 53.4c0 .552.448 1 1 1h8.86a1 1 0 0 0 1-1V128.2a1 1 0 0 1 2 0v5.006a1 1 0 0 0 1 1h2.34a1 1 0 1 1 0 2H87.009a1 1 0 0 0-1 1l.008 19.223c0 .518.396.945.913.988 3.873.333 7.858 1.06 11.814 2.114v-.736c0-.507.015-1.012.04-1.514a1 1 0 0 0-.995-1.06h-4.806a1 1 0 1 1 0-2h5.224c.492 0 .9-.36.979-.846 2.604-16.18 16.656-28.58 33.558-28.58 1.934 0 3.828.171 5.675.483.028.005.056.008.084.015 14.252 2.444 25.497 13.782 27.799 28.082a.994.994 0 0 0 .979.845h2.754a1 1 0 0 0 1-1v-6.757a1 1 0 0 1 2 0v6.757a1 1 0 0 0 1 1h6.173a1 1 0 0 1 0 2h-12.51a1 1 0 0 0-.994 1.06c.025.502.04 1.007.04 1.516v34.458a1 1 0 0 0 1 1H181.7a1 1 0 0 0 1-1v-16.017a1 1 0 0 0-1-1h-8.493a1 1 0 1 1 0-2h17.576c.07 0 .133.026.2.04V117.19a1 1 0 0 0-1-1h-34.776a1 1 0 0 1 0-2H171.2a1 1 0 0 0 1-1v-12.017a1 1 0 0 1 2 0v12.016a1 1 0 0 0 1 1h14.783a1 1 0 0 0 1-1V97.173a1 1 0 0 0-1-1h-49.1a1 1 0 0 0-1 1v5.29a1 1 0 0 1-2 0v-5.29a1 1 0 0 0-1-1h-5.676a1 1 0 1 1 0-2h19.808a1 1 0 0 0 1-1V79.805a1 1 0 0 0-1-1h-27.003a1 1 0 0 0-1 1v12.013a4 4 0 0 1-4 4H109.984a4 4 0 0 1-4-4V79.805a1 1 0 0 0-1-1h-7.992zM203.534 169.232a1 1 0 0 0-1 1v11.23a1 1 0 0 1-2 0v-11.23a1 1 0 0 0-1-1h-3.551a1 1 0 1 1 0-2h35.224a1 1 0 0 1 0 2h-27.673zm14.453 20.016h-4.78a1 1 0 0 1 0-2h4.78a1 1 0 0 1 0 2zm9 0h-.78a1 1 0 0 1 0-2h.78a1 1 0 0 1 0 2zm16.004 34.548v-33.548a1 1 0 0 0-1-1h-11.002a1 1 0 0 1 0-2h11.002a1 1 0 0 0 1-1V130.2a1 1 0 0 0-1-1h-40.008a1 1 0 1 1 0-2h8.718a1 1 0 0 0 1-1v-8.017a1 1 0 1 1 2 0v8.016a1 1 0 0 0 1 1h27.29a1 1 0 0 0 1-1V90.168a1 1 0 0 0-1-1H225.2a1 1 0 0 0-1 1v16.015a1 1 0 0 0 1 1h1.79a1 1 0 1 1 0 2h-18.534a1 1 0 0 1 0-2H221.2a1 1 0 0 0 1-1V90.167a1 1 0 0 0-1-1h-27.218a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.224a1 1 0 1 1 0 2h-5.224a1 1 0 0 0-1 1v36.032a1 1 0 0 0 1 1h7.224a1 1 0 0 1 0 2h-7.224a1 1 0 0 0-1 1v56.048a1 1 0 0 0 1 1h27.224a1 1 0 1 1 0 2h-27.224a1 1 0 0 0-1 1v13.532a1 1 0 0 0 1 1h48.008a1 1 0 0 0 1-1z"}),o("path",{className:l.default.accent,d:"M114.99 92.819V79.805a1 1 0 0 0-1-1h-5.006a1 1 0 0 0-1 1v13.014a1 1 0 0 0 1 1h5.007a1 1 0 0 0 1-1M146.015 79.805V92.82a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V79.805a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1"}),s,o("path",{className:l.default.body,d:"M97.054 224.796h1.14l-10.356-13.735c-.578-.766-1.799-.358-1.799.602l.006 12.133a1 1 0 0 0 1 1h10.009z"}),d,o("path",{className:l.default.body,d:"M164.044 82.805v4.368a7 7 0 0 0 7 7h18.938a1 1 0 0 0 1-1v-3.006a1 1 0 0 0-1-1h-.993a4 4 0 0 1-4-4v-5.362a1 1 0 0 0-1-1h-15.945a4 4 0 0 0-4 4M177.332 216.27h-4.125a1 1 0 0 1 0-2h4.125a1 1 0 0 1 0 2zm13.65 1a1 1 0 0 0-1-1h-6.281a1 1 0 1 1 0-2h6.281a1 1 0 0 0 1-1v-37.074c-.066.014-.129.041-.2.041H185.7a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h1.083a1 1 0 0 1 0 2h-16.04a4 4 0 0 0-4 4v21.543a3 3 0 0 0 3 3h18.24a3 3 0 0 0 3-3v-4.527z"}),f,o("path",{className:l.default.background,d:"M132.859 179.91l30.085 39.908c.578.766 1.799.358 1.799-.602v-60.42c0-15.707-11.38-28.8-26.325-31.486a1.105 1.105 0 0 0-.39 0c-15.248 2.748-26.276 15.927-26.276 31.486v4.814c0 .384.224.733.572.897 8.585 4.05 16.056 9.462 20.535 15.403"}),o("path",{className:l.default.accent,d:"M108.37 162.77a.998.998 0 0 0 1.382-.92v-3.054c0-12.464 6.66-23.492 16.883-29.416.98-.568.372-2.08-.734-1.838-14.368 3.14-25.158 15.958-25.158 31.254v.56c0 .439.287.823.707.95 2.34.716 4.657 1.54 6.92 2.464"}),o("path",{className:(0,i.default)(l.default.secondaryAccent,(e={},e[l.default.hover]=T,e[l.default.green]=I,e)),d:"M162.186 224.796a1 1 0 0 0 .799-1.602l-31.723-42.08c-9.106-12.079-31.094-21.906-49.015-21.906-9.332 0-16.02 2.678-18.348 7.348-1.824 3.66-.773 8.402 2.96 13.354l33.838 44.886h61.489z"}),c,o("path",{className:(0,i.default)(l.default.topLayer,(t={},t[l.default.hover]=T,t[l.default.green]=I,t)),d:"M215.522 29.248l22.184-8.048c.843-.306.888-1.482.071-1.851L215.593 9.318a1 1 0 0 0-1.412.91v18.08a1 1 0 0 0 1.341.94M72.831 11.233l-4.238-1.915a1 1 0 0 0-1.412.91v18.08a1 1 0 0 0 1.341.94l22.184-8.049c.843-.306.888-1.482.071-1.85L79.282 14.15a1 1 0 0 1-.499-1.322l-4.629-2.093a1 1 0 0 1-1.323.498"}),p,o("path",{className:(0,i.default)(l.default.topLayer,(n={},n[l.default.hover]=T,n[l.default.green]=I,n)),d:"M17.004 140.565l7-7.228 7 7.228v-39.523a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3v39.523z"}),o("path",{className:(0,i.default)(l.default.bottomLayer,(r={},r[l.default.hover]=T,r[l.default.green]=I,r)),d:"M34.004 98.042a1 1 0 0 0-1 1v45.225a.997.997 0 0 1-1 1c-.167 0-.334-.042-.486-.126l-7.514-7.514-7.514 7.514a1 1 0 0 1-1.486-.874V99.042a1 1 0 0 0-2 0v56.33l11-9.452 11 9.452v-56.33a1 1 0 0 0-1-1"}),h,y,m,o("path",{className:l.default.body,d:"M14.032 129.293a.999.999 0 0 0-1.414 0l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.183a.999.999 0 0 0 0-1.414M6.702 135.21l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.184a.999.999 0 1 0-1.414-1.414M12.85 135.21a.999.999 0 1 0-1.415 1.413l1.183 1.184a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-1.183-1.184zM8.116 130.476l-1.183-1.183a1 1 0 0 0-1.414 1.414l1.183 1.183a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414"}),v,_,E,g,S))},t}(a.PureComponent);T.defaultProps={hovered:!1,isGreen:!1,hideBackgroundMist:!1},T.displayName="JoinGuildIllustration",t.default=T,e.exports=t.default},8204:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=R(n(17)),l=R(n(5)),u=R(n(183)),s=n(6170),d=R(n(8205)),f=R(n(311)),c=R(n(128)),p=R(n(152)),h=R(n(306)),y=R(n(222)),m=R(n(6068)),v=R(n(6045)),_=R(n(828)),E=R(n(6333)),g=R(n(442)),S=R(n(448)),T=R(n(110)),I=R(n(181)),C=n(863),N=R(n(6092)),A=n(0),O=R(n(13)),b=R(n(5419)),M=R(n(5920));function R(e){return e&&e.__esModule?e:{default:e}}var P=Object.freeze({EDIT:1,REVIEW:2}),L=function(e){return e.replace(/^\s+/,"")},w=(0,C.cachedFunction)(function(e){return e.map(function(e){return{label:e.name,value:e.id}})}),D=(0,C.cachedFunction)(function(e,t,n,r){var o={id:"0",application_id:"0",timestamp:(0,l.default)().subtract(1,"hours").toISOString(),title:n||O.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_PLACEHOLDER_TITLE,url:t,game_id:"0",type:"article",flags:0};return null!=e&&(o.thumbnail={url:"",proxy_url:e,width:0,height:0}),r.length>0?o.description=r:0===n.length&&(o.description=O.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_PLACEHOLDER_BODY),o});function U(e){var t=e.news.thumbnail;return o("div",{className:b.default.wrapper},void 0,null==t?o("div",{className:M.default.thumbnailPlaceholder},void 0,o(h.default,{name:h.default.Names.IMAGE_PLACEHOLDER,width:64,height:64}),o("span",{className:M.default.thumbnailPlaceholderText},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_PLACEHOLDER_THUMBNAIL)):o("img",{src:t.proxy_url,className:M.default.thumbnailImage,alt:""}))}U.displayName="renderImageAsset";var k=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleChangeApplication=function(e){var t=e.value;r.setState({applicationId:t})},r.handleChangeThumbnail=function(e){r.setState({thumbnailOverride:e})},r.handleClickThumbnailRemove=function(){var e=r.props.originalThumbnailProxyUrl;r.handleChangeThumbnail(e)},r.handleChangeTitle=function(e){r.setState({title:L(e)})},r.handleChangeBody=function(e){r.setState({body:L(e)})},r.handleClickDelete=function(){var e=r.props,t=e.channelId,n=e.messageId,o=e.newsId;if(null==o)throw new Error("no news id to delete");u.default.show({title:O.default.Messages.APPLICATION_NEWS_EDITOR_DELETE_CONFIRMATION_TITLE,body:O.default.Messages.APPLICATION_NEWS_EDITOR_DELETE_CONFIRMATION_BODY,confirmText:O.default.Messages.YES_TEXT,cancelText:O.default.Messages.NEVERMIND,onConfirm:function(){(0,s.deleteNews)(o,t,n),(0,s.close)()}})},r.handleClickBack=function(){switch(r.state.step){case P.EDIT:r.close();break;case P.REVIEW:r.setState({step:P.EDIT})}},r.handleClickNext=function(){switch(r.state.step){case P.EDIT:r.isValid()&&r.setState({step:P.REVIEW});break;case P.REVIEW:r.setState({submitting:!0}),r.publish().then(function(){(0,s.close)()})}},r.state={applicationId:1===n.applications.length?n.applications[0].id:null,thumbnailOverride:n.originalThumbnailProxyUrl,title:n.title,body:n.body,step:P.EDIT,submitting:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.trackViewed()},t.prototype.componentDidUpdate=function(e,t){t.step!==this.state.step&&this.trackViewed()},t.prototype.getApplication=function(){var e=this.props.applications,t=this.state.applicationId;return e.find(function(e){return e.id===t})},t.prototype.trackViewed=function(){var e=this.props,t=e.messageId,n=e.newsUrl,r=this.state.step,o=this.getApplication();I.default.trackWithMetadata(A.AnalyticEvents.NEWS_EDITOR_VIEWED,{application_name:null!=o?o.name:null,application_id:null!=o?o.id:null,message_id:t,news_url:n,news_card_editor_step:r===P.EDIT?"Edit":"Confirm"})},t.prototype.trackNewsUpdated=function(e,t){var n=this.props,r=n.messageId,o=n.newsUrl,a=this.state.body,i=this.getApplication();I.default.trackWithMetadata(A.AnalyticEvents.NEWS_UPDATED,{application_name:null!=i?i.name:null,application_id:null!=i?i.id:null,message_id:r,news_id:t,news_url:o,news_card_body_length:a.length,update_type:e})},t.prototype.close=function(){(0,s.close)()},t.prototype.isEditing=function(){return null!=this.props.newsId},t.prototype.isValid=function(){var e=this.state,t=e.thumbnailOverride,n=e.title;return(this.isEditing()||null!=this.getApplication())&&null!=t&&n.trim().length>0},t.prototype.publish=function(){var e=this,t=this.props,n=t.channelId,r=t.messageId,o=t.newsId,a=t.newsUrl,i=t.originalThumbnailUrl,l=this.state,u=l.applicationId,d=l.thumbnailOverride,f=l.title,c=l.body,p=null!=d&&d.startsWith("data:")?d:null;if(null!=o)return(0,s.updateNews)({channelId:n,messageId:r,newsId:o,thumbnail:p,title:f,description:c}).then(function(){return e.trackNewsUpdated("Edit",o)});if(null==u)throw new Error("no application id for news publish");return(0,s.createNews)({applicationId:u,channelId:n,messageId:r,url:a,thumbnail:i,thumbnailOverride:p,title:f,description:c}).then(function(t){return e.trackNewsUpdated("Create",t.id)})},t.prototype.renderHeader=function(e){return o(y.default.Header,{},void 0,o(p.default.Child,{},void 0,o(T.default,{tag:T.default.Tags.H4},void 0,e)),o(p.default.Child,{grow:0},void 0,o(y.default.CloseButton,{className:M.default.modalCloseButton,onClick:this.close})))},t.prototype.renderNewsUrl=function(){var e=this.props.newsUrl;return o(S.default,{title:O.default.Messages.APPLICATION_NEWS_EDITOR_NEWS_URL_LABEL,className:M.default.formItem},void 0,o("div",{className:M.default.newsUrl},void 0,o(f.default,{href:e},void 0,e)))},t.prototype.renderApplicationInput=function(){var e=this.props,t=e.applications,n=e.newsApplicationId,r=this.state.applicationId;return o(S.default,{required:!0,title:O.default.Messages.APPLICATION_NEWS_EDITOR_APPLICATION_LABEL,className:M.default.formItem},void 0,o(m.default,{options:w(t),value:this.isEditing()?n:r,disabled:this.isEditing(),placeholder:t.length>0?O.default.Messages.APPLICATION_NEWS_EDITOR_APPLICATION_PLACEHOLDER:O.default.Messages.APPLICATION_NEWS_EDITOR_APPLICATION_EMPTY_PLACEHOLDER,onChange:this.handleChangeApplication}))},t.prototype.renderThumbnailInput=function(){var e=this.props.originalThumbnailProxyUrl,t=this.state.thumbnailOverride,n=void 0;n=null==t?o(c.default,{},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_UPLOAD_LABEL,o(N.default,{onChange:this.handleChangeThumbnail})):o(c.default,{color:c.default.Colors.PRIMARY},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_CHANGE_LABEL,o(N.default,{onChange:this.handleChangeThumbnail}));var r=void 0;return t!==e&&(r=o(c.default,{look:c.default.Looks.LINK,color:c.default.Colors.WHITE,onClick:this.handleClickThumbnailRemove},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_REMOVE_LABEL)),o(S.default,{required:!0,title:O.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_LABEL,className:M.default.formItem},void 0,o(p.default,{},void 0,n,r))},t.prototype.renderTitleInput=function(){var e=this.state.title;return o(S.default,{required:!0,title:O.default.Messages.APPLICATION_NEWS_EDITOR_POST_TITLE_LABEL,className:M.default.formItem},void 0,o(_.default,{value:e,placeholder:O.default.Messages.APPLICATION_NEWS_EDITOR_POST_TITLE_PLACEHOLDER,onChange:this.handleChangeTitle}))},t.prototype.renderBodyInput=function(){var e=this.state.body;return o(S.default,{title:O.default.Messages.APPLICATION_NEWS_EDITOR_POST_BODY_LABEL,titleClassName:M.default.bodyTitle,className:M.default.formItemBody},void 0,o(v.default,{value:e,placeholder:O.default.Messages.APPLICATION_NEWS_EDITOR_POST_BODY_PLACEHOLDER,onChange:this.handleChangeBody,flex:!0}))},t.prototype.renderCardPreview=function(){var e,t=this.props.newsUrl,n=this.state,r=n.thumbnailOverride,a=n.title,l=n.body,u=D(r,t,a,l);return o(p.default,{direction:p.default.Direction.VERTICAL,grow:0},void 0,o(S.default,{title:O.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_LABEL,className:M.default.formItem},void 0,o(E.default,{news:u,application:this.getApplication(),className:M.default.cardPreview,titleClassName:(0,i.default)((e={},e[M.default.titlePlaceholder]=!a,e)),renderAsset:U,autoPlay:!0,shouldAnimate:!0})))},t.prototype.renderCancelButton=function(){return o(p.default.Child,{},void 0,o(c.default,{color:M.default.cancelButtonColor,onClick:this.handleClickBack},void 0,O.default.Messages.CANCEL))},t.prototype.renderDeleteButton=function(){return this.isEditing()?o(p.default.Child,{},void 0,o(c.default,{color:c.default.Colors.RED,onClick:this.handleClickDelete},void 0,O.default.Messages.DELETE)):null},t.prototype.renderReviewButton=function(){return this.isValid()?o(c.default,{color:c.default.Colors.BRAND,onClick:this.handleClickNext},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_REVIEW):o(g.default,{text:O.default.Messages.FORM_MISSING_REQUIRED_FIELDS},void 0,o(c.default,{color:c.default.Colors.BRAND,disabled:!0},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_REVIEW))},t.prototype.renderEditFooter=function(){return o(y.default.Footer,{},void 0,o(p.default,{justify:p.default.Justify.BETWEEN},void 0,o(p.default,{grow:0},void 0,this.renderCancelButton(),this.renderDeleteButton()),this.renderReviewButton()))},t.prototype.renderReviewFooter=function(){var e=this.state.submitting;return o(y.default.Footer,{},void 0,o(p.default,{justify:p.default.Justify.BETWEEN},void 0,o(c.default,{color:M.default.cancelButtonColor,onClick:this.handleClickBack},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_BACK),o(c.default,{color:c.default.Colors.GREEN,submitting:e,onClick:this.handleClickNext},void 0,O.default.Messages.APPLICATION_NEWS_EDITOR_PUBLISH)))},t.prototype.renderEditStep=function(){return o("div",{className:M.default.editModalContainer},void 0,o(y.default,{className:M.default.editModal},P.EDIT,this.renderHeader(this.isEditing()?O.default.Messages.APPLICATION_NEWS_EDITOR_TITLE_EDITING:O.default.Messages.APPLICATION_NEWS_EDITOR_TITLE),o(y.default.Content,{},void 0,this.renderNewsUrl(),o(p.default,{},void 0,o(p.default,{direction:p.default.Direction.VERTICAL,className:M.default.form},void 0,this.renderApplicationInput(),this.renderThumbnailInput(),this.renderTitleInput(),this.renderBodyInput()),this.renderCardPreview())),this.renderEditFooter()))},t.prototype.renderReviewStep=function(){return o("div",{className:M.default.editModalContainer},void 0,o(y.default,{className:M.default.reviewModal},P.REVIEW,this.renderHeader(O.default.Messages.APPLICATION_NEWS_EDITOR_REVIEW_TITLE),o(y.default.Content,{},void 0,this.renderCardPreview()),this.renderReviewFooter()))},t.prototype.render=function(){switch(this.state.step){case P.EDIT:default:return this.renderEditStep();case P.REVIEW:return this.renderReviewStep()}},t}(a.PureComponent);k.modalConfig={store:d.default},k.displayName="NewsEditor",t.default=k,e.exports=t.default},8205:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(4)),o=s(n(1)),a=s(n(319)),i=s(n(851)),l=s(n(43)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=u.FormStates.CLOSED,f="",c="",p=[],h=null,y=null,m="",v=null,_=null,E="",g="";function S(e){m=e.url||"",E=e.rawTitle||e.title||"",g=e.rawDescription||e.description||"";var t=e.thumbnail||e.image;null!=t&&(v=t.url,_=t.proxyURL)}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return d!==u.FormStates.CLOSED},t.prototype.getProps=function(){return{channelId:f,messageId:c,applications:p,newsId:h,newsApplicationId:y,newsUrl:m,originalThumbnailUrl:v,originalThumbnailProxyUrl:_,title:E,body:g}},t}(r.default.Store);t.default=new T(o.default,{NEWS_EDITOR_MODAL_OPEN:function(e){var t=e.message,n=a.default.findNewsLink(t);if(null==n)return!1;if(d=u.FormStates.OPEN,f=t.getChannelId(),c=t.id,p=l.default.getApplicationsForGuild(e.guildId)||[],h=null,y=null,v=null,_=null,E="",g="",null!=n.embed){var r=n.embed;if(r.type===u.EmbedTypes.APPLICATION_NEWS){var o=null!=(h=r.referenceId)?i.default.getByApplicationNewsId(h):null;null!=o?function(e){y=e.application_id,m=e.url,E=e.title||"",g=e.description||"";var t=e.thumbnail;null!=t&&(v=t.url,_=t.proxy_url||t.url)}(o):S(r)}else S(r)}else null!=n.url&&(m=n.url)},NEWS_EDITOR_MODAL_CLOSE:function(e){d=u.FormStates.CLOSED}}),e.exports=t.default},8206:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=w(n(17)),l=w(n(6)),u=n(99),s=w(n(6054)),d=w(n(22)),f=w(n(853)),c=w(n(8207)),p=w(n(128)),h=w(n(450)),y=w(n(5999)),m=w(n(152)),v=w(n(306)),_=w(n(222)),E=w(n(6007)),g=w(n(5995)),S=w(n(5987)),T=w(n(129)),I=w(n(442)),C=w(n(448)),N=w(n(445)),A=w(n(110)),O=w(n(6761)),b=n(0),M=w(n(13)),R=w(n(5360)),P=w(n(5351)),L=w(n(5921));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function G(e){return e.type===b.ChannelTypes.GUILD_CATEGORY?v.default.Names.CHANNEL_CATEGORY:e.isNSFW()?v.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?v.default.Names.CHANNEL_TEXT_LIMITED:v.default.Names.CHANNEL_TEXT}var x=function(e){function t(n){D(this,t);var r=U(this,e.call(this,n));return r.handleMute=r.handleMute.bind(r),r.handleDelete=r.handleDelete.bind(r),r.unhighlight=r.unhighlight.bind(r),r.state={highlight:!1},r}return k(t,e),t.prototype.highlight=function(){var e=this;this.setState({highlight:!0},function(){null!=e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(e.unhighlight,1e3)})},t.prototype.unhighlight=function(){this.setState({highlight:!1})},t.prototype.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},t.prototype.setMessageNotification=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.channel,r=n.getGuildId();null!=r&&s.default.updateChannelOverrideSettings(r,n.id,{message_notifications:e,muted:t})},t.prototype.handleRadioChange=function(e){this.setMessageNotification(e)},t.prototype.handleMute=function(e,t){var n=this.props.messageNotifications;this.setMessageNotification(n||b.UserNotificationSettings.NULL,t)},t.prototype.handleDelete=function(){var e=this.props,t=e.onDelete,n=e.channel;this.setMessageNotification(b.UserNotificationSettings.NULL,!1),t(n.id)},t.prototype.messageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,r=t.guildMuted,a=t.muted,i=t.guildMessageNotifications,l=n===e;null!=n&&n!==b.UserNotificationSettings.NULL||e!==i||(l=!0);var u=y.default.Types.INVERTED;return(a||n===b.UserNotificationSettings.NULL||null==n)&&(u=y.default.Types.GHOST),o(y.default,{value:!r&&l,disabled:r,shape:y.default.Shapes.ROUND,color:b.Colors.STATUS_GREEN,type:u,onChange:this.handleRadioChange.bind(this,e)})},t.prototype.renderName=function(){var e=this.props.channel,t=void 0;e.parent_id&&(t=d.default.getChannel(e.parent_id));var n=G(e),r=void 0;if(e.type===b.ChannelTypes.GUILD_CATEGORY&&e.guild_id){var a=f.default.getCategories(e.guild_id);r=M.default.Messages.NUM_CHANNELS.format({num:a[e.id]?a[e.id].length:0})}else r=null!=t?M.default.Messages.IN_CATEGORY.format({categoryName:t.toString()}):M.default.Messages.NO_CATEGORY;return o(m.default,{align:m.default.Align.START},void 0,o(m.default,{grow:0,shrink:0,className:L.default.iconContainer,align:m.default.Align.CENTER},void 0,o(v.default,{name:n,className:L.default.icon})),o(m.default.Child,{grow:1,shrink:1,className:P.default.marginReset},void 0,o(T.default,{weight:T.default.Weights.SEMIBOLD,size:T.default.Sizes.MEDIUM,className:L.default.channelName},void 0,e.toString()),o(T.default,{weight:T.default.Weights.NORMAL,size:T.default.Sizes.SMALL,className:L.default.channelNameByline},void 0,r)))},t.prototype.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return o(m.default,{grow:0,shrink:0,className:L.default.checkboxGroup,justify:m.default.Justify.AROUND,align:m.default.Align.CENTER},void 0,o(m.default.Child,{wrap:!0,grow:0,shrink:0,className:n?L.default.checkboxContainerMuted:L.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(b.UserNotificationSettings.ALL_MESSAGES)),o(m.default.Child,{wrap:!0,grow:0,shrink:0,className:n?L.default.checkboxContainerMuted:L.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(b.UserNotificationSettings.ONLY_MENTIONS)),o(m.default.Child,{wrap:!0,grow:0,shrink:0,className:n?L.default.checkboxContainerMuted:L.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(b.UserNotificationSettings.NO_MESSAGES)),o(m.default.Child,{wrap:!0,grow:0,shrink:0,className:L.default.checkboxMute},void 0,o(y.default,{value:t,shape:y.default.Shapes.BOX,type:y.default.Types.INVERTED,onChange:this.handleMute})))},t.prototype.render=function(){var e=this.state.highlight;return o(h.default,{outline:!0,editable:!0,className:e?L.default.overrideHighlight:L.default.override},void 0,this.renderName(),this.renderOptions(),o("button",{className:(0,i.default)(L.default.removeOverride,R.default.button),onClick:this.handleDelete}))},t}(a.PureComponent);function F(e){return Object.keys(e).filter(function(t){return!0===e[t].muted||e[t].message_notifications!==b.UserNotificationSettings.NULL})}x.displayName="ChannelNotificationSettings";var j=function(e){function t(n){D(this,t);var r=U(this,e.call(this,n));return r.handleSelectChange=r.handleSelectChange.bind(r),r.handleDeleteOverride=r.handleDeleteOverride.bind(r),r.setScrollerRef=r.setScrollerRef.bind(r),r.renderOption=r.renderOption.bind(r),r.state={overrides:new Set(F(n.channelOverrides)),lastSelected:null},r}return k(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.channelOverrides,n=this.state.overrides;n=new Set(n),F(t).forEach(function(e){return n.add(e)}),this.setState({overrides:n})},t.prototype.close=function(){s.default.close()},t.prototype.setScrollerRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.state.lastSelected;null!=this._scroller&&null!=r&&null!=this.refs[r]&&r!==t.lastSelected&&(this._scroller.scrollIntoView((0,u.findDOMNode)(this.refs[r]),!0,{top:20,bottom:20},function(){return n.setState({lastSelected:null})}),this.refs[r].highlight())},t.prototype.handleCheckboxChange=function(e,t){var n;s.default.updateNotificationSettings(this.props.guildId,((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleRadioChange=function(e,t){var n,r=t.value;s.default.updateNotificationSettings(this.props.guildId,((n={})[e]=r,n))},t.prototype.handleSelectChange=function(e){if(null!=e){var t=this.state.overrides;(t=new Set(t)).add(e.value),this.setState({overrides:t,lastSelected:e.value})}},t.prototype.handleDeleteOverride=function(e){var t=this.state.overrides;(t=new Set(t)).delete(e),this.setState({overrides:t})},t.prototype.renderHeader=function(){var e=this.props.guild;return o(_.default.Header,{},void 0,o(m.default.Child,{},void 0,o(A.default,{tag:A.default.Tags.H4},void 0,M.default.Messages.NOTIFICATION_SETTINGS),o(T.default,{size:T.default.Sizes.SMALL,color:T.default.Colors.PRIMARY,className:L.default.guildName},void 0,e.name)),o(m.default.Child,{grow:0},void 0,o(_.default.CloseButton,{onClick:this.close})))},t.prototype.renderFooter=function(){return o(_.default.Footer,{},void 0,o(p.default,{onClick:s.default.close},void 0,M.default.Messages.DONE))},t.prototype.renderMute=function(){var e=this.props.muted;return o(S.default,{value:e,onChange:this.handleCheckboxChange.bind(this,"muted"),note:M.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION},void 0,M.default.Messages.FORM_LABEL_MUTE_SERVER.format({name:this.props.guild.name}))},t.prototype.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted;return o(C.default,{title:M.default.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:L.default.spacing},void 0,o(E.default,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,"message_notifications"),options:[{name:M.default.Messages.FORM_LABEL_ALL_MESSAGES,value:b.UserNotificationSettings.ALL_MESSAGES},{name:M.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:b.UserNotificationSettings.ONLY_MENTIONS},{name:M.default.Messages.FORM_LABEL_NOTHING,value:b.UserNotificationSettings.NO_MESSAGES}]}))},t.prototype.renderNotificationOptions=function(){var e=this.props,t=e.suppressEveryone,n=e.mobilePush,r=e.muted;return o(C.default,{className:L.default.largeSpacing},void 0,o(S.default,{onChange:this.handleCheckboxChange.bind(this,"suppress_everyone"),value:t},void 0,M.default.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()),o(S.default,{value:!r&&n,disabled:r,onChange:this.handleCheckboxChange.bind(this,"mobile_push")},void 0,M.default.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS))},t.prototype.renderOption=function(e){var t=d.default.getChannel(e.value);if(null==t)return e.label;var n=d.default.getChannel(t.parent_id),r=null!=n?n.name:null;return o(O.default,{iconType:G(t),title:e.label,subtitle:r})},t.prototype.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,r=(0,l.default)(t).filter(function(e){var t=e.channel;return t.type!==b.ChannelTypes.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString()}}).value();return o(C.default,{title:M.default.Messages.NOTIFICATION_OVERRIDES,className:L.default.largeSpacing},void 0,o(N.default,{type:N.default.Types.DESCRIPTION,className:L.default.smallSpacing},void 0,M.default.Messages.ADD_CHANNEL_TO_OVERRIDE),o(g.default,{searchable:!0,scrollMenuIntoView:!1,placeholder:M.default.Messages.SELECT_CHANNEL_OR_CATEGORY,optionRenderer:this.renderOption,options:r,onChange:this.handleSelectChange}))},t.prototype.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,r=t.muted,i=t.channels,l=t.messageNotifications,u=t.categories,s=this.state.overrides,d=i.map(function(t){var o=t.channel;if(!s.has(o.id)||null!=u[o.id]&&0===u[o.id].length)return null;var i=n[o.id];return a.createElement(x,{key:o.id,ref:o.id,channel:o,guildMuted:r,muted:null!=i&&i.muted,messageNotifications:null!=i?i.message_notifications:null,guildMessageNotifications:l,onDelete:e.handleDeleteOverride})}).filter(function(e){return null!=e});return 0!==s.size&&0!==d.length||d.push(o("div",{className:L.default.overridePlaceholder},"placeholder",o(T.default,{color:T.default.Colors.PRIMARY,weight:T.default.Weights.SEMIBOLD,className:L.default.lighten},void 0,M.default.Messages.ADD_CHANNEL_TO_OVERRIDE))),o("div",{className:L.default.overrideList},void 0,o(m.default,{},void 0,o(T.default,{color:T.default.Colors.PRIMARY,size:L.default.headerSize,weight:T.default.Weights.BOLD,className:L.default.headerName},void 0,M.default.Messages.CHANNEL_OR_CATEGORY),o(T.default,{color:T.default.Colors.PRIMARY,size:L.default.headerSize,weight:T.default.Weights.BOLD,className:L.default.headerOption},void 0,M.default.Messages.FORM_LABEL_ALL),o(T.default,{color:T.default.Colors.PRIMARY,size:L.default.headerSize,weight:T.default.Weights.BOLD,className:L.default.headerOption},void 0,M.default.Messages.FORM_LABEL_MENTIONS),o(T.default,{color:T.default.Colors.PRIMARY,size:L.default.headerSize,weight:T.default.Weights.BOLD,className:L.default.headerOption},void 0,M.default.Messages.FORM_LABEL_NOTHING),o(T.default,{color:T.default.Colors.PRIMARY,size:L.default.headerSize,weight:T.default.Weights.BOLD,className:L.default.headerOption},void 0,o(I.default,{text:M.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:I.default.Positions.BOTTOM},void 0,o("span",{},void 0,M.default.Messages.SOUND_MUTE)))),d)},t.prototype.render=function(){return a.createElement(_.default,{size:_.default.Sizes.MEDIUM,ref:this.setScrollerRef},this.renderHeader(),o(_.default.Content,{},void 0,this.renderMute(),this.renderServerSettings(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()),this.renderFooter())},t}(a.PureComponent);j.modalConfig={store:c.default},j.displayName="NotificationSettings",t.default=j,e.exports=t.default},8207:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(4)),o=c(n(1)),a=n(131),i=n(454),l=c(n(853)),u=c(n(111)),s=c(n(28)),d=c(n(226)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=f.FormStates.CLOSED,h=void 0;var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=this;this.syncWith([d.default,u.default,s.default],function(){return e.isOpen()})},t.prototype.isOpen=function(){return p!==f.FormStates.CLOSED},t.prototype.getProps=function(){var e=l.default.getCategories(h);return{guildId:h,categories:e,guild:s.default.getGuild(h),suppressEveryone:d.default.isSuppressEveryoneEnabled(h),mobilePush:d.default.isMobilePushEnabled(h),muted:d.default.isMuted(h),messageNotifications:d.default.getMessageNotifications(h),channelOverrides:d.default.getChannelOverrides(h),channels:(0,i.getFlattenedChannelList)(e._categories,e,function(e){var t=e.channel.type;return(0,a.isGuildSelectableChannelType)(t)||t===f.ChannelTypes.GUILD_CATEGORY})}},t}(r.default.Store);t.default=new y(o.default,{NOTIFICATION_SETTINGS_MODAL_OPEN:function(e){var t=e.guildId;p=f.FormStates.OPEN,h=t},NOTIFICATION_SETTINGS_MODAL_CLOSE:function(e){return p=f.FormStates.CLOSED,void(h=null)}}),e.exports=t.default},8208:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=m(n(6566)),l=m(n(461)),u=m(n(8209)),s=m(n(128)),d=m(n(222)),f=m(n(5987)),c=m(n(448)),p=m(n(110)),h=n(7200),y=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleRestrictedGuildChange=r.handleRestrictedGuildChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){i.default.close()},t.prototype.handleRestrictedGuildChange=function(e){var t=new Set((0,h.getSanitizedRestrictedGuilds)());e.currentTarget.checked?t.delete(this.props.guildId):t.add(this.props.guildId),t=Array.from(t),l.default.updateRemoteSettings({restrictedGuilds:t})},t.prototype.render=function(){var e=this.props,t=e.isGuildRestricted,n=e.guild;return o(d.default,{},void 0,o(d.default.Header,{},void 0,o(p.default,{tag:p.default.Tags.H4},void 0,y.default.Messages.PRIVACY_SETTINGS,"—",null!=n?n.toString():"??")),o(d.default.Content,{},void 0,o(c.default,{},void 0,o(p.default,{tag:p.default.Tags.H5,style:{marginBottom:4}},void 0,y.default.Messages.DIRECT_MESSAGES),o(f.default,{value:!t,onChange:this.handleRestrictedGuildChange,hideBorder:!0},void 0,y.default.Messages.ALLOW_SERVER_DMS))),o(d.default.Footer,{},void 0,o(s.default,{onClick:this.close},void 0,y.default.Messages.DONE)))},t}(a.PureComponent);v.modalConfig={store:u.default},v.displayName="PrivacySettings",t.default=v,e.exports=t.default},8209:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(4)),o=u(n(1)),a=u(n(28)),i=u(n(35)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=l.FormStates.CLOSED,d=void 0,f=void 0,c=void 0;function p(){if(s===l.FormStates.CLOSED)return!1;var e=a.default.getGuild(d),t=i.default.isGuildRestricted(d),n=!1;return f!==e&&(f=e,n=!0),c!==t&&(c=t,n=!0),n}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([a.default,i.default],p)},t.prototype.isOpen=function(){return s!==l.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:d,guild:f,isGuildRestricted:c}},t}(r.default.Store);t.default=new h(o.default,{PRIVACY_SETTINGS_MODAL_OPEN:function(e){s=l.FormStates.OPEN,d=e.guildId,p()},PRIVACY_SETTINGS_MODAL_CLOSE:function(e){return s=l.FormStates.CLOSED,f=null,void(c=null)}}),e.exports=t.default},8210:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=v(n(6760)),l=v(n(28)),u=v(n(8211)),s=v(n(128)),d=v(n(222)),f=v(n(6007)),c=v(n(448)),p=v(n(445)),h=v(n(110)),y=v(n(13)),m=v(n(5922));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleDaysChange=r.handleDaysChange.bind(r),r.handlePrune=r.handlePrune.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){i.default.close()},t.prototype.render=function(){var e=this.props,t=e.estimate,n=e.guildId,r=e.days,a=l.default.getGuild(n);return o(d.default,{tag:"form",onSubmit:this.handlePrune},void 0,o(d.default.Header,{},void 0,o(h.default,{tag:h.default.Tags.H4},void 0,y.default.Messages.PRUNE_MEMBERS,"—",null!=a?a.toString():"")),o(d.default.Content,{},void 0,o(c.default,{title:y.default.Messages.FORM_LABEL_LAST_SEEN},void 0,o(f.default,{value:r,options:[{name:y.default.Messages.LAST_SEEN.format({days:1}),value:1},{name:y.default.Messages.LAST_SEEN.format({days:7}),value:7},{name:y.default.Messages.LAST_SEEN.format({days:30}),value:30}],onChange:this.handleDaysChange,className:m.default.spacing}),o(p.default,{type:p.default.Types.DESCRIPTION,className:m.default.spacing},void 0,y.default.Messages.FORM_HELP_LAST_SEEN.format({members:t,days:r})))),o(d.default.Footer,{},void 0,o(s.default,{type:"submit",disabled:0===t},void 0,y.default.Messages.PRUNE),o(s.default,{type:"button",look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,onClick:this.close},void 0,y.default.Messages.CANCEL)))},t.prototype.handleDaysChange=function(e){var t=e.value;i.default.open(this.props.guildId,parseInt(t,10))},t.prototype.handlePrune=function(e){e.preventDefault();var t=this.props,n=t.days,r=t.guildId;i.default.prune(r,n)},t}(a.PureComponent);_.modalConfig={store:u.default},_.displayName="PruneGuild",t.default=_,e.exports=t.default},8211:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(1)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=a.FormStates.CLOSED,u=void 0,s=void 0,d=void 0;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return l!==a.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:u,days:s,estimate:d}},t}(r.default.Store);t.default=new f(o.default,{PRUNE_GUILD_MODAL_OPEN:function(e){l=a.FormStates.OPEN,u=e.guildId,s=e.days,d=e.estimate},PRUNE_GUILD_MODAL_UPDATE:function(e){e.guildId===u&&e.days===s&&(d=e.estimate)},PRUNE_GUILD_MODAL_CLOSE:function(e){return l=a.FormStates.CLOSED,u=null,s=null,void(d=null)}}),e.exports=t.default},8212:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(2)),i=v(n(1)),l=v(n(832)),u=_(n(6143)),s=v(n(8213)),d=v(n(222)),f=v(n(129)),c=v(n(45)),p=v(n(6592)),h=n(0),y=v(n(13)),m=v(n(5667));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.transitionTo=function(e){var t=r.props,n=t.guildId,o=t.guestGuildId;i.default.wait(function(){var t=[l.default.joinGuild(n,!1,"Chat Input Blocker - Lurker Mode")];null!=o&&o!==n&&t.push(l.default.joinGuild(o,!1,"Chat Input Blocker - Lurker Mode")),Promise.all(t).then(function(){c.default.transitionTo(e)})})},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){u.close()},t.prototype.render=function(){var e=this.props,t=e.guildId,r=e.channelId;return o(d.default,{className:m.default.modal,size:d.default.Sizes.MEDIUM},void 0,o("div",{className:m.default.information},void 0,o(f.default,{size:f.default.Sizes.LARGE,color:f.default.Colors.PRIMARY},void 0,y.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),o(f.default,{color:f.default.Colors.PRIMARY,className:m.default.body},void 0,y.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY),o("img",{alt:"",src:n(6435),className:m.default.image})),o(p.default,{transitionTo:this.transitionTo,redirectTo:h.Routes.CHANNEL(t,r),isGuest:!0,authBoxClassName:m.default.card}))},t}(a.PureComponent);g.modalConfig={store:s.default,closable:!0},g.displayName="Register",t.default=g,e.exports=t.default},8213:function(e,t,n){"use strict";t.__esModule=!0;var r=f(n(4)),o=f(n(1)),a=f(n(12)),i=f(n(340)),l=f(n(51)),u=f(n(155)),s=f(n(6073)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=d.FormStates.CLOSED;function p(){c=d.FormStates.CLOSED}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,a.default,i.default)},t.prototype.isOpen=function(){return!s.default.hasAction()&&c!==d.FormStates.CLOSED},t.prototype.getProps=function(){var e=u.default.getGuildId();return{guildId:e,channelId:l.default.getChannelId(e),guestGuildId:i.default.getGuildId()}},t}(r.default.Store);t.default=new h(o.default,{REGISTER_MODAL_OPEN:function(e){return function(){if(!a.default.isGuest())return!1;c=d.FormStates.OPEN}()},REGISTER_SUCCESS:function(e){c===d.FormStates.OPEN&&(c=d.FormStates.CLOSED)},REGISTER_MODAL_CLOSE:function(e){return p()},CONNECTION_CLOSED:function(e){return p()},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},8214:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(57),l=E(n(452)),u=E(n(831)),s=E(n(6547)),d=E(n(46)),f=E(n(8215)),c=E(n(15)),p=E(n(7310)),h=E(n(8217)),y=E(n(18)),m=E(n(225)),v=n(0),_=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleShare=r.handleShare.bind(r),r.handlePromptPremium=r.handlePromptPremium.bind(r),r.close=r.close.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getItems=function(){return[{name:_.default.Messages.SCREENSHARE_SCREEN,value:i.DesktopSources.SCREEN,layout:p.default.Layout.STACK,options:this.props.screenSources,sound:!1},{name:_.default.Messages.SCREENSHARE_WINDOW,value:i.DesktopSources.WINDOW,layout:p.default.Layout.WRAP,options:this.props.windowSources,sound:d.default.supports(i.Features.SOUNDSHARE)}]},t.prototype.render=function(){return o(h.default,{items:this.getItems(),value:i.DesktopSources.SCREEN,resolution:720,frameRate:30,sound:d.default.supports(i.Features.SOUNDSHARE),premium:m.default.canUseHigherFramerate(c.default.getCurrentUser()),description:_.default.Messages.SCREENSHARE_DESCRIPTION.format({name:this.props.channel.toString()}),onCancel:this.close,onSelectSourceType:this.handleSelectSourceType,onPromptPremium:this.handlePromptPremium,onShare:this.handleShare})},t.prototype.close=function(){s.default.close()},t.prototype.handleShare=function(e,t,n,r){this.close(),l.default.setDesktopSource(e,t,n,r)},t.prototype.handleSelectSourceType=function(e){s.default.selectSourceType(e)},t.prototype.handlePromptPremium=function(){y.default.track(v.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:v.AnalyticsPages.DM_CHANNEL,location_section:v.AnalyticsSections.SCREENSHARE_POPOUT}),this.close(),u.default.open(v.UserSettingsSections.PREMIUM)},t}(a.PureComponent);g.modalConfig={store:f.default},g.displayName="Screenshare",t.default=g,e.exports=t.default},8215:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(116)),o=s(n(4)),a=n(57),i=s(n(8216)),l=n(81),u=s(n(1));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=!1,f=a.DesktopSources.SCREEN,c=void 0,p=void 0,h=void 0,y=new l.Interval;function m(){var e=f===a.DesktopSources.WINDOW?{width:150,height:150}:{width:307,height:240},t=f===a.DesktopSources.WINDOW?c:p,n=f;(0,i.default)([f],e).then(function(e){n!==f||null!=t&&(0,r.default)(t,e)||(f===a.DesktopSources.WINDOW?c=e:p=e,v.emitChange())})}var v=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return d},t.prototype.getProps=function(){return{windowSources:c,screenSources:p,channel:h}},t}(o.default.Store))(u.default,{SCREENSHARE_MODAL_OPEN:function(e){d=!0,h=e.channel,m(),y.start(1e3,m)},SCREENSHARE_MODAL_CLOSE:function(e){return d=!1,f=a.DesktopSources.SCREEN,h=null,y.stop(),c=null,void(p=null)},SCREENSHARE_MODAL_SELECT_SOURCE_TYPE:function(e){var t=e.sourceType;f=t,c=null,p=null,m()}});t.default=v,e.exports=t.default},8217:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=b(n(17)),l=b(n(6)),u=n(873),s=n(180),d=n(128),f=b(d),c=b(n(6780)),p=b(n(221)),h=b(n(152)),y=b(n(7310)),m=b(n(306)),v=b(n(222)),_=b(n(313)),E=b(n(8218)),g=b(n(444)),S=b(n(6057)),T=b(n(129)),I=b(n(445)),C=b(n(110)),N=n(0),A=b(n(13)),O=b(n(5925));function b(e){return e&&e.__esModule?e:{default:e}}var M=o(g.default,{}),R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={selectedSegment:n.value,selectedTile:null,selectedResolution:n.resolution,selectedFrameRate:n.frameRate,sound:n.sound},l.default.bindAll(r,["handleSelectSegment","handleSoundChange","handleShare"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.value!==e.value&&this.setState({selectedSegment:e.value})},t.prototype.getButton=function(e,t){var n=this,r=this.props,a=r.premium,i=r.onPromptPremium,l=this.state,u=l.selectedResolution,d=l.selectedFrameRate,f=t?e===u:e===d,c=!1;a||(c=t?0===e||e>=1080:60===e);var p=void 0;t||60!==e?t&&(0===e||e>=1080)&&(p=60===d):p=0===u||u>=1080;var y=void 0,v=void 0;return c?(y=o(h.default,{align:h.default.Align.CENTER},void 0,o(T.default,{size:T.default.Sizes.SMALL,weight:T.default.Weights.SEMIBOLD,color:T.default.Colors.PRIMARY,className:O.default.selectorNitroText},void 0,0===e?A.default.Messages.SCREENSHARE_SOURCE:e),o(m.default,{name:m.default.Names.NITRO,color:N.Colors.BRAND,className:O.default.selectorNitroIcon})),v=i):(y=o(T.default,{size:T.default.Sizes.SMALL,weight:T.default.Weights.SEMIBOLD,className:(0,s.getClass)(O.default,"selectorText",f?"Selected":null)},void 0,0===e?A.default.Messages.SCREENSHARE_SOURCE:e),v=t?function(){return n.handleSelectResolution(e)}:function(){return n.handleSelectFrameRate(e)}),{content:y,className:(0,s.getClass)(O.default,"selectorButton",f?"Selected":null),onClick:v,disabled:p}},t.prototype.renderSelectors=function(){var e=this,t=[480,720,1080,0].map(function(t){return e.getButton(t,!0)}),n=[15,30,60].map(function(t){return e.getButton(t,!1)});return o(h.default,{align:h.default.Align.CENTER,shrink:0,className:O.default.selector},void 0,o(h.default.Child,{grow:0},void 0,o(C.default,{tag:C.default.Tags.H5},void 0,A.default.Messages.SCREENSHARE_STREAM_QUALITY),o(c.default,{buttons:t})),o(h.default.Child,{grow:0},void 0,o(C.default,{tag:C.default.Tags.H5},void 0,A.default.Messages.SCREENSHARE_FRAME_RATE),o(c.default,{buttons:n})),this.renderSound())},t.prototype.renderSound=function(){var e=this,t=this.props.items,n=this.state,r=n.selectedSegment,a=n.sound,i=(0,l.default)(t).filter(function(e){return e.value===r}).first();return null!=i&&i.sound?o(u.SmartUID,{},void 0,function(t){return o(h.default.Child,{grow:0},void 0,o("label",{htmlFor:t,className:O.default.label},void 0,A.default.Messages.SCREENSHARE_SOUND_TOGGLE_LABEL),o(h.default,{align:h.default.Align.CENTER,style:{height:30}},void 0,o(S.default,{id:t,value:a,onChange:e.handleSoundChange})))}):null},t.prototype.renderGrids=function(){var e=this,t=this.props.items,n=this.state,r=n.selectedSegment,a=n.selectedTile,u=(0,l.default)(t).filter(function(e){return e.value===r}).first();if(null==u||null==u.options)return o(h.default,{className:O.default.spinner,justify:h.default.Justify.CENTER,align:h.default.Align.CENTER},void 0,M);var s=u.layout,d=u.options,f=s===y.default.Layout.STACK,c=d.map(function(t){var n,r,l,u=t.id,s=t.name,d=t.url,c=a===u;return o(p.default,{className:O.default.tile,onClick:function(){return e.handleSelectTile(u)}},u,o(h.default,{direction:h.default.Direction.VERTICAL,justify:h.default.Justify.CENTER,align:h.default.Align.CENTER},void 0,o(h.default,{justify:h.default.Justify.CENTER,align:h.default.Align.CENTER,className:(0,i.default)((n={},n[O.default.imageContainerStack]=f,n[O.default.imageContainerWrap]=!f,n))},void 0,o("img",{alt:"",className:(0,i.default)((r={},r[O.default.imageSelected]=c,r[O.default.imageStack]=f,r[O.default.imageWrap]=!f,r)),src:d})),o("div",{className:(0,i.default)((l={},l[O.default.titleStack]=f,l[O.default.titleWrap]=!f,l[O.default.titleSelected]=c,l))},void 0,s)))});return o(_.default,{theme:_.default.Themes.GHOST_HAIRLINE},void 0,o(y.default,{layout:s,columns:3,className:O.default.container},void 0,c))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.description,r=e.onCancel,a=this.state,i=a.selectedSegment,u=a.selectedTile,s=[];return(0,l.default)(t).forEach(function(e){var t=e.name,n=e.value;s.push({name:t,value:n})}),o(v.default,{size:O.default.size},void 0,o(h.default,{className:O.default.content,direction:h.default.Direction.VERTICAL},void 0,o(E.default,{options:s,value:i,onChange:this.handleSelectSegment,className:O.default.border}),this.renderSelectors(),o(h.default,{className:O.default.tiles,direction:h.default.Direction.VERTICAL,align:h.default.Align.STRETCH},void 0,this.renderGrids()),o(I.default,{type:I.default.Types.DESCRIPTION,className:O.default.description},void 0,n)),o(v.default.Footer,{},void 0,o(f.default,{disabled:null==u,onClick:this.handleShare},void 0,A.default.Messages.SHARE),o(f.default,{look:d.ButtonLooks.LINK,color:d.ButtonColors.PRIMARY,onClick:r},void 0,A.default.Messages.CANCEL)))},t.prototype.handleSelectSegment=function(e){var t=e.value;t!==this.state.selectedSegment&&(this.setState({selectedSegment:t}),(0,this.props.onSelectSourceType)(t))},t.prototype.handleSelectResolution=function(e){e!==this.state.selectedResolution&&this.setState({selectedResolution:e})},t.prototype.handleSelectFrameRate=function(e){e!==this.state.selectedFrameRate&&this.setState({selectedFrameRate:e})},t.prototype.handleSelectTile=function(e){e!==this.state.selectedTile&&this.setState({selectedTile:e})},t.prototype.handleSoundChange=function(e){this.setState({sound:e.currentTarget.checked})},t.prototype.handleShare=function(){var e=this.props.onShare,t=this.state;e(t.selectedTile,t.selectedResolution,t.selectedFrameRate,t.sound)},t}(a.PureComponent);R.defaultProps={items:[],value:null,premium:!1,resolution:480,frameRate:30,sound:!1,onCancel:N.NOOP,onShare:N.NOOP,onSelectSourceType:N.NOOP,onPromptPremium:N.NOOP},R.displayName="ScreenshareModal",t.default=R,e.exports=t.default},8218:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(17)),l=f(n(221)),u=f(n(152)),s=n(0),d=f(n(5924));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var n,r;c(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){var t=r.props.onClick;return t&&t(r.props.option,e)},p(r,n)}return h(t,e),t.prototype.render=function(){var e,t=this.props.selected,n=this.props.option.name;return o(l.default,{className:(0,i.default)(d.default.item,(e={},e[d.default.selected]=t,e)),onClick:this.handleClick},void 0,n)},t}(a.PureComponent);y.displayName="SegmentControlItem";var m=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.renderItem=function(e){var t=this.props.value===e.value;return o(y,{selected:t,option:e,onClick:this.props.onChange},e.value)},t.prototype.render=function(){var e=this.props.className;return o(u.default,{className:(0,i.default)(d.default.container,e),shrink:0},void 0,this.props.options.map(this.renderItem,this))},t}(a.PureComponent);m.defaultProps={options:[],onChange:s.NOOP,value:null},m.displayName="SegmentControl",t.default=m,e.exports=t.default},8219:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=f(n(6)),l=n(487),u=f(n(6073)),s=f(n(8220)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={accepting:!1},i.default.bindAll(r,["handleAccept"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleAccept=function(){var e=this;return this.setState({accepting:!0}),(0,l.acceptAgreements)().then(function(t){return e.setState({accepting:t})})},t.prototype.render=function(){return o(s.default,{className:"theme-light",onAccept:this.handleAccept,accepting:this.state.accepting})},t}(a.PureComponent);c.modalConfig={store:u.default,center:!0,isOpen:function(){return u.default.getAction()===d.UserRequiredActions.AGREEMENTS}},c.displayName="UserAgreements",t.default=c,e.exports=t.default},8220:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=y(n(17)),l=y(n(128)),u=y(n(5999)),s=y(n(152)),d=y(n(836)),f=y(n(445)),c=n(0),p=y(n(13)),h=y(n(5926));function y(e){return e&&e.__esModule?e:{default:e}}var m=o(d.default,{}),v=o(d.default,{}),_=o(d.default,{}),E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleCheck=function(){r.setState({checked:!r.state.checked})},r.state={checked:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.accepting,a=e.onAccept,d=this.state.checked;return o("div",{className:(0,i.default)(h.default.modal,t)},void 0,o("div",{className:h.default.title},void 0,p.default.Messages.NEW_TERMS_TITLE),m,o(f.default,{className:h.default.description},void 0,p.default.Messages.NEW_TERMS_DESCRIPTION),o(s.default,{className:h.default.container,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER},void 0,o(s.default,{direction:s.default.Direction.VERTICAL},void 0,o("div",{className:h.default.link},void 0,p.default.Messages.TERMS_OF_SERVICE.format({url:c.MarketingURLs.TERMS})),o("div",{className:h.default.link},void 0,p.default.Messages.PRIVACY_POLICY.format({url:c.MarketingURLs.PRIVACY}))),o("img",{alt:"",src:n(8221)})),v,o("div",{className:h.default.container},void 0,o(u.default,{onChange:this.handleCheck,value:d},void 0,o("div",{className:h.default.ack},void 0,p.default.Messages.NEW_TERMS_ACK))),_,o(s.default,{className:h.default.buttonContainer,justify:s.default.Justify.END},void 0,o(l.default,{className:h.default.button,disabled:!d,submitting:r,onClick:a},void 0,p.default.Messages.NEW_TERMS_CONTINUE)))},t}(a.PureComponent);E.defaultProps={onAccept:c.NOOP,accepting:!1},E.displayName="NewTermsModal",t.default=E,e.exports=t.default},8221:function(e,t,n){e.exports=n.p+"a13cfdd7220132fff399a76c3ed64519.svg"},8222:function(e,t,n){"use strict";t.__esModule=!0;var r=f(n(4)),o=n(81),a=f(n(1)),i=f(n(157)),l=f(n(160)),u=f(n(12)),s=f(n(134)),d=(n(0),f(n(13)));function f(e){return e&&e.__esModule?e:{default:e}}var c=void 0,p=new o.Timeout,h=3e5;function y(){null!=c&&(i.default.sendBotMessage(c,d.default.Messages.BOT_CALL_IDLE_DISCONNECT),l.default.selectVoiceChannel(null,null))}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default)},t}(r.default.Store);t.default=new m(a.default,{CONNECTION_CLOSED:function(e){return c=null,void p.stop()},VOICE_STATE_UPDATE:function(e){if(null!=e.guildId)return!1;var t=s.default.getCurrentVoiceChannelId(null,u.default.getId());return null==t?(p.stop(),!1):(1===s.default.getVoiceStatesForChannel(null,t).length?(c=t,p.start(h,y,!1)):p.stop(),!1)}}),e.exports=t.default},8223:function(e,t,n){"use strict";t.__esModule=!0;var r=h(n(6)),o=h(n(4)),a=h(n(8)),i=h(n(23)),l=h(n(1)),u=n(6198),s=h(n(6199)),d=h(n(9)),f=h(n(12)),c=h(n(464)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y={},m="FriendSyncResultHashes";function v(){i.default.set(m,{userId:f.default.getId(),resultHashes:y})}function _(e){return e.type+":"+e.id}var E=new s.default(function(e){var t=c.default.getAccounts(),n=(0,r.default)(t).filter(function(e){return e.friendSync&&p.UNSAFE_PLATFORM_TYPES.has(e.type)&&p.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type}).uniq().value();(0,u.fetchAccounts)(n).then(function(t){var n=t.filter(function(e){if(y[_(e)]===e.resultHash)return!1;var t=c.default.getAccount(e.id,e.type);return null!=t&&t.friendSync});n.length>0&&a.default.post({url:p.Endpoints.FRIEND_SUGGESTIONS+"/sync",body:n.map(function(e){return{id:e.id,name:e.name,id_hash:e.idHash,platform_type:e.type,friend_id_hashes:e.friendIdHashes}})}).then(function(){n.forEach(function(e){y[_(e)]=e.resultHash}),v()}),e()})});function g(){var e;return d.default.embedded&&((e=i.default.get(m))&&(e.userId===f.default.getId()?y=e.resultHashes:i.default.remove(m)),E.start(36e5)),!1}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default,f.default)},t}(o.default.Store);t.default=new S(l.default,{CONNECTION_OPEN:function(e){return g()},CONNECTION_CLOSED:function(e){return E.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return function(){var e,t,n=!1,r=Object.keys(y),o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i,u=(t=(e=l).indexOf(":"),{type:e.substr(0,t),id:e.substr(t+1)}),s=u.type,f=u.id,p=c.default.getAccount(f,s);null!=p&&p.friendSync||(delete y[l],n=!0)}return n&&v(),d.default.embedded&&E.run(),!1}()},LOGOUT:function(e){return E.stop(),void i.default.remove(m)}}),e.exports=t.default},8224:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(4)),o=d(n(1)),a=d(n(160)),i=d(n(9)),l=d(n(28)),u=d(n(355)),s=d(n(184));n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=18e6,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default)},t}(r.default.Store);t.default=new h(o.default,{IDLE:function(e){var t=e.idleSince;if(i.default.embedded&&(clearTimeout(c),clearTimeout(p),null!=t&&!s.default.isDisabled())){var n=s.default.getChannelId();if(null!=n){p=setTimeout(function(){a.default.selectVoiceChannel(null,null)},f);var r=l.default.getGuild(s.default.getGuildId());null!=r&&null!=r.afkChannelId&&r.afkChannelId!==n&&null!=r.afkTimeout&&(c=setTimeout(function(){null!=(r=l.default.getGuild(s.default.getGuildId()))&&null!=r.afkChannelId&&a.default.selectVoiceChannel(r.id,r.afkChannelId)},t+1e3*r.afkTimeout-Date.now()))}}}}),e.exports=t.default},8225:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(6)),o=s(n(4)),a=s(n(1)),i=s(n(9)),l=s(n(43)),u=s(n(64));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={};function f(){i.default.embedded&&i.default.isWindows()&&i.default.ensureModule("discord_vigilante").then(function(){var e=i.default.requireModule("discord_vigilante"),t=u.default.getRunningGames(),n=r.default.map(t,function(e){return e.pid.toString()});d=r.default.pick(d,n);var o=(0,r.default)(t).reject(function(e){return e.pid in d}).map(function(e){return[e.pid,l.default.getGameByName(e.name)||l.default.getGameByName(e.processName)]}).filter(function(e){return null!=e[1]}).filter(function(t){var n=t[1];return e.hasSidekick(n.id)}).map(function(t){var n=t[0],r=t[1];return[n,e.spawnSidekick(n,r.id)]}).value();d=r.default.assign(d,r.default.fromPairs(o))})}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default)},t}(o.default.Store);t.default=new c(a.default,{RUNNING_GAMES_CHANGE:function(e){return f()},GAMES_DATABASE_UPDATE:function(e){return f()}}),e.exports=t.default},8226:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(6)),o=d(n(4)),a=d(n(1)),i=d(n(8227)),l=d(n(22)),u=d(n(72)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new i.default(u.default.isMember,function(e,t){a.default.dispatch({type:s.ActionTypes.GUILD_MEMBERS_REQUEST,guildIds:[e],userIds:t})});function c(){f.reset()}function p(e,t){return f.request(e,t),!1}function h(e,t){return t.forEach(function(t){var n=t.author,r=t.mentions;null!=n&&p(e,n.id),r.forEach(function(t){return p(e,t.id)})}),!1}function y(e){var t=e.channelId,n=e.messages,r=l.default.getChannel(t);return null!=r&&null!=r.guild_id&&h(r.guild_id,n)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default)},t}(o.default.Store);t.default=new m(a.default,{CONNECTION_CLOSED:function(e){return c()},CONNECTION_OPEN:function(e){return c()},CONNECTION_RESUMED:function(e){return f.requestUnacknowledged(),!1},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members,r=e.notFound;return n.forEach(function(e){f.acknowledge(t,e.user.id)}),null!=r&&r.forEach(function(e){return f.acknowledge(t,e)}),!1},SEARCH_FINISH:function(e){var t=e.searchId,n=e.messages;return h(t,r.default.flatten(n))},LOAD_MESSAGES_SUCCESS:y,LOAD_MESSAGES_AROUND_SUCCESS:y,LOAD_PINNED_MESSAGES_SUCCESS:y,LOAD_RECENT_MENTIONS_SUCCESS:y}),e.exports=t.default},8227:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(6),a=(r=o)&&r.__esModule?r:{default:r},i=n(81);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t,n){l(this,e),this._pendingRequests=new Set,this._sentRequests=new Set,this._unacknowledgedRequests=new Set,this._guildId=t,this._guildMemberExists=function(e){return n(t,e)}}return e.prototype.acknowledge=function(e){this._unacknowledgedRequests.delete(e),this._pendingRequests.delete(e)},e.prototype.flushRequests=function(e){var t=this;if(0!==this._pendingRequests.size){var n=[];this._pendingRequests.forEach(function(e){t._guildMemberExists(e)||(t._unacknowledgedRequests.add(e),t._sentRequests.add(e),n.push(e))}),n.length>0&&e(this._guildId,n),this._pendingRequests.clear()}},e.prototype.requestUnacknowledged=function(){var e=this;return 0!==this._unacknowledgedRequests.size&&(this._unacknowledgedRequests.forEach(function(t){e._guildMemberExists(t)?e._unacknowledgedRequests.delete(t):e._pendingRequests.add(t)}),0!==this._pendingRequests.size&&void 0)},e.prototype.request=function(e){if(this._guildMemberExists(e)||this._sentRequests.has(e)||this._pendingRequests.has(e))return!1;this._pendingRequests.add(e)},e}(),s=function(){function e(t,n){var r=this;l(this,e),this._guildStates={},this._flush=new i.DelayedCall(0,function(){return r.flushRequests()}),this._guildMemberExists=t,this._onChange=n}return e.prototype.reset=function(){this._guildStates={},this._flush.cancel()},e.prototype.request=function(e,t){!1!==this._getGuildState(e).request(t)&&this._flush.delay()},e.prototype.acknowledge=function(e,t){this._getGuildState(e).acknowledge(t)},e.prototype.flushRequests=function(){var e=this;a.default.forEach(this._guildStates,function(t){return t.flushRequests(e._onChange)})},e.prototype.requestUnacknowledged=function(){a.default.reduce(this._guildStates,function(e,t){return!1!==t.requestUnacknowledged()||t},!1)&&this._flush.delay()},e.prototype._getGuildState=function(e){var t=this._guildStates[e];return null==t&&(t=this._guildStates[e]=new u(e,this._guildMemberExists)),t},e}();t.default=s,e.exports=t.default},8228:function(e,t,n){"use strict";t.__esModule=!0;var r=v(n(4)),o=v(n(1)),a=n(8229),i=v(a),l=v(n(12)),u=v(n(6396)),s=v(n(72)),d=v(n(28)),f=v(n(184)),c=v(n(91)),p=v(n(51)),h=v(n(155)),y=v(n(237)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var _=void 0;function E(){S.forEach(function(e){e===h.default.getGuildId()||e===f.default.getGuildId()||null!=_&&_.guildId===e||S.clear(e)})}function g(e,t){S.subscribeTyping(e),S.subscribeActivities(e),null!=t&&u.default.getSection()===m.ChannelSections.MEMBERS&&S.subscribeChannel(e,t,a.DEFAULT_RANGES)}var S=new i.default(function(e,t){o.default.dispatch({type:m.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})});function T(e){e.type===m.ActionTypes.CONNECTION_OPEN&&E();var t=h.default.getGuildId();return null!=t&&g(t,p.default.getChannelId(t)),S.forEach(function(e){null==d.default.getGuild(e)?S.clear(e):o.default.dirtyDispatch({type:m.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:S.get(e)})}),!1}function I(){var e=y.default.getSyncingWith();if(null==e)null!=_&&(S.unsubscribeUser(_.guildId,_.userId),_=null);else{var t=e.userId;if(null!=_&&_.userId===t)return!1;if(c.default.isFriend(t))return!1;var n=s.default.memberOf(t);if(0===n.length)return!1;var r=n[0];_={guildId:r,userId:t},S.subscribeUser(r,t)}return!1}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(d.default,h.default,p.default,f.default,l.default,u.default),this.syncWith([y.default],I)},t}(r.default.Store);t.default=new C(o.default,{CONNECTION_OPEN:T,CONNECTION_RESUMED:T,CONNECTION_CLOSED:function(e){return E(),!1},IDLE:function(e){return e.idle&&E(),!1},LOGOUT:function(e){return S.reset(),!1},GUILD_SELECT:function(e){return g(e.guildId),!1},GUILD_DELETE:function(e){var t=e.guild;return S.clear(t.id),!1},GUILD_SUBSCRIPTIONS_MEMBERS_ADD:function(e){var t=e.guildId;return e.userIds.forEach(function(e){e!==l.default.getId()&&S.subscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE:function(e){var t=e.guildId;return e.userIds.forEach(function(e){S.unsubscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_CHANNEL:function(e){var t=e.guildId,n=e.channelId,r=e.ranges;return S.subscribeChannel(t,n,r),!1},CHANNEL_PRELOAD:function(e){return g(e.guildId,e.channelId),!1}}),e.exports=t.default},8229:function(e,t,n){"use strict";t.__esModule=!0,t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(6190);Object.defineProperty(t,"MINIMUM_RANGE",{enumerable:!0,get:function(){return o.MINIMUM_RANGE}}),Object.defineProperty(t,"DEFAULT_RANGES",{enumerable:!0,get:function(){return o.DEFAULT_RANGES}});var a=d(n(6)),i=n(81),l=d(o),u=d(n(8230)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return null!=e&&"null"!==e&&e!==s.ME&&"undefined"!==e}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._members=new u.default(function(e,t){return n._enqueue(e,{members:t})}),this._channels=new l.default(function(e,t){return n._enqueue(e,{channels:t})}),this._typing=new Set,this._activities=new Set,this._subscribed=new Set,this._pending=new Set,this._flush=new i.DelayedCall(0,function(){return n.flush()}),this._onChange=t}return e.prototype._enqueue=function(e,t){this._pending[e]=r({},this._pending[e],t),this._flush.delay()},e.prototype.reset=function(){this._subscribed.clear(),this._pending={},this._members.reset(),this._channels.reset(),this._typing.clear(),this._activities.clear()},e.prototype.get=function(e){return{typing:this._typing.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e)}},e.prototype.forEach=function(e){this._subscribed.forEach(e)},e.prototype.clear=function(e){this._subscribed.delete(e),delete this._pending[e],this._members.clear(e),this._channels.clear(e),this._typing.delete(e),this._activities.delete(e)},e.prototype.flush=function(){var e=this;a.default.forEach(this._pending,function(t,n){e._subscribed.add(n),e._onChange(n,t)}),this._pending={}},e.prototype.subscribeUser=function(e,t){f(e)&&this._members.subscribe(e,t)},e.prototype.unsubscribeUser=function(e,t){f(e)&&this._members.unsubscribe(e,t)},e.prototype.subscribeChannel=function(e,t,n){f(e)&&this._channels.subscribe(e,t,n)},e.prototype.subscribeTyping=function(e){f(e)&&(this._typing.has(e)||(this._typing.add(e),this._enqueue(e,{typing:!0})))},e.prototype.subscribeActivities=function(e){f(e)&&(this._activities.has(e)||(this._activities.add(e),this._enqueue(e,{activities:!0})))},e}();t.default=c},8230:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(6),a=(r=o)&&r.__esModule?r:{default:r},i=n(81);var l=6e4,u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptions={},this._unsubscriptions={},this._unsubscribe=new i.DelayedCall(l,function(){return n.flushUnsubscriptions()}),this._onChange=t}return e.prototype.reset=function(){this._subscriptions={},this._unsubscriptions={},this._unsubscribe.cancel()},e.prototype.get=function(e){var t=this._subscriptions[e]||{};return a.default.keys(t)},e.prototype.clear=function(e){delete this._subscriptions[e],delete this._unsubscriptions[e]},e.prototype.subscribe=function(e,t){var n=this._subscriptions[e]||{};n[t]=(n[t]||0)+1,this._subscriptions[e]=n,1===n[t]&&this._onChange(e,this.get(e)),this.checkForLeaks(e,t)},e.prototype.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]},e.prototype.unsubscribe=function(e,t){if(this.isSubscribed(e,t)){var n=this._unsubscriptions[e]||{};n[t]=(n[t]||0)+1,this._unsubscriptions[e]=n,1===n[t]&&this._unsubscribe.delay(!1)}},e.prototype.checkForLeaks=function(e,t){var n=(this._subscriptions[e]&&this._subscriptions[e][t]||0)-(this._unsubscriptions[e]&&this._unsubscriptions[e][t]||0);n>5&&console.warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+n+" subscriptions)")},e.prototype.flushUnsubscriptions=function(){var e=this;a.default.isEmpty(this._unsubscriptions)||(a.default.forEach(this._unsubscriptions,function(t,n){var r=e._subscriptions[n];a.default.forEach(t,function(e,t){r[t]=(r[t]||0)-e,r[t]<=0&&delete r[t]}),a.default.isEmpty(r)&&delete e._subscriptions[n],e._onChange(n,e.get(n))}),this._unsubscriptions={})},e}();t.default=u,e.exports=t.default},8231:function(e,t,n){"use strict";t.__esModule=!0;var r=y(n(4)),o=y(n(23)),a=n(81),i=y(n(1)),l=y(n(878)),u=n(113),s=y(n(43)),d=y(n(90)),f=y(n(64)),c=y(n(35)),p=y(n(230)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var m="ActivityTrackingStore",v=18e5,_=3e5,E=4004,g=o.default.get(m)||{},S={},T=!1;function I(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&C(e,!0);var t=S[e.applicationId];null!=t&&(t.stop(),delete S[e.applicationId]),delete g[e.applicationId],o.default.set(m,g)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>v+_&&(r=0),l.default.updateActivity(e.applicationId,e.isDiscordApplication?h.Distributors.DISCORD:e.distributor,(0,u.shouldShareApplicationActivity)(e.applicationId,c.default,d.default,p.default),e.token,Math.floor(r/1e3),t),e.updatedAt=n;var i=S[e.applicationId];null==i&&(i=S[e.applicationId]=new a.Interval).start(v,function(){return C(e)}),t||(g[e.applicationId]=e,o.default.set(m,g))}function N(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=f.default.getRunningGames(),n=new Set,r=t,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i,u=l.name,d=l.distributor,c=s.default.getGameByName(u);null!=c&&(n.add(c.id),c.id in g||C({applicationId:c.id,updatedAt:Date.now(),distributor:d}))}var p=Object.keys(g),h=Array.isArray(p),y=0;for(p=h?p:p[Symbol.iterator]();;){var m;if(h){if(y>=p.length)break;m=p[y++]}else{if((y=p.next()).done)break;m=y.value}var v=m;n.has(v)||I(g[v],e)}}function A(){var e=Object.keys(g),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}I(g[r])}T=!1}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(f.default,c.default,d.default,p.default),this.syncWith([c.default],N)},t.prototype.getActivities=function(){return g},t}(r.default.Store);t.default=new O(i.default,{RUNNING_GAMES_CHANGE:function(e){return N()},CONNECTION_OPEN:function(e){return function(){if(T)return!1;var e=Object.keys(g),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}C(g[r])}N(!1),T=!0}()},CONNECTION_CLOSED:function(e){e.code===E&&A()},LOGOUT:function(e){return A()},ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,r=g[t];if(null==r)return!1;r.token=n,o.default.set(m,g)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=g[t];if(null==n)return!1;n.token=null,n.updatedAt=null,o.default.set(m,g)}}),e.exports=t.default},8232:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(4)),o=l(n(1)),a=l(n(480)),i=l(n(43));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=64,s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Store);t.default=new s(o.default,{USER_ACHIEVEMENT_UPDATE:function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete){var o=i.default.getGame(n),l=null!=o?o.getIconURL(u):null;a.default.showNotification(l,r.name,r.description)}}}),e.exports=t.default},856:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=s(n(17)),u=s(n(886));function s(e){return e&&e.__esModule?e:{default:e}}var d=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"});var f=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,s=void 0===r?24:r,f=e.color,c=void 0===f?"currentColor":f,p=e.direction,h=e.foreground,y=e.className,m=e.title,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["width","height","color","direction","foreground","className","title"]);return i.createElement("svg",o({},v,{width:n,height:s,className:(0,l.default)(y,function(e){switch(e){case d.LEFT:return u.default.left;case d.RIGHT:return u.default.right;case d.UP:return null;case d.DOWN:return u.default.down;default:throw new Error("Invalid Direction "+e)}}(p)),viewBox:"0 0 24 24"}),null!=m?a("title",{},void 0,m):null,a("polygon",{className:h,fill:c,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"}))};f.displayName="Arrow",f.Directions=d,t.default=f,e.exports=t.default},874:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),l(n(17))),i=l(n(930));function l(e){return e&&e.__esModule?e:{default:e}}var u={UP:i.default.directionUp,RIGHT:i.default.directionRight,DOWN:i.default.directionDown,LEFT:i.default.directionLeft},s=function(e){var t=e.direction,n=void 0===t?u.DOWN:t,r=e.width,l=void 0===r?24:r,s=e.height,d=void 0===s?24:s,f=e.color,c=void 0===f?"currentColor":f,p=e.transition,h=void 0===p?i.default.transition:p,y=e.className,m=e.foreground,v=e.expanded,_=n;return!0===v?_=u.DOWN:!1===v&&(_=u.RIGHT),o("svg",{className:(0,a.default)(y,h,_),width:l,height:d,viewBox:"0 0 24 24"},void 0,o("path",{className:m,fill:"none",stroke:c,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M7 10L12 15 17 10"}))};s.displayName="Caret",s.Directions=u,t.default=s,e.exports=t.default},887:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(856),l=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return a.createElement(l.default,o({},e,{direction:l.default.Directions.UP}))},e.exports=t.default},910:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),n(931)),l=(o=i)&&o.__esModule?o:{default:o};var u=a("path",{d:"M13.62,5.22666667 C13.8666667,5.88 14,6.59333333 14,7.33333333 L14,12.6666667 C14,13.7712362 12.6666667,14 12.6666667,14 L10,14 L10,8.84666667 L6,12.8466667 L6,14 L4.84666667,14 L3.18,15.6666667 L2.33333333,14.8133333 L14.1466667,3 L15,3.84666667 L13.62,5.22666667 Z M8,1.33333333 C9.68666667,1.33333333 11.2133333,2.02666667 12.3,3.14666667 L11.36,4.09333333 C10.5133333,3.21333333 9.33333333,2.66666667 8,2.66666667 C5.42267117,2.66666667 3.33333333,4.7560045 3.33333333,7.33333333 L3.33333333,8.66666667 L6,8.66666667 L6,9.45333333 L2.33333333,13.1133333 C2.12666667,12.7933333 2,12.4133333 2,12 L2,7.33333333 C2,4.01962483 4.6862915,1.33333333 8,1.33333333 L8,1.33333333 Z M12.6666667,8.66666667 L12.6666667,7.33333333 C12.6666667,6.97333333 12.6266667,6.62666667 12.5533333,6.29333333 L10.18,8.66666667 L12.6666667,8.66666667 Z",transform:"translate(16 0) scale(-1 1)"});t.default=function(){return a("svg",{className:l.default.icon,width:"16",height:"16",viewBox:"0 0 16 16"},void 0,u)},e.exports=t.default},911:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(2)),n(932)),l=(o=i)&&o.__esModule?o:{default:o};var u=a("path",{fill:"#FFFFFF",d:"M10.6666667,6 C10.6666667,6.79333333 10.44,7.53333333 10.0666667,8.18666667 L9.24666667,7.36666667 C9.42666667,6.95333333 9.53333333,6.49333333 9.53333333,6 L10.6666667,6 L10.6666667,6 Z M8,6.10666667 L4,2.12 L4,2 C4,0.8954305 4.8954305,2.96059473e-16 6,0 C7.1045695,0 8,0.8954305 8,2 L8,6 L8,6.10666667 L8,6.10666667 Z M0.846666667,0.666666667 L12,11.82 L11.1533333,12.6666667 L8.36,9.87333333 C7.84666667,10.18 7.27333333,10.3866667 6.66666667,10.48 L6.66666667,12.6666667 L5.33333333,12.6666667 L5.33333333,10.48 C3.14666667,10.1533333 1.33333333,8.27333333 1.33333333,6 L2.46666667,6 C2.46666667,8 4.16,9.4 6,9.4 C6.54,9.4 7.06666667,9.27333333 7.54,9.05333333 L6.43333333,7.94666667 L6,8 C4.8954305,8 4,7.1045695 4,6 L4,5.52 L0,1.51333333 L0.846666667,0.666666667 Z",transform:"translate(2 1.5)"});t.default=function(){return a("svg",{className:l.default.icon,width:"16",height:"16",viewBox:"0 0 16 16"},void 0,u)},e.exports=t.default}}]);
//# sourceMappingURL=8ea9b421ac2f50a4bff3.js.map