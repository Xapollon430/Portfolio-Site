(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{5429:function(t,e,o){"use strict";e.__esModule=!0;var n,r=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(t,e,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={}),e&&i)for(var s in i)void 0===e[s]&&(e[s]=i[s]);else e||(e=i||{});if(1===a)e.children=r;else if(a>1){for(var p=Array(a),l=0;l<a;l++)p[l]=arguments[l+3];e.children=p}return{$$typeof:n,type:t,key:void 0===o?null:""+o,ref:null,props:e,_owner:null}}),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}(o(2)),s=x(o(17)),p=x(o(99)),l=x(o(310)),f=x(o(4)),u=x(o(833)),c=x(o(830)),d=x(o(891)),h=x(o(852)),m=x(o(847)),y=x(o(481)),g=o(109),v=o(0),b=x(o(5417));function x(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E=10,C=14,S={left:b.default.popoutLeft,right:b.default.popoutRight,bottom:b.default.popoutBottom,"bottom-right":b.default.popoutBottomRight,"bottom-left":b.default.popoutBottomLeft,"top-left":b.default.popoutTopLeft,"top-right":b.default.popoutTopRight,top:b.default.popoutTop},P=Object.freeze({TOP:"top",MIDDLE:"middle"}),W={top:b.default.arrowAlignmentTop,middle:b.default.arrowAlignmentMiddle};function H(t){switch(t){case"left":return{x:-1,y:0};case"right":return{x:0,y:0};case"bottom":return{x:-.5,y:0};case"bottom-right":return{x:-1,y:0};case"bottom-left":return{x:0,y:0};case"top-left":return{x:0,y:-1};case"top-right":return{x:-1,y:-1};case"top":default:return{x:-.5,y:-1}}}var Y=function(){function t(){k(this,t),this.animated=new l.default.ValueXY({x:0,y:0})}return t.prototype.run=function(t,e,o){var n=e.position;this.animated.setValue(H(n)),o()},t.prototype.getStyle=function(){return l.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},t}(),L=function(){function t(){k(this,t),this.animated=new l.default.ValueXY({x:0,y:0})}return t.prototype.computeStyles=function(t){var e=void 0,o=void 0;switch(t){case"left":e={x:-1.05,y:0},o={x:-1,y:0};break;case"right":e={x:.05,y:0},o={x:0,y:0};break;case"bottom":e={x:-.5,y:.05},o={x:-.5,y:0};break;case"bottom-left":e={x:0,y:.05},o={x:0,y:0};break;case"bottom-right":e={x:0,y:.05},o={x:-1,y:0};break;case"top-left":e={x:0,y:-1.05},o={x:0,y:-1};break;case"top-right":e={x:0,y:-1.05},o={x:-1,y:-1};break;case"top":default:e={x:-.5,y:-1.05},o={x:-.5,y:-1}}return{startStyle:e,endStyle:o}},t.prototype.run=function(t,e,o){var n=e.position,r=this.computeStyles(n),i=r.startStyle,a=r.endStyle,s=t.getBoundingClientRect(),p=s.left,f=s.right,u=s.width;p-=E,f+=E;var c=u*a.x;if(f+=c,(p+=c)<0){var d=p/u;a.x+=d,i.x+=d}else if(f>window.innerWidth){var h=(f-window.innerWidth)/u;a.x-=h,i.x-=h}this.animated.setValue(i),l.default.timing(this.animated,{toValue:a,duration:150,easing:l.default.Easing.inOut(l.default.Easing.cubic)}).start(o)},t.prototype.getStyle=function(){return l.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},t}(),X=function(){function t(){k(this,t),this.animated=new l.default.Value(0)}return t.prototype.run=function(t,e,o){this.animated.setValue(0),l.default.spring(this.animated,{toValue:1,tension:80,friction:8,overshootClamping:!0}).start(o)},t.prototype.interpolate=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return this.animated.interpolate({inputRange:[0,1],outputRange:e})},t.prototype.getStyle=function(t){var e=t.position,o=t.height,n=t.width,r=t.x,a=t.offsetX,s=t.clickPos,p=H(e),f=void 0;return o>0&&(f={height:this.interpolate(0,o),width:this.interpolate(0,n),left:this.interpolate(r+s,r+a)}),l.default.accelerate(i({},f,{overflow:"hidden",transform:[{translateY:100*p.y+"%"},{translateX:100*p.x+"%"}]}))},t}(),M=function(t){function e(o){k(this,e);var n=w(this,t.call(this,o));n.preventNextClose=!1,n.componentWillEnterCallback=function(){},n.close=function(t){if(n.preventNextClose&&d.default.isOpen())n.preventNextClose=!1;else{var e=n.props,o=e.popoutKey,r=e.preventCloseFromModal,i=e.preventClickPropagation,a=e.onClose;if(!r||!h.default.hasModalOpen()){if(null!=t){for(var s=t.target,l=p.default.findDOMNode(n);s instanceof Element;){if(s===l)return;if(null!=s.classList&&s.classList.contains("popout-open"))return;s=s.parentNode}i&&(t.preventDefault(),t.stopPropagation())}a&&a(),c.default.close(o)}}},n.closeContext=function(t){if(null!=t)for(var e=t.target;e instanceof HTMLElement;){if(e===p.default.findDOMNode(n))return void(n.preventNextClose=!0);e=e instanceof HTMLElement?e.parentNode:null}n.preventNextClose&&d.default.isOpen()?n.preventNextClose=!1:c.default.close(n.props.popoutKey)},n.updateOffsets=function(){var t=n.props,e=t.position,o=t.preventInvert,r=t.arrowAlignment,i=p.default.findDOMNode(n);if(!(i instanceof HTMLElement))throw new Error("domNode is not instance of HTMLElement");var a=i.offsetWidth,s=i.offsetHeight,l=!1;o||(l="top"===e||"top-right"===e||"top-left"===e?n.props.y<.5*window.innerHeight&&n.props.y-i.offsetHeight<0:n.props.y+n.props.targetHeight+C+s>=window.innerHeight)&&("bottom"===e?e="top":"bottom-left"===e?e="top-left":"bottom-right"===e?e="top-right":"top-right"===e?e="bottom-right":"top-left"===e?e="bottom-left":"top"===e&&(e="bottom"));var f={invert:l,position:e,height:s,width:a,offsetX:0,offsetY:0},u=r===P.MIDDLE?2:.5;switch(e){case"left":f.offsetX=0,f.offsetY=n.props.targetHeight*u;break;case"right":f.offsetX=n.props.targetWidth,f.offsetY=n.props.targetHeight*u;break;case"bottom":f.offsetX=n.props.targetWidth/2,f.offsetY=n.props.targetHeight;break;case"bottom-left":f.offsetX=0,f.offsetY=n.props.targetHeight;break;case"bottom-right":f.offsetX=n.props.targetWidth,f.offsetY=n.props.targetHeight;break;case"top-left":f.offsetX=0,f.offsetY=0;break;case"top-right":f.offsetX=n.props.targetWidth,f.offsetY=0;break;case"top":default:f.offsetX=n.props.targetWidth/2,f.offsetY=0}!l||"right"!==e&&"left"!==e||(n.props.closeOnScroll?f.offsetY-=s-n.props.targetHeight:f.offsetY-=n.props.y+s-window.innerHeight+E),n.setState(f,n._componentWillEnter)};var r=void 0;switch(n.props.animationType){case"default":r=new L;break;case"spring":r=new X;break;case"none":default:r=new Y}return n.state={width:0,height:0,offsetX:null,offsetY:null,animation:r,position:"",invert:!1},n}return O(e,t),e.prototype.componentDidMount=function(){g.ComponentDispatch.subscribe(v.ComponentActions.POPOUT_CLOSE,this.close),document.addEventListener("click",this.close,!0),document.addEventListener("contextmenu",this.closeContext,!0),this.updateOffsets()},e.prototype.componentWillEnter=function(t){this.componentWillEnterCallback=t},e.prototype._componentWillEnter=function(){if(this.componentWillEnterCallback){var t=this.componentWillEnterCallback;delete this.componentWillEnterCallback;var e=p.default.findDOMNode(this);if(!(e instanceof HTMLElement))throw new Error("node is not an instance of HTMLElement");this.state.animation.run(e,{position:this.state.position,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,targetWidth:this.props.targetWidth,targetHeight:this.props.targetHeight,offsetX:this.state.offsetX,offsetY:this.state.offsetY},t)}},e.prototype.componentWillLeave=function(t){t()},e.prototype.componentDidUpdate=function(t){var e=t.text,o=t.position,n=t.x,r=t.y,i=t.targetWidth,a=t.targetHeight,s=t.closeOnScroll;this.props.text===e&&this.props.position===o&&this.props.x===n&&this.props.y===r&&this.props.targetWidth===i&&this.props.targetHeight===a&&this.props.closeOnScroll===s||this.updateOffsets()},e.prototype.UNSAFE_componentWillUpdate=function(t){t.needsRerender&&c.default.didRerender(this.props.popoutKey)},e.prototype.componentWillUnmount=function(){g.ComponentDispatch.unsubscribe(v.ComponentActions.POPOUT_CLOSE,this.close),document.removeEventListener("click",this.close,!0),document.removeEventListener("contextmenu",this.closeContext,!0)},e.prototype.render=function(){var t,e=this.state,o=e.offsetX,n=e.offsetY,a=e.invert,p=e.position,f=e.animation,u=this.props,c=u.zIndexBoost,d=u.closeOnScroll,h=u.x,m=u.y,y=u.popoutKey,g=u.animationType,v=u.clickPos,x=u.render,w=u.containerClass,O=u.arrowAlignment,k=u.showArrow,E=u.forceTheme,C=i({},{left:null===o?null:h+o,top:null==n?null:m+n,zIndex:null!=c?1001+c:null},f.getStyle({position:p,width:this.state.width,height:this.state.height,x:h,y:m,offsetX:o,offsetY:n,clickPos:v}));C.visibility||(C.visibility=null==C.transform?"hidden":"visible");var P=((t={})[b.default.popoutInvert]=a&&d,t[b.default.noArrow]=!k,t[b.default.noShadow]=!this.props.shadow||"none"===g,t);return w&&(P[w]=!0),r(l.default.div,{role:"dialog",className:(0,s.default)(P,b.default.popout,S[p],W[O],"popout"+p,"theme-"+E),style:C},void 0,x({popoutKey:y,onClose:this.close,inverted:a,position:p}))},e}(a.PureComponent);M.defaultProps={animationType:"default",closeOnScroll:!0,preventInvert:!1,preventCloseFromModal:!1,preventClickPropagation:!1,shadow:!0,text:"",offsetX:0,offsetY:0},M.displayName="Popout";var T=function(t){function e(){return k(this,e),w(this,t.apply(this,arguments))}return O(e,t),e.prototype.render=function(){var t=this.props,e=t.theme,o=t.className,n=t.popouts,p=n.some(function(t){return t.backdrop}),l=(n.find(function(t){return null!=t.zIndexBoost&&t.zIndexBoost>0})||{}).zIndexBoost,f=p?r(y.default,{backdropStyle:y.default.Styles.SUBTLE,zIndexBoost:null!=l?l:0}):null;return r(u.default,{className:(0,s.default)("theme-"+e,b.default.popouts,o),component:"div"},void 0,f,n.map(function(t){var e=t.key,o=function(t,e){var o={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}(t,["key"]);return a.createElement(M,i({popoutKey:String(e)},o,{key:e+"-popout"}))}))},e}(a.PureComponent);T.displayName="Popouts",e.default=f.default.connectStores([m.default],function(){return{popouts:m.default.getPopouts()}})(T),t.exports=e.default}}]);
//# sourceMappingURL=7b923ab074d1bebc5f70.js.map